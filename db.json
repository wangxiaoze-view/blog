{"meta":{"version":1,"warehouse":"5.0.1"},"models":{"Asset":[{"_id":"themes/butterfly/source/css/index.styl","path":"css/index.styl","modified":1,"renderable":1},{"_id":"themes/butterfly/source/css/var.styl","path":"css/var.styl","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/404.jpg","path":"img/404.jpg","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/butterfly-icon.png","path":"img/butterfly-icon.png","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/error-page.png","path":"img/error-page.png","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/favicon.ico","path":"img/favicon.ico","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/friend_404.gif","path":"img/friend_404.gif","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/tw_cn.js","path":"js/tw_cn.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/search/algolia.js","path":"js/search/algolia.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/search/local-search.js","path":"js/search/local-search.js","modified":1,"renderable":1}],"Cache":[{"_id":"source/categories/index.md","hash":"cbf3a76d4c550b41e2fe77a5883cd4c3421822d0","modified":1741768443295},{"_id":"source/tags/index.md","hash":"ee7896f4fcc35f414ba0c289ae1181b9ca53bd01","modified":1741768440294},{"_id":"source/_posts/å…³äº/å…³äºåšä¸».md","hash":"01955e48c6e5507031e2a12f2ed559bdb17b7f7a","modified":1741776636031},{"_id":"source/_posts/å…³äº/ç‰ˆæœ¬å‡çº§.md","hash":"d8af04604d39414a709e4c72f35ced113ff2ffb8","modified":1741921141329},{"_id":"source/_posts/æˆ‘çš„é¡¹ç›®/index.md","hash":"f222fb40842fe963449c7a7b92689d6fc619e465","modified":1741849219506},{"_id":"source/_posts/æ€»ç»“/ä¸ªäººæ€»ç»“/2019.06 - 2022-07.md","hash":"ba1afbb5c3d71277f36655037cf608b420dd9162","modified":1741860976905},{"_id":"source/_posts/æ€»ç»“/ä¸ªäººæ€»ç»“/2022-08 - 2024-07.md","hash":"c7a36daad9e1e45bb75aa8a85c09b62e210ecfb4","modified":1741773096323},{"_id":"source/_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/nvm1.1.12ç‰ˆæœ¬çš„ä¸€ä¸ªé—®é¢˜.md","hash":"c83af3e7586e5a9bbcb10564cf33165022065003","modified":1741860977039},{"_id":"source/_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/github-pacakges.md","hash":"0fe9a46e5959dffada0d1310cd97d0b64d7b1a45","modified":1741860977134},{"_id":"source/_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/nvmæ›¿æ¢ä¸ºfnm.md","hash":"2b1c6a12c05f6904cb5013d4786ef96b06112c24","modified":1741773170225},{"_id":"source/_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/rust-envæ²¡æœ‰ç»§æ‰¿é—®é¢˜.md","hash":"0c27c81717cbd5e6ccc51f8893a7a00e2d769607","modified":1741773261641},{"_id":"source/_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/å¼€å‘è¿œç¨‹ç»„ä»¶çš„ä»‹ç».md","hash":"3c97a1df8e5f0e09e5a7c940190d6a945b5ac459","modified":1741773117160},{"_id":"source/_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/å¼€å‘è¿œç¨‹ç»„ä»¶çš„å®è·µ.md","hash":"17b7ef82bb5b3d6c712713f2053e7eeafc08ba1e","modified":1741860977829},{"_id":"source/_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/æµ…è°ˆè·¨ç«¯æŠ€æœ¯çš„å±€é™æ€§.md","hash":"4ae8b69a8f64b107a5617a87feb62cbfb798fb7f","modified":1741773214461},{"_id":"source/_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/ç½‘ç«™æ›´æ–°ä¸€.md","hash":"39f132ad8707e9f78ef132a54659caf573ebbaba","modified":1741860977510},{"_id":"source/_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/ç½‘ç«™æ›´æ–°äºŒ.md","hash":"c30022fa7bcdd5d18d7b32189fa29d23c434e2c1","modified":1741773341246},{"_id":"source/_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/è®°å½•ä½¿ç”¨1Panelé‡åˆ°çš„é—®é¢˜.md","hash":"cd256fd168c88e8591de231ec23fecaae76d9076","modified":1741860977338},{"_id":"source/_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/è·¨ç«¯ä¹‹å¤šç«¯ç³»ç»Ÿ.md","hash":"85dab3d39713b6da8ff056c78bffed16fcab4675","modified":1741860977268},{"_id":"source/_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/GridViewå®«æ ¼åŠ è½½æ¸²æŸ“ä¼˜åŒ–.md","hash":"c1c2924a16bc176a6b7120e8db07fc7bb1279fb0","modified":1741860977751},{"_id":"source/_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/ä¸­è‹±æ–‡æœç´¢æŒ‰é”®å›è½¦äº‹ä»¶å†²çª.md","hash":"4102434f4ed165ff9d446d202f48ecd6c043fa04","modified":1741860976551},{"_id":"source/_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/å›¾ç‰‡ä¸Šä¼ ä¹‹å‰çš„è‡ªå®šä¹‰æ°´å°.md","hash":"65f434c8cd40a2c2eddb9c12bc2d820660b08f28","modified":1741860976832},{"_id":"source/_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/æ”¯ä»˜ä¸­è½¬é¡µé¢.md","hash":"13f70d0bc1a9f4e4677df094316d3ca60edab851","modified":1741860976625},{"_id":"source/_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/ç§»åŠ¨ç«¯è¿”å›è§¦å‘ä¿©æ¬¡.md","hash":"82d4edfe44fe1051e8412e805619445101eb17c4","modified":1741860976765},{"_id":"source/_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/ç³»ç»Ÿä¸‹å•(é‡å¤å•æç¤ºæ¡†)çš„å¼‚å¸¸.md","hash":"97afcde98b1e1e9869df33254a0139838d1d0e79","modified":1741860976695},{"_id":"source/_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/è€ç³»ç»Ÿå‡çº§é—®é¢˜.md","hash":"b34f754067ae05cbd16d6d8ae187a49326cb7306","modified":1741773421736},{"_id":"source/_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/é€‰é¡¹å¡loading.md","hash":"0b060ddcab55fece12f00ea3ea24206b2a406b5b","modified":1741860977202},{"_id":"source/_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/é”®ç›˜å¼¹èµ·åº•éƒ¨è¢«é¡¶èµ·é—®é¢˜.md","hash":"a2de9043e549deb7054845599116be57f011d524","modified":1741773400656},{"_id":"source/_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/é˜²ç¯¡æ”¹æ°´å°.md","hash":"f59495675bd984c1fb102733ef7029dd732a9837","modified":1741860976975},{"_id":"source/_posts/æˆ‘çš„é¡¹ç›®/ä¸€é”®ä»£ç æ‹‰å–é¡¹ç›®æ¨¡æ¿/å¦‚ä½•ä½¿ç”¨.md","hash":"cc383501e9719f05120c7faf13a2867044c7b683","modified":1741860976502},{"_id":"source/_posts/æˆ‘çš„é¡¹ç›®/æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶/v1.md","hash":"c073567e10d347d16161685b49c9e3d72662442d","modified":1741774629867},{"_id":"source/_posts/æˆ‘çš„é¡¹ç›®/æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶/v2.md","hash":"0b13aff7aac724f1fae94ab9f4a23c994a2d2cb6","modified":1741774631696},{"_id":"source/_posts/æˆ‘çš„é¡¹ç›®/æ¡Œé¢ç«¯å¼€å‘å·¥å…·/å¸¸è§é—®é¢˜.md","hash":"22e63607aa6df9bc5ea5828b3715eb4b1a491e2a","modified":1741860976180},{"_id":"source/_posts/æˆ‘çš„é¡¹ç›®/æ¡Œé¢ç«¯å¼€å‘å·¥å…·/ç¯å¢ƒé…ç½®.md","hash":"81a589d49e18720e9df40eb7e34dc2963862a6d4","modified":1741860976325},{"_id":"source/_posts/æˆ‘çš„é¡¹ç›®/æ¡Œé¢ç«¯å¼€å‘å·¥å…·/é¡¹ç›®ä»‹ç».md","hash":"31e8d66472a0ef722386158ea0b74a21fe5eb77e","modified":1741860976395},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/html/index.md","hash":"a6adb5bd7a788c6c021fa0d54f3be1bf51961b80","modified":1741770528737},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/Nest/jwtæˆæƒ.md","hash":"b427ffece0ce9f17e9735b21e86a2b776dbd60d8","modified":1741772696211},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/Nest/ä¸­é—´ä»¶.md","hash":"e72a226749edddeed484a3a9b03179a7ea177d6c","modified":1741772693011},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/Nest/å…¥æ‰‹Demo.md","hash":"123b99c6a73cb493de3c232766acf0243419b52f","modified":1741849131114},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/Nest/å…¶ä»–é…ç½®.md","hash":"d4c82f3569080455f9400edb104d627b77b6750e","modified":1741772677826},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/Nest/åˆè¯†.md","hash":"af52285b829a7cf7a9f42c069e91c31bca6a8ddd","modified":1741772665558},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/Nest/åŠ è½½ç¯å¢ƒæ–‡ä»¶.md","hash":"b69d3f0b4bb5d82f8f0da55c0503555c1d4e2af3","modified":1741772668274},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/Nest/å¼‚å¸¸è¿‡æ»¤å™¨.md","hash":"10c5f6f988710a346d68127cefc9f21d455e88ac","modified":1741772687937},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/Nest/æ‹¦æˆªå™¨.md","hash":"c1db4eaac8c91f19f4ff5b36d90089d9c22f1bd7","modified":1741772670928},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/Nest/æ•°æ®åº“çš„é…ç½®.md","hash":"8732569c97a3a29d8685eb3d3d0a3f96051f2a6b","modified":1741772685738},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/Nest/è¯·æ±‚æ‹¦æˆªå™¨.md","hash":"50fbfbfd23a5d1e1911500467ab57efc542fdf6d","modified":1741772584403},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/Nest/è·¯ç”±å®ˆå«.md","hash":"bfa307412ada8dda333af927e13825efe72398fe","modified":1741772673509},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/vue/createdå’Œmountedçš„åŒºåˆ«.md","hash":"7af26360de0ef3870411dc047f6bce07b98ac6a8","modified":1741771648357},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/vue/v-forå’Œv-ifä¸èƒ½åŒæ—¶ä½¿ç”¨.md","hash":"f65c6c3a5ee57f945f7cf5dde13a7ad34a4c1a4b","modified":1741771666996},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/vue/v-ifå’Œv-showçš„åŒºåˆ«.md","hash":"0717ed6813bdce3711677671d131a6c71a1be5ed","modified":1741771687525},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/å¤‡å¿˜å½•/docker.md","hash":"5ebca2bbbd39c32ea35c08eee5c68f89a53ba002","modified":1741773611175},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/vue/watch,watchEffectå’Œcomputed.md","hash":"ea07742f2baeec7c0f072bc5b3ed63205d437a45","modified":1741771752969},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/vue/æ¸è¿›å¼æ¡†æ¶çš„ç†è§£.md","hash":"ac0000f7e959b60f64931de01299bd23224810e7","modified":1741771629780},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/å¤‡å¿˜å½•/brew.md","hash":"cdddae29479adaec02dc550154b94fde7a378233","modified":1741773596062},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/æœåŠ¡å™¨-è¿è¥/1panelé¢æ¿.md","hash":"2fe801406731b9a2cfadec4a4f24e0e37d03969e","modified":1741860978140},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/å¤‡å¿˜å½•/git.md","hash":"91e1e6d5b7de0d7f1675aa9b08e973fb26afc8e3","modified":1741860978072},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/æœåŠ¡å™¨-è¿è¥/pm2.md","hash":"223ecfcdba67c2d99631fa84571a99b33d70c9b6","modified":1741860977978},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/æœåŠ¡å™¨-è¿è¥/å®å¡”é¢æ¿.md","hash":"95f9745f52a0908604767a2ec20c74daf0266dc7","modified":1741860977906},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/æœåŠ¡å™¨-è¿è¥/ç§åº“.md","hash":"d2e46134ed66547fa31ec8396eea763a2d4135fb","modified":1741860978300},{"_id":"source/_posts/ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/â€œèˆï¼Œå¾—ï¼Œæ”¾â€ ä¸‹ä¹‹ â€œæ”¾â€.md","hash":"5612388f4114ad4efd25f7cf28a35a3716bb8cae","modified":1741773946799},{"_id":"source/_posts/ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/â€œèˆï¼Œå¾—ï¼Œæ”¾â€ ä¸‹ä¹‹ â€œèˆï¼Œå¾—â€.md","hash":"fe0528eaf3795c04fdc78429e0b1863f631977ec","modified":1741773951567},{"_id":"source/_posts/ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/æˆ‘çš„æ‹¿æ‰‹å¥½èœ-çº¢çƒ§ç‰›è‚‰é¢.md","hash":"5621744d6cc1a4bb1a2c003a93073d238bc45ea3","modified":1741860976551},{"_id":"source/_posts/ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/æ²‰æµ¸ä¹‹åçš„æ€»ç»“ï¼ˆä¸€ï¼‰.md","hash":"f443e385a341f53d38e850cab6931f2180db2df9","modified":1741860975421},{"_id":"source/_posts/ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/æ‹æ‘„ä¸‰è¦ç´ .md","hash":"1b01dc9a4fd75f19045aef13f7c5a70c2a352b27","modified":1741860975421},{"_id":"source/_posts/ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/äº”å¹´æ—¶é—´çš„èœ•å˜, ä»–å›æ¥äº†!.md","hash":"35dcbf2c53ef29ce06f8de28bf30388573e99a99","modified":1741774006480},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/asyncå’Œdefer.md","hash":"93108a97155266cf17cf3e9f0a2f4732636fac6e","modified":1741860979058},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/csså•ä½å¯¹æ¯”.md","hash":"d6d957cdc2364685d6e406815a54b1bcd60ce515","modified":1741771195274},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/å˜é‡æå‡.md","hash":"d97c2228a7af69ef295286ad4aced9fce7109991","modified":1741860978989},{"_id":"source/_posts/ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/æ²‰æµ¸ä¹‹åçš„æ€»ç»“ï¼ˆäºŒï¼‰.md","hash":"738d6d14f4e92a3925318252bbeae67be4831826","modified":1741773938075},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/javascript/ç®—æ³•/å†’æ³¡æ’åº.md","hash":"3f9390c319096102a5b7ccef9d8f069e12d7b05e","modified":1741771460284},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/call_apply_bind.md","hash":"b6c2925bc2d8b1d141103a177acf60f54c69adc2","modified":1741771125173},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/æ•°æ®ç±»å‹.md","hash":"4613ea19f14ce4a80b258a3b1d584e81678141d9","modified":1741860978527},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/javascript/ç®—æ³•/æ’å…¥æ’åº.md","hash":"1bdd51bd5d600459da6d3d96bfcfd3d28c4ef3a4","modified":1741771423181},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/çº¿ç¨‹å¼•å‘çš„æ€è€ƒ.md","hash":"83e1a1136ac28d37ee0f9e1806ad6143d8effb73","modified":1741860978908},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/javascript/ç®—æ³•/é€‰æ‹©æ’åº.md","hash":"bf8c2f9492cb3df3b4b56b3fdb6b44a6e8ec04d4","modified":1741771479763},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/javascript/è®¾è®¡æ¨¡å¼/ä»£ç†æ¨¡å¼.md","hash":"a9d01122794bddf6b1ee4da930cb91b6bbaead59","modified":1741771264397},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/javascript/ç®—æ³•/å¿«é€Ÿæ’åº.md","hash":"6223a87af5244567ffed35c100dee2bca1e62659","modified":1741771442414},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/javascript/è®¾è®¡æ¨¡å¼/å‘å¸ƒè®¢é˜….md","hash":"276cda82b3749b79ac17f91df395604eec5d5114","modified":1741860978827},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/javascript/è®¾è®¡æ¨¡å¼/å•ä¾‹æ¨¡å¼.md","hash":"0984f761e6a53cb53e22670fc7fcc7f5b519235f","modified":1741771283566},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/javascript/è®¾è®¡æ¨¡å¼/è§‚å¯Ÿè€…æ¨¡å¼.md","hash":"3bc6740b77da2843b7184078828604ac1a36faba","modified":1741860978381},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/javascript/è®¾è®¡æ¨¡å¼/è®¢é˜…å‘å¸ƒä¸è§‚å¯Ÿè€…åŒºåˆ«.md","hash":"c43192ae92d438febcd0e91b9e368943f3fe4265","modified":1741771312440},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/browserslistrc.md","hash":"23742f66589f4ff55a488040e457d0d90780c68b","modified":1741772274978},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/changelog.md","hash":"9b43e6f59f136a98c99326d7cf6a8a1e9ac71759","modified":1741860979266},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/editorConfig.md","hash":"9a88f37a749b20b28f72d69dfd494f15063cf79c","modified":1741772300979},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/gité…ç½®.md","hash":"d72ceea3521b020c1edf69cd833a2cf696cff09b","modified":1741772292692},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/envé…ç½®.md","hash":"45c70eed43d6b5cdd072b91cf11a6c119c3a71af","modified":1741772297752},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/commitizen.md","hash":"00542ea22cfd8546e8e69ed09ba4021b3f6542e8","modified":1741772303317},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/eslint.md","hash":"c9c96408867346d02c97e6638f66f4ce6093ace3","modified":1741772295172},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/webpackå’Œviteçš„åŒºåˆ«.md","hash":"a02346e3e7f694027e7db8bce8ea8f46846601da","modified":1741772278608},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/husky.md","hash":"d6e2832661fb982e47212b23b7be7d82b0f1a922","modified":1741772290245},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/prettier.md","hash":"0cfdcf049fc382d0be335c0426b2c9de2f4a9d6f","modified":1741772287548},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/stylelint.md","hash":"939fbccf7de305d2d864f8e53b366de2a10f3170","modified":1741772281489},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/release-it.md","hash":"0b0f0f7c029212278f86018c6c4d44f5008511e7","modified":1741772284454},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/å…¶ä»–é…ç½®æ–‡ä»¶.md","hash":"8ec8a8de7eeec29b9ac1fc9b0d658b3be141b771","modified":1741772270471},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/é¡¹ç›®ä¼˜åŒ–/ä¼˜åŒ–çš„æ–¹å‘.md","hash":"b23e66258c0ce3d6446e8d6b13309ebe09a3050d","modified":1741772378968},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/é¡¹ç›®åˆ›å»º/vue.md","hash":"83321bbee3ca4b86cf2d4056b78f5b9493674940","modified":1741771814600},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/é¡¹ç›®ä¼˜åŒ–/webpackæ‰“åŒ…ä¼˜åŒ–.md","hash":"77ecf3a5439dba3370ec6616f3f8a9e073e96bea","modified":1741860979197},{"_id":"source/_posts/ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/ä¸å¥¹åˆè¯†.md","hash":"68a2d50cba324c0aa23f811b78b5dc60c7641ffb","modified":1741774295425},{"_id":"source/_posts/ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/æˆ‘çš„èœ•å˜.md","hash":"da5824852fce8eb3a629a65c4e21311f255233ce","modified":1741774342600},{"_id":"source/_posts/ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/åºç« ï¼šç”Ÿå‘½ä¹‹çƒ›æ‘‡æ›³.md","hash":"69e8612a56111efac4f52cc45bd281adec01bea5","modified":1741774395103},{"_id":"source/_posts/ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/ç°å®çš„é­æ‰“.md","hash":"d8722f93029bb3596ba47c3c83e9479e86a01fe0","modified":1741774323171},{"_id":"source/_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/é¡¹ç›®ä¼˜åŒ–/webpackæ‰“åŒ…ä¼˜åŒ–(è€ç‰ˆæœ¬).md","hash":"b9c980d8416a968e9c53c5797830b269f445487a","modified":1741860979123},{"_id":"source/_posts/ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/æ­¥å…¥æ­£è½¨.md","hash":"5047bab1b3d34ed86136290af2a62063203dc2d5","modified":1741774355235},{"_id":"source/_posts/ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/ç›¸ç¦».md","hash":"62d9bec802d8b3794ef4fc74b75e0e193a7ad393","modified":1741774311278},{"_id":"source/_posts/ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/ç«¥å¹´æ—¶å…‰.md","hash":"df65dd0007eeb2eafb740db1f13c00afc6577ec0","modified":1741774278587},{"_id":"themes/butterfly/.gitignore","hash":"76e6365d33cec02b90d00699da3c0ddef1cd7efa","modified":1741688699644},{"_id":"themes/butterfly/README.md","hash":"e1b9096ae0c4e5ef0a911aec05dbad4a3aae3173","modified":1741688699645},{"_id":"themes/butterfly/LICENSE","hash":"c8bc7df08db9dd3b39c2c2259a163a36cf2f6808","modified":1741688699644},{"_id":"themes/butterfly/README_CN.md","hash":"92e45255b8725f0a00450c88fcfd51ec61e1db67","modified":1741688699645},{"_id":"themes/butterfly/_config.yml","hash":"7166aff350fcf84cbc01835fad5731eb855cecd7","modified":1741688699645},{"_id":"themes/butterfly/package.json","hash":"dd598502734c702eed104a3f955f75568e18a29e","modified":1741688699653},{"_id":"themes/butterfly/plugins.yml","hash":"a2704f0406484fdae3410e9992cf996f9859356e","modified":1741688699653},{"_id":"themes/butterfly/.github/FUNDING.yml","hash":"da5e77f5e0cdb7e11b36546fb6796d10e3dfbe5d","modified":1741688699644},{"_id":"themes/butterfly/languages/default.yml","hash":"a2c938b1ef69195aec10c90dc7d1871953548e01","modified":1741688699645},{"_id":"themes/butterfly/languages/en.yml","hash":"a2c938b1ef69195aec10c90dc7d1871953548e01","modified":1741688699645},{"_id":"themes/butterfly/languages/ja.yml","hash":"a281d3cc3e117e90597b783dc5569dba3976d2eb","modified":1741688699645},{"_id":"themes/butterfly/languages/ko.yml","hash":"c7d861c58f204f47a5b4d6e118e1f1e8fb8a852f","modified":1741688699645},{"_id":"themes/butterfly/languages/zh-CN.yml","hash":"e0bf36edf18cf3380b900be7528b536252990c26","modified":1741688699645},{"_id":"themes/butterfly/languages/zh-HK.yml","hash":"bac3063ad2892be232f7d91361c28585a3cc7eb5","modified":1741688699645},{"_id":"themes/butterfly/languages/zh-TW.yml","hash":"bd7ee35aa30964493d2729ef105bb86331b096c3","modified":1741688699645},{"_id":"themes/butterfly/layout/archive.pug","hash":"bc77220dfc269b8faad0930e1a4142ebf68165e5","modified":1741688699645},{"_id":"themes/butterfly/layout/category.pug","hash":"a7e9805a781e34e38d27462e6ce2a5821c34bb9f","modified":1741688699646},{"_id":"themes/butterfly/layout/index.pug","hash":"a93004cc8ec8050df603d32a6e6e02cd96fd9875","modified":1741688699652},{"_id":"themes/butterfly/layout/page.pug","hash":"7ce2a49c6c41847de4ccea377ade116339984434","modified":1741688699653},{"_id":"themes/butterfly/layout/post.pug","hash":"65c4a49c65c3fc4d9dc88b9791a75710c698c3a1","modified":1741688699653},{"_id":"themes/butterfly/layout/tag.pug","hash":"ca5333bd262cb58c195c844b593a0eed0c721766","modified":1741688699653},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/bug_report.yml","hash":"10ce05c8dbde09f53bdabe40b5388de9ccc71a31","modified":1741688699644},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/feature_request.yml","hash":"6e0f9470b18bd37d4891282ac73d61676b040e8c","modified":1741688699644},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/config.yml","hash":"63ad2249ad09fb3fe21bd5ff9adefb304a7ab24a","modified":1741688699644},{"_id":"themes/butterfly/.github/workflows/publish.yml","hash":"e320b40c051bae1549156cd5ea4a51383cf78598","modified":1741688699644},{"_id":"themes/butterfly/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1741689067245},{"_id":"themes/butterfly/.github/workflows/stale.yml","hash":"4040c76547e270aaf184e9b219a44ca41bbb1b9f","modified":1741688699644},{"_id":"themes/butterfly/layout/includes/additional-js.pug","hash":"f9b02aac0dbbb2b71c037dd215e70c8b7ec7741c","modified":1741688699646},{"_id":"themes/butterfly/layout/includes/footer.pug","hash":"6bd41add3a45e55d5e51eab5285a2d1a909d37f3","modified":1741688699646},{"_id":"themes/butterfly/layout/includes/head.pug","hash":"1d11e334b22dbbedcb0f751f9ee9789d4416605e","modified":1741688699646},{"_id":"themes/butterfly/layout/includes/layout.pug","hash":"e5e6c05a621483b3542f2884e8ba45e84b1e973a","modified":1741688699647},{"_id":"themes/butterfly/layout/includes/pagination.pug","hash":"bd45e6fa935ace9cb54499b0491dacfb78ccc354","modified":1741688699647},{"_id":"themes/butterfly/layout/includes/rightside.pug","hash":"43f951b639038f3bc01deea03368d8dcf492cbb0","modified":1741688699648},{"_id":"themes/butterfly/layout/includes/sidebar.pug","hash":"3e65b7bf6bccccbba7e15349f0a44f15c64c5b5e","modified":1741688699648},{"_id":"themes/butterfly/scripts/common/postDesc.js","hash":"272613a71d16f0de6dac883be4839259f774be76","modified":1741688699653},{"_id":"themes/butterfly/scripts/events/404.js","hash":"039fc75f363d79669b0b2177d929cdff6f2ef7a4","modified":1741688699653},{"_id":"themes/butterfly/scripts/events/comment.js","hash":"7b1b16e1e8e08245a345764616956be50487eb53","modified":1741688699653},{"_id":"themes/butterfly/scripts/events/cdn.js","hash":"7864ba45716c51aef8d8b04fd4bc212e0008ce3b","modified":1741688699653},{"_id":"themes/butterfly/scripts/events/init.js","hash":"ce68e84a9ccfcf91100befbaa9afc392a0cd93bb","modified":1741688699653},{"_id":"themes/butterfly/scripts/events/merge_config.js","hash":"10ffed853a935498f1f5da2c5b57200c957874a7","modified":1741688699653},{"_id":"themes/butterfly/scripts/events/stylus.js","hash":"bac639c404588ea62e601ef0bcd368c3bd0119af","modified":1741688699653},{"_id":"themes/butterfly/scripts/events/welcome.js","hash":"f59e10305fef59ea3e62a7395106c0927582879d","modified":1741688699653},{"_id":"themes/butterfly/scripts/filters/post_lazyload.js","hash":"b23108d29fff3e32384d8689c8bcd2ab306a1ae7","modified":1741688699653},{"_id":"themes/butterfly/scripts/filters/random_cover.js","hash":"20a6ebf63439501a4b3fc81e7a2a2ea5d103bace","modified":1741688699653},{"_id":"themes/butterfly/scripts/helpers/aside_archives.js","hash":"3eb0bbb1288dc7b0ff82cc46ceb53bd666893416","modified":1741688699654},{"_id":"themes/butterfly/scripts/helpers/aside_categories.js","hash":"0cdf781a8c14d7b50d309e69f282ec7b178804bb","modified":1741688699654},{"_id":"themes/butterfly/scripts/helpers/getArchiveLength.js","hash":"bf77635e920eaf52bceebc95f87c7c87a7ca8038","modified":1741688699654},{"_id":"themes/butterfly/scripts/helpers/inject_head_js.js","hash":"00c5742ad1c75b3c5684d02ffc6a1921399e5376","modified":1741688699654},{"_id":"themes/butterfly/scripts/helpers/page.js","hash":"a07b586b510aa2df953102d998e84207acc34f9b","modified":1741688699654},{"_id":"themes/butterfly/scripts/helpers/related_post.js","hash":"950b7d0966429bf0f9e6c5e1161e50e545e320b4","modified":1741688699654},{"_id":"themes/butterfly/scripts/helpers/series.js","hash":"45367c4ce827329867dbcc750ec125da9ccb2cfd","modified":1741688699654},{"_id":"themes/butterfly/scripts/tag/button.js","hash":"2f44e1b3ccd170b256eae178299d6fa933a8d490","modified":1741688699654},{"_id":"themes/butterfly/scripts/tag/chartjs.js","hash":"195ba802d7e8406c155124a9c939a2318f82938b","modified":1741688699654},{"_id":"themes/butterfly/scripts/tag/flink.js","hash":"25eefe10189caf3910a0e5d5b2f2043ae9255531","modified":1741688699654},{"_id":"themes/butterfly/scripts/tag/gallery.js","hash":"fa3d0a64f7fce4aff7928d4ddd95548978ba001c","modified":1741688699654},{"_id":"themes/butterfly/scripts/tag/hide.js","hash":"f02fb085a88a2c0c82aeffacc24e1b71c74bd7c0","modified":1741688699654},{"_id":"themes/butterfly/scripts/tag/inlineImg.js","hash":"89c6c78d2db43b190055d5690741a79bab4f3e7e","modified":1741688699654},{"_id":"themes/butterfly/scripts/tag/label.js","hash":"cf0bc17d0180231167cc6aa8a00fc64f198cb9f9","modified":1741688699654},{"_id":"themes/butterfly/scripts/tag/mermaid.js","hash":"50d8d8fac5c5b6e26317028895d7d82a2cf46606","modified":1741688699654},{"_id":"themes/butterfly/scripts/tag/score.js","hash":"f589fb6646bd17cf12d77a9b251dd614e1c8b899","modified":1741688699655},{"_id":"themes/butterfly/scripts/tag/series.js","hash":"40bc9a065e3a1423e0e66f4911e00713ca9f5e9e","modified":1741688699655},{"_id":"themes/butterfly/scripts/tag/note.js","hash":"e68d8d21f3a86e3646907a3685550ee20e8d4a9f","modified":1741688699654},{"_id":"themes/butterfly/scripts/tag/tabs.js","hash":"3c486b149e28edd1a06843f05a5c355000991b82","modified":1741688699655},{"_id":"themes/butterfly/scripts/tag/timeline.js","hash":"176804f07567aa80f1ed95897a968a996b155dec","modified":1741688699655},{"_id":"themes/butterfly/source/css/index.styl","hash":"b13d96924a5534bff91d75566b196ac87b4fac22","modified":1741688699658},{"_id":"themes/butterfly/source/css/var.styl","hash":"d1eec577074ab7b262182885576135bf1896e12c","modified":1741688699658},{"_id":"themes/butterfly/source/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1741688699658},{"_id":"themes/butterfly/source/img/error-page.png","hash":"d2519710498a871ca3e913c57e2ba20a805b6430","modified":1741688699659},{"_id":"themes/butterfly/source/img/favicon.ico","hash":"455ac256580bf31a45813dbbdb87219bfc8bfb04","modified":1741688699660},{"_id":"themes/butterfly/source/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1741688699660},{"_id":"themes/butterfly/source/js/main.js","hash":"5a52047b8520f79864d5a4ee2379a29751aead23","modified":1741688699660},{"_id":"themes/butterfly/source/js/tw_cn.js","hash":"fdb5482d04a75bd79946ad1ed291d281d0e9362d","modified":1741688699660},{"_id":"themes/butterfly/source/js/utils.js","hash":"48637ad8e405306772b93837f33400bde1055819","modified":1741688699661},{"_id":"themes/butterfly/layout/includes/head/Open_Graph.pug","hash":"e93a36d3c29b5a02c7f26a23f96e1f84b063cbe8","modified":1741688699646},{"_id":"themes/butterfly/layout/includes/head/analytics.pug","hash":"e792a435afee1f9491095084a00dc77e3522c1fd","modified":1741688699646},{"_id":"themes/butterfly/layout/includes/head/config.pug","hash":"9ea75b06f19bf356f340f4a3fc1bdc0713cfe445","modified":1741688699646},{"_id":"themes/butterfly/layout/includes/head/config_site.pug","hash":"56a3c32de1a15627ff38c67f1131cdd6ec5ac924","modified":1741688699646},{"_id":"themes/butterfly/layout/includes/head/google_adsense.pug","hash":"f29123e603cbbcc6ce277d4e8f600ba67498077c","modified":1741688699646},{"_id":"themes/butterfly/layout/includes/head/preconnect.pug","hash":"1e1a69aa2cbda2e621c741b3802093244b3cc04e","modified":1741688699646},{"_id":"themes/butterfly/layout/includes/head/pwa.pug","hash":"83ed05ef1e39f2ee70c3fba2cf96e488d8ffec66","modified":1741688699646},{"_id":"themes/butterfly/layout/includes/head/structured_data.pug","hash":"1b83ae33961528f128596753fd05067c672d6bff","modified":1741688699646},{"_id":"themes/butterfly/layout/includes/head/site_verification.pug","hash":"5168caadc4cf541f5d6676a9c5e8ae47a948f9ad","modified":1741688699646},{"_id":"themes/butterfly/layout/includes/header/index.pug","hash":"44331c9db74b281b5c5c41439d3407a9076df1a1","modified":1741688699646},{"_id":"themes/butterfly/layout/includes/header/menu_item.pug","hash":"733184f88e3a586a5fcc9d193ad500556b6c8eed","modified":1741688699646},{"_id":"themes/butterfly/layout/includes/header/nav.pug","hash":"18b984ce184ea53d2dff5a03cc2d0d39d2ec3406","modified":1741688699646},{"_id":"themes/butterfly/layout/includes/header/social.pug","hash":"e2d31e0f450ad42c47f7ee96375799342bf2f19b","modified":1741688699647},{"_id":"themes/butterfly/layout/includes/loading/fullpage-loading.pug","hash":"a2f7d69ca7ec58f24fe7d4e04ae21d5b62b01567","modified":1741688699647},{"_id":"themes/butterfly/layout/includes/header/post-info.pug","hash":"7d799c4694adb6e265e3f4b975d7f7f6a7021a17","modified":1741688699647},{"_id":"themes/butterfly/layout/includes/loading/index.pug","hash":"d76ce71ba106e350670c021a3dcae57547d01830","modified":1741688699647},{"_id":"themes/butterfly/layout/includes/loading/pace.pug","hash":"9d2d539555bab495959b9df734ed5c43a9f9e5a9","modified":1741688699647},{"_id":"themes/butterfly/layout/includes/mixins/article-sort.pug","hash":"ef7afe0df7a3746744ac8185da7163b7406120ca","modified":1741688699647},{"_id":"themes/butterfly/layout/includes/mixins/indexPostUI.pug","hash":"f3389fa9ae4fa32e3c16573286583bc3023e57ad","modified":1741688699647},{"_id":"themes/butterfly/layout/includes/page/404.pug","hash":"15d32c511e4875066fcbe9cb84c3ada07b5a7c41","modified":1741688699647},{"_id":"themes/butterfly/layout/includes/page/categories.pug","hash":"5276a8d2835e05bd535fedc9f593a0ce8c3e8437","modified":1741688699647},{"_id":"themes/butterfly/layout/includes/page/default-page.pug","hash":"efb40388e37cca0b5e7c3c66e811a42f8d32c910","modified":1741688699647},{"_id":"themes/butterfly/layout/includes/page/flink.pug","hash":"6b0fa5f048aca8e9cbe56978301af918cf7ac34a","modified":1741688699647},{"_id":"themes/butterfly/layout/includes/page/shuoshuo.pug","hash":"b2423cfc57a5e3a0e1112ff7c18d5c5c720d89d5","modified":1741688699647},{"_id":"themes/butterfly/layout/includes/page/tags.pug","hash":"79ad31eb72a9e14007770b18a426406a25315b38","modified":1741688699647},{"_id":"themes/butterfly/layout/includes/post/outdate-notice.pug","hash":"b7ce9484bc5c97ea6154f0b78fb9b8951fafedbd","modified":1741688699648},{"_id":"themes/butterfly/layout/includes/post/post-copyright.pug","hash":"b96c232e5178d927987791d9ae386dd83679535a","modified":1741688699648},{"_id":"themes/butterfly/layout/includes/post/reward.pug","hash":"db92f25ff3fd061882f81bf74ca560ff66983a0c","modified":1741688699648},{"_id":"themes/butterfly/layout/includes/third-party/aplayer.pug","hash":"ed79fef5b5025415ea12eaed970f3fe7f6ef9596","modified":1741688699648},{"_id":"themes/butterfly/layout/includes/third-party/effect.pug","hash":"43014bfc63583d3ee8808d526dd165848c0ed52f","modified":1741688699650},{"_id":"themes/butterfly/layout/includes/third-party/pjax.pug","hash":"efe4f8019632b51c92c4f7628758538305e06e47","modified":1741688699651},{"_id":"themes/butterfly/layout/includes/third-party/prismjs.pug","hash":"88f979a0b1a19eeb0db229247833bf9c6865c3b9","modified":1741688699651},{"_id":"themes/butterfly/layout/includes/third-party/subtitle.pug","hash":"236c3ce26dd76e80b04d457789475c42da5ac0c8","modified":1741688699652},{"_id":"themes/butterfly/layout/includes/third-party/umami_analytics.pug","hash":"bc35a1552d26ecdeeadbf06300078dbb5128a6e5","modified":1741688699652},{"_id":"themes/butterfly/layout/includes/widget/card_ad.pug","hash":"a8312b527493dabbadbb1280760168d3bc909a3b","modified":1741688699652},{"_id":"themes/butterfly/layout/includes/widget/card_announcement.pug","hash":"21e019bdc3b1e796bb00976bb29af2d51f873624","modified":1741688699652},{"_id":"themes/butterfly/layout/includes/widget/card_archives.pug","hash":"73d33b6930e7944187a4b3403daf25d27077a2dd","modified":1741688699652},{"_id":"themes/butterfly/layout/includes/widget/card_author.pug","hash":"1aba8aa7cd767dc96879d13a13b4c8ceb9023233","modified":1741688699652},{"_id":"themes/butterfly/layout/includes/widget/card_bottom_self.pug","hash":"1dba77d250eeebfb6e293d504352c7e9ea31980b","modified":1741688699652},{"_id":"themes/butterfly/layout/includes/widget/card_newest_comment.pug","hash":"d8753772889b5d0f4d15639ed6af5e91e53b1d03","modified":1741688699652},{"_id":"themes/butterfly/layout/includes/widget/card_categories.pug","hash":"66e383b4ef374951eb87dd1bf4cdb7a667193fb5","modified":1741688699652},{"_id":"themes/butterfly/layout/includes/widget/card_post_series.pug","hash":"e0bb72fa0ce15964b11b8fe421cae3432394e35f","modified":1741688699652},{"_id":"themes/butterfly/layout/includes/widget/card_recent_post.pug","hash":"bb842d2aa6469d65bf06af1372f0a19a9e4ef44c","modified":1741688699652},{"_id":"themes/butterfly/layout/includes/widget/card_post_toc.pug","hash":"1dd19a564320d248dbcee7f118a5b96c6466da65","modified":1741688699652},{"_id":"themes/butterfly/layout/includes/widget/card_tags.pug","hash":"842b772a387b576550fa127030e1c2e9bf65716d","modified":1741688699652},{"_id":"themes/butterfly/layout/includes/widget/card_top_self.pug","hash":"7b5ae404a1205546b7de4be42291315cf918f2b3","modified":1741688699652},{"_id":"themes/butterfly/layout/includes/widget/card_webinfo.pug","hash":"fcddd80cdeb6aa81f342cd9f0102302f6ba087a8","modified":1741688699652},{"_id":"themes/butterfly/layout/includes/widget/index.pug","hash":"45f620cd87b9ef2aa9d1e024e697ed6b4eecff34","modified":1741688699652},{"_id":"themes/butterfly/source/css/_global/function.styl","hash":"d12340a7df4601b9a23f070e16645861aeb3bb0a","modified":1741688699655},{"_id":"themes/butterfly/source/css/_global/index.styl","hash":"4fcb8222b9548e22f7b76f12d33e3698240cbae0","modified":1741688699655},{"_id":"themes/butterfly/source/css/_highlight/highlight.styl","hash":"67062d597408068e4a59e95851e98fed34b745da","modified":1741688699655},{"_id":"themes/butterfly/source/css/_highlight/theme.styl","hash":"a51edfd3e499e7d38c32241c40e8e4d371efca73","modified":1741688699655},{"_id":"themes/butterfly/source/css/_layout/aside.styl","hash":"ba174889e770ae9f6683379b9eae9d8c94253080","modified":1741688699656},{"_id":"themes/butterfly/source/css/_layout/chat.styl","hash":"4cc02bcbaa4a1933a82a9ea57a603fe2d059fc77","modified":1741688699656},{"_id":"themes/butterfly/source/css/_layout/comments.styl","hash":"fbfce4d67cacd1df22fb73d89d008693f59d9d91","modified":1741688699656},{"_id":"themes/butterfly/source/css/_layout/footer.styl","hash":"d7b988d8588207086670f39aa49fce442c429f7a","modified":1741688699656},{"_id":"themes/butterfly/source/css/_layout/head.styl","hash":"094108f2a4e351a2fa496d6bd3e2388151416b3f","modified":1741688699656},{"_id":"themes/butterfly/source/css/_layout/loading.styl","hash":"f0b01bbf321c2c24fdccaee367dd9fd448031a72","modified":1741688699656},{"_id":"themes/butterfly/source/css/_layout/pagination.styl","hash":"7d7554573c005399bc8c2264a85896d2d51be1e1","modified":1741688699656},{"_id":"themes/butterfly/source/css/_layout/post.styl","hash":"543eaf9c7df7e0db841e5946ee5f9082c3c46290","modified":1741688699656},{"_id":"themes/butterfly/source/css/_layout/relatedposts.styl","hash":"ef8e8549fe7ad4b99793844a93b4a89f77f417d5","modified":1741688699656},{"_id":"themes/butterfly/source/css/_layout/reward.styl","hash":"d9cdf564a822a585e67fd5bac8573ba87eeb3743","modified":1741688699656},{"_id":"themes/butterfly/source/css/_layout/rightside.styl","hash":"a0f5835f04358122e8b1d38dd3e8da09a1b5b431","modified":1741688699656},{"_id":"themes/butterfly/source/css/_layout/sidebar.styl","hash":"084dc4dfb41f55e237a9d6cf8c2f5dba729b83be","modified":1741688699656},{"_id":"themes/butterfly/source/css/_layout/third-party.styl","hash":"0af7c8754f04bdd9a02a14d880774753bd2e35ee","modified":1741688699656},{"_id":"themes/butterfly/source/css/_mode/darkmode.styl","hash":"4c9849df9c68d892c7df0ca28123aeb0dc9dc424","modified":1741688699656},{"_id":"themes/butterfly/source/css/_mode/readmode.styl","hash":"ad66212554468b7067590308ed4cf40524fea662","modified":1741688699656},{"_id":"themes/butterfly/source/css/_page/404.styl","hash":"205ccc7d0ec6ce1193b46bc0c9ce0385594581fb","modified":1741688699656},{"_id":"themes/butterfly/source/css/_page/archives.styl","hash":"5abe5480d83ff8b452a780a484d50a44091475bf","modified":1741688699657},{"_id":"themes/butterfly/source/css/_page/categories.styl","hash":"c4cda7b0c99015df29ce00fdfddd2f7679653754","modified":1741688699657},{"_id":"themes/butterfly/source/css/_page/common.styl","hash":"dcff804c4c237e1e908481b44c1ac4e39ac0da34","modified":1741688699657},{"_id":"themes/butterfly/source/css/_page/flink.styl","hash":"1f8d715faf3b91b53426e38195c0920afb3bfa1c","modified":1741688699657},{"_id":"themes/butterfly/source/css/_page/homepage.styl","hash":"992d192db7d1c96e995b85ed11c20c571d33fbad","modified":1741688699657},{"_id":"themes/butterfly/source/css/_page/shuoshuo.styl","hash":"79bb1d9a27822ed5675d1e52f5dbd0e2f5d5010a","modified":1741688699657},{"_id":"themes/butterfly/source/css/_page/tags.styl","hash":"7543bb688876a946538d66b991c71b94b5216277","modified":1741688699657},{"_id":"themes/butterfly/source/css/_search/algolia.styl","hash":"d8a8275a68a1421c4c09b604cf78bea16c1d0463","modified":1741688699657},{"_id":"themes/butterfly/source/css/_search/index.styl","hash":"6c4cbdadd9a49029fe0c59e29808d873e5b6b6ee","modified":1741688699657},{"_id":"themes/butterfly/source/css/_search/local-search.styl","hash":"1f2b86df86df81c3a59377b29102314ffc73dfa6","modified":1741688699657},{"_id":"themes/butterfly/source/css/_tags/button.styl","hash":"de8437a058a315d14d7e7034066f095b7b3ed4b4","modified":1741688699657},{"_id":"themes/butterfly/source/css/_tags/hexo.styl","hash":"985b183db7b7bfd8f9bdb60494549fb7f850348b","modified":1741688699657},{"_id":"themes/butterfly/source/css/_tags/gallery.styl","hash":"30d1f809efd252ed0233d96d4374efd2b01d2292","modified":1741688699657},{"_id":"themes/butterfly/source/css/_tags/note.styl","hash":"4929382bd60788d34752a66e2fe764ef797a72a0","modified":1741688699657},{"_id":"themes/butterfly/source/css/_tags/hide.styl","hash":"d27dbccaf3de1c9158d19e4fd49a25953cb5778d","modified":1741688699657},{"_id":"themes/butterfly/source/css/_tags/inlineImg.styl","hash":"3be8d0a75e7cc96548667cae0cb6a474279bd0b5","modified":1741688699657},{"_id":"themes/butterfly/source/css/_tags/series.styl","hash":"0657169849bc4bf4d93b5492ade040c8f58c1901","modified":1741688699658},{"_id":"themes/butterfly/source/css/_tags/label.styl","hash":"216f52fefc2274b542b549d8470503e6f1a308fb","modified":1741688699657},{"_id":"themes/butterfly/source/css/_tags/tabs.styl","hash":"3a88eedcb694da79e92581ce50cb1a430b1fb615","modified":1741688699658},{"_id":"themes/butterfly/source/css/_tags/timeline.styl","hash":"e846ddaef494d46cdfa2379deacfe74fa1cc5264","modified":1741688699658},{"_id":"themes/butterfly/source/css/_third-party/normalize.min.css","hash":"8549829fb7d3c21cd9e119884962e8c463a4a267","modified":1741688699658},{"_id":"themes/butterfly/source/js/search/algolia.js","hash":"7119f2f2943de71999d3dd6ba5c60cde846f114b","modified":1741688699660},{"_id":"themes/butterfly/source/js/search/local-search.js","hash":"a2b783230a9143de69004cfc914d9f55e6fc1660","modified":1741688699660},{"_id":"themes/butterfly/layout/includes/third-party/abcjs/abcjs.pug","hash":"febff991595504d8e850ced0b9cc090f02ed97f0","modified":1741688699648},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/artalk.pug","hash":"b03ee8625149191f9d5d057bbc9824b68d8dd0c4","modified":1741688699648},{"_id":"themes/butterfly/layout/includes/third-party/abcjs/index.pug","hash":"f0a90d8e39915a74b16ef22e851f179415cd7eaa","modified":1741688699648},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/index.pug","hash":"846cabae287ae31b3bbfac3da022475713dd5ecc","modified":1741688699648},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/disqus.pug","hash":"d6fff5a7f84c8b09f282f9ddc0020a68a8aac9ea","modified":1741688699648},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/remark42.pug","hash":"716dc463fe4ef5112e7018ed60804125fdfa5cad","modified":1741688699648},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/twikoo.pug","hash":"b5db4203a1392385838c73549ddeae0a4be67eba","modified":1741688699648},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/fb.pug","hash":"cbfbcf34a24d21ba2b21cf9eedb76f4c3c563c5a","modified":1741688699648},{"_id":"themes/butterfly/layout/includes/third-party/chat/chatra.pug","hash":"5b29badecbbe828112c001156023fc0566045cf6","modified":1741688699649},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/valine.pug","hash":"7884883ec15792f7e54daacb3c62b851dde2b66a","modified":1741688699649},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/waline.pug","hash":"fd2320ee25507bb8ef49f932c2d170586b44ea4d","modified":1741688699649},{"_id":"themes/butterfly/layout/includes/third-party/chat/tidio.pug","hash":"62466b251052cae609b6369d4cb4b6a85320757d","modified":1741688699649},{"_id":"themes/butterfly/layout/includes/third-party/comments/artalk.pug","hash":"89c63a5f0c0ab6314de7158fbc8fcbc84997fc55","modified":1741688699649},{"_id":"themes/butterfly/layout/includes/third-party/chat/index.pug","hash":"e8438941085def0591a72fc9b0d705dbf107f54f","modified":1741688699649},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqus.pug","hash":"f2ea5249b3e6670f6c8c77868f4f42c502e43830","modified":1741688699649},{"_id":"themes/butterfly/layout/includes/third-party/chat/crisp.pug","hash":"24d094fd917947c0ca7492fa094328b1a183b873","modified":1741688699649},{"_id":"themes/butterfly/layout/includes/third-party/comments/giscus.pug","hash":"592b2251db6c1abeb8b0eebe3b2e6d9aa0dec445","modified":1741688699650},{"_id":"themes/butterfly/layout/includes/third-party/comments/facebook_comments.pug","hash":"8af585e6d6f73ee57114eefad574dc6e8ea9f570","modified":1741688699650},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqusjs.pug","hash":"c81fa7d8a5cb96d1ae07bfa8c46b84a58161add1","modified":1741688699649},{"_id":"themes/butterfly/layout/includes/third-party/comments/index.pug","hash":"db6713d2b90eb8183f86ac92c26761a8501c0ddb","modified":1741688699650},{"_id":"themes/butterfly/layout/includes/third-party/comments/gitalk.pug","hash":"58914c58a190e3bc0aa37cb581e77e442b563501","modified":1741688699650},{"_id":"themes/butterfly/layout/includes/third-party/comments/remark42.pug","hash":"84f7cfde00f929fa3dc40349bcab060ec68f1b9f","modified":1741688699650},{"_id":"themes/butterfly/layout/includes/third-party/comments/js.pug","hash":"3abbaaa4ea575c45b3cebffd40bad1acc6ffce84","modified":1741688699650},{"_id":"themes/butterfly/layout/includes/third-party/comments/livere.pug","hash":"7a80231fc71822e503879383a2d9611edf1d72dd","modified":1741688699650},{"_id":"themes/butterfly/layout/includes/third-party/comments/utterances.pug","hash":"30a7d157890de69deab28baa47fb7bb28b040efd","modified":1741688699650},{"_id":"themes/butterfly/layout/includes/third-party/comments/twikoo.pug","hash":"53d99831f29aeb2e336ed1407d79590041f77002","modified":1741688699650},{"_id":"themes/butterfly/layout/includes/third-party/math/chartjs.pug","hash":"732eb1118ea1a73aa5c164d639097c614f8e9953","modified":1741688699650},{"_id":"themes/butterfly/layout/includes/third-party/comments/valine.pug","hash":"24f18b0c67803210d53abbf9c1d454c000b06eee","modified":1741688699650},{"_id":"themes/butterfly/layout/includes/third-party/comments/waline.pug","hash":"e2bf15357485cd502414b3b20f5b1f762a2fd014","modified":1741688699650},{"_id":"themes/butterfly/layout/includes/third-party/math/katex.pug","hash":"b83db9fa64d42a0bfd97efb660e09be3f166a144","modified":1741688699650},{"_id":"themes/butterfly/layout/includes/third-party/math/index.pug","hash":"af66d13204030d47537b9e31a6173e63589ce7ff","modified":1741688699650},{"_id":"themes/butterfly/layout/includes/third-party/math/mermaid.pug","hash":"ca2fc5928ca292f29fd8333c73733344994096fb","modified":1741688699651},{"_id":"themes/butterfly/layout/includes/third-party/math/mathjax.pug","hash":"db2f4fff80a1166476ea76ae004aa186df11bad3","modified":1741688699650},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/artalk.pug","hash":"187302dbc916852ff2fdf47061e272c061611dda","modified":1741688699651},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/common.pug","hash":"27fa75affebc6e84a487c62bceff783bde595256","modified":1741688699651},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/disqus-comment.pug","hash":"fa4b4194749d05f7249f365f2b89c0281057ce54","modified":1741688699651},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/github-issues.pug","hash":"72e2970b23570e308f8af5d8ba8e5e3321d01bbf","modified":1741688699651},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/index.pug","hash":"a7c07dbc1e970a5b247091458e1ee9b144a3366d","modified":1741688699651},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/remark42.pug","hash":"34edfebf0cace0852806be774910ccb0e0914650","modified":1741688699651},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/valine.pug","hash":"d376ec17fb19fcdcf0d2ad71330190146d3af879","modified":1741688699651},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/waline.pug","hash":"ec6c685080634ac46ffbea1b8f10313388888f43","modified":1741688699651},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/twikoo-comment.pug","hash":"d2e12a9fc302a4efe52c90d44896fbd73e193a1f","modified":1741688699651},{"_id":"themes/butterfly/layout/includes/third-party/search/algolia.pug","hash":"7f0ede1cd3fed2669c94a8e1b21bc0b183f310b8","modified":1741688699651},{"_id":"themes/butterfly/layout/includes/third-party/search/docsearch.pug","hash":"013756ff3363344987cc00fc9bd833baf193c341","modified":1741688699651},{"_id":"themes/butterfly/layout/includes/third-party/search/index.pug","hash":"f8557548d2ad8dd149c562193991c6c6cda02415","modified":1741688699651},{"_id":"themes/butterfly/layout/includes/third-party/search/local-search.pug","hash":"2622b4cf9189fa23e4a422aaf9ef272e4f2c6137","modified":1741688699651},{"_id":"themes/butterfly/layout/includes/third-party/share/addtoany.pug","hash":"f5ee1c9c8ffa4bca972d30f4de69268b8d47f052","modified":1741688699651},{"_id":"themes/butterfly/layout/includes/third-party/share/index.pug","hash":"e51e896ccb13900de38dc81cf44dc789e2418a12","modified":1741688699652},{"_id":"themes/butterfly/layout/includes/third-party/share/share-js.pug","hash":"efef352c1d122409575386bf3894dce8e87032e2","modified":1741688699652},{"_id":"themes/butterfly/source/css/_highlight/highlight/diff.styl","hash":"9f02598b5e4296aec6470639d4bac4c9ac46392e","modified":1741688699655},{"_id":"themes/butterfly/source/css/_highlight/highlight/index.styl","hash":"ef52ebf1e8e751a412f9456fdaeee7d88afd9a72","modified":1741688699655},{"_id":"themes/butterfly/source/css/_highlight/prismjs/diff.styl","hash":"077ec530831be1d80e93da380406b9f5abd0918a","modified":1741688699655},{"_id":"themes/butterfly/source/css/_highlight/prismjs/index.styl","hash":"1883c91d43bff10aae55122a21e0b064b6f5c9dd","modified":1741688699655},{"_id":"themes/butterfly/source/css/_highlight/prismjs/line-number.styl","hash":"de4bb5fc2dfca368b35e4c1109c92f7abc9e2245","modified":1741688699655},{"_id":"themes/butterfly/source/img/butterfly-icon.png","hash":"f5dd732fed5c3bcd4aa76bac3441bac8485fb432","modified":1741688699659}],"Category":[{"name":"å…¬å‘Š","_id":"cm887h0io0004fg9ma7thhi0x"},{"name":"æˆ‘çš„é¡¹ç›®","_id":"cm887h0ir000efg9ma54mdijw"},{"name":"æ€»ç»“","_id":"cm887h0is000lfg9m73316x8v"},{"name":"æŠ€èƒ½å°å†Œ","_id":"cm887h0iy002xfg9m4j8l6vgw"},{"name":"ç”Ÿæ´»æ—¥å¿—","_id":"cm887h0j30052fg9m7a395o9o"}],"Data":[],"Page":[{"title":"åˆ†ç±»","date":"2025-03-12T08:33:34.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: åˆ†ç±»\ndate: 2025-03-12 16:33:34\ntype: 'categories'\n---\n","updated":"2025-03-12T08:34:03.295Z","path":"categories/index.html","comments":1,"layout":"page","_id":"cm887h0ik0000fg9mahq067u2","content":"","excerpt":"","more":""},{"title":"æ ‡ç­¾","date":"2025-03-12T08:33:34.000Z","type":"tags","orderby":"random","order":1,"_content":"","source":"tags/index.md","raw":"---\ntitle: æ ‡ç­¾\ndate: 2025-03-12 16:33:34\ntype: 'tags'\norderby: random\norder: 1\n---","updated":"2025-03-12T08:34:00.294Z","path":"tags/index.html","comments":1,"layout":"page","_id":"cm887h0in0002fg9m6lxna6fc","content":"","excerpt":"","more":""}],"Post":[{"title":"å…¬å‘Š-å…³äºåšä¸»","abbrlink":"3317594d","date":"2023-05-18T16:00:00.000Z","_content":"\n\n## Hiï½\n\nWelcomeï¼Œæ¬¢è¿æ¥åˆ°æˆ‘çš„ç½‘ç«™ï¼Œæˆ‘å°±æ˜¯è¯¥ç½‘ç«™çš„è´Ÿè´£äºº--`ç‹å°æ³½`, è¯¥ç½‘ç«™è®°å½•ğŸ‘¤ä¸ªäººå·¥ä½œä¸­ï¼Œç”Ÿæ´»æ€»çš„è¶£äº‹ä¸éš¾é¢˜ï¼›æ¥ä¸‹æ¥ä¼šè¯´åˆ°æˆ‘çš„ä¼ å¥‡ğŸ˜\n\n## å°ç™½æ¥äº†\n\nå¤§å­¦æ¯•ä¸šä¹‹å‰çš„äº‹æƒ…å°±ä¸æäº†ï¼Œæ¯•ä¸šä¹‹ååœ¨å±±è¥¿å®ä¹ äº†çŸ­æš‚çš„ä¸€å¹´ï¼Œå®ä¹ å®Œæˆå› ä¸ºå®¶é‡Œçš„äº‹æƒ…ï¼Œæˆ‘å°±å‡ºå»æ”¾æ¾äº†ä¸€æ®µæ—¶é—´ï¼Œå»äº†äº‘å—ï¼›äº‘å—çš„æ™¯è‰²è¯´å®è¯æ˜¯çœŸçš„å¾ˆç¾ï¼Œè¡¨é¢ä¸Šæ˜¯ä»¥æ‰¾å·¥ä½œä¸ºå™±å¤´ï¼Œå…¶å®å°±æ˜¯å–äº‘å—æ—…æ¸¸ç©è€äº†ä¸€ä¸ªæœˆå·¦å³ï¼Œå±±æ¸…æ°´ç§€ï¼Œä¸è¿‡å½“æ—¶æ˜¯åœ¨äº”ååŒºçŸ­æš‚çš„å‘†äº†ä¸€ä¸ªæœˆï¼ŒåŸºæœ¬æ¯å¤©éƒ½ä¼šå¬åˆ°æ¶ˆé˜²è½¦åœ¨å¤§è¡—ä¸Šé¸£ç¬›ï¼›é‚£ä¼šçš„äº‘å—è¿˜æ˜¯å¤ªçƒ­äº†ï¼Œå±±ä¸Šçš„æ ‘æœ¨éƒ½æœ‰äº†è‡ªç„¶çš„ç°è±¡ï¼›\n\nè¿‡äº†å‡ å¤©ä¹‹åï¼Œå°±å¸¦ç€è‡ªå·±ç®€å†å»è¯•äº†è¯•ï¼Œå¾ˆæˆåŠŸçš„å¤±è´¥äº†ï¼Œä½†æ˜¯ä¹Ÿæ²¡æ€ä¹ˆåæ€è‡ªå·±çš„é—®é¢˜ï¼Œç»“æœæŠ•äº†å°†è¿‘åŠä¸ªæœˆå§ï¼Œæˆ‘å¿ƒæ€å´©äº†ï¼Œè¿åœ¨å½“åœ°çš„åŸºç¡€å·¥èµ„çš„å·¥ä½œéƒ½æ‰¾ä¸ä¸Šï¼Œä¹Ÿè®¸å‹åŠ›å¤§è¿˜æ˜¯è‡ªå·±çš„æ— èƒ½å¯¼è‡´è‡ªå·±èµ°å‘äº†è½»å¾®æŠ‘éƒï¼Œå„¿è¡Œåƒé‡Œæ¯æ‹…å¿§ï¼Œå½“æ—¶å®¶é‡Œä¹Ÿæ‰“è¿‡å¾ˆå¤šç”µè¯ï¼Œåˆšå¼€å§‹è¿˜è¯´é“è¯´é“ï¼Œåé¢\nå°±ä¸æ¥äº†ï¼Œå­¦æ ¡ï¼Œæœ‹å‹çš„æ¶ˆæ¯ä¹Ÿéƒ½æ²¡å›ï¼›\n\næœºç¼˜å·§åˆï¼Œåœ¨ä¸€ç•ªå¤±è´¥ä¹‹åï¼Œé¢è¯•ä¸Šäº†`æ˜†æ˜æ‹“é¸¿ç§‘æŠ€`å…¬å¸ï¼Œå½“æ—¶è¿›å»ä¹‹åï¼Œå°±æ„Ÿæ…¨çœŸä¸æ„§æ˜¯åŒºåŸŸå¤§å…¬å¸ï¼Œå½“æ—¶å¥½åƒç»å†äº†äºŒæ¬¡é¢è¯•ï¼Œä¹‹åä¸å…¬å¸çš„å¤§é¢†å¯¼è°ˆäº†è°ˆï¼Œä¹‹å‰æ˜¯åšæŠ€æœ¯çš„ï¼Œè¯´æˆ‘ç°åœ¨å¯ä»¥è€ƒè™‘ä¸€ä¸‹å…¬å¸çš„é”€å”®å²—ä½ï¼ŒåæœŸå¯ä»¥è°ƒå²—ï¼›æˆ‘æ²¡æœ‰ç›´æ¥æ‹’ç»ï¼Œè¯´äº†è€ƒè™‘ä¸€ä¸‹ï¼›\n\nåœ¨å…¬å¸å‘†äº†ä¸€ä¸‹åˆï¼Œå‚ä¸äº†å…¬å¸çš„ä¸€äº›å°æ¸¸æˆï¼Œæ´»åŠ¨ï¼Œä»‹ç»ç­‰ï¼›å›å»ä¹‹åè€ƒè™‘ä¹‹åå°±æ‹’ç»äº†ï¼›\n\nä¹‹åï¼Œæœ‹å‹è·Ÿæˆ‘æ‰“ç”µè¯è¯´æ˜¯è¦å»ä¸Šæµ·ï¼Œæˆ‘æƒ³è¿‡ä¹‹åï¼Œç›¸å¯¹äºå¤§åŸå¸‚è‚¯å®šæœºä¼šå¤šï¼ŒäºŒè¯ä¸è¯´çš„ç­”åº”äº†ï¼Œå¹¶ä¸”æ”¶æ‹¾å®Œä¹‹åï¼Œå°±å‡ºå‘äº†ï¼›\n\n## ä¸Šæµ· - åˆ\n\næ¥äº†ä¸Šæµ·ä¹‹åï¼Œæ²¡åœ°æ–¹ä½ï¼Œåªèƒ½ä½åœ¨æœ‹å‹é‚£é‡Œï¼Œä¸‰ä¸–ä¸€å…ä¸€å¨ä¸€å«ï¼Œä»–ä»¬æœ‰ä¸‰ä¸ªäººï¼Œå†åŠ ä¸Šæˆ‘å’Œæœ‹å‹å…±äº”äººï¼Œæœ‹å‹å»çš„æ‰¾ç¡åœ¨äº†æ²™å‘ï¼Œæˆ‘å»çš„æ™šä¸€äº›ï¼Œæ²¡åœ°æ–¹ç¡ï¼Œä¸Šæµ·æœ‹å‹è¯´å…ˆåœ¨è¿™é‡ŒæŒ¤ä¸€æŒ¤å§ï¼Œæ‰¾åˆ°å·¥ä½œä¹‹åå†æ¬èµ°ï¼Œä»–ä»¬ä¸‰å®¤ä¸»äººï¼Œä¸€äººä¸€é—´ï¼Œæœ‹å‹ç¡æ²™å‘åˆšå¥½å¤Ÿä»–çš„ä½ç½®ï¼ŒèŒ¶å‡ æ—è¾¹è¿˜æœ‰çª„çª„çš„è¿‡é“ï¼Œæˆ‘å°±æ¬äº†ä¿©ä¸ªå‡³å­å †åœ¨ä¸€èµ·ï¼Œå¤´ä¸‹æ”¾ä¸€ä¸ªï¼Œè…°ä¸‹æ”¾ä¸€ä¸ªï¼Œè„šä¸‹æ”¾è‡ªå·±çš„è¡Œæç®±ï¼›å°±é‚£æ ·åœ¨æ½®æ¹¿çš„ç¯å¢ƒå‘†äº†ä¸€ä¸ªæœˆå¥½åƒï¼Œæ‰¾åˆ°å„è‡ªçš„å·¥ä½œï¼Œç§Ÿæˆ¿ä¹‹åå°±ä¹°äº†ç‚¹æ°´æœç¤¼å“ï¼Œæ‹œè°¢ä¹‹åå°±æ¬èµ°äº†ï¼›\n\n`ä¸Šæµ·é¸£çš‹æ•™è‚²ç§‘æŠ€æœ‰é™å…¬å¸`, æˆ‘æ¥äº†ï¼Œåˆšå¼€å§‹è¿›å»ä¹‹åå¾ˆé™Œç”Ÿï¼Œä¹Ÿå¾ˆèƒ†æ€¯ï¼›èµ·åˆæ˜¯æ²¡æœ‰é¡¹ç›®å¯ä»¥åšçš„ï¼Œæˆ‘å°±åœ¨çœ‹å‰è¾ˆä»¬åšè¿‡çš„é¡¹ç›®å­¦ä¹ å­¦ä¹ ï¼›åŒäº‹ä¹Ÿå¾ˆçƒ­æƒ…ï¼Œæˆ‘è€å¤§`å¿—å“¥`äººå¾ˆä¸é”™ï¼Œåœ¨ä»–çš„å¸¦é¢†ä¸‹ï¼Œæˆ‘ç®—æ˜¯è½¬æ­£å¹¶æ¥è§¦äº†ç¬¬ä¸€ä¸ªå±äºè‡ªå·±æ­å»ºçš„é¡¹ç›®ï¼Œè¿™ä¸ªè¿‡ç¨‹å¾ˆç¹çï¼Œç»“æœä¹Ÿä¸æ˜¯å¾ˆæ»¡æ„ï¼Œå› ä¸ºæˆ‘æ²¡æœ‰ä»€ä¹ˆå·¥ä½œç»éªŒï¼Œå·¥ä½œä¸­ä¹Ÿæ€»æ˜¯çŠ¯é”™ï¼Œåˆšæ”¹å¥½çš„bugï¼Œæ”¹äº†å…¶ä»–åœ°æ–¹æœ‰æŠ¥é”™äº†ï¼›emmï¼Œæˆ‘å¾ˆè‹¦æ¼ï¼Œä¸è¿‡æˆ‘å¯¹é¢çš„åç«¯å‰è¾ˆæ¯”æˆ‘å¹´é•¿å‡ å²ï¼Œå’Œä»–è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘å­¦åˆ°äº†å¾ˆå¤šï¼Œè™½ç„¶è¯­æ°”ä¸æ€ä¹ˆå¥½ï¼Œä½†æ˜¯æ²¡æ”¾åœ¨å¿ƒä¸Š\nå°±æ˜¯ä¸ºäº†å­¦ä¹ è€Œæ¥ï¼›\n\né‚£æ—¶å€™èŠ±é”€ä¹Ÿå¾ˆå¤§ï¼Œå†åŠ ä¸Šä¹‹å‰æ‰‹å¤´æ¯”è¾ƒç´§ï¼Œåœ¨å¹³å°å€Ÿçš„ä¸€äº›ï¼Œå¯¼è‡´åä¿©å¹´éƒ½åœ¨è¿˜ï¼›\n\nä¹‹åï¼Œåœ¨å­¦ä¹ äº†ä¸€å¹´ä¹‹åï¼Œå°±è·Ÿè€å¤§æäº†ç¦»èŒã€‚ã€‚ã€‚\n\n## ä¸Šæµ· - ä¸­\n\næˆ‘æ¥åˆ°äº†`ä¸Šæµ·å¸˜é‚¦ä¿¡æ¯ç§‘æŠ€æœ‰é™å…¬å¸`, è§„æ¨¡äººæ•°è¦æ¯”ä¹‹å‰çš„å¤§ä¸€ç‚¹ï¼Œå…¥èŒä¹‹åï¼Œ`æ°å“¥`è®©æˆ‘ç†Ÿæ‚‰ä¸€ä¸‹ç¯å¢ƒï¼Œåˆšå¼€å§‹å¿ƒé‡Œæƒ³æ”¹å˜è‡ªå·±æ´»è·ƒèµ·æ¥ï¼Œä¸€åˆ°æ­£ç»æ—¶æœŸå°±æ€¯åœºï¼›å°±é‚£æ ·è½¬æ­£äº†ï¼Œæ¥è§¦äº†`node`ï¼Œå­¦ä¹ äº†è§„èŒƒåŒ–æµç¨‹æ¸…æ¥šçš„çŸ¥é“äº†è‡ªå·±å¾ˆå¤šçš„é—®é¢˜ä¸ç¼ºé™·ï¼›\n\nçº¿ä¸‹æ—¶é—´å°±å»äº†è§£`node`ï¼Œå¹¶ä»¥`node+express`æ­å»ºapiè¯·æ±‚ï¼Œåœ¨ç»å†ä¸ªåŠä¸ªæœˆä¹‹åï¼Œå°±è‡ªå·±åŠ¨æ‰‹æ­å»ºäº†ä¸€ä¸ªç®€å•çš„`åšå®¢ç³»ç»Ÿ`, è¿™ä¹Ÿæ˜¯ç¬¬ä¸€ä»£åšå®¢çš„äº§ç”Ÿï¼Œå› ä¸ºæ•°æ®å…¨éƒ½æ˜¯é™æ€çš„ï¼Œå¹¶ä¸”æ–‡æ¡£çš„è§£ææ–¹å¼ä¸ä¸€è‡´ï¼Œåé¢å°±åºŸå¼ƒäº†ï¼›ç®€å•çš„å­¦ä¹ äº†`å®å¡”`å¸ƒå±€æœåŠ¡å™¨ï¼Œåˆšå¼€å§‹çš„å‰ç«¯éƒ¨ç½²è¿˜æ˜¯ä¸Šä¼ æ–‡ä»¶ï¼Œåæ¥è€ƒè™‘åˆ°å¤ªéº»çƒ¦å°±æŸ¥é˜…èµ„æ–™ï¼Œè‡ªå·±ç®€å•çš„å­¦äº†ä¸€ä¸‹`jenkinsä¸æ˜¯nodeå’Œvueé¡¹ç›®`ï¼Œç®€å•è¯´å°±æ˜¯å°†é¡¹ç›®æ‹‰ä¸‹æ¥ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œå°†`dist`æ–‡ä»¶å†…å®¹å¤åˆ¶åœ¨è‡ªå·±çš„ç½‘ç«™ä¸‹é¢ï¼Œ è¿™æ ·é€šè¿‡å‘½ä»¤å°±å¯ä»¥ç›´æ¥å®Œæˆäº†ï¼›ä¸è¿‡æ‰“åŒ…å’Œéƒ¨ç½²è¿‡ç¨‹ä¹Ÿæ˜¯èŠ±è´¹äº†æˆ‘ä¸å°‘æ—¶é—´ï¼›\n\n`å¹´ç»ˆæ€»ç»“å¤§ä¼š`æ¥äº†ï¼Œå› ä¸ºä¹‹å‰æ²¡æœ‰å‚ä¸è¿‡ä¸çŸ¥é“æ€§è´¨å’Œä½œç”¨ï¼ŒæŠ½ç­¾æŠ½åˆ°äº†ç¬¬ä¸€åï¼Œæ…Œäº†ä¸çŸ¥é“è‡ªå·±è¯¥æ€ä¹ˆåšï¼Œåœ¨å‰è¾ˆçš„å¸¦é¢†ä¸‹ï¼Œè‡ªå·±è¯´çš„æ²¡æœ‰é€»è¾‘å°±è¯´å®Œäº†ï¼›çŸ¥é“äº†å‘¨å›´åŒäº‹çš„ä¼˜ç§€ï¼Œä¹Ÿæ˜ç™½äº†è‡ªå·±æŠ€æœ¯ä¸æ‰å®ï¼Œæ²¡æœ‰è‡ªä¿¡ï¼›\n\næ¥ä¸‹æ¥çš„æ—¶é—´å°±æ˜¯æå‡è‡ªå·±ï¼Œæå‡è‡ªå·±çš„è‡ªä¿¡ï¼Œåœ¨ä»¥å…¬å¸é¡¹ç›®ä¸ºä¸­å¿ƒï¼ŒæŠ€æœ¯èŒƒå›´çš„å­¦ä¹ æ‰©å¤§ï¼Œä¸å•å•æ˜¯ä»¥`node, express`ç„¶åç®€å•äº†è§£`koa`çš„åŸºç¡€ä½¿ç”¨ï¼Œä¹‹ååœ¨è¿™åŸºç¡€ä¸Šåˆæ¥è§¦äº†`nestï¼Œ mqSql`ï¼Œå¹¶ä¸”ç®€å•çš„å¢åˆ æ”¹æŸ¥çš„åŠŸèƒ½ï¼›ç™½å¤©çš„æ—¶é—´åŸºæœ¬éƒ½åœ¨å·¥ä½œï¼Œé—²æš‡æ—¶é—´å»å­¦ä¹ `vue` ç›¸å…³çš„çŸ¥è¯†ï¼Œé€šè¿‡`githubé¡¹ç›®ï¼Œæ˜é‡‘ï¼Œcsdnç­‰ç­‰`è®ºå›ï¼Œæ–‡æ¡£çš„å½¢å¼è¡¥å……è‡ªå·±åŸºç¡€ä¸Šçš„ä¸è¶³ï¼›å†ä¸€å¹´çš„æ€»ç»“å¤§ä¼šï¼ŒåŒäº‹ç»™æˆ‘çš„è¯„ä»·: æˆé•¿è¿…é€Ÿï¼Œæœ‰è‡ªå·±çš„æƒ³æ³•ï¼Œä¸ä»–äººæ²Ÿé€šå¤šäº†èµ·æ¥ï¼›è€å¤§ä¹Ÿæ˜¯çœ‹å¥½æˆ‘çš„ï¼Œä¹‹åçš„å·¥ä½œä¸å†èŠ±å¤§é‡æ—¶é—´å»å­¦ä¹ åŸºç¡€äº†ï¼Œåœ¨é¡¹ç›®çš„å¥ åŸºä¸Šå»¶ä¼¸åŠŸèƒ½çš„ä¼˜åŒ–ï¼Œæ€§èƒ½çš„ä¼˜åŒ–ç­‰ç­‰ï¼›\n\nå¹¶åœ¨çŸ¥è¯†åº“ä¸­ï¼Œç¼–å†™æ–‡æ¡£ï¼Œé¡¹ç›®ä¸­ç»å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆï¼Œä¸€äº›å·¥å…·çš„å°è£…ä½¿ç”¨ï¼Œè§„èŒƒç­‰ç­‰ï¼Œå¹¶æå‡ºæŠ€æœ¯åˆ†äº«ä¼šè®®ï¼Œå°†è‡ªå·±çš„æ–‡æ¡£ï¼Œæƒ³æ³•è®²äº†å‡ºæ¥æ•ˆæœè¿˜æ˜¯ä¸é”™ï¼›ä¸è¿‡åæ¥æ²¡æœ‰ç»§ç»­æ‰§è¡Œäº†ï¼Œå¤§å®¶æ‰‹é‡Œçš„äº‹æƒ…æ¯”è¾ƒå¤šï¼Œéœ€æ±‚è¿­ä»£ç´§æ€¥å°±æ²¡æœ‰æ—¶é—´äº†è¯´è¿™ä¸ªåˆ†äº«ï¼›\n\n\nä¹‹åè§‰å¾—è‡ªå·±å·¥ä½œä¸­çš„åŠŸèƒ½æ²¡æœ‰å¤ªå¤§çš„é—®é¢˜ï¼Œå°±æ¥è§¦äº†ä¸€äº›å…¶ä»–çš„è¯­è¨€ï¼Œ`dart, flutter`ï¼Œäº†è§£å…¶ä½¿ç”¨ï¼Œ`getx`çŠ¶æ€ç®¡ç†å™¨, `http`çš„æ‹¦æˆªä½¿ç”¨ç®€å•çš„è¯·æ±‚æ¸²æŸ“é¡µé¢ï¼›ä½œä¸ºä¸€ä¸ªæŠ€æœ¯å‚¨å¤‡ï¼›\n\nåœ¨å…¬å¸å‘ç°äº†ä¸€äº›é—®é¢˜ï¼Œå…¬å¸æ²¡æœ‰pc,h5çš„æ¨¡æ¿é¡¹ç›®ï¼Œå¦‚æœåæœŸç¼–å†™æ–°çš„é¡¹ç›®åªèƒ½å¤åˆ¶ä¹‹å‰çš„é¡¹ç›®è¿›è¡Œä¿®æ”¹äº†ï¼Œåœ¨è¿™é—®é¢˜ä¹‹ä¸Šæˆ‘è¿›è¡Œè€ƒè™‘ï¼Œå¦‚æœèƒ½æƒ³`vue-cli`å®‰è£…ä¸€æ ·ï¼Œè¿™æ ·çš„é—®é¢˜æ˜¯ä¸æ˜¯å°±è§£å†³äº†ï¼Œçº¿ä¸‹æ—¶é—´å‘é¢†å¯¼è¯·æ±‚ä»“åº“çš„æƒé™ï¼Œåœ¨åŒæ„ä¹‹åèŠ±è´¹ä¿©å¤©å·¦å³æ—¶é—´äº†è§£å…¶è¿è¡ŒåŸç†ä¸åŠŸèƒ½ï¼Œå¹¶é€šè¿‡`npm`å‘å¸ƒè‡ªå·±çš„å·¥å…·ï¼Œäºæ˜¯`tem-pro`å·¥å…·å°±ä¸Šçº¿äº†ï¼›èµ·åˆå‘¨ä¸‹è½½é‡ä¹Ÿæœ‰äº†`100`å·¦å³çš„ä¸‹è½½ï¼Œæ…¢æ…¢çš„åé¢ä¸‹è½½é‡å°±å‡å°‘äº†ï¼›\n\n## ä¸Šæµ· - ç»ˆ\n\nå¯¹äºåæœŸæ˜¯å¦ç»§ç»­å‘†åœ¨ä¸Šæµ·è¿˜ä¸æ•¢ä¿è¯ï¼Œæ¯•ç«Ÿè‡ªèº«å‹åŠ›ï¼Œå®¶åº­ï¼Œè‡ªèº«æ¡ä»¶ï¼Œæˆå®¶ç­‰å¤šå› ç´ çš„å½±å“ï¼Œä¹Ÿæœ‰å¯èƒ½åå‡ å¹´å°±å›è€å®¶äº†ï¼›\n\nä¸è¿‡ç°åœ¨è¿˜æ²¡æœ‰è¿™ä¸ªæƒ³æ³•ï¼Œå…ˆç»§ç»­æå‡è‡ªå·±çš„èƒ½åŠ›å§ï¼","source":"_posts/å…³äº/å…³äºåšä¸».md","raw":"---\ntitle: å…¬å‘Š-å…³äºåšä¸»\nabbrlink: 3317594d\ndate: 2023-05-19\ncategories:\n  - å…¬å‘Š\ntags:\n  - å…³äºåšä¸»\n---\n\n\n## Hiï½\n\nWelcomeï¼Œæ¬¢è¿æ¥åˆ°æˆ‘çš„ç½‘ç«™ï¼Œæˆ‘å°±æ˜¯è¯¥ç½‘ç«™çš„è´Ÿè´£äºº--`ç‹å°æ³½`, è¯¥ç½‘ç«™è®°å½•ğŸ‘¤ä¸ªäººå·¥ä½œä¸­ï¼Œç”Ÿæ´»æ€»çš„è¶£äº‹ä¸éš¾é¢˜ï¼›æ¥ä¸‹æ¥ä¼šè¯´åˆ°æˆ‘çš„ä¼ å¥‡ğŸ˜\n\n## å°ç™½æ¥äº†\n\nå¤§å­¦æ¯•ä¸šä¹‹å‰çš„äº‹æƒ…å°±ä¸æäº†ï¼Œæ¯•ä¸šä¹‹ååœ¨å±±è¥¿å®ä¹ äº†çŸ­æš‚çš„ä¸€å¹´ï¼Œå®ä¹ å®Œæˆå› ä¸ºå®¶é‡Œçš„äº‹æƒ…ï¼Œæˆ‘å°±å‡ºå»æ”¾æ¾äº†ä¸€æ®µæ—¶é—´ï¼Œå»äº†äº‘å—ï¼›äº‘å—çš„æ™¯è‰²è¯´å®è¯æ˜¯çœŸçš„å¾ˆç¾ï¼Œè¡¨é¢ä¸Šæ˜¯ä»¥æ‰¾å·¥ä½œä¸ºå™±å¤´ï¼Œå…¶å®å°±æ˜¯å–äº‘å—æ—…æ¸¸ç©è€äº†ä¸€ä¸ªæœˆå·¦å³ï¼Œå±±æ¸…æ°´ç§€ï¼Œä¸è¿‡å½“æ—¶æ˜¯åœ¨äº”ååŒºçŸ­æš‚çš„å‘†äº†ä¸€ä¸ªæœˆï¼ŒåŸºæœ¬æ¯å¤©éƒ½ä¼šå¬åˆ°æ¶ˆé˜²è½¦åœ¨å¤§è¡—ä¸Šé¸£ç¬›ï¼›é‚£ä¼šçš„äº‘å—è¿˜æ˜¯å¤ªçƒ­äº†ï¼Œå±±ä¸Šçš„æ ‘æœ¨éƒ½æœ‰äº†è‡ªç„¶çš„ç°è±¡ï¼›\n\nè¿‡äº†å‡ å¤©ä¹‹åï¼Œå°±å¸¦ç€è‡ªå·±ç®€å†å»è¯•äº†è¯•ï¼Œå¾ˆæˆåŠŸçš„å¤±è´¥äº†ï¼Œä½†æ˜¯ä¹Ÿæ²¡æ€ä¹ˆåæ€è‡ªå·±çš„é—®é¢˜ï¼Œç»“æœæŠ•äº†å°†è¿‘åŠä¸ªæœˆå§ï¼Œæˆ‘å¿ƒæ€å´©äº†ï¼Œè¿åœ¨å½“åœ°çš„åŸºç¡€å·¥èµ„çš„å·¥ä½œéƒ½æ‰¾ä¸ä¸Šï¼Œä¹Ÿè®¸å‹åŠ›å¤§è¿˜æ˜¯è‡ªå·±çš„æ— èƒ½å¯¼è‡´è‡ªå·±èµ°å‘äº†è½»å¾®æŠ‘éƒï¼Œå„¿è¡Œåƒé‡Œæ¯æ‹…å¿§ï¼Œå½“æ—¶å®¶é‡Œä¹Ÿæ‰“è¿‡å¾ˆå¤šç”µè¯ï¼Œåˆšå¼€å§‹è¿˜è¯´é“è¯´é“ï¼Œåé¢\nå°±ä¸æ¥äº†ï¼Œå­¦æ ¡ï¼Œæœ‹å‹çš„æ¶ˆæ¯ä¹Ÿéƒ½æ²¡å›ï¼›\n\næœºç¼˜å·§åˆï¼Œåœ¨ä¸€ç•ªå¤±è´¥ä¹‹åï¼Œé¢è¯•ä¸Šäº†`æ˜†æ˜æ‹“é¸¿ç§‘æŠ€`å…¬å¸ï¼Œå½“æ—¶è¿›å»ä¹‹åï¼Œå°±æ„Ÿæ…¨çœŸä¸æ„§æ˜¯åŒºåŸŸå¤§å…¬å¸ï¼Œå½“æ—¶å¥½åƒç»å†äº†äºŒæ¬¡é¢è¯•ï¼Œä¹‹åä¸å…¬å¸çš„å¤§é¢†å¯¼è°ˆäº†è°ˆï¼Œä¹‹å‰æ˜¯åšæŠ€æœ¯çš„ï¼Œè¯´æˆ‘ç°åœ¨å¯ä»¥è€ƒè™‘ä¸€ä¸‹å…¬å¸çš„é”€å”®å²—ä½ï¼ŒåæœŸå¯ä»¥è°ƒå²—ï¼›æˆ‘æ²¡æœ‰ç›´æ¥æ‹’ç»ï¼Œè¯´äº†è€ƒè™‘ä¸€ä¸‹ï¼›\n\nåœ¨å…¬å¸å‘†äº†ä¸€ä¸‹åˆï¼Œå‚ä¸äº†å…¬å¸çš„ä¸€äº›å°æ¸¸æˆï¼Œæ´»åŠ¨ï¼Œä»‹ç»ç­‰ï¼›å›å»ä¹‹åè€ƒè™‘ä¹‹åå°±æ‹’ç»äº†ï¼›\n\nä¹‹åï¼Œæœ‹å‹è·Ÿæˆ‘æ‰“ç”µè¯è¯´æ˜¯è¦å»ä¸Šæµ·ï¼Œæˆ‘æƒ³è¿‡ä¹‹åï¼Œç›¸å¯¹äºå¤§åŸå¸‚è‚¯å®šæœºä¼šå¤šï¼ŒäºŒè¯ä¸è¯´çš„ç­”åº”äº†ï¼Œå¹¶ä¸”æ”¶æ‹¾å®Œä¹‹åï¼Œå°±å‡ºå‘äº†ï¼›\n\n## ä¸Šæµ· - åˆ\n\næ¥äº†ä¸Šæµ·ä¹‹åï¼Œæ²¡åœ°æ–¹ä½ï¼Œåªèƒ½ä½åœ¨æœ‹å‹é‚£é‡Œï¼Œä¸‰ä¸–ä¸€å…ä¸€å¨ä¸€å«ï¼Œä»–ä»¬æœ‰ä¸‰ä¸ªäººï¼Œå†åŠ ä¸Šæˆ‘å’Œæœ‹å‹å…±äº”äººï¼Œæœ‹å‹å»çš„æ‰¾ç¡åœ¨äº†æ²™å‘ï¼Œæˆ‘å»çš„æ™šä¸€äº›ï¼Œæ²¡åœ°æ–¹ç¡ï¼Œä¸Šæµ·æœ‹å‹è¯´å…ˆåœ¨è¿™é‡ŒæŒ¤ä¸€æŒ¤å§ï¼Œæ‰¾åˆ°å·¥ä½œä¹‹åå†æ¬èµ°ï¼Œä»–ä»¬ä¸‰å®¤ä¸»äººï¼Œä¸€äººä¸€é—´ï¼Œæœ‹å‹ç¡æ²™å‘åˆšå¥½å¤Ÿä»–çš„ä½ç½®ï¼ŒèŒ¶å‡ æ—è¾¹è¿˜æœ‰çª„çª„çš„è¿‡é“ï¼Œæˆ‘å°±æ¬äº†ä¿©ä¸ªå‡³å­å †åœ¨ä¸€èµ·ï¼Œå¤´ä¸‹æ”¾ä¸€ä¸ªï¼Œè…°ä¸‹æ”¾ä¸€ä¸ªï¼Œè„šä¸‹æ”¾è‡ªå·±çš„è¡Œæç®±ï¼›å°±é‚£æ ·åœ¨æ½®æ¹¿çš„ç¯å¢ƒå‘†äº†ä¸€ä¸ªæœˆå¥½åƒï¼Œæ‰¾åˆ°å„è‡ªçš„å·¥ä½œï¼Œç§Ÿæˆ¿ä¹‹åå°±ä¹°äº†ç‚¹æ°´æœç¤¼å“ï¼Œæ‹œè°¢ä¹‹åå°±æ¬èµ°äº†ï¼›\n\n`ä¸Šæµ·é¸£çš‹æ•™è‚²ç§‘æŠ€æœ‰é™å…¬å¸`, æˆ‘æ¥äº†ï¼Œåˆšå¼€å§‹è¿›å»ä¹‹åå¾ˆé™Œç”Ÿï¼Œä¹Ÿå¾ˆèƒ†æ€¯ï¼›èµ·åˆæ˜¯æ²¡æœ‰é¡¹ç›®å¯ä»¥åšçš„ï¼Œæˆ‘å°±åœ¨çœ‹å‰è¾ˆä»¬åšè¿‡çš„é¡¹ç›®å­¦ä¹ å­¦ä¹ ï¼›åŒäº‹ä¹Ÿå¾ˆçƒ­æƒ…ï¼Œæˆ‘è€å¤§`å¿—å“¥`äººå¾ˆä¸é”™ï¼Œåœ¨ä»–çš„å¸¦é¢†ä¸‹ï¼Œæˆ‘ç®—æ˜¯è½¬æ­£å¹¶æ¥è§¦äº†ç¬¬ä¸€ä¸ªå±äºè‡ªå·±æ­å»ºçš„é¡¹ç›®ï¼Œè¿™ä¸ªè¿‡ç¨‹å¾ˆç¹çï¼Œç»“æœä¹Ÿä¸æ˜¯å¾ˆæ»¡æ„ï¼Œå› ä¸ºæˆ‘æ²¡æœ‰ä»€ä¹ˆå·¥ä½œç»éªŒï¼Œå·¥ä½œä¸­ä¹Ÿæ€»æ˜¯çŠ¯é”™ï¼Œåˆšæ”¹å¥½çš„bugï¼Œæ”¹äº†å…¶ä»–åœ°æ–¹æœ‰æŠ¥é”™äº†ï¼›emmï¼Œæˆ‘å¾ˆè‹¦æ¼ï¼Œä¸è¿‡æˆ‘å¯¹é¢çš„åç«¯å‰è¾ˆæ¯”æˆ‘å¹´é•¿å‡ å²ï¼Œå’Œä»–è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘å­¦åˆ°äº†å¾ˆå¤šï¼Œè™½ç„¶è¯­æ°”ä¸æ€ä¹ˆå¥½ï¼Œä½†æ˜¯æ²¡æ”¾åœ¨å¿ƒä¸Š\nå°±æ˜¯ä¸ºäº†å­¦ä¹ è€Œæ¥ï¼›\n\né‚£æ—¶å€™èŠ±é”€ä¹Ÿå¾ˆå¤§ï¼Œå†åŠ ä¸Šä¹‹å‰æ‰‹å¤´æ¯”è¾ƒç´§ï¼Œåœ¨å¹³å°å€Ÿçš„ä¸€äº›ï¼Œå¯¼è‡´åä¿©å¹´éƒ½åœ¨è¿˜ï¼›\n\nä¹‹åï¼Œåœ¨å­¦ä¹ äº†ä¸€å¹´ä¹‹åï¼Œå°±è·Ÿè€å¤§æäº†ç¦»èŒã€‚ã€‚ã€‚\n\n## ä¸Šæµ· - ä¸­\n\næˆ‘æ¥åˆ°äº†`ä¸Šæµ·å¸˜é‚¦ä¿¡æ¯ç§‘æŠ€æœ‰é™å…¬å¸`, è§„æ¨¡äººæ•°è¦æ¯”ä¹‹å‰çš„å¤§ä¸€ç‚¹ï¼Œå…¥èŒä¹‹åï¼Œ`æ°å“¥`è®©æˆ‘ç†Ÿæ‚‰ä¸€ä¸‹ç¯å¢ƒï¼Œåˆšå¼€å§‹å¿ƒé‡Œæƒ³æ”¹å˜è‡ªå·±æ´»è·ƒèµ·æ¥ï¼Œä¸€åˆ°æ­£ç»æ—¶æœŸå°±æ€¯åœºï¼›å°±é‚£æ ·è½¬æ­£äº†ï¼Œæ¥è§¦äº†`node`ï¼Œå­¦ä¹ äº†è§„èŒƒåŒ–æµç¨‹æ¸…æ¥šçš„çŸ¥é“äº†è‡ªå·±å¾ˆå¤šçš„é—®é¢˜ä¸ç¼ºé™·ï¼›\n\nçº¿ä¸‹æ—¶é—´å°±å»äº†è§£`node`ï¼Œå¹¶ä»¥`node+express`æ­å»ºapiè¯·æ±‚ï¼Œåœ¨ç»å†ä¸ªåŠä¸ªæœˆä¹‹åï¼Œå°±è‡ªå·±åŠ¨æ‰‹æ­å»ºäº†ä¸€ä¸ªç®€å•çš„`åšå®¢ç³»ç»Ÿ`, è¿™ä¹Ÿæ˜¯ç¬¬ä¸€ä»£åšå®¢çš„äº§ç”Ÿï¼Œå› ä¸ºæ•°æ®å…¨éƒ½æ˜¯é™æ€çš„ï¼Œå¹¶ä¸”æ–‡æ¡£çš„è§£ææ–¹å¼ä¸ä¸€è‡´ï¼Œåé¢å°±åºŸå¼ƒäº†ï¼›ç®€å•çš„å­¦ä¹ äº†`å®å¡”`å¸ƒå±€æœåŠ¡å™¨ï¼Œåˆšå¼€å§‹çš„å‰ç«¯éƒ¨ç½²è¿˜æ˜¯ä¸Šä¼ æ–‡ä»¶ï¼Œåæ¥è€ƒè™‘åˆ°å¤ªéº»çƒ¦å°±æŸ¥é˜…èµ„æ–™ï¼Œè‡ªå·±ç®€å•çš„å­¦äº†ä¸€ä¸‹`jenkinsä¸æ˜¯nodeå’Œvueé¡¹ç›®`ï¼Œç®€å•è¯´å°±æ˜¯å°†é¡¹ç›®æ‹‰ä¸‹æ¥ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œå°†`dist`æ–‡ä»¶å†…å®¹å¤åˆ¶åœ¨è‡ªå·±çš„ç½‘ç«™ä¸‹é¢ï¼Œ è¿™æ ·é€šè¿‡å‘½ä»¤å°±å¯ä»¥ç›´æ¥å®Œæˆäº†ï¼›ä¸è¿‡æ‰“åŒ…å’Œéƒ¨ç½²è¿‡ç¨‹ä¹Ÿæ˜¯èŠ±è´¹äº†æˆ‘ä¸å°‘æ—¶é—´ï¼›\n\n`å¹´ç»ˆæ€»ç»“å¤§ä¼š`æ¥äº†ï¼Œå› ä¸ºä¹‹å‰æ²¡æœ‰å‚ä¸è¿‡ä¸çŸ¥é“æ€§è´¨å’Œä½œç”¨ï¼ŒæŠ½ç­¾æŠ½åˆ°äº†ç¬¬ä¸€åï¼Œæ…Œäº†ä¸çŸ¥é“è‡ªå·±è¯¥æ€ä¹ˆåšï¼Œåœ¨å‰è¾ˆçš„å¸¦é¢†ä¸‹ï¼Œè‡ªå·±è¯´çš„æ²¡æœ‰é€»è¾‘å°±è¯´å®Œäº†ï¼›çŸ¥é“äº†å‘¨å›´åŒäº‹çš„ä¼˜ç§€ï¼Œä¹Ÿæ˜ç™½äº†è‡ªå·±æŠ€æœ¯ä¸æ‰å®ï¼Œæ²¡æœ‰è‡ªä¿¡ï¼›\n\næ¥ä¸‹æ¥çš„æ—¶é—´å°±æ˜¯æå‡è‡ªå·±ï¼Œæå‡è‡ªå·±çš„è‡ªä¿¡ï¼Œåœ¨ä»¥å…¬å¸é¡¹ç›®ä¸ºä¸­å¿ƒï¼ŒæŠ€æœ¯èŒƒå›´çš„å­¦ä¹ æ‰©å¤§ï¼Œä¸å•å•æ˜¯ä»¥`node, express`ç„¶åç®€å•äº†è§£`koa`çš„åŸºç¡€ä½¿ç”¨ï¼Œä¹‹ååœ¨è¿™åŸºç¡€ä¸Šåˆæ¥è§¦äº†`nestï¼Œ mqSql`ï¼Œå¹¶ä¸”ç®€å•çš„å¢åˆ æ”¹æŸ¥çš„åŠŸèƒ½ï¼›ç™½å¤©çš„æ—¶é—´åŸºæœ¬éƒ½åœ¨å·¥ä½œï¼Œé—²æš‡æ—¶é—´å»å­¦ä¹ `vue` ç›¸å…³çš„çŸ¥è¯†ï¼Œé€šè¿‡`githubé¡¹ç›®ï¼Œæ˜é‡‘ï¼Œcsdnç­‰ç­‰`è®ºå›ï¼Œæ–‡æ¡£çš„å½¢å¼è¡¥å……è‡ªå·±åŸºç¡€ä¸Šçš„ä¸è¶³ï¼›å†ä¸€å¹´çš„æ€»ç»“å¤§ä¼šï¼ŒåŒäº‹ç»™æˆ‘çš„è¯„ä»·: æˆé•¿è¿…é€Ÿï¼Œæœ‰è‡ªå·±çš„æƒ³æ³•ï¼Œä¸ä»–äººæ²Ÿé€šå¤šäº†èµ·æ¥ï¼›è€å¤§ä¹Ÿæ˜¯çœ‹å¥½æˆ‘çš„ï¼Œä¹‹åçš„å·¥ä½œä¸å†èŠ±å¤§é‡æ—¶é—´å»å­¦ä¹ åŸºç¡€äº†ï¼Œåœ¨é¡¹ç›®çš„å¥ åŸºä¸Šå»¶ä¼¸åŠŸèƒ½çš„ä¼˜åŒ–ï¼Œæ€§èƒ½çš„ä¼˜åŒ–ç­‰ç­‰ï¼›\n\nå¹¶åœ¨çŸ¥è¯†åº“ä¸­ï¼Œç¼–å†™æ–‡æ¡£ï¼Œé¡¹ç›®ä¸­ç»å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆï¼Œä¸€äº›å·¥å…·çš„å°è£…ä½¿ç”¨ï¼Œè§„èŒƒç­‰ç­‰ï¼Œå¹¶æå‡ºæŠ€æœ¯åˆ†äº«ä¼šè®®ï¼Œå°†è‡ªå·±çš„æ–‡æ¡£ï¼Œæƒ³æ³•è®²äº†å‡ºæ¥æ•ˆæœè¿˜æ˜¯ä¸é”™ï¼›ä¸è¿‡åæ¥æ²¡æœ‰ç»§ç»­æ‰§è¡Œäº†ï¼Œå¤§å®¶æ‰‹é‡Œçš„äº‹æƒ…æ¯”è¾ƒå¤šï¼Œéœ€æ±‚è¿­ä»£ç´§æ€¥å°±æ²¡æœ‰æ—¶é—´äº†è¯´è¿™ä¸ªåˆ†äº«ï¼›\n\n\nä¹‹åè§‰å¾—è‡ªå·±å·¥ä½œä¸­çš„åŠŸèƒ½æ²¡æœ‰å¤ªå¤§çš„é—®é¢˜ï¼Œå°±æ¥è§¦äº†ä¸€äº›å…¶ä»–çš„è¯­è¨€ï¼Œ`dart, flutter`ï¼Œäº†è§£å…¶ä½¿ç”¨ï¼Œ`getx`çŠ¶æ€ç®¡ç†å™¨, `http`çš„æ‹¦æˆªä½¿ç”¨ç®€å•çš„è¯·æ±‚æ¸²æŸ“é¡µé¢ï¼›ä½œä¸ºä¸€ä¸ªæŠ€æœ¯å‚¨å¤‡ï¼›\n\nåœ¨å…¬å¸å‘ç°äº†ä¸€äº›é—®é¢˜ï¼Œå…¬å¸æ²¡æœ‰pc,h5çš„æ¨¡æ¿é¡¹ç›®ï¼Œå¦‚æœåæœŸç¼–å†™æ–°çš„é¡¹ç›®åªèƒ½å¤åˆ¶ä¹‹å‰çš„é¡¹ç›®è¿›è¡Œä¿®æ”¹äº†ï¼Œåœ¨è¿™é—®é¢˜ä¹‹ä¸Šæˆ‘è¿›è¡Œè€ƒè™‘ï¼Œå¦‚æœèƒ½æƒ³`vue-cli`å®‰è£…ä¸€æ ·ï¼Œè¿™æ ·çš„é—®é¢˜æ˜¯ä¸æ˜¯å°±è§£å†³äº†ï¼Œçº¿ä¸‹æ—¶é—´å‘é¢†å¯¼è¯·æ±‚ä»“åº“çš„æƒé™ï¼Œåœ¨åŒæ„ä¹‹åèŠ±è´¹ä¿©å¤©å·¦å³æ—¶é—´äº†è§£å…¶è¿è¡ŒåŸç†ä¸åŠŸèƒ½ï¼Œå¹¶é€šè¿‡`npm`å‘å¸ƒè‡ªå·±çš„å·¥å…·ï¼Œäºæ˜¯`tem-pro`å·¥å…·å°±ä¸Šçº¿äº†ï¼›èµ·åˆå‘¨ä¸‹è½½é‡ä¹Ÿæœ‰äº†`100`å·¦å³çš„ä¸‹è½½ï¼Œæ…¢æ…¢çš„åé¢ä¸‹è½½é‡å°±å‡å°‘äº†ï¼›\n\n## ä¸Šæµ· - ç»ˆ\n\nå¯¹äºåæœŸæ˜¯å¦ç»§ç»­å‘†åœ¨ä¸Šæµ·è¿˜ä¸æ•¢ä¿è¯ï¼Œæ¯•ç«Ÿè‡ªèº«å‹åŠ›ï¼Œå®¶åº­ï¼Œè‡ªèº«æ¡ä»¶ï¼Œæˆå®¶ç­‰å¤šå› ç´ çš„å½±å“ï¼Œä¹Ÿæœ‰å¯èƒ½åå‡ å¹´å°±å›è€å®¶äº†ï¼›\n\nä¸è¿‡ç°åœ¨è¿˜æ²¡æœ‰è¿™ä¸ªæƒ³æ³•ï¼Œå…ˆç»§ç»­æå‡è‡ªå·±çš„èƒ½åŠ›å§ï¼","slug":"å…³äº/å…³äºåšä¸»","published":1,"updated":"2025-03-12T10:50:36.031Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0im0001fg9m6nopb44r","content":"<h2 id=\"Hiï½\"><a href=\"#Hiï½\" class=\"headerlink\" title=\"Hiï½\"></a>Hiï½</h2><p>Welcomeï¼Œæ¬¢è¿æ¥åˆ°æˆ‘çš„ç½‘ç«™ï¼Œæˆ‘å°±æ˜¯è¯¥ç½‘ç«™çš„è´Ÿè´£äººâ€“<code>ç‹å°æ³½</code>, è¯¥ç½‘ç«™è®°å½•ğŸ‘¤ä¸ªäººå·¥ä½œä¸­ï¼Œç”Ÿæ´»æ€»çš„è¶£äº‹ä¸éš¾é¢˜ï¼›æ¥ä¸‹æ¥ä¼šè¯´åˆ°æˆ‘çš„ä¼ å¥‡ğŸ˜</p>\n<h2 id=\"å°ç™½æ¥äº†\"><a href=\"#å°ç™½æ¥äº†\" class=\"headerlink\" title=\"å°ç™½æ¥äº†\"></a>å°ç™½æ¥äº†</h2><p>å¤§å­¦æ¯•ä¸šä¹‹å‰çš„äº‹æƒ…å°±ä¸æäº†ï¼Œæ¯•ä¸šä¹‹ååœ¨å±±è¥¿å®ä¹ äº†çŸ­æš‚çš„ä¸€å¹´ï¼Œå®ä¹ å®Œæˆå› ä¸ºå®¶é‡Œçš„äº‹æƒ…ï¼Œæˆ‘å°±å‡ºå»æ”¾æ¾äº†ä¸€æ®µæ—¶é—´ï¼Œå»äº†äº‘å—ï¼›äº‘å—çš„æ™¯è‰²è¯´å®è¯æ˜¯çœŸçš„å¾ˆç¾ï¼Œè¡¨é¢ä¸Šæ˜¯ä»¥æ‰¾å·¥ä½œä¸ºå™±å¤´ï¼Œå…¶å®å°±æ˜¯å–äº‘å—æ—…æ¸¸ç©è€äº†ä¸€ä¸ªæœˆå·¦å³ï¼Œå±±æ¸…æ°´ç§€ï¼Œä¸è¿‡å½“æ—¶æ˜¯åœ¨äº”ååŒºçŸ­æš‚çš„å‘†äº†ä¸€ä¸ªæœˆï¼ŒåŸºæœ¬æ¯å¤©éƒ½ä¼šå¬åˆ°æ¶ˆé˜²è½¦åœ¨å¤§è¡—ä¸Šé¸£ç¬›ï¼›é‚£ä¼šçš„äº‘å—è¿˜æ˜¯å¤ªçƒ­äº†ï¼Œå±±ä¸Šçš„æ ‘æœ¨éƒ½æœ‰äº†è‡ªç„¶çš„ç°è±¡ï¼›</p>\n<p>è¿‡äº†å‡ å¤©ä¹‹åï¼Œå°±å¸¦ç€è‡ªå·±ç®€å†å»è¯•äº†è¯•ï¼Œå¾ˆæˆåŠŸçš„å¤±è´¥äº†ï¼Œä½†æ˜¯ä¹Ÿæ²¡æ€ä¹ˆåæ€è‡ªå·±çš„é—®é¢˜ï¼Œç»“æœæŠ•äº†å°†è¿‘åŠä¸ªæœˆå§ï¼Œæˆ‘å¿ƒæ€å´©äº†ï¼Œè¿åœ¨å½“åœ°çš„åŸºç¡€å·¥èµ„çš„å·¥ä½œéƒ½æ‰¾ä¸ä¸Šï¼Œä¹Ÿè®¸å‹åŠ›å¤§è¿˜æ˜¯è‡ªå·±çš„æ— èƒ½å¯¼è‡´è‡ªå·±èµ°å‘äº†è½»å¾®æŠ‘éƒï¼Œå„¿è¡Œåƒé‡Œæ¯æ‹…å¿§ï¼Œå½“æ—¶å®¶é‡Œä¹Ÿæ‰“è¿‡å¾ˆå¤šç”µè¯ï¼Œåˆšå¼€å§‹è¿˜è¯´é“è¯´é“ï¼Œåé¢<br>å°±ä¸æ¥äº†ï¼Œå­¦æ ¡ï¼Œæœ‹å‹çš„æ¶ˆæ¯ä¹Ÿéƒ½æ²¡å›ï¼›</p>\n<p>æœºç¼˜å·§åˆï¼Œåœ¨ä¸€ç•ªå¤±è´¥ä¹‹åï¼Œé¢è¯•ä¸Šäº†<code>æ˜†æ˜æ‹“é¸¿ç§‘æŠ€</code>å…¬å¸ï¼Œå½“æ—¶è¿›å»ä¹‹åï¼Œå°±æ„Ÿæ…¨çœŸä¸æ„§æ˜¯åŒºåŸŸå¤§å…¬å¸ï¼Œå½“æ—¶å¥½åƒç»å†äº†äºŒæ¬¡é¢è¯•ï¼Œä¹‹åä¸å…¬å¸çš„å¤§é¢†å¯¼è°ˆäº†è°ˆï¼Œä¹‹å‰æ˜¯åšæŠ€æœ¯çš„ï¼Œè¯´æˆ‘ç°åœ¨å¯ä»¥è€ƒè™‘ä¸€ä¸‹å…¬å¸çš„é”€å”®å²—ä½ï¼ŒåæœŸå¯ä»¥è°ƒå²—ï¼›æˆ‘æ²¡æœ‰ç›´æ¥æ‹’ç»ï¼Œè¯´äº†è€ƒè™‘ä¸€ä¸‹ï¼›</p>\n<p>åœ¨å…¬å¸å‘†äº†ä¸€ä¸‹åˆï¼Œå‚ä¸äº†å…¬å¸çš„ä¸€äº›å°æ¸¸æˆï¼Œæ´»åŠ¨ï¼Œä»‹ç»ç­‰ï¼›å›å»ä¹‹åè€ƒè™‘ä¹‹åå°±æ‹’ç»äº†ï¼›</p>\n<p>ä¹‹åï¼Œæœ‹å‹è·Ÿæˆ‘æ‰“ç”µè¯è¯´æ˜¯è¦å»ä¸Šæµ·ï¼Œæˆ‘æƒ³è¿‡ä¹‹åï¼Œç›¸å¯¹äºå¤§åŸå¸‚è‚¯å®šæœºä¼šå¤šï¼ŒäºŒè¯ä¸è¯´çš„ç­”åº”äº†ï¼Œå¹¶ä¸”æ”¶æ‹¾å®Œä¹‹åï¼Œå°±å‡ºå‘äº†ï¼›</p>\n<h2 id=\"ä¸Šæµ·-åˆ\"><a href=\"#ä¸Šæµ·-åˆ\" class=\"headerlink\" title=\"ä¸Šæµ· - åˆ\"></a>ä¸Šæµ· - åˆ</h2><p>æ¥äº†ä¸Šæµ·ä¹‹åï¼Œæ²¡åœ°æ–¹ä½ï¼Œåªèƒ½ä½åœ¨æœ‹å‹é‚£é‡Œï¼Œä¸‰ä¸–ä¸€å…ä¸€å¨ä¸€å«ï¼Œä»–ä»¬æœ‰ä¸‰ä¸ªäººï¼Œå†åŠ ä¸Šæˆ‘å’Œæœ‹å‹å…±äº”äººï¼Œæœ‹å‹å»çš„æ‰¾ç¡åœ¨äº†æ²™å‘ï¼Œæˆ‘å»çš„æ™šä¸€äº›ï¼Œæ²¡åœ°æ–¹ç¡ï¼Œä¸Šæµ·æœ‹å‹è¯´å…ˆåœ¨è¿™é‡ŒæŒ¤ä¸€æŒ¤å§ï¼Œæ‰¾åˆ°å·¥ä½œä¹‹åå†æ¬èµ°ï¼Œä»–ä»¬ä¸‰å®¤ä¸»äººï¼Œä¸€äººä¸€é—´ï¼Œæœ‹å‹ç¡æ²™å‘åˆšå¥½å¤Ÿä»–çš„ä½ç½®ï¼ŒèŒ¶å‡ æ—è¾¹è¿˜æœ‰çª„çª„çš„è¿‡é“ï¼Œæˆ‘å°±æ¬äº†ä¿©ä¸ªå‡³å­å †åœ¨ä¸€èµ·ï¼Œå¤´ä¸‹æ”¾ä¸€ä¸ªï¼Œè…°ä¸‹æ”¾ä¸€ä¸ªï¼Œè„šä¸‹æ”¾è‡ªå·±çš„è¡Œæç®±ï¼›å°±é‚£æ ·åœ¨æ½®æ¹¿çš„ç¯å¢ƒå‘†äº†ä¸€ä¸ªæœˆå¥½åƒï¼Œæ‰¾åˆ°å„è‡ªçš„å·¥ä½œï¼Œç§Ÿæˆ¿ä¹‹åå°±ä¹°äº†ç‚¹æ°´æœç¤¼å“ï¼Œæ‹œè°¢ä¹‹åå°±æ¬èµ°äº†ï¼›</p>\n<p><code>ä¸Šæµ·é¸£çš‹æ•™è‚²ç§‘æŠ€æœ‰é™å…¬å¸</code>, æˆ‘æ¥äº†ï¼Œåˆšå¼€å§‹è¿›å»ä¹‹åå¾ˆé™Œç”Ÿï¼Œä¹Ÿå¾ˆèƒ†æ€¯ï¼›èµ·åˆæ˜¯æ²¡æœ‰é¡¹ç›®å¯ä»¥åšçš„ï¼Œæˆ‘å°±åœ¨çœ‹å‰è¾ˆä»¬åšè¿‡çš„é¡¹ç›®å­¦ä¹ å­¦ä¹ ï¼›åŒäº‹ä¹Ÿå¾ˆçƒ­æƒ…ï¼Œæˆ‘è€å¤§<code>å¿—å“¥</code>äººå¾ˆä¸é”™ï¼Œåœ¨ä»–çš„å¸¦é¢†ä¸‹ï¼Œæˆ‘ç®—æ˜¯è½¬æ­£å¹¶æ¥è§¦äº†ç¬¬ä¸€ä¸ªå±äºè‡ªå·±æ­å»ºçš„é¡¹ç›®ï¼Œè¿™ä¸ªè¿‡ç¨‹å¾ˆç¹çï¼Œç»“æœä¹Ÿä¸æ˜¯å¾ˆæ»¡æ„ï¼Œå› ä¸ºæˆ‘æ²¡æœ‰ä»€ä¹ˆå·¥ä½œç»éªŒï¼Œå·¥ä½œä¸­ä¹Ÿæ€»æ˜¯çŠ¯é”™ï¼Œåˆšæ”¹å¥½çš„bugï¼Œæ”¹äº†å…¶ä»–åœ°æ–¹æœ‰æŠ¥é”™äº†ï¼›emmï¼Œæˆ‘å¾ˆè‹¦æ¼ï¼Œä¸è¿‡æˆ‘å¯¹é¢çš„åç«¯å‰è¾ˆæ¯”æˆ‘å¹´é•¿å‡ å²ï¼Œå’Œä»–è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘å­¦åˆ°äº†å¾ˆå¤šï¼Œè™½ç„¶è¯­æ°”ä¸æ€ä¹ˆå¥½ï¼Œä½†æ˜¯æ²¡æ”¾åœ¨å¿ƒä¸Š<br>å°±æ˜¯ä¸ºäº†å­¦ä¹ è€Œæ¥ï¼›</p>\n<p>é‚£æ—¶å€™èŠ±é”€ä¹Ÿå¾ˆå¤§ï¼Œå†åŠ ä¸Šä¹‹å‰æ‰‹å¤´æ¯”è¾ƒç´§ï¼Œåœ¨å¹³å°å€Ÿçš„ä¸€äº›ï¼Œå¯¼è‡´åä¿©å¹´éƒ½åœ¨è¿˜ï¼›</p>\n<p>ä¹‹åï¼Œåœ¨å­¦ä¹ äº†ä¸€å¹´ä¹‹åï¼Œå°±è·Ÿè€å¤§æäº†ç¦»èŒã€‚ã€‚ã€‚</p>\n<h2 id=\"ä¸Šæµ·-ä¸­\"><a href=\"#ä¸Šæµ·-ä¸­\" class=\"headerlink\" title=\"ä¸Šæµ· - ä¸­\"></a>ä¸Šæµ· - ä¸­</h2><p>æˆ‘æ¥åˆ°äº†<code>ä¸Šæµ·å¸˜é‚¦ä¿¡æ¯ç§‘æŠ€æœ‰é™å…¬å¸</code>, è§„æ¨¡äººæ•°è¦æ¯”ä¹‹å‰çš„å¤§ä¸€ç‚¹ï¼Œå…¥èŒä¹‹åï¼Œ<code>æ°å“¥</code>è®©æˆ‘ç†Ÿæ‚‰ä¸€ä¸‹ç¯å¢ƒï¼Œåˆšå¼€å§‹å¿ƒé‡Œæƒ³æ”¹å˜è‡ªå·±æ´»è·ƒèµ·æ¥ï¼Œä¸€åˆ°æ­£ç»æ—¶æœŸå°±æ€¯åœºï¼›å°±é‚£æ ·è½¬æ­£äº†ï¼Œæ¥è§¦äº†<code>node</code>ï¼Œå­¦ä¹ äº†è§„èŒƒåŒ–æµç¨‹æ¸…æ¥šçš„çŸ¥é“äº†è‡ªå·±å¾ˆå¤šçš„é—®é¢˜ä¸ç¼ºé™·ï¼›</p>\n<p>çº¿ä¸‹æ—¶é—´å°±å»äº†è§£<code>node</code>ï¼Œå¹¶ä»¥<code>node+express</code>æ­å»ºapiè¯·æ±‚ï¼Œåœ¨ç»å†ä¸ªåŠä¸ªæœˆä¹‹åï¼Œå°±è‡ªå·±åŠ¨æ‰‹æ­å»ºäº†ä¸€ä¸ªç®€å•çš„<code>åšå®¢ç³»ç»Ÿ</code>, è¿™ä¹Ÿæ˜¯ç¬¬ä¸€ä»£åšå®¢çš„äº§ç”Ÿï¼Œå› ä¸ºæ•°æ®å…¨éƒ½æ˜¯é™æ€çš„ï¼Œå¹¶ä¸”æ–‡æ¡£çš„è§£ææ–¹å¼ä¸ä¸€è‡´ï¼Œåé¢å°±åºŸå¼ƒäº†ï¼›ç®€å•çš„å­¦ä¹ äº†<code>å®å¡”</code>å¸ƒå±€æœåŠ¡å™¨ï¼Œåˆšå¼€å§‹çš„å‰ç«¯éƒ¨ç½²è¿˜æ˜¯ä¸Šä¼ æ–‡ä»¶ï¼Œåæ¥è€ƒè™‘åˆ°å¤ªéº»çƒ¦å°±æŸ¥é˜…èµ„æ–™ï¼Œè‡ªå·±ç®€å•çš„å­¦äº†ä¸€ä¸‹<code>jenkinsä¸æ˜¯nodeå’Œvueé¡¹ç›®</code>ï¼Œç®€å•è¯´å°±æ˜¯å°†é¡¹ç›®æ‹‰ä¸‹æ¥ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œå°†<code>dist</code>æ–‡ä»¶å†…å®¹å¤åˆ¶åœ¨è‡ªå·±çš„ç½‘ç«™ä¸‹é¢ï¼Œ è¿™æ ·é€šè¿‡å‘½ä»¤å°±å¯ä»¥ç›´æ¥å®Œæˆäº†ï¼›ä¸è¿‡æ‰“åŒ…å’Œéƒ¨ç½²è¿‡ç¨‹ä¹Ÿæ˜¯èŠ±è´¹äº†æˆ‘ä¸å°‘æ—¶é—´ï¼›</p>\n<p><code>å¹´ç»ˆæ€»ç»“å¤§ä¼š</code>æ¥äº†ï¼Œå› ä¸ºä¹‹å‰æ²¡æœ‰å‚ä¸è¿‡ä¸çŸ¥é“æ€§è´¨å’Œä½œç”¨ï¼ŒæŠ½ç­¾æŠ½åˆ°äº†ç¬¬ä¸€åï¼Œæ…Œäº†ä¸çŸ¥é“è‡ªå·±è¯¥æ€ä¹ˆåšï¼Œåœ¨å‰è¾ˆçš„å¸¦é¢†ä¸‹ï¼Œè‡ªå·±è¯´çš„æ²¡æœ‰é€»è¾‘å°±è¯´å®Œäº†ï¼›çŸ¥é“äº†å‘¨å›´åŒäº‹çš„ä¼˜ç§€ï¼Œä¹Ÿæ˜ç™½äº†è‡ªå·±æŠ€æœ¯ä¸æ‰å®ï¼Œæ²¡æœ‰è‡ªä¿¡ï¼›</p>\n<p>æ¥ä¸‹æ¥çš„æ—¶é—´å°±æ˜¯æå‡è‡ªå·±ï¼Œæå‡è‡ªå·±çš„è‡ªä¿¡ï¼Œåœ¨ä»¥å…¬å¸é¡¹ç›®ä¸ºä¸­å¿ƒï¼ŒæŠ€æœ¯èŒƒå›´çš„å­¦ä¹ æ‰©å¤§ï¼Œä¸å•å•æ˜¯ä»¥<code>node, express</code>ç„¶åç®€å•äº†è§£<code>koa</code>çš„åŸºç¡€ä½¿ç”¨ï¼Œä¹‹ååœ¨è¿™åŸºç¡€ä¸Šåˆæ¥è§¦äº†<code>nestï¼Œ mqSql</code>ï¼Œå¹¶ä¸”ç®€å•çš„å¢åˆ æ”¹æŸ¥çš„åŠŸèƒ½ï¼›ç™½å¤©çš„æ—¶é—´åŸºæœ¬éƒ½åœ¨å·¥ä½œï¼Œé—²æš‡æ—¶é—´å»å­¦ä¹ <code>vue</code> ç›¸å…³çš„çŸ¥è¯†ï¼Œé€šè¿‡<code>githubé¡¹ç›®ï¼Œæ˜é‡‘ï¼Œcsdnç­‰ç­‰</code>è®ºå›ï¼Œæ–‡æ¡£çš„å½¢å¼è¡¥å……è‡ªå·±åŸºç¡€ä¸Šçš„ä¸è¶³ï¼›å†ä¸€å¹´çš„æ€»ç»“å¤§ä¼šï¼ŒåŒäº‹ç»™æˆ‘çš„è¯„ä»·: æˆé•¿è¿…é€Ÿï¼Œæœ‰è‡ªå·±çš„æƒ³æ³•ï¼Œä¸ä»–äººæ²Ÿé€šå¤šäº†èµ·æ¥ï¼›è€å¤§ä¹Ÿæ˜¯çœ‹å¥½æˆ‘çš„ï¼Œä¹‹åçš„å·¥ä½œä¸å†èŠ±å¤§é‡æ—¶é—´å»å­¦ä¹ åŸºç¡€äº†ï¼Œåœ¨é¡¹ç›®çš„å¥ åŸºä¸Šå»¶ä¼¸åŠŸèƒ½çš„ä¼˜åŒ–ï¼Œæ€§èƒ½çš„ä¼˜åŒ–ç­‰ç­‰ï¼›</p>\n<p>å¹¶åœ¨çŸ¥è¯†åº“ä¸­ï¼Œç¼–å†™æ–‡æ¡£ï¼Œé¡¹ç›®ä¸­ç»å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆï¼Œä¸€äº›å·¥å…·çš„å°è£…ä½¿ç”¨ï¼Œè§„èŒƒç­‰ç­‰ï¼Œå¹¶æå‡ºæŠ€æœ¯åˆ†äº«ä¼šè®®ï¼Œå°†è‡ªå·±çš„æ–‡æ¡£ï¼Œæƒ³æ³•è®²äº†å‡ºæ¥æ•ˆæœè¿˜æ˜¯ä¸é”™ï¼›ä¸è¿‡åæ¥æ²¡æœ‰ç»§ç»­æ‰§è¡Œäº†ï¼Œå¤§å®¶æ‰‹é‡Œçš„äº‹æƒ…æ¯”è¾ƒå¤šï¼Œéœ€æ±‚è¿­ä»£ç´§æ€¥å°±æ²¡æœ‰æ—¶é—´äº†è¯´è¿™ä¸ªåˆ†äº«ï¼›</p>\n<p>ä¹‹åè§‰å¾—è‡ªå·±å·¥ä½œä¸­çš„åŠŸèƒ½æ²¡æœ‰å¤ªå¤§çš„é—®é¢˜ï¼Œå°±æ¥è§¦äº†ä¸€äº›å…¶ä»–çš„è¯­è¨€ï¼Œ<code>dart, flutter</code>ï¼Œäº†è§£å…¶ä½¿ç”¨ï¼Œ<code>getx</code>çŠ¶æ€ç®¡ç†å™¨, <code>http</code>çš„æ‹¦æˆªä½¿ç”¨ç®€å•çš„è¯·æ±‚æ¸²æŸ“é¡µé¢ï¼›ä½œä¸ºä¸€ä¸ªæŠ€æœ¯å‚¨å¤‡ï¼›</p>\n<p>åœ¨å…¬å¸å‘ç°äº†ä¸€äº›é—®é¢˜ï¼Œå…¬å¸æ²¡æœ‰pc,h5çš„æ¨¡æ¿é¡¹ç›®ï¼Œå¦‚æœåæœŸç¼–å†™æ–°çš„é¡¹ç›®åªèƒ½å¤åˆ¶ä¹‹å‰çš„é¡¹ç›®è¿›è¡Œä¿®æ”¹äº†ï¼Œåœ¨è¿™é—®é¢˜ä¹‹ä¸Šæˆ‘è¿›è¡Œè€ƒè™‘ï¼Œå¦‚æœèƒ½æƒ³<code>vue-cli</code>å®‰è£…ä¸€æ ·ï¼Œè¿™æ ·çš„é—®é¢˜æ˜¯ä¸æ˜¯å°±è§£å†³äº†ï¼Œçº¿ä¸‹æ—¶é—´å‘é¢†å¯¼è¯·æ±‚ä»“åº“çš„æƒé™ï¼Œåœ¨åŒæ„ä¹‹åèŠ±è´¹ä¿©å¤©å·¦å³æ—¶é—´äº†è§£å…¶è¿è¡ŒåŸç†ä¸åŠŸèƒ½ï¼Œå¹¶é€šè¿‡<code>npm</code>å‘å¸ƒè‡ªå·±çš„å·¥å…·ï¼Œäºæ˜¯<code>tem-pro</code>å·¥å…·å°±ä¸Šçº¿äº†ï¼›èµ·åˆå‘¨ä¸‹è½½é‡ä¹Ÿæœ‰äº†<code>100</code>å·¦å³çš„ä¸‹è½½ï¼Œæ…¢æ…¢çš„åé¢ä¸‹è½½é‡å°±å‡å°‘äº†ï¼›</p>\n<h2 id=\"ä¸Šæµ·-ç»ˆ\"><a href=\"#ä¸Šæµ·-ç»ˆ\" class=\"headerlink\" title=\"ä¸Šæµ· - ç»ˆ\"></a>ä¸Šæµ· - ç»ˆ</h2><p>å¯¹äºåæœŸæ˜¯å¦ç»§ç»­å‘†åœ¨ä¸Šæµ·è¿˜ä¸æ•¢ä¿è¯ï¼Œæ¯•ç«Ÿè‡ªèº«å‹åŠ›ï¼Œå®¶åº­ï¼Œè‡ªèº«æ¡ä»¶ï¼Œæˆå®¶ç­‰å¤šå› ç´ çš„å½±å“ï¼Œä¹Ÿæœ‰å¯èƒ½åå‡ å¹´å°±å›è€å®¶äº†ï¼›</p>\n<p>ä¸è¿‡ç°åœ¨è¿˜æ²¡æœ‰è¿™ä¸ªæƒ³æ³•ï¼Œå…ˆç»§ç»­æå‡è‡ªå·±çš„èƒ½åŠ›å§ï¼</p>\n","excerpt":"","more":"<h2 id=\"Hiï½\"><a href=\"#Hiï½\" class=\"headerlink\" title=\"Hiï½\"></a>Hiï½</h2><p>Welcomeï¼Œæ¬¢è¿æ¥åˆ°æˆ‘çš„ç½‘ç«™ï¼Œæˆ‘å°±æ˜¯è¯¥ç½‘ç«™çš„è´Ÿè´£äººâ€“<code>ç‹å°æ³½</code>, è¯¥ç½‘ç«™è®°å½•ğŸ‘¤ä¸ªäººå·¥ä½œä¸­ï¼Œç”Ÿæ´»æ€»çš„è¶£äº‹ä¸éš¾é¢˜ï¼›æ¥ä¸‹æ¥ä¼šè¯´åˆ°æˆ‘çš„ä¼ å¥‡ğŸ˜</p>\n<h2 id=\"å°ç™½æ¥äº†\"><a href=\"#å°ç™½æ¥äº†\" class=\"headerlink\" title=\"å°ç™½æ¥äº†\"></a>å°ç™½æ¥äº†</h2><p>å¤§å­¦æ¯•ä¸šä¹‹å‰çš„äº‹æƒ…å°±ä¸æäº†ï¼Œæ¯•ä¸šä¹‹ååœ¨å±±è¥¿å®ä¹ äº†çŸ­æš‚çš„ä¸€å¹´ï¼Œå®ä¹ å®Œæˆå› ä¸ºå®¶é‡Œçš„äº‹æƒ…ï¼Œæˆ‘å°±å‡ºå»æ”¾æ¾äº†ä¸€æ®µæ—¶é—´ï¼Œå»äº†äº‘å—ï¼›äº‘å—çš„æ™¯è‰²è¯´å®è¯æ˜¯çœŸçš„å¾ˆç¾ï¼Œè¡¨é¢ä¸Šæ˜¯ä»¥æ‰¾å·¥ä½œä¸ºå™±å¤´ï¼Œå…¶å®å°±æ˜¯å–äº‘å—æ—…æ¸¸ç©è€äº†ä¸€ä¸ªæœˆå·¦å³ï¼Œå±±æ¸…æ°´ç§€ï¼Œä¸è¿‡å½“æ—¶æ˜¯åœ¨äº”ååŒºçŸ­æš‚çš„å‘†äº†ä¸€ä¸ªæœˆï¼ŒåŸºæœ¬æ¯å¤©éƒ½ä¼šå¬åˆ°æ¶ˆé˜²è½¦åœ¨å¤§è¡—ä¸Šé¸£ç¬›ï¼›é‚£ä¼šçš„äº‘å—è¿˜æ˜¯å¤ªçƒ­äº†ï¼Œå±±ä¸Šçš„æ ‘æœ¨éƒ½æœ‰äº†è‡ªç„¶çš„ç°è±¡ï¼›</p>\n<p>è¿‡äº†å‡ å¤©ä¹‹åï¼Œå°±å¸¦ç€è‡ªå·±ç®€å†å»è¯•äº†è¯•ï¼Œå¾ˆæˆåŠŸçš„å¤±è´¥äº†ï¼Œä½†æ˜¯ä¹Ÿæ²¡æ€ä¹ˆåæ€è‡ªå·±çš„é—®é¢˜ï¼Œç»“æœæŠ•äº†å°†è¿‘åŠä¸ªæœˆå§ï¼Œæˆ‘å¿ƒæ€å´©äº†ï¼Œè¿åœ¨å½“åœ°çš„åŸºç¡€å·¥èµ„çš„å·¥ä½œéƒ½æ‰¾ä¸ä¸Šï¼Œä¹Ÿè®¸å‹åŠ›å¤§è¿˜æ˜¯è‡ªå·±çš„æ— èƒ½å¯¼è‡´è‡ªå·±èµ°å‘äº†è½»å¾®æŠ‘éƒï¼Œå„¿è¡Œåƒé‡Œæ¯æ‹…å¿§ï¼Œå½“æ—¶å®¶é‡Œä¹Ÿæ‰“è¿‡å¾ˆå¤šç”µè¯ï¼Œåˆšå¼€å§‹è¿˜è¯´é“è¯´é“ï¼Œåé¢<br>å°±ä¸æ¥äº†ï¼Œå­¦æ ¡ï¼Œæœ‹å‹çš„æ¶ˆæ¯ä¹Ÿéƒ½æ²¡å›ï¼›</p>\n<p>æœºç¼˜å·§åˆï¼Œåœ¨ä¸€ç•ªå¤±è´¥ä¹‹åï¼Œé¢è¯•ä¸Šäº†<code>æ˜†æ˜æ‹“é¸¿ç§‘æŠ€</code>å…¬å¸ï¼Œå½“æ—¶è¿›å»ä¹‹åï¼Œå°±æ„Ÿæ…¨çœŸä¸æ„§æ˜¯åŒºåŸŸå¤§å…¬å¸ï¼Œå½“æ—¶å¥½åƒç»å†äº†äºŒæ¬¡é¢è¯•ï¼Œä¹‹åä¸å…¬å¸çš„å¤§é¢†å¯¼è°ˆäº†è°ˆï¼Œä¹‹å‰æ˜¯åšæŠ€æœ¯çš„ï¼Œè¯´æˆ‘ç°åœ¨å¯ä»¥è€ƒè™‘ä¸€ä¸‹å…¬å¸çš„é”€å”®å²—ä½ï¼ŒåæœŸå¯ä»¥è°ƒå²—ï¼›æˆ‘æ²¡æœ‰ç›´æ¥æ‹’ç»ï¼Œè¯´äº†è€ƒè™‘ä¸€ä¸‹ï¼›</p>\n<p>åœ¨å…¬å¸å‘†äº†ä¸€ä¸‹åˆï¼Œå‚ä¸äº†å…¬å¸çš„ä¸€äº›å°æ¸¸æˆï¼Œæ´»åŠ¨ï¼Œä»‹ç»ç­‰ï¼›å›å»ä¹‹åè€ƒè™‘ä¹‹åå°±æ‹’ç»äº†ï¼›</p>\n<p>ä¹‹åï¼Œæœ‹å‹è·Ÿæˆ‘æ‰“ç”µè¯è¯´æ˜¯è¦å»ä¸Šæµ·ï¼Œæˆ‘æƒ³è¿‡ä¹‹åï¼Œç›¸å¯¹äºå¤§åŸå¸‚è‚¯å®šæœºä¼šå¤šï¼ŒäºŒè¯ä¸è¯´çš„ç­”åº”äº†ï¼Œå¹¶ä¸”æ”¶æ‹¾å®Œä¹‹åï¼Œå°±å‡ºå‘äº†ï¼›</p>\n<h2 id=\"ä¸Šæµ·-åˆ\"><a href=\"#ä¸Šæµ·-åˆ\" class=\"headerlink\" title=\"ä¸Šæµ· - åˆ\"></a>ä¸Šæµ· - åˆ</h2><p>æ¥äº†ä¸Šæµ·ä¹‹åï¼Œæ²¡åœ°æ–¹ä½ï¼Œåªèƒ½ä½åœ¨æœ‹å‹é‚£é‡Œï¼Œä¸‰ä¸–ä¸€å…ä¸€å¨ä¸€å«ï¼Œä»–ä»¬æœ‰ä¸‰ä¸ªäººï¼Œå†åŠ ä¸Šæˆ‘å’Œæœ‹å‹å…±äº”äººï¼Œæœ‹å‹å»çš„æ‰¾ç¡åœ¨äº†æ²™å‘ï¼Œæˆ‘å»çš„æ™šä¸€äº›ï¼Œæ²¡åœ°æ–¹ç¡ï¼Œä¸Šæµ·æœ‹å‹è¯´å…ˆåœ¨è¿™é‡ŒæŒ¤ä¸€æŒ¤å§ï¼Œæ‰¾åˆ°å·¥ä½œä¹‹åå†æ¬èµ°ï¼Œä»–ä»¬ä¸‰å®¤ä¸»äººï¼Œä¸€äººä¸€é—´ï¼Œæœ‹å‹ç¡æ²™å‘åˆšå¥½å¤Ÿä»–çš„ä½ç½®ï¼ŒèŒ¶å‡ æ—è¾¹è¿˜æœ‰çª„çª„çš„è¿‡é“ï¼Œæˆ‘å°±æ¬äº†ä¿©ä¸ªå‡³å­å †åœ¨ä¸€èµ·ï¼Œå¤´ä¸‹æ”¾ä¸€ä¸ªï¼Œè…°ä¸‹æ”¾ä¸€ä¸ªï¼Œè„šä¸‹æ”¾è‡ªå·±çš„è¡Œæç®±ï¼›å°±é‚£æ ·åœ¨æ½®æ¹¿çš„ç¯å¢ƒå‘†äº†ä¸€ä¸ªæœˆå¥½åƒï¼Œæ‰¾åˆ°å„è‡ªçš„å·¥ä½œï¼Œç§Ÿæˆ¿ä¹‹åå°±ä¹°äº†ç‚¹æ°´æœç¤¼å“ï¼Œæ‹œè°¢ä¹‹åå°±æ¬èµ°äº†ï¼›</p>\n<p><code>ä¸Šæµ·é¸£çš‹æ•™è‚²ç§‘æŠ€æœ‰é™å…¬å¸</code>, æˆ‘æ¥äº†ï¼Œåˆšå¼€å§‹è¿›å»ä¹‹åå¾ˆé™Œç”Ÿï¼Œä¹Ÿå¾ˆèƒ†æ€¯ï¼›èµ·åˆæ˜¯æ²¡æœ‰é¡¹ç›®å¯ä»¥åšçš„ï¼Œæˆ‘å°±åœ¨çœ‹å‰è¾ˆä»¬åšè¿‡çš„é¡¹ç›®å­¦ä¹ å­¦ä¹ ï¼›åŒäº‹ä¹Ÿå¾ˆçƒ­æƒ…ï¼Œæˆ‘è€å¤§<code>å¿—å“¥</code>äººå¾ˆä¸é”™ï¼Œåœ¨ä»–çš„å¸¦é¢†ä¸‹ï¼Œæˆ‘ç®—æ˜¯è½¬æ­£å¹¶æ¥è§¦äº†ç¬¬ä¸€ä¸ªå±äºè‡ªå·±æ­å»ºçš„é¡¹ç›®ï¼Œè¿™ä¸ªè¿‡ç¨‹å¾ˆç¹çï¼Œç»“æœä¹Ÿä¸æ˜¯å¾ˆæ»¡æ„ï¼Œå› ä¸ºæˆ‘æ²¡æœ‰ä»€ä¹ˆå·¥ä½œç»éªŒï¼Œå·¥ä½œä¸­ä¹Ÿæ€»æ˜¯çŠ¯é”™ï¼Œåˆšæ”¹å¥½çš„bugï¼Œæ”¹äº†å…¶ä»–åœ°æ–¹æœ‰æŠ¥é”™äº†ï¼›emmï¼Œæˆ‘å¾ˆè‹¦æ¼ï¼Œä¸è¿‡æˆ‘å¯¹é¢çš„åç«¯å‰è¾ˆæ¯”æˆ‘å¹´é•¿å‡ å²ï¼Œå’Œä»–è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘å­¦åˆ°äº†å¾ˆå¤šï¼Œè™½ç„¶è¯­æ°”ä¸æ€ä¹ˆå¥½ï¼Œä½†æ˜¯æ²¡æ”¾åœ¨å¿ƒä¸Š<br>å°±æ˜¯ä¸ºäº†å­¦ä¹ è€Œæ¥ï¼›</p>\n<p>é‚£æ—¶å€™èŠ±é”€ä¹Ÿå¾ˆå¤§ï¼Œå†åŠ ä¸Šä¹‹å‰æ‰‹å¤´æ¯”è¾ƒç´§ï¼Œåœ¨å¹³å°å€Ÿçš„ä¸€äº›ï¼Œå¯¼è‡´åä¿©å¹´éƒ½åœ¨è¿˜ï¼›</p>\n<p>ä¹‹åï¼Œåœ¨å­¦ä¹ äº†ä¸€å¹´ä¹‹åï¼Œå°±è·Ÿè€å¤§æäº†ç¦»èŒã€‚ã€‚ã€‚</p>\n<h2 id=\"ä¸Šæµ·-ä¸­\"><a href=\"#ä¸Šæµ·-ä¸­\" class=\"headerlink\" title=\"ä¸Šæµ· - ä¸­\"></a>ä¸Šæµ· - ä¸­</h2><p>æˆ‘æ¥åˆ°äº†<code>ä¸Šæµ·å¸˜é‚¦ä¿¡æ¯ç§‘æŠ€æœ‰é™å…¬å¸</code>, è§„æ¨¡äººæ•°è¦æ¯”ä¹‹å‰çš„å¤§ä¸€ç‚¹ï¼Œå…¥èŒä¹‹åï¼Œ<code>æ°å“¥</code>è®©æˆ‘ç†Ÿæ‚‰ä¸€ä¸‹ç¯å¢ƒï¼Œåˆšå¼€å§‹å¿ƒé‡Œæƒ³æ”¹å˜è‡ªå·±æ´»è·ƒèµ·æ¥ï¼Œä¸€åˆ°æ­£ç»æ—¶æœŸå°±æ€¯åœºï¼›å°±é‚£æ ·è½¬æ­£äº†ï¼Œæ¥è§¦äº†<code>node</code>ï¼Œå­¦ä¹ äº†è§„èŒƒåŒ–æµç¨‹æ¸…æ¥šçš„çŸ¥é“äº†è‡ªå·±å¾ˆå¤šçš„é—®é¢˜ä¸ç¼ºé™·ï¼›</p>\n<p>çº¿ä¸‹æ—¶é—´å°±å»äº†è§£<code>node</code>ï¼Œå¹¶ä»¥<code>node+express</code>æ­å»ºapiè¯·æ±‚ï¼Œåœ¨ç»å†ä¸ªåŠä¸ªæœˆä¹‹åï¼Œå°±è‡ªå·±åŠ¨æ‰‹æ­å»ºäº†ä¸€ä¸ªç®€å•çš„<code>åšå®¢ç³»ç»Ÿ</code>, è¿™ä¹Ÿæ˜¯ç¬¬ä¸€ä»£åšå®¢çš„äº§ç”Ÿï¼Œå› ä¸ºæ•°æ®å…¨éƒ½æ˜¯é™æ€çš„ï¼Œå¹¶ä¸”æ–‡æ¡£çš„è§£ææ–¹å¼ä¸ä¸€è‡´ï¼Œåé¢å°±åºŸå¼ƒäº†ï¼›ç®€å•çš„å­¦ä¹ äº†<code>å®å¡”</code>å¸ƒå±€æœåŠ¡å™¨ï¼Œåˆšå¼€å§‹çš„å‰ç«¯éƒ¨ç½²è¿˜æ˜¯ä¸Šä¼ æ–‡ä»¶ï¼Œåæ¥è€ƒè™‘åˆ°å¤ªéº»çƒ¦å°±æŸ¥é˜…èµ„æ–™ï¼Œè‡ªå·±ç®€å•çš„å­¦äº†ä¸€ä¸‹<code>jenkinsä¸æ˜¯nodeå’Œvueé¡¹ç›®</code>ï¼Œç®€å•è¯´å°±æ˜¯å°†é¡¹ç›®æ‹‰ä¸‹æ¥ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œå°†<code>dist</code>æ–‡ä»¶å†…å®¹å¤åˆ¶åœ¨è‡ªå·±çš„ç½‘ç«™ä¸‹é¢ï¼Œ è¿™æ ·é€šè¿‡å‘½ä»¤å°±å¯ä»¥ç›´æ¥å®Œæˆäº†ï¼›ä¸è¿‡æ‰“åŒ…å’Œéƒ¨ç½²è¿‡ç¨‹ä¹Ÿæ˜¯èŠ±è´¹äº†æˆ‘ä¸å°‘æ—¶é—´ï¼›</p>\n<p><code>å¹´ç»ˆæ€»ç»“å¤§ä¼š</code>æ¥äº†ï¼Œå› ä¸ºä¹‹å‰æ²¡æœ‰å‚ä¸è¿‡ä¸çŸ¥é“æ€§è´¨å’Œä½œç”¨ï¼ŒæŠ½ç­¾æŠ½åˆ°äº†ç¬¬ä¸€åï¼Œæ…Œäº†ä¸çŸ¥é“è‡ªå·±è¯¥æ€ä¹ˆåšï¼Œåœ¨å‰è¾ˆçš„å¸¦é¢†ä¸‹ï¼Œè‡ªå·±è¯´çš„æ²¡æœ‰é€»è¾‘å°±è¯´å®Œäº†ï¼›çŸ¥é“äº†å‘¨å›´åŒäº‹çš„ä¼˜ç§€ï¼Œä¹Ÿæ˜ç™½äº†è‡ªå·±æŠ€æœ¯ä¸æ‰å®ï¼Œæ²¡æœ‰è‡ªä¿¡ï¼›</p>\n<p>æ¥ä¸‹æ¥çš„æ—¶é—´å°±æ˜¯æå‡è‡ªå·±ï¼Œæå‡è‡ªå·±çš„è‡ªä¿¡ï¼Œåœ¨ä»¥å…¬å¸é¡¹ç›®ä¸ºä¸­å¿ƒï¼ŒæŠ€æœ¯èŒƒå›´çš„å­¦ä¹ æ‰©å¤§ï¼Œä¸å•å•æ˜¯ä»¥<code>node, express</code>ç„¶åç®€å•äº†è§£<code>koa</code>çš„åŸºç¡€ä½¿ç”¨ï¼Œä¹‹ååœ¨è¿™åŸºç¡€ä¸Šåˆæ¥è§¦äº†<code>nestï¼Œ mqSql</code>ï¼Œå¹¶ä¸”ç®€å•çš„å¢åˆ æ”¹æŸ¥çš„åŠŸèƒ½ï¼›ç™½å¤©çš„æ—¶é—´åŸºæœ¬éƒ½åœ¨å·¥ä½œï¼Œé—²æš‡æ—¶é—´å»å­¦ä¹ <code>vue</code> ç›¸å…³çš„çŸ¥è¯†ï¼Œé€šè¿‡<code>githubé¡¹ç›®ï¼Œæ˜é‡‘ï¼Œcsdnç­‰ç­‰</code>è®ºå›ï¼Œæ–‡æ¡£çš„å½¢å¼è¡¥å……è‡ªå·±åŸºç¡€ä¸Šçš„ä¸è¶³ï¼›å†ä¸€å¹´çš„æ€»ç»“å¤§ä¼šï¼ŒåŒäº‹ç»™æˆ‘çš„è¯„ä»·: æˆé•¿è¿…é€Ÿï¼Œæœ‰è‡ªå·±çš„æƒ³æ³•ï¼Œä¸ä»–äººæ²Ÿé€šå¤šäº†èµ·æ¥ï¼›è€å¤§ä¹Ÿæ˜¯çœ‹å¥½æˆ‘çš„ï¼Œä¹‹åçš„å·¥ä½œä¸å†èŠ±å¤§é‡æ—¶é—´å»å­¦ä¹ åŸºç¡€äº†ï¼Œåœ¨é¡¹ç›®çš„å¥ åŸºä¸Šå»¶ä¼¸åŠŸèƒ½çš„ä¼˜åŒ–ï¼Œæ€§èƒ½çš„ä¼˜åŒ–ç­‰ç­‰ï¼›</p>\n<p>å¹¶åœ¨çŸ¥è¯†åº“ä¸­ï¼Œç¼–å†™æ–‡æ¡£ï¼Œé¡¹ç›®ä¸­ç»å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆï¼Œä¸€äº›å·¥å…·çš„å°è£…ä½¿ç”¨ï¼Œè§„èŒƒç­‰ç­‰ï¼Œå¹¶æå‡ºæŠ€æœ¯åˆ†äº«ä¼šè®®ï¼Œå°†è‡ªå·±çš„æ–‡æ¡£ï¼Œæƒ³æ³•è®²äº†å‡ºæ¥æ•ˆæœè¿˜æ˜¯ä¸é”™ï¼›ä¸è¿‡åæ¥æ²¡æœ‰ç»§ç»­æ‰§è¡Œäº†ï¼Œå¤§å®¶æ‰‹é‡Œçš„äº‹æƒ…æ¯”è¾ƒå¤šï¼Œéœ€æ±‚è¿­ä»£ç´§æ€¥å°±æ²¡æœ‰æ—¶é—´äº†è¯´è¿™ä¸ªåˆ†äº«ï¼›</p>\n<p>ä¹‹åè§‰å¾—è‡ªå·±å·¥ä½œä¸­çš„åŠŸèƒ½æ²¡æœ‰å¤ªå¤§çš„é—®é¢˜ï¼Œå°±æ¥è§¦äº†ä¸€äº›å…¶ä»–çš„è¯­è¨€ï¼Œ<code>dart, flutter</code>ï¼Œäº†è§£å…¶ä½¿ç”¨ï¼Œ<code>getx</code>çŠ¶æ€ç®¡ç†å™¨, <code>http</code>çš„æ‹¦æˆªä½¿ç”¨ç®€å•çš„è¯·æ±‚æ¸²æŸ“é¡µé¢ï¼›ä½œä¸ºä¸€ä¸ªæŠ€æœ¯å‚¨å¤‡ï¼›</p>\n<p>åœ¨å…¬å¸å‘ç°äº†ä¸€äº›é—®é¢˜ï¼Œå…¬å¸æ²¡æœ‰pc,h5çš„æ¨¡æ¿é¡¹ç›®ï¼Œå¦‚æœåæœŸç¼–å†™æ–°çš„é¡¹ç›®åªèƒ½å¤åˆ¶ä¹‹å‰çš„é¡¹ç›®è¿›è¡Œä¿®æ”¹äº†ï¼Œåœ¨è¿™é—®é¢˜ä¹‹ä¸Šæˆ‘è¿›è¡Œè€ƒè™‘ï¼Œå¦‚æœèƒ½æƒ³<code>vue-cli</code>å®‰è£…ä¸€æ ·ï¼Œè¿™æ ·çš„é—®é¢˜æ˜¯ä¸æ˜¯å°±è§£å†³äº†ï¼Œçº¿ä¸‹æ—¶é—´å‘é¢†å¯¼è¯·æ±‚ä»“åº“çš„æƒé™ï¼Œåœ¨åŒæ„ä¹‹åèŠ±è´¹ä¿©å¤©å·¦å³æ—¶é—´äº†è§£å…¶è¿è¡ŒåŸç†ä¸åŠŸèƒ½ï¼Œå¹¶é€šè¿‡<code>npm</code>å‘å¸ƒè‡ªå·±çš„å·¥å…·ï¼Œäºæ˜¯<code>tem-pro</code>å·¥å…·å°±ä¸Šçº¿äº†ï¼›èµ·åˆå‘¨ä¸‹è½½é‡ä¹Ÿæœ‰äº†<code>100</code>å·¦å³çš„ä¸‹è½½ï¼Œæ…¢æ…¢çš„åé¢ä¸‹è½½é‡å°±å‡å°‘äº†ï¼›</p>\n<h2 id=\"ä¸Šæµ·-ç»ˆ\"><a href=\"#ä¸Šæµ·-ç»ˆ\" class=\"headerlink\" title=\"ä¸Šæµ· - ç»ˆ\"></a>ä¸Šæµ· - ç»ˆ</h2><p>å¯¹äºåæœŸæ˜¯å¦ç»§ç»­å‘†åœ¨ä¸Šæµ·è¿˜ä¸æ•¢ä¿è¯ï¼Œæ¯•ç«Ÿè‡ªèº«å‹åŠ›ï¼Œå®¶åº­ï¼Œè‡ªèº«æ¡ä»¶ï¼Œæˆå®¶ç­‰å¤šå› ç´ çš„å½±å“ï¼Œä¹Ÿæœ‰å¯èƒ½åå‡ å¹´å°±å›è€å®¶äº†ï¼›</p>\n<p>ä¸è¿‡ç°åœ¨è¿˜æ²¡æœ‰è¿™ä¸ªæƒ³æ³•ï¼Œå…ˆç»§ç»­æå‡è‡ªå·±çš„èƒ½åŠ›å§ï¼</p>\n"},{"title":"å…¬å‘Š-ç‰ˆæœ¬å‡çº§","abbrlink":"8aea48ee","date":"2023-05-18T16:00:00.000Z","_content":"\n\n# èŠœæ¹–ï½\n\nç½‘ç«™å…¨é¢æ›´æ–°ï¼Œç”±äºåšä¸»æ¯”è¾ƒæ‡’ï¼Œç”±åˆä»£åŠ¨æ€ç½‘ç«™åˆ°é™æ€ç½‘ç«™ï¼Œä¹Ÿå·²ç»è¿‡å»äº†ä¸€æ®µæ—¶é—´ï¼›åˆšå¼€å§‹æ­å»ºç½‘ç«™çš„ç›®çš„å¾ˆç®€å•ï¼Œå°±æ˜¯å‡¸æ˜¾è‡ªå·±çš„æˆå°±ï¼Œå–œæ¬¢æŠ˜è…¾æ–°çš„ä¸œè¥¿ï¼Œé‚£æ®µæ—¶é—´ä¹Ÿæ˜¯å¯¹æŠ€æœ¯çš„çƒ­æƒ…ï¼Œå°±è‡ªå·±æ£é¼“ç€ä¸€äº›ç¨€å¥‡å¤æ€ªçš„ä¸œè¥¿ï¼›\n\nç°åœ¨è‡ªå·±ç²¾åŠ›å¤§ä¸å¦‚ä»å‰äº†ï¼Œæ²¡æœ‰å¤ªå¤šçš„ç²¾åŠ›å»æ¶ˆè€—äº†ï¼Œè‡ªå·±ä¹Ÿåœ¨å‰ç«¯æ–¹å‘æœ‰äº†ä¸€äº›å°çš„æˆå°±ï¼›æ¥ä¸‹æ¥çš„æ—¶é—´å°±å›å»ä¸“ç ”æŸä¸€æ–¹å‘çš„æŠ€æœ¯ï¼›\n\næ­¤æ¬¡æ›´æ–°ç½‘ç«™çš„ç›®çš„ï¼Œè„±ç¦»åŸæœ‰çš„å•ä¸€çš„æ–‡æ¡£æµï¼Œä»¥å¤šæ ·åŒ–æ–‡æ¡£å±•ç¤ºï¼Œä½¿å¾—ç½‘ç«™æ›´åŠ ä¸°å¯Œï¼›æ–°ç‰ˆç½‘ç«™å°†ä¼šä»¥æ–‡æ¡£çš„å½¢å¼è¿›è¡Œå½’ç±»ï¼Œå‡¸æ˜¾æ–‡æ¡£å½’ç±»çš„æ„ä¹‰ï¼›\n\n## ç½‘ç«™æ›´æ–°çš„å†…å®¹\n\næ¥ä¸‹æ¥å¤§è‡´è¯´ä¸€ä¸‹æ›´æ–°çš„å†…å®¹ï¼š\n\n\n{% timeline ç½‘ç«™æ›´æ–°å†…å®¹ï¼š %}\n<!-- timeline Version 4.0.1 æ›´æ–°å†…å®¹ -->\n1. ~~æœ¬ç½‘ç«™é‡‡ç”¨çš„å›¾ç‰‡å­˜å‚¨äºosså®¹å™¨ï¼ŒåŸæœ‰çš„githubå›¾åºŠä¸ä¼šå†è¿›è¡Œæ›´æ–°ï¼›~~\n2. ~~æ›´æ–°å›¾ç‰‡åŸŸåï¼Œå¢åŠ å®‰å…¨æ€§å·²ç»é˜²ç«å¢™æ¨¡å¼ï¼›~~\n3. ~~éƒ¨åˆ†è¯·æ±‚æµé‡è¾ƒé«˜çš„å›¾ç‰‡è¿˜æ˜¯ä½¿ç”¨githubå›¾åºŠçš„å½¢å¼å¼•å…¥ï¼›~~\n4. ç½‘ç«™éèµ¢åˆ©æ€§ç½‘ç«™ï¼Œæ•…å°†ç½‘ç«™æˆæœ¬é™ä¸ºæœ€ä½ï¼Œosså­˜å‚¨å®¹å™¨æš‚æ—¶ä¸ä½¿ç”¨ï¼›\n5. **æ•°æ®ä¼šä»è¯­é›€è¿›è¡Œå¯¼å‡ºï¼Œæ•…ä½¿ç”¨å…¶å†…ç½®çš„å›¾åºŠï¼›**\n6. ä¸ºé™ä½æˆæœ¬, ç¡®è®¤æœ€ç»ˆçš„åŸŸåä¸º`wangxiaoze.cn`ï¼Œ**2025-06-21`wangzevw.com`å°†ä¸å†ä½¿ç”¨**\n<!-- endtimeline -->\n\n<!-- timeline Version 4.0.0 æ›´æ–°å†…å®¹ -->\n1. é‡‡ç”¨`hexo`æ„å»ºåšå®¢ç³»ç»Ÿï¼Œä¸åœ¨ä½¿ç”¨åŸæœ‰çš„æ–‡æ¡£æµç³»ç»Ÿï¼›\n2. çªå‡ºä¸»ä½“ï¼Œè¯¥ç½‘ç«™æ›´åŠ é€‚åˆå¹³æ—¶çš„è®°å½•\n3. ä¿ç•™æ—§ç‰ˆæœ¬çš„ç³»ç»Ÿ[knowledge-base](https://wangxiaoze-view.github.io/knowledge-base/)\n4. **åæœŸå†…å®¹çš„å‘å¸ƒä¸åœ¨åŸæ¥çš„æ–‡æ¡£ç³»ç»Ÿå‘å¸ƒï¼Œæœ€æ–°åšæ–‡å°†ä¼šå±•ç¤ºåœ¨è¯¥ç½‘ç«™**\n<!-- endtimeline -->\n\n<!-- timeline Version 3.3.0 æ›´æ–°å†…å®¹ -->\n1. å‰ç«¯å°å†Œé“¾æ¥æ›´æ–°ï¼Œè®¿é—®ä¹‹å‰çš„é“¾æ¥æ˜¾ç¤º`404`\n2. åˆ é™¤å‰ç«¯å¯¼èˆªé¡µé¢, ç½‘ç«™ç»Ÿè®¡é“¾æ¥å–æ¶ˆ\n3. é¡¹ç›®`demos`é¡µé¢åˆ é™¤, åˆ é™¤ç›¸å…³ä¾èµ–ï¼Œç”¨[web-demos](https://wangxiaoze-view.github.io/web-demos/#button)è¿›è¡Œè®¿é—®\n4. ä¼˜åŒ–å¯¼èˆªæ ï¼Œä¾§è¾¹æ ä½¿ç”¨`è‡ªåŠ¨æ›´æ–°`, èˆå¼ƒä¹‹å‰é•¿ä»£ç é…ç½®\n5. **æ€»ç»“éƒ¨åˆ†æ–‡æ¡£**æ”¾ç½®`å‰ç«¯å°å†Œ`\n<!-- endtimeline -->\n\n<!-- timeline Version 3.2.0 æ›´æ–°å†…å®¹ -->\n1. å›¾ç‰‡è¿›è¡Œä¼˜åŒ–ï¼Œæ”¯æŒå›¾ç‰‡å¤§å›¾é¢„è§ˆï¼›å¹¶ä¸”å½“åŸå›¾åŠ è½½å¤±è´¥é»˜è®¤ä½¿ç”¨`github`å›¾ç‰‡åœ°å€ï¼›\n2. æ·»åŠ å‰ç«¯å¯¼èˆªé¡µé¢ï¼Œä¸æ–­æ›´æ–°ä¸€äº›å¸¸ç”¨æœ‰è¶£çš„ç½‘ç«™ï¼›\n3. åˆ é™¤ä¸ªäººé¡¹ç›®æ ç›®ï¼Œå°†å…¶æ”¾ç½®åœ¨å‰ç«¯å¯¼èˆª\n4. æ·»åŠ ç½‘ç«™ç»Ÿè®¡\n5. å°†æ–‡æ¡£ä»¥åŠ `demos` ç§»ç½®æœ¬ç½‘ç«™ï¼Œå°†å–æ¶ˆå¯¹åº”çš„åŸŸå`docs.wangzevw.com å’Œ demos.wangzevw.com`\n<!-- endtimeline -->\n\n<!-- timeline Version 3.1.0 æ›´æ–°å†…å®¹ -->\n1. ç›®å½•é‡æ–°è°ƒæ•´ï¼Œå°†å‰ç«¯çŸ¥è¯†å†…å®¹ç§»åŠ¨åˆ°å‰ç«¯å°å†Œæ¨¡å—ä¸‹ï¼›\n<!-- endtimeline -->\n\n\n<!-- timeline Version 3.0.0 æ›´æ–°å†…å®¹ -->\n1. ç½‘ç«™ç”± `vuepress` æ›´æ–°æˆ `vitepress`\n2. æ‘’å¼ƒèŠ±é‡Œèƒ¡å“¨çš„ä¸»é¢˜æ ·å¼(å¤ªè¿‡æ²‰é‡), ä»¥åŸç”ŸåŸå‘³çš„å½¢å¼å±•ç¤ºæ–‡æ¡£å†…å®¹\n3. åºŸå¼ƒéƒ¨åˆ†æ—§æ–‡æ¡£,nest, æ¡Œé¢ç«¯ï¼Œç§»åŠ¨ç«¯ä¸å†è¿›è¡Œæ•´ç†æ›´æ–°;\n<!-- endtimeline -->\n\n\n<!-- timeline Version 2.3.0 æ›´æ–°å†…å®¹ -->\n1. `nest, ç§»åŠ¨ç«¯, æ¡Œé¢ç«¯`æ˜¯å¾ˆå°‘æ›´æ–°ç³»åˆ—(ä¸ªäººå…´è¶£), ç§»åŠ¨åˆ°`å…¶ä»–`æ¨¡å—\n2. åœ¨`å…¶ä»–`æ¨¡å—ä¸­, æ·»åŠ `three`çš„å­¦ä¹ \n3. æ·»åŠ demosä¸ªäººæ€»ç»“çš„`Demos`\n<!-- endtimeline -->\n\n<!-- timeline Version 2.2.0 æ›´æ–°å†…å®¹ -->\n1. ç§»é™¤é¢è¯•é¢˜, å°†é¢è¯•é¢˜æ•´ç†åœ¨å‰ç«¯ï¼›å¦åˆ™å†…å®¹ä¼šå¾ˆå¤šï¼Œå¯¼è‡´æ–‡æ¡£çš„åˆ†ç±»æ··ä¹±ï¼›\n2. è¿‘æœŸæ›´æ–°çš„é¢‘ç‡å’Œå†…å®¹å°†ä»¥å‰ç«¯ä¸ºä¸»ï¼Œç§»åŠ¨ç«¯çš„`é¸¿è’™,FLutter`åç«¯çš„`Nest`æœ‰æ—¶é—´ä¼šæŒç»­æ›´æ–°;\n3. å…³äº`Flutter`çš„æ•´ç†ï¼šå°†å·²æ•´ç†çš„å†…å®¹æ”¾ç½®FlutterDemoç½‘ç«™ä¸­ï¼ˆå¦‚æœæ–‡å­—æ˜¾ç¤ºä¸å‡ºæ¥, è¿™æ˜¯ Flutter ä¸€ä¸ªå¼Šç«¯, éœ€è¦ç­‰å¾…æˆ–è€…æŒ‚æ¢¯å­ï¼‰ ç½‘ç«™å·²åºŸå¼ƒ\n4. æ¡Œé¢ç«¯æ­£åœ¨å¼€å‘ä¸€ä¸ªç®€å•çš„`DEMO`ï¼Œåç»­ä¼šå°†è¯¥`DEMO`ä½œä¸ºå¼€å‘æ¡ˆä¾‹è¿›è¡Œæ•´ç†\n<!-- endtimeline -->\n\n\n<!-- timeline Version 2.1.0 æ›´æ–°å†…å®¹ -->\n1. æ·»åŠ äº†éƒ¨åˆ†`Demos`,å¯åœ¨ç½‘ç«™ä¸­è®¿é—®ï¼Œå¯ä»¥åœ¨æ–°æ ‡ç­¾é¡µæŸ¥çœ‹;\n2. åˆ é™¤`vdoing`ä¸»é¢˜è‡ªå¸¦çš„å¹¿å‘Šæ’ä»¶;\n3. æ›´æ–°æµè§ˆå™¨å›¾æ ‡;\n4. æ–‡æ¡£æœ‰å¾ˆå¤šåŒä¸€å¤©å‘å¸ƒçš„, é‚£æ˜¯å°†åŸæ¥çš„ç½‘ç«™å†…å®¹è¿›è¡Œè¿ç§»;\n5. æ·»åŠ å‰ç«¯éƒ¨åˆ†é¢è¯•é¢˜;\n<!-- endtimeline -->\n\n<!-- timeline Version 2.0.0 æ›´æ–°å†…å®¹ -->\n1. è„±ç¦»æœåŠ¡ç«¯ï¼Œé‡‡ç”¨`GitHub`å’Œ`Gitee`è¿›è¡Œæ‰˜ç®¡ï¼›\n2. ä¼˜åŒ–ç½‘ç«™æ€§èƒ½ï¼Œä½¿ç”¨`CDN`è¿›è¡ŒåŠ é€Ÿï¼›\n3. ç½‘ç«™é‡‡ç”¨`md`è¯­è¨€è¿›è¡Œç¼–å†™ï¼›\n4. å…·ç°åŒ–åˆ†ç±»æ¨¡å—ï¼›\n5. ç½‘ç«™å†…å®¹æ›´æ–°ï¼šçº¿ä¸‹ç§¯ç´¯çš„çŸ¥è¯†ï¼Œå¯¹ç”Ÿæ´»çš„æ„Ÿæ‚Ÿ...\n6. æ·»åŠ ä¸ªäººçš„ä¸€äº›é¡¹ç›®ï¼Œæ¶‰åŠåˆ°å‰åç«¯ç§»åŠ¨ç«¯ç­‰ç­‰ï¼›æ·»åŠ æœé›†çš„ä¸€äº›ç½‘ç«™ï¼šå›¾ç‰‡è½¬æ¢ç½‘ç«™ï¼Œæ–‡æ¡£å¤„ç†ç½‘ç«™ç­‰ç­‰\n7. ç½‘ç«™è¿ç§»ï¼Œåº•å±‚`hexo`ä¿®æ”¹ä¸º`vuepress`\n<!-- endtimeline -->\n\n\n<!-- timeline Version 1.0.0 æ›´æ–°å†…å®¹ -->\n1. ç½‘ç«™è„±ç¦»å•ä¸€æ–‡æ¡£æµçš„ç‰¹æ€§ï¼Œé‡‡ç”¨å¤šæ ·åŒ–ç®¡ç†ï¼›\n2. é‡‡ç”¨[`Hexo`](https://hexo.io/zh-cn/index.html)é™æ€æ­å»ºï¼Œä½¿ç”¨[`Butterfly-github`](https://github.com/jerryc127/hexo-theme-butterfly.git), [`Butterfly-gitee`](https://gitee.com/immyw/hexo-theme-butterfly)ä¸»é¢˜æ­é…ä½¿ç”¨ï¼›\n3. ä¸»é¢˜é…ç½®åŒ–ï¼Œé…ç½®åŠ¨ç”»ï¼ŒåŠ è½½ï¼Œå¤šæ ·åŒ–è®¾ç½®ï¼›\n4. åˆ†ç±»ç®¡ç†æ–‡æ¡£ï¼Œå¦‚ï¼šç”Ÿæ´»ï¼Œåˆ†ç±»ï¼Œæ ‡ç­¾ç­‰ç­‰ï¼›\n5. ä¼˜åŒ–æ–‡æ¡£å½¢å¼ï¼Œæ›´åŠ å‡¸æ˜¾åšå®¢ä¸»é¢˜ï¼Œä¸»ä½“å†…å®¹ä»¥å·¦å³å¸ƒå±€ï¼Œæ›´åŠ å‡¸æ˜¾åšå®¢æ ¼å¼ï¼›\n6. æ·»åŠ å¤åˆ¶å†…å®¹æ˜¯é™„åŠ åŸåˆ›ç‰ˆæƒå£°æ˜ï¼Œå¹¶ä¸”æ¯ä¸ªé¡µé¢ä¸‹æ–¹æ ‡æ³¨ç‰ˆæƒï¼›\n7. åº•éƒ¨æ·»åŠ å¤‡æ¡ˆè¡¨ç¤ºï¼›\n<!-- endtimeline -->\n\n{% endtimeline %}\n\n\n## ä¸»é¢˜å†…å®¹\n\næœ¬ç½‘ç«™çš„ä¸»é¢˜å†…å®¹å°†ä¼šä»¥èŒåœºï¼Œç”Ÿæ´»æ–¹å‘é è¿‘ï¼Œæ¶‰åŠ`å‰ç«¯æŠ€æœ¯`, `Appï¼ˆFlutter, uni-appï¼‰`ï¼Œ`æœåŠ¡å™¨ä¸åç«¯æŠ€æœ¯`, `ç”Ÿæ´»æ—¥è®°` ç­‰ç­‰ï¼›\n\n~~ç”±äºç½‘ç«™å†…å®¹è„±ç¦»åŠ¨æ€æ•°æ®ï¼Œé‡‡ç”¨`mardown`æ ¼å¼ç¼–å†™ï¼Œè€ç‰ˆæœ¬ç½‘ç«™çš„æ–‡æ¡£å°†ä¼šåœ¨è¿‘æœŸå†…åŠ å¿«è¿ç§»ï¼›è¿‘æœŸå·¥ä½œæ¯”è¾ƒå¿™ï¼Œé¢„è®¡`ä¸€å‘¨è‡³åŠæœˆ`ï¼›~~\n\n`æ—§ç‰ˆæœ¬åšå®¢æ•°æ®å·²ç»è¿ç§»è‡³æ–°ç‰ˆæœ¬ä¸­ï¼ŒåæœŸæ–‡ç« çš„æ›´æ–°ä¼šåœ¨æ–°ç‰ˆæœ¬ä¸­è¿›è¡Œæ›´æ–°ä¸å‘å¸ƒï¼ï¼ï¼åšæ–‡ä¼šä¸å®šæ—¶è¿›è¡Œæ›´æ–°å‘å¸ƒï¼Œæ²¡æœ‰å›ºå®šæ—¶é—´ï¼Œå¯èƒ½ä¸€ä¸ªæœˆä¸å‘å¸ƒï¼Œä¹Ÿæœ‰å¯èƒ½5å¤©å‘å¸ƒä¸‰ç¯‡ï¼›å…·ä½“çœ‹æœ¬äººçš„æ—¶é—´ï¼`\n:\n\n","source":"_posts/å…³äº/ç‰ˆæœ¬å‡çº§.md","raw":"---\ntitle: å…¬å‘Š-ç‰ˆæœ¬å‡çº§\nabbrlink: 8aea48ee\ndate: 2023-05-19\ncategories:\n  - å…¬å‘Š\ntags:\n  - å‡çº§æ—¥å¿—\n---\n\n\n# èŠœæ¹–ï½\n\nç½‘ç«™å…¨é¢æ›´æ–°ï¼Œç”±äºåšä¸»æ¯”è¾ƒæ‡’ï¼Œç”±åˆä»£åŠ¨æ€ç½‘ç«™åˆ°é™æ€ç½‘ç«™ï¼Œä¹Ÿå·²ç»è¿‡å»äº†ä¸€æ®µæ—¶é—´ï¼›åˆšå¼€å§‹æ­å»ºç½‘ç«™çš„ç›®çš„å¾ˆç®€å•ï¼Œå°±æ˜¯å‡¸æ˜¾è‡ªå·±çš„æˆå°±ï¼Œå–œæ¬¢æŠ˜è…¾æ–°çš„ä¸œè¥¿ï¼Œé‚£æ®µæ—¶é—´ä¹Ÿæ˜¯å¯¹æŠ€æœ¯çš„çƒ­æƒ…ï¼Œå°±è‡ªå·±æ£é¼“ç€ä¸€äº›ç¨€å¥‡å¤æ€ªçš„ä¸œè¥¿ï¼›\n\nç°åœ¨è‡ªå·±ç²¾åŠ›å¤§ä¸å¦‚ä»å‰äº†ï¼Œæ²¡æœ‰å¤ªå¤šçš„ç²¾åŠ›å»æ¶ˆè€—äº†ï¼Œè‡ªå·±ä¹Ÿåœ¨å‰ç«¯æ–¹å‘æœ‰äº†ä¸€äº›å°çš„æˆå°±ï¼›æ¥ä¸‹æ¥çš„æ—¶é—´å°±å›å»ä¸“ç ”æŸä¸€æ–¹å‘çš„æŠ€æœ¯ï¼›\n\næ­¤æ¬¡æ›´æ–°ç½‘ç«™çš„ç›®çš„ï¼Œè„±ç¦»åŸæœ‰çš„å•ä¸€çš„æ–‡æ¡£æµï¼Œä»¥å¤šæ ·åŒ–æ–‡æ¡£å±•ç¤ºï¼Œä½¿å¾—ç½‘ç«™æ›´åŠ ä¸°å¯Œï¼›æ–°ç‰ˆç½‘ç«™å°†ä¼šä»¥æ–‡æ¡£çš„å½¢å¼è¿›è¡Œå½’ç±»ï¼Œå‡¸æ˜¾æ–‡æ¡£å½’ç±»çš„æ„ä¹‰ï¼›\n\n## ç½‘ç«™æ›´æ–°çš„å†…å®¹\n\næ¥ä¸‹æ¥å¤§è‡´è¯´ä¸€ä¸‹æ›´æ–°çš„å†…å®¹ï¼š\n\n\n{% timeline ç½‘ç«™æ›´æ–°å†…å®¹ï¼š %}\n<!-- timeline Version 4.0.1 æ›´æ–°å†…å®¹ -->\n1. ~~æœ¬ç½‘ç«™é‡‡ç”¨çš„å›¾ç‰‡å­˜å‚¨äºosså®¹å™¨ï¼ŒåŸæœ‰çš„githubå›¾åºŠä¸ä¼šå†è¿›è¡Œæ›´æ–°ï¼›~~\n2. ~~æ›´æ–°å›¾ç‰‡åŸŸåï¼Œå¢åŠ å®‰å…¨æ€§å·²ç»é˜²ç«å¢™æ¨¡å¼ï¼›~~\n3. ~~éƒ¨åˆ†è¯·æ±‚æµé‡è¾ƒé«˜çš„å›¾ç‰‡è¿˜æ˜¯ä½¿ç”¨githubå›¾åºŠçš„å½¢å¼å¼•å…¥ï¼›~~\n4. ç½‘ç«™éèµ¢åˆ©æ€§ç½‘ç«™ï¼Œæ•…å°†ç½‘ç«™æˆæœ¬é™ä¸ºæœ€ä½ï¼Œosså­˜å‚¨å®¹å™¨æš‚æ—¶ä¸ä½¿ç”¨ï¼›\n5. **æ•°æ®ä¼šä»è¯­é›€è¿›è¡Œå¯¼å‡ºï¼Œæ•…ä½¿ç”¨å…¶å†…ç½®çš„å›¾åºŠï¼›**\n6. ä¸ºé™ä½æˆæœ¬, ç¡®è®¤æœ€ç»ˆçš„åŸŸåä¸º`wangxiaoze.cn`ï¼Œ**2025-06-21`wangzevw.com`å°†ä¸å†ä½¿ç”¨**\n<!-- endtimeline -->\n\n<!-- timeline Version 4.0.0 æ›´æ–°å†…å®¹ -->\n1. é‡‡ç”¨`hexo`æ„å»ºåšå®¢ç³»ç»Ÿï¼Œä¸åœ¨ä½¿ç”¨åŸæœ‰çš„æ–‡æ¡£æµç³»ç»Ÿï¼›\n2. çªå‡ºä¸»ä½“ï¼Œè¯¥ç½‘ç«™æ›´åŠ é€‚åˆå¹³æ—¶çš„è®°å½•\n3. ä¿ç•™æ—§ç‰ˆæœ¬çš„ç³»ç»Ÿ[knowledge-base](https://wangxiaoze-view.github.io/knowledge-base/)\n4. **åæœŸå†…å®¹çš„å‘å¸ƒä¸åœ¨åŸæ¥çš„æ–‡æ¡£ç³»ç»Ÿå‘å¸ƒï¼Œæœ€æ–°åšæ–‡å°†ä¼šå±•ç¤ºåœ¨è¯¥ç½‘ç«™**\n<!-- endtimeline -->\n\n<!-- timeline Version 3.3.0 æ›´æ–°å†…å®¹ -->\n1. å‰ç«¯å°å†Œé“¾æ¥æ›´æ–°ï¼Œè®¿é—®ä¹‹å‰çš„é“¾æ¥æ˜¾ç¤º`404`\n2. åˆ é™¤å‰ç«¯å¯¼èˆªé¡µé¢, ç½‘ç«™ç»Ÿè®¡é“¾æ¥å–æ¶ˆ\n3. é¡¹ç›®`demos`é¡µé¢åˆ é™¤, åˆ é™¤ç›¸å…³ä¾èµ–ï¼Œç”¨[web-demos](https://wangxiaoze-view.github.io/web-demos/#button)è¿›è¡Œè®¿é—®\n4. ä¼˜åŒ–å¯¼èˆªæ ï¼Œä¾§è¾¹æ ä½¿ç”¨`è‡ªåŠ¨æ›´æ–°`, èˆå¼ƒä¹‹å‰é•¿ä»£ç é…ç½®\n5. **æ€»ç»“éƒ¨åˆ†æ–‡æ¡£**æ”¾ç½®`å‰ç«¯å°å†Œ`\n<!-- endtimeline -->\n\n<!-- timeline Version 3.2.0 æ›´æ–°å†…å®¹ -->\n1. å›¾ç‰‡è¿›è¡Œä¼˜åŒ–ï¼Œæ”¯æŒå›¾ç‰‡å¤§å›¾é¢„è§ˆï¼›å¹¶ä¸”å½“åŸå›¾åŠ è½½å¤±è´¥é»˜è®¤ä½¿ç”¨`github`å›¾ç‰‡åœ°å€ï¼›\n2. æ·»åŠ å‰ç«¯å¯¼èˆªé¡µé¢ï¼Œä¸æ–­æ›´æ–°ä¸€äº›å¸¸ç”¨æœ‰è¶£çš„ç½‘ç«™ï¼›\n3. åˆ é™¤ä¸ªäººé¡¹ç›®æ ç›®ï¼Œå°†å…¶æ”¾ç½®åœ¨å‰ç«¯å¯¼èˆª\n4. æ·»åŠ ç½‘ç«™ç»Ÿè®¡\n5. å°†æ–‡æ¡£ä»¥åŠ `demos` ç§»ç½®æœ¬ç½‘ç«™ï¼Œå°†å–æ¶ˆå¯¹åº”çš„åŸŸå`docs.wangzevw.com å’Œ demos.wangzevw.com`\n<!-- endtimeline -->\n\n<!-- timeline Version 3.1.0 æ›´æ–°å†…å®¹ -->\n1. ç›®å½•é‡æ–°è°ƒæ•´ï¼Œå°†å‰ç«¯çŸ¥è¯†å†…å®¹ç§»åŠ¨åˆ°å‰ç«¯å°å†Œæ¨¡å—ä¸‹ï¼›\n<!-- endtimeline -->\n\n\n<!-- timeline Version 3.0.0 æ›´æ–°å†…å®¹ -->\n1. ç½‘ç«™ç”± `vuepress` æ›´æ–°æˆ `vitepress`\n2. æ‘’å¼ƒèŠ±é‡Œèƒ¡å“¨çš„ä¸»é¢˜æ ·å¼(å¤ªè¿‡æ²‰é‡), ä»¥åŸç”ŸåŸå‘³çš„å½¢å¼å±•ç¤ºæ–‡æ¡£å†…å®¹\n3. åºŸå¼ƒéƒ¨åˆ†æ—§æ–‡æ¡£,nest, æ¡Œé¢ç«¯ï¼Œç§»åŠ¨ç«¯ä¸å†è¿›è¡Œæ•´ç†æ›´æ–°;\n<!-- endtimeline -->\n\n\n<!-- timeline Version 2.3.0 æ›´æ–°å†…å®¹ -->\n1. `nest, ç§»åŠ¨ç«¯, æ¡Œé¢ç«¯`æ˜¯å¾ˆå°‘æ›´æ–°ç³»åˆ—(ä¸ªäººå…´è¶£), ç§»åŠ¨åˆ°`å…¶ä»–`æ¨¡å—\n2. åœ¨`å…¶ä»–`æ¨¡å—ä¸­, æ·»åŠ `three`çš„å­¦ä¹ \n3. æ·»åŠ demosä¸ªäººæ€»ç»“çš„`Demos`\n<!-- endtimeline -->\n\n<!-- timeline Version 2.2.0 æ›´æ–°å†…å®¹ -->\n1. ç§»é™¤é¢è¯•é¢˜, å°†é¢è¯•é¢˜æ•´ç†åœ¨å‰ç«¯ï¼›å¦åˆ™å†…å®¹ä¼šå¾ˆå¤šï¼Œå¯¼è‡´æ–‡æ¡£çš„åˆ†ç±»æ··ä¹±ï¼›\n2. è¿‘æœŸæ›´æ–°çš„é¢‘ç‡å’Œå†…å®¹å°†ä»¥å‰ç«¯ä¸ºä¸»ï¼Œç§»åŠ¨ç«¯çš„`é¸¿è’™,FLutter`åç«¯çš„`Nest`æœ‰æ—¶é—´ä¼šæŒç»­æ›´æ–°;\n3. å…³äº`Flutter`çš„æ•´ç†ï¼šå°†å·²æ•´ç†çš„å†…å®¹æ”¾ç½®FlutterDemoç½‘ç«™ä¸­ï¼ˆå¦‚æœæ–‡å­—æ˜¾ç¤ºä¸å‡ºæ¥, è¿™æ˜¯ Flutter ä¸€ä¸ªå¼Šç«¯, éœ€è¦ç­‰å¾…æˆ–è€…æŒ‚æ¢¯å­ï¼‰ ç½‘ç«™å·²åºŸå¼ƒ\n4. æ¡Œé¢ç«¯æ­£åœ¨å¼€å‘ä¸€ä¸ªç®€å•çš„`DEMO`ï¼Œåç»­ä¼šå°†è¯¥`DEMO`ä½œä¸ºå¼€å‘æ¡ˆä¾‹è¿›è¡Œæ•´ç†\n<!-- endtimeline -->\n\n\n<!-- timeline Version 2.1.0 æ›´æ–°å†…å®¹ -->\n1. æ·»åŠ äº†éƒ¨åˆ†`Demos`,å¯åœ¨ç½‘ç«™ä¸­è®¿é—®ï¼Œå¯ä»¥åœ¨æ–°æ ‡ç­¾é¡µæŸ¥çœ‹;\n2. åˆ é™¤`vdoing`ä¸»é¢˜è‡ªå¸¦çš„å¹¿å‘Šæ’ä»¶;\n3. æ›´æ–°æµè§ˆå™¨å›¾æ ‡;\n4. æ–‡æ¡£æœ‰å¾ˆå¤šåŒä¸€å¤©å‘å¸ƒçš„, é‚£æ˜¯å°†åŸæ¥çš„ç½‘ç«™å†…å®¹è¿›è¡Œè¿ç§»;\n5. æ·»åŠ å‰ç«¯éƒ¨åˆ†é¢è¯•é¢˜;\n<!-- endtimeline -->\n\n<!-- timeline Version 2.0.0 æ›´æ–°å†…å®¹ -->\n1. è„±ç¦»æœåŠ¡ç«¯ï¼Œé‡‡ç”¨`GitHub`å’Œ`Gitee`è¿›è¡Œæ‰˜ç®¡ï¼›\n2. ä¼˜åŒ–ç½‘ç«™æ€§èƒ½ï¼Œä½¿ç”¨`CDN`è¿›è¡ŒåŠ é€Ÿï¼›\n3. ç½‘ç«™é‡‡ç”¨`md`è¯­è¨€è¿›è¡Œç¼–å†™ï¼›\n4. å…·ç°åŒ–åˆ†ç±»æ¨¡å—ï¼›\n5. ç½‘ç«™å†…å®¹æ›´æ–°ï¼šçº¿ä¸‹ç§¯ç´¯çš„çŸ¥è¯†ï¼Œå¯¹ç”Ÿæ´»çš„æ„Ÿæ‚Ÿ...\n6. æ·»åŠ ä¸ªäººçš„ä¸€äº›é¡¹ç›®ï¼Œæ¶‰åŠåˆ°å‰åç«¯ç§»åŠ¨ç«¯ç­‰ç­‰ï¼›æ·»åŠ æœé›†çš„ä¸€äº›ç½‘ç«™ï¼šå›¾ç‰‡è½¬æ¢ç½‘ç«™ï¼Œæ–‡æ¡£å¤„ç†ç½‘ç«™ç­‰ç­‰\n7. ç½‘ç«™è¿ç§»ï¼Œåº•å±‚`hexo`ä¿®æ”¹ä¸º`vuepress`\n<!-- endtimeline -->\n\n\n<!-- timeline Version 1.0.0 æ›´æ–°å†…å®¹ -->\n1. ç½‘ç«™è„±ç¦»å•ä¸€æ–‡æ¡£æµçš„ç‰¹æ€§ï¼Œé‡‡ç”¨å¤šæ ·åŒ–ç®¡ç†ï¼›\n2. é‡‡ç”¨[`Hexo`](https://hexo.io/zh-cn/index.html)é™æ€æ­å»ºï¼Œä½¿ç”¨[`Butterfly-github`](https://github.com/jerryc127/hexo-theme-butterfly.git), [`Butterfly-gitee`](https://gitee.com/immyw/hexo-theme-butterfly)ä¸»é¢˜æ­é…ä½¿ç”¨ï¼›\n3. ä¸»é¢˜é…ç½®åŒ–ï¼Œé…ç½®åŠ¨ç”»ï¼ŒåŠ è½½ï¼Œå¤šæ ·åŒ–è®¾ç½®ï¼›\n4. åˆ†ç±»ç®¡ç†æ–‡æ¡£ï¼Œå¦‚ï¼šç”Ÿæ´»ï¼Œåˆ†ç±»ï¼Œæ ‡ç­¾ç­‰ç­‰ï¼›\n5. ä¼˜åŒ–æ–‡æ¡£å½¢å¼ï¼Œæ›´åŠ å‡¸æ˜¾åšå®¢ä¸»é¢˜ï¼Œä¸»ä½“å†…å®¹ä»¥å·¦å³å¸ƒå±€ï¼Œæ›´åŠ å‡¸æ˜¾åšå®¢æ ¼å¼ï¼›\n6. æ·»åŠ å¤åˆ¶å†…å®¹æ˜¯é™„åŠ åŸåˆ›ç‰ˆæƒå£°æ˜ï¼Œå¹¶ä¸”æ¯ä¸ªé¡µé¢ä¸‹æ–¹æ ‡æ³¨ç‰ˆæƒï¼›\n7. åº•éƒ¨æ·»åŠ å¤‡æ¡ˆè¡¨ç¤ºï¼›\n<!-- endtimeline -->\n\n{% endtimeline %}\n\n\n## ä¸»é¢˜å†…å®¹\n\næœ¬ç½‘ç«™çš„ä¸»é¢˜å†…å®¹å°†ä¼šä»¥èŒåœºï¼Œç”Ÿæ´»æ–¹å‘é è¿‘ï¼Œæ¶‰åŠ`å‰ç«¯æŠ€æœ¯`, `Appï¼ˆFlutter, uni-appï¼‰`ï¼Œ`æœåŠ¡å™¨ä¸åç«¯æŠ€æœ¯`, `ç”Ÿæ´»æ—¥è®°` ç­‰ç­‰ï¼›\n\n~~ç”±äºç½‘ç«™å†…å®¹è„±ç¦»åŠ¨æ€æ•°æ®ï¼Œé‡‡ç”¨`mardown`æ ¼å¼ç¼–å†™ï¼Œè€ç‰ˆæœ¬ç½‘ç«™çš„æ–‡æ¡£å°†ä¼šåœ¨è¿‘æœŸå†…åŠ å¿«è¿ç§»ï¼›è¿‘æœŸå·¥ä½œæ¯”è¾ƒå¿™ï¼Œé¢„è®¡`ä¸€å‘¨è‡³åŠæœˆ`ï¼›~~\n\n`æ—§ç‰ˆæœ¬åšå®¢æ•°æ®å·²ç»è¿ç§»è‡³æ–°ç‰ˆæœ¬ä¸­ï¼ŒåæœŸæ–‡ç« çš„æ›´æ–°ä¼šåœ¨æ–°ç‰ˆæœ¬ä¸­è¿›è¡Œæ›´æ–°ä¸å‘å¸ƒï¼ï¼ï¼åšæ–‡ä¼šä¸å®šæ—¶è¿›è¡Œæ›´æ–°å‘å¸ƒï¼Œæ²¡æœ‰å›ºå®šæ—¶é—´ï¼Œå¯èƒ½ä¸€ä¸ªæœˆä¸å‘å¸ƒï¼Œä¹Ÿæœ‰å¯èƒ½5å¤©å‘å¸ƒä¸‰ç¯‡ï¼›å…·ä½“çœ‹æœ¬äººçš„æ—¶é—´ï¼`\n:\n\n","slug":"å…³äº/ç‰ˆæœ¬å‡çº§","published":1,"updated":"2025-03-14T02:59:01.329Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0io0003fg9m73kk16a9","content":"<h1 id=\"èŠœæ¹–ï½\"><a href=\"#èŠœæ¹–ï½\" class=\"headerlink\" title=\"èŠœæ¹–ï½\"></a>èŠœæ¹–ï½</h1><p>ç½‘ç«™å…¨é¢æ›´æ–°ï¼Œç”±äºåšä¸»æ¯”è¾ƒæ‡’ï¼Œç”±åˆä»£åŠ¨æ€ç½‘ç«™åˆ°é™æ€ç½‘ç«™ï¼Œä¹Ÿå·²ç»è¿‡å»äº†ä¸€æ®µæ—¶é—´ï¼›åˆšå¼€å§‹æ­å»ºç½‘ç«™çš„ç›®çš„å¾ˆç®€å•ï¼Œå°±æ˜¯å‡¸æ˜¾è‡ªå·±çš„æˆå°±ï¼Œå–œæ¬¢æŠ˜è…¾æ–°çš„ä¸œè¥¿ï¼Œé‚£æ®µæ—¶é—´ä¹Ÿæ˜¯å¯¹æŠ€æœ¯çš„çƒ­æƒ…ï¼Œå°±è‡ªå·±æ£é¼“ç€ä¸€äº›ç¨€å¥‡å¤æ€ªçš„ä¸œè¥¿ï¼›</p>\n<p>ç°åœ¨è‡ªå·±ç²¾åŠ›å¤§ä¸å¦‚ä»å‰äº†ï¼Œæ²¡æœ‰å¤ªå¤šçš„ç²¾åŠ›å»æ¶ˆè€—äº†ï¼Œè‡ªå·±ä¹Ÿåœ¨å‰ç«¯æ–¹å‘æœ‰äº†ä¸€äº›å°çš„æˆå°±ï¼›æ¥ä¸‹æ¥çš„æ—¶é—´å°±å›å»ä¸“ç ”æŸä¸€æ–¹å‘çš„æŠ€æœ¯ï¼›</p>\n<p>æ­¤æ¬¡æ›´æ–°ç½‘ç«™çš„ç›®çš„ï¼Œè„±ç¦»åŸæœ‰çš„å•ä¸€çš„æ–‡æ¡£æµï¼Œä»¥å¤šæ ·åŒ–æ–‡æ¡£å±•ç¤ºï¼Œä½¿å¾—ç½‘ç«™æ›´åŠ ä¸°å¯Œï¼›æ–°ç‰ˆç½‘ç«™å°†ä¼šä»¥æ–‡æ¡£çš„å½¢å¼è¿›è¡Œå½’ç±»ï¼Œå‡¸æ˜¾æ–‡æ¡£å½’ç±»çš„æ„ä¹‰ï¼›</p>\n<h2 id=\"ç½‘ç«™æ›´æ–°çš„å†…å®¹\"><a href=\"#ç½‘ç«™æ›´æ–°çš„å†…å®¹\" class=\"headerlink\" title=\"ç½‘ç«™æ›´æ–°çš„å†…å®¹\"></a>ç½‘ç«™æ›´æ–°çš„å†…å®¹</h2><p>æ¥ä¸‹æ¥å¤§è‡´è¯´ä¸€ä¸‹æ›´æ–°çš„å†…å®¹ï¼š</p>\n<div class=\"timeline \"><div class='timeline-item headline'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>ç½‘ç«™æ›´æ–°å†…å®¹ï¼š</p>\n</div>\n        </div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 4.0.1 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li><del>æœ¬ç½‘ç«™é‡‡ç”¨çš„å›¾ç‰‡å­˜å‚¨äºosså®¹å™¨ï¼ŒåŸæœ‰çš„githubå›¾åºŠä¸ä¼šå†è¿›è¡Œæ›´æ–°ï¼›</del></li>\n<li><del>æ›´æ–°å›¾ç‰‡åŸŸåï¼Œå¢åŠ å®‰å…¨æ€§å·²ç»é˜²ç«å¢™æ¨¡å¼ï¼›</del></li>\n<li><del>éƒ¨åˆ†è¯·æ±‚æµé‡è¾ƒé«˜çš„å›¾ç‰‡è¿˜æ˜¯ä½¿ç”¨githubå›¾åºŠçš„å½¢å¼å¼•å…¥ï¼›</del></li>\n<li>ç½‘ç«™éèµ¢åˆ©æ€§ç½‘ç«™ï¼Œæ•…å°†ç½‘ç«™æˆæœ¬é™ä¸ºæœ€ä½ï¼Œosså­˜å‚¨å®¹å™¨æš‚æ—¶ä¸ä½¿ç”¨ï¼›</li>\n<li><strong>æ•°æ®ä¼šä»è¯­é›€è¿›è¡Œå¯¼å‡ºï¼Œæ•…ä½¿ç”¨å…¶å†…ç½®çš„å›¾åºŠï¼›</strong></li>\n<li>ä¸ºé™ä½æˆæœ¬, ç¡®è®¤æœ€ç»ˆçš„åŸŸåä¸º<code>wangxiaoze.cn</code>ï¼Œ<strong>2025-06-21<code>wangzevw.com</code>å°†ä¸å†ä½¿ç”¨</strong></li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 4.0.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>é‡‡ç”¨<code>hexo</code>æ„å»ºåšå®¢ç³»ç»Ÿï¼Œä¸åœ¨ä½¿ç”¨åŸæœ‰çš„æ–‡æ¡£æµç³»ç»Ÿï¼›</li>\n<li>çªå‡ºä¸»ä½“ï¼Œè¯¥ç½‘ç«™æ›´åŠ é€‚åˆå¹³æ—¶çš„è®°å½•</li>\n<li>ä¿ç•™æ—§ç‰ˆæœ¬çš„ç³»ç»Ÿ<a href=\"https://wangxiaoze-view.github.io/knowledge-base/\">knowledge-base</a></li>\n<li><strong>åæœŸå†…å®¹çš„å‘å¸ƒä¸åœ¨åŸæ¥çš„æ–‡æ¡£ç³»ç»Ÿå‘å¸ƒï¼Œæœ€æ–°åšæ–‡å°†ä¼šå±•ç¤ºåœ¨è¯¥ç½‘ç«™</strong></li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 3.3.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>å‰ç«¯å°å†Œé“¾æ¥æ›´æ–°ï¼Œè®¿é—®ä¹‹å‰çš„é“¾æ¥æ˜¾ç¤º<code>404</code></li>\n<li>åˆ é™¤å‰ç«¯å¯¼èˆªé¡µé¢, ç½‘ç«™ç»Ÿè®¡é“¾æ¥å–æ¶ˆ</li>\n<li>é¡¹ç›®<code>demos</code>é¡µé¢åˆ é™¤, åˆ é™¤ç›¸å…³ä¾èµ–ï¼Œç”¨<a href=\"https://wangxiaoze-view.github.io/web-demos/#button\">web-demos</a>è¿›è¡Œè®¿é—®</li>\n<li>ä¼˜åŒ–å¯¼èˆªæ ï¼Œä¾§è¾¹æ ä½¿ç”¨<code>è‡ªåŠ¨æ›´æ–°</code>, èˆå¼ƒä¹‹å‰é•¿ä»£ç é…ç½®</li>\n<li><strong>æ€»ç»“éƒ¨åˆ†æ–‡æ¡£</strong>æ”¾ç½®<code>å‰ç«¯å°å†Œ</code></li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 3.2.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>å›¾ç‰‡è¿›è¡Œä¼˜åŒ–ï¼Œæ”¯æŒå›¾ç‰‡å¤§å›¾é¢„è§ˆï¼›å¹¶ä¸”å½“åŸå›¾åŠ è½½å¤±è´¥é»˜è®¤ä½¿ç”¨<code>github</code>å›¾ç‰‡åœ°å€ï¼›</li>\n<li>æ·»åŠ å‰ç«¯å¯¼èˆªé¡µé¢ï¼Œä¸æ–­æ›´æ–°ä¸€äº›å¸¸ç”¨æœ‰è¶£çš„ç½‘ç«™ï¼›</li>\n<li>åˆ é™¤ä¸ªäººé¡¹ç›®æ ç›®ï¼Œå°†å…¶æ”¾ç½®åœ¨å‰ç«¯å¯¼èˆª</li>\n<li>æ·»åŠ ç½‘ç«™ç»Ÿè®¡</li>\n<li>å°†æ–‡æ¡£ä»¥åŠ <code>demos</code> ç§»ç½®æœ¬ç½‘ç«™ï¼Œå°†å–æ¶ˆå¯¹åº”çš„åŸŸå<code>docs.wangzevw.com å’Œ demos.wangzevw.com</code></li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 3.1.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>ç›®å½•é‡æ–°è°ƒæ•´ï¼Œå°†å‰ç«¯çŸ¥è¯†å†…å®¹ç§»åŠ¨åˆ°å‰ç«¯å°å†Œæ¨¡å—ä¸‹ï¼›</li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 3.0.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>ç½‘ç«™ç”± <code>vuepress</code> æ›´æ–°æˆ <code>vitepress</code></li>\n<li>æ‘’å¼ƒèŠ±é‡Œèƒ¡å“¨çš„ä¸»é¢˜æ ·å¼(å¤ªè¿‡æ²‰é‡), ä»¥åŸç”ŸåŸå‘³çš„å½¢å¼å±•ç¤ºæ–‡æ¡£å†…å®¹</li>\n<li>åºŸå¼ƒéƒ¨åˆ†æ—§æ–‡æ¡£,nest, æ¡Œé¢ç«¯ï¼Œç§»åŠ¨ç«¯ä¸å†è¿›è¡Œæ•´ç†æ›´æ–°;</li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 2.3.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li><code>nest, ç§»åŠ¨ç«¯, æ¡Œé¢ç«¯</code>æ˜¯å¾ˆå°‘æ›´æ–°ç³»åˆ—(ä¸ªäººå…´è¶£), ç§»åŠ¨åˆ°<code>å…¶ä»–</code>æ¨¡å—</li>\n<li>åœ¨<code>å…¶ä»–</code>æ¨¡å—ä¸­, æ·»åŠ <code>three</code>çš„å­¦ä¹ </li>\n<li>æ·»åŠ demosä¸ªäººæ€»ç»“çš„<code>Demos</code></li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 2.2.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>ç§»é™¤é¢è¯•é¢˜, å°†é¢è¯•é¢˜æ•´ç†åœ¨å‰ç«¯ï¼›å¦åˆ™å†…å®¹ä¼šå¾ˆå¤šï¼Œå¯¼è‡´æ–‡æ¡£çš„åˆ†ç±»æ··ä¹±ï¼›</li>\n<li>è¿‘æœŸæ›´æ–°çš„é¢‘ç‡å’Œå†…å®¹å°†ä»¥å‰ç«¯ä¸ºä¸»ï¼Œç§»åŠ¨ç«¯çš„<code>é¸¿è’™,FLutter</code>åç«¯çš„<code>Nest</code>æœ‰æ—¶é—´ä¼šæŒç»­æ›´æ–°;</li>\n<li>å…³äº<code>Flutter</code>çš„æ•´ç†ï¼šå°†å·²æ•´ç†çš„å†…å®¹æ”¾ç½®FlutterDemoç½‘ç«™ä¸­ï¼ˆå¦‚æœæ–‡å­—æ˜¾ç¤ºä¸å‡ºæ¥, è¿™æ˜¯ Flutter ä¸€ä¸ªå¼Šç«¯, éœ€è¦ç­‰å¾…æˆ–è€…æŒ‚æ¢¯å­ï¼‰ ç½‘ç«™å·²åºŸå¼ƒ</li>\n<li>æ¡Œé¢ç«¯æ­£åœ¨å¼€å‘ä¸€ä¸ªç®€å•çš„<code>DEMO</code>ï¼Œåç»­ä¼šå°†è¯¥<code>DEMO</code>ä½œä¸ºå¼€å‘æ¡ˆä¾‹è¿›è¡Œæ•´ç†</li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 2.1.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>æ·»åŠ äº†éƒ¨åˆ†<code>Demos</code>,å¯åœ¨ç½‘ç«™ä¸­è®¿é—®ï¼Œå¯ä»¥åœ¨æ–°æ ‡ç­¾é¡µæŸ¥çœ‹;</li>\n<li>åˆ é™¤<code>vdoing</code>ä¸»é¢˜è‡ªå¸¦çš„å¹¿å‘Šæ’ä»¶;</li>\n<li>æ›´æ–°æµè§ˆå™¨å›¾æ ‡;</li>\n<li>æ–‡æ¡£æœ‰å¾ˆå¤šåŒä¸€å¤©å‘å¸ƒçš„, é‚£æ˜¯å°†åŸæ¥çš„ç½‘ç«™å†…å®¹è¿›è¡Œè¿ç§»;</li>\n<li>æ·»åŠ å‰ç«¯éƒ¨åˆ†é¢è¯•é¢˜;</li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 2.0.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>è„±ç¦»æœåŠ¡ç«¯ï¼Œé‡‡ç”¨<code>GitHub</code>å’Œ<code>Gitee</code>è¿›è¡Œæ‰˜ç®¡ï¼›</li>\n<li>ä¼˜åŒ–ç½‘ç«™æ€§èƒ½ï¼Œä½¿ç”¨<code>CDN</code>è¿›è¡ŒåŠ é€Ÿï¼›</li>\n<li>ç½‘ç«™é‡‡ç”¨<code>md</code>è¯­è¨€è¿›è¡Œç¼–å†™ï¼›</li>\n<li>å…·ç°åŒ–åˆ†ç±»æ¨¡å—ï¼›</li>\n<li>ç½‘ç«™å†…å®¹æ›´æ–°ï¼šçº¿ä¸‹ç§¯ç´¯çš„çŸ¥è¯†ï¼Œå¯¹ç”Ÿæ´»çš„æ„Ÿæ‚Ÿâ€¦</li>\n<li>æ·»åŠ ä¸ªäººçš„ä¸€äº›é¡¹ç›®ï¼Œæ¶‰åŠåˆ°å‰åç«¯ç§»åŠ¨ç«¯ç­‰ç­‰ï¼›æ·»åŠ æœé›†çš„ä¸€äº›ç½‘ç«™ï¼šå›¾ç‰‡è½¬æ¢ç½‘ç«™ï¼Œæ–‡æ¡£å¤„ç†ç½‘ç«™ç­‰ç­‰</li>\n<li>ç½‘ç«™è¿ç§»ï¼Œåº•å±‚<code>hexo</code>ä¿®æ”¹ä¸º<code>vuepress</code></li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 1.0.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>ç½‘ç«™è„±ç¦»å•ä¸€æ–‡æ¡£æµçš„ç‰¹æ€§ï¼Œé‡‡ç”¨å¤šæ ·åŒ–ç®¡ç†ï¼›</li>\n<li>é‡‡ç”¨<a href=\"https://hexo.io/zh-cn/index.html\"><code>Hexo</code></a>é™æ€æ­å»ºï¼Œä½¿ç”¨<a href=\"https://github.com/jerryc127/hexo-theme-butterfly.git\"><code>Butterfly-github</code></a>, <a href=\"https://gitee.com/immyw/hexo-theme-butterfly\"><code>Butterfly-gitee</code></a>ä¸»é¢˜æ­é…ä½¿ç”¨ï¼›</li>\n<li>ä¸»é¢˜é…ç½®åŒ–ï¼Œé…ç½®åŠ¨ç”»ï¼ŒåŠ è½½ï¼Œå¤šæ ·åŒ–è®¾ç½®ï¼›</li>\n<li>åˆ†ç±»ç®¡ç†æ–‡æ¡£ï¼Œå¦‚ï¼šç”Ÿæ´»ï¼Œåˆ†ç±»ï¼Œæ ‡ç­¾ç­‰ç­‰ï¼›</li>\n<li>ä¼˜åŒ–æ–‡æ¡£å½¢å¼ï¼Œæ›´åŠ å‡¸æ˜¾åšå®¢ä¸»é¢˜ï¼Œä¸»ä½“å†…å®¹ä»¥å·¦å³å¸ƒå±€ï¼Œæ›´åŠ å‡¸æ˜¾åšå®¢æ ¼å¼ï¼›</li>\n<li>æ·»åŠ å¤åˆ¶å†…å®¹æ˜¯é™„åŠ åŸåˆ›ç‰ˆæƒå£°æ˜ï¼Œå¹¶ä¸”æ¯ä¸ªé¡µé¢ä¸‹æ–¹æ ‡æ³¨ç‰ˆæƒï¼›</li>\n<li>åº•éƒ¨æ·»åŠ å¤‡æ¡ˆè¡¨ç¤ºï¼›</li>\n</ol>\n</div>\n      </div></div>\n\n\n<h2 id=\"ä¸»é¢˜å†…å®¹\"><a href=\"#ä¸»é¢˜å†…å®¹\" class=\"headerlink\" title=\"ä¸»é¢˜å†…å®¹\"></a>ä¸»é¢˜å†…å®¹</h2><p>æœ¬ç½‘ç«™çš„ä¸»é¢˜å†…å®¹å°†ä¼šä»¥èŒåœºï¼Œç”Ÿæ´»æ–¹å‘é è¿‘ï¼Œæ¶‰åŠ<code>å‰ç«¯æŠ€æœ¯</code>, <code>Appï¼ˆFlutter, uni-appï¼‰</code>ï¼Œ<code>æœåŠ¡å™¨ä¸åç«¯æŠ€æœ¯</code>, <code>ç”Ÿæ´»æ—¥è®°</code> ç­‰ç­‰ï¼›</p>\n<p><del>ç”±äºç½‘ç«™å†…å®¹è„±ç¦»åŠ¨æ€æ•°æ®ï¼Œé‡‡ç”¨<code>mardown</code>æ ¼å¼ç¼–å†™ï¼Œè€ç‰ˆæœ¬ç½‘ç«™çš„æ–‡æ¡£å°†ä¼šåœ¨è¿‘æœŸå†…åŠ å¿«è¿ç§»ï¼›è¿‘æœŸå·¥ä½œæ¯”è¾ƒå¿™ï¼Œé¢„è®¡<code>ä¸€å‘¨è‡³åŠæœˆ</code>ï¼›</del></p>\n<p><code>æ—§ç‰ˆæœ¬åšå®¢æ•°æ®å·²ç»è¿ç§»è‡³æ–°ç‰ˆæœ¬ä¸­ï¼ŒåæœŸæ–‡ç« çš„æ›´æ–°ä¼šåœ¨æ–°ç‰ˆæœ¬ä¸­è¿›è¡Œæ›´æ–°ä¸å‘å¸ƒï¼ï¼ï¼åšæ–‡ä¼šä¸å®šæ—¶è¿›è¡Œæ›´æ–°å‘å¸ƒï¼Œæ²¡æœ‰å›ºå®šæ—¶é—´ï¼Œå¯èƒ½ä¸€ä¸ªæœˆä¸å‘å¸ƒï¼Œä¹Ÿæœ‰å¯èƒ½5å¤©å‘å¸ƒä¸‰ç¯‡ï¼›å…·ä½“çœ‹æœ¬äººçš„æ—¶é—´ï¼</code><br>:</p>\n","excerpt":"","more":"<h1 id=\"èŠœæ¹–ï½\"><a href=\"#èŠœæ¹–ï½\" class=\"headerlink\" title=\"èŠœæ¹–ï½\"></a>èŠœæ¹–ï½</h1><p>ç½‘ç«™å…¨é¢æ›´æ–°ï¼Œç”±äºåšä¸»æ¯”è¾ƒæ‡’ï¼Œç”±åˆä»£åŠ¨æ€ç½‘ç«™åˆ°é™æ€ç½‘ç«™ï¼Œä¹Ÿå·²ç»è¿‡å»äº†ä¸€æ®µæ—¶é—´ï¼›åˆšå¼€å§‹æ­å»ºç½‘ç«™çš„ç›®çš„å¾ˆç®€å•ï¼Œå°±æ˜¯å‡¸æ˜¾è‡ªå·±çš„æˆå°±ï¼Œå–œæ¬¢æŠ˜è…¾æ–°çš„ä¸œè¥¿ï¼Œé‚£æ®µæ—¶é—´ä¹Ÿæ˜¯å¯¹æŠ€æœ¯çš„çƒ­æƒ…ï¼Œå°±è‡ªå·±æ£é¼“ç€ä¸€äº›ç¨€å¥‡å¤æ€ªçš„ä¸œè¥¿ï¼›</p>\n<p>ç°åœ¨è‡ªå·±ç²¾åŠ›å¤§ä¸å¦‚ä»å‰äº†ï¼Œæ²¡æœ‰å¤ªå¤šçš„ç²¾åŠ›å»æ¶ˆè€—äº†ï¼Œè‡ªå·±ä¹Ÿåœ¨å‰ç«¯æ–¹å‘æœ‰äº†ä¸€äº›å°çš„æˆå°±ï¼›æ¥ä¸‹æ¥çš„æ—¶é—´å°±å›å»ä¸“ç ”æŸä¸€æ–¹å‘çš„æŠ€æœ¯ï¼›</p>\n<p>æ­¤æ¬¡æ›´æ–°ç½‘ç«™çš„ç›®çš„ï¼Œè„±ç¦»åŸæœ‰çš„å•ä¸€çš„æ–‡æ¡£æµï¼Œä»¥å¤šæ ·åŒ–æ–‡æ¡£å±•ç¤ºï¼Œä½¿å¾—ç½‘ç«™æ›´åŠ ä¸°å¯Œï¼›æ–°ç‰ˆç½‘ç«™å°†ä¼šä»¥æ–‡æ¡£çš„å½¢å¼è¿›è¡Œå½’ç±»ï¼Œå‡¸æ˜¾æ–‡æ¡£å½’ç±»çš„æ„ä¹‰ï¼›</p>\n<h2 id=\"ç½‘ç«™æ›´æ–°çš„å†…å®¹\"><a href=\"#ç½‘ç«™æ›´æ–°çš„å†…å®¹\" class=\"headerlink\" title=\"ç½‘ç«™æ›´æ–°çš„å†…å®¹\"></a>ç½‘ç«™æ›´æ–°çš„å†…å®¹</h2><p>æ¥ä¸‹æ¥å¤§è‡´è¯´ä¸€ä¸‹æ›´æ–°çš„å†…å®¹ï¼š</p>\n<div class=\"timeline \"><div class='timeline-item headline'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>ç½‘ç«™æ›´æ–°å†…å®¹ï¼š</p>\n</div>\n        </div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 4.0.1 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li><del>æœ¬ç½‘ç«™é‡‡ç”¨çš„å›¾ç‰‡å­˜å‚¨äºosså®¹å™¨ï¼ŒåŸæœ‰çš„githubå›¾åºŠä¸ä¼šå†è¿›è¡Œæ›´æ–°ï¼›</del></li>\n<li><del>æ›´æ–°å›¾ç‰‡åŸŸåï¼Œå¢åŠ å®‰å…¨æ€§å·²ç»é˜²ç«å¢™æ¨¡å¼ï¼›</del></li>\n<li><del>éƒ¨åˆ†è¯·æ±‚æµé‡è¾ƒé«˜çš„å›¾ç‰‡è¿˜æ˜¯ä½¿ç”¨githubå›¾åºŠçš„å½¢å¼å¼•å…¥ï¼›</del></li>\n<li>ç½‘ç«™éèµ¢åˆ©æ€§ç½‘ç«™ï¼Œæ•…å°†ç½‘ç«™æˆæœ¬é™ä¸ºæœ€ä½ï¼Œosså­˜å‚¨å®¹å™¨æš‚æ—¶ä¸ä½¿ç”¨ï¼›</li>\n<li><strong>æ•°æ®ä¼šä»è¯­é›€è¿›è¡Œå¯¼å‡ºï¼Œæ•…ä½¿ç”¨å…¶å†…ç½®çš„å›¾åºŠï¼›</strong></li>\n<li>ä¸ºé™ä½æˆæœ¬, ç¡®è®¤æœ€ç»ˆçš„åŸŸåä¸º<code>wangxiaoze.cn</code>ï¼Œ<strong>2025-06-21<code>wangzevw.com</code>å°†ä¸å†ä½¿ç”¨</strong></li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 4.0.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>é‡‡ç”¨<code>hexo</code>æ„å»ºåšå®¢ç³»ç»Ÿï¼Œä¸åœ¨ä½¿ç”¨åŸæœ‰çš„æ–‡æ¡£æµç³»ç»Ÿï¼›</li>\n<li>çªå‡ºä¸»ä½“ï¼Œè¯¥ç½‘ç«™æ›´åŠ é€‚åˆå¹³æ—¶çš„è®°å½•</li>\n<li>ä¿ç•™æ—§ç‰ˆæœ¬çš„ç³»ç»Ÿ<a href=\"https://wangxiaoze-view.github.io/knowledge-base/\">knowledge-base</a></li>\n<li><strong>åæœŸå†…å®¹çš„å‘å¸ƒä¸åœ¨åŸæ¥çš„æ–‡æ¡£ç³»ç»Ÿå‘å¸ƒï¼Œæœ€æ–°åšæ–‡å°†ä¼šå±•ç¤ºåœ¨è¯¥ç½‘ç«™</strong></li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 3.3.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>å‰ç«¯å°å†Œé“¾æ¥æ›´æ–°ï¼Œè®¿é—®ä¹‹å‰çš„é“¾æ¥æ˜¾ç¤º<code>404</code></li>\n<li>åˆ é™¤å‰ç«¯å¯¼èˆªé¡µé¢, ç½‘ç«™ç»Ÿè®¡é“¾æ¥å–æ¶ˆ</li>\n<li>é¡¹ç›®<code>demos</code>é¡µé¢åˆ é™¤, åˆ é™¤ç›¸å…³ä¾èµ–ï¼Œç”¨<a href=\"https://wangxiaoze-view.github.io/web-demos/#button\">web-demos</a>è¿›è¡Œè®¿é—®</li>\n<li>ä¼˜åŒ–å¯¼èˆªæ ï¼Œä¾§è¾¹æ ä½¿ç”¨<code>è‡ªåŠ¨æ›´æ–°</code>, èˆå¼ƒä¹‹å‰é•¿ä»£ç é…ç½®</li>\n<li><strong>æ€»ç»“éƒ¨åˆ†æ–‡æ¡£</strong>æ”¾ç½®<code>å‰ç«¯å°å†Œ</code></li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 3.2.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>å›¾ç‰‡è¿›è¡Œä¼˜åŒ–ï¼Œæ”¯æŒå›¾ç‰‡å¤§å›¾é¢„è§ˆï¼›å¹¶ä¸”å½“åŸå›¾åŠ è½½å¤±è´¥é»˜è®¤ä½¿ç”¨<code>github</code>å›¾ç‰‡åœ°å€ï¼›</li>\n<li>æ·»åŠ å‰ç«¯å¯¼èˆªé¡µé¢ï¼Œä¸æ–­æ›´æ–°ä¸€äº›å¸¸ç”¨æœ‰è¶£çš„ç½‘ç«™ï¼›</li>\n<li>åˆ é™¤ä¸ªäººé¡¹ç›®æ ç›®ï¼Œå°†å…¶æ”¾ç½®åœ¨å‰ç«¯å¯¼èˆª</li>\n<li>æ·»åŠ ç½‘ç«™ç»Ÿè®¡</li>\n<li>å°†æ–‡æ¡£ä»¥åŠ <code>demos</code> ç§»ç½®æœ¬ç½‘ç«™ï¼Œå°†å–æ¶ˆå¯¹åº”çš„åŸŸå<code>docs.wangzevw.com å’Œ demos.wangzevw.com</code></li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 3.1.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>ç›®å½•é‡æ–°è°ƒæ•´ï¼Œå°†å‰ç«¯çŸ¥è¯†å†…å®¹ç§»åŠ¨åˆ°å‰ç«¯å°å†Œæ¨¡å—ä¸‹ï¼›</li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 3.0.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>ç½‘ç«™ç”± <code>vuepress</code> æ›´æ–°æˆ <code>vitepress</code></li>\n<li>æ‘’å¼ƒèŠ±é‡Œèƒ¡å“¨çš„ä¸»é¢˜æ ·å¼(å¤ªè¿‡æ²‰é‡), ä»¥åŸç”ŸåŸå‘³çš„å½¢å¼å±•ç¤ºæ–‡æ¡£å†…å®¹</li>\n<li>åºŸå¼ƒéƒ¨åˆ†æ—§æ–‡æ¡£,nest, æ¡Œé¢ç«¯ï¼Œç§»åŠ¨ç«¯ä¸å†è¿›è¡Œæ•´ç†æ›´æ–°;</li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 2.3.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li><code>nest, ç§»åŠ¨ç«¯, æ¡Œé¢ç«¯</code>æ˜¯å¾ˆå°‘æ›´æ–°ç³»åˆ—(ä¸ªäººå…´è¶£), ç§»åŠ¨åˆ°<code>å…¶ä»–</code>æ¨¡å—</li>\n<li>åœ¨<code>å…¶ä»–</code>æ¨¡å—ä¸­, æ·»åŠ <code>three</code>çš„å­¦ä¹ </li>\n<li>æ·»åŠ demosä¸ªäººæ€»ç»“çš„<code>Demos</code></li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 2.2.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>ç§»é™¤é¢è¯•é¢˜, å°†é¢è¯•é¢˜æ•´ç†åœ¨å‰ç«¯ï¼›å¦åˆ™å†…å®¹ä¼šå¾ˆå¤šï¼Œå¯¼è‡´æ–‡æ¡£çš„åˆ†ç±»æ··ä¹±ï¼›</li>\n<li>è¿‘æœŸæ›´æ–°çš„é¢‘ç‡å’Œå†…å®¹å°†ä»¥å‰ç«¯ä¸ºä¸»ï¼Œç§»åŠ¨ç«¯çš„<code>é¸¿è’™,FLutter</code>åç«¯çš„<code>Nest</code>æœ‰æ—¶é—´ä¼šæŒç»­æ›´æ–°;</li>\n<li>å…³äº<code>Flutter</code>çš„æ•´ç†ï¼šå°†å·²æ•´ç†çš„å†…å®¹æ”¾ç½®FlutterDemoç½‘ç«™ä¸­ï¼ˆå¦‚æœæ–‡å­—æ˜¾ç¤ºä¸å‡ºæ¥, è¿™æ˜¯ Flutter ä¸€ä¸ªå¼Šç«¯, éœ€è¦ç­‰å¾…æˆ–è€…æŒ‚æ¢¯å­ï¼‰ ç½‘ç«™å·²åºŸå¼ƒ</li>\n<li>æ¡Œé¢ç«¯æ­£åœ¨å¼€å‘ä¸€ä¸ªç®€å•çš„<code>DEMO</code>ï¼Œåç»­ä¼šå°†è¯¥<code>DEMO</code>ä½œä¸ºå¼€å‘æ¡ˆä¾‹è¿›è¡Œæ•´ç†</li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 2.1.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>æ·»åŠ äº†éƒ¨åˆ†<code>Demos</code>,å¯åœ¨ç½‘ç«™ä¸­è®¿é—®ï¼Œå¯ä»¥åœ¨æ–°æ ‡ç­¾é¡µæŸ¥çœ‹;</li>\n<li>åˆ é™¤<code>vdoing</code>ä¸»é¢˜è‡ªå¸¦çš„å¹¿å‘Šæ’ä»¶;</li>\n<li>æ›´æ–°æµè§ˆå™¨å›¾æ ‡;</li>\n<li>æ–‡æ¡£æœ‰å¾ˆå¤šåŒä¸€å¤©å‘å¸ƒçš„, é‚£æ˜¯å°†åŸæ¥çš„ç½‘ç«™å†…å®¹è¿›è¡Œè¿ç§»;</li>\n<li>æ·»åŠ å‰ç«¯éƒ¨åˆ†é¢è¯•é¢˜;</li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 2.0.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>è„±ç¦»æœåŠ¡ç«¯ï¼Œé‡‡ç”¨<code>GitHub</code>å’Œ<code>Gitee</code>è¿›è¡Œæ‰˜ç®¡ï¼›</li>\n<li>ä¼˜åŒ–ç½‘ç«™æ€§èƒ½ï¼Œä½¿ç”¨<code>CDN</code>è¿›è¡ŒåŠ é€Ÿï¼›</li>\n<li>ç½‘ç«™é‡‡ç”¨<code>md</code>è¯­è¨€è¿›è¡Œç¼–å†™ï¼›</li>\n<li>å…·ç°åŒ–åˆ†ç±»æ¨¡å—ï¼›</li>\n<li>ç½‘ç«™å†…å®¹æ›´æ–°ï¼šçº¿ä¸‹ç§¯ç´¯çš„çŸ¥è¯†ï¼Œå¯¹ç”Ÿæ´»çš„æ„Ÿæ‚Ÿâ€¦</li>\n<li>æ·»åŠ ä¸ªäººçš„ä¸€äº›é¡¹ç›®ï¼Œæ¶‰åŠåˆ°å‰åç«¯ç§»åŠ¨ç«¯ç­‰ç­‰ï¼›æ·»åŠ æœé›†çš„ä¸€äº›ç½‘ç«™ï¼šå›¾ç‰‡è½¬æ¢ç½‘ç«™ï¼Œæ–‡æ¡£å¤„ç†ç½‘ç«™ç­‰ç­‰</li>\n<li>ç½‘ç«™è¿ç§»ï¼Œåº•å±‚<code>hexo</code>ä¿®æ”¹ä¸º<code>vuepress</code></li>\n</ol>\n</div>\n      </div><div class='timeline-item'>\n        <div class='timeline-item-title'>\n          <div class='item-circle'><p>Version 1.0.0 æ›´æ–°å†…å®¹</p>\n</div>\n        </div>\n        <div class='timeline-item-content'><ol>\n<li>ç½‘ç«™è„±ç¦»å•ä¸€æ–‡æ¡£æµçš„ç‰¹æ€§ï¼Œé‡‡ç”¨å¤šæ ·åŒ–ç®¡ç†ï¼›</li>\n<li>é‡‡ç”¨<a href=\"https://hexo.io/zh-cn/index.html\"><code>Hexo</code></a>é™æ€æ­å»ºï¼Œä½¿ç”¨<a href=\"https://github.com/jerryc127/hexo-theme-butterfly.git\"><code>Butterfly-github</code></a>, <a href=\"https://gitee.com/immyw/hexo-theme-butterfly\"><code>Butterfly-gitee</code></a>ä¸»é¢˜æ­é…ä½¿ç”¨ï¼›</li>\n<li>ä¸»é¢˜é…ç½®åŒ–ï¼Œé…ç½®åŠ¨ç”»ï¼ŒåŠ è½½ï¼Œå¤šæ ·åŒ–è®¾ç½®ï¼›</li>\n<li>åˆ†ç±»ç®¡ç†æ–‡æ¡£ï¼Œå¦‚ï¼šç”Ÿæ´»ï¼Œåˆ†ç±»ï¼Œæ ‡ç­¾ç­‰ç­‰ï¼›</li>\n<li>ä¼˜åŒ–æ–‡æ¡£å½¢å¼ï¼Œæ›´åŠ å‡¸æ˜¾åšå®¢ä¸»é¢˜ï¼Œä¸»ä½“å†…å®¹ä»¥å·¦å³å¸ƒå±€ï¼Œæ›´åŠ å‡¸æ˜¾åšå®¢æ ¼å¼ï¼›</li>\n<li>æ·»åŠ å¤åˆ¶å†…å®¹æ˜¯é™„åŠ åŸåˆ›ç‰ˆæƒå£°æ˜ï¼Œå¹¶ä¸”æ¯ä¸ªé¡µé¢ä¸‹æ–¹æ ‡æ³¨ç‰ˆæƒï¼›</li>\n<li>åº•éƒ¨æ·»åŠ å¤‡æ¡ˆè¡¨ç¤ºï¼›</li>\n</ol>\n</div>\n      </div></div>\n\n\n<h2 id=\"ä¸»é¢˜å†…å®¹\"><a href=\"#ä¸»é¢˜å†…å®¹\" class=\"headerlink\" title=\"ä¸»é¢˜å†…å®¹\"></a>ä¸»é¢˜å†…å®¹</h2><p>æœ¬ç½‘ç«™çš„ä¸»é¢˜å†…å®¹å°†ä¼šä»¥èŒåœºï¼Œç”Ÿæ´»æ–¹å‘é è¿‘ï¼Œæ¶‰åŠ<code>å‰ç«¯æŠ€æœ¯</code>, <code>Appï¼ˆFlutter, uni-appï¼‰</code>ï¼Œ<code>æœåŠ¡å™¨ä¸åç«¯æŠ€æœ¯</code>, <code>ç”Ÿæ´»æ—¥è®°</code> ç­‰ç­‰ï¼›</p>\n<p><del>ç”±äºç½‘ç«™å†…å®¹è„±ç¦»åŠ¨æ€æ•°æ®ï¼Œé‡‡ç”¨<code>mardown</code>æ ¼å¼ç¼–å†™ï¼Œè€ç‰ˆæœ¬ç½‘ç«™çš„æ–‡æ¡£å°†ä¼šåœ¨è¿‘æœŸå†…åŠ å¿«è¿ç§»ï¼›è¿‘æœŸå·¥ä½œæ¯”è¾ƒå¿™ï¼Œé¢„è®¡<code>ä¸€å‘¨è‡³åŠæœˆ</code>ï¼›</del></p>\n<p><code>æ—§ç‰ˆæœ¬åšå®¢æ•°æ®å·²ç»è¿ç§»è‡³æ–°ç‰ˆæœ¬ä¸­ï¼ŒåæœŸæ–‡ç« çš„æ›´æ–°ä¼šåœ¨æ–°ç‰ˆæœ¬ä¸­è¿›è¡Œæ›´æ–°ä¸å‘å¸ƒï¼ï¼ï¼åšæ–‡ä¼šä¸å®šæ—¶è¿›è¡Œæ›´æ–°å‘å¸ƒï¼Œæ²¡æœ‰å›ºå®šæ—¶é—´ï¼Œå¯èƒ½ä¸€ä¸ªæœˆä¸å‘å¸ƒï¼Œä¹Ÿæœ‰å¯èƒ½5å¤©å‘å¸ƒä¸‰ç¯‡ï¼›å…·ä½“çœ‹æœ¬äººçš„æ—¶é—´ï¼</code><br>:</p>\n"},{"title":"é¡¹ç›®","abbrlink":"a2c247c4","date":"2024-10-08T01:05:01.000Z","_content":"\n# ä¸ªäººé¡¹ç›®\n\n> æœ¬äººç©ºä½™æ—¶é—´é—²æš‡ï¼Œå¼€å‘ä¸€äº›å°å·¥å…·ä»¥åŠé¡¹ç›®;\n\n## è¿˜åœ¨ä½¿ç”¨çš„é¡¹ç›®\n\n### sim-admin <Badge type=\"danger\" text=\"æœ€æ–°é¡¹ç›®\" />\n\n> è¿™æ˜¯ä¸€ä¸ªç”¨äºå¿«é€Ÿå…¥æ‰‹ä¸Šé—¨çš„`vue`åå°ç®¡ç†ç³»ç»Ÿ, è¯¥åº”ç”¨ç”¨åˆ°æœ€æ–°çš„æŠ€æœ¯`vue3, ts, rsbuild`ç­‰ï¼›è¯¥é¡¹ç›®è¿˜ä½¿ç”¨äº†**è¾…åŠ©å‡½æ•° functional-helpers-lib å·¥å…·**\n\n- [github](https://github.com/wangxiaoze-view/sim-admin)\n- [ç½‘ç«™é¢„è§ˆ](https://wangxiaoze-view.github.io/sim-admin/)\n\n### è¾…åŠ©å‡½æ•° functional-helpers-lib\n\n> å°±æ˜¯ä¸€ä¸ªç”¨äºå¸¸è§„çš„`utils, hooks`çš„å‡½æ•°è¾…åŠ©æ’ä»¶\n\n- [github](https://github.com/wangxiaoze-view/functional-helpers-lib)\n\n### log-reporting <Badge type=\"danger\" text=\"æ¨è\" />\n\nè¿™æ¬¾å·¥å…·å‘¢é¡¾åæ€ä¹‰å°±æ˜¯æ—¥å¿—ä¸ŠæŠ¥ï¼Œå°±æ˜¯æœé›†å®¢æˆ·ç«¯çš„ä¸€äº›å‘Šè­¦æŠ¥é”™æ—¥å¿—åˆ°æœåŠ¡ç«¯ï¼Œä»è€Œåœ¨æœåŠ¡ç«¯è¿›è¡Œæ•°æ®åˆ†æå¾é›†æˆå®¢æˆ·ç«¯å¯è§†åŒ–æ•°æ®é¢æ¿ï¼›\n\nç›®å‰è¯¥å·¥å…·åˆ†ä¸ºä¿©ä¸ªç‰ˆæœ¬ï¼š\n\n1. [log-reporting](https://github.com/wangxiaoze-view/log-repeorting/tree/v1)\n   > è¯¥ç‰ˆæœ¬ä¸ºä½ç‰ˆæœ¬ï¼Œæ”¯æ”¯æŒéƒ¨åˆ†åŠŸèƒ½ï¼Œç›®å‰ä»…æ”¯æŒæ—¥å¿—ä¸ŠæŠ¥ï¼Œè§†å±å½•åˆ¶ï¼Œä½†æ˜¯ä¸æ”¯æŒ `pvä¸æ›å…‰ç»Ÿè®¡`\n   - [Github](https://github.com/wangxiaoze-view/log-repeorting/tree/v1)\n   - [npm](https://www.npmjs.com/package/log-reporting)\n   - [æ–‡æ¡£è¯´æ˜](/project/02_æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶/v1)\n2. [@log-reporting/core](https://github.com/wangxiaoze-view/log-repeorting)\n   > è¯¥ç‰ˆæœ¬ä¸ºå…¨æ–°ç‰ˆæœ¬ï¼Œä¸ `log-reporting` å®Œå…¨ä¸åŒï¼Œ æ˜ å°„ä»¥åŠä½¿ç”¨å®Œå…¨ä¸ä¸€æ ·; åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šå®Œå…¨æ”¯æŒ `pvä¸æ›å…‰ç»Ÿè®¡`ï¼› åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šå¯¹èµ„æºä»¥åŠæ€§èƒ½ç›‘æ§è¿›è¡Œä¼˜åŒ–; å½“ç„¶æœ‰å†…ç½®çš„ `logger, types`æ’ä»¶ï¼›\n   - [Github](https://github.com/wangxiaoze-view/log-repeorting/tree/main)\n   - [npm](https://www.npmjs.com/package/@log-reporting/core)\n   - [æ–‡æ¡£è¯´æ˜](/project/02_æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶/v2)\n\n### demos\n\n> èµ„æºæ”¾åœ¨ githubï¼Œå¯èƒ½é¦–æ¬¡è®¿é—®ä¼šæ…¢ä¸€ç‚¹\n\n- [åœ°å€](https://wangxiaoze-view.github.io/web-demos/#button)\n\n### æ¡Œé¢ç«¯å¼€å‘å·¥å…· dev-tools\n\n> ä½¿ç”¨ rust + vue æ­å»ºçš„ä¸€æ¬¾æ¡Œé¢ç«¯çš„å¼€å‘å·¥å…·ï¼› ç›®å‰ä¸å¼€æºï¼Œç­‰ç‰ˆæœ¬ç¨³å®šä¹‹ååœ¨å¼€æºï¼›\n\n- [mac0.0.1 ç‰ˆæœ¬](https://wangxiaoze-view.github.io/picx-images-hosting/app/dev-tools/0.0.1/dev-tools_0.0.1_aarch64.dmg)\n- [windows0.0.1 ç‰ˆæœ¬](https://wangxiaoze-view.github.io/picx-images-hosting/app/dev-tools/0.0.1/dev-tools_0.0.1_x64-setup.exe)\n- [æ–‡æ¡£](/project/04_æ¡Œé¢ç«¯å¼€å‘å·¥å…·/01_é¡¹ç›®ä»‹ç»)\n\n## ä¸å†è¿›è¡Œç»´æŠ¤çš„é¡¹ç›®\n\n### wxzUtils\n\n> ä¸ªäººå¼€å‘çš„ä¸€æ¬¾è¶…ç®€å•çš„å·¥å…·åº“\n\n- [Github](https://github.com/wangxiaoze-view/utilstools)\n\n### é¡¹ç›®æ¨¡æ¿ <Badge type=\"warning\" text=\"ä¸å†è¿›è¡Œå¼€å‘æ›´æ–°/å·²åºŸå¼ƒâš ï¸\" />\n\n> ä¸ºäº†é¿å…æ¨¡æ¿é¡¹ç›®é‡å¤å¼€å‘, ç»Ÿä¸€ä½¿ç”¨æ¨¡æ¿é¡¹ç›®ï¼Œ å½“ç„¶åŒ…å«å¤šä¸ªè®¾å¤‡\n\n- [æ–‡æ¡£è¯´æ˜](/project/03_ä¸€é”®ä»£ç æ‹‰å–é¡¹ç›®æ¨¡æ¿/å¦‚ä½•ä½¿ç”¨)\n\n### HarmonyOs-App\n\n> è¿™æ˜¯ä¸€æ¬¾é¸¿è’™ App, å½“ç„¶ä¸ä¼šæ¶‰åŠåˆ°ä¸šåŠ¡é€»è¾‘ï¼Œä»…ä»…æ˜¯å¸ƒå±€è€Œå·²ï¼›\n\n- [Github](https://github.com/wangxiaoze-view/HarmonyOs-App)\n","source":"_posts/æˆ‘çš„é¡¹ç›®/index.md","raw":"---\ntitle: é¡¹ç›®\nabbrlink: a2c247c4\ndate: 2024-10-08 09:05:01\ncategories:\n  - æˆ‘çš„é¡¹ç›®\ntags:\n  - é¡¹ç›®\n---\n\n# ä¸ªäººé¡¹ç›®\n\n> æœ¬äººç©ºä½™æ—¶é—´é—²æš‡ï¼Œå¼€å‘ä¸€äº›å°å·¥å…·ä»¥åŠé¡¹ç›®;\n\n## è¿˜åœ¨ä½¿ç”¨çš„é¡¹ç›®\n\n### sim-admin <Badge type=\"danger\" text=\"æœ€æ–°é¡¹ç›®\" />\n\n> è¿™æ˜¯ä¸€ä¸ªç”¨äºå¿«é€Ÿå…¥æ‰‹ä¸Šé—¨çš„`vue`åå°ç®¡ç†ç³»ç»Ÿ, è¯¥åº”ç”¨ç”¨åˆ°æœ€æ–°çš„æŠ€æœ¯`vue3, ts, rsbuild`ç­‰ï¼›è¯¥é¡¹ç›®è¿˜ä½¿ç”¨äº†**è¾…åŠ©å‡½æ•° functional-helpers-lib å·¥å…·**\n\n- [github](https://github.com/wangxiaoze-view/sim-admin)\n- [ç½‘ç«™é¢„è§ˆ](https://wangxiaoze-view.github.io/sim-admin/)\n\n### è¾…åŠ©å‡½æ•° functional-helpers-lib\n\n> å°±æ˜¯ä¸€ä¸ªç”¨äºå¸¸è§„çš„`utils, hooks`çš„å‡½æ•°è¾…åŠ©æ’ä»¶\n\n- [github](https://github.com/wangxiaoze-view/functional-helpers-lib)\n\n### log-reporting <Badge type=\"danger\" text=\"æ¨è\" />\n\nè¿™æ¬¾å·¥å…·å‘¢é¡¾åæ€ä¹‰å°±æ˜¯æ—¥å¿—ä¸ŠæŠ¥ï¼Œå°±æ˜¯æœé›†å®¢æˆ·ç«¯çš„ä¸€äº›å‘Šè­¦æŠ¥é”™æ—¥å¿—åˆ°æœåŠ¡ç«¯ï¼Œä»è€Œåœ¨æœåŠ¡ç«¯è¿›è¡Œæ•°æ®åˆ†æå¾é›†æˆå®¢æˆ·ç«¯å¯è§†åŒ–æ•°æ®é¢æ¿ï¼›\n\nç›®å‰è¯¥å·¥å…·åˆ†ä¸ºä¿©ä¸ªç‰ˆæœ¬ï¼š\n\n1. [log-reporting](https://github.com/wangxiaoze-view/log-repeorting/tree/v1)\n   > è¯¥ç‰ˆæœ¬ä¸ºä½ç‰ˆæœ¬ï¼Œæ”¯æ”¯æŒéƒ¨åˆ†åŠŸèƒ½ï¼Œç›®å‰ä»…æ”¯æŒæ—¥å¿—ä¸ŠæŠ¥ï¼Œè§†å±å½•åˆ¶ï¼Œä½†æ˜¯ä¸æ”¯æŒ `pvä¸æ›å…‰ç»Ÿè®¡`\n   - [Github](https://github.com/wangxiaoze-view/log-repeorting/tree/v1)\n   - [npm](https://www.npmjs.com/package/log-reporting)\n   - [æ–‡æ¡£è¯´æ˜](/project/02_æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶/v1)\n2. [@log-reporting/core](https://github.com/wangxiaoze-view/log-repeorting)\n   > è¯¥ç‰ˆæœ¬ä¸ºå…¨æ–°ç‰ˆæœ¬ï¼Œä¸ `log-reporting` å®Œå…¨ä¸åŒï¼Œ æ˜ å°„ä»¥åŠä½¿ç”¨å®Œå…¨ä¸ä¸€æ ·; åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šå®Œå…¨æ”¯æŒ `pvä¸æ›å…‰ç»Ÿè®¡`ï¼› åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šå¯¹èµ„æºä»¥åŠæ€§èƒ½ç›‘æ§è¿›è¡Œä¼˜åŒ–; å½“ç„¶æœ‰å†…ç½®çš„ `logger, types`æ’ä»¶ï¼›\n   - [Github](https://github.com/wangxiaoze-view/log-repeorting/tree/main)\n   - [npm](https://www.npmjs.com/package/@log-reporting/core)\n   - [æ–‡æ¡£è¯´æ˜](/project/02_æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶/v2)\n\n### demos\n\n> èµ„æºæ”¾åœ¨ githubï¼Œå¯èƒ½é¦–æ¬¡è®¿é—®ä¼šæ…¢ä¸€ç‚¹\n\n- [åœ°å€](https://wangxiaoze-view.github.io/web-demos/#button)\n\n### æ¡Œé¢ç«¯å¼€å‘å·¥å…· dev-tools\n\n> ä½¿ç”¨ rust + vue æ­å»ºçš„ä¸€æ¬¾æ¡Œé¢ç«¯çš„å¼€å‘å·¥å…·ï¼› ç›®å‰ä¸å¼€æºï¼Œç­‰ç‰ˆæœ¬ç¨³å®šä¹‹ååœ¨å¼€æºï¼›\n\n- [mac0.0.1 ç‰ˆæœ¬](https://wangxiaoze-view.github.io/picx-images-hosting/app/dev-tools/0.0.1/dev-tools_0.0.1_aarch64.dmg)\n- [windows0.0.1 ç‰ˆæœ¬](https://wangxiaoze-view.github.io/picx-images-hosting/app/dev-tools/0.0.1/dev-tools_0.0.1_x64-setup.exe)\n- [æ–‡æ¡£](/project/04_æ¡Œé¢ç«¯å¼€å‘å·¥å…·/01_é¡¹ç›®ä»‹ç»)\n\n## ä¸å†è¿›è¡Œç»´æŠ¤çš„é¡¹ç›®\n\n### wxzUtils\n\n> ä¸ªäººå¼€å‘çš„ä¸€æ¬¾è¶…ç®€å•çš„å·¥å…·åº“\n\n- [Github](https://github.com/wangxiaoze-view/utilstools)\n\n### é¡¹ç›®æ¨¡æ¿ <Badge type=\"warning\" text=\"ä¸å†è¿›è¡Œå¼€å‘æ›´æ–°/å·²åºŸå¼ƒâš ï¸\" />\n\n> ä¸ºäº†é¿å…æ¨¡æ¿é¡¹ç›®é‡å¤å¼€å‘, ç»Ÿä¸€ä½¿ç”¨æ¨¡æ¿é¡¹ç›®ï¼Œ å½“ç„¶åŒ…å«å¤šä¸ªè®¾å¤‡\n\n- [æ–‡æ¡£è¯´æ˜](/project/03_ä¸€é”®ä»£ç æ‹‰å–é¡¹ç›®æ¨¡æ¿/å¦‚ä½•ä½¿ç”¨)\n\n### HarmonyOs-App\n\n> è¿™æ˜¯ä¸€æ¬¾é¸¿è’™ App, å½“ç„¶ä¸ä¼šæ¶‰åŠåˆ°ä¸šåŠ¡é€»è¾‘ï¼Œä»…ä»…æ˜¯å¸ƒå±€è€Œå·²ï¼›\n\n- [Github](https://github.com/wangxiaoze-view/HarmonyOs-App)\n","slug":"æˆ‘çš„é¡¹ç›®/index","published":1,"updated":"2025-03-13T07:00:19.506Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0ip0006fg9m5nnvdcz7","content":"<h1 id=\"ä¸ªäººé¡¹ç›®\"><a href=\"#ä¸ªäººé¡¹ç›®\" class=\"headerlink\" title=\"ä¸ªäººé¡¹ç›®\"></a>ä¸ªäººé¡¹ç›®</h1><blockquote>\n<p>æœ¬äººç©ºä½™æ—¶é—´é—²æš‡ï¼Œå¼€å‘ä¸€äº›å°å·¥å…·ä»¥åŠé¡¹ç›®;</p>\n</blockquote>\n<h2 id=\"è¿˜åœ¨ä½¿ç”¨çš„é¡¹ç›®\"><a href=\"#è¿˜åœ¨ä½¿ç”¨çš„é¡¹ç›®\" class=\"headerlink\" title=\"è¿˜åœ¨ä½¿ç”¨çš„é¡¹ç›®\"></a>è¿˜åœ¨ä½¿ç”¨çš„é¡¹ç›®</h2><h3 id=\"sim-admin\"><a href=\"#sim-admin\" class=\"headerlink\" title=\"sim-admin \"></a>sim-admin <Badge type=\"danger\" text=\"æœ€æ–°é¡¹ç›®\" /></h3><blockquote>\n<p>è¿™æ˜¯ä¸€ä¸ªç”¨äºå¿«é€Ÿå…¥æ‰‹ä¸Šé—¨çš„<code>vue</code>åå°ç®¡ç†ç³»ç»Ÿ, è¯¥åº”ç”¨ç”¨åˆ°æœ€æ–°çš„æŠ€æœ¯<code>vue3, ts, rsbuild</code>ç­‰ï¼›è¯¥é¡¹ç›®è¿˜ä½¿ç”¨äº†<strong>è¾…åŠ©å‡½æ•° functional-helpers-lib å·¥å…·</strong></p>\n</blockquote>\n<ul>\n<li><a href=\"https://github.com/wangxiaoze-view/sim-admin\">github</a></li>\n<li><a href=\"https://wangxiaoze-view.github.io/sim-admin/\">ç½‘ç«™é¢„è§ˆ</a></li>\n</ul>\n<h3 id=\"è¾…åŠ©å‡½æ•°-functional-helpers-lib\"><a href=\"#è¾…åŠ©å‡½æ•°-functional-helpers-lib\" class=\"headerlink\" title=\"è¾…åŠ©å‡½æ•° functional-helpers-lib\"></a>è¾…åŠ©å‡½æ•° functional-helpers-lib</h3><blockquote>\n<p>å°±æ˜¯ä¸€ä¸ªç”¨äºå¸¸è§„çš„<code>utils, hooks</code>çš„å‡½æ•°è¾…åŠ©æ’ä»¶</p>\n</blockquote>\n<ul>\n<li><a href=\"https://github.com/wangxiaoze-view/functional-helpers-lib\">github</a></li>\n</ul>\n<h3 id=\"log-reporting\"><a href=\"#log-reporting\" class=\"headerlink\" title=\"log-reporting \"></a>log-reporting <Badge type=\"danger\" text=\"æ¨è\" /></h3><p>è¿™æ¬¾å·¥å…·å‘¢é¡¾åæ€ä¹‰å°±æ˜¯æ—¥å¿—ä¸ŠæŠ¥ï¼Œå°±æ˜¯æœé›†å®¢æˆ·ç«¯çš„ä¸€äº›å‘Šè­¦æŠ¥é”™æ—¥å¿—åˆ°æœåŠ¡ç«¯ï¼Œä»è€Œåœ¨æœåŠ¡ç«¯è¿›è¡Œæ•°æ®åˆ†æå¾é›†æˆå®¢æˆ·ç«¯å¯è§†åŒ–æ•°æ®é¢æ¿ï¼›</p>\n<p>ç›®å‰è¯¥å·¥å…·åˆ†ä¸ºä¿©ä¸ªç‰ˆæœ¬ï¼š</p>\n<ol>\n<li><a href=\"https://github.com/wangxiaoze-view/log-repeorting/tree/v1\">log-reporting</a><blockquote>\n<p>è¯¥ç‰ˆæœ¬ä¸ºä½ç‰ˆæœ¬ï¼Œæ”¯æ”¯æŒéƒ¨åˆ†åŠŸèƒ½ï¼Œç›®å‰ä»…æ”¯æŒæ—¥å¿—ä¸ŠæŠ¥ï¼Œè§†å±å½•åˆ¶ï¼Œä½†æ˜¯ä¸æ”¯æŒ <code>pvä¸æ›å…‰ç»Ÿè®¡</code></p>\n</blockquote>\n<ul>\n<li><a href=\"https://github.com/wangxiaoze-view/log-repeorting/tree/v1\">Github</a></li>\n<li><a href=\"https://www.npmjs.com/package/log-reporting\">npm</a></li>\n<li><a href=\"/project/02_%E6%97%A5%E5%BF%97%E4%B8%8A%E6%8A%A5%E6%8F%92%E4%BB%B6/v1\">æ–‡æ¡£è¯´æ˜</a></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/wangxiaoze-view/log-repeorting\">@log-reporting&#x2F;core</a><blockquote>\n<p>è¯¥ç‰ˆæœ¬ä¸ºå…¨æ–°ç‰ˆæœ¬ï¼Œä¸ <code>log-reporting</code> å®Œå…¨ä¸åŒï¼Œ æ˜ å°„ä»¥åŠä½¿ç”¨å®Œå…¨ä¸ä¸€æ ·; åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šå®Œå…¨æ”¯æŒ <code>pvä¸æ›å…‰ç»Ÿè®¡</code>ï¼› åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šå¯¹èµ„æºä»¥åŠæ€§èƒ½ç›‘æ§è¿›è¡Œä¼˜åŒ–; å½“ç„¶æœ‰å†…ç½®çš„ <code>logger, types</code>æ’ä»¶ï¼›</p>\n</blockquote>\n<ul>\n<li><a href=\"https://github.com/wangxiaoze-view/log-repeorting/tree/main\">Github</a></li>\n<li><a href=\"https://www.npmjs.com/package/@log-reporting/core\">npm</a></li>\n<li><a href=\"/project/02_%E6%97%A5%E5%BF%97%E4%B8%8A%E6%8A%A5%E6%8F%92%E4%BB%B6/v2\">æ–‡æ¡£è¯´æ˜</a></li>\n</ul>\n</li>\n</ol>\n<h3 id=\"demos\"><a href=\"#demos\" class=\"headerlink\" title=\"demos\"></a>demos</h3><blockquote>\n<p>èµ„æºæ”¾åœ¨ githubï¼Œå¯èƒ½é¦–æ¬¡è®¿é—®ä¼šæ…¢ä¸€ç‚¹</p>\n</blockquote>\n<ul>\n<li><a href=\"https://wangxiaoze-view.github.io/web-demos/#button\">åœ°å€</a></li>\n</ul>\n<h3 id=\"æ¡Œé¢ç«¯å¼€å‘å·¥å…·-dev-tools\"><a href=\"#æ¡Œé¢ç«¯å¼€å‘å·¥å…·-dev-tools\" class=\"headerlink\" title=\"æ¡Œé¢ç«¯å¼€å‘å·¥å…· dev-tools\"></a>æ¡Œé¢ç«¯å¼€å‘å·¥å…· dev-tools</h3><blockquote>\n<p>ä½¿ç”¨ rust + vue æ­å»ºçš„ä¸€æ¬¾æ¡Œé¢ç«¯çš„å¼€å‘å·¥å…·ï¼› ç›®å‰ä¸å¼€æºï¼Œç­‰ç‰ˆæœ¬ç¨³å®šä¹‹ååœ¨å¼€æºï¼›</p>\n</blockquote>\n<ul>\n<li><a href=\"https://wangxiaoze-view.github.io/picx-images-hosting/app/dev-tools/0.0.1/dev-tools_0.0.1_aarch64.dmg\">mac0.0.1 ç‰ˆæœ¬</a></li>\n<li><a href=\"https://wangxiaoze-view.github.io/picx-images-hosting/app/dev-tools/0.0.1/dev-tools_0.0.1_x64-setup.exe\">windows0.0.1 ç‰ˆæœ¬</a></li>\n<li><a href=\"/project/04_%E6%A1%8C%E9%9D%A2%E7%AB%AF%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/01_%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D\">æ–‡æ¡£</a></li>\n</ul>\n<h2 id=\"ä¸å†è¿›è¡Œç»´æŠ¤çš„é¡¹ç›®\"><a href=\"#ä¸å†è¿›è¡Œç»´æŠ¤çš„é¡¹ç›®\" class=\"headerlink\" title=\"ä¸å†è¿›è¡Œç»´æŠ¤çš„é¡¹ç›®\"></a>ä¸å†è¿›è¡Œç»´æŠ¤çš„é¡¹ç›®</h2><h3 id=\"wxzUtils\"><a href=\"#wxzUtils\" class=\"headerlink\" title=\"wxzUtils\"></a>wxzUtils</h3><blockquote>\n<p>ä¸ªäººå¼€å‘çš„ä¸€æ¬¾è¶…ç®€å•çš„å·¥å…·åº“</p>\n</blockquote>\n<ul>\n<li><a href=\"https://github.com/wangxiaoze-view/utilstools\">Github</a></li>\n</ul>\n<h3 id=\"é¡¹ç›®æ¨¡æ¿\"><a href=\"#é¡¹ç›®æ¨¡æ¿\" class=\"headerlink\" title=\"é¡¹ç›®æ¨¡æ¿ \"></a>é¡¹ç›®æ¨¡æ¿ <Badge type=\"warning\" text=\"ä¸å†è¿›è¡Œå¼€å‘æ›´æ–°/å·²åºŸå¼ƒâš ï¸\" /></h3><blockquote>\n<p>ä¸ºäº†é¿å…æ¨¡æ¿é¡¹ç›®é‡å¤å¼€å‘, ç»Ÿä¸€ä½¿ç”¨æ¨¡æ¿é¡¹ç›®ï¼Œ å½“ç„¶åŒ…å«å¤šä¸ªè®¾å¤‡</p>\n</blockquote>\n<ul>\n<li><a href=\"/project/03_%E4%B8%80%E9%94%AE%E4%BB%A3%E7%A0%81%E6%8B%89%E5%8F%96%E9%A1%B9%E7%9B%AE%E6%A8%A1%E6%9D%BF/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8\">æ–‡æ¡£è¯´æ˜</a></li>\n</ul>\n<h3 id=\"HarmonyOs-App\"><a href=\"#HarmonyOs-App\" class=\"headerlink\" title=\"HarmonyOs-App\"></a>HarmonyOs-App</h3><blockquote>\n<p>è¿™æ˜¯ä¸€æ¬¾é¸¿è’™ App, å½“ç„¶ä¸ä¼šæ¶‰åŠåˆ°ä¸šåŠ¡é€»è¾‘ï¼Œä»…ä»…æ˜¯å¸ƒå±€è€Œå·²ï¼›</p>\n</blockquote>\n<ul>\n<li><a href=\"https://github.com/wangxiaoze-view/HarmonyOs-App\">Github</a></li>\n</ul>\n","excerpt":"","more":"<h1 id=\"ä¸ªäººé¡¹ç›®\"><a href=\"#ä¸ªäººé¡¹ç›®\" class=\"headerlink\" title=\"ä¸ªäººé¡¹ç›®\"></a>ä¸ªäººé¡¹ç›®</h1><blockquote>\n<p>æœ¬äººç©ºä½™æ—¶é—´é—²æš‡ï¼Œå¼€å‘ä¸€äº›å°å·¥å…·ä»¥åŠé¡¹ç›®;</p>\n</blockquote>\n<h2 id=\"è¿˜åœ¨ä½¿ç”¨çš„é¡¹ç›®\"><a href=\"#è¿˜åœ¨ä½¿ç”¨çš„é¡¹ç›®\" class=\"headerlink\" title=\"è¿˜åœ¨ä½¿ç”¨çš„é¡¹ç›®\"></a>è¿˜åœ¨ä½¿ç”¨çš„é¡¹ç›®</h2><h3 id=\"sim-admin\"><a href=\"#sim-admin\" class=\"headerlink\" title=\"sim-admin \"></a>sim-admin <Badge type=\"danger\" text=\"æœ€æ–°é¡¹ç›®\" /></h3><blockquote>\n<p>è¿™æ˜¯ä¸€ä¸ªç”¨äºå¿«é€Ÿå…¥æ‰‹ä¸Šé—¨çš„<code>vue</code>åå°ç®¡ç†ç³»ç»Ÿ, è¯¥åº”ç”¨ç”¨åˆ°æœ€æ–°çš„æŠ€æœ¯<code>vue3, ts, rsbuild</code>ç­‰ï¼›è¯¥é¡¹ç›®è¿˜ä½¿ç”¨äº†<strong>è¾…åŠ©å‡½æ•° functional-helpers-lib å·¥å…·</strong></p>\n</blockquote>\n<ul>\n<li><a href=\"https://github.com/wangxiaoze-view/sim-admin\">github</a></li>\n<li><a href=\"https://wangxiaoze-view.github.io/sim-admin/\">ç½‘ç«™é¢„è§ˆ</a></li>\n</ul>\n<h3 id=\"è¾…åŠ©å‡½æ•°-functional-helpers-lib\"><a href=\"#è¾…åŠ©å‡½æ•°-functional-helpers-lib\" class=\"headerlink\" title=\"è¾…åŠ©å‡½æ•° functional-helpers-lib\"></a>è¾…åŠ©å‡½æ•° functional-helpers-lib</h3><blockquote>\n<p>å°±æ˜¯ä¸€ä¸ªç”¨äºå¸¸è§„çš„<code>utils, hooks</code>çš„å‡½æ•°è¾…åŠ©æ’ä»¶</p>\n</blockquote>\n<ul>\n<li><a href=\"https://github.com/wangxiaoze-view/functional-helpers-lib\">github</a></li>\n</ul>\n<h3 id=\"log-reporting\"><a href=\"#log-reporting\" class=\"headerlink\" title=\"log-reporting \"></a>log-reporting <Badge type=\"danger\" text=\"æ¨è\" /></h3><p>è¿™æ¬¾å·¥å…·å‘¢é¡¾åæ€ä¹‰å°±æ˜¯æ—¥å¿—ä¸ŠæŠ¥ï¼Œå°±æ˜¯æœé›†å®¢æˆ·ç«¯çš„ä¸€äº›å‘Šè­¦æŠ¥é”™æ—¥å¿—åˆ°æœåŠ¡ç«¯ï¼Œä»è€Œåœ¨æœåŠ¡ç«¯è¿›è¡Œæ•°æ®åˆ†æå¾é›†æˆå®¢æˆ·ç«¯å¯è§†åŒ–æ•°æ®é¢æ¿ï¼›</p>\n<p>ç›®å‰è¯¥å·¥å…·åˆ†ä¸ºä¿©ä¸ªç‰ˆæœ¬ï¼š</p>\n<ol>\n<li><a href=\"https://github.com/wangxiaoze-view/log-repeorting/tree/v1\">log-reporting</a><blockquote>\n<p>è¯¥ç‰ˆæœ¬ä¸ºä½ç‰ˆæœ¬ï¼Œæ”¯æ”¯æŒéƒ¨åˆ†åŠŸèƒ½ï¼Œç›®å‰ä»…æ”¯æŒæ—¥å¿—ä¸ŠæŠ¥ï¼Œè§†å±å½•åˆ¶ï¼Œä½†æ˜¯ä¸æ”¯æŒ <code>pvä¸æ›å…‰ç»Ÿè®¡</code></p>\n</blockquote>\n<ul>\n<li><a href=\"https://github.com/wangxiaoze-view/log-repeorting/tree/v1\">Github</a></li>\n<li><a href=\"https://www.npmjs.com/package/log-reporting\">npm</a></li>\n<li><a href=\"/project/02_%E6%97%A5%E5%BF%97%E4%B8%8A%E6%8A%A5%E6%8F%92%E4%BB%B6/v1\">æ–‡æ¡£è¯´æ˜</a></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/wangxiaoze-view/log-repeorting\">@log-reporting&#x2F;core</a><blockquote>\n<p>è¯¥ç‰ˆæœ¬ä¸ºå…¨æ–°ç‰ˆæœ¬ï¼Œä¸ <code>log-reporting</code> å®Œå…¨ä¸åŒï¼Œ æ˜ å°„ä»¥åŠä½¿ç”¨å®Œå…¨ä¸ä¸€æ ·; åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šå®Œå…¨æ”¯æŒ <code>pvä¸æ›å…‰ç»Ÿè®¡</code>ï¼› åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šå¯¹èµ„æºä»¥åŠæ€§èƒ½ç›‘æ§è¿›è¡Œä¼˜åŒ–; å½“ç„¶æœ‰å†…ç½®çš„ <code>logger, types</code>æ’ä»¶ï¼›</p>\n</blockquote>\n<ul>\n<li><a href=\"https://github.com/wangxiaoze-view/log-repeorting/tree/main\">Github</a></li>\n<li><a href=\"https://www.npmjs.com/package/@log-reporting/core\">npm</a></li>\n<li><a href=\"/project/02_%E6%97%A5%E5%BF%97%E4%B8%8A%E6%8A%A5%E6%8F%92%E4%BB%B6/v2\">æ–‡æ¡£è¯´æ˜</a></li>\n</ul>\n</li>\n</ol>\n<h3 id=\"demos\"><a href=\"#demos\" class=\"headerlink\" title=\"demos\"></a>demos</h3><blockquote>\n<p>èµ„æºæ”¾åœ¨ githubï¼Œå¯èƒ½é¦–æ¬¡è®¿é—®ä¼šæ…¢ä¸€ç‚¹</p>\n</blockquote>\n<ul>\n<li><a href=\"https://wangxiaoze-view.github.io/web-demos/#button\">åœ°å€</a></li>\n</ul>\n<h3 id=\"æ¡Œé¢ç«¯å¼€å‘å·¥å…·-dev-tools\"><a href=\"#æ¡Œé¢ç«¯å¼€å‘å·¥å…·-dev-tools\" class=\"headerlink\" title=\"æ¡Œé¢ç«¯å¼€å‘å·¥å…· dev-tools\"></a>æ¡Œé¢ç«¯å¼€å‘å·¥å…· dev-tools</h3><blockquote>\n<p>ä½¿ç”¨ rust + vue æ­å»ºçš„ä¸€æ¬¾æ¡Œé¢ç«¯çš„å¼€å‘å·¥å…·ï¼› ç›®å‰ä¸å¼€æºï¼Œç­‰ç‰ˆæœ¬ç¨³å®šä¹‹ååœ¨å¼€æºï¼›</p>\n</blockquote>\n<ul>\n<li><a href=\"https://wangxiaoze-view.github.io/picx-images-hosting/app/dev-tools/0.0.1/dev-tools_0.0.1_aarch64.dmg\">mac0.0.1 ç‰ˆæœ¬</a></li>\n<li><a href=\"https://wangxiaoze-view.github.io/picx-images-hosting/app/dev-tools/0.0.1/dev-tools_0.0.1_x64-setup.exe\">windows0.0.1 ç‰ˆæœ¬</a></li>\n<li><a href=\"/project/04_%E6%A1%8C%E9%9D%A2%E7%AB%AF%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/01_%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D\">æ–‡æ¡£</a></li>\n</ul>\n<h2 id=\"ä¸å†è¿›è¡Œç»´æŠ¤çš„é¡¹ç›®\"><a href=\"#ä¸å†è¿›è¡Œç»´æŠ¤çš„é¡¹ç›®\" class=\"headerlink\" title=\"ä¸å†è¿›è¡Œç»´æŠ¤çš„é¡¹ç›®\"></a>ä¸å†è¿›è¡Œç»´æŠ¤çš„é¡¹ç›®</h2><h3 id=\"wxzUtils\"><a href=\"#wxzUtils\" class=\"headerlink\" title=\"wxzUtils\"></a>wxzUtils</h3><blockquote>\n<p>ä¸ªäººå¼€å‘çš„ä¸€æ¬¾è¶…ç®€å•çš„å·¥å…·åº“</p>\n</blockquote>\n<ul>\n<li><a href=\"https://github.com/wangxiaoze-view/utilstools\">Github</a></li>\n</ul>\n<h3 id=\"é¡¹ç›®æ¨¡æ¿\"><a href=\"#é¡¹ç›®æ¨¡æ¿\" class=\"headerlink\" title=\"é¡¹ç›®æ¨¡æ¿ \"></a>é¡¹ç›®æ¨¡æ¿ <Badge type=\"warning\" text=\"ä¸å†è¿›è¡Œå¼€å‘æ›´æ–°/å·²åºŸå¼ƒâš ï¸\" /></h3><blockquote>\n<p>ä¸ºäº†é¿å…æ¨¡æ¿é¡¹ç›®é‡å¤å¼€å‘, ç»Ÿä¸€ä½¿ç”¨æ¨¡æ¿é¡¹ç›®ï¼Œ å½“ç„¶åŒ…å«å¤šä¸ªè®¾å¤‡</p>\n</blockquote>\n<ul>\n<li><a href=\"/project/03_%E4%B8%80%E9%94%AE%E4%BB%A3%E7%A0%81%E6%8B%89%E5%8F%96%E9%A1%B9%E7%9B%AE%E6%A8%A1%E6%9D%BF/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8\">æ–‡æ¡£è¯´æ˜</a></li>\n</ul>\n<h3 id=\"HarmonyOs-App\"><a href=\"#HarmonyOs-App\" class=\"headerlink\" title=\"HarmonyOs-App\"></a>HarmonyOs-App</h3><blockquote>\n<p>è¿™æ˜¯ä¸€æ¬¾é¸¿è’™ App, å½“ç„¶ä¸ä¼šæ¶‰åŠåˆ°ä¸šåŠ¡é€»è¾‘ï¼Œä»…ä»…æ˜¯å¸ƒå±€è€Œå·²ï¼›</p>\n</blockquote>\n<ul>\n<li><a href=\"https://github.com/wangxiaoze-view/HarmonyOs-App\">Github</a></li>\n</ul>\n"},{"title":"ä¸ªäººæ€»ç»“-2019.06 - 2022-07","abbrlink":"103594ea","date":"2022-07-08T01:05:01.000Z","_content":"# 2019.06 - 2022-07\n\n::: info\nä¸ç§¯è·¬æ­¥ï¼Œæ— ä»¥è‡³åƒé‡Œï¼›ä¸ç§¯å°æµï¼Œæ— ä»¥æˆæ±Ÿæµ·ã€‚\n:::\n\n## è¿‘ 3 å¹´å¹´åº¦å›é¡¾\n\næ•´ä½“å›é¡¾æœ¬å¹´åº¦å¤§æ¦‚åšäº†å“ªäº›äº‹ã€‚\n\n![loading](https://wangxiaoze-view.github.io/picx-images-hosting/images/yuque_mind.jpeg)\n\n## å…³é”®è¯ï¼šå¿«é€Ÿæˆé•¿\n\nç»™è‡ªå·±ä¸€ä¸ªè´´åˆ‡çš„å¹´åº¦å…³é”®è¯ã€‚è¿™å°±åƒä¸€æœ¬ä¹¦çš„ç›®å½•ï¼Œèƒ½å¤Ÿè®©ä½ å¿«é€Ÿæƒ³èµ·ä¹‹åçš„äº‹æƒ…ã€‚\n\n- æŠ€èƒ½æ²‰æ·€ä¸è½¬å‹\n- ä¸ªäººç¼ºç‚¹æ€»ç»“ä¸ä¿®æ”¹\n- å·¥ä½œæš´éœ²çš„é—®é¢˜æ€»ç»“ï¼ˆä¸ªäººï¼Œ å›¢é˜Ÿï¼‰\n\n### 1. å­¦ä¹ æˆé•¿\n\n#### 2019.06-2020-08\n\n- èŒåœºå…¥é—¨ï¼ŒæŠ€æœ¯å…¥é—¨ï¼Œæ‡µæ‡µæ‡‚æ‡‚\n- vue åŸºç¡€è¯­æ³•ï¼Œä¼šç”¨ï¼Œ ä¸ç†Ÿç»ƒï¼Œ ä¸ä¼šä½¿ç”¨ vuex\n- å¤ªèœï¼Œé€»è¾‘æ€ç»´ï¼Œå›¢é˜Ÿæ²Ÿé€šå›°éš¾ï¼Œ å–œæ¬¢æ‰“æ¸¸æˆ\n- åšå‡ºæ”¹å˜ï¼Œè¿‡ç¨‹ï¼Œæ—¶é—´\n- ç§¯ç´¯ç»éªŒï¼Œçº¿ä¸‹èŠ±è´¹æ—¶é—´å­¦ä¹ ï¼Œäº†è§£å‰æ²¿æŠ€æœ¯\n- åŠ¨æ‰‹å®è·µï¼Œæœ‰äº†ä¸€å®šçš„ç»éªŒ\n\n#### 2020-09-2022-07\n\n- æœ‰äº†ä¸€å®šçš„å¼€å‘ç»éªŒï¼Œä¸Šæ‰‹è¾ƒå¿«ï¼Œä½†æš´éœ²å‡ºçš„é—®é¢˜è¾ƒå¤š\n- ä¸å°è£…ï¼Œ ä¸è€ƒè™‘å…¼å®¹ï¼Œé«˜å¤ç”¨ï¼Œé«˜æ€§èƒ½ï¼Œ å¯¼è‡´å¤šå¤„æºç ä¸€è‡´\n- æŠ€èƒ½æ‰©å±•ï¼Œ Node, Jq+js,\n- æ€§æ ¼å†…å‘ï¼Œæ²Ÿé€šæœ‰ä¸€å®šå›°éš¾\n- åšå‡ºæ”¹å˜ï¼Œæ—¶é—´æ²‰æ·€\n- å¤šæ–¹ä½è€ƒè™‘åŠŸèƒ½ï¼Œ å¤ç”¨æ€§ï¼Œé«˜æ€§èƒ½ï¼Œä¼˜åŒ–ï¼Œå¼€å‘ï¼Œè¿­ä»£\n- å¸¸ç”¨å°è£…ï¼Œå·¥å…·åº“ï¼Œå°å·¥å…·ï¼Œé¡µé¢ä»¥åŠç»„ä»¶\n- Node, çº¿ä¸‹å­¦ä¹  Mongoose, é…ç½®æœåŠ¡å™¨ åŸŸå dns è§£æï¼Œ\n- å·¥ç¨‹åŒ–ï¼Œ é…ç½®åŒ–åŠ å…¥é¡¹ç›®\n- åŠ¨æ‰‹æ­å»ºç½‘ç«™ï¼Œ ä» 0 è‡³ 1ï¼Œ\n- ä»£ç è§„èŒƒ æäº¤è§„èŒƒ commit è§„èŒƒ\n\n### 2. ä½“éªŒçªç ´\n\n- ä¸ªäººæ€§æ ¼æ”¹å˜ï¼Œçªç ´ï¼Œä»»ä½•äº‹æƒ…å†·é™å¯¹å¾…\n- æŠ€èƒ½ä¸ä»…å±€é™äºå‰ç«¯ï¼Œå¤šç»´åº¦äº†è§£å…¶ä»–å‰è¨€æŠ€æœ¯\n- h5 ä»¥åŠæ··åˆå¼å¼€å‘\n- è·¨ç«¯æŠ€æœ¯ï¼Œ apicloud, uniapp, reactnative, flutter çš„äº†è§£\n- å¾®æœåŠ¡çš„äº†è§£\n- é¡¹ç›®ä¸­è¿ç”¨æ–°å†™æ³•ï¼Œ æ–°æŠ€æœ¯ æ–°çŸ¥è¯†ç‚¹ï¼›\n- é¡¹ç›®é—®é¢˜çš„æ€»ç»“ä»¥åŠè§£å†³æ–¹æ¡ˆï¼›\n- å·¥å…·æ–‡æ¡£ï¼›\n\n### 3. ä¼‘é—²å¨±ä¹\n\n- æˆ’æ‰æ¸¸æˆï¼Œä¸åœ¨æ¸¸æˆä¸Šæµªè´¹æ—¶é—´\n- æ—¥å¸¸é”»ç‚¼ä»¥åŠé™å¿ƒï¼Œç»ƒå­— è€åŠ›\n- ä½“éªŒä¸åŒçš„å…´è¶£çˆ±å¥½\n\n### 4. å·¥ä½œäº‹ä¸š\n\n- æŠ€æœ¯æ²‰æ·€æˆé•¿ï¼Œå¤šæ–¹ä½æ€è€ƒé—®é¢˜\n- é‡å¤æ€§é—®é¢˜çš„æ€»ç»“ä»¥åŠè§£å†³æ–¹æ¡ˆ\n","source":"_posts/æ€»ç»“/ä¸ªäººæ€»ç»“/2019.06 - 2022-07.md","raw":"---\ntitle: ä¸ªäººæ€»ç»“-2019.06 - 2022-07\nabbrlink: 103594ea\ndate: 2022-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - ä¸ªäººæ€»ç»“\n---\n# 2019.06 - 2022-07\n\n::: info\nä¸ç§¯è·¬æ­¥ï¼Œæ— ä»¥è‡³åƒé‡Œï¼›ä¸ç§¯å°æµï¼Œæ— ä»¥æˆæ±Ÿæµ·ã€‚\n:::\n\n## è¿‘ 3 å¹´å¹´åº¦å›é¡¾\n\næ•´ä½“å›é¡¾æœ¬å¹´åº¦å¤§æ¦‚åšäº†å“ªäº›äº‹ã€‚\n\n![loading](https://wangxiaoze-view.github.io/picx-images-hosting/images/yuque_mind.jpeg)\n\n## å…³é”®è¯ï¼šå¿«é€Ÿæˆé•¿\n\nç»™è‡ªå·±ä¸€ä¸ªè´´åˆ‡çš„å¹´åº¦å…³é”®è¯ã€‚è¿™å°±åƒä¸€æœ¬ä¹¦çš„ç›®å½•ï¼Œèƒ½å¤Ÿè®©ä½ å¿«é€Ÿæƒ³èµ·ä¹‹åçš„äº‹æƒ…ã€‚\n\n- æŠ€èƒ½æ²‰æ·€ä¸è½¬å‹\n- ä¸ªäººç¼ºç‚¹æ€»ç»“ä¸ä¿®æ”¹\n- å·¥ä½œæš´éœ²çš„é—®é¢˜æ€»ç»“ï¼ˆä¸ªäººï¼Œ å›¢é˜Ÿï¼‰\n\n### 1. å­¦ä¹ æˆé•¿\n\n#### 2019.06-2020-08\n\n- èŒåœºå…¥é—¨ï¼ŒæŠ€æœ¯å…¥é—¨ï¼Œæ‡µæ‡µæ‡‚æ‡‚\n- vue åŸºç¡€è¯­æ³•ï¼Œä¼šç”¨ï¼Œ ä¸ç†Ÿç»ƒï¼Œ ä¸ä¼šä½¿ç”¨ vuex\n- å¤ªèœï¼Œé€»è¾‘æ€ç»´ï¼Œå›¢é˜Ÿæ²Ÿé€šå›°éš¾ï¼Œ å–œæ¬¢æ‰“æ¸¸æˆ\n- åšå‡ºæ”¹å˜ï¼Œè¿‡ç¨‹ï¼Œæ—¶é—´\n- ç§¯ç´¯ç»éªŒï¼Œçº¿ä¸‹èŠ±è´¹æ—¶é—´å­¦ä¹ ï¼Œäº†è§£å‰æ²¿æŠ€æœ¯\n- åŠ¨æ‰‹å®è·µï¼Œæœ‰äº†ä¸€å®šçš„ç»éªŒ\n\n#### 2020-09-2022-07\n\n- æœ‰äº†ä¸€å®šçš„å¼€å‘ç»éªŒï¼Œä¸Šæ‰‹è¾ƒå¿«ï¼Œä½†æš´éœ²å‡ºçš„é—®é¢˜è¾ƒå¤š\n- ä¸å°è£…ï¼Œ ä¸è€ƒè™‘å…¼å®¹ï¼Œé«˜å¤ç”¨ï¼Œé«˜æ€§èƒ½ï¼Œ å¯¼è‡´å¤šå¤„æºç ä¸€è‡´\n- æŠ€èƒ½æ‰©å±•ï¼Œ Node, Jq+js,\n- æ€§æ ¼å†…å‘ï¼Œæ²Ÿé€šæœ‰ä¸€å®šå›°éš¾\n- åšå‡ºæ”¹å˜ï¼Œæ—¶é—´æ²‰æ·€\n- å¤šæ–¹ä½è€ƒè™‘åŠŸèƒ½ï¼Œ å¤ç”¨æ€§ï¼Œé«˜æ€§èƒ½ï¼Œä¼˜åŒ–ï¼Œå¼€å‘ï¼Œè¿­ä»£\n- å¸¸ç”¨å°è£…ï¼Œå·¥å…·åº“ï¼Œå°å·¥å…·ï¼Œé¡µé¢ä»¥åŠç»„ä»¶\n- Node, çº¿ä¸‹å­¦ä¹  Mongoose, é…ç½®æœåŠ¡å™¨ åŸŸå dns è§£æï¼Œ\n- å·¥ç¨‹åŒ–ï¼Œ é…ç½®åŒ–åŠ å…¥é¡¹ç›®\n- åŠ¨æ‰‹æ­å»ºç½‘ç«™ï¼Œ ä» 0 è‡³ 1ï¼Œ\n- ä»£ç è§„èŒƒ æäº¤è§„èŒƒ commit è§„èŒƒ\n\n### 2. ä½“éªŒçªç ´\n\n- ä¸ªäººæ€§æ ¼æ”¹å˜ï¼Œçªç ´ï¼Œä»»ä½•äº‹æƒ…å†·é™å¯¹å¾…\n- æŠ€èƒ½ä¸ä»…å±€é™äºå‰ç«¯ï¼Œå¤šç»´åº¦äº†è§£å…¶ä»–å‰è¨€æŠ€æœ¯\n- h5 ä»¥åŠæ··åˆå¼å¼€å‘\n- è·¨ç«¯æŠ€æœ¯ï¼Œ apicloud, uniapp, reactnative, flutter çš„äº†è§£\n- å¾®æœåŠ¡çš„äº†è§£\n- é¡¹ç›®ä¸­è¿ç”¨æ–°å†™æ³•ï¼Œ æ–°æŠ€æœ¯ æ–°çŸ¥è¯†ç‚¹ï¼›\n- é¡¹ç›®é—®é¢˜çš„æ€»ç»“ä»¥åŠè§£å†³æ–¹æ¡ˆï¼›\n- å·¥å…·æ–‡æ¡£ï¼›\n\n### 3. ä¼‘é—²å¨±ä¹\n\n- æˆ’æ‰æ¸¸æˆï¼Œä¸åœ¨æ¸¸æˆä¸Šæµªè´¹æ—¶é—´\n- æ—¥å¸¸é”»ç‚¼ä»¥åŠé™å¿ƒï¼Œç»ƒå­— è€åŠ›\n- ä½“éªŒä¸åŒçš„å…´è¶£çˆ±å¥½\n\n### 4. å·¥ä½œäº‹ä¸š\n\n- æŠ€æœ¯æ²‰æ·€æˆé•¿ï¼Œå¤šæ–¹ä½æ€è€ƒé—®é¢˜\n- é‡å¤æ€§é—®é¢˜çš„æ€»ç»“ä»¥åŠè§£å†³æ–¹æ¡ˆ\n","slug":"æ€»ç»“/ä¸ªäººæ€»ç»“/2019.06 - 2022-07","published":1,"updated":"2025-03-13T10:16:16.905Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0ip0007fg9md3g0bdtn","content":"<h1 id=\"2019-06-2022-07\"><a href=\"#2019-06-2022-07\" class=\"headerlink\" title=\"2019.06 - 2022-07\"></a>2019.06 - 2022-07</h1><p>::: info<br>ä¸ç§¯è·¬æ­¥ï¼Œæ— ä»¥è‡³åƒé‡Œï¼›ä¸ç§¯å°æµï¼Œæ— ä»¥æˆæ±Ÿæµ·ã€‚<br>:::</p>\n<h2 id=\"è¿‘-3-å¹´å¹´åº¦å›é¡¾\"><a href=\"#è¿‘-3-å¹´å¹´åº¦å›é¡¾\" class=\"headerlink\" title=\"è¿‘ 3 å¹´å¹´åº¦å›é¡¾\"></a>è¿‘ 3 å¹´å¹´åº¦å›é¡¾</h2><p>æ•´ä½“å›é¡¾æœ¬å¹´åº¦å¤§æ¦‚åšäº†å“ªäº›äº‹ã€‚</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/yuque_mind.jpeg\" alt=\"loading\"></p>\n<h2 id=\"å…³é”®è¯ï¼šå¿«é€Ÿæˆé•¿\"><a href=\"#å…³é”®è¯ï¼šå¿«é€Ÿæˆé•¿\" class=\"headerlink\" title=\"å…³é”®è¯ï¼šå¿«é€Ÿæˆé•¿\"></a>å…³é”®è¯ï¼šå¿«é€Ÿæˆé•¿</h2><p>ç»™è‡ªå·±ä¸€ä¸ªè´´åˆ‡çš„å¹´åº¦å…³é”®è¯ã€‚è¿™å°±åƒä¸€æœ¬ä¹¦çš„ç›®å½•ï¼Œèƒ½å¤Ÿè®©ä½ å¿«é€Ÿæƒ³èµ·ä¹‹åçš„äº‹æƒ…ã€‚</p>\n<ul>\n<li>æŠ€èƒ½æ²‰æ·€ä¸è½¬å‹</li>\n<li>ä¸ªäººç¼ºç‚¹æ€»ç»“ä¸ä¿®æ”¹</li>\n<li>å·¥ä½œæš´éœ²çš„é—®é¢˜æ€»ç»“ï¼ˆä¸ªäººï¼Œ å›¢é˜Ÿï¼‰</li>\n</ul>\n<h3 id=\"1-å­¦ä¹ æˆé•¿\"><a href=\"#1-å­¦ä¹ æˆé•¿\" class=\"headerlink\" title=\"1. å­¦ä¹ æˆé•¿\"></a>1. å­¦ä¹ æˆé•¿</h3><h4 id=\"2019-06-2020-08\"><a href=\"#2019-06-2020-08\" class=\"headerlink\" title=\"2019.06-2020-08\"></a>2019.06-2020-08</h4><ul>\n<li>èŒåœºå…¥é—¨ï¼ŒæŠ€æœ¯å…¥é—¨ï¼Œæ‡µæ‡µæ‡‚æ‡‚</li>\n<li>vue åŸºç¡€è¯­æ³•ï¼Œä¼šç”¨ï¼Œ ä¸ç†Ÿç»ƒï¼Œ ä¸ä¼šä½¿ç”¨ vuex</li>\n<li>å¤ªèœï¼Œé€»è¾‘æ€ç»´ï¼Œå›¢é˜Ÿæ²Ÿé€šå›°éš¾ï¼Œ å–œæ¬¢æ‰“æ¸¸æˆ</li>\n<li>åšå‡ºæ”¹å˜ï¼Œè¿‡ç¨‹ï¼Œæ—¶é—´</li>\n<li>ç§¯ç´¯ç»éªŒï¼Œçº¿ä¸‹èŠ±è´¹æ—¶é—´å­¦ä¹ ï¼Œäº†è§£å‰æ²¿æŠ€æœ¯</li>\n<li>åŠ¨æ‰‹å®è·µï¼Œæœ‰äº†ä¸€å®šçš„ç»éªŒ</li>\n</ul>\n<h4 id=\"2020-09-2022-07\"><a href=\"#2020-09-2022-07\" class=\"headerlink\" title=\"2020-09-2022-07\"></a>2020-09-2022-07</h4><ul>\n<li>æœ‰äº†ä¸€å®šçš„å¼€å‘ç»éªŒï¼Œä¸Šæ‰‹è¾ƒå¿«ï¼Œä½†æš´éœ²å‡ºçš„é—®é¢˜è¾ƒå¤š</li>\n<li>ä¸å°è£…ï¼Œ ä¸è€ƒè™‘å…¼å®¹ï¼Œé«˜å¤ç”¨ï¼Œé«˜æ€§èƒ½ï¼Œ å¯¼è‡´å¤šå¤„æºç ä¸€è‡´</li>\n<li>æŠ€èƒ½æ‰©å±•ï¼Œ Node, Jq+js,</li>\n<li>æ€§æ ¼å†…å‘ï¼Œæ²Ÿé€šæœ‰ä¸€å®šå›°éš¾</li>\n<li>åšå‡ºæ”¹å˜ï¼Œæ—¶é—´æ²‰æ·€</li>\n<li>å¤šæ–¹ä½è€ƒè™‘åŠŸèƒ½ï¼Œ å¤ç”¨æ€§ï¼Œé«˜æ€§èƒ½ï¼Œä¼˜åŒ–ï¼Œå¼€å‘ï¼Œè¿­ä»£</li>\n<li>å¸¸ç”¨å°è£…ï¼Œå·¥å…·åº“ï¼Œå°å·¥å…·ï¼Œé¡µé¢ä»¥åŠç»„ä»¶</li>\n<li>Node, çº¿ä¸‹å­¦ä¹  Mongoose, é…ç½®æœåŠ¡å™¨ åŸŸå dns è§£æï¼Œ</li>\n<li>å·¥ç¨‹åŒ–ï¼Œ é…ç½®åŒ–åŠ å…¥é¡¹ç›®</li>\n<li>åŠ¨æ‰‹æ­å»ºç½‘ç«™ï¼Œ ä» 0 è‡³ 1ï¼Œ</li>\n<li>ä»£ç è§„èŒƒ æäº¤è§„èŒƒ commit è§„èŒƒ</li>\n</ul>\n<h3 id=\"2-ä½“éªŒçªç ´\"><a href=\"#2-ä½“éªŒçªç ´\" class=\"headerlink\" title=\"2. ä½“éªŒçªç ´\"></a>2. ä½“éªŒçªç ´</h3><ul>\n<li>ä¸ªäººæ€§æ ¼æ”¹å˜ï¼Œçªç ´ï¼Œä»»ä½•äº‹æƒ…å†·é™å¯¹å¾…</li>\n<li>æŠ€èƒ½ä¸ä»…å±€é™äºå‰ç«¯ï¼Œå¤šç»´åº¦äº†è§£å…¶ä»–å‰è¨€æŠ€æœ¯</li>\n<li>h5 ä»¥åŠæ··åˆå¼å¼€å‘</li>\n<li>è·¨ç«¯æŠ€æœ¯ï¼Œ apicloud, uniapp, reactnative, flutter çš„äº†è§£</li>\n<li>å¾®æœåŠ¡çš„äº†è§£</li>\n<li>é¡¹ç›®ä¸­è¿ç”¨æ–°å†™æ³•ï¼Œ æ–°æŠ€æœ¯ æ–°çŸ¥è¯†ç‚¹ï¼›</li>\n<li>é¡¹ç›®é—®é¢˜çš„æ€»ç»“ä»¥åŠè§£å†³æ–¹æ¡ˆï¼›</li>\n<li>å·¥å…·æ–‡æ¡£ï¼›</li>\n</ul>\n<h3 id=\"3-ä¼‘é—²å¨±ä¹\"><a href=\"#3-ä¼‘é—²å¨±ä¹\" class=\"headerlink\" title=\"3. ä¼‘é—²å¨±ä¹\"></a>3. ä¼‘é—²å¨±ä¹</h3><ul>\n<li>æˆ’æ‰æ¸¸æˆï¼Œä¸åœ¨æ¸¸æˆä¸Šæµªè´¹æ—¶é—´</li>\n<li>æ—¥å¸¸é”»ç‚¼ä»¥åŠé™å¿ƒï¼Œç»ƒå­— è€åŠ›</li>\n<li>ä½“éªŒä¸åŒçš„å…´è¶£çˆ±å¥½</li>\n</ul>\n<h3 id=\"4-å·¥ä½œäº‹ä¸š\"><a href=\"#4-å·¥ä½œäº‹ä¸š\" class=\"headerlink\" title=\"4. å·¥ä½œäº‹ä¸š\"></a>4. å·¥ä½œäº‹ä¸š</h3><ul>\n<li>æŠ€æœ¯æ²‰æ·€æˆé•¿ï¼Œå¤šæ–¹ä½æ€è€ƒé—®é¢˜</li>\n<li>é‡å¤æ€§é—®é¢˜çš„æ€»ç»“ä»¥åŠè§£å†³æ–¹æ¡ˆ</li>\n</ul>\n","excerpt":"","more":"<h1 id=\"2019-06-2022-07\"><a href=\"#2019-06-2022-07\" class=\"headerlink\" title=\"2019.06 - 2022-07\"></a>2019.06 - 2022-07</h1><p>::: info<br>ä¸ç§¯è·¬æ­¥ï¼Œæ— ä»¥è‡³åƒé‡Œï¼›ä¸ç§¯å°æµï¼Œæ— ä»¥æˆæ±Ÿæµ·ã€‚<br>:::</p>\n<h2 id=\"è¿‘-3-å¹´å¹´åº¦å›é¡¾\"><a href=\"#è¿‘-3-å¹´å¹´åº¦å›é¡¾\" class=\"headerlink\" title=\"è¿‘ 3 å¹´å¹´åº¦å›é¡¾\"></a>è¿‘ 3 å¹´å¹´åº¦å›é¡¾</h2><p>æ•´ä½“å›é¡¾æœ¬å¹´åº¦å¤§æ¦‚åšäº†å“ªäº›äº‹ã€‚</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/yuque_mind.jpeg\" alt=\"loading\"></p>\n<h2 id=\"å…³é”®è¯ï¼šå¿«é€Ÿæˆé•¿\"><a href=\"#å…³é”®è¯ï¼šå¿«é€Ÿæˆé•¿\" class=\"headerlink\" title=\"å…³é”®è¯ï¼šå¿«é€Ÿæˆé•¿\"></a>å…³é”®è¯ï¼šå¿«é€Ÿæˆé•¿</h2><p>ç»™è‡ªå·±ä¸€ä¸ªè´´åˆ‡çš„å¹´åº¦å…³é”®è¯ã€‚è¿™å°±åƒä¸€æœ¬ä¹¦çš„ç›®å½•ï¼Œèƒ½å¤Ÿè®©ä½ å¿«é€Ÿæƒ³èµ·ä¹‹åçš„äº‹æƒ…ã€‚</p>\n<ul>\n<li>æŠ€èƒ½æ²‰æ·€ä¸è½¬å‹</li>\n<li>ä¸ªäººç¼ºç‚¹æ€»ç»“ä¸ä¿®æ”¹</li>\n<li>å·¥ä½œæš´éœ²çš„é—®é¢˜æ€»ç»“ï¼ˆä¸ªäººï¼Œ å›¢é˜Ÿï¼‰</li>\n</ul>\n<h3 id=\"1-å­¦ä¹ æˆé•¿\"><a href=\"#1-å­¦ä¹ æˆé•¿\" class=\"headerlink\" title=\"1. å­¦ä¹ æˆé•¿\"></a>1. å­¦ä¹ æˆé•¿</h3><h4 id=\"2019-06-2020-08\"><a href=\"#2019-06-2020-08\" class=\"headerlink\" title=\"2019.06-2020-08\"></a>2019.06-2020-08</h4><ul>\n<li>èŒåœºå…¥é—¨ï¼ŒæŠ€æœ¯å…¥é—¨ï¼Œæ‡µæ‡µæ‡‚æ‡‚</li>\n<li>vue åŸºç¡€è¯­æ³•ï¼Œä¼šç”¨ï¼Œ ä¸ç†Ÿç»ƒï¼Œ ä¸ä¼šä½¿ç”¨ vuex</li>\n<li>å¤ªèœï¼Œé€»è¾‘æ€ç»´ï¼Œå›¢é˜Ÿæ²Ÿé€šå›°éš¾ï¼Œ å–œæ¬¢æ‰“æ¸¸æˆ</li>\n<li>åšå‡ºæ”¹å˜ï¼Œè¿‡ç¨‹ï¼Œæ—¶é—´</li>\n<li>ç§¯ç´¯ç»éªŒï¼Œçº¿ä¸‹èŠ±è´¹æ—¶é—´å­¦ä¹ ï¼Œäº†è§£å‰æ²¿æŠ€æœ¯</li>\n<li>åŠ¨æ‰‹å®è·µï¼Œæœ‰äº†ä¸€å®šçš„ç»éªŒ</li>\n</ul>\n<h4 id=\"2020-09-2022-07\"><a href=\"#2020-09-2022-07\" class=\"headerlink\" title=\"2020-09-2022-07\"></a>2020-09-2022-07</h4><ul>\n<li>æœ‰äº†ä¸€å®šçš„å¼€å‘ç»éªŒï¼Œä¸Šæ‰‹è¾ƒå¿«ï¼Œä½†æš´éœ²å‡ºçš„é—®é¢˜è¾ƒå¤š</li>\n<li>ä¸å°è£…ï¼Œ ä¸è€ƒè™‘å…¼å®¹ï¼Œé«˜å¤ç”¨ï¼Œé«˜æ€§èƒ½ï¼Œ å¯¼è‡´å¤šå¤„æºç ä¸€è‡´</li>\n<li>æŠ€èƒ½æ‰©å±•ï¼Œ Node, Jq+js,</li>\n<li>æ€§æ ¼å†…å‘ï¼Œæ²Ÿé€šæœ‰ä¸€å®šå›°éš¾</li>\n<li>åšå‡ºæ”¹å˜ï¼Œæ—¶é—´æ²‰æ·€</li>\n<li>å¤šæ–¹ä½è€ƒè™‘åŠŸèƒ½ï¼Œ å¤ç”¨æ€§ï¼Œé«˜æ€§èƒ½ï¼Œä¼˜åŒ–ï¼Œå¼€å‘ï¼Œè¿­ä»£</li>\n<li>å¸¸ç”¨å°è£…ï¼Œå·¥å…·åº“ï¼Œå°å·¥å…·ï¼Œé¡µé¢ä»¥åŠç»„ä»¶</li>\n<li>Node, çº¿ä¸‹å­¦ä¹  Mongoose, é…ç½®æœåŠ¡å™¨ åŸŸå dns è§£æï¼Œ</li>\n<li>å·¥ç¨‹åŒ–ï¼Œ é…ç½®åŒ–åŠ å…¥é¡¹ç›®</li>\n<li>åŠ¨æ‰‹æ­å»ºç½‘ç«™ï¼Œ ä» 0 è‡³ 1ï¼Œ</li>\n<li>ä»£ç è§„èŒƒ æäº¤è§„èŒƒ commit è§„èŒƒ</li>\n</ul>\n<h3 id=\"2-ä½“éªŒçªç ´\"><a href=\"#2-ä½“éªŒçªç ´\" class=\"headerlink\" title=\"2. ä½“éªŒçªç ´\"></a>2. ä½“éªŒçªç ´</h3><ul>\n<li>ä¸ªäººæ€§æ ¼æ”¹å˜ï¼Œçªç ´ï¼Œä»»ä½•äº‹æƒ…å†·é™å¯¹å¾…</li>\n<li>æŠ€èƒ½ä¸ä»…å±€é™äºå‰ç«¯ï¼Œå¤šç»´åº¦äº†è§£å…¶ä»–å‰è¨€æŠ€æœ¯</li>\n<li>h5 ä»¥åŠæ··åˆå¼å¼€å‘</li>\n<li>è·¨ç«¯æŠ€æœ¯ï¼Œ apicloud, uniapp, reactnative, flutter çš„äº†è§£</li>\n<li>å¾®æœåŠ¡çš„äº†è§£</li>\n<li>é¡¹ç›®ä¸­è¿ç”¨æ–°å†™æ³•ï¼Œ æ–°æŠ€æœ¯ æ–°çŸ¥è¯†ç‚¹ï¼›</li>\n<li>é¡¹ç›®é—®é¢˜çš„æ€»ç»“ä»¥åŠè§£å†³æ–¹æ¡ˆï¼›</li>\n<li>å·¥å…·æ–‡æ¡£ï¼›</li>\n</ul>\n<h3 id=\"3-ä¼‘é—²å¨±ä¹\"><a href=\"#3-ä¼‘é—²å¨±ä¹\" class=\"headerlink\" title=\"3. ä¼‘é—²å¨±ä¹\"></a>3. ä¼‘é—²å¨±ä¹</h3><ul>\n<li>æˆ’æ‰æ¸¸æˆï¼Œä¸åœ¨æ¸¸æˆä¸Šæµªè´¹æ—¶é—´</li>\n<li>æ—¥å¸¸é”»ç‚¼ä»¥åŠé™å¿ƒï¼Œç»ƒå­— è€åŠ›</li>\n<li>ä½“éªŒä¸åŒçš„å…´è¶£çˆ±å¥½</li>\n</ul>\n<h3 id=\"4-å·¥ä½œäº‹ä¸š\"><a href=\"#4-å·¥ä½œäº‹ä¸š\" class=\"headerlink\" title=\"4. å·¥ä½œäº‹ä¸š\"></a>4. å·¥ä½œäº‹ä¸š</h3><ul>\n<li>æŠ€æœ¯æ²‰æ·€æˆé•¿ï¼Œå¤šæ–¹ä½æ€è€ƒé—®é¢˜</li>\n<li>é‡å¤æ€§é—®é¢˜çš„æ€»ç»“ä»¥åŠè§£å†³æ–¹æ¡ˆ</li>\n</ul>\n"},{"title":"ä¸ªäººæ€»ç»“-2022-08 - 2024-07","abbrlink":"84a7dd6a","date":"2024-07-08T01:05:01.000Z","_content":"# 2022-08 - 2024-07\n\nè‡ªèº«èƒ½åŠ›æœ‰æ‰€æå‡ä¹‹åï¼Œåœ¨çŸ­æš‚æ—¶é—´å†…å¼€å§‹å¯¹è‡ªèº«è¿›è¡Œæ²‰æ·€ï¼Œä¸è®ºæ˜¯å¯¹å·¥ä½œä¸­è¿˜æ˜¯ç”Ÿæ´»æˆ–è€…æ˜¯å¯¹ä¸ªäººï¼Œæˆ‘ç›¸ä¿¡åœ¨ä¿©å¹´æ—¶é—´å†…é€šè¿‡è‡ªèº«çš„æ²‰æ·€èƒ½å¤Ÿå¾—åˆ°ä¸€äº›æˆé•¿ã€‚\n\nå½“ç„¶ä¿©å¹´æ—¶é—´æˆ‘ä¹Ÿä¼šå°è¯•ç€æ¥è§¦ä¸åŒçš„äº‹ç‰©ï¼Œæ¥è§¦ä¸åŒçš„å…´è¶£çˆ±å¥½ï¼›å¦‚æœæ²¡æœ‰é‚£å°±å¤ªæ¯ç‡¥ä¹å‘³äº†ï¼›\n\n## èƒ½åŠ›æ²‰æ·€\n\næƒ³å†çŸ­æ—¶é—´å†…æå‡è‡ªå·±ï¼Œé‚£å°±ç¦»ä¸å¼€èƒ½åŠ›æ²‰æ·€ï¼Œå°±å¥½æ¯”è¯´ä½ å»è‡ªå·±åŠ¨æ‰‹æ‰“é€ é¡¹ç›®ï¼Œå»å¼€æºï¼Œç¤¾åŒºï¼Œçº¿ä¸‹ç­‰å»æ¥è§¦ï¼Œè¿™æ ·æ¸æ¸çš„ä¼šæå‡è‡ªèº«çš„è§†é‡ï¼›ä¹Ÿä¼šå¯¹è‡ªèº«çš„é‚£äº›ä¸è¶³è¿›è¡Œå¡«è¡¥ï¼›\n\nä½†æˆ‘è§‰å¾—èƒ½åŠ›æ²‰æ·€ï¼Œå¹¶ä¸æ˜¯æŒ‡ä»€ä¹ˆï¼›\n\nèƒ½åŠ›æ²‰æ·€ï¼Œæ˜¯æŒ‡å¯¹è‡ªèº«èƒ½åŠ›è¿›è¡Œæå‡ï¼Œæå‡åˆ°ä¸€å®šç¨‹åº¦ï¼Œå¯ä»¥è¿›è¡Œä¸€äº›äº‹æƒ…ï¼›\n\nå°±æ‹¿ä¸ªä¾‹å­æ¥è®²å§ï¼š\n\nå° A åœ¨å·¥ä½œä¸­é€šè¿‡è‡ªå·±çš„åŠªåŠ›å®Œæˆçš„ä¸€ä¸ªé¡¹ç›®ï¼Œä½†æ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¼šå‘ç°ä¸€ç³»åˆ—é—®é¢˜ï¼›è€Œè¿™ä¸ªæ—¶å€™ï¼Œå° A å°±åªèƒ½é€šè¿‡è‡ªå·±å¯¹é—®é¢˜çš„åˆ†æï¼Œä»¥åŠè‡ªå·±å¯¹é—®é¢˜çš„è§£å†³ï¼Œæ¥å¯¹é¡¹ç›®è¿›è¡Œå‡çº§ï¼›\n\nå¦‚æœåœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¸æ–­æ²‰æ·€è‡ªå·±ï¼Œé‚£ä¹ˆå°±ä¼šä¸çŸ¥è§‰çš„å¯Ÿè§‰ä¸€äº›é—®é¢˜ï¼ŒåŒæ—¶åœ¨å¼€å‘ä¸­å°½é‡é¿å…æ‰ï¼Œå½“ç„¶è¿™æ˜¯å¯¹ä¸ªäººæ¥è®²ï¼›\n\nå½“ç„¶è¿™äº›å·¥ä½œä¸­ä½ ä¼šè§‰çš„ç–²æƒ«ï¼Œå› ä¸ºåœ¨ä½ çš„å¼€å‘ç»éªŒä¸­å·²ç»æœ‰äº†ç±»ä¼¼çš„æ¡ˆä¾‹ï¼Œå°±ä¼šå¥—ç”¨ä¹‹å‰çš„ç»éªŒï¼Œä¸çŸ¥ä¸è§‰è‡ªå·±çš„èƒ½åŠ›å¹¶æ²¡æœ‰æå‡ï¼›\n\nè€Œæˆ‘è§‰å¾—ï¼Œèƒ½åŠ›çš„æ²‰æ·€æ˜¯å¯¹ä¹‹å‰æ–¹æ¡ˆçš„ä¸€ç§ç¡®å®šï¼Œå½“ä½ ç¡®å®šè¯¥æ–¹æ¡ˆè¿˜æœ‰å®Œå–„çš„æƒ…å†µä¸‹ï¼Œä½ æ‰èƒ½å¯¹è¿™ä¸ªæ–¹æ¡ˆè¿›è¡Œå‡çº§ï¼›ä¹Ÿè®¸æ²‰æ·€å°±æ˜¯ä¸æ–­ç´¯ç§¯çš„ä¸€ä¸ªè¿‡ç¨‹ï¼›\n\n## æŠ€èƒ½æå‡\n\nä¿©å¹´æ—¶é—´å¯¹å…¬å¸ï¼Œä¸ªäººçš„æƒ…å†µç†Ÿæ‚‰æŒæ¡ï¼Œä½†è‡ªå·±æœ‰ä¸æƒ³å±€é™äºå•ä¸€çš„å‰ç«¯é¢†åŸŸï¼Œæ‰€ä»¥éœ€è¦æå‡ä¸€äº›æŠ€èƒ½ï¼›\n\nä¿©å¹´æ—¶é—´è‡ªå·±ä¹ŸåŠ¨æ‰‹å¼€å‘åˆ°ä¸Šçº¿è¿‡ä¸€äº›é¡¹ç›®ï¼Œåç«¯æœåŠ¡ä¹Ÿä»`express`æ¢æˆäº†`nest`ï¼Œæ•°æ®åº“è¿˜æ˜¯æƒ³ç”¨`mongodb`ï¼›\n\nå…¶ä¸­ï¼Œè‡ªå·±ä¹Ÿä½¿ç”¨`jenkins`åšè¿‡ CI/CD è¿›è¡Œé¡¹ç›®éƒ¨ç½²ï¼›ä½†æ˜¯æ„Ÿè§‰è¿˜æ˜¯ä¸å¤Ÿï¼Œéœ€è¦ç»§ç»­æå‡ï¼›\n\näºæ˜¯ï¼Œå°†ä¸€éƒ¨åˆ†æ—¶é—´èŠ±åœ¨ä»£ç åº•å±‚çš„å°è£…ä¸Šï¼Œæ¯”å¦‚ï¼šå†™è‡ªå·±çš„ä¸€å¥—`utils å’Œ åå°ç®¡ç†ç³»ç»Ÿ`\n\nå› ä¸º`utils`å’Œ`åå°ç®¡ç†ç³»ç»Ÿ`éƒ½æ˜¯è‡ªå·±å†™çš„ï¼Œæ‰€ä»¥å¯ä»¥è‡ªå·±æ§åˆ¶ï¼Œå¯ä»¥è‡ªå·±å†™ï¼Œå¯ä»¥è‡ªå·±æ”¹ï¼Œå¯ä»¥è‡ªå·±åˆ ï¼›\n\nä½†æ˜¯åœ¨å·¥ä½œä¸­å¤©å¤©æ˜¯åšè¿™ä¸ªçš„ï¼Œå¯¹å®ƒæ¥è®²ä¹Ÿæ˜¯æ¯”è¾ƒç†Ÿæ‚‰çš„ï¼›\n\nå½“ç„¶è‡ªå·±ä¹Ÿå¼€å‘è¿‡ä¸€äº›å¼€æºçš„é¡¹ç›®ï¼Œ`æ—¥å¿—ä¸ŠæŠ¥`åŒ…å«äº†ä¸€äº›æ•°æ®ç»Ÿè®¡ï¼Œæ€§èƒ½ç›‘æ§ç­‰ï¼›\n\nè‡ªå·±åŠ¨æ‰‹ä¹Ÿå®è·µè¿‡`rsut + vue`æ¡Œé¢ç«¯çš„å¼€å‘ç­‰ç­‰ï¼›\n\nåœ¨ä¸åŒé¢†å–çš„æ¥è§¦ï¼Œå‘ç°è‡ªå·±åœ¨ä¸åŒé—®é¢˜çš„è§£å†³æ–¹æ¡ˆè¿˜æ˜¯æ€è€ƒä¸­ä¹Ÿå°±ä¸ä¸€æ ·äº†ï¼›\n\nç›¸æ¯”å‰ä¸‰å¹´ï¼Œè‡ªå·±çš„èƒ½åŠ›ä¸»è¦æ˜¯æå‡åœ¨ä¸åŒçš„é¢†åŸŸæ¥è§¦ä»¥åŠä¸€äº›æ–¹æ¡ˆçš„æ¥è§¦ï¼›ä¸šåŠ¡å¼€å‘éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå› ä¸ºæ˜¯å†…éƒ¨ç³»ç»Ÿå¹¶æ²¡æœ‰é‚£äº›èŠ±é‡Œèƒ¡å“¨çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä¸šåŠ¡è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼›\n\nåæœŸè¿˜æ˜¯çœ‹ä¸ªäººæ—¶é—´å»æ€»ç»“å¼€å‘ä¸€äº›å·¥å…·ç­‰ç­‰ï¼›\n\n## å…´è¶£çˆ±å¥½\n\nä¿©å¹´æ—¶é—´ï¼Œé™¤äº†å·¥ä½œä¹‹å¤–ï¼Œè¿˜æ˜¯æœ‰è‡ªå·±æ„Ÿå…´è¶£çš„é¢†åŸŸï¼›\n\n1. æ‹æ‘„ï¼šè‡ªå·±ä¹Ÿé€šè¿‡çŸ­è§†é¢‘æ¥è§¦è¿‡ä¸€æ®µæ—¶é—´çš„æ‹æ‘„ï¼Œå°±æ˜¯æ‹¿ç€æ‰‹æœºè¿›è¡Œæ‹ç…§ï¼›åŒæ—¶ä¹Ÿä¼šåœ¨æŠ–éŸ³ä¸Šè¿›è¡Œä¸€äº›æ‹æ‘„åˆ†äº«è®°å½•è‡ªèº«çš„ç”Ÿæ´»\n2. éŸ³ä¹ï¼šè‡ªå·±å–œæ¬¢å¬ä¸€äº›éŸ³ä¹ï¼Œä½†æ˜¯æœ€è¿‘æ¯”è¾ƒå–œæ¬¢å¬ä¸€äº›ç”µå­éŸ³ä¹ï¼›\n3. é˜…è¯»ï¼šæœ€è¿‘åœ¨çœ‹ä¸€äº›æŠ€æœ¯ä¹¦ç±ï¼ŒåŒæ—¶ä¹Ÿåœ¨çœ‹ä¸€äº›æŠ€æœ¯æ–‡ç« ï¼ŒåŒæ—¶ä¹Ÿåœ¨çœ‹ä¸€äº›æŠ€æœ¯ä¹¦ç±ï¼›\n4. å–èŒ¶ï¼šè¿™æ˜¯æœ€è¿‘å–œæ¬¢çš„ï¼Œä¹‹å‰æ€»æ˜¯æƒ³å–ç‚¹ä»€ä¹ˆï¼Œæˆ‘ä¸å–œæ¬¢å’Œé¥®æ–™ï¼Œå–ä¸äº†é…’ï¼Œå°±ä¹°äº†ä¸€äº›æœé…’ï¼Œä½†æ˜¯å–ä¸‹æ¥çš„æ„Ÿè§‰è¿˜å¯ä»¥ä½†æ˜¯ä¸èƒ½ç»å¸¸å–ï¼Œä»·æ ¼è¿˜ä¸ä¾¿å®œï¼›äºæ˜¯æˆ‘å°±æƒ³åˆ°äº†å–èŒ¶ï¼›ä¹‹å‰å–çš„æ˜¯æ­£å±±å°ç§çš„çº¢èŒ¶ï¼Œç°åœ¨å–çš„æ˜¯ä¹Œé¾™èŒ¶ï¼›\n","source":"_posts/æ€»ç»“/ä¸ªäººæ€»ç»“/2022-08 - 2024-07.md","raw":"---\ntitle: ä¸ªäººæ€»ç»“-2022-08 - 2024-07\nabbrlink: 84a7dd6a\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - ä¸ªäººæ€»ç»“\n---\n# 2022-08 - 2024-07\n\nè‡ªèº«èƒ½åŠ›æœ‰æ‰€æå‡ä¹‹åï¼Œåœ¨çŸ­æš‚æ—¶é—´å†…å¼€å§‹å¯¹è‡ªèº«è¿›è¡Œæ²‰æ·€ï¼Œä¸è®ºæ˜¯å¯¹å·¥ä½œä¸­è¿˜æ˜¯ç”Ÿæ´»æˆ–è€…æ˜¯å¯¹ä¸ªäººï¼Œæˆ‘ç›¸ä¿¡åœ¨ä¿©å¹´æ—¶é—´å†…é€šè¿‡è‡ªèº«çš„æ²‰æ·€èƒ½å¤Ÿå¾—åˆ°ä¸€äº›æˆé•¿ã€‚\n\nå½“ç„¶ä¿©å¹´æ—¶é—´æˆ‘ä¹Ÿä¼šå°è¯•ç€æ¥è§¦ä¸åŒçš„äº‹ç‰©ï¼Œæ¥è§¦ä¸åŒçš„å…´è¶£çˆ±å¥½ï¼›å¦‚æœæ²¡æœ‰é‚£å°±å¤ªæ¯ç‡¥ä¹å‘³äº†ï¼›\n\n## èƒ½åŠ›æ²‰æ·€\n\næƒ³å†çŸ­æ—¶é—´å†…æå‡è‡ªå·±ï¼Œé‚£å°±ç¦»ä¸å¼€èƒ½åŠ›æ²‰æ·€ï¼Œå°±å¥½æ¯”è¯´ä½ å»è‡ªå·±åŠ¨æ‰‹æ‰“é€ é¡¹ç›®ï¼Œå»å¼€æºï¼Œç¤¾åŒºï¼Œçº¿ä¸‹ç­‰å»æ¥è§¦ï¼Œè¿™æ ·æ¸æ¸çš„ä¼šæå‡è‡ªèº«çš„è§†é‡ï¼›ä¹Ÿä¼šå¯¹è‡ªèº«çš„é‚£äº›ä¸è¶³è¿›è¡Œå¡«è¡¥ï¼›\n\nä½†æˆ‘è§‰å¾—èƒ½åŠ›æ²‰æ·€ï¼Œå¹¶ä¸æ˜¯æŒ‡ä»€ä¹ˆï¼›\n\nèƒ½åŠ›æ²‰æ·€ï¼Œæ˜¯æŒ‡å¯¹è‡ªèº«èƒ½åŠ›è¿›è¡Œæå‡ï¼Œæå‡åˆ°ä¸€å®šç¨‹åº¦ï¼Œå¯ä»¥è¿›è¡Œä¸€äº›äº‹æƒ…ï¼›\n\nå°±æ‹¿ä¸ªä¾‹å­æ¥è®²å§ï¼š\n\nå° A åœ¨å·¥ä½œä¸­é€šè¿‡è‡ªå·±çš„åŠªåŠ›å®Œæˆçš„ä¸€ä¸ªé¡¹ç›®ï¼Œä½†æ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¼šå‘ç°ä¸€ç³»åˆ—é—®é¢˜ï¼›è€Œè¿™ä¸ªæ—¶å€™ï¼Œå° A å°±åªèƒ½é€šè¿‡è‡ªå·±å¯¹é—®é¢˜çš„åˆ†æï¼Œä»¥åŠè‡ªå·±å¯¹é—®é¢˜çš„è§£å†³ï¼Œæ¥å¯¹é¡¹ç›®è¿›è¡Œå‡çº§ï¼›\n\nå¦‚æœåœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¸æ–­æ²‰æ·€è‡ªå·±ï¼Œé‚£ä¹ˆå°±ä¼šä¸çŸ¥è§‰çš„å¯Ÿè§‰ä¸€äº›é—®é¢˜ï¼ŒåŒæ—¶åœ¨å¼€å‘ä¸­å°½é‡é¿å…æ‰ï¼Œå½“ç„¶è¿™æ˜¯å¯¹ä¸ªäººæ¥è®²ï¼›\n\nå½“ç„¶è¿™äº›å·¥ä½œä¸­ä½ ä¼šè§‰çš„ç–²æƒ«ï¼Œå› ä¸ºåœ¨ä½ çš„å¼€å‘ç»éªŒä¸­å·²ç»æœ‰äº†ç±»ä¼¼çš„æ¡ˆä¾‹ï¼Œå°±ä¼šå¥—ç”¨ä¹‹å‰çš„ç»éªŒï¼Œä¸çŸ¥ä¸è§‰è‡ªå·±çš„èƒ½åŠ›å¹¶æ²¡æœ‰æå‡ï¼›\n\nè€Œæˆ‘è§‰å¾—ï¼Œèƒ½åŠ›çš„æ²‰æ·€æ˜¯å¯¹ä¹‹å‰æ–¹æ¡ˆçš„ä¸€ç§ç¡®å®šï¼Œå½“ä½ ç¡®å®šè¯¥æ–¹æ¡ˆè¿˜æœ‰å®Œå–„çš„æƒ…å†µä¸‹ï¼Œä½ æ‰èƒ½å¯¹è¿™ä¸ªæ–¹æ¡ˆè¿›è¡Œå‡çº§ï¼›ä¹Ÿè®¸æ²‰æ·€å°±æ˜¯ä¸æ–­ç´¯ç§¯çš„ä¸€ä¸ªè¿‡ç¨‹ï¼›\n\n## æŠ€èƒ½æå‡\n\nä¿©å¹´æ—¶é—´å¯¹å…¬å¸ï¼Œä¸ªäººçš„æƒ…å†µç†Ÿæ‚‰æŒæ¡ï¼Œä½†è‡ªå·±æœ‰ä¸æƒ³å±€é™äºå•ä¸€çš„å‰ç«¯é¢†åŸŸï¼Œæ‰€ä»¥éœ€è¦æå‡ä¸€äº›æŠ€èƒ½ï¼›\n\nä¿©å¹´æ—¶é—´è‡ªå·±ä¹ŸåŠ¨æ‰‹å¼€å‘åˆ°ä¸Šçº¿è¿‡ä¸€äº›é¡¹ç›®ï¼Œåç«¯æœåŠ¡ä¹Ÿä»`express`æ¢æˆäº†`nest`ï¼Œæ•°æ®åº“è¿˜æ˜¯æƒ³ç”¨`mongodb`ï¼›\n\nå…¶ä¸­ï¼Œè‡ªå·±ä¹Ÿä½¿ç”¨`jenkins`åšè¿‡ CI/CD è¿›è¡Œé¡¹ç›®éƒ¨ç½²ï¼›ä½†æ˜¯æ„Ÿè§‰è¿˜æ˜¯ä¸å¤Ÿï¼Œéœ€è¦ç»§ç»­æå‡ï¼›\n\näºæ˜¯ï¼Œå°†ä¸€éƒ¨åˆ†æ—¶é—´èŠ±åœ¨ä»£ç åº•å±‚çš„å°è£…ä¸Šï¼Œæ¯”å¦‚ï¼šå†™è‡ªå·±çš„ä¸€å¥—`utils å’Œ åå°ç®¡ç†ç³»ç»Ÿ`\n\nå› ä¸º`utils`å’Œ`åå°ç®¡ç†ç³»ç»Ÿ`éƒ½æ˜¯è‡ªå·±å†™çš„ï¼Œæ‰€ä»¥å¯ä»¥è‡ªå·±æ§åˆ¶ï¼Œå¯ä»¥è‡ªå·±å†™ï¼Œå¯ä»¥è‡ªå·±æ”¹ï¼Œå¯ä»¥è‡ªå·±åˆ ï¼›\n\nä½†æ˜¯åœ¨å·¥ä½œä¸­å¤©å¤©æ˜¯åšè¿™ä¸ªçš„ï¼Œå¯¹å®ƒæ¥è®²ä¹Ÿæ˜¯æ¯”è¾ƒç†Ÿæ‚‰çš„ï¼›\n\nå½“ç„¶è‡ªå·±ä¹Ÿå¼€å‘è¿‡ä¸€äº›å¼€æºçš„é¡¹ç›®ï¼Œ`æ—¥å¿—ä¸ŠæŠ¥`åŒ…å«äº†ä¸€äº›æ•°æ®ç»Ÿè®¡ï¼Œæ€§èƒ½ç›‘æ§ç­‰ï¼›\n\nè‡ªå·±åŠ¨æ‰‹ä¹Ÿå®è·µè¿‡`rsut + vue`æ¡Œé¢ç«¯çš„å¼€å‘ç­‰ç­‰ï¼›\n\nåœ¨ä¸åŒé¢†å–çš„æ¥è§¦ï¼Œå‘ç°è‡ªå·±åœ¨ä¸åŒé—®é¢˜çš„è§£å†³æ–¹æ¡ˆè¿˜æ˜¯æ€è€ƒä¸­ä¹Ÿå°±ä¸ä¸€æ ·äº†ï¼›\n\nç›¸æ¯”å‰ä¸‰å¹´ï¼Œè‡ªå·±çš„èƒ½åŠ›ä¸»è¦æ˜¯æå‡åœ¨ä¸åŒçš„é¢†åŸŸæ¥è§¦ä»¥åŠä¸€äº›æ–¹æ¡ˆçš„æ¥è§¦ï¼›ä¸šåŠ¡å¼€å‘éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå› ä¸ºæ˜¯å†…éƒ¨ç³»ç»Ÿå¹¶æ²¡æœ‰é‚£äº›èŠ±é‡Œèƒ¡å“¨çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä¸šåŠ¡è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼›\n\nåæœŸè¿˜æ˜¯çœ‹ä¸ªäººæ—¶é—´å»æ€»ç»“å¼€å‘ä¸€äº›å·¥å…·ç­‰ç­‰ï¼›\n\n## å…´è¶£çˆ±å¥½\n\nä¿©å¹´æ—¶é—´ï¼Œé™¤äº†å·¥ä½œä¹‹å¤–ï¼Œè¿˜æ˜¯æœ‰è‡ªå·±æ„Ÿå…´è¶£çš„é¢†åŸŸï¼›\n\n1. æ‹æ‘„ï¼šè‡ªå·±ä¹Ÿé€šè¿‡çŸ­è§†é¢‘æ¥è§¦è¿‡ä¸€æ®µæ—¶é—´çš„æ‹æ‘„ï¼Œå°±æ˜¯æ‹¿ç€æ‰‹æœºè¿›è¡Œæ‹ç…§ï¼›åŒæ—¶ä¹Ÿä¼šåœ¨æŠ–éŸ³ä¸Šè¿›è¡Œä¸€äº›æ‹æ‘„åˆ†äº«è®°å½•è‡ªèº«çš„ç”Ÿæ´»\n2. éŸ³ä¹ï¼šè‡ªå·±å–œæ¬¢å¬ä¸€äº›éŸ³ä¹ï¼Œä½†æ˜¯æœ€è¿‘æ¯”è¾ƒå–œæ¬¢å¬ä¸€äº›ç”µå­éŸ³ä¹ï¼›\n3. é˜…è¯»ï¼šæœ€è¿‘åœ¨çœ‹ä¸€äº›æŠ€æœ¯ä¹¦ç±ï¼ŒåŒæ—¶ä¹Ÿåœ¨çœ‹ä¸€äº›æŠ€æœ¯æ–‡ç« ï¼ŒåŒæ—¶ä¹Ÿåœ¨çœ‹ä¸€äº›æŠ€æœ¯ä¹¦ç±ï¼›\n4. å–èŒ¶ï¼šè¿™æ˜¯æœ€è¿‘å–œæ¬¢çš„ï¼Œä¹‹å‰æ€»æ˜¯æƒ³å–ç‚¹ä»€ä¹ˆï¼Œæˆ‘ä¸å–œæ¬¢å’Œé¥®æ–™ï¼Œå–ä¸äº†é…’ï¼Œå°±ä¹°äº†ä¸€äº›æœé…’ï¼Œä½†æ˜¯å–ä¸‹æ¥çš„æ„Ÿè§‰è¿˜å¯ä»¥ä½†æ˜¯ä¸èƒ½ç»å¸¸å–ï¼Œä»·æ ¼è¿˜ä¸ä¾¿å®œï¼›äºæ˜¯æˆ‘å°±æƒ³åˆ°äº†å–èŒ¶ï¼›ä¹‹å‰å–çš„æ˜¯æ­£å±±å°ç§çš„çº¢èŒ¶ï¼Œç°åœ¨å–çš„æ˜¯ä¹Œé¾™èŒ¶ï¼›\n","slug":"æ€»ç»“/ä¸ªäººæ€»ç»“/2022-08 - 2024-07","published":1,"updated":"2025-03-12T09:51:36.323Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iq0008fg9m6t5qedb7","content":"<h1 id=\"2022-08-2024-07\"><a href=\"#2022-08-2024-07\" class=\"headerlink\" title=\"2022-08 - 2024-07\"></a>2022-08 - 2024-07</h1><p>è‡ªèº«èƒ½åŠ›æœ‰æ‰€æå‡ä¹‹åï¼Œåœ¨çŸ­æš‚æ—¶é—´å†…å¼€å§‹å¯¹è‡ªèº«è¿›è¡Œæ²‰æ·€ï¼Œä¸è®ºæ˜¯å¯¹å·¥ä½œä¸­è¿˜æ˜¯ç”Ÿæ´»æˆ–è€…æ˜¯å¯¹ä¸ªäººï¼Œæˆ‘ç›¸ä¿¡åœ¨ä¿©å¹´æ—¶é—´å†…é€šè¿‡è‡ªèº«çš„æ²‰æ·€èƒ½å¤Ÿå¾—åˆ°ä¸€äº›æˆé•¿ã€‚</p>\n<p>å½“ç„¶ä¿©å¹´æ—¶é—´æˆ‘ä¹Ÿä¼šå°è¯•ç€æ¥è§¦ä¸åŒçš„äº‹ç‰©ï¼Œæ¥è§¦ä¸åŒçš„å…´è¶£çˆ±å¥½ï¼›å¦‚æœæ²¡æœ‰é‚£å°±å¤ªæ¯ç‡¥ä¹å‘³äº†ï¼›</p>\n<h2 id=\"èƒ½åŠ›æ²‰æ·€\"><a href=\"#èƒ½åŠ›æ²‰æ·€\" class=\"headerlink\" title=\"èƒ½åŠ›æ²‰æ·€\"></a>èƒ½åŠ›æ²‰æ·€</h2><p>æƒ³å†çŸ­æ—¶é—´å†…æå‡è‡ªå·±ï¼Œé‚£å°±ç¦»ä¸å¼€èƒ½åŠ›æ²‰æ·€ï¼Œå°±å¥½æ¯”è¯´ä½ å»è‡ªå·±åŠ¨æ‰‹æ‰“é€ é¡¹ç›®ï¼Œå»å¼€æºï¼Œç¤¾åŒºï¼Œçº¿ä¸‹ç­‰å»æ¥è§¦ï¼Œè¿™æ ·æ¸æ¸çš„ä¼šæå‡è‡ªèº«çš„è§†é‡ï¼›ä¹Ÿä¼šå¯¹è‡ªèº«çš„é‚£äº›ä¸è¶³è¿›è¡Œå¡«è¡¥ï¼›</p>\n<p>ä½†æˆ‘è§‰å¾—èƒ½åŠ›æ²‰æ·€ï¼Œå¹¶ä¸æ˜¯æŒ‡ä»€ä¹ˆï¼›</p>\n<p>èƒ½åŠ›æ²‰æ·€ï¼Œæ˜¯æŒ‡å¯¹è‡ªèº«èƒ½åŠ›è¿›è¡Œæå‡ï¼Œæå‡åˆ°ä¸€å®šç¨‹åº¦ï¼Œå¯ä»¥è¿›è¡Œä¸€äº›äº‹æƒ…ï¼›</p>\n<p>å°±æ‹¿ä¸ªä¾‹å­æ¥è®²å§ï¼š</p>\n<p>å° A åœ¨å·¥ä½œä¸­é€šè¿‡è‡ªå·±çš„åŠªåŠ›å®Œæˆçš„ä¸€ä¸ªé¡¹ç›®ï¼Œä½†æ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¼šå‘ç°ä¸€ç³»åˆ—é—®é¢˜ï¼›è€Œè¿™ä¸ªæ—¶å€™ï¼Œå° A å°±åªèƒ½é€šè¿‡è‡ªå·±å¯¹é—®é¢˜çš„åˆ†æï¼Œä»¥åŠè‡ªå·±å¯¹é—®é¢˜çš„è§£å†³ï¼Œæ¥å¯¹é¡¹ç›®è¿›è¡Œå‡çº§ï¼›</p>\n<p>å¦‚æœåœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¸æ–­æ²‰æ·€è‡ªå·±ï¼Œé‚£ä¹ˆå°±ä¼šä¸çŸ¥è§‰çš„å¯Ÿè§‰ä¸€äº›é—®é¢˜ï¼ŒåŒæ—¶åœ¨å¼€å‘ä¸­å°½é‡é¿å…æ‰ï¼Œå½“ç„¶è¿™æ˜¯å¯¹ä¸ªäººæ¥è®²ï¼›</p>\n<p>å½“ç„¶è¿™äº›å·¥ä½œä¸­ä½ ä¼šè§‰çš„ç–²æƒ«ï¼Œå› ä¸ºåœ¨ä½ çš„å¼€å‘ç»éªŒä¸­å·²ç»æœ‰äº†ç±»ä¼¼çš„æ¡ˆä¾‹ï¼Œå°±ä¼šå¥—ç”¨ä¹‹å‰çš„ç»éªŒï¼Œä¸çŸ¥ä¸è§‰è‡ªå·±çš„èƒ½åŠ›å¹¶æ²¡æœ‰æå‡ï¼›</p>\n<p>è€Œæˆ‘è§‰å¾—ï¼Œèƒ½åŠ›çš„æ²‰æ·€æ˜¯å¯¹ä¹‹å‰æ–¹æ¡ˆçš„ä¸€ç§ç¡®å®šï¼Œå½“ä½ ç¡®å®šè¯¥æ–¹æ¡ˆè¿˜æœ‰å®Œå–„çš„æƒ…å†µä¸‹ï¼Œä½ æ‰èƒ½å¯¹è¿™ä¸ªæ–¹æ¡ˆè¿›è¡Œå‡çº§ï¼›ä¹Ÿè®¸æ²‰æ·€å°±æ˜¯ä¸æ–­ç´¯ç§¯çš„ä¸€ä¸ªè¿‡ç¨‹ï¼›</p>\n<h2 id=\"æŠ€èƒ½æå‡\"><a href=\"#æŠ€èƒ½æå‡\" class=\"headerlink\" title=\"æŠ€èƒ½æå‡\"></a>æŠ€èƒ½æå‡</h2><p>ä¿©å¹´æ—¶é—´å¯¹å…¬å¸ï¼Œä¸ªäººçš„æƒ…å†µç†Ÿæ‚‰æŒæ¡ï¼Œä½†è‡ªå·±æœ‰ä¸æƒ³å±€é™äºå•ä¸€çš„å‰ç«¯é¢†åŸŸï¼Œæ‰€ä»¥éœ€è¦æå‡ä¸€äº›æŠ€èƒ½ï¼›</p>\n<p>ä¿©å¹´æ—¶é—´è‡ªå·±ä¹ŸåŠ¨æ‰‹å¼€å‘åˆ°ä¸Šçº¿è¿‡ä¸€äº›é¡¹ç›®ï¼Œåç«¯æœåŠ¡ä¹Ÿä»<code>express</code>æ¢æˆäº†<code>nest</code>ï¼Œæ•°æ®åº“è¿˜æ˜¯æƒ³ç”¨<code>mongodb</code>ï¼›</p>\n<p>å…¶ä¸­ï¼Œè‡ªå·±ä¹Ÿä½¿ç”¨<code>jenkins</code>åšè¿‡ CI&#x2F;CD è¿›è¡Œé¡¹ç›®éƒ¨ç½²ï¼›ä½†æ˜¯æ„Ÿè§‰è¿˜æ˜¯ä¸å¤Ÿï¼Œéœ€è¦ç»§ç»­æå‡ï¼›</p>\n<p>äºæ˜¯ï¼Œå°†ä¸€éƒ¨åˆ†æ—¶é—´èŠ±åœ¨ä»£ç åº•å±‚çš„å°è£…ä¸Šï¼Œæ¯”å¦‚ï¼šå†™è‡ªå·±çš„ä¸€å¥—<code>utils å’Œ åå°ç®¡ç†ç³»ç»Ÿ</code></p>\n<p>å› ä¸º<code>utils</code>å’Œ<code>åå°ç®¡ç†ç³»ç»Ÿ</code>éƒ½æ˜¯è‡ªå·±å†™çš„ï¼Œæ‰€ä»¥å¯ä»¥è‡ªå·±æ§åˆ¶ï¼Œå¯ä»¥è‡ªå·±å†™ï¼Œå¯ä»¥è‡ªå·±æ”¹ï¼Œå¯ä»¥è‡ªå·±åˆ ï¼›</p>\n<p>ä½†æ˜¯åœ¨å·¥ä½œä¸­å¤©å¤©æ˜¯åšè¿™ä¸ªçš„ï¼Œå¯¹å®ƒæ¥è®²ä¹Ÿæ˜¯æ¯”è¾ƒç†Ÿæ‚‰çš„ï¼›</p>\n<p>å½“ç„¶è‡ªå·±ä¹Ÿå¼€å‘è¿‡ä¸€äº›å¼€æºçš„é¡¹ç›®ï¼Œ<code>æ—¥å¿—ä¸ŠæŠ¥</code>åŒ…å«äº†ä¸€äº›æ•°æ®ç»Ÿè®¡ï¼Œæ€§èƒ½ç›‘æ§ç­‰ï¼›</p>\n<p>è‡ªå·±åŠ¨æ‰‹ä¹Ÿå®è·µè¿‡<code>rsut + vue</code>æ¡Œé¢ç«¯çš„å¼€å‘ç­‰ç­‰ï¼›</p>\n<p>åœ¨ä¸åŒé¢†å–çš„æ¥è§¦ï¼Œå‘ç°è‡ªå·±åœ¨ä¸åŒé—®é¢˜çš„è§£å†³æ–¹æ¡ˆè¿˜æ˜¯æ€è€ƒä¸­ä¹Ÿå°±ä¸ä¸€æ ·äº†ï¼›</p>\n<p>ç›¸æ¯”å‰ä¸‰å¹´ï¼Œè‡ªå·±çš„èƒ½åŠ›ä¸»è¦æ˜¯æå‡åœ¨ä¸åŒçš„é¢†åŸŸæ¥è§¦ä»¥åŠä¸€äº›æ–¹æ¡ˆçš„æ¥è§¦ï¼›ä¸šåŠ¡å¼€å‘éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå› ä¸ºæ˜¯å†…éƒ¨ç³»ç»Ÿå¹¶æ²¡æœ‰é‚£äº›èŠ±é‡Œèƒ¡å“¨çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä¸šåŠ¡è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼›</p>\n<p>åæœŸè¿˜æ˜¯çœ‹ä¸ªäººæ—¶é—´å»æ€»ç»“å¼€å‘ä¸€äº›å·¥å…·ç­‰ç­‰ï¼›</p>\n<h2 id=\"å…´è¶£çˆ±å¥½\"><a href=\"#å…´è¶£çˆ±å¥½\" class=\"headerlink\" title=\"å…´è¶£çˆ±å¥½\"></a>å…´è¶£çˆ±å¥½</h2><p>ä¿©å¹´æ—¶é—´ï¼Œé™¤äº†å·¥ä½œä¹‹å¤–ï¼Œè¿˜æ˜¯æœ‰è‡ªå·±æ„Ÿå…´è¶£çš„é¢†åŸŸï¼›</p>\n<ol>\n<li>æ‹æ‘„ï¼šè‡ªå·±ä¹Ÿé€šè¿‡çŸ­è§†é¢‘æ¥è§¦è¿‡ä¸€æ®µæ—¶é—´çš„æ‹æ‘„ï¼Œå°±æ˜¯æ‹¿ç€æ‰‹æœºè¿›è¡Œæ‹ç…§ï¼›åŒæ—¶ä¹Ÿä¼šåœ¨æŠ–éŸ³ä¸Šè¿›è¡Œä¸€äº›æ‹æ‘„åˆ†äº«è®°å½•è‡ªèº«çš„ç”Ÿæ´»</li>\n<li>éŸ³ä¹ï¼šè‡ªå·±å–œæ¬¢å¬ä¸€äº›éŸ³ä¹ï¼Œä½†æ˜¯æœ€è¿‘æ¯”è¾ƒå–œæ¬¢å¬ä¸€äº›ç”µå­éŸ³ä¹ï¼›</li>\n<li>é˜…è¯»ï¼šæœ€è¿‘åœ¨çœ‹ä¸€äº›æŠ€æœ¯ä¹¦ç±ï¼ŒåŒæ—¶ä¹Ÿåœ¨çœ‹ä¸€äº›æŠ€æœ¯æ–‡ç« ï¼ŒåŒæ—¶ä¹Ÿåœ¨çœ‹ä¸€äº›æŠ€æœ¯ä¹¦ç±ï¼›</li>\n<li>å–èŒ¶ï¼šè¿™æ˜¯æœ€è¿‘å–œæ¬¢çš„ï¼Œä¹‹å‰æ€»æ˜¯æƒ³å–ç‚¹ä»€ä¹ˆï¼Œæˆ‘ä¸å–œæ¬¢å’Œé¥®æ–™ï¼Œå–ä¸äº†é…’ï¼Œå°±ä¹°äº†ä¸€äº›æœé…’ï¼Œä½†æ˜¯å–ä¸‹æ¥çš„æ„Ÿè§‰è¿˜å¯ä»¥ä½†æ˜¯ä¸èƒ½ç»å¸¸å–ï¼Œä»·æ ¼è¿˜ä¸ä¾¿å®œï¼›äºæ˜¯æˆ‘å°±æƒ³åˆ°äº†å–èŒ¶ï¼›ä¹‹å‰å–çš„æ˜¯æ­£å±±å°ç§çš„çº¢èŒ¶ï¼Œç°åœ¨å–çš„æ˜¯ä¹Œé¾™èŒ¶ï¼›</li>\n</ol>\n","excerpt":"","more":"<h1 id=\"2022-08-2024-07\"><a href=\"#2022-08-2024-07\" class=\"headerlink\" title=\"2022-08 - 2024-07\"></a>2022-08 - 2024-07</h1><p>è‡ªèº«èƒ½åŠ›æœ‰æ‰€æå‡ä¹‹åï¼Œåœ¨çŸ­æš‚æ—¶é—´å†…å¼€å§‹å¯¹è‡ªèº«è¿›è¡Œæ²‰æ·€ï¼Œä¸è®ºæ˜¯å¯¹å·¥ä½œä¸­è¿˜æ˜¯ç”Ÿæ´»æˆ–è€…æ˜¯å¯¹ä¸ªäººï¼Œæˆ‘ç›¸ä¿¡åœ¨ä¿©å¹´æ—¶é—´å†…é€šè¿‡è‡ªèº«çš„æ²‰æ·€èƒ½å¤Ÿå¾—åˆ°ä¸€äº›æˆé•¿ã€‚</p>\n<p>å½“ç„¶ä¿©å¹´æ—¶é—´æˆ‘ä¹Ÿä¼šå°è¯•ç€æ¥è§¦ä¸åŒçš„äº‹ç‰©ï¼Œæ¥è§¦ä¸åŒçš„å…´è¶£çˆ±å¥½ï¼›å¦‚æœæ²¡æœ‰é‚£å°±å¤ªæ¯ç‡¥ä¹å‘³äº†ï¼›</p>\n<h2 id=\"èƒ½åŠ›æ²‰æ·€\"><a href=\"#èƒ½åŠ›æ²‰æ·€\" class=\"headerlink\" title=\"èƒ½åŠ›æ²‰æ·€\"></a>èƒ½åŠ›æ²‰æ·€</h2><p>æƒ³å†çŸ­æ—¶é—´å†…æå‡è‡ªå·±ï¼Œé‚£å°±ç¦»ä¸å¼€èƒ½åŠ›æ²‰æ·€ï¼Œå°±å¥½æ¯”è¯´ä½ å»è‡ªå·±åŠ¨æ‰‹æ‰“é€ é¡¹ç›®ï¼Œå»å¼€æºï¼Œç¤¾åŒºï¼Œçº¿ä¸‹ç­‰å»æ¥è§¦ï¼Œè¿™æ ·æ¸æ¸çš„ä¼šæå‡è‡ªèº«çš„è§†é‡ï¼›ä¹Ÿä¼šå¯¹è‡ªèº«çš„é‚£äº›ä¸è¶³è¿›è¡Œå¡«è¡¥ï¼›</p>\n<p>ä½†æˆ‘è§‰å¾—èƒ½åŠ›æ²‰æ·€ï¼Œå¹¶ä¸æ˜¯æŒ‡ä»€ä¹ˆï¼›</p>\n<p>èƒ½åŠ›æ²‰æ·€ï¼Œæ˜¯æŒ‡å¯¹è‡ªèº«èƒ½åŠ›è¿›è¡Œæå‡ï¼Œæå‡åˆ°ä¸€å®šç¨‹åº¦ï¼Œå¯ä»¥è¿›è¡Œä¸€äº›äº‹æƒ…ï¼›</p>\n<p>å°±æ‹¿ä¸ªä¾‹å­æ¥è®²å§ï¼š</p>\n<p>å° A åœ¨å·¥ä½œä¸­é€šè¿‡è‡ªå·±çš„åŠªåŠ›å®Œæˆçš„ä¸€ä¸ªé¡¹ç›®ï¼Œä½†æ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¼šå‘ç°ä¸€ç³»åˆ—é—®é¢˜ï¼›è€Œè¿™ä¸ªæ—¶å€™ï¼Œå° A å°±åªèƒ½é€šè¿‡è‡ªå·±å¯¹é—®é¢˜çš„åˆ†æï¼Œä»¥åŠè‡ªå·±å¯¹é—®é¢˜çš„è§£å†³ï¼Œæ¥å¯¹é¡¹ç›®è¿›è¡Œå‡çº§ï¼›</p>\n<p>å¦‚æœåœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¸æ–­æ²‰æ·€è‡ªå·±ï¼Œé‚£ä¹ˆå°±ä¼šä¸çŸ¥è§‰çš„å¯Ÿè§‰ä¸€äº›é—®é¢˜ï¼ŒåŒæ—¶åœ¨å¼€å‘ä¸­å°½é‡é¿å…æ‰ï¼Œå½“ç„¶è¿™æ˜¯å¯¹ä¸ªäººæ¥è®²ï¼›</p>\n<p>å½“ç„¶è¿™äº›å·¥ä½œä¸­ä½ ä¼šè§‰çš„ç–²æƒ«ï¼Œå› ä¸ºåœ¨ä½ çš„å¼€å‘ç»éªŒä¸­å·²ç»æœ‰äº†ç±»ä¼¼çš„æ¡ˆä¾‹ï¼Œå°±ä¼šå¥—ç”¨ä¹‹å‰çš„ç»éªŒï¼Œä¸çŸ¥ä¸è§‰è‡ªå·±çš„èƒ½åŠ›å¹¶æ²¡æœ‰æå‡ï¼›</p>\n<p>è€Œæˆ‘è§‰å¾—ï¼Œèƒ½åŠ›çš„æ²‰æ·€æ˜¯å¯¹ä¹‹å‰æ–¹æ¡ˆçš„ä¸€ç§ç¡®å®šï¼Œå½“ä½ ç¡®å®šè¯¥æ–¹æ¡ˆè¿˜æœ‰å®Œå–„çš„æƒ…å†µä¸‹ï¼Œä½ æ‰èƒ½å¯¹è¿™ä¸ªæ–¹æ¡ˆè¿›è¡Œå‡çº§ï¼›ä¹Ÿè®¸æ²‰æ·€å°±æ˜¯ä¸æ–­ç´¯ç§¯çš„ä¸€ä¸ªè¿‡ç¨‹ï¼›</p>\n<h2 id=\"æŠ€èƒ½æå‡\"><a href=\"#æŠ€èƒ½æå‡\" class=\"headerlink\" title=\"æŠ€èƒ½æå‡\"></a>æŠ€èƒ½æå‡</h2><p>ä¿©å¹´æ—¶é—´å¯¹å…¬å¸ï¼Œä¸ªäººçš„æƒ…å†µç†Ÿæ‚‰æŒæ¡ï¼Œä½†è‡ªå·±æœ‰ä¸æƒ³å±€é™äºå•ä¸€çš„å‰ç«¯é¢†åŸŸï¼Œæ‰€ä»¥éœ€è¦æå‡ä¸€äº›æŠ€èƒ½ï¼›</p>\n<p>ä¿©å¹´æ—¶é—´è‡ªå·±ä¹ŸåŠ¨æ‰‹å¼€å‘åˆ°ä¸Šçº¿è¿‡ä¸€äº›é¡¹ç›®ï¼Œåç«¯æœåŠ¡ä¹Ÿä»<code>express</code>æ¢æˆäº†<code>nest</code>ï¼Œæ•°æ®åº“è¿˜æ˜¯æƒ³ç”¨<code>mongodb</code>ï¼›</p>\n<p>å…¶ä¸­ï¼Œè‡ªå·±ä¹Ÿä½¿ç”¨<code>jenkins</code>åšè¿‡ CI&#x2F;CD è¿›è¡Œé¡¹ç›®éƒ¨ç½²ï¼›ä½†æ˜¯æ„Ÿè§‰è¿˜æ˜¯ä¸å¤Ÿï¼Œéœ€è¦ç»§ç»­æå‡ï¼›</p>\n<p>äºæ˜¯ï¼Œå°†ä¸€éƒ¨åˆ†æ—¶é—´èŠ±åœ¨ä»£ç åº•å±‚çš„å°è£…ä¸Šï¼Œæ¯”å¦‚ï¼šå†™è‡ªå·±çš„ä¸€å¥—<code>utils å’Œ åå°ç®¡ç†ç³»ç»Ÿ</code></p>\n<p>å› ä¸º<code>utils</code>å’Œ<code>åå°ç®¡ç†ç³»ç»Ÿ</code>éƒ½æ˜¯è‡ªå·±å†™çš„ï¼Œæ‰€ä»¥å¯ä»¥è‡ªå·±æ§åˆ¶ï¼Œå¯ä»¥è‡ªå·±å†™ï¼Œå¯ä»¥è‡ªå·±æ”¹ï¼Œå¯ä»¥è‡ªå·±åˆ ï¼›</p>\n<p>ä½†æ˜¯åœ¨å·¥ä½œä¸­å¤©å¤©æ˜¯åšè¿™ä¸ªçš„ï¼Œå¯¹å®ƒæ¥è®²ä¹Ÿæ˜¯æ¯”è¾ƒç†Ÿæ‚‰çš„ï¼›</p>\n<p>å½“ç„¶è‡ªå·±ä¹Ÿå¼€å‘è¿‡ä¸€äº›å¼€æºçš„é¡¹ç›®ï¼Œ<code>æ—¥å¿—ä¸ŠæŠ¥</code>åŒ…å«äº†ä¸€äº›æ•°æ®ç»Ÿè®¡ï¼Œæ€§èƒ½ç›‘æ§ç­‰ï¼›</p>\n<p>è‡ªå·±åŠ¨æ‰‹ä¹Ÿå®è·µè¿‡<code>rsut + vue</code>æ¡Œé¢ç«¯çš„å¼€å‘ç­‰ç­‰ï¼›</p>\n<p>åœ¨ä¸åŒé¢†å–çš„æ¥è§¦ï¼Œå‘ç°è‡ªå·±åœ¨ä¸åŒé—®é¢˜çš„è§£å†³æ–¹æ¡ˆè¿˜æ˜¯æ€è€ƒä¸­ä¹Ÿå°±ä¸ä¸€æ ·äº†ï¼›</p>\n<p>ç›¸æ¯”å‰ä¸‰å¹´ï¼Œè‡ªå·±çš„èƒ½åŠ›ä¸»è¦æ˜¯æå‡åœ¨ä¸åŒçš„é¢†åŸŸæ¥è§¦ä»¥åŠä¸€äº›æ–¹æ¡ˆçš„æ¥è§¦ï¼›ä¸šåŠ¡å¼€å‘éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå› ä¸ºæ˜¯å†…éƒ¨ç³»ç»Ÿå¹¶æ²¡æœ‰é‚£äº›èŠ±é‡Œèƒ¡å“¨çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä¸šåŠ¡è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼›</p>\n<p>åæœŸè¿˜æ˜¯çœ‹ä¸ªäººæ—¶é—´å»æ€»ç»“å¼€å‘ä¸€äº›å·¥å…·ç­‰ç­‰ï¼›</p>\n<h2 id=\"å…´è¶£çˆ±å¥½\"><a href=\"#å…´è¶£çˆ±å¥½\" class=\"headerlink\" title=\"å…´è¶£çˆ±å¥½\"></a>å…´è¶£çˆ±å¥½</h2><p>ä¿©å¹´æ—¶é—´ï¼Œé™¤äº†å·¥ä½œä¹‹å¤–ï¼Œè¿˜æ˜¯æœ‰è‡ªå·±æ„Ÿå…´è¶£çš„é¢†åŸŸï¼›</p>\n<ol>\n<li>æ‹æ‘„ï¼šè‡ªå·±ä¹Ÿé€šè¿‡çŸ­è§†é¢‘æ¥è§¦è¿‡ä¸€æ®µæ—¶é—´çš„æ‹æ‘„ï¼Œå°±æ˜¯æ‹¿ç€æ‰‹æœºè¿›è¡Œæ‹ç…§ï¼›åŒæ—¶ä¹Ÿä¼šåœ¨æŠ–éŸ³ä¸Šè¿›è¡Œä¸€äº›æ‹æ‘„åˆ†äº«è®°å½•è‡ªèº«çš„ç”Ÿæ´»</li>\n<li>éŸ³ä¹ï¼šè‡ªå·±å–œæ¬¢å¬ä¸€äº›éŸ³ä¹ï¼Œä½†æ˜¯æœ€è¿‘æ¯”è¾ƒå–œæ¬¢å¬ä¸€äº›ç”µå­éŸ³ä¹ï¼›</li>\n<li>é˜…è¯»ï¼šæœ€è¿‘åœ¨çœ‹ä¸€äº›æŠ€æœ¯ä¹¦ç±ï¼ŒåŒæ—¶ä¹Ÿåœ¨çœ‹ä¸€äº›æŠ€æœ¯æ–‡ç« ï¼ŒåŒæ—¶ä¹Ÿåœ¨çœ‹ä¸€äº›æŠ€æœ¯ä¹¦ç±ï¼›</li>\n<li>å–èŒ¶ï¼šè¿™æ˜¯æœ€è¿‘å–œæ¬¢çš„ï¼Œä¹‹å‰æ€»æ˜¯æƒ³å–ç‚¹ä»€ä¹ˆï¼Œæˆ‘ä¸å–œæ¬¢å’Œé¥®æ–™ï¼Œå–ä¸äº†é…’ï¼Œå°±ä¹°äº†ä¸€äº›æœé…’ï¼Œä½†æ˜¯å–ä¸‹æ¥çš„æ„Ÿè§‰è¿˜å¯ä»¥ä½†æ˜¯ä¸èƒ½ç»å¸¸å–ï¼Œä»·æ ¼è¿˜ä¸ä¾¿å®œï¼›äºæ˜¯æˆ‘å°±æƒ³åˆ°äº†å–èŒ¶ï¼›ä¹‹å‰å–çš„æ˜¯æ­£å±±å°ç§çš„çº¢èŒ¶ï¼Œç°åœ¨å–çš„æ˜¯ä¹Œé¾™èŒ¶ï¼›</li>\n</ol>\n"},{"title":"æŠ€æœ¯è°ƒç ”-github-pacakges","abbrlink":"8a379d90","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\nå‰ç«¯æ—¶é—´åœ¨å¼€å‘ä¸ªäººé¡¹ç›®è¿‡ç¨‹ä¸­, å°†ä¸€äº›å·¥å…·åŒ…æ‹†é™¤å»ï¼Œä»¥ä¾èµ–çš„å½¢å¼å¼•å…¥[`functional-helpers` ](https://github.com/wangxiaoze-view/functional-helpers-lib)\n\nè¿™æ ·å°±ç›´æ¥åœ¨é¡¹ç›®ä¸­`package.json`ä¸­é…ç½®å°±å¥½äº†ï¼›å…³äºå¦‚ä½•é…ç½®è¯·çœ‹[`sim-admin-package.json`](https://github.com/wangxiaoze-view/sim-admin/blob/main/package.json#L37)\n\nä½†æ˜¯ä¸ªäººè§‰å¾—ä¸æ˜¯å¾ˆåˆé€‚ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Œå°±æ˜¯å¼€å‘ä¸€ä¸ªå·¥å…·åº“ï¼Œç„¶åæ‰“åŒ…ï¼Œå°†æ„å»ºçš„äº§ç‰©åˆ†å‘åˆ°å¦å¤–ä¸€ä¸ªå¼€æºçš„å­˜å‚¨åº“ä¸­ï¼Œè¿™æ ·ä¸æ˜¯å¾ˆæ™ºèƒ½ï¼›æ‰€ä»¥ä¸åˆé€‚ï¼›\n\nç„¶åä»Šå¤©æ˜¯è¯•äº†ä¸€ä¸‹`github packages`ï¼Œå°±æ˜¯ä¸éœ€è¦ä¸Šä¼ åˆ°`npm`, åªéœ€è¦ä¸Šä¼ åˆ°`github package`åŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼›\n\n## å¦‚ä½•åšï¼Ÿ\n\n### ä¿®æ”¹é…ç½®\n\né¦–å…ˆï¼Œä½ éœ€è¦ç”³è¯·`token`ï¼Œ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7p3nljb7yw.webp)\n\nç”³è¯·æˆåŠŸä¹‹åä¸è¦åˆ·æ–°é¡µé¢ï¼Œå› ä¸ºåˆ·æ–°äº†é¡µé¢`token`å°±æ²¡äº†ï¼Œ`token`çš„æ ¼å¼å¦‚`ghp_xxxxxxx`;\n\nè¿˜éœ€è¦è®¾ç½®å…¨å±€çš„`.npmrc`ï¼Œ\n\n```bash\n//npm.pkg.github.com/:_authToken=ghp_xxxxxxx\n```\n\nå…¶æ¬¡ï¼Œéœ€è¦ä¿®æ”¹é¡¹ç›®é…ç½®`pacakge.json`ï¼š\n\n```json\n{\n\t\"name\": \"@wangxiaoze-view/functional-helpers\",\n\t\"publishConfig\": {\n\t\t\"registry\": \"https://npm.pkg.github.com\"\n\t}\n}\n```\n\nä¸»è¦ä¿®æ”¹ä¿©ä¸ªåœ°æ–¹,\n\n- **name:** æ ¼å¼ä¸º `@ä½ çš„githubç”¨æˆ·å/ä½ çš„é¡¹ç›®å`, `\"private\": true`å¯ä»¥å»æ‰\n- **publishConfigï¼š** å‘å¸ƒçš„åœ°å€\n\né…ç½®å®Œæˆä¹‹åï¼Œä½¿ç”¨å‘å¸ƒå‘½ä»¤`npm publish`å³å¯ï¼Œè¿™æ ·ç­‰å¾…å‘å¸ƒæˆåŠŸå³å¯ï¼›å› ä¸ºå…¨å±€é…ç½®äº†`//npm.pkg.github.com/:_authToken=ghp_xxxxxxx`, æ‰€ä»¥å°±ä¸éœ€è¦ç™»å½•äº†ï¼›\n\n### è¿›è¡Œå®‰è£…\n\næ–¹å¼ä¸€ï¼š\n\n```bash\n# éœ€è¦æŒ‡å®š registry\nnpm install @ä½ çš„githubç”¨æˆ·å/ä½ çš„é¡¹ç›®å@ç‰ˆæœ¬å·  --registry=https://npm.pkg.github.com\n\n# ä¾‹å¦‚ï¼Œ å½“ç„¶è¿™ä¸ªåŒ…æ˜¯ä¸å­˜åœ¨çš„\nnpm install @wangxiaoze-view/functional-helpers@1.0.0 --registry=https://npm.pkg.github.com\n```\n\næ–¹å¼äºŒï¼š\n\nåœ¨é¡¹ç›®è·Ÿç›®å½•å•ç‹¬è®¾ç½®`.npmrc`\n\n```bash\nregistry=https://npm.pkg.github.com\n```\n\n## å‘ç°çš„é—®é¢˜ï¼Ÿ\n\nå› ä¸ºæˆ‘çš„[`functional-helpers` ](https://github.com/wangxiaoze-view/functional-helpers-lib)ä¸­ç”¨åˆ°äº†å…¶ä»–çš„ä¾èµ–ï¼Œé‚£ä¹ˆæœ‰äº›ä¾èµ–åœ¨`github`ä¸­æ˜¯æ²¡æœ‰çš„ï¼Œé‚£ä¹ˆ`install `çš„æ—¶å€™å°±ä¼šæ˜¾ç¤º`404`;\n\næˆ‘è®¤ä¸ºå°±æ˜¯ï¼šå¦‚æœä½ çš„å·¥å…·æœ‰å¤–éƒ¨ä¾èµ–ï¼Œé‚£ä¹ˆä½ å°±è¦æŸ¥è¯¢ä¸€ä¸‹`github`ä¸­æœ‰æ²¡æœ‰è¿™ä¸ªä¾èµ–ï¼Œæœ‰è¿‡æ²¡æœ‰è¿™ä¸ªä¾èµ–ï¼Œè¿˜æ˜¯è€è€å®å®çš„å‘å¸ƒåˆ°`npm`å§ï¼Œå¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆä½ å¯ä»¥å‘å¸ƒ`github`;\n\n## å‚è€ƒèµ„æ–™\n\n- [ä½¿ç”¨ npm æ³¨å†Œè¡¨](https://docs.github.com/zh/packages/working-with-a-github-packages-registry/working-with-the-npm-registry#publishing-a-package)\n- [å‘å¸ƒä¸å®‰è£… Github Packages](https://blog.csdn.net/u010089686/article/details/110124664)\n","source":"_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/github-pacakges.md","raw":"---\ntitle: æŠ€æœ¯è°ƒç ”-github-pacakges\nabbrlink: 8a379d90\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - æŠ€æœ¯è°ƒç ”\n---\n\n# èƒŒæ™¯\n\nå‰ç«¯æ—¶é—´åœ¨å¼€å‘ä¸ªäººé¡¹ç›®è¿‡ç¨‹ä¸­, å°†ä¸€äº›å·¥å…·åŒ…æ‹†é™¤å»ï¼Œä»¥ä¾èµ–çš„å½¢å¼å¼•å…¥[`functional-helpers` ](https://github.com/wangxiaoze-view/functional-helpers-lib)\n\nè¿™æ ·å°±ç›´æ¥åœ¨é¡¹ç›®ä¸­`package.json`ä¸­é…ç½®å°±å¥½äº†ï¼›å…³äºå¦‚ä½•é…ç½®è¯·çœ‹[`sim-admin-package.json`](https://github.com/wangxiaoze-view/sim-admin/blob/main/package.json#L37)\n\nä½†æ˜¯ä¸ªäººè§‰å¾—ä¸æ˜¯å¾ˆåˆé€‚ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Œå°±æ˜¯å¼€å‘ä¸€ä¸ªå·¥å…·åº“ï¼Œç„¶åæ‰“åŒ…ï¼Œå°†æ„å»ºçš„äº§ç‰©åˆ†å‘åˆ°å¦å¤–ä¸€ä¸ªå¼€æºçš„å­˜å‚¨åº“ä¸­ï¼Œè¿™æ ·ä¸æ˜¯å¾ˆæ™ºèƒ½ï¼›æ‰€ä»¥ä¸åˆé€‚ï¼›\n\nç„¶åä»Šå¤©æ˜¯è¯•äº†ä¸€ä¸‹`github packages`ï¼Œå°±æ˜¯ä¸éœ€è¦ä¸Šä¼ åˆ°`npm`, åªéœ€è¦ä¸Šä¼ åˆ°`github package`åŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼›\n\n## å¦‚ä½•åšï¼Ÿ\n\n### ä¿®æ”¹é…ç½®\n\né¦–å…ˆï¼Œä½ éœ€è¦ç”³è¯·`token`ï¼Œ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7p3nljb7yw.webp)\n\nç”³è¯·æˆåŠŸä¹‹åä¸è¦åˆ·æ–°é¡µé¢ï¼Œå› ä¸ºåˆ·æ–°äº†é¡µé¢`token`å°±æ²¡äº†ï¼Œ`token`çš„æ ¼å¼å¦‚`ghp_xxxxxxx`;\n\nè¿˜éœ€è¦è®¾ç½®å…¨å±€çš„`.npmrc`ï¼Œ\n\n```bash\n//npm.pkg.github.com/:_authToken=ghp_xxxxxxx\n```\n\nå…¶æ¬¡ï¼Œéœ€è¦ä¿®æ”¹é¡¹ç›®é…ç½®`pacakge.json`ï¼š\n\n```json\n{\n\t\"name\": \"@wangxiaoze-view/functional-helpers\",\n\t\"publishConfig\": {\n\t\t\"registry\": \"https://npm.pkg.github.com\"\n\t}\n}\n```\n\nä¸»è¦ä¿®æ”¹ä¿©ä¸ªåœ°æ–¹,\n\n- **name:** æ ¼å¼ä¸º `@ä½ çš„githubç”¨æˆ·å/ä½ çš„é¡¹ç›®å`, `\"private\": true`å¯ä»¥å»æ‰\n- **publishConfigï¼š** å‘å¸ƒçš„åœ°å€\n\né…ç½®å®Œæˆä¹‹åï¼Œä½¿ç”¨å‘å¸ƒå‘½ä»¤`npm publish`å³å¯ï¼Œè¿™æ ·ç­‰å¾…å‘å¸ƒæˆåŠŸå³å¯ï¼›å› ä¸ºå…¨å±€é…ç½®äº†`//npm.pkg.github.com/:_authToken=ghp_xxxxxxx`, æ‰€ä»¥å°±ä¸éœ€è¦ç™»å½•äº†ï¼›\n\n### è¿›è¡Œå®‰è£…\n\næ–¹å¼ä¸€ï¼š\n\n```bash\n# éœ€è¦æŒ‡å®š registry\nnpm install @ä½ çš„githubç”¨æˆ·å/ä½ çš„é¡¹ç›®å@ç‰ˆæœ¬å·  --registry=https://npm.pkg.github.com\n\n# ä¾‹å¦‚ï¼Œ å½“ç„¶è¿™ä¸ªåŒ…æ˜¯ä¸å­˜åœ¨çš„\nnpm install @wangxiaoze-view/functional-helpers@1.0.0 --registry=https://npm.pkg.github.com\n```\n\næ–¹å¼äºŒï¼š\n\nåœ¨é¡¹ç›®è·Ÿç›®å½•å•ç‹¬è®¾ç½®`.npmrc`\n\n```bash\nregistry=https://npm.pkg.github.com\n```\n\n## å‘ç°çš„é—®é¢˜ï¼Ÿ\n\nå› ä¸ºæˆ‘çš„[`functional-helpers` ](https://github.com/wangxiaoze-view/functional-helpers-lib)ä¸­ç”¨åˆ°äº†å…¶ä»–çš„ä¾èµ–ï¼Œé‚£ä¹ˆæœ‰äº›ä¾èµ–åœ¨`github`ä¸­æ˜¯æ²¡æœ‰çš„ï¼Œé‚£ä¹ˆ`install `çš„æ—¶å€™å°±ä¼šæ˜¾ç¤º`404`;\n\næˆ‘è®¤ä¸ºå°±æ˜¯ï¼šå¦‚æœä½ çš„å·¥å…·æœ‰å¤–éƒ¨ä¾èµ–ï¼Œé‚£ä¹ˆä½ å°±è¦æŸ¥è¯¢ä¸€ä¸‹`github`ä¸­æœ‰æ²¡æœ‰è¿™ä¸ªä¾èµ–ï¼Œæœ‰è¿‡æ²¡æœ‰è¿™ä¸ªä¾èµ–ï¼Œè¿˜æ˜¯è€è€å®å®çš„å‘å¸ƒåˆ°`npm`å§ï¼Œå¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆä½ å¯ä»¥å‘å¸ƒ`github`;\n\n## å‚è€ƒèµ„æ–™\n\n- [ä½¿ç”¨ npm æ³¨å†Œè¡¨](https://docs.github.com/zh/packages/working-with-a-github-packages-registry/working-with-the-npm-registry#publishing-a-package)\n- [å‘å¸ƒä¸å®‰è£… Github Packages](https://blog.csdn.net/u010089686/article/details/110124664)\n","slug":"æ€»ç»“/æŠ€æœ¯è°ƒç ”/github-pacakges","published":1,"updated":"2025-03-13T10:16:17.134Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0ir000cfg9mbl9cdeef","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>å‰ç«¯æ—¶é—´åœ¨å¼€å‘ä¸ªäººé¡¹ç›®è¿‡ç¨‹ä¸­, å°†ä¸€äº›å·¥å…·åŒ…æ‹†é™¤å»ï¼Œä»¥ä¾èµ–çš„å½¢å¼å¼•å…¥<a href=\"https://github.com/wangxiaoze-view/functional-helpers-lib\"><code>functional-helpers</code> </a></p>\n<p>è¿™æ ·å°±ç›´æ¥åœ¨é¡¹ç›®ä¸­<code>package.json</code>ä¸­é…ç½®å°±å¥½äº†ï¼›å…³äºå¦‚ä½•é…ç½®è¯·çœ‹<a href=\"https://github.com/wangxiaoze-view/sim-admin/blob/main/package.json#L37\"><code>sim-admin-package.json</code></a></p>\n<p>ä½†æ˜¯ä¸ªäººè§‰å¾—ä¸æ˜¯å¾ˆåˆé€‚ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Œå°±æ˜¯å¼€å‘ä¸€ä¸ªå·¥å…·åº“ï¼Œç„¶åæ‰“åŒ…ï¼Œå°†æ„å»ºçš„äº§ç‰©åˆ†å‘åˆ°å¦å¤–ä¸€ä¸ªå¼€æºçš„å­˜å‚¨åº“ä¸­ï¼Œè¿™æ ·ä¸æ˜¯å¾ˆæ™ºèƒ½ï¼›æ‰€ä»¥ä¸åˆé€‚ï¼›</p>\n<p>ç„¶åä»Šå¤©æ˜¯è¯•äº†ä¸€ä¸‹<code>github packages</code>ï¼Œå°±æ˜¯ä¸éœ€è¦ä¸Šä¼ åˆ°<code>npm</code>, åªéœ€è¦ä¸Šä¼ åˆ°<code>github package</code>åŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼›</p>\n<h2 id=\"å¦‚ä½•åšï¼Ÿ\"><a href=\"#å¦‚ä½•åšï¼Ÿ\" class=\"headerlink\" title=\"å¦‚ä½•åšï¼Ÿ\"></a>å¦‚ä½•åšï¼Ÿ</h2><h3 id=\"ä¿®æ”¹é…ç½®\"><a href=\"#ä¿®æ”¹é…ç½®\" class=\"headerlink\" title=\"ä¿®æ”¹é…ç½®\"></a>ä¿®æ”¹é…ç½®</h3><p>é¦–å…ˆï¼Œä½ éœ€è¦ç”³è¯·<code>token</code>ï¼Œ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7p3nljb7yw.webp\" alt=\"x\"></p>\n<p>ç”³è¯·æˆåŠŸä¹‹åä¸è¦åˆ·æ–°é¡µé¢ï¼Œå› ä¸ºåˆ·æ–°äº†é¡µé¢<code>token</code>å°±æ²¡äº†ï¼Œ<code>token</code>çš„æ ¼å¼å¦‚<code>ghp_xxxxxxx</code>;</p>\n<p>è¿˜éœ€è¦è®¾ç½®å…¨å±€çš„<code>.npmrc</code>ï¼Œ</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//npm.pkg.github.com/:_authToken=ghp_xxxxxxx</span><br></pre></td></tr></table></figure>\n\n<p>å…¶æ¬¡ï¼Œéœ€è¦ä¿®æ”¹é¡¹ç›®é…ç½®<code>pacakge.json</code>ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;@wangxiaoze-view/functional-helpers&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;publishConfig&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;registry&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;https://npm.pkg.github.com&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸»è¦ä¿®æ”¹ä¿©ä¸ªåœ°æ–¹,</p>\n<ul>\n<li><strong>name:</strong> æ ¼å¼ä¸º <code>@ä½ çš„githubç”¨æˆ·å/ä½ çš„é¡¹ç›®å</code>, <code>&quot;private&quot;: true</code>å¯ä»¥å»æ‰</li>\n<li><strong>publishConfigï¼š</strong> å‘å¸ƒçš„åœ°å€</li>\n</ul>\n<p>é…ç½®å®Œæˆä¹‹åï¼Œä½¿ç”¨å‘å¸ƒå‘½ä»¤<code>npm publish</code>å³å¯ï¼Œè¿™æ ·ç­‰å¾…å‘å¸ƒæˆåŠŸå³å¯ï¼›å› ä¸ºå…¨å±€é…ç½®äº†<code>//npm.pkg.github.com/:_authToken=ghp_xxxxxxx</code>, æ‰€ä»¥å°±ä¸éœ€è¦ç™»å½•äº†ï¼›</p>\n<h3 id=\"è¿›è¡Œå®‰è£…\"><a href=\"#è¿›è¡Œå®‰è£…\" class=\"headerlink\" title=\"è¿›è¡Œå®‰è£…\"></a>è¿›è¡Œå®‰è£…</h3><p>æ–¹å¼ä¸€ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># éœ€è¦æŒ‡å®š registry</span></span><br><span class=\"line\">npm install @ä½ çš„githubç”¨æˆ·å/ä½ çš„é¡¹ç›®å@ç‰ˆæœ¬å·  --registry=https://npm.pkg.github.com</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ä¾‹å¦‚ï¼Œ å½“ç„¶è¿™ä¸ªåŒ…æ˜¯ä¸å­˜åœ¨çš„</span></span><br><span class=\"line\">npm install @wangxiaoze-view/functional-helpers@1.0.0 --registry=https://npm.pkg.github.com</span><br></pre></td></tr></table></figure>\n\n<p>æ–¹å¼äºŒï¼š</p>\n<p>åœ¨é¡¹ç›®è·Ÿç›®å½•å•ç‹¬è®¾ç½®<code>.npmrc</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">registry=https://npm.pkg.github.com</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å‘ç°çš„é—®é¢˜ï¼Ÿ\"><a href=\"#å‘ç°çš„é—®é¢˜ï¼Ÿ\" class=\"headerlink\" title=\"å‘ç°çš„é—®é¢˜ï¼Ÿ\"></a>å‘ç°çš„é—®é¢˜ï¼Ÿ</h2><p>å› ä¸ºæˆ‘çš„<a href=\"https://github.com/wangxiaoze-view/functional-helpers-lib\"><code>functional-helpers</code> </a>ä¸­ç”¨åˆ°äº†å…¶ä»–çš„ä¾èµ–ï¼Œé‚£ä¹ˆæœ‰äº›ä¾èµ–åœ¨<code>github</code>ä¸­æ˜¯æ²¡æœ‰çš„ï¼Œé‚£ä¹ˆ<code>install </code>çš„æ—¶å€™å°±ä¼šæ˜¾ç¤º<code>404</code>;</p>\n<p>æˆ‘è®¤ä¸ºå°±æ˜¯ï¼šå¦‚æœä½ çš„å·¥å…·æœ‰å¤–éƒ¨ä¾èµ–ï¼Œé‚£ä¹ˆä½ å°±è¦æŸ¥è¯¢ä¸€ä¸‹<code>github</code>ä¸­æœ‰æ²¡æœ‰è¿™ä¸ªä¾èµ–ï¼Œæœ‰è¿‡æ²¡æœ‰è¿™ä¸ªä¾èµ–ï¼Œè¿˜æ˜¯è€è€å®å®çš„å‘å¸ƒåˆ°<code>npm</code>å§ï¼Œå¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆä½ å¯ä»¥å‘å¸ƒ<code>github</code>;</p>\n<h2 id=\"å‚è€ƒèµ„æ–™\"><a href=\"#å‚è€ƒèµ„æ–™\" class=\"headerlink\" title=\"å‚è€ƒèµ„æ–™\"></a>å‚è€ƒèµ„æ–™</h2><ul>\n<li><a href=\"https://docs.github.com/zh/packages/working-with-a-github-packages-registry/working-with-the-npm-registry#publishing-a-package\">ä½¿ç”¨ npm æ³¨å†Œè¡¨</a></li>\n<li><a href=\"https://blog.csdn.net/u010089686/article/details/110124664\">å‘å¸ƒä¸å®‰è£… Github Packages</a></li>\n</ul>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>å‰ç«¯æ—¶é—´åœ¨å¼€å‘ä¸ªäººé¡¹ç›®è¿‡ç¨‹ä¸­, å°†ä¸€äº›å·¥å…·åŒ…æ‹†é™¤å»ï¼Œä»¥ä¾èµ–çš„å½¢å¼å¼•å…¥<a href=\"https://github.com/wangxiaoze-view/functional-helpers-lib\"><code>functional-helpers</code> </a></p>\n<p>è¿™æ ·å°±ç›´æ¥åœ¨é¡¹ç›®ä¸­<code>package.json</code>ä¸­é…ç½®å°±å¥½äº†ï¼›å…³äºå¦‚ä½•é…ç½®è¯·çœ‹<a href=\"https://github.com/wangxiaoze-view/sim-admin/blob/main/package.json#L37\"><code>sim-admin-package.json</code></a></p>\n<p>ä½†æ˜¯ä¸ªäººè§‰å¾—ä¸æ˜¯å¾ˆåˆé€‚ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Œå°±æ˜¯å¼€å‘ä¸€ä¸ªå·¥å…·åº“ï¼Œç„¶åæ‰“åŒ…ï¼Œå°†æ„å»ºçš„äº§ç‰©åˆ†å‘åˆ°å¦å¤–ä¸€ä¸ªå¼€æºçš„å­˜å‚¨åº“ä¸­ï¼Œè¿™æ ·ä¸æ˜¯å¾ˆæ™ºèƒ½ï¼›æ‰€ä»¥ä¸åˆé€‚ï¼›</p>\n<p>ç„¶åä»Šå¤©æ˜¯è¯•äº†ä¸€ä¸‹<code>github packages</code>ï¼Œå°±æ˜¯ä¸éœ€è¦ä¸Šä¼ åˆ°<code>npm</code>, åªéœ€è¦ä¸Šä¼ åˆ°<code>github package</code>åŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼›</p>\n<h2 id=\"å¦‚ä½•åšï¼Ÿ\"><a href=\"#å¦‚ä½•åšï¼Ÿ\" class=\"headerlink\" title=\"å¦‚ä½•åšï¼Ÿ\"></a>å¦‚ä½•åšï¼Ÿ</h2><h3 id=\"ä¿®æ”¹é…ç½®\"><a href=\"#ä¿®æ”¹é…ç½®\" class=\"headerlink\" title=\"ä¿®æ”¹é…ç½®\"></a>ä¿®æ”¹é…ç½®</h3><p>é¦–å…ˆï¼Œä½ éœ€è¦ç”³è¯·<code>token</code>ï¼Œ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7p3nljb7yw.webp\" alt=\"x\"></p>\n<p>ç”³è¯·æˆåŠŸä¹‹åä¸è¦åˆ·æ–°é¡µé¢ï¼Œå› ä¸ºåˆ·æ–°äº†é¡µé¢<code>token</code>å°±æ²¡äº†ï¼Œ<code>token</code>çš„æ ¼å¼å¦‚<code>ghp_xxxxxxx</code>;</p>\n<p>è¿˜éœ€è¦è®¾ç½®å…¨å±€çš„<code>.npmrc</code>ï¼Œ</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//npm.pkg.github.com/:_authToken=ghp_xxxxxxx</span><br></pre></td></tr></table></figure>\n\n<p>å…¶æ¬¡ï¼Œéœ€è¦ä¿®æ”¹é¡¹ç›®é…ç½®<code>pacakge.json</code>ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;@wangxiaoze-view/functional-helpers&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;publishConfig&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;registry&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;https://npm.pkg.github.com&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸»è¦ä¿®æ”¹ä¿©ä¸ªåœ°æ–¹,</p>\n<ul>\n<li><strong>name:</strong> æ ¼å¼ä¸º <code>@ä½ çš„githubç”¨æˆ·å/ä½ çš„é¡¹ç›®å</code>, <code>&quot;private&quot;: true</code>å¯ä»¥å»æ‰</li>\n<li><strong>publishConfigï¼š</strong> å‘å¸ƒçš„åœ°å€</li>\n</ul>\n<p>é…ç½®å®Œæˆä¹‹åï¼Œä½¿ç”¨å‘å¸ƒå‘½ä»¤<code>npm publish</code>å³å¯ï¼Œè¿™æ ·ç­‰å¾…å‘å¸ƒæˆåŠŸå³å¯ï¼›å› ä¸ºå…¨å±€é…ç½®äº†<code>//npm.pkg.github.com/:_authToken=ghp_xxxxxxx</code>, æ‰€ä»¥å°±ä¸éœ€è¦ç™»å½•äº†ï¼›</p>\n<h3 id=\"è¿›è¡Œå®‰è£…\"><a href=\"#è¿›è¡Œå®‰è£…\" class=\"headerlink\" title=\"è¿›è¡Œå®‰è£…\"></a>è¿›è¡Œå®‰è£…</h3><p>æ–¹å¼ä¸€ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># éœ€è¦æŒ‡å®š registry</span></span><br><span class=\"line\">npm install @ä½ çš„githubç”¨æˆ·å/ä½ çš„é¡¹ç›®å@ç‰ˆæœ¬å·  --registry=https://npm.pkg.github.com</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ä¾‹å¦‚ï¼Œ å½“ç„¶è¿™ä¸ªåŒ…æ˜¯ä¸å­˜åœ¨çš„</span></span><br><span class=\"line\">npm install @wangxiaoze-view/functional-helpers@1.0.0 --registry=https://npm.pkg.github.com</span><br></pre></td></tr></table></figure>\n\n<p>æ–¹å¼äºŒï¼š</p>\n<p>åœ¨é¡¹ç›®è·Ÿç›®å½•å•ç‹¬è®¾ç½®<code>.npmrc</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">registry=https://npm.pkg.github.com</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å‘ç°çš„é—®é¢˜ï¼Ÿ\"><a href=\"#å‘ç°çš„é—®é¢˜ï¼Ÿ\" class=\"headerlink\" title=\"å‘ç°çš„é—®é¢˜ï¼Ÿ\"></a>å‘ç°çš„é—®é¢˜ï¼Ÿ</h2><p>å› ä¸ºæˆ‘çš„<a href=\"https://github.com/wangxiaoze-view/functional-helpers-lib\"><code>functional-helpers</code> </a>ä¸­ç”¨åˆ°äº†å…¶ä»–çš„ä¾èµ–ï¼Œé‚£ä¹ˆæœ‰äº›ä¾èµ–åœ¨<code>github</code>ä¸­æ˜¯æ²¡æœ‰çš„ï¼Œé‚£ä¹ˆ<code>install </code>çš„æ—¶å€™å°±ä¼šæ˜¾ç¤º<code>404</code>;</p>\n<p>æˆ‘è®¤ä¸ºå°±æ˜¯ï¼šå¦‚æœä½ çš„å·¥å…·æœ‰å¤–éƒ¨ä¾èµ–ï¼Œé‚£ä¹ˆä½ å°±è¦æŸ¥è¯¢ä¸€ä¸‹<code>github</code>ä¸­æœ‰æ²¡æœ‰è¿™ä¸ªä¾èµ–ï¼Œæœ‰è¿‡æ²¡æœ‰è¿™ä¸ªä¾èµ–ï¼Œè¿˜æ˜¯è€è€å®å®çš„å‘å¸ƒåˆ°<code>npm</code>å§ï¼Œå¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆä½ å¯ä»¥å‘å¸ƒ<code>github</code>;</p>\n<h2 id=\"å‚è€ƒèµ„æ–™\"><a href=\"#å‚è€ƒèµ„æ–™\" class=\"headerlink\" title=\"å‚è€ƒèµ„æ–™\"></a>å‚è€ƒèµ„æ–™</h2><ul>\n<li><a href=\"https://docs.github.com/zh/packages/working-with-a-github-packages-registry/working-with-the-npm-registry#publishing-a-package\">ä½¿ç”¨ npm æ³¨å†Œè¡¨</a></li>\n<li><a href=\"https://blog.csdn.net/u010089686/article/details/110124664\">å‘å¸ƒä¸å®‰è£… Github Packages</a></li>\n</ul>\n"},{"title":"æŠ€æœ¯è°ƒç ”-nvm1.1.12ç‰ˆæœ¬çš„ä¸€ä¸ªé—®é¢˜","abbrlink":"1840e493","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\næœ€è¿‘æ²¡æœ‰æ—¶é—´æ›´æ–°ç½‘ç«™ï¼Œæ˜¯åœ¨å¼€å‘ä¸€ä¸ªæ¡Œé¢ç«¯çš„åº”ç”¨å·¥å…·ï¼›æ¡Œé¢ç«¯çš„å·¥å…·ä½¿ç”¨ Node+vue å¼€å‘çš„ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ node+nvm çš„æ—¶å€™ä¼šæœ‰ä¸‹é¢çš„ä¸€ç§æƒ…å†µï¼›\n\nå› ä¸º`nvm`çš„ç‰ˆæœ¬åœ¨[github](https://github.com/coreybutler/nvm-windows)çš„ç‰ˆæœ¬ä¸º`1.1.12`ä¹Ÿæ˜¯æœ€æ–°ç‰ˆæœ¬çš„ï¼›ä½†æ˜¯åœ¨æœ€æ–°ç‰ˆæœ¬çš„ä½¿ç”¨çš„æ—¶å€™ï¼Œä¼šæŠ¥é”™ï¼›\n\n```js\nconst { exec, spawn } = require(\"chaild_process\");\n\nconst process = exec(\"nvm ls\", { shell: \"cmd\" });\n\n// or\n\nspawn(\"nvm\", [\"ls\"], { shell: \"cmd\" });\n```\n\nè¿™ä¸€æ®µä»£ç å°±æ˜¯å°±æ˜¯é€šè¿‡`node`æ“ä½œ`nvm`ï¼Œä½†é’ˆå¯¹äº`1.1.11`ç‰ˆæœ¬æ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯`1.1.12`ä¼šæç¤º`NVM for Windows should be run from a terminal such as CMD or PowerShell.`ä¹Ÿå°±æ˜¯åªèƒ½é€šè¿‡ç»ˆç«¯æ‰“å¼€ï¼›\n\n![å›¾ç‰‡](https://wangxiaoze-view.github.io/picx-images-hosting/images/nvm_20240425095509.png)\n\nç„¶ååœ¨çœ‹äº†ä¸€ä¸‹[æºç ](https://github.com/coreybutler/nvm-windows)ï¼Œå‘ç°`nvm1.1.12`æ˜¯`go`è¯­è¨€ç¼–å†™çš„ï¼›äºæ˜¯æˆ‘åœ¨æºç ä¸­æ‰¾åˆ°äº†è¿™æ ·ä¸€æ®µä»£ç ï¼š\n\n```go\n// å…¥å£æ–‡ä»¶\nfunc main() {\n args := os.Args\n detail := \"\"\n procarch := arch.Validate(env.arch)\n\n  // è¿™é‡Œåˆ¤æ–­äº†ä¸€ä¸‹ç»ˆç«¯çš„æ¡ä»¶\n if !isTerminal() {\n  alert(\"NVM for Windows should be run from a terminal such as CMD or PowerShell.\", \"Terminal Only\")\n  os.Exit(0)\n }\n\n // Capture any additional arguments\n if len(args) > 2 {\n  detail = args[2]\n }\n // .....\n}\n\n\nfunc isTerminal() bool {\n fileInfo, err := os.Stdout.Stat()\n if err != nil {\n  return false\n }\n return (fileInfo.Mode() & os.ModeCharDevice) != 0\n}\n```\n\nå…³äº`isTerminal()`çš„è§£é‡Šå¤§è‡´æ˜¯ï¼š\n\n1. é€šè¿‡ os.Stdout.Stat()è·å–æ ‡å‡†è¾“å‡ºçš„ä¿¡æ¯ã€‚\n2. å¦‚æœè·å–ä¿¡æ¯æ—¶å‡ºç°é”™è¯¯ï¼Œåˆ™è¿”å› falseã€‚\n3. åˆ¤æ–­è·å–åˆ°çš„ä¿¡æ¯ä¸­æ˜¯å¦åŒ…å« os.ModeCharDevice æ¨¡å¼ï¼Œè‹¥åŒ…å«åˆ™è¡¨ç¤ºè¾“å‡ºä¸ºå­—ç¬¦è®¾å¤‡ï¼Œå³ç»ˆç«¯è®¾å¤‡ï¼Œè¿”å› trueï¼›å¦åˆ™è¿”å› falseã€‚\n\nå› ä¸º`node`ç›´æ¥æ“ä½œ`nvm`ä¸æ˜¯åœ¨ç»ˆç«¯å”¤èµ·çš„ï¼Œäºæ˜¯æˆ‘å°±åœ¨`github`æ·»åŠ äº†ä¸€ä¸ª[issues](https://github.com/coreybutler/nvm-windows/issues/1126)\n\nä¸ä¹…åå®˜æ–¹å°±æå‡ºäº†è§£é‡Šï¼š\n\n> This is due to a change that identifies the terminal. The change was added in 1.1.12 and has been nothing but a pain for everyone. It will be reverted in the next release, but it may be a little while before the next release (our code signing cert was locked when trying to automate the code signing process and I'm trying to get it unlocked).\n\n> Revert to 1.1.11 for the time being. The changes between 1.1.11 and 1.1.12 are primarily just debugging. Most people won't experience a difference between the two.\n\nå¤§è‡´æ„æ€å°±æ˜¯:\n\n**è¿™æ˜¯ç”±äºæ ‡è¯†ç»ˆç«¯çš„æ›´æ”¹ã€‚æ›´æ”¹æ˜¯åœ¨ 1.1.12 æ·»åŠ çš„ï¼Œå¯¹æ¯ä¸ªäººæ¥è¯´éƒ½æ˜¯ä¸€ä¸ªç—›è‹¦ã€‚å®ƒå°†åœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬ä¸­æ¢å¤ï¼Œä½†å¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´æ‰èƒ½ä¸‹ä¸€ä¸ªç‰ˆæœ¬ï¼ˆæˆ‘ä»¬çš„ä»£ç ç­¾åè¯ä¹¦åœ¨å°è¯•è‡ªåŠ¨åŒ–ä»£ç ç­¾åè¿‡ç¨‹æ—¶è¢«é”å®šï¼Œæˆ‘æ­£åœ¨å°è¯•è§£é”å®ƒï¼‰ã€‚æš‚æ—¶å›åˆ° 1.1.11ã€‚1.1.11 å’Œ 1.1.12 ä¹‹é—´çš„å˜åŒ–ä¸»è¦åªæ˜¯è°ƒè¯•ã€‚å¤§å¤šæ•°äººä¸ä¼šä½“éªŒåˆ°ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«ã€‚**\n\nå®˜æ–¹è¯´æ˜¯è¦åœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬ä¼šå°†å®ƒä¿®å¤ï¼Œå…·ä½“ä»€ä¹ˆæ—¶å€™ä¼šä¿®å¤åªèƒ½ç­‰ç€äº†ï¼›\n\nç›®å‰æ¥è¯´æƒ³è¦é€šè¿‡`node`æ“ä½œ`nvm`åªèƒ½å°† `1.1.12`é™ç‰ˆæœ¬ï¼Œç„¶åé‡æ–°å®‰è£…`nvm1.1.11`äº†ï¼›\n","source":"_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/nvm1.1.12ç‰ˆæœ¬çš„ä¸€ä¸ªé—®é¢˜.md","raw":"---\ntitle: æŠ€æœ¯è°ƒç ”-nvm1.1.12ç‰ˆæœ¬çš„ä¸€ä¸ªé—®é¢˜\nabbrlink: '1840e493'\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - æŠ€æœ¯è°ƒç ”\n---\n\n# èƒŒæ™¯\n\næœ€è¿‘æ²¡æœ‰æ—¶é—´æ›´æ–°ç½‘ç«™ï¼Œæ˜¯åœ¨å¼€å‘ä¸€ä¸ªæ¡Œé¢ç«¯çš„åº”ç”¨å·¥å…·ï¼›æ¡Œé¢ç«¯çš„å·¥å…·ä½¿ç”¨ Node+vue å¼€å‘çš„ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ node+nvm çš„æ—¶å€™ä¼šæœ‰ä¸‹é¢çš„ä¸€ç§æƒ…å†µï¼›\n\nå› ä¸º`nvm`çš„ç‰ˆæœ¬åœ¨[github](https://github.com/coreybutler/nvm-windows)çš„ç‰ˆæœ¬ä¸º`1.1.12`ä¹Ÿæ˜¯æœ€æ–°ç‰ˆæœ¬çš„ï¼›ä½†æ˜¯åœ¨æœ€æ–°ç‰ˆæœ¬çš„ä½¿ç”¨çš„æ—¶å€™ï¼Œä¼šæŠ¥é”™ï¼›\n\n```js\nconst { exec, spawn } = require(\"chaild_process\");\n\nconst process = exec(\"nvm ls\", { shell: \"cmd\" });\n\n// or\n\nspawn(\"nvm\", [\"ls\"], { shell: \"cmd\" });\n```\n\nè¿™ä¸€æ®µä»£ç å°±æ˜¯å°±æ˜¯é€šè¿‡`node`æ“ä½œ`nvm`ï¼Œä½†é’ˆå¯¹äº`1.1.11`ç‰ˆæœ¬æ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯`1.1.12`ä¼šæç¤º`NVM for Windows should be run from a terminal such as CMD or PowerShell.`ä¹Ÿå°±æ˜¯åªèƒ½é€šè¿‡ç»ˆç«¯æ‰“å¼€ï¼›\n\n![å›¾ç‰‡](https://wangxiaoze-view.github.io/picx-images-hosting/images/nvm_20240425095509.png)\n\nç„¶ååœ¨çœ‹äº†ä¸€ä¸‹[æºç ](https://github.com/coreybutler/nvm-windows)ï¼Œå‘ç°`nvm1.1.12`æ˜¯`go`è¯­è¨€ç¼–å†™çš„ï¼›äºæ˜¯æˆ‘åœ¨æºç ä¸­æ‰¾åˆ°äº†è¿™æ ·ä¸€æ®µä»£ç ï¼š\n\n```go\n// å…¥å£æ–‡ä»¶\nfunc main() {\n args := os.Args\n detail := \"\"\n procarch := arch.Validate(env.arch)\n\n  // è¿™é‡Œåˆ¤æ–­äº†ä¸€ä¸‹ç»ˆç«¯çš„æ¡ä»¶\n if !isTerminal() {\n  alert(\"NVM for Windows should be run from a terminal such as CMD or PowerShell.\", \"Terminal Only\")\n  os.Exit(0)\n }\n\n // Capture any additional arguments\n if len(args) > 2 {\n  detail = args[2]\n }\n // .....\n}\n\n\nfunc isTerminal() bool {\n fileInfo, err := os.Stdout.Stat()\n if err != nil {\n  return false\n }\n return (fileInfo.Mode() & os.ModeCharDevice) != 0\n}\n```\n\nå…³äº`isTerminal()`çš„è§£é‡Šå¤§è‡´æ˜¯ï¼š\n\n1. é€šè¿‡ os.Stdout.Stat()è·å–æ ‡å‡†è¾“å‡ºçš„ä¿¡æ¯ã€‚\n2. å¦‚æœè·å–ä¿¡æ¯æ—¶å‡ºç°é”™è¯¯ï¼Œåˆ™è¿”å› falseã€‚\n3. åˆ¤æ–­è·å–åˆ°çš„ä¿¡æ¯ä¸­æ˜¯å¦åŒ…å« os.ModeCharDevice æ¨¡å¼ï¼Œè‹¥åŒ…å«åˆ™è¡¨ç¤ºè¾“å‡ºä¸ºå­—ç¬¦è®¾å¤‡ï¼Œå³ç»ˆç«¯è®¾å¤‡ï¼Œè¿”å› trueï¼›å¦åˆ™è¿”å› falseã€‚\n\nå› ä¸º`node`ç›´æ¥æ“ä½œ`nvm`ä¸æ˜¯åœ¨ç»ˆç«¯å”¤èµ·çš„ï¼Œäºæ˜¯æˆ‘å°±åœ¨`github`æ·»åŠ äº†ä¸€ä¸ª[issues](https://github.com/coreybutler/nvm-windows/issues/1126)\n\nä¸ä¹…åå®˜æ–¹å°±æå‡ºäº†è§£é‡Šï¼š\n\n> This is due to a change that identifies the terminal. The change was added in 1.1.12 and has been nothing but a pain for everyone. It will be reverted in the next release, but it may be a little while before the next release (our code signing cert was locked when trying to automate the code signing process and I'm trying to get it unlocked).\n\n> Revert to 1.1.11 for the time being. The changes between 1.1.11 and 1.1.12 are primarily just debugging. Most people won't experience a difference between the two.\n\nå¤§è‡´æ„æ€å°±æ˜¯:\n\n**è¿™æ˜¯ç”±äºæ ‡è¯†ç»ˆç«¯çš„æ›´æ”¹ã€‚æ›´æ”¹æ˜¯åœ¨ 1.1.12 æ·»åŠ çš„ï¼Œå¯¹æ¯ä¸ªäººæ¥è¯´éƒ½æ˜¯ä¸€ä¸ªç—›è‹¦ã€‚å®ƒå°†åœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬ä¸­æ¢å¤ï¼Œä½†å¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´æ‰èƒ½ä¸‹ä¸€ä¸ªç‰ˆæœ¬ï¼ˆæˆ‘ä»¬çš„ä»£ç ç­¾åè¯ä¹¦åœ¨å°è¯•è‡ªåŠ¨åŒ–ä»£ç ç­¾åè¿‡ç¨‹æ—¶è¢«é”å®šï¼Œæˆ‘æ­£åœ¨å°è¯•è§£é”å®ƒï¼‰ã€‚æš‚æ—¶å›åˆ° 1.1.11ã€‚1.1.11 å’Œ 1.1.12 ä¹‹é—´çš„å˜åŒ–ä¸»è¦åªæ˜¯è°ƒè¯•ã€‚å¤§å¤šæ•°äººä¸ä¼šä½“éªŒåˆ°ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«ã€‚**\n\nå®˜æ–¹è¯´æ˜¯è¦åœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬ä¼šå°†å®ƒä¿®å¤ï¼Œå…·ä½“ä»€ä¹ˆæ—¶å€™ä¼šä¿®å¤åªèƒ½ç­‰ç€äº†ï¼›\n\nç›®å‰æ¥è¯´æƒ³è¦é€šè¿‡`node`æ“ä½œ`nvm`åªèƒ½å°† `1.1.12`é™ç‰ˆæœ¬ï¼Œç„¶åé‡æ–°å®‰è£…`nvm1.1.11`äº†ï¼›\n","slug":"æ€»ç»“/æŠ€æœ¯è°ƒç ”/nvm1.1.12ç‰ˆæœ¬çš„ä¸€ä¸ªé—®é¢˜","published":1,"updated":"2025-03-13T10:16:17.039Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0ir000dfg9m6ejv74ui","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>æœ€è¿‘æ²¡æœ‰æ—¶é—´æ›´æ–°ç½‘ç«™ï¼Œæ˜¯åœ¨å¼€å‘ä¸€ä¸ªæ¡Œé¢ç«¯çš„åº”ç”¨å·¥å…·ï¼›æ¡Œé¢ç«¯çš„å·¥å…·ä½¿ç”¨ Node+vue å¼€å‘çš„ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ node+nvm çš„æ—¶å€™ä¼šæœ‰ä¸‹é¢çš„ä¸€ç§æƒ…å†µï¼›</p>\n<p>å› ä¸º<code>nvm</code>çš„ç‰ˆæœ¬åœ¨<a href=\"https://github.com/coreybutler/nvm-windows\">github</a>çš„ç‰ˆæœ¬ä¸º<code>1.1.12</code>ä¹Ÿæ˜¯æœ€æ–°ç‰ˆæœ¬çš„ï¼›ä½†æ˜¯åœ¨æœ€æ–°ç‰ˆæœ¬çš„ä½¿ç”¨çš„æ—¶å€™ï¼Œä¼šæŠ¥é”™ï¼›</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; exec, spawn &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;chaild_process&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> process = <span class=\"title function_\">exec</span>(<span class=\"string\">&quot;nvm ls&quot;</span>, &#123; <span class=\"attr\">shell</span>: <span class=\"string\">&quot;cmd&quot;</span> &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// or</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">spawn</span>(<span class=\"string\">&quot;nvm&quot;</span>, [<span class=\"string\">&quot;ls&quot;</span>], &#123; <span class=\"attr\">shell</span>: <span class=\"string\">&quot;cmd&quot;</span> &#125;);</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸€æ®µä»£ç å°±æ˜¯å°±æ˜¯é€šè¿‡<code>node</code>æ“ä½œ<code>nvm</code>ï¼Œä½†é’ˆå¯¹äº<code>1.1.11</code>ç‰ˆæœ¬æ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯<code>1.1.12</code>ä¼šæç¤º<code>NVM for Windows should be run from a terminal such as CMD or PowerShell.</code>ä¹Ÿå°±æ˜¯åªèƒ½é€šè¿‡ç»ˆç«¯æ‰“å¼€ï¼›</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/nvm_20240425095509.png\" alt=\"å›¾ç‰‡\"></p>\n<p>ç„¶ååœ¨çœ‹äº†ä¸€ä¸‹<a href=\"https://github.com/coreybutler/nvm-windows\">æºç </a>ï¼Œå‘ç°<code>nvm1.1.12</code>æ˜¯<code>go</code>è¯­è¨€ç¼–å†™çš„ï¼›äºæ˜¯æˆ‘åœ¨æºç ä¸­æ‰¾åˆ°äº†è¿™æ ·ä¸€æ®µä»£ç ï¼š</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å…¥å£æ–‡ä»¶</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\"> args := os.Args</span><br><span class=\"line\"> detail := <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"> procarch := arch.Validate(env.arch)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// è¿™é‡Œåˆ¤æ–­äº†ä¸€ä¸‹ç»ˆç«¯çš„æ¡ä»¶</span></span><br><span class=\"line\"> <span class=\"keyword\">if</span> !isTerminal() &#123;</span><br><span class=\"line\">  alert(<span class=\"string\">&quot;NVM for Windows should be run from a terminal such as CMD or PowerShell.&quot;</span>, <span class=\"string\">&quot;Terminal Only&quot;</span>)</span><br><span class=\"line\">  os.Exit(<span class=\"number\">0</span>)</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"comment\">// Capture any additional arguments</span></span><br><span class=\"line\"> <span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(args) &gt; <span class=\"number\">2</span> &#123;</span><br><span class=\"line\">  detail = args[<span class=\"number\">2</span>]</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"comment\">// .....</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">isTerminal</span><span class=\"params\">()</span></span> <span class=\"type\">bool</span> &#123;</span><br><span class=\"line\"> fileInfo, err := os.Stdout.Stat()</span><br><span class=\"line\"> <span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> (fileInfo.Mode() &amp; os.ModeCharDevice) != <span class=\"number\">0</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å…³äº<code>isTerminal()</code>çš„è§£é‡Šå¤§è‡´æ˜¯ï¼š</p>\n<ol>\n<li>é€šè¿‡ os.Stdout.Stat()è·å–æ ‡å‡†è¾“å‡ºçš„ä¿¡æ¯ã€‚</li>\n<li>å¦‚æœè·å–ä¿¡æ¯æ—¶å‡ºç°é”™è¯¯ï¼Œåˆ™è¿”å› falseã€‚</li>\n<li>åˆ¤æ–­è·å–åˆ°çš„ä¿¡æ¯ä¸­æ˜¯å¦åŒ…å« os.ModeCharDevice æ¨¡å¼ï¼Œè‹¥åŒ…å«åˆ™è¡¨ç¤ºè¾“å‡ºä¸ºå­—ç¬¦è®¾å¤‡ï¼Œå³ç»ˆç«¯è®¾å¤‡ï¼Œè¿”å› trueï¼›å¦åˆ™è¿”å› falseã€‚</li>\n</ol>\n<p>å› ä¸º<code>node</code>ç›´æ¥æ“ä½œ<code>nvm</code>ä¸æ˜¯åœ¨ç»ˆç«¯å”¤èµ·çš„ï¼Œäºæ˜¯æˆ‘å°±åœ¨<code>github</code>æ·»åŠ äº†ä¸€ä¸ª<a href=\"https://github.com/coreybutler/nvm-windows/issues/1126\">issues</a></p>\n<p>ä¸ä¹…åå®˜æ–¹å°±æå‡ºäº†è§£é‡Šï¼š</p>\n<blockquote>\n<p>This is due to a change that identifies the terminal. The change was added in 1.1.12 and has been nothing but a pain for everyone. It will be reverted in the next release, but it may be a little while before the next release (our code signing cert was locked when trying to automate the code signing process and Iâ€™m trying to get it unlocked).</p>\n</blockquote>\n<blockquote>\n<p>Revert to 1.1.11 for the time being. The changes between 1.1.11 and 1.1.12 are primarily just debugging. Most people wonâ€™t experience a difference between the two.</p>\n</blockquote>\n<p>å¤§è‡´æ„æ€å°±æ˜¯:</p>\n<p><strong>è¿™æ˜¯ç”±äºæ ‡è¯†ç»ˆç«¯çš„æ›´æ”¹ã€‚æ›´æ”¹æ˜¯åœ¨ 1.1.12 æ·»åŠ çš„ï¼Œå¯¹æ¯ä¸ªäººæ¥è¯´éƒ½æ˜¯ä¸€ä¸ªç—›è‹¦ã€‚å®ƒå°†åœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬ä¸­æ¢å¤ï¼Œä½†å¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´æ‰èƒ½ä¸‹ä¸€ä¸ªç‰ˆæœ¬ï¼ˆæˆ‘ä»¬çš„ä»£ç ç­¾åè¯ä¹¦åœ¨å°è¯•è‡ªåŠ¨åŒ–ä»£ç ç­¾åè¿‡ç¨‹æ—¶è¢«é”å®šï¼Œæˆ‘æ­£åœ¨å°è¯•è§£é”å®ƒï¼‰ã€‚æš‚æ—¶å›åˆ° 1.1.11ã€‚1.1.11 å’Œ 1.1.12 ä¹‹é—´çš„å˜åŒ–ä¸»è¦åªæ˜¯è°ƒè¯•ã€‚å¤§å¤šæ•°äººä¸ä¼šä½“éªŒåˆ°ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«ã€‚</strong></p>\n<p>å®˜æ–¹è¯´æ˜¯è¦åœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬ä¼šå°†å®ƒä¿®å¤ï¼Œå…·ä½“ä»€ä¹ˆæ—¶å€™ä¼šä¿®å¤åªèƒ½ç­‰ç€äº†ï¼›</p>\n<p>ç›®å‰æ¥è¯´æƒ³è¦é€šè¿‡<code>node</code>æ“ä½œ<code>nvm</code>åªèƒ½å°† <code>1.1.12</code>é™ç‰ˆæœ¬ï¼Œç„¶åé‡æ–°å®‰è£…<code>nvm1.1.11</code>äº†ï¼›</p>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>æœ€è¿‘æ²¡æœ‰æ—¶é—´æ›´æ–°ç½‘ç«™ï¼Œæ˜¯åœ¨å¼€å‘ä¸€ä¸ªæ¡Œé¢ç«¯çš„åº”ç”¨å·¥å…·ï¼›æ¡Œé¢ç«¯çš„å·¥å…·ä½¿ç”¨ Node+vue å¼€å‘çš„ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ node+nvm çš„æ—¶å€™ä¼šæœ‰ä¸‹é¢çš„ä¸€ç§æƒ…å†µï¼›</p>\n<p>å› ä¸º<code>nvm</code>çš„ç‰ˆæœ¬åœ¨<a href=\"https://github.com/coreybutler/nvm-windows\">github</a>çš„ç‰ˆæœ¬ä¸º<code>1.1.12</code>ä¹Ÿæ˜¯æœ€æ–°ç‰ˆæœ¬çš„ï¼›ä½†æ˜¯åœ¨æœ€æ–°ç‰ˆæœ¬çš„ä½¿ç”¨çš„æ—¶å€™ï¼Œä¼šæŠ¥é”™ï¼›</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; exec, spawn &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;chaild_process&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> process = <span class=\"title function_\">exec</span>(<span class=\"string\">&quot;nvm ls&quot;</span>, &#123; <span class=\"attr\">shell</span>: <span class=\"string\">&quot;cmd&quot;</span> &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// or</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">spawn</span>(<span class=\"string\">&quot;nvm&quot;</span>, [<span class=\"string\">&quot;ls&quot;</span>], &#123; <span class=\"attr\">shell</span>: <span class=\"string\">&quot;cmd&quot;</span> &#125;);</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸€æ®µä»£ç å°±æ˜¯å°±æ˜¯é€šè¿‡<code>node</code>æ“ä½œ<code>nvm</code>ï¼Œä½†é’ˆå¯¹äº<code>1.1.11</code>ç‰ˆæœ¬æ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯<code>1.1.12</code>ä¼šæç¤º<code>NVM for Windows should be run from a terminal such as CMD or PowerShell.</code>ä¹Ÿå°±æ˜¯åªèƒ½é€šè¿‡ç»ˆç«¯æ‰“å¼€ï¼›</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/nvm_20240425095509.png\" alt=\"å›¾ç‰‡\"></p>\n<p>ç„¶ååœ¨çœ‹äº†ä¸€ä¸‹<a href=\"https://github.com/coreybutler/nvm-windows\">æºç </a>ï¼Œå‘ç°<code>nvm1.1.12</code>æ˜¯<code>go</code>è¯­è¨€ç¼–å†™çš„ï¼›äºæ˜¯æˆ‘åœ¨æºç ä¸­æ‰¾åˆ°äº†è¿™æ ·ä¸€æ®µä»£ç ï¼š</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å…¥å£æ–‡ä»¶</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\"> args := os.Args</span><br><span class=\"line\"> detail := <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"> procarch := arch.Validate(env.arch)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// è¿™é‡Œåˆ¤æ–­äº†ä¸€ä¸‹ç»ˆç«¯çš„æ¡ä»¶</span></span><br><span class=\"line\"> <span class=\"keyword\">if</span> !isTerminal() &#123;</span><br><span class=\"line\">  alert(<span class=\"string\">&quot;NVM for Windows should be run from a terminal such as CMD or PowerShell.&quot;</span>, <span class=\"string\">&quot;Terminal Only&quot;</span>)</span><br><span class=\"line\">  os.Exit(<span class=\"number\">0</span>)</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"comment\">// Capture any additional arguments</span></span><br><span class=\"line\"> <span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(args) &gt; <span class=\"number\">2</span> &#123;</span><br><span class=\"line\">  detail = args[<span class=\"number\">2</span>]</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"comment\">// .....</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">isTerminal</span><span class=\"params\">()</span></span> <span class=\"type\">bool</span> &#123;</span><br><span class=\"line\"> fileInfo, err := os.Stdout.Stat()</span><br><span class=\"line\"> <span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> (fileInfo.Mode() &amp; os.ModeCharDevice) != <span class=\"number\">0</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å…³äº<code>isTerminal()</code>çš„è§£é‡Šå¤§è‡´æ˜¯ï¼š</p>\n<ol>\n<li>é€šè¿‡ os.Stdout.Stat()è·å–æ ‡å‡†è¾“å‡ºçš„ä¿¡æ¯ã€‚</li>\n<li>å¦‚æœè·å–ä¿¡æ¯æ—¶å‡ºç°é”™è¯¯ï¼Œåˆ™è¿”å› falseã€‚</li>\n<li>åˆ¤æ–­è·å–åˆ°çš„ä¿¡æ¯ä¸­æ˜¯å¦åŒ…å« os.ModeCharDevice æ¨¡å¼ï¼Œè‹¥åŒ…å«åˆ™è¡¨ç¤ºè¾“å‡ºä¸ºå­—ç¬¦è®¾å¤‡ï¼Œå³ç»ˆç«¯è®¾å¤‡ï¼Œè¿”å› trueï¼›å¦åˆ™è¿”å› falseã€‚</li>\n</ol>\n<p>å› ä¸º<code>node</code>ç›´æ¥æ“ä½œ<code>nvm</code>ä¸æ˜¯åœ¨ç»ˆç«¯å”¤èµ·çš„ï¼Œäºæ˜¯æˆ‘å°±åœ¨<code>github</code>æ·»åŠ äº†ä¸€ä¸ª<a href=\"https://github.com/coreybutler/nvm-windows/issues/1126\">issues</a></p>\n<p>ä¸ä¹…åå®˜æ–¹å°±æå‡ºäº†è§£é‡Šï¼š</p>\n<blockquote>\n<p>This is due to a change that identifies the terminal. The change was added in 1.1.12 and has been nothing but a pain for everyone. It will be reverted in the next release, but it may be a little while before the next release (our code signing cert was locked when trying to automate the code signing process and Iâ€™m trying to get it unlocked).</p>\n</blockquote>\n<blockquote>\n<p>Revert to 1.1.11 for the time being. The changes between 1.1.11 and 1.1.12 are primarily just debugging. Most people wonâ€™t experience a difference between the two.</p>\n</blockquote>\n<p>å¤§è‡´æ„æ€å°±æ˜¯:</p>\n<p><strong>è¿™æ˜¯ç”±äºæ ‡è¯†ç»ˆç«¯çš„æ›´æ”¹ã€‚æ›´æ”¹æ˜¯åœ¨ 1.1.12 æ·»åŠ çš„ï¼Œå¯¹æ¯ä¸ªäººæ¥è¯´éƒ½æ˜¯ä¸€ä¸ªç—›è‹¦ã€‚å®ƒå°†åœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬ä¸­æ¢å¤ï¼Œä½†å¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´æ‰èƒ½ä¸‹ä¸€ä¸ªç‰ˆæœ¬ï¼ˆæˆ‘ä»¬çš„ä»£ç ç­¾åè¯ä¹¦åœ¨å°è¯•è‡ªåŠ¨åŒ–ä»£ç ç­¾åè¿‡ç¨‹æ—¶è¢«é”å®šï¼Œæˆ‘æ­£åœ¨å°è¯•è§£é”å®ƒï¼‰ã€‚æš‚æ—¶å›åˆ° 1.1.11ã€‚1.1.11 å’Œ 1.1.12 ä¹‹é—´çš„å˜åŒ–ä¸»è¦åªæ˜¯è°ƒè¯•ã€‚å¤§å¤šæ•°äººä¸ä¼šä½“éªŒåˆ°ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«ã€‚</strong></p>\n<p>å®˜æ–¹è¯´æ˜¯è¦åœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬ä¼šå°†å®ƒä¿®å¤ï¼Œå…·ä½“ä»€ä¹ˆæ—¶å€™ä¼šä¿®å¤åªèƒ½ç­‰ç€äº†ï¼›</p>\n<p>ç›®å‰æ¥è¯´æƒ³è¦é€šè¿‡<code>node</code>æ“ä½œ<code>nvm</code>åªèƒ½å°† <code>1.1.12</code>é™ç‰ˆæœ¬ï¼Œç„¶åé‡æ–°å®‰è£…<code>nvm1.1.11</code>äº†ï¼›</p>\n"},{"title":"æŠ€æœ¯è°ƒç ”-nvm æ›¿æ¢ä¸º fnm","abbrlink":"1e795a94","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\næ˜¨å¤©åœ¨é€›[node å®˜ç½‘](https://nodejs.org/en)çš„æ—¶å€™ï¼Œå‘ç°ä¸‹è½½é¡µé¢å¤šäº†ä¸€`fnm`çš„åŒ…ç®¡ç†å™¨ï¼›\n\näºæ˜¯ï¼Œæˆ‘å¼€å§‹ç ”ç©¶ä¸€ä¸‹ã€‚ å‘ç°å®ƒä¸ `nvm` ç›¸ä¼¼ï¼Œä½†æ˜¯å®ƒåŒæ—¶æ”¯æŒ `node` çš„ `arm` å¹³å°ã€‚ä¹Ÿå¯ä»¥è¯´æ˜¯è·¨ç«¯çš„ã€‚ä¸è¿‡å®ƒæ˜¯`rust`å¼€å‘çš„ï¼Œæ€§èƒ½å¾—åˆ°è¿›ä¸€æ­¥æå‡\n\n## å®˜ç½‘ä»‹ç»\n\n1. ğŸŒ è·¨å¹³å°æ”¯æŒï¼ˆmacOSã€Windowsã€Linuxï¼‰\n2. âœ¨ å•æ–‡ä»¶ï¼Œè½»æ¾å®‰è£…ï¼Œå³æ—¶å¯åŠ¨\n3. ğŸš€ ä»¥é€Ÿåº¦ä¸ºä¸­å¿ƒ\n4. ğŸ“‚ é€‚ç”¨äº.node-version å’Œ.nvmrc æ–‡ä»¶\n\n**ğŸš€ å¿«é€Ÿã€ç®€å•çš„ Node.js ç‰ˆæœ¬ç®¡ç†å™¨ï¼Œé‡‡ç”¨ Rust æ„å»º**\n\n## ä½¿ç”¨\n\n### macOS/Linux\n\nå¯¹äº bashã€zsh å’Œ fishshellï¼Œæœ‰ä¸€ä¸ª[è‡ªåŠ¨å®‰è£…è„šæœ¬](https://github.com/Schniz/fnm/blob/master/.ci/install.sh)ã€‚\n\né¦–å…ˆç¡®ä¿ curl å’Œ unzip å·²å®‰è£…åœ¨æ‚¨çš„æ“ä½œç³»ç»Ÿä¸Šã€‚ç„¶åæ‰§è¡Œï¼š\n\n```sh\ncurl -fsSL https://fnm.vercel.app/install | bash\n```\n\nä¸è¿‡æˆ‘åœ¨ç”¨`macos`å®‰è£…çš„æ—¶å€™è€æ˜¯æ‹‰å»ä¸ä¸‹æ¥ï¼Œä¹Ÿä¸æ¸…æ¥šæ˜¯ä»€ä¹ˆé—®é¢˜ï¼›æˆ‘åœ¨æƒ³æ—¢ç„¶é€šè¿‡å‘½ä»¤è‡ªåŠ¨å®‰è£…ä¸è¡Œï¼Œé‚£ä¹ˆå°±é€šè¿‡ **Homebrew** æ‰‹åŠ¨å®‰è£…å§ï¼›\n\n- [Homebrew å®˜ç½‘](https://brew.sh/)\n- [github](https://github.com/Homebrew/brew)\n\nå®‰è£…æˆåŠŸä¹‹å `-v` æŸ¥çœ‹ç‰ˆæœ¬å·ã€‚å¦‚æœæœ‰ç‰ˆæœ¬é‚£å°±å®‰è£…æˆåŠŸäº†ï¼›\n\n```sh\nbrew install fnm\n```\n\næ‰§è¡Œ `install`, åŒæ ·`fnm -v`æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼›\n\nå®‰è£…æˆåŠŸä¹‹åéœ€è¦æ‰‹åŠ¨è®¾ç½®ä¸€ä¸‹ç¯å¢ƒé…ç½®, å…·ä½“çš„å¯çœ‹[shell-setup é…ç½®](https://github.com/Schniz/fnm?tab=readme-ov-file#shell-setup)\n\n```sh\neval \"$(fnm env --use-on-cd)\"\n```\n\n### windows\n\n`fnm`é»˜è®¤çš„å®‰è£…ä½ç½®åœ¨`cç›˜`ï¼Œç”±äºä¹ æƒ¯é—®é¢˜ï¼Œæˆ‘å°†`fnm`å®‰è£…åœ¨`Dç›˜`ï¼›\n\n```sh\nwinget install Schniz.fnm --location D:\\fnm\n```\n\nåŒæ—¶å°†`fnm`æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼›\n\nåœ¨ç”¨æˆ·å˜é‡ä¸­æ–°å»ºä¸€æ¡ï¼š\n\n```sh\nå˜é‡åä¸ºï¼šFNM_DIR\nå˜é‡å€¼ä¸ºï¼šD:\\fnm\n```\n\nè¿™ä¸ªå˜é‡æ˜¯åé¢å®‰è£…çš„`node`ç”¨åˆ°çš„ç›®å½•ï¼Œä¸€äº›ç¼“å­˜å€¼, æ‰€æœ‰çš„` node`ç‰ˆæœ¬ä»¥åŠå½“å‰ä½¿ç”¨çš„`node`ç‰ˆæœ¬éƒ½åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼›\n\nåœ¨`cmdæˆ–è€…powershell`ä¸­æ‰§è¡Œ\n\n```sh\nfnm env --use-on-cd | Out-String | Invoke-Expression\n```\n\nåŒæ ·çš„æ–¹å¼æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼› `fnm`çš„å¤§éƒ¨åˆ†å‘½ä»¤å’Œ`nvm`æ˜¯ä¸€æ ·çš„ï¼Œä¾‹å¦‚ï¼š`fnm ls, fnm install, fnm use`ç­‰ï¼›\n\n<font color=\"#ff0000\">éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæƒ³è¦è®¾ç½®å…¨å±€çš„ node ç‰ˆæœ¬ï¼Œéœ€è¦ä½¿ç”¨ `fnm default 16.14.0`ï¼Œåœ¨ä¸åŒé¡¹ç›®ä¸åŒ node ç‰ˆæœ¬ä½¿ç”¨`fnm use `ç»™ä¸åŒçš„é¡¹ç›®è®¾ç½®ä¸åŒçš„ node ç‰ˆæœ¬</font>\n","source":"_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/nvmæ›¿æ¢ä¸ºfnm.md","raw":"---\ntitle: æŠ€æœ¯è°ƒç ”-nvm æ›¿æ¢ä¸º fnm\nabbrlink: 1e795a94\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - æŠ€æœ¯è°ƒç ”\n---\n\n# èƒŒæ™¯\n\næ˜¨å¤©åœ¨é€›[node å®˜ç½‘](https://nodejs.org/en)çš„æ—¶å€™ï¼Œå‘ç°ä¸‹è½½é¡µé¢å¤šäº†ä¸€`fnm`çš„åŒ…ç®¡ç†å™¨ï¼›\n\näºæ˜¯ï¼Œæˆ‘å¼€å§‹ç ”ç©¶ä¸€ä¸‹ã€‚ å‘ç°å®ƒä¸ `nvm` ç›¸ä¼¼ï¼Œä½†æ˜¯å®ƒåŒæ—¶æ”¯æŒ `node` çš„ `arm` å¹³å°ã€‚ä¹Ÿå¯ä»¥è¯´æ˜¯è·¨ç«¯çš„ã€‚ä¸è¿‡å®ƒæ˜¯`rust`å¼€å‘çš„ï¼Œæ€§èƒ½å¾—åˆ°è¿›ä¸€æ­¥æå‡\n\n## å®˜ç½‘ä»‹ç»\n\n1. ğŸŒ è·¨å¹³å°æ”¯æŒï¼ˆmacOSã€Windowsã€Linuxï¼‰\n2. âœ¨ å•æ–‡ä»¶ï¼Œè½»æ¾å®‰è£…ï¼Œå³æ—¶å¯åŠ¨\n3. ğŸš€ ä»¥é€Ÿåº¦ä¸ºä¸­å¿ƒ\n4. ğŸ“‚ é€‚ç”¨äº.node-version å’Œ.nvmrc æ–‡ä»¶\n\n**ğŸš€ å¿«é€Ÿã€ç®€å•çš„ Node.js ç‰ˆæœ¬ç®¡ç†å™¨ï¼Œé‡‡ç”¨ Rust æ„å»º**\n\n## ä½¿ç”¨\n\n### macOS/Linux\n\nå¯¹äº bashã€zsh å’Œ fishshellï¼Œæœ‰ä¸€ä¸ª[è‡ªåŠ¨å®‰è£…è„šæœ¬](https://github.com/Schniz/fnm/blob/master/.ci/install.sh)ã€‚\n\né¦–å…ˆç¡®ä¿ curl å’Œ unzip å·²å®‰è£…åœ¨æ‚¨çš„æ“ä½œç³»ç»Ÿä¸Šã€‚ç„¶åæ‰§è¡Œï¼š\n\n```sh\ncurl -fsSL https://fnm.vercel.app/install | bash\n```\n\nä¸è¿‡æˆ‘åœ¨ç”¨`macos`å®‰è£…çš„æ—¶å€™è€æ˜¯æ‹‰å»ä¸ä¸‹æ¥ï¼Œä¹Ÿä¸æ¸…æ¥šæ˜¯ä»€ä¹ˆé—®é¢˜ï¼›æˆ‘åœ¨æƒ³æ—¢ç„¶é€šè¿‡å‘½ä»¤è‡ªåŠ¨å®‰è£…ä¸è¡Œï¼Œé‚£ä¹ˆå°±é€šè¿‡ **Homebrew** æ‰‹åŠ¨å®‰è£…å§ï¼›\n\n- [Homebrew å®˜ç½‘](https://brew.sh/)\n- [github](https://github.com/Homebrew/brew)\n\nå®‰è£…æˆåŠŸä¹‹å `-v` æŸ¥çœ‹ç‰ˆæœ¬å·ã€‚å¦‚æœæœ‰ç‰ˆæœ¬é‚£å°±å®‰è£…æˆåŠŸäº†ï¼›\n\n```sh\nbrew install fnm\n```\n\næ‰§è¡Œ `install`, åŒæ ·`fnm -v`æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼›\n\nå®‰è£…æˆåŠŸä¹‹åéœ€è¦æ‰‹åŠ¨è®¾ç½®ä¸€ä¸‹ç¯å¢ƒé…ç½®, å…·ä½“çš„å¯çœ‹[shell-setup é…ç½®](https://github.com/Schniz/fnm?tab=readme-ov-file#shell-setup)\n\n```sh\neval \"$(fnm env --use-on-cd)\"\n```\n\n### windows\n\n`fnm`é»˜è®¤çš„å®‰è£…ä½ç½®åœ¨`cç›˜`ï¼Œç”±äºä¹ æƒ¯é—®é¢˜ï¼Œæˆ‘å°†`fnm`å®‰è£…åœ¨`Dç›˜`ï¼›\n\n```sh\nwinget install Schniz.fnm --location D:\\fnm\n```\n\nåŒæ—¶å°†`fnm`æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼›\n\nåœ¨ç”¨æˆ·å˜é‡ä¸­æ–°å»ºä¸€æ¡ï¼š\n\n```sh\nå˜é‡åä¸ºï¼šFNM_DIR\nå˜é‡å€¼ä¸ºï¼šD:\\fnm\n```\n\nè¿™ä¸ªå˜é‡æ˜¯åé¢å®‰è£…çš„`node`ç”¨åˆ°çš„ç›®å½•ï¼Œä¸€äº›ç¼“å­˜å€¼, æ‰€æœ‰çš„` node`ç‰ˆæœ¬ä»¥åŠå½“å‰ä½¿ç”¨çš„`node`ç‰ˆæœ¬éƒ½åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼›\n\nåœ¨`cmdæˆ–è€…powershell`ä¸­æ‰§è¡Œ\n\n```sh\nfnm env --use-on-cd | Out-String | Invoke-Expression\n```\n\nåŒæ ·çš„æ–¹å¼æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼› `fnm`çš„å¤§éƒ¨åˆ†å‘½ä»¤å’Œ`nvm`æ˜¯ä¸€æ ·çš„ï¼Œä¾‹å¦‚ï¼š`fnm ls, fnm install, fnm use`ç­‰ï¼›\n\n<font color=\"#ff0000\">éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæƒ³è¦è®¾ç½®å…¨å±€çš„ node ç‰ˆæœ¬ï¼Œéœ€è¦ä½¿ç”¨ `fnm default 16.14.0`ï¼Œåœ¨ä¸åŒé¡¹ç›®ä¸åŒ node ç‰ˆæœ¬ä½¿ç”¨`fnm use `ç»™ä¸åŒçš„é¡¹ç›®è®¾ç½®ä¸åŒçš„ node ç‰ˆæœ¬</font>\n","slug":"æ€»ç»“/æŠ€æœ¯è°ƒç ”/nvmæ›¿æ¢ä¸ºfnm","published":1,"updated":"2025-03-12T09:52:50.225Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0ir000hfg9mfym17mtc","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>æ˜¨å¤©åœ¨é€›<a href=\"https://nodejs.org/en\">node å®˜ç½‘</a>çš„æ—¶å€™ï¼Œå‘ç°ä¸‹è½½é¡µé¢å¤šäº†ä¸€<code>fnm</code>çš„åŒ…ç®¡ç†å™¨ï¼›</p>\n<p>äºæ˜¯ï¼Œæˆ‘å¼€å§‹ç ”ç©¶ä¸€ä¸‹ã€‚ å‘ç°å®ƒä¸ <code>nvm</code> ç›¸ä¼¼ï¼Œä½†æ˜¯å®ƒåŒæ—¶æ”¯æŒ <code>node</code> çš„ <code>arm</code> å¹³å°ã€‚ä¹Ÿå¯ä»¥è¯´æ˜¯è·¨ç«¯çš„ã€‚ä¸è¿‡å®ƒæ˜¯<code>rust</code>å¼€å‘çš„ï¼Œæ€§èƒ½å¾—åˆ°è¿›ä¸€æ­¥æå‡</p>\n<h2 id=\"å®˜ç½‘ä»‹ç»\"><a href=\"#å®˜ç½‘ä»‹ç»\" class=\"headerlink\" title=\"å®˜ç½‘ä»‹ç»\"></a>å®˜ç½‘ä»‹ç»</h2><ol>\n<li>ğŸŒ è·¨å¹³å°æ”¯æŒï¼ˆmacOSã€Windowsã€Linuxï¼‰</li>\n<li>âœ¨ å•æ–‡ä»¶ï¼Œè½»æ¾å®‰è£…ï¼Œå³æ—¶å¯åŠ¨</li>\n<li>ğŸš€ ä»¥é€Ÿåº¦ä¸ºä¸­å¿ƒ</li>\n<li>ğŸ“‚ é€‚ç”¨äº.node-version å’Œ.nvmrc æ–‡ä»¶</li>\n</ol>\n<p><strong>ğŸš€ å¿«é€Ÿã€ç®€å•çš„ Node.js ç‰ˆæœ¬ç®¡ç†å™¨ï¼Œé‡‡ç”¨ Rust æ„å»º</strong></p>\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><h3 id=\"macOS-Linux\"><a href=\"#macOS-Linux\" class=\"headerlink\" title=\"macOS&#x2F;Linux\"></a>macOS&#x2F;Linux</h3><p>å¯¹äº bashã€zsh å’Œ fishshellï¼Œæœ‰ä¸€ä¸ª<a href=\"https://github.com/Schniz/fnm/blob/master/.ci/install.sh\">è‡ªåŠ¨å®‰è£…è„šæœ¬</a>ã€‚</p>\n<p>é¦–å…ˆç¡®ä¿ curl å’Œ unzip å·²å®‰è£…åœ¨æ‚¨çš„æ“ä½œç³»ç»Ÿä¸Šã€‚ç„¶åæ‰§è¡Œï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -fsSL https://fnm.vercel.app/install | bash</span><br></pre></td></tr></table></figure>\n\n<p>ä¸è¿‡æˆ‘åœ¨ç”¨<code>macos</code>å®‰è£…çš„æ—¶å€™è€æ˜¯æ‹‰å»ä¸ä¸‹æ¥ï¼Œä¹Ÿä¸æ¸…æ¥šæ˜¯ä»€ä¹ˆé—®é¢˜ï¼›æˆ‘åœ¨æƒ³æ—¢ç„¶é€šè¿‡å‘½ä»¤è‡ªåŠ¨å®‰è£…ä¸è¡Œï¼Œé‚£ä¹ˆå°±é€šè¿‡ <strong>Homebrew</strong> æ‰‹åŠ¨å®‰è£…å§ï¼›</p>\n<ul>\n<li><a href=\"https://brew.sh/\">Homebrew å®˜ç½‘</a></li>\n<li><a href=\"https://github.com/Homebrew/brew\">github</a></li>\n</ul>\n<p>å®‰è£…æˆåŠŸä¹‹å <code>-v</code> æŸ¥çœ‹ç‰ˆæœ¬å·ã€‚å¦‚æœæœ‰ç‰ˆæœ¬é‚£å°±å®‰è£…æˆåŠŸäº†ï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install fnm</span><br></pre></td></tr></table></figure>\n\n<p>æ‰§è¡Œ <code>install</code>, åŒæ ·<code>fnm -v</code>æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼›</p>\n<p>å®‰è£…æˆåŠŸä¹‹åéœ€è¦æ‰‹åŠ¨è®¾ç½®ä¸€ä¸‹ç¯å¢ƒé…ç½®, å…·ä½“çš„å¯çœ‹<a href=\"https://github.com/Schniz/fnm?tab=readme-ov-file#shell-setup\">shell-setup é…ç½®</a></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">eval</span> <span class=\"string\">&quot;<span class=\"subst\">$(fnm env --use-on-cd)</span>&quot;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"windows\"><a href=\"#windows\" class=\"headerlink\" title=\"windows\"></a>windows</h3><p><code>fnm</code>é»˜è®¤çš„å®‰è£…ä½ç½®åœ¨<code>cç›˜</code>ï¼Œç”±äºä¹ æƒ¯é—®é¢˜ï¼Œæˆ‘å°†<code>fnm</code>å®‰è£…åœ¨<code>Dç›˜</code>ï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">winget install Schniz.fnm --location D:\\fnm</span><br></pre></td></tr></table></figure>\n\n<p>åŒæ—¶å°†<code>fnm</code>æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼›</p>\n<p>åœ¨ç”¨æˆ·å˜é‡ä¸­æ–°å»ºä¸€æ¡ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">å˜é‡åä¸ºï¼šFNM_DIR</span><br><span class=\"line\">å˜é‡å€¼ä¸ºï¼šD:\\fnm</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸ªå˜é‡æ˜¯åé¢å®‰è£…çš„<code>node</code>ç”¨åˆ°çš„ç›®å½•ï¼Œä¸€äº›ç¼“å­˜å€¼, æ‰€æœ‰çš„<code> node</code>ç‰ˆæœ¬ä»¥åŠå½“å‰ä½¿ç”¨çš„<code>node</code>ç‰ˆæœ¬éƒ½åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼›</p>\n<p>åœ¨<code>cmdæˆ–è€…powershell</code>ä¸­æ‰§è¡Œ</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fnm <span class=\"built_in\">env</span> --use-on-cd | Out-String | Invoke-Expression</span><br></pre></td></tr></table></figure>\n\n<p>åŒæ ·çš„æ–¹å¼æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼› <code>fnm</code>çš„å¤§éƒ¨åˆ†å‘½ä»¤å’Œ<code>nvm</code>æ˜¯ä¸€æ ·çš„ï¼Œä¾‹å¦‚ï¼š<code>fnm ls, fnm install, fnm use</code>ç­‰ï¼›</p>\n<p><font color=\"#ff0000\">éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæƒ³è¦è®¾ç½®å…¨å±€çš„ node ç‰ˆæœ¬ï¼Œéœ€è¦ä½¿ç”¨ <code>fnm default 16.14.0</code>ï¼Œåœ¨ä¸åŒé¡¹ç›®ä¸åŒ node ç‰ˆæœ¬ä½¿ç”¨<code>fnm use </code>ç»™ä¸åŒçš„é¡¹ç›®è®¾ç½®ä¸åŒçš„ node ç‰ˆæœ¬</font></p>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>æ˜¨å¤©åœ¨é€›<a href=\"https://nodejs.org/en\">node å®˜ç½‘</a>çš„æ—¶å€™ï¼Œå‘ç°ä¸‹è½½é¡µé¢å¤šäº†ä¸€<code>fnm</code>çš„åŒ…ç®¡ç†å™¨ï¼›</p>\n<p>äºæ˜¯ï¼Œæˆ‘å¼€å§‹ç ”ç©¶ä¸€ä¸‹ã€‚ å‘ç°å®ƒä¸ <code>nvm</code> ç›¸ä¼¼ï¼Œä½†æ˜¯å®ƒåŒæ—¶æ”¯æŒ <code>node</code> çš„ <code>arm</code> å¹³å°ã€‚ä¹Ÿå¯ä»¥è¯´æ˜¯è·¨ç«¯çš„ã€‚ä¸è¿‡å®ƒæ˜¯<code>rust</code>å¼€å‘çš„ï¼Œæ€§èƒ½å¾—åˆ°è¿›ä¸€æ­¥æå‡</p>\n<h2 id=\"å®˜ç½‘ä»‹ç»\"><a href=\"#å®˜ç½‘ä»‹ç»\" class=\"headerlink\" title=\"å®˜ç½‘ä»‹ç»\"></a>å®˜ç½‘ä»‹ç»</h2><ol>\n<li>ğŸŒ è·¨å¹³å°æ”¯æŒï¼ˆmacOSã€Windowsã€Linuxï¼‰</li>\n<li>âœ¨ å•æ–‡ä»¶ï¼Œè½»æ¾å®‰è£…ï¼Œå³æ—¶å¯åŠ¨</li>\n<li>ğŸš€ ä»¥é€Ÿåº¦ä¸ºä¸­å¿ƒ</li>\n<li>ğŸ“‚ é€‚ç”¨äº.node-version å’Œ.nvmrc æ–‡ä»¶</li>\n</ol>\n<p><strong>ğŸš€ å¿«é€Ÿã€ç®€å•çš„ Node.js ç‰ˆæœ¬ç®¡ç†å™¨ï¼Œé‡‡ç”¨ Rust æ„å»º</strong></p>\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><h3 id=\"macOS-Linux\"><a href=\"#macOS-Linux\" class=\"headerlink\" title=\"macOS&#x2F;Linux\"></a>macOS&#x2F;Linux</h3><p>å¯¹äº bashã€zsh å’Œ fishshellï¼Œæœ‰ä¸€ä¸ª<a href=\"https://github.com/Schniz/fnm/blob/master/.ci/install.sh\">è‡ªåŠ¨å®‰è£…è„šæœ¬</a>ã€‚</p>\n<p>é¦–å…ˆç¡®ä¿ curl å’Œ unzip å·²å®‰è£…åœ¨æ‚¨çš„æ“ä½œç³»ç»Ÿä¸Šã€‚ç„¶åæ‰§è¡Œï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -fsSL https://fnm.vercel.app/install | bash</span><br></pre></td></tr></table></figure>\n\n<p>ä¸è¿‡æˆ‘åœ¨ç”¨<code>macos</code>å®‰è£…çš„æ—¶å€™è€æ˜¯æ‹‰å»ä¸ä¸‹æ¥ï¼Œä¹Ÿä¸æ¸…æ¥šæ˜¯ä»€ä¹ˆé—®é¢˜ï¼›æˆ‘åœ¨æƒ³æ—¢ç„¶é€šè¿‡å‘½ä»¤è‡ªåŠ¨å®‰è£…ä¸è¡Œï¼Œé‚£ä¹ˆå°±é€šè¿‡ <strong>Homebrew</strong> æ‰‹åŠ¨å®‰è£…å§ï¼›</p>\n<ul>\n<li><a href=\"https://brew.sh/\">Homebrew å®˜ç½‘</a></li>\n<li><a href=\"https://github.com/Homebrew/brew\">github</a></li>\n</ul>\n<p>å®‰è£…æˆåŠŸä¹‹å <code>-v</code> æŸ¥çœ‹ç‰ˆæœ¬å·ã€‚å¦‚æœæœ‰ç‰ˆæœ¬é‚£å°±å®‰è£…æˆåŠŸäº†ï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install fnm</span><br></pre></td></tr></table></figure>\n\n<p>æ‰§è¡Œ <code>install</code>, åŒæ ·<code>fnm -v</code>æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼›</p>\n<p>å®‰è£…æˆåŠŸä¹‹åéœ€è¦æ‰‹åŠ¨è®¾ç½®ä¸€ä¸‹ç¯å¢ƒé…ç½®, å…·ä½“çš„å¯çœ‹<a href=\"https://github.com/Schniz/fnm?tab=readme-ov-file#shell-setup\">shell-setup é…ç½®</a></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">eval</span> <span class=\"string\">&quot;<span class=\"subst\">$(fnm env --use-on-cd)</span>&quot;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"windows\"><a href=\"#windows\" class=\"headerlink\" title=\"windows\"></a>windows</h3><p><code>fnm</code>é»˜è®¤çš„å®‰è£…ä½ç½®åœ¨<code>cç›˜</code>ï¼Œç”±äºä¹ æƒ¯é—®é¢˜ï¼Œæˆ‘å°†<code>fnm</code>å®‰è£…åœ¨<code>Dç›˜</code>ï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">winget install Schniz.fnm --location D:\\fnm</span><br></pre></td></tr></table></figure>\n\n<p>åŒæ—¶å°†<code>fnm</code>æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼›</p>\n<p>åœ¨ç”¨æˆ·å˜é‡ä¸­æ–°å»ºä¸€æ¡ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">å˜é‡åä¸ºï¼šFNM_DIR</span><br><span class=\"line\">å˜é‡å€¼ä¸ºï¼šD:\\fnm</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸ªå˜é‡æ˜¯åé¢å®‰è£…çš„<code>node</code>ç”¨åˆ°çš„ç›®å½•ï¼Œä¸€äº›ç¼“å­˜å€¼, æ‰€æœ‰çš„<code> node</code>ç‰ˆæœ¬ä»¥åŠå½“å‰ä½¿ç”¨çš„<code>node</code>ç‰ˆæœ¬éƒ½åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼›</p>\n<p>åœ¨<code>cmdæˆ–è€…powershell</code>ä¸­æ‰§è¡Œ</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fnm <span class=\"built_in\">env</span> --use-on-cd | Out-String | Invoke-Expression</span><br></pre></td></tr></table></figure>\n\n<p>åŒæ ·çš„æ–¹å¼æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼› <code>fnm</code>çš„å¤§éƒ¨åˆ†å‘½ä»¤å’Œ<code>nvm</code>æ˜¯ä¸€æ ·çš„ï¼Œä¾‹å¦‚ï¼š<code>fnm ls, fnm install, fnm use</code>ç­‰ï¼›</p>\n<p><font color=\"#ff0000\">éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæƒ³è¦è®¾ç½®å…¨å±€çš„ node ç‰ˆæœ¬ï¼Œéœ€è¦ä½¿ç”¨ <code>fnm default 16.14.0</code>ï¼Œåœ¨ä¸åŒé¡¹ç›®ä¸åŒ node ç‰ˆæœ¬ä½¿ç”¨<code>fnm use </code>ç»™ä¸åŒçš„é¡¹ç›®è®¾ç½®ä¸åŒçš„ node ç‰ˆæœ¬</font></p>\n"},{"title":"æŠ€æœ¯è°ƒç ”-rust-envæ²¡æœ‰ç»§æ‰¿é—®é¢˜","abbrlink":"38e3cf79","date":"2024-07-08T01:05:01.000Z","_content":"\n# ä»‹ç»\n\nè¿‘æœŸåœ¨å¼€å‘`rust + vite`(tauri)é¡¹ç›®çš„æ—¶å€™ï¼Œå‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼›å°±æ˜¯æ²™ç®±éš”ç¦»æ¨¡å¼çš„ç¯å¢ƒå˜é‡ç»§æ‰¿é—®é¢˜ï¼›\n\nåœ¨`rust`æœ¬åœ°å¼€å‘ä¸­ï¼Œå¯ä»¥é€šè¿‡`std::env::var(\"PATH\")`æˆ–è€…å…¨å±€å˜é‡`$PATH`è·å–ç¯å¢ƒå˜é‡çš„å€¼ï¼Œå½“ç„¶æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡`std::env::vars()`è·å–æ‰€æœ‰çš„å…¨å±€å˜é‡ï¼›\n\nå½“ç„¶åœ¨å¼€å‘ç¯å¢ƒä¸­æ˜¯å¯ä»¥è·å–åˆ°çš„ï¼Œä½†æ˜¯åœ¨`build`ä¹‹åï¼Œ`rust`ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†`PATH`ç¯å¢ƒå˜é‡è®¾ç½®ä¸º`/usr/bin`ï¼Œæ‰€ä»¥æ— æ³•è·å–åˆ°å…¨å±€å˜é‡ï¼›\n\næ‰€ä»¥å½“æ‚¨è¿è¡Œ`ç¯å¢ƒå˜é‡`çš„æŸä¸ªå‘½ä»¤æ—¶ï¼Œæ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼›\n\nå› ä¸ºåœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­`%PATH`ä¸­æ ¹æœ¬è·å–ä¸åˆ°å¯¹åº”çš„å˜é‡ï¼›\n\n## æ¡ˆä¾‹\n\næˆ‘åœ¨æœ¬åœ°ç”µè„‘å®‰è£…äº†`fnm`ï¼Œåœ¨`dev`ä¹‹åæ˜¯å¯ä»¥è·å–åˆ°`where fnm`å‘½ä»¤çš„ï¼Œå¦‚ä¸‹ä»£ç ï¼š\n\n```rust\nfn is_installed(program: &str) -> bool {\n  let mut cmd = Command::new(if cfg!(target_os = \"windows\") {\n      \"cmd\"\n  } else {\n      \"bash\"\n  });\n  let arg = if cfg!(target_os = \"windows\") {\n      format!(\"where {}\", program)\n  } else {\n      format!(\"which {}\", program)\n  };\n  cmd.arg(\"-c\").arg(arg);\n\n  #[cfg(target_os = \"windows\")]\n  {\n      cmd.creation_flags(0x08000000);\n  }\n  let output = cmd.output().expect(\"Failed to execute command\");\n  let stdout = GBK.decode(&output.stdout);\n\n  let result: bool = output.status.success() && !output.stdout.is_empty();\n\n  info!(\n      \"{} æ˜¯å¦å·²ç»å®‰è£… {}, å®‰è£…ç»“æœä¸º: {}\",\n      program, result, stdout.0\n  );\n  result\n}\n// result çš„ç»“æœå°±æ˜¯ä½ ç”µè„‘å®‰è£…çš„ è·¯å¾„ï¼Œ å½“ç„¶å¦‚æœæœ‰è·¯å¾„ é‚£è¿”å›å¸ƒå°”å€¼\n```\n\nå½“æ‚¨æ‰§è¡Œä¹‹åï¼Œé‚£ä¹ˆæ‚¨å°±èƒ½è·å–åˆ°å¯¹åº”çš„å€¼ï¼Œå½“ç„¶æ‚¨åŒæ—¶ä¹Ÿå¯ä»¥åœ¨`ç»ˆç«¯`ä¸­æ‰§è¡Œ`which fnm`å‘½ä»¤æ¥è·å–åˆ°å¯¹åº”çš„è·¯å¾„ã€‚\n\nåªè¦æ‚¨æ‰“åŒ…ä¹‹åï¼Œå°±ä¼šè¿”å›ç©ºï¼›é‚£ä¹ˆå®ƒæ°¸è¿œè·å–ä¸åˆ°æ‚¨ç”µè„‘å®‰è£…è¿‡çš„ç¯å¢ƒï¼›\n\næˆ‘è¯•äº†å¥½å‡ ç§æ–¹æ¡ˆéƒ½æ˜¯ä¸è¡Œçš„ï¼Œ <font color=\"#ff0000\">ä¸‹é¢å››ç§æ–¹æ¡ˆéƒ½æ˜¯ä¸å¯è¡Œçš„</font>ï¼š\n\n1. é€šè¿‡`which`å‘½ä»¤è·å–åˆ°å¯¹åº”çš„è·¯å¾„ï¼›\n2. é€šè¿‡`fnm`å‘½ä»¤è·å–ç‰ˆæœ¬å·ï¼›\n3. é€šè¿‡è·å–ç¯å¢ƒå˜é‡ï¼›\n4. å®‰è£…`shell`æ’ä»¶ï¼Œå†å»è·å–ï¼›\n\n## è§£å†³æ–¹æ¡ˆ\n\nåœ¨`google`ä¸Šæœäº†å¥½å¤šèµ„æ–™ï¼Œæ–¹æ¡ˆéƒ½æ˜¯ä¸å¯è¡Œçš„ï¼›äºæ˜¯æˆ‘å°è¯•ç€å»`github`ä¸Šæ‰¾ä¸€æ‰¾ï¼›\n\nç»“æœè¿æ°”ä¸é”™ï¼Œè¿˜çœŸçš„æ‰¾åˆ°äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼›[**â€œæ„å»ºåï¼Œshell å‘½ä»¤å¤±è´¥â€**](https://github.com/tauri-apps/tauri/issues/8400)\n\né‡Œé¢æœ‰å¥è¯å¤§æ¦‚è§£é‡Šä¸ºä»€ä¹ˆåœ¨`build`ä¹‹åè·å–ä¸åˆ°ç¯å¢ƒå˜é‡äº†ï¼š\n\n**â€œI think that's because on macOS/Linux the PATH environment variable is not inherited by default from your .bashrc and similar shell files,can you try using this crate https://github.com/tauri-apps/fix-path-env-rs and see if it fixes the issue?â€**\n\nå¤§æ¦‚æ„æ€å°±æ˜¯ï¼š**æˆ‘è®¤ä¸ºè¿™æ˜¯å› ä¸ºåœ¨ macOS/Linux ä¸Šï¼ŒPATH ç¯å¢ƒå˜é‡é»˜è®¤ä¸ä¼šä»æ‚¨çš„.bashrc å’Œç±»ä¼¼çš„ shell æ–‡ä»¶ä¸­ç»§æ‰¿**\n\nå½“ç„¶äººå®¶å·²ç»æ•´ç†å‡ºäº†[è§£å†³æ–¹æ¡ˆ](https://github.com/tauri-apps/fix-path-env-rs);\n\næŒ‰ç…§å¯¹åº”çš„æ­¥éª¤è¿›è¡Œæ“ä½œï¼Œé‚£ä¹ˆ`build`ä¹‹åå°±å¯ä»¥è·å–åˆ°å¯¹åº”çš„ç¯å¢ƒå˜é‡äº†ï¼›\n","source":"_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/rust-envæ²¡æœ‰ç»§æ‰¿é—®é¢˜.md","raw":"---\ntitle: æŠ€æœ¯è°ƒç ”-rust-envæ²¡æœ‰ç»§æ‰¿é—®é¢˜\nabbrlink: 38e3cf79\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - æŠ€æœ¯è°ƒç ”\n---\n\n# ä»‹ç»\n\nè¿‘æœŸåœ¨å¼€å‘`rust + vite`(tauri)é¡¹ç›®çš„æ—¶å€™ï¼Œå‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼›å°±æ˜¯æ²™ç®±éš”ç¦»æ¨¡å¼çš„ç¯å¢ƒå˜é‡ç»§æ‰¿é—®é¢˜ï¼›\n\nåœ¨`rust`æœ¬åœ°å¼€å‘ä¸­ï¼Œå¯ä»¥é€šè¿‡`std::env::var(\"PATH\")`æˆ–è€…å…¨å±€å˜é‡`$PATH`è·å–ç¯å¢ƒå˜é‡çš„å€¼ï¼Œå½“ç„¶æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡`std::env::vars()`è·å–æ‰€æœ‰çš„å…¨å±€å˜é‡ï¼›\n\nå½“ç„¶åœ¨å¼€å‘ç¯å¢ƒä¸­æ˜¯å¯ä»¥è·å–åˆ°çš„ï¼Œä½†æ˜¯åœ¨`build`ä¹‹åï¼Œ`rust`ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†`PATH`ç¯å¢ƒå˜é‡è®¾ç½®ä¸º`/usr/bin`ï¼Œæ‰€ä»¥æ— æ³•è·å–åˆ°å…¨å±€å˜é‡ï¼›\n\næ‰€ä»¥å½“æ‚¨è¿è¡Œ`ç¯å¢ƒå˜é‡`çš„æŸä¸ªå‘½ä»¤æ—¶ï¼Œæ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼›\n\nå› ä¸ºåœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­`%PATH`ä¸­æ ¹æœ¬è·å–ä¸åˆ°å¯¹åº”çš„å˜é‡ï¼›\n\n## æ¡ˆä¾‹\n\næˆ‘åœ¨æœ¬åœ°ç”µè„‘å®‰è£…äº†`fnm`ï¼Œåœ¨`dev`ä¹‹åæ˜¯å¯ä»¥è·å–åˆ°`where fnm`å‘½ä»¤çš„ï¼Œå¦‚ä¸‹ä»£ç ï¼š\n\n```rust\nfn is_installed(program: &str) -> bool {\n  let mut cmd = Command::new(if cfg!(target_os = \"windows\") {\n      \"cmd\"\n  } else {\n      \"bash\"\n  });\n  let arg = if cfg!(target_os = \"windows\") {\n      format!(\"where {}\", program)\n  } else {\n      format!(\"which {}\", program)\n  };\n  cmd.arg(\"-c\").arg(arg);\n\n  #[cfg(target_os = \"windows\")]\n  {\n      cmd.creation_flags(0x08000000);\n  }\n  let output = cmd.output().expect(\"Failed to execute command\");\n  let stdout = GBK.decode(&output.stdout);\n\n  let result: bool = output.status.success() && !output.stdout.is_empty();\n\n  info!(\n      \"{} æ˜¯å¦å·²ç»å®‰è£… {}, å®‰è£…ç»“æœä¸º: {}\",\n      program, result, stdout.0\n  );\n  result\n}\n// result çš„ç»“æœå°±æ˜¯ä½ ç”µè„‘å®‰è£…çš„ è·¯å¾„ï¼Œ å½“ç„¶å¦‚æœæœ‰è·¯å¾„ é‚£è¿”å›å¸ƒå°”å€¼\n```\n\nå½“æ‚¨æ‰§è¡Œä¹‹åï¼Œé‚£ä¹ˆæ‚¨å°±èƒ½è·å–åˆ°å¯¹åº”çš„å€¼ï¼Œå½“ç„¶æ‚¨åŒæ—¶ä¹Ÿå¯ä»¥åœ¨`ç»ˆç«¯`ä¸­æ‰§è¡Œ`which fnm`å‘½ä»¤æ¥è·å–åˆ°å¯¹åº”çš„è·¯å¾„ã€‚\n\nåªè¦æ‚¨æ‰“åŒ…ä¹‹åï¼Œå°±ä¼šè¿”å›ç©ºï¼›é‚£ä¹ˆå®ƒæ°¸è¿œè·å–ä¸åˆ°æ‚¨ç”µè„‘å®‰è£…è¿‡çš„ç¯å¢ƒï¼›\n\næˆ‘è¯•äº†å¥½å‡ ç§æ–¹æ¡ˆéƒ½æ˜¯ä¸è¡Œçš„ï¼Œ <font color=\"#ff0000\">ä¸‹é¢å››ç§æ–¹æ¡ˆéƒ½æ˜¯ä¸å¯è¡Œçš„</font>ï¼š\n\n1. é€šè¿‡`which`å‘½ä»¤è·å–åˆ°å¯¹åº”çš„è·¯å¾„ï¼›\n2. é€šè¿‡`fnm`å‘½ä»¤è·å–ç‰ˆæœ¬å·ï¼›\n3. é€šè¿‡è·å–ç¯å¢ƒå˜é‡ï¼›\n4. å®‰è£…`shell`æ’ä»¶ï¼Œå†å»è·å–ï¼›\n\n## è§£å†³æ–¹æ¡ˆ\n\nåœ¨`google`ä¸Šæœäº†å¥½å¤šèµ„æ–™ï¼Œæ–¹æ¡ˆéƒ½æ˜¯ä¸å¯è¡Œçš„ï¼›äºæ˜¯æˆ‘å°è¯•ç€å»`github`ä¸Šæ‰¾ä¸€æ‰¾ï¼›\n\nç»“æœè¿æ°”ä¸é”™ï¼Œè¿˜çœŸçš„æ‰¾åˆ°äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼›[**â€œæ„å»ºåï¼Œshell å‘½ä»¤å¤±è´¥â€**](https://github.com/tauri-apps/tauri/issues/8400)\n\né‡Œé¢æœ‰å¥è¯å¤§æ¦‚è§£é‡Šä¸ºä»€ä¹ˆåœ¨`build`ä¹‹åè·å–ä¸åˆ°ç¯å¢ƒå˜é‡äº†ï¼š\n\n**â€œI think that's because on macOS/Linux the PATH environment variable is not inherited by default from your .bashrc and similar shell files,can you try using this crate https://github.com/tauri-apps/fix-path-env-rs and see if it fixes the issue?â€**\n\nå¤§æ¦‚æ„æ€å°±æ˜¯ï¼š**æˆ‘è®¤ä¸ºè¿™æ˜¯å› ä¸ºåœ¨ macOS/Linux ä¸Šï¼ŒPATH ç¯å¢ƒå˜é‡é»˜è®¤ä¸ä¼šä»æ‚¨çš„.bashrc å’Œç±»ä¼¼çš„ shell æ–‡ä»¶ä¸­ç»§æ‰¿**\n\nå½“ç„¶äººå®¶å·²ç»æ•´ç†å‡ºäº†[è§£å†³æ–¹æ¡ˆ](https://github.com/tauri-apps/fix-path-env-rs);\n\næŒ‰ç…§å¯¹åº”çš„æ­¥éª¤è¿›è¡Œæ“ä½œï¼Œé‚£ä¹ˆ`build`ä¹‹åå°±å¯ä»¥è·å–åˆ°å¯¹åº”çš„ç¯å¢ƒå˜é‡äº†ï¼›\n","slug":"æ€»ç»“/æŠ€æœ¯è°ƒç ”/rust-envæ²¡æœ‰ç»§æ‰¿é—®é¢˜","published":1,"updated":"2025-03-12T09:54:21.641Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0is000jfg9mgzk90fbt","content":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>è¿‘æœŸåœ¨å¼€å‘<code>rust + vite</code>(tauri)é¡¹ç›®çš„æ—¶å€™ï¼Œå‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼›å°±æ˜¯æ²™ç®±éš”ç¦»æ¨¡å¼çš„ç¯å¢ƒå˜é‡ç»§æ‰¿é—®é¢˜ï¼›</p>\n<p>åœ¨<code>rust</code>æœ¬åœ°å¼€å‘ä¸­ï¼Œå¯ä»¥é€šè¿‡<code>std::env::var(&quot;PATH&quot;)</code>æˆ–è€…å…¨å±€å˜é‡<code>$PATH</code>è·å–ç¯å¢ƒå˜é‡çš„å€¼ï¼Œå½“ç„¶æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡<code>std::env::vars()</code>è·å–æ‰€æœ‰çš„å…¨å±€å˜é‡ï¼›</p>\n<p>å½“ç„¶åœ¨å¼€å‘ç¯å¢ƒä¸­æ˜¯å¯ä»¥è·å–åˆ°çš„ï¼Œä½†æ˜¯åœ¨<code>build</code>ä¹‹åï¼Œ<code>rust</code>ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†<code>PATH</code>ç¯å¢ƒå˜é‡è®¾ç½®ä¸º<code>/usr/bin</code>ï¼Œæ‰€ä»¥æ— æ³•è·å–åˆ°å…¨å±€å˜é‡ï¼›</p>\n<p>æ‰€ä»¥å½“æ‚¨è¿è¡Œ<code>ç¯å¢ƒå˜é‡</code>çš„æŸä¸ªå‘½ä»¤æ—¶ï¼Œæ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼›</p>\n<p>å› ä¸ºåœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­<code>%PATH</code>ä¸­æ ¹æœ¬è·å–ä¸åˆ°å¯¹åº”çš„å˜é‡ï¼›</p>\n<h2 id=\"æ¡ˆä¾‹\"><a href=\"#æ¡ˆä¾‹\" class=\"headerlink\" title=\"æ¡ˆä¾‹\"></a>æ¡ˆä¾‹</h2><p>æˆ‘åœ¨æœ¬åœ°ç”µè„‘å®‰è£…äº†<code>fnm</code>ï¼Œåœ¨<code>dev</code>ä¹‹åæ˜¯å¯ä»¥è·å–åˆ°<code>where fnm</code>å‘½ä»¤çš„ï¼Œå¦‚ä¸‹ä»£ç ï¼š</p>\n<figure class=\"highlight rust\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">fn</span> <span class=\"title function_\">is_installed</span>(program: &amp;<span class=\"type\">str</span>) <span class=\"punctuation\">-&gt;</span> <span class=\"type\">bool</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"keyword\">mut </span><span class=\"variable\">cmd</span> = Command::<span class=\"title function_ invoke__\">new</span>(<span class=\"keyword\">if</span> <span class=\"built_in\">cfg!</span>(target_os = <span class=\"string\">&quot;windows&quot;</span>) &#123;</span><br><span class=\"line\">      <span class=\"string\">&quot;cmd&quot;</span></span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"string\">&quot;bash&quot;</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">arg</span> = <span class=\"keyword\">if</span> <span class=\"built_in\">cfg!</span>(target_os = <span class=\"string\">&quot;windows&quot;</span>) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">format!</span>(<span class=\"string\">&quot;where &#123;&#125;&quot;</span>, program)</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"built_in\">format!</span>(<span class=\"string\">&quot;which &#123;&#125;&quot;</span>, program)</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  cmd.<span class=\"title function_ invoke__\">arg</span>(<span class=\"string\">&quot;-c&quot;</span>).<span class=\"title function_ invoke__\">arg</span>(arg);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">#[cfg(target_os = <span class=\"string\">&quot;windows&quot;</span>)]</span></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">      cmd.<span class=\"title function_ invoke__\">creation_flags</span>(<span class=\"number\">0x08000000</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">output</span> = cmd.<span class=\"title function_ invoke__\">output</span>().<span class=\"title function_ invoke__\">expect</span>(<span class=\"string\">&quot;Failed to execute command&quot;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">stdout</span> = GBK.<span class=\"title function_ invoke__\">decode</span>(&amp;output.stdout);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">result</span>: <span class=\"type\">bool</span> = output.status.<span class=\"title function_ invoke__\">success</span>() &amp;&amp; !output.stdout.<span class=\"title function_ invoke__\">is_empty</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  info!(</span><br><span class=\"line\">      <span class=\"string\">&quot;&#123;&#125; æ˜¯å¦å·²ç»å®‰è£… &#123;&#125;, å®‰è£…ç»“æœä¸º: &#123;&#125;&quot;</span>,</span><br><span class=\"line\">      program, result, stdout.<span class=\"number\">0</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">  result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// result çš„ç»“æœå°±æ˜¯ä½ ç”µè„‘å®‰è£…çš„ è·¯å¾„ï¼Œ å½“ç„¶å¦‚æœæœ‰è·¯å¾„ é‚£è¿”å›å¸ƒå°”å€¼</span></span><br></pre></td></tr></table></figure>\n\n<p>å½“æ‚¨æ‰§è¡Œä¹‹åï¼Œé‚£ä¹ˆæ‚¨å°±èƒ½è·å–åˆ°å¯¹åº”çš„å€¼ï¼Œå½“ç„¶æ‚¨åŒæ—¶ä¹Ÿå¯ä»¥åœ¨<code>ç»ˆç«¯</code>ä¸­æ‰§è¡Œ<code>which fnm</code>å‘½ä»¤æ¥è·å–åˆ°å¯¹åº”çš„è·¯å¾„ã€‚</p>\n<p>åªè¦æ‚¨æ‰“åŒ…ä¹‹åï¼Œå°±ä¼šè¿”å›ç©ºï¼›é‚£ä¹ˆå®ƒæ°¸è¿œè·å–ä¸åˆ°æ‚¨ç”µè„‘å®‰è£…è¿‡çš„ç¯å¢ƒï¼›</p>\n<p>æˆ‘è¯•äº†å¥½å‡ ç§æ–¹æ¡ˆéƒ½æ˜¯ä¸è¡Œçš„ï¼Œ <font color=\"#ff0000\">ä¸‹é¢å››ç§æ–¹æ¡ˆéƒ½æ˜¯ä¸å¯è¡Œçš„</font>ï¼š</p>\n<ol>\n<li>é€šè¿‡<code>which</code>å‘½ä»¤è·å–åˆ°å¯¹åº”çš„è·¯å¾„ï¼›</li>\n<li>é€šè¿‡<code>fnm</code>å‘½ä»¤è·å–ç‰ˆæœ¬å·ï¼›</li>\n<li>é€šè¿‡è·å–ç¯å¢ƒå˜é‡ï¼›</li>\n<li>å®‰è£…<code>shell</code>æ’ä»¶ï¼Œå†å»è·å–ï¼›</li>\n</ol>\n<h2 id=\"è§£å†³æ–¹æ¡ˆ\"><a href=\"#è§£å†³æ–¹æ¡ˆ\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h2><p>åœ¨<code>google</code>ä¸Šæœäº†å¥½å¤šèµ„æ–™ï¼Œæ–¹æ¡ˆéƒ½æ˜¯ä¸å¯è¡Œçš„ï¼›äºæ˜¯æˆ‘å°è¯•ç€å»<code>github</code>ä¸Šæ‰¾ä¸€æ‰¾ï¼›</p>\n<p>ç»“æœè¿æ°”ä¸é”™ï¼Œè¿˜çœŸçš„æ‰¾åˆ°äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼›<a href=\"https://github.com/tauri-apps/tauri/issues/8400\"><strong>â€œæ„å»ºåï¼Œshell å‘½ä»¤å¤±è´¥â€</strong></a></p>\n<p>é‡Œé¢æœ‰å¥è¯å¤§æ¦‚è§£é‡Šä¸ºä»€ä¹ˆåœ¨<code>build</code>ä¹‹åè·å–ä¸åˆ°ç¯å¢ƒå˜é‡äº†ï¼š</p>\n<p><strong>â€œI think thatâ€™s because on macOS&#x2F;Linux the PATH environment variable is not inherited by default from your .bashrc and similar shell files,can you try using this crate <a href=\"https://github.com/tauri-apps/fix-path-env-rs\">https://github.com/tauri-apps/fix-path-env-rs</a> and see if it fixes the issue?â€</strong></p>\n<p>å¤§æ¦‚æ„æ€å°±æ˜¯ï¼š<strong>æˆ‘è®¤ä¸ºè¿™æ˜¯å› ä¸ºåœ¨ macOS&#x2F;Linux ä¸Šï¼ŒPATH ç¯å¢ƒå˜é‡é»˜è®¤ä¸ä¼šä»æ‚¨çš„.bashrc å’Œç±»ä¼¼çš„ shell æ–‡ä»¶ä¸­ç»§æ‰¿</strong></p>\n<p>å½“ç„¶äººå®¶å·²ç»æ•´ç†å‡ºäº†<a href=\"https://github.com/tauri-apps/fix-path-env-rs\">è§£å†³æ–¹æ¡ˆ</a>;</p>\n<p>æŒ‰ç…§å¯¹åº”çš„æ­¥éª¤è¿›è¡Œæ“ä½œï¼Œé‚£ä¹ˆ<code>build</code>ä¹‹åå°±å¯ä»¥è·å–åˆ°å¯¹åº”çš„ç¯å¢ƒå˜é‡äº†ï¼›</p>\n","excerpt":"","more":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>è¿‘æœŸåœ¨å¼€å‘<code>rust + vite</code>(tauri)é¡¹ç›®çš„æ—¶å€™ï¼Œå‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼›å°±æ˜¯æ²™ç®±éš”ç¦»æ¨¡å¼çš„ç¯å¢ƒå˜é‡ç»§æ‰¿é—®é¢˜ï¼›</p>\n<p>åœ¨<code>rust</code>æœ¬åœ°å¼€å‘ä¸­ï¼Œå¯ä»¥é€šè¿‡<code>std::env::var(&quot;PATH&quot;)</code>æˆ–è€…å…¨å±€å˜é‡<code>$PATH</code>è·å–ç¯å¢ƒå˜é‡çš„å€¼ï¼Œå½“ç„¶æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡<code>std::env::vars()</code>è·å–æ‰€æœ‰çš„å…¨å±€å˜é‡ï¼›</p>\n<p>å½“ç„¶åœ¨å¼€å‘ç¯å¢ƒä¸­æ˜¯å¯ä»¥è·å–åˆ°çš„ï¼Œä½†æ˜¯åœ¨<code>build</code>ä¹‹åï¼Œ<code>rust</code>ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†<code>PATH</code>ç¯å¢ƒå˜é‡è®¾ç½®ä¸º<code>/usr/bin</code>ï¼Œæ‰€ä»¥æ— æ³•è·å–åˆ°å…¨å±€å˜é‡ï¼›</p>\n<p>æ‰€ä»¥å½“æ‚¨è¿è¡Œ<code>ç¯å¢ƒå˜é‡</code>çš„æŸä¸ªå‘½ä»¤æ—¶ï¼Œæ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼›</p>\n<p>å› ä¸ºåœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­<code>%PATH</code>ä¸­æ ¹æœ¬è·å–ä¸åˆ°å¯¹åº”çš„å˜é‡ï¼›</p>\n<h2 id=\"æ¡ˆä¾‹\"><a href=\"#æ¡ˆä¾‹\" class=\"headerlink\" title=\"æ¡ˆä¾‹\"></a>æ¡ˆä¾‹</h2><p>æˆ‘åœ¨æœ¬åœ°ç”µè„‘å®‰è£…äº†<code>fnm</code>ï¼Œåœ¨<code>dev</code>ä¹‹åæ˜¯å¯ä»¥è·å–åˆ°<code>where fnm</code>å‘½ä»¤çš„ï¼Œå¦‚ä¸‹ä»£ç ï¼š</p>\n<figure class=\"highlight rust\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">fn</span> <span class=\"title function_\">is_installed</span>(program: &amp;<span class=\"type\">str</span>) <span class=\"punctuation\">-&gt;</span> <span class=\"type\">bool</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"keyword\">mut </span><span class=\"variable\">cmd</span> = Command::<span class=\"title function_ invoke__\">new</span>(<span class=\"keyword\">if</span> <span class=\"built_in\">cfg!</span>(target_os = <span class=\"string\">&quot;windows&quot;</span>) &#123;</span><br><span class=\"line\">      <span class=\"string\">&quot;cmd&quot;</span></span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"string\">&quot;bash&quot;</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">arg</span> = <span class=\"keyword\">if</span> <span class=\"built_in\">cfg!</span>(target_os = <span class=\"string\">&quot;windows&quot;</span>) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">format!</span>(<span class=\"string\">&quot;where &#123;&#125;&quot;</span>, program)</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"built_in\">format!</span>(<span class=\"string\">&quot;which &#123;&#125;&quot;</span>, program)</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  cmd.<span class=\"title function_ invoke__\">arg</span>(<span class=\"string\">&quot;-c&quot;</span>).<span class=\"title function_ invoke__\">arg</span>(arg);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">#[cfg(target_os = <span class=\"string\">&quot;windows&quot;</span>)]</span></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">      cmd.<span class=\"title function_ invoke__\">creation_flags</span>(<span class=\"number\">0x08000000</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">output</span> = cmd.<span class=\"title function_ invoke__\">output</span>().<span class=\"title function_ invoke__\">expect</span>(<span class=\"string\">&quot;Failed to execute command&quot;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">stdout</span> = GBK.<span class=\"title function_ invoke__\">decode</span>(&amp;output.stdout);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"variable\">result</span>: <span class=\"type\">bool</span> = output.status.<span class=\"title function_ invoke__\">success</span>() &amp;&amp; !output.stdout.<span class=\"title function_ invoke__\">is_empty</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  info!(</span><br><span class=\"line\">      <span class=\"string\">&quot;&#123;&#125; æ˜¯å¦å·²ç»å®‰è£… &#123;&#125;, å®‰è£…ç»“æœä¸º: &#123;&#125;&quot;</span>,</span><br><span class=\"line\">      program, result, stdout.<span class=\"number\">0</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">  result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// result çš„ç»“æœå°±æ˜¯ä½ ç”µè„‘å®‰è£…çš„ è·¯å¾„ï¼Œ å½“ç„¶å¦‚æœæœ‰è·¯å¾„ é‚£è¿”å›å¸ƒå°”å€¼</span></span><br></pre></td></tr></table></figure>\n\n<p>å½“æ‚¨æ‰§è¡Œä¹‹åï¼Œé‚£ä¹ˆæ‚¨å°±èƒ½è·å–åˆ°å¯¹åº”çš„å€¼ï¼Œå½“ç„¶æ‚¨åŒæ—¶ä¹Ÿå¯ä»¥åœ¨<code>ç»ˆç«¯</code>ä¸­æ‰§è¡Œ<code>which fnm</code>å‘½ä»¤æ¥è·å–åˆ°å¯¹åº”çš„è·¯å¾„ã€‚</p>\n<p>åªè¦æ‚¨æ‰“åŒ…ä¹‹åï¼Œå°±ä¼šè¿”å›ç©ºï¼›é‚£ä¹ˆå®ƒæ°¸è¿œè·å–ä¸åˆ°æ‚¨ç”µè„‘å®‰è£…è¿‡çš„ç¯å¢ƒï¼›</p>\n<p>æˆ‘è¯•äº†å¥½å‡ ç§æ–¹æ¡ˆéƒ½æ˜¯ä¸è¡Œçš„ï¼Œ <font color=\"#ff0000\">ä¸‹é¢å››ç§æ–¹æ¡ˆéƒ½æ˜¯ä¸å¯è¡Œçš„</font>ï¼š</p>\n<ol>\n<li>é€šè¿‡<code>which</code>å‘½ä»¤è·å–åˆ°å¯¹åº”çš„è·¯å¾„ï¼›</li>\n<li>é€šè¿‡<code>fnm</code>å‘½ä»¤è·å–ç‰ˆæœ¬å·ï¼›</li>\n<li>é€šè¿‡è·å–ç¯å¢ƒå˜é‡ï¼›</li>\n<li>å®‰è£…<code>shell</code>æ’ä»¶ï¼Œå†å»è·å–ï¼›</li>\n</ol>\n<h2 id=\"è§£å†³æ–¹æ¡ˆ\"><a href=\"#è§£å†³æ–¹æ¡ˆ\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h2><p>åœ¨<code>google</code>ä¸Šæœäº†å¥½å¤šèµ„æ–™ï¼Œæ–¹æ¡ˆéƒ½æ˜¯ä¸å¯è¡Œçš„ï¼›äºæ˜¯æˆ‘å°è¯•ç€å»<code>github</code>ä¸Šæ‰¾ä¸€æ‰¾ï¼›</p>\n<p>ç»“æœè¿æ°”ä¸é”™ï¼Œè¿˜çœŸçš„æ‰¾åˆ°äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼›<a href=\"https://github.com/tauri-apps/tauri/issues/8400\"><strong>â€œæ„å»ºåï¼Œshell å‘½ä»¤å¤±è´¥â€</strong></a></p>\n<p>é‡Œé¢æœ‰å¥è¯å¤§æ¦‚è§£é‡Šä¸ºä»€ä¹ˆåœ¨<code>build</code>ä¹‹åè·å–ä¸åˆ°ç¯å¢ƒå˜é‡äº†ï¼š</p>\n<p><strong>â€œI think thatâ€™s because on macOS&#x2F;Linux the PATH environment variable is not inherited by default from your .bashrc and similar shell files,can you try using this crate <a href=\"https://github.com/tauri-apps/fix-path-env-rs\">https://github.com/tauri-apps/fix-path-env-rs</a> and see if it fixes the issue?â€</strong></p>\n<p>å¤§æ¦‚æ„æ€å°±æ˜¯ï¼š<strong>æˆ‘è®¤ä¸ºè¿™æ˜¯å› ä¸ºåœ¨ macOS&#x2F;Linux ä¸Šï¼ŒPATH ç¯å¢ƒå˜é‡é»˜è®¤ä¸ä¼šä»æ‚¨çš„.bashrc å’Œç±»ä¼¼çš„ shell æ–‡ä»¶ä¸­ç»§æ‰¿</strong></p>\n<p>å½“ç„¶äººå®¶å·²ç»æ•´ç†å‡ºäº†<a href=\"https://github.com/tauri-apps/fix-path-env-rs\">è§£å†³æ–¹æ¡ˆ</a>;</p>\n<p>æŒ‰ç…§å¯¹åº”çš„æ­¥éª¤è¿›è¡Œæ“ä½œï¼Œé‚£ä¹ˆ<code>build</code>ä¹‹åå°±å¯ä»¥è·å–åˆ°å¯¹åº”çš„ç¯å¢ƒå˜é‡äº†ï¼›</p>\n"},{"title":"æŠ€æœ¯è°ƒç ”-è¿œç¨‹ç»„ä»¶çš„ä»‹ç»","abbrlink":"3d539fd5","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\nè¿‘æœŸæˆ‘åœ¨åšä»€ä¹ˆï¼Ÿ\n\n`è¿œç¨‹ç»„ä»¶å¦‚ä½•å¼•å…¥åœ¨é¡¹ç›®ä¸­`è¿™ä¸ªè¯é¢˜ä¹Ÿå°±æ˜¯æˆ‘æœ€è¿‘åœ¨ç ”ç©¶çš„ä¸œè¥¿ï¼›\n\n## ä¸ºä»€ä¹ˆï¼Ÿ\n\næœ€è¿‘æœ‰ä¸€ä¸ªæƒ³æ³•ï¼Œå°±æ˜¯åœ¨å·¥ä½œä¸­æœ‰é‚£ä¹ˆä¸€ä¸ªåŠŸèƒ½å°±æ˜¯`å•†å“å±æ€§`ï¼Œ ç±»ä¼¼äºæ·˜å®äº¬ä¸œçš„é€‰æ‹©å•†å“è§„æ ¼çš„åŠŸèƒ½, æœ‰å°ºå¯¸å¤§å°ï¼Œæœ‰çœ¼è‰²ï¼Œæœ‰æè´¨ç­‰ç­‰ï¼›\n\n**è¯¥åŠŸèƒ½æ¶‰åŠåˆ°å¤šä¸ªå¹³å°ï¼Œæ¯ä¸ªå±æ€§æœ‰å¯¹åº”çš„è§„åˆ™ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªæ¯”è¾ƒéº»çƒ¦çš„ç‚¹å°±æ˜¯åŠŸèƒ½æ˜¯ä¸€è‡´çš„ï¼Œè§„åˆ™æ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯å®Œå…¨çš„åŠŸèƒ½è¦åœ¨ä¸åŒçš„é¡¹ç›®ä¸­å¤åˆ¶ç²˜è´´ä¿®æ”¹ï¼›å¯¼è‡´ç°åœ¨å°±æ˜¯ä¸åŒçš„é¡¹ç›®ä¸­éƒ½æœ‰ä¸€æ ·çš„ç»„ä»¶ä¸€æ ·çš„ä»£ç **\n\nè¿™æ ·å°±æš´éœ²å‡ºäº†å¼Šç«¯ï¼š\n\n1. ç»´æŠ¤å¤šä¸ªå¹³å°ï¼Œæ¯”å¦‚ä¿®æ”¹äº†è§„åˆ™ï¼Œé‚£ä¹ˆå°±è¦ä¿®æ”¹å¤šä¸ªé¡¹ç›®ï¼›pc ç«¯, h5, å°ç¨‹åºç­‰ç­‰;\n2. ä»£ç çš„é‡å¤æ€§æ¯”è¾ƒé«˜ï¼Œå¯¹äºé«˜å¤æ‚çš„ç»„ä»¶æ²¡æœ‰å¯¹åº”çš„æ–‡æ¡£ä»¥åŠè¯´æ˜ï¼›\n3. åº•å±‚çš„å˜åŠ¨ä»¥åŠå‚æ•°ä¸ç»Ÿä¸€ï¼ŒA åŒå­¦åŠ ä¸ªä¸€ä¸ªå‚æ•° a, B åŠ äº†ä¸€ä¸ª bï¼Œæœ€åéƒ½ä¸çŸ¥é“è¯¥å­—æ®µçš„å…·ä½“ä½œç”¨\n\nåœ¨è¿™æ ·çš„ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œäºæ˜¯æˆ‘æ¶ˆè´¹ä¸€äº›æ—¶é—´å»ç ”ç©¶ä¸€ä¸‹è¿œç¨‹ç»„ä»¶å¦‚ä½•åšï¼Ÿ\n\n**å½“ç„¶è¿œç¨‹ç»„ä»¶çš„å¥½å¤„å°±æ˜¯ï¼šåæœŸç»´æŠ¤è¿™ä¸ªç»„ä»¶å³å¯ï¼›**\n\näºæ˜¯ï¼Œå°±è€ƒè™‘åˆ°äº†ä¿©ç§ä¸åŒçš„å¤„ç†æ–¹å¼\n\n1. åŒ…ä¾èµ–æ¨¡å¼ï¼Œæœ‰ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯å¦‚æœè¿œç¨‹ç»„ä»¶æ›´æ–°äº†ï¼Œé‚£ä¹ˆæœ¬åœ°ä»¥åŠç”Ÿäº§çš„`package.json`ä¹Ÿè¦å¯¹åº”è¿›è¡Œå‡çº§ï¼›ä¸è¿‡ç¨³å®šæ€§æ¯”è¾ƒé«˜\n2. cdn æ¨¡å¼ï¼Œé‚£å°±æ˜¯é¡¹ç›®ä½¿ç”¨ cdn çš„æ¨¡å¼å¼•å…¥`import {RTx} from 'https://xxx.com/xx.js'`, ä¸è¿‡è¿™æ ·åœ¨`vite`ä¸Šæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œåœ¨`webpack`ä¸Šå°±æ— æ³•ä½¿ç”¨äº†\n\n## æ€è·¯\n\n### é¦–å…ˆï¼Œé€‰ç”¨æ„å»ºå·¥å…·ï¼š\n\n- vite\n- webpack\n- rollup\n\nåœ¨ä¸‰è€…çš„æ¯”è¾ƒä¸‹ï¼Œæˆ‘é€‰æ‹©äº†`vite`\n\n1. vite ä¸ webpack ç›¸æ¯”ï¼Œä¸è®ºæ˜¯å¯åŠ¨ï¼Œæ‰“åŒ…è¿˜æ˜¯çƒ­æ›´æ–°ï¼Œvite è¿˜æ˜¯æ¯”è¾ƒä¼˜ç§€çš„ï¼Œå†è€…ï¼Œvite è¿˜æ”¯æŒå¯¹ rollup çš„é…ç½®\n2. rollup ä¸ webpack ç›¸æ¯”ï¼Œrollup æ›´åŠ è½»é‡ï¼Œé…ç½®ç®€å•ï¼Œä½†æ˜¯ä¸æ”¯æŒçƒ­æ›´æ–°\n\nä¸ºä»€ä¹ˆè¦ç”¨åˆ°çƒ­æ›´æ–°ï¼Œå› ä¸ºä½ åœ¨å¼€å‘ç»„ä»¶æˆ–è€…æµ‹è¯•ä¸€äº› api çš„æ—¶å€™æ€»ä¸èƒ½æ¯æ¬¡éƒ½é‡å¯ä¿®æ”¹å§ï¼Œé‚£ä¹ˆçƒ­æ›´æ–°æ˜¯ä¸é”™çš„é€‰æ‹©ï¼›\n\näºæ˜¯æˆ‘è¿˜æ˜¯é‡‡ç”¨`vite`çš„æ‰“åŒ…æ–¹å¼ï¼ŒåŸå› å°±æ˜¯å¾ˆç®€å•ï¼Œé€Ÿåº¦ï¼Œé…ç½®ç­‰éƒ½ç®—çš„æ˜¯æ¯”è¾ƒä¸é”™çš„ï¼Œå½“ç„¶æ˜¯è¿˜å¯ä»¥é…ç½® rollup é…ç½®ï¼› å®Œå…¨æ˜¯è‡ªå®šä¹‰çš„ï¼›\n\n### å…¶æ¬¡ï¼Œç»„ä»¶çš„ç¼–å†™æ–¹å¼ï¼š\n\nç»„ä»¶ä½¿ç”¨ `vueComponent` çš„æ–¹å¼ï¼Œä¹‹å‰ä¹Ÿæƒ³è¿‡ç”¨å‡½æ•°ç»„ä»¶ï¼Œä½†æ˜¯æœ‰äº›åœºæ™¯ä¸å¤ªåˆé€‚ï¼›å°±æ‹¿`vant`æ¥è®²ï¼Œå…¶è¿œå˜›å°±æ˜¯`tsx/jsx`ç¼–å†™ï¼Œä½ ç›´æ¥çœ‹ä¸åˆ°`vue`æ–‡ä»¶ï¼Œä½†æ˜¯å¯¹äºå…¶ç»´æŠ¤çš„ä¾¿åˆ©æ€§æ¥è®²æˆ‘è¿˜æ˜¯çœ‹ä¸­`component`çš„å½¢å¼ï¼›\n\næ¥ç€ï¼Œå°±è¦å¯¹å…¶ç›®å½•è¿›è¡Œåˆ†çº§ï¼Œ\n\n- packages\n  - ele-components => element-plus ç»„ä»¶çš„ç›®å½•\n  - van-components => van-ui ç»„ä»¶çš„ç›®å½•\n  - utils => å·¥å…·å‡½æ•°çš„ç›®å½•\n  - hooks => å°è£…çš„ hooks\n  - types => ç±»å‹å®šä¹‰\n  - style => æ ·å¼çš„ç›®å½•\n  - index.ts => å…¥å£æ–‡ä»¶\n  - package.json => ç»„ä»¶çš„é…ç½®æ–‡ä»¶\n- package.json\n- vite.config.ts\n- ...å…¶ä»–æ–‡ä»¶\n\nå½“ç„¶å¯¹åº”çš„æ‰“åŒ…æ–‡ä»¶çš„æ ¼å¼ä¹Ÿå’Œ`packages`ä¸€æ ·ï¼Œè¿™æ ·å°±å¯ä»¥äº†\n\n### ç¼–å†™è¿œç¨‹ç»„ä»¶\n\nå…¶å®è¿™é‡Œçš„è¿œç¨‹ç»„ä»¶å’Œæ—¥å¸¸ç¼–å†™çš„ç»„ä»¶æ˜¯ä¸€æ ·çš„ï¼Œä¸è¿‡æ˜¯å¯¹å…¬å¸çš„ä¸€äº›å…¬å…±çš„ä¸šåŠ¡ç»„ä»¶è¿›è¡Œæ‹†åˆ†ï¼Œä»è€Œå†äºŒæ¬¡å°è£…ï¼ŒåæœŸåªéœ€è¦å¼•å…¥å¯¹åº”çš„ä¾èµ–å³å¯ï¼Œè¿™æ ·å°±å¯ä»¥åšåˆ°ä»…ä»…ä¿®æ”¹ä¸€æ¬¡ä»è€Œå†å¤šä¸ªå¹³å°è¿›è¡Œæ›´æ–°ï¼›\n\nå…·ä½“çš„ç¼–å†™æ–¹å¼å°±ä¸ç»†è¯´äº†ï¼›\n\nå½“ä½ å†™å®Œä¹‹åï¼Œé‚£ä¹ˆæœ€åä¸€æ­¥å°±æ˜¯è¿›è¡Œæ‰“åŒ…äº†ï¼Œ è¿™é‡Œæˆ‘é‡‡å–`vite-lib`æ’ä»¶çš„å½¢å¼è¿›è¡Œæ‰“åŒ…ï¼š\n\n```JS\n{\n  build: {\n    lib: {\n      entry: '', // æ’ä»¶çš„å…¥å£æ–‡ä»¶\n      name: '', // åå­—\n      formats: ['es'] // æ‰“åŒ…çš„æ ¼å¼\n    },\n    // rollupé…ç½®\n    rollupOptions: {\n      external: {},\n      output: {\n      }\n    },\n    cssCodeSplit: true\n  }\n}\n```\n\nä»¥ä¾èµ–åŒ…çš„å½¢å¼å°†è¿›è¡Œæ‰“åŒ…ï¼Œè¿™é‡Œæˆ‘ç”¨åˆ°äº†å‡ ä¸ªæ’ä»¶ï¼š\n\n1. vite-plugin-dtsï¼š å°†ç»„ä»¶çš„ä»£ç è¿›è¡Œç±»å‹å£°æ˜ï¼Œæ–¹ä¾¿ä½¿ç”¨\n2. autoprefixer: æ·»åŠ æµè§ˆå™¨å‰ç¼€\n3. rollup-plugin-obfuscator: ä»£ç æ··æ·†\n\næ‰“åŒ…å®Œæˆä¹‹åï¼Œä½ ä¼šå‘ç°å¯¹åº”çš„æ–‡ä»¶ä¼šå¾ˆå¤§ï¼Œé‚£ä¹ˆæ¥ç€å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œ é¦–å…ˆæˆ‘ä»¬ä¸‹è½½çš„ä¸€äº›ä¾èµ–ä¸éœ€è¦è¿›è¡Œæ‰“åŒ…ï¼Œå¦‚ï¼š`vue, vant, element-plus`ï¼›\n\né‚£ä¹ˆ`vite-rollupOptions`æœ‰è¿™æ ·ä¸€ä¸ªé…ç½®ï¼š\n\n```ts\n{\n\trollupOptions: {\n\t\texternal: [\"vue\", \"vant\", \"element-plus\"];\n\t}\n}\n```\n\né‚£ä¹ˆé‡æ–°æ‰“åŒ…ï¼Œè§‚å¯Ÿå…¶æ–‡ä»¶å¤§å°ï¼Œä½ ä¼šå‘ç°æ¯”ä¹‹å‰çš„æ–‡ä»¶å°äº†å¾ˆå¤šï¼›\n\nåˆ°äº†è¿™ä¸€æ­¥åŸºæœ¬ä¸Šå·®ä¸å¤šäº†ï¼Œä¸è¿‡è¦æ³¨æ„çš„æ˜¯æ‰“åŒ…å®Œæˆä¹‹åå¿…é¡»è¦æœ‰`package.json`æ–‡ä»¶ï¼Œä¸ç„¶åæœŸä½¿ç”¨`install`çš„æ–¹å¼ä¼šå¤±è´¥çš„ï¼›\n\n**è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨æ¡ˆä¾‹ï¼š**\n\n```ts\n// ç±»ä¼¼äºè¿™æ ·çš„æ ¼å¼ï¼Œå…·ä½“è·¯å¾„è‡ªå·±è¿›è¡Œé…ç½®ï¼›\n// è¿™æ ·åšåˆ°äº†æŒ‰éœ€åŠ è½½ï¼Œç”¨åˆ°é‚£ä¸ªç»„ä»¶åŠ è½½å¯¹åº”çš„ç»„ä»¶ä»¥åŠæ ·å¼ï¼Œé¿å…ç»„ä»¶å’Œæ ·å¼æ‰“åŒ…ä¸€èµ·å¯¼è‡´æ–‡ä»¶åŠ è½½æ—¶é—´è¿‡é•¿çš„æƒ…å†µ\nimport \"remote-components/ele/index.css\";\nimport { ElButton } from \"remote-components\";\n\n<template>\n\t<ElButton />\n</template>;\n```\n","source":"_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/å¼€å‘è¿œç¨‹ç»„ä»¶çš„ä»‹ç».md","raw":"---\ntitle: æŠ€æœ¯è°ƒç ”-è¿œç¨‹ç»„ä»¶çš„ä»‹ç»\nabbrlink: 3d539fd5\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - æŠ€æœ¯è°ƒç ”\n---\n\n# èƒŒæ™¯\n\nè¿‘æœŸæˆ‘åœ¨åšä»€ä¹ˆï¼Ÿ\n\n`è¿œç¨‹ç»„ä»¶å¦‚ä½•å¼•å…¥åœ¨é¡¹ç›®ä¸­`è¿™ä¸ªè¯é¢˜ä¹Ÿå°±æ˜¯æˆ‘æœ€è¿‘åœ¨ç ”ç©¶çš„ä¸œè¥¿ï¼›\n\n## ä¸ºä»€ä¹ˆï¼Ÿ\n\næœ€è¿‘æœ‰ä¸€ä¸ªæƒ³æ³•ï¼Œå°±æ˜¯åœ¨å·¥ä½œä¸­æœ‰é‚£ä¹ˆä¸€ä¸ªåŠŸèƒ½å°±æ˜¯`å•†å“å±æ€§`ï¼Œ ç±»ä¼¼äºæ·˜å®äº¬ä¸œçš„é€‰æ‹©å•†å“è§„æ ¼çš„åŠŸèƒ½, æœ‰å°ºå¯¸å¤§å°ï¼Œæœ‰çœ¼è‰²ï¼Œæœ‰æè´¨ç­‰ç­‰ï¼›\n\n**è¯¥åŠŸèƒ½æ¶‰åŠåˆ°å¤šä¸ªå¹³å°ï¼Œæ¯ä¸ªå±æ€§æœ‰å¯¹åº”çš„è§„åˆ™ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªæ¯”è¾ƒéº»çƒ¦çš„ç‚¹å°±æ˜¯åŠŸèƒ½æ˜¯ä¸€è‡´çš„ï¼Œè§„åˆ™æ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯å®Œå…¨çš„åŠŸèƒ½è¦åœ¨ä¸åŒçš„é¡¹ç›®ä¸­å¤åˆ¶ç²˜è´´ä¿®æ”¹ï¼›å¯¼è‡´ç°åœ¨å°±æ˜¯ä¸åŒçš„é¡¹ç›®ä¸­éƒ½æœ‰ä¸€æ ·çš„ç»„ä»¶ä¸€æ ·çš„ä»£ç **\n\nè¿™æ ·å°±æš´éœ²å‡ºäº†å¼Šç«¯ï¼š\n\n1. ç»´æŠ¤å¤šä¸ªå¹³å°ï¼Œæ¯”å¦‚ä¿®æ”¹äº†è§„åˆ™ï¼Œé‚£ä¹ˆå°±è¦ä¿®æ”¹å¤šä¸ªé¡¹ç›®ï¼›pc ç«¯, h5, å°ç¨‹åºç­‰ç­‰;\n2. ä»£ç çš„é‡å¤æ€§æ¯”è¾ƒé«˜ï¼Œå¯¹äºé«˜å¤æ‚çš„ç»„ä»¶æ²¡æœ‰å¯¹åº”çš„æ–‡æ¡£ä»¥åŠè¯´æ˜ï¼›\n3. åº•å±‚çš„å˜åŠ¨ä»¥åŠå‚æ•°ä¸ç»Ÿä¸€ï¼ŒA åŒå­¦åŠ ä¸ªä¸€ä¸ªå‚æ•° a, B åŠ äº†ä¸€ä¸ª bï¼Œæœ€åéƒ½ä¸çŸ¥é“è¯¥å­—æ®µçš„å…·ä½“ä½œç”¨\n\nåœ¨è¿™æ ·çš„ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œäºæ˜¯æˆ‘æ¶ˆè´¹ä¸€äº›æ—¶é—´å»ç ”ç©¶ä¸€ä¸‹è¿œç¨‹ç»„ä»¶å¦‚ä½•åšï¼Ÿ\n\n**å½“ç„¶è¿œç¨‹ç»„ä»¶çš„å¥½å¤„å°±æ˜¯ï¼šåæœŸç»´æŠ¤è¿™ä¸ªç»„ä»¶å³å¯ï¼›**\n\näºæ˜¯ï¼Œå°±è€ƒè™‘åˆ°äº†ä¿©ç§ä¸åŒçš„å¤„ç†æ–¹å¼\n\n1. åŒ…ä¾èµ–æ¨¡å¼ï¼Œæœ‰ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯å¦‚æœè¿œç¨‹ç»„ä»¶æ›´æ–°äº†ï¼Œé‚£ä¹ˆæœ¬åœ°ä»¥åŠç”Ÿäº§çš„`package.json`ä¹Ÿè¦å¯¹åº”è¿›è¡Œå‡çº§ï¼›ä¸è¿‡ç¨³å®šæ€§æ¯”è¾ƒé«˜\n2. cdn æ¨¡å¼ï¼Œé‚£å°±æ˜¯é¡¹ç›®ä½¿ç”¨ cdn çš„æ¨¡å¼å¼•å…¥`import {RTx} from 'https://xxx.com/xx.js'`, ä¸è¿‡è¿™æ ·åœ¨`vite`ä¸Šæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œåœ¨`webpack`ä¸Šå°±æ— æ³•ä½¿ç”¨äº†\n\n## æ€è·¯\n\n### é¦–å…ˆï¼Œé€‰ç”¨æ„å»ºå·¥å…·ï¼š\n\n- vite\n- webpack\n- rollup\n\nåœ¨ä¸‰è€…çš„æ¯”è¾ƒä¸‹ï¼Œæˆ‘é€‰æ‹©äº†`vite`\n\n1. vite ä¸ webpack ç›¸æ¯”ï¼Œä¸è®ºæ˜¯å¯åŠ¨ï¼Œæ‰“åŒ…è¿˜æ˜¯çƒ­æ›´æ–°ï¼Œvite è¿˜æ˜¯æ¯”è¾ƒä¼˜ç§€çš„ï¼Œå†è€…ï¼Œvite è¿˜æ”¯æŒå¯¹ rollup çš„é…ç½®\n2. rollup ä¸ webpack ç›¸æ¯”ï¼Œrollup æ›´åŠ è½»é‡ï¼Œé…ç½®ç®€å•ï¼Œä½†æ˜¯ä¸æ”¯æŒçƒ­æ›´æ–°\n\nä¸ºä»€ä¹ˆè¦ç”¨åˆ°çƒ­æ›´æ–°ï¼Œå› ä¸ºä½ åœ¨å¼€å‘ç»„ä»¶æˆ–è€…æµ‹è¯•ä¸€äº› api çš„æ—¶å€™æ€»ä¸èƒ½æ¯æ¬¡éƒ½é‡å¯ä¿®æ”¹å§ï¼Œé‚£ä¹ˆçƒ­æ›´æ–°æ˜¯ä¸é”™çš„é€‰æ‹©ï¼›\n\näºæ˜¯æˆ‘è¿˜æ˜¯é‡‡ç”¨`vite`çš„æ‰“åŒ…æ–¹å¼ï¼ŒåŸå› å°±æ˜¯å¾ˆç®€å•ï¼Œé€Ÿåº¦ï¼Œé…ç½®ç­‰éƒ½ç®—çš„æ˜¯æ¯”è¾ƒä¸é”™çš„ï¼Œå½“ç„¶æ˜¯è¿˜å¯ä»¥é…ç½® rollup é…ç½®ï¼› å®Œå…¨æ˜¯è‡ªå®šä¹‰çš„ï¼›\n\n### å…¶æ¬¡ï¼Œç»„ä»¶çš„ç¼–å†™æ–¹å¼ï¼š\n\nç»„ä»¶ä½¿ç”¨ `vueComponent` çš„æ–¹å¼ï¼Œä¹‹å‰ä¹Ÿæƒ³è¿‡ç”¨å‡½æ•°ç»„ä»¶ï¼Œä½†æ˜¯æœ‰äº›åœºæ™¯ä¸å¤ªåˆé€‚ï¼›å°±æ‹¿`vant`æ¥è®²ï¼Œå…¶è¿œå˜›å°±æ˜¯`tsx/jsx`ç¼–å†™ï¼Œä½ ç›´æ¥çœ‹ä¸åˆ°`vue`æ–‡ä»¶ï¼Œä½†æ˜¯å¯¹äºå…¶ç»´æŠ¤çš„ä¾¿åˆ©æ€§æ¥è®²æˆ‘è¿˜æ˜¯çœ‹ä¸­`component`çš„å½¢å¼ï¼›\n\næ¥ç€ï¼Œå°±è¦å¯¹å…¶ç›®å½•è¿›è¡Œåˆ†çº§ï¼Œ\n\n- packages\n  - ele-components => element-plus ç»„ä»¶çš„ç›®å½•\n  - van-components => van-ui ç»„ä»¶çš„ç›®å½•\n  - utils => å·¥å…·å‡½æ•°çš„ç›®å½•\n  - hooks => å°è£…çš„ hooks\n  - types => ç±»å‹å®šä¹‰\n  - style => æ ·å¼çš„ç›®å½•\n  - index.ts => å…¥å£æ–‡ä»¶\n  - package.json => ç»„ä»¶çš„é…ç½®æ–‡ä»¶\n- package.json\n- vite.config.ts\n- ...å…¶ä»–æ–‡ä»¶\n\nå½“ç„¶å¯¹åº”çš„æ‰“åŒ…æ–‡ä»¶çš„æ ¼å¼ä¹Ÿå’Œ`packages`ä¸€æ ·ï¼Œè¿™æ ·å°±å¯ä»¥äº†\n\n### ç¼–å†™è¿œç¨‹ç»„ä»¶\n\nå…¶å®è¿™é‡Œçš„è¿œç¨‹ç»„ä»¶å’Œæ—¥å¸¸ç¼–å†™çš„ç»„ä»¶æ˜¯ä¸€æ ·çš„ï¼Œä¸è¿‡æ˜¯å¯¹å…¬å¸çš„ä¸€äº›å…¬å…±çš„ä¸šåŠ¡ç»„ä»¶è¿›è¡Œæ‹†åˆ†ï¼Œä»è€Œå†äºŒæ¬¡å°è£…ï¼ŒåæœŸåªéœ€è¦å¼•å…¥å¯¹åº”çš„ä¾èµ–å³å¯ï¼Œè¿™æ ·å°±å¯ä»¥åšåˆ°ä»…ä»…ä¿®æ”¹ä¸€æ¬¡ä»è€Œå†å¤šä¸ªå¹³å°è¿›è¡Œæ›´æ–°ï¼›\n\nå…·ä½“çš„ç¼–å†™æ–¹å¼å°±ä¸ç»†è¯´äº†ï¼›\n\nå½“ä½ å†™å®Œä¹‹åï¼Œé‚£ä¹ˆæœ€åä¸€æ­¥å°±æ˜¯è¿›è¡Œæ‰“åŒ…äº†ï¼Œ è¿™é‡Œæˆ‘é‡‡å–`vite-lib`æ’ä»¶çš„å½¢å¼è¿›è¡Œæ‰“åŒ…ï¼š\n\n```JS\n{\n  build: {\n    lib: {\n      entry: '', // æ’ä»¶çš„å…¥å£æ–‡ä»¶\n      name: '', // åå­—\n      formats: ['es'] // æ‰“åŒ…çš„æ ¼å¼\n    },\n    // rollupé…ç½®\n    rollupOptions: {\n      external: {},\n      output: {\n      }\n    },\n    cssCodeSplit: true\n  }\n}\n```\n\nä»¥ä¾èµ–åŒ…çš„å½¢å¼å°†è¿›è¡Œæ‰“åŒ…ï¼Œè¿™é‡Œæˆ‘ç”¨åˆ°äº†å‡ ä¸ªæ’ä»¶ï¼š\n\n1. vite-plugin-dtsï¼š å°†ç»„ä»¶çš„ä»£ç è¿›è¡Œç±»å‹å£°æ˜ï¼Œæ–¹ä¾¿ä½¿ç”¨\n2. autoprefixer: æ·»åŠ æµè§ˆå™¨å‰ç¼€\n3. rollup-plugin-obfuscator: ä»£ç æ··æ·†\n\næ‰“åŒ…å®Œæˆä¹‹åï¼Œä½ ä¼šå‘ç°å¯¹åº”çš„æ–‡ä»¶ä¼šå¾ˆå¤§ï¼Œé‚£ä¹ˆæ¥ç€å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œ é¦–å…ˆæˆ‘ä»¬ä¸‹è½½çš„ä¸€äº›ä¾èµ–ä¸éœ€è¦è¿›è¡Œæ‰“åŒ…ï¼Œå¦‚ï¼š`vue, vant, element-plus`ï¼›\n\né‚£ä¹ˆ`vite-rollupOptions`æœ‰è¿™æ ·ä¸€ä¸ªé…ç½®ï¼š\n\n```ts\n{\n\trollupOptions: {\n\t\texternal: [\"vue\", \"vant\", \"element-plus\"];\n\t}\n}\n```\n\né‚£ä¹ˆé‡æ–°æ‰“åŒ…ï¼Œè§‚å¯Ÿå…¶æ–‡ä»¶å¤§å°ï¼Œä½ ä¼šå‘ç°æ¯”ä¹‹å‰çš„æ–‡ä»¶å°äº†å¾ˆå¤šï¼›\n\nåˆ°äº†è¿™ä¸€æ­¥åŸºæœ¬ä¸Šå·®ä¸å¤šäº†ï¼Œä¸è¿‡è¦æ³¨æ„çš„æ˜¯æ‰“åŒ…å®Œæˆä¹‹åå¿…é¡»è¦æœ‰`package.json`æ–‡ä»¶ï¼Œä¸ç„¶åæœŸä½¿ç”¨`install`çš„æ–¹å¼ä¼šå¤±è´¥çš„ï¼›\n\n**è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨æ¡ˆä¾‹ï¼š**\n\n```ts\n// ç±»ä¼¼äºè¿™æ ·çš„æ ¼å¼ï¼Œå…·ä½“è·¯å¾„è‡ªå·±è¿›è¡Œé…ç½®ï¼›\n// è¿™æ ·åšåˆ°äº†æŒ‰éœ€åŠ è½½ï¼Œç”¨åˆ°é‚£ä¸ªç»„ä»¶åŠ è½½å¯¹åº”çš„ç»„ä»¶ä»¥åŠæ ·å¼ï¼Œé¿å…ç»„ä»¶å’Œæ ·å¼æ‰“åŒ…ä¸€èµ·å¯¼è‡´æ–‡ä»¶åŠ è½½æ—¶é—´è¿‡é•¿çš„æƒ…å†µ\nimport \"remote-components/ele/index.css\";\nimport { ElButton } from \"remote-components\";\n\n<template>\n\t<ElButton />\n</template>;\n```\n","slug":"æ€»ç»“/æŠ€æœ¯è°ƒç ”/å¼€å‘è¿œç¨‹ç»„ä»¶çš„ä»‹ç»","published":1,"updated":"2025-03-12T09:51:57.160Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0is000nfg9mfh7w0bc1","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>è¿‘æœŸæˆ‘åœ¨åšä»€ä¹ˆï¼Ÿ</p>\n<p><code>è¿œç¨‹ç»„ä»¶å¦‚ä½•å¼•å…¥åœ¨é¡¹ç›®ä¸­</code>è¿™ä¸ªè¯é¢˜ä¹Ÿå°±æ˜¯æˆ‘æœ€è¿‘åœ¨ç ”ç©¶çš„ä¸œè¥¿ï¼›</p>\n<h2 id=\"ä¸ºä»€ä¹ˆï¼Ÿ\"><a href=\"#ä¸ºä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆï¼Ÿ\"></a>ä¸ºä»€ä¹ˆï¼Ÿ</h2><p>æœ€è¿‘æœ‰ä¸€ä¸ªæƒ³æ³•ï¼Œå°±æ˜¯åœ¨å·¥ä½œä¸­æœ‰é‚£ä¹ˆä¸€ä¸ªåŠŸèƒ½å°±æ˜¯<code>å•†å“å±æ€§</code>ï¼Œ ç±»ä¼¼äºæ·˜å®äº¬ä¸œçš„é€‰æ‹©å•†å“è§„æ ¼çš„åŠŸèƒ½, æœ‰å°ºå¯¸å¤§å°ï¼Œæœ‰çœ¼è‰²ï¼Œæœ‰æè´¨ç­‰ç­‰ï¼›</p>\n<p><strong>è¯¥åŠŸèƒ½æ¶‰åŠåˆ°å¤šä¸ªå¹³å°ï¼Œæ¯ä¸ªå±æ€§æœ‰å¯¹åº”çš„è§„åˆ™ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªæ¯”è¾ƒéº»çƒ¦çš„ç‚¹å°±æ˜¯åŠŸèƒ½æ˜¯ä¸€è‡´çš„ï¼Œè§„åˆ™æ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯å®Œå…¨çš„åŠŸèƒ½è¦åœ¨ä¸åŒçš„é¡¹ç›®ä¸­å¤åˆ¶ç²˜è´´ä¿®æ”¹ï¼›å¯¼è‡´ç°åœ¨å°±æ˜¯ä¸åŒçš„é¡¹ç›®ä¸­éƒ½æœ‰ä¸€æ ·çš„ç»„ä»¶ä¸€æ ·çš„ä»£ç </strong></p>\n<p>è¿™æ ·å°±æš´éœ²å‡ºäº†å¼Šç«¯ï¼š</p>\n<ol>\n<li>ç»´æŠ¤å¤šä¸ªå¹³å°ï¼Œæ¯”å¦‚ä¿®æ”¹äº†è§„åˆ™ï¼Œé‚£ä¹ˆå°±è¦ä¿®æ”¹å¤šä¸ªé¡¹ç›®ï¼›pc ç«¯, h5, å°ç¨‹åºç­‰ç­‰;</li>\n<li>ä»£ç çš„é‡å¤æ€§æ¯”è¾ƒé«˜ï¼Œå¯¹äºé«˜å¤æ‚çš„ç»„ä»¶æ²¡æœ‰å¯¹åº”çš„æ–‡æ¡£ä»¥åŠè¯´æ˜ï¼›</li>\n<li>åº•å±‚çš„å˜åŠ¨ä»¥åŠå‚æ•°ä¸ç»Ÿä¸€ï¼ŒA åŒå­¦åŠ ä¸ªä¸€ä¸ªå‚æ•° a, B åŠ äº†ä¸€ä¸ª bï¼Œæœ€åéƒ½ä¸çŸ¥é“è¯¥å­—æ®µçš„å…·ä½“ä½œç”¨</li>\n</ol>\n<p>åœ¨è¿™æ ·çš„ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œäºæ˜¯æˆ‘æ¶ˆè´¹ä¸€äº›æ—¶é—´å»ç ”ç©¶ä¸€ä¸‹è¿œç¨‹ç»„ä»¶å¦‚ä½•åšï¼Ÿ</p>\n<p><strong>å½“ç„¶è¿œç¨‹ç»„ä»¶çš„å¥½å¤„å°±æ˜¯ï¼šåæœŸç»´æŠ¤è¿™ä¸ªç»„ä»¶å³å¯ï¼›</strong></p>\n<p>äºæ˜¯ï¼Œå°±è€ƒè™‘åˆ°äº†ä¿©ç§ä¸åŒçš„å¤„ç†æ–¹å¼</p>\n<ol>\n<li>åŒ…ä¾èµ–æ¨¡å¼ï¼Œæœ‰ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯å¦‚æœè¿œç¨‹ç»„ä»¶æ›´æ–°äº†ï¼Œé‚£ä¹ˆæœ¬åœ°ä»¥åŠç”Ÿäº§çš„<code>package.json</code>ä¹Ÿè¦å¯¹åº”è¿›è¡Œå‡çº§ï¼›ä¸è¿‡ç¨³å®šæ€§æ¯”è¾ƒé«˜</li>\n<li>cdn æ¨¡å¼ï¼Œé‚£å°±æ˜¯é¡¹ç›®ä½¿ç”¨ cdn çš„æ¨¡å¼å¼•å…¥<code>import &#123;RTx&#125; from &#39;https://xxx.com/xx.js&#39;</code>, ä¸è¿‡è¿™æ ·åœ¨<code>vite</code>ä¸Šæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œåœ¨<code>webpack</code>ä¸Šå°±æ— æ³•ä½¿ç”¨äº†</li>\n</ol>\n<h2 id=\"æ€è·¯\"><a href=\"#æ€è·¯\" class=\"headerlink\" title=\"æ€è·¯\"></a>æ€è·¯</h2><h3 id=\"é¦–å…ˆï¼Œé€‰ç”¨æ„å»ºå·¥å…·ï¼š\"><a href=\"#é¦–å…ˆï¼Œé€‰ç”¨æ„å»ºå·¥å…·ï¼š\" class=\"headerlink\" title=\"é¦–å…ˆï¼Œé€‰ç”¨æ„å»ºå·¥å…·ï¼š\"></a>é¦–å…ˆï¼Œé€‰ç”¨æ„å»ºå·¥å…·ï¼š</h3><ul>\n<li>vite</li>\n<li>webpack</li>\n<li>rollup</li>\n</ul>\n<p>åœ¨ä¸‰è€…çš„æ¯”è¾ƒä¸‹ï¼Œæˆ‘é€‰æ‹©äº†<code>vite</code></p>\n<ol>\n<li>vite ä¸ webpack ç›¸æ¯”ï¼Œä¸è®ºæ˜¯å¯åŠ¨ï¼Œæ‰“åŒ…è¿˜æ˜¯çƒ­æ›´æ–°ï¼Œvite è¿˜æ˜¯æ¯”è¾ƒä¼˜ç§€çš„ï¼Œå†è€…ï¼Œvite è¿˜æ”¯æŒå¯¹ rollup çš„é…ç½®</li>\n<li>rollup ä¸ webpack ç›¸æ¯”ï¼Œrollup æ›´åŠ è½»é‡ï¼Œé…ç½®ç®€å•ï¼Œä½†æ˜¯ä¸æ”¯æŒçƒ­æ›´æ–°</li>\n</ol>\n<p>ä¸ºä»€ä¹ˆè¦ç”¨åˆ°çƒ­æ›´æ–°ï¼Œå› ä¸ºä½ åœ¨å¼€å‘ç»„ä»¶æˆ–è€…æµ‹è¯•ä¸€äº› api çš„æ—¶å€™æ€»ä¸èƒ½æ¯æ¬¡éƒ½é‡å¯ä¿®æ”¹å§ï¼Œé‚£ä¹ˆçƒ­æ›´æ–°æ˜¯ä¸é”™çš„é€‰æ‹©ï¼›</p>\n<p>äºæ˜¯æˆ‘è¿˜æ˜¯é‡‡ç”¨<code>vite</code>çš„æ‰“åŒ…æ–¹å¼ï¼ŒåŸå› å°±æ˜¯å¾ˆç®€å•ï¼Œé€Ÿåº¦ï¼Œé…ç½®ç­‰éƒ½ç®—çš„æ˜¯æ¯”è¾ƒä¸é”™çš„ï¼Œå½“ç„¶æ˜¯è¿˜å¯ä»¥é…ç½® rollup é…ç½®ï¼› å®Œå…¨æ˜¯è‡ªå®šä¹‰çš„ï¼›</p>\n<h3 id=\"å…¶æ¬¡ï¼Œç»„ä»¶çš„ç¼–å†™æ–¹å¼ï¼š\"><a href=\"#å…¶æ¬¡ï¼Œç»„ä»¶çš„ç¼–å†™æ–¹å¼ï¼š\" class=\"headerlink\" title=\"å…¶æ¬¡ï¼Œç»„ä»¶çš„ç¼–å†™æ–¹å¼ï¼š\"></a>å…¶æ¬¡ï¼Œç»„ä»¶çš„ç¼–å†™æ–¹å¼ï¼š</h3><p>ç»„ä»¶ä½¿ç”¨ <code>vueComponent</code> çš„æ–¹å¼ï¼Œä¹‹å‰ä¹Ÿæƒ³è¿‡ç”¨å‡½æ•°ç»„ä»¶ï¼Œä½†æ˜¯æœ‰äº›åœºæ™¯ä¸å¤ªåˆé€‚ï¼›å°±æ‹¿<code>vant</code>æ¥è®²ï¼Œå…¶è¿œå˜›å°±æ˜¯<code>tsx/jsx</code>ç¼–å†™ï¼Œä½ ç›´æ¥çœ‹ä¸åˆ°<code>vue</code>æ–‡ä»¶ï¼Œä½†æ˜¯å¯¹äºå…¶ç»´æŠ¤çš„ä¾¿åˆ©æ€§æ¥è®²æˆ‘è¿˜æ˜¯çœ‹ä¸­<code>component</code>çš„å½¢å¼ï¼›</p>\n<p>æ¥ç€ï¼Œå°±è¦å¯¹å…¶ç›®å½•è¿›è¡Œåˆ†çº§ï¼Œ</p>\n<ul>\n<li>packages<ul>\n<li>ele-components &#x3D;&gt; element-plus ç»„ä»¶çš„ç›®å½•</li>\n<li>van-components &#x3D;&gt; van-ui ç»„ä»¶çš„ç›®å½•</li>\n<li>utils &#x3D;&gt; å·¥å…·å‡½æ•°çš„ç›®å½•</li>\n<li>hooks &#x3D;&gt; å°è£…çš„ hooks</li>\n<li>types &#x3D;&gt; ç±»å‹å®šä¹‰</li>\n<li>style &#x3D;&gt; æ ·å¼çš„ç›®å½•</li>\n<li>index.ts &#x3D;&gt; å…¥å£æ–‡ä»¶</li>\n<li>package.json &#x3D;&gt; ç»„ä»¶çš„é…ç½®æ–‡ä»¶</li>\n</ul>\n</li>\n<li>package.json</li>\n<li>vite.config.ts</li>\n<li>â€¦å…¶ä»–æ–‡ä»¶</li>\n</ul>\n<p>å½“ç„¶å¯¹åº”çš„æ‰“åŒ…æ–‡ä»¶çš„æ ¼å¼ä¹Ÿå’Œ<code>packages</code>ä¸€æ ·ï¼Œè¿™æ ·å°±å¯ä»¥äº†</p>\n<h3 id=\"ç¼–å†™è¿œç¨‹ç»„ä»¶\"><a href=\"#ç¼–å†™è¿œç¨‹ç»„ä»¶\" class=\"headerlink\" title=\"ç¼–å†™è¿œç¨‹ç»„ä»¶\"></a>ç¼–å†™è¿œç¨‹ç»„ä»¶</h3><p>å…¶å®è¿™é‡Œçš„è¿œç¨‹ç»„ä»¶å’Œæ—¥å¸¸ç¼–å†™çš„ç»„ä»¶æ˜¯ä¸€æ ·çš„ï¼Œä¸è¿‡æ˜¯å¯¹å…¬å¸çš„ä¸€äº›å…¬å…±çš„ä¸šåŠ¡ç»„ä»¶è¿›è¡Œæ‹†åˆ†ï¼Œä»è€Œå†äºŒæ¬¡å°è£…ï¼ŒåæœŸåªéœ€è¦å¼•å…¥å¯¹åº”çš„ä¾èµ–å³å¯ï¼Œè¿™æ ·å°±å¯ä»¥åšåˆ°ä»…ä»…ä¿®æ”¹ä¸€æ¬¡ä»è€Œå†å¤šä¸ªå¹³å°è¿›è¡Œæ›´æ–°ï¼›</p>\n<p>å…·ä½“çš„ç¼–å†™æ–¹å¼å°±ä¸ç»†è¯´äº†ï¼›</p>\n<p>å½“ä½ å†™å®Œä¹‹åï¼Œé‚£ä¹ˆæœ€åä¸€æ­¥å°±æ˜¯è¿›è¡Œæ‰“åŒ…äº†ï¼Œ è¿™é‡Œæˆ‘é‡‡å–<code>vite-lib</code>æ’ä»¶çš„å½¢å¼è¿›è¡Œæ‰“åŒ…ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">build</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">lib</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">entry</span>: <span class=\"string\">&#x27;&#x27;</span>, <span class=\"comment\">// æ’ä»¶çš„å…¥å£æ–‡ä»¶</span></span><br><span class=\"line\">      <span class=\"attr\">name</span>: <span class=\"string\">&#x27;&#x27;</span>, <span class=\"comment\">// åå­—</span></span><br><span class=\"line\">      <span class=\"attr\">formats</span>: [<span class=\"string\">&#x27;es&#x27;</span>] <span class=\"comment\">// æ‰“åŒ…çš„æ ¼å¼</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// rollupé…ç½®</span></span><br><span class=\"line\">    <span class=\"attr\">rollupOptions</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">external</span>: &#123;&#125;,</span><br><span class=\"line\">      <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">cssCodeSplit</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä»¥ä¾èµ–åŒ…çš„å½¢å¼å°†è¿›è¡Œæ‰“åŒ…ï¼Œè¿™é‡Œæˆ‘ç”¨åˆ°äº†å‡ ä¸ªæ’ä»¶ï¼š</p>\n<ol>\n<li>vite-plugin-dtsï¼š å°†ç»„ä»¶çš„ä»£ç è¿›è¡Œç±»å‹å£°æ˜ï¼Œæ–¹ä¾¿ä½¿ç”¨</li>\n<li>autoprefixer: æ·»åŠ æµè§ˆå™¨å‰ç¼€</li>\n<li>rollup-plugin-obfuscator: ä»£ç æ··æ·†</li>\n</ol>\n<p>æ‰“åŒ…å®Œæˆä¹‹åï¼Œä½ ä¼šå‘ç°å¯¹åº”çš„æ–‡ä»¶ä¼šå¾ˆå¤§ï¼Œé‚£ä¹ˆæ¥ç€å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œ é¦–å…ˆæˆ‘ä»¬ä¸‹è½½çš„ä¸€äº›ä¾èµ–ä¸éœ€è¦è¿›è¡Œæ‰“åŒ…ï¼Œå¦‚ï¼š<code>vue, vant, element-plus</code>ï¼›</p>\n<p>é‚£ä¹ˆ<code>vite-rollupOptions</code>æœ‰è¿™æ ·ä¸€ä¸ªé…ç½®ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">rollupOptions</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">external</span>: [<span class=\"string\">&quot;vue&quot;</span>, <span class=\"string\">&quot;vant&quot;</span>, <span class=\"string\">&quot;element-plus&quot;</span>];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>é‚£ä¹ˆé‡æ–°æ‰“åŒ…ï¼Œè§‚å¯Ÿå…¶æ–‡ä»¶å¤§å°ï¼Œä½ ä¼šå‘ç°æ¯”ä¹‹å‰çš„æ–‡ä»¶å°äº†å¾ˆå¤šï¼›</p>\n<p>åˆ°äº†è¿™ä¸€æ­¥åŸºæœ¬ä¸Šå·®ä¸å¤šäº†ï¼Œä¸è¿‡è¦æ³¨æ„çš„æ˜¯æ‰“åŒ…å®Œæˆä¹‹åå¿…é¡»è¦æœ‰<code>package.json</code>æ–‡ä»¶ï¼Œä¸ç„¶åæœŸä½¿ç”¨<code>install</code>çš„æ–¹å¼ä¼šå¤±è´¥çš„ï¼›</p>\n<p><strong>è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨æ¡ˆä¾‹ï¼š</strong></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ç±»ä¼¼äºè¿™æ ·çš„æ ¼å¼ï¼Œå…·ä½“è·¯å¾„è‡ªå·±è¿›è¡Œé…ç½®ï¼›</span></span><br><span class=\"line\"><span class=\"comment\">// è¿™æ ·åšåˆ°äº†æŒ‰éœ€åŠ è½½ï¼Œç”¨åˆ°é‚£ä¸ªç»„ä»¶åŠ è½½å¯¹åº”çš„ç»„ä»¶ä»¥åŠæ ·å¼ï¼Œé¿å…ç»„ä»¶å’Œæ ·å¼æ‰“åŒ…ä¸€èµ·å¯¼è‡´æ–‡ä»¶åŠ è½½æ—¶é—´è¿‡é•¿çš„æƒ…å†µ</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&quot;remote-components/ele/index.css&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ElButton</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;remote-components&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">\t<span class=\"tag\">&lt;<span class=\"name\">ElButton</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span>;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>è¿‘æœŸæˆ‘åœ¨åšä»€ä¹ˆï¼Ÿ</p>\n<p><code>è¿œç¨‹ç»„ä»¶å¦‚ä½•å¼•å…¥åœ¨é¡¹ç›®ä¸­</code>è¿™ä¸ªè¯é¢˜ä¹Ÿå°±æ˜¯æˆ‘æœ€è¿‘åœ¨ç ”ç©¶çš„ä¸œè¥¿ï¼›</p>\n<h2 id=\"ä¸ºä»€ä¹ˆï¼Ÿ\"><a href=\"#ä¸ºä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆï¼Ÿ\"></a>ä¸ºä»€ä¹ˆï¼Ÿ</h2><p>æœ€è¿‘æœ‰ä¸€ä¸ªæƒ³æ³•ï¼Œå°±æ˜¯åœ¨å·¥ä½œä¸­æœ‰é‚£ä¹ˆä¸€ä¸ªåŠŸèƒ½å°±æ˜¯<code>å•†å“å±æ€§</code>ï¼Œ ç±»ä¼¼äºæ·˜å®äº¬ä¸œçš„é€‰æ‹©å•†å“è§„æ ¼çš„åŠŸèƒ½, æœ‰å°ºå¯¸å¤§å°ï¼Œæœ‰çœ¼è‰²ï¼Œæœ‰æè´¨ç­‰ç­‰ï¼›</p>\n<p><strong>è¯¥åŠŸèƒ½æ¶‰åŠåˆ°å¤šä¸ªå¹³å°ï¼Œæ¯ä¸ªå±æ€§æœ‰å¯¹åº”çš„è§„åˆ™ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªæ¯”è¾ƒéº»çƒ¦çš„ç‚¹å°±æ˜¯åŠŸèƒ½æ˜¯ä¸€è‡´çš„ï¼Œè§„åˆ™æ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯å®Œå…¨çš„åŠŸèƒ½è¦åœ¨ä¸åŒçš„é¡¹ç›®ä¸­å¤åˆ¶ç²˜è´´ä¿®æ”¹ï¼›å¯¼è‡´ç°åœ¨å°±æ˜¯ä¸åŒçš„é¡¹ç›®ä¸­éƒ½æœ‰ä¸€æ ·çš„ç»„ä»¶ä¸€æ ·çš„ä»£ç </strong></p>\n<p>è¿™æ ·å°±æš´éœ²å‡ºäº†å¼Šç«¯ï¼š</p>\n<ol>\n<li>ç»´æŠ¤å¤šä¸ªå¹³å°ï¼Œæ¯”å¦‚ä¿®æ”¹äº†è§„åˆ™ï¼Œé‚£ä¹ˆå°±è¦ä¿®æ”¹å¤šä¸ªé¡¹ç›®ï¼›pc ç«¯, h5, å°ç¨‹åºç­‰ç­‰;</li>\n<li>ä»£ç çš„é‡å¤æ€§æ¯”è¾ƒé«˜ï¼Œå¯¹äºé«˜å¤æ‚çš„ç»„ä»¶æ²¡æœ‰å¯¹åº”çš„æ–‡æ¡£ä»¥åŠè¯´æ˜ï¼›</li>\n<li>åº•å±‚çš„å˜åŠ¨ä»¥åŠå‚æ•°ä¸ç»Ÿä¸€ï¼ŒA åŒå­¦åŠ ä¸ªä¸€ä¸ªå‚æ•° a, B åŠ äº†ä¸€ä¸ª bï¼Œæœ€åéƒ½ä¸çŸ¥é“è¯¥å­—æ®µçš„å…·ä½“ä½œç”¨</li>\n</ol>\n<p>åœ¨è¿™æ ·çš„ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œäºæ˜¯æˆ‘æ¶ˆè´¹ä¸€äº›æ—¶é—´å»ç ”ç©¶ä¸€ä¸‹è¿œç¨‹ç»„ä»¶å¦‚ä½•åšï¼Ÿ</p>\n<p><strong>å½“ç„¶è¿œç¨‹ç»„ä»¶çš„å¥½å¤„å°±æ˜¯ï¼šåæœŸç»´æŠ¤è¿™ä¸ªç»„ä»¶å³å¯ï¼›</strong></p>\n<p>äºæ˜¯ï¼Œå°±è€ƒè™‘åˆ°äº†ä¿©ç§ä¸åŒçš„å¤„ç†æ–¹å¼</p>\n<ol>\n<li>åŒ…ä¾èµ–æ¨¡å¼ï¼Œæœ‰ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯å¦‚æœè¿œç¨‹ç»„ä»¶æ›´æ–°äº†ï¼Œé‚£ä¹ˆæœ¬åœ°ä»¥åŠç”Ÿäº§çš„<code>package.json</code>ä¹Ÿè¦å¯¹åº”è¿›è¡Œå‡çº§ï¼›ä¸è¿‡ç¨³å®šæ€§æ¯”è¾ƒé«˜</li>\n<li>cdn æ¨¡å¼ï¼Œé‚£å°±æ˜¯é¡¹ç›®ä½¿ç”¨ cdn çš„æ¨¡å¼å¼•å…¥<code>import &#123;RTx&#125; from &#39;https://xxx.com/xx.js&#39;</code>, ä¸è¿‡è¿™æ ·åœ¨<code>vite</code>ä¸Šæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œåœ¨<code>webpack</code>ä¸Šå°±æ— æ³•ä½¿ç”¨äº†</li>\n</ol>\n<h2 id=\"æ€è·¯\"><a href=\"#æ€è·¯\" class=\"headerlink\" title=\"æ€è·¯\"></a>æ€è·¯</h2><h3 id=\"é¦–å…ˆï¼Œé€‰ç”¨æ„å»ºå·¥å…·ï¼š\"><a href=\"#é¦–å…ˆï¼Œé€‰ç”¨æ„å»ºå·¥å…·ï¼š\" class=\"headerlink\" title=\"é¦–å…ˆï¼Œé€‰ç”¨æ„å»ºå·¥å…·ï¼š\"></a>é¦–å…ˆï¼Œé€‰ç”¨æ„å»ºå·¥å…·ï¼š</h3><ul>\n<li>vite</li>\n<li>webpack</li>\n<li>rollup</li>\n</ul>\n<p>åœ¨ä¸‰è€…çš„æ¯”è¾ƒä¸‹ï¼Œæˆ‘é€‰æ‹©äº†<code>vite</code></p>\n<ol>\n<li>vite ä¸ webpack ç›¸æ¯”ï¼Œä¸è®ºæ˜¯å¯åŠ¨ï¼Œæ‰“åŒ…è¿˜æ˜¯çƒ­æ›´æ–°ï¼Œvite è¿˜æ˜¯æ¯”è¾ƒä¼˜ç§€çš„ï¼Œå†è€…ï¼Œvite è¿˜æ”¯æŒå¯¹ rollup çš„é…ç½®</li>\n<li>rollup ä¸ webpack ç›¸æ¯”ï¼Œrollup æ›´åŠ è½»é‡ï¼Œé…ç½®ç®€å•ï¼Œä½†æ˜¯ä¸æ”¯æŒçƒ­æ›´æ–°</li>\n</ol>\n<p>ä¸ºä»€ä¹ˆè¦ç”¨åˆ°çƒ­æ›´æ–°ï¼Œå› ä¸ºä½ åœ¨å¼€å‘ç»„ä»¶æˆ–è€…æµ‹è¯•ä¸€äº› api çš„æ—¶å€™æ€»ä¸èƒ½æ¯æ¬¡éƒ½é‡å¯ä¿®æ”¹å§ï¼Œé‚£ä¹ˆçƒ­æ›´æ–°æ˜¯ä¸é”™çš„é€‰æ‹©ï¼›</p>\n<p>äºæ˜¯æˆ‘è¿˜æ˜¯é‡‡ç”¨<code>vite</code>çš„æ‰“åŒ…æ–¹å¼ï¼ŒåŸå› å°±æ˜¯å¾ˆç®€å•ï¼Œé€Ÿåº¦ï¼Œé…ç½®ç­‰éƒ½ç®—çš„æ˜¯æ¯”è¾ƒä¸é”™çš„ï¼Œå½“ç„¶æ˜¯è¿˜å¯ä»¥é…ç½® rollup é…ç½®ï¼› å®Œå…¨æ˜¯è‡ªå®šä¹‰çš„ï¼›</p>\n<h3 id=\"å…¶æ¬¡ï¼Œç»„ä»¶çš„ç¼–å†™æ–¹å¼ï¼š\"><a href=\"#å…¶æ¬¡ï¼Œç»„ä»¶çš„ç¼–å†™æ–¹å¼ï¼š\" class=\"headerlink\" title=\"å…¶æ¬¡ï¼Œç»„ä»¶çš„ç¼–å†™æ–¹å¼ï¼š\"></a>å…¶æ¬¡ï¼Œç»„ä»¶çš„ç¼–å†™æ–¹å¼ï¼š</h3><p>ç»„ä»¶ä½¿ç”¨ <code>vueComponent</code> çš„æ–¹å¼ï¼Œä¹‹å‰ä¹Ÿæƒ³è¿‡ç”¨å‡½æ•°ç»„ä»¶ï¼Œä½†æ˜¯æœ‰äº›åœºæ™¯ä¸å¤ªåˆé€‚ï¼›å°±æ‹¿<code>vant</code>æ¥è®²ï¼Œå…¶è¿œå˜›å°±æ˜¯<code>tsx/jsx</code>ç¼–å†™ï¼Œä½ ç›´æ¥çœ‹ä¸åˆ°<code>vue</code>æ–‡ä»¶ï¼Œä½†æ˜¯å¯¹äºå…¶ç»´æŠ¤çš„ä¾¿åˆ©æ€§æ¥è®²æˆ‘è¿˜æ˜¯çœ‹ä¸­<code>component</code>çš„å½¢å¼ï¼›</p>\n<p>æ¥ç€ï¼Œå°±è¦å¯¹å…¶ç›®å½•è¿›è¡Œåˆ†çº§ï¼Œ</p>\n<ul>\n<li>packages<ul>\n<li>ele-components &#x3D;&gt; element-plus ç»„ä»¶çš„ç›®å½•</li>\n<li>van-components &#x3D;&gt; van-ui ç»„ä»¶çš„ç›®å½•</li>\n<li>utils &#x3D;&gt; å·¥å…·å‡½æ•°çš„ç›®å½•</li>\n<li>hooks &#x3D;&gt; å°è£…çš„ hooks</li>\n<li>types &#x3D;&gt; ç±»å‹å®šä¹‰</li>\n<li>style &#x3D;&gt; æ ·å¼çš„ç›®å½•</li>\n<li>index.ts &#x3D;&gt; å…¥å£æ–‡ä»¶</li>\n<li>package.json &#x3D;&gt; ç»„ä»¶çš„é…ç½®æ–‡ä»¶</li>\n</ul>\n</li>\n<li>package.json</li>\n<li>vite.config.ts</li>\n<li>â€¦å…¶ä»–æ–‡ä»¶</li>\n</ul>\n<p>å½“ç„¶å¯¹åº”çš„æ‰“åŒ…æ–‡ä»¶çš„æ ¼å¼ä¹Ÿå’Œ<code>packages</code>ä¸€æ ·ï¼Œè¿™æ ·å°±å¯ä»¥äº†</p>\n<h3 id=\"ç¼–å†™è¿œç¨‹ç»„ä»¶\"><a href=\"#ç¼–å†™è¿œç¨‹ç»„ä»¶\" class=\"headerlink\" title=\"ç¼–å†™è¿œç¨‹ç»„ä»¶\"></a>ç¼–å†™è¿œç¨‹ç»„ä»¶</h3><p>å…¶å®è¿™é‡Œçš„è¿œç¨‹ç»„ä»¶å’Œæ—¥å¸¸ç¼–å†™çš„ç»„ä»¶æ˜¯ä¸€æ ·çš„ï¼Œä¸è¿‡æ˜¯å¯¹å…¬å¸çš„ä¸€äº›å…¬å…±çš„ä¸šåŠ¡ç»„ä»¶è¿›è¡Œæ‹†åˆ†ï¼Œä»è€Œå†äºŒæ¬¡å°è£…ï¼ŒåæœŸåªéœ€è¦å¼•å…¥å¯¹åº”çš„ä¾èµ–å³å¯ï¼Œè¿™æ ·å°±å¯ä»¥åšåˆ°ä»…ä»…ä¿®æ”¹ä¸€æ¬¡ä»è€Œå†å¤šä¸ªå¹³å°è¿›è¡Œæ›´æ–°ï¼›</p>\n<p>å…·ä½“çš„ç¼–å†™æ–¹å¼å°±ä¸ç»†è¯´äº†ï¼›</p>\n<p>å½“ä½ å†™å®Œä¹‹åï¼Œé‚£ä¹ˆæœ€åä¸€æ­¥å°±æ˜¯è¿›è¡Œæ‰“åŒ…äº†ï¼Œ è¿™é‡Œæˆ‘é‡‡å–<code>vite-lib</code>æ’ä»¶çš„å½¢å¼è¿›è¡Œæ‰“åŒ…ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">build</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">lib</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">entry</span>: <span class=\"string\">&#x27;&#x27;</span>, <span class=\"comment\">// æ’ä»¶çš„å…¥å£æ–‡ä»¶</span></span><br><span class=\"line\">      <span class=\"attr\">name</span>: <span class=\"string\">&#x27;&#x27;</span>, <span class=\"comment\">// åå­—</span></span><br><span class=\"line\">      <span class=\"attr\">formats</span>: [<span class=\"string\">&#x27;es&#x27;</span>] <span class=\"comment\">// æ‰“åŒ…çš„æ ¼å¼</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// rollupé…ç½®</span></span><br><span class=\"line\">    <span class=\"attr\">rollupOptions</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">external</span>: &#123;&#125;,</span><br><span class=\"line\">      <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">cssCodeSplit</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä»¥ä¾èµ–åŒ…çš„å½¢å¼å°†è¿›è¡Œæ‰“åŒ…ï¼Œè¿™é‡Œæˆ‘ç”¨åˆ°äº†å‡ ä¸ªæ’ä»¶ï¼š</p>\n<ol>\n<li>vite-plugin-dtsï¼š å°†ç»„ä»¶çš„ä»£ç è¿›è¡Œç±»å‹å£°æ˜ï¼Œæ–¹ä¾¿ä½¿ç”¨</li>\n<li>autoprefixer: æ·»åŠ æµè§ˆå™¨å‰ç¼€</li>\n<li>rollup-plugin-obfuscator: ä»£ç æ··æ·†</li>\n</ol>\n<p>æ‰“åŒ…å®Œæˆä¹‹åï¼Œä½ ä¼šå‘ç°å¯¹åº”çš„æ–‡ä»¶ä¼šå¾ˆå¤§ï¼Œé‚£ä¹ˆæ¥ç€å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œ é¦–å…ˆæˆ‘ä»¬ä¸‹è½½çš„ä¸€äº›ä¾èµ–ä¸éœ€è¦è¿›è¡Œæ‰“åŒ…ï¼Œå¦‚ï¼š<code>vue, vant, element-plus</code>ï¼›</p>\n<p>é‚£ä¹ˆ<code>vite-rollupOptions</code>æœ‰è¿™æ ·ä¸€ä¸ªé…ç½®ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">rollupOptions</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">external</span>: [<span class=\"string\">&quot;vue&quot;</span>, <span class=\"string\">&quot;vant&quot;</span>, <span class=\"string\">&quot;element-plus&quot;</span>];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>é‚£ä¹ˆé‡æ–°æ‰“åŒ…ï¼Œè§‚å¯Ÿå…¶æ–‡ä»¶å¤§å°ï¼Œä½ ä¼šå‘ç°æ¯”ä¹‹å‰çš„æ–‡ä»¶å°äº†å¾ˆå¤šï¼›</p>\n<p>åˆ°äº†è¿™ä¸€æ­¥åŸºæœ¬ä¸Šå·®ä¸å¤šäº†ï¼Œä¸è¿‡è¦æ³¨æ„çš„æ˜¯æ‰“åŒ…å®Œæˆä¹‹åå¿…é¡»è¦æœ‰<code>package.json</code>æ–‡ä»¶ï¼Œä¸ç„¶åæœŸä½¿ç”¨<code>install</code>çš„æ–¹å¼ä¼šå¤±è´¥çš„ï¼›</p>\n<p><strong>è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨æ¡ˆä¾‹ï¼š</strong></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ç±»ä¼¼äºè¿™æ ·çš„æ ¼å¼ï¼Œå…·ä½“è·¯å¾„è‡ªå·±è¿›è¡Œé…ç½®ï¼›</span></span><br><span class=\"line\"><span class=\"comment\">// è¿™æ ·åšåˆ°äº†æŒ‰éœ€åŠ è½½ï¼Œç”¨åˆ°é‚£ä¸ªç»„ä»¶åŠ è½½å¯¹åº”çš„ç»„ä»¶ä»¥åŠæ ·å¼ï¼Œé¿å…ç»„ä»¶å’Œæ ·å¼æ‰“åŒ…ä¸€èµ·å¯¼è‡´æ–‡ä»¶åŠ è½½æ—¶é—´è¿‡é•¿çš„æƒ…å†µ</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&quot;remote-components/ele/index.css&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ElButton</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;remote-components&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">\t<span class=\"tag\">&lt;<span class=\"name\">ElButton</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span>;</span><br></pre></td></tr></table></figure>\n"},{"title":"æŠ€æœ¯è°ƒç ”-è¿œç¨‹ç»„ä»¶å®è·µ","abbrlink":"af6eac10","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\nå‰ç«¯æ—¶é—´æ€»ç»“äº†`å¼€å‘è¿œç¨‹ç»„ä»¶çš„ä»‹ç»`ï¼Œå…¶å®ä¹Ÿä¸ç®—æ˜¯è¿œç¨‹ç»„ä»¶, å°±æ˜¯é€šè¿‡`install`çš„å½¢å¼è¿›è¡Œå®‰è£…ä¾èµ–ï¼›\n\nè™½ç„¶é€šè¿‡æ‹†åˆ†ç»„ä»¶æˆ–è€…æ–¹æ³•ï¼Œé€šè¿‡`install`(ä¸è®ºå…¬å¼€è¿˜æ˜¯ç§æœ‰)éƒ½æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æœ€è¿‘åœ¨æ–°çš„é¡¹ç›®ä¸­ä½¿ç”¨è¿˜æ˜¯å‘ç°äº†ä¸€äº›é—®é¢˜ï¼›\n\n1. ä½¿ç”¨`npm`, `yarn`å‡ºç°ä¸€äº›ä¾èµ–æ€§é—®é¢˜: ç‰ˆæœ¬å†²çªï¼Œæ‰“åŒ…é—®é¢˜ç­‰ç­‰; `yarn peerDependencies` ä¸ç”Ÿæ•ˆï¼Œåªæœ‰ä½¿ç”¨`npm`æ˜¯å¯ä»¥çš„ï¼›å› ä¸ºé¡¹ç›®ä¸­æœ‰`autoimport.d.ts`ç­‰æ–‡ä»¶ï¼Œé‚£ä¹ˆä½¿ç”¨`npm`ä¼šå¯¼è‡´ä¾èµ–æ€§é‡å¤å†™å…¥`autoimport.d.ts`çš„è­¦å‘Šï¼›\n2. ä½¿ç”¨`pnpm`å®‰è£…å¯ä»¥é¿å…è¿™äº›é—®é¢˜ï¼Œä½†å‰ææ˜¯æœåŠ¡å™¨ä¸Šæœ‰`pnpm`\n\n## åŸå‹å›¾\n\n![](https://wangxiaoze-view.github.io/picx-images-hosting/images/remote_components.3rbcu4xiz3.svg)\n\næ¶‰åŠé¡¹ç›®çš„åœ°å€ä¸ºï¼š [sim-admin](https://wangxiaoze-view.github.io/sim-admin/#/fun/remote)\n\n## å®è·µæ–¹å‘\n\nè¿‘æœŸåœ¨æ•´ç†å®ç°æŠ€æœ¯ä¸Šï¼Œå‘ç°äº†ä¿©ä¸ªæ–¹æ³•ï¼š\n\n### vite-lib æ’ä»¶æ¨¡å¼ + fetch åŠ è½½å¼‚æ­¥ç»„ä»¶\n\nå°±æ˜¯å°†ä½ ç¼–å†™å¥½çš„ç»„ä»¶ï¼Œé€šè¿‡`vite-lib`çš„å½¢å¼ï¼Œå°†å…¶æ‰“åŒ…æˆå·¥å…·æ’ä»¶ï¼›ä»£ç å¦‚ä¸‹ï¼š\n\n```ts\nexport default defineConfig({\n\tplugins: [vue()],\n\tdefine: {\n\t\t\"process.env.NODE_ENV\": '\"production\"',\n\t},\n\tbuild: {\n\t\t// css æ‹†åˆ† å‹ç¼©\n\t\tcssCodeSplit: true,\n\t\tcssMinify: true,\n\t\tlib: {\n\t\t\tentry: {\n\t\t\t\t// ç»„ä»¶çš„å…¥å£\n\t\t\t\tA: \"./src/components/Test.vue\",\n\t\t\t},\n\t\t\t// æ‰“åŒ…çš„æ ¼å¼\n\t\t\tformats: [\"es\"],\n\t\t},\n\t\trollupOptions: {\n\t\t\t// è¿™ä¸ªä¸éœ€è¦æœ‰ï¼Œéœ€è¦å°†vueæ‰“åŒ…è¿›å»\n\t\t\t// external: [\"vue\"],\n\t\t\toutput: {\n\t\t\t\tdir: \"dist\",\n\t\t\t\tformat: \"es\",\n\t\t\t},\n\t\t},\n\t},\n});\n```\n\næ‰“åŒ…å®Œæˆä¹‹åæ‰§è¡Œ`pnpm preview`ï¼Œå¯åŠ¨æœåŠ¡ï¼›\n\nåœ¨ä¸»åº”ç”¨ä¸­ç¼–å†™å¦‚ä¸‹ï¼š\n\n```ts\nimport { defineAsyncComponent } from \"vue\";\n\n// url:å°±æ˜¯ä½ éœ€è¦åŠ è½½çš„jsæ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šhttp://localhost:4173/a.js\nexport async function loadRemoteComponents(url: string, name = \"default\") {\n\ttry {\n\t\tconst response = await fetch(url);\n\t\tconst code = await response.text();\n\t\tconst blob = new Blob([code], { type: \"text/javascript\" });\n\t\tconst blobUrl = URL.createObjectURL(blob);\n\t\tconst module = await import(/* @vite-ignore */ blobUrl);\n\t\tURL.revokeObjectURL(blobUrl);\n\t\tconst _component = module[name];\n\t\t// å°†ç»„ä»¶ï¼Œç»„ä»¶åï¼Œä»¥åŠscopeIdæš´éœ²å‡ºå»\n\t\treturn {\n\t\t\tcomponent: defineAsyncComponent(() => Promise.resolve(_component)),\n\t\t\tcomponentName: _component.name,\n\t\t\tscopeId: _component.__scopeId,\n\t\t};\n\t} catch (error) {\n\t\tconsole.error(\"åŠ è½½è¿œç¨‹ç»„ä»¶å¤±è´¥:\", error);\n\t\tthrow error;\n\t}\n}\n```\n\nåœ¨`index.html`ä¸­å¼•å…¥`css`æ ·å¼\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n\t<head>\n\t\t<meta charset=\"UTF-8\" />\n\t\t<link rel=\"icon\" type=\"image/svg+xml\" href=\"/vite.svg\" />\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n\t\t<title>Vite + Vue + TS</title>\n\t\t<!-- åœ¨è¿™é‡Œæ·»åŠ ï¼Œä½ è¿œç¨‹çš„cssåœ°å€ -->\n\t\t<link rel=\"stylesheet\" href=\"http://localhost:4173/a.css\" />\n\t</head>\n\t<body>\n\t\t<div id=\"app\"></div>\n\t\t<script type=\"module\" src=\"/src/main.ts\"></script>\n\t</body>\n</html>\n```\n\nåˆ›å»ºä¸€ä¸ªç»„ä»¶ `Remote_1.vue`\n\n```vue\n<script setup lang=\"ts\">\nconst { url } = defineProps<{\n\turl: string;\n}>();\nimport { loadRemoteComponents } from \"./loadRemoteComponents\";\nconst { component, componentName, scopeId } = await loadRemoteComponents(url);\n</script>\n\n<template>\n\t<!-- scopeId: å¿…é¡»è¦æœ‰ï¼Œä¸ç„¶ä¼šå¯¼è‡´æ ·å¼ä¸¢å¤± -->\n\t<component :is=\"component\" :key=\"componentName\" :[scopeId]=\"scopeId\" />\n</template>\n\n<style scoped></style>\n```\n\nåœ¨`APP.vue`ä¸­ï¼š\n\n```vue\n<script setup lang=\"ts\">\nimport Remote_1 from \"./Remote_1.vue\";\n</script>\n<template>\n\t<div>\n\t\t<Suspense>\n\t\t\t<Remote_1 />\n\t\t\t<template #fallback>åŠ è½½ä¸­</template>\n\t\t</Suspense>\n\t</div>\n</template>\n```\n\nè¿™æ ·åŸºæœ¬ä¸Šå°±å¯ä»¥äº†ï¼Œä½†æ˜¯å®ƒä¹Ÿæ˜¯æœ‰ç¼ºé™·çš„ï¼š\n\n**<p style=\"color: #ff0000;\">å¦‚æœè¿œç¨‹ç»„ä»¶æ²¡æœ‰æ¥ä½ä»»ä½•çš„ ui åº“ï¼Œæ’ä»¶åº“ç­‰ç­‰ï¼Œé‚£ä¹ˆå°±å¯ä»¥å‚è€ƒè¿™ä¸ªåšæ³•ï¼Œä½†å¦‚æœä½ çš„ä¸»åº”ç”¨ä½¿ç”¨äº†`element-plus`,è¿œç¨‹ç»„ä»¶ä¹Ÿä½¿ç”¨äº†`element-plus`,é‚£ä¹ˆå°±ä¸å¯ä»¥ä½¿ç”¨è¿™ä¸ªåšæ³•äº†ï¼Œå¯ä»¥å‚è€ƒä¸‹ä¸€ä¸ªåšæ³•</p>**\n\n### å€ŸåŠ©æ’ä»¶ @originjs/vite-plugin-federation\n\nè¿™ä¸ªæ’ä»¶ç›¸å¯¹äºä¸Šä¸€ä¸ªåšæ³•çš„å¥½å¤„å°±æ˜¯ï¼šæ¨¡å—å…±äº«ï¼›å¦‚æœä¸»åº”ç”¨å’Œè¿œç¨‹åº”ç”¨éƒ½ä½¿ç”¨äº†`element-plus`æœ‰å•ç‹¬çš„é…ç½®æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼›\n\né¦–å…ˆä¸»åº”ç”¨å’Œè¿œç¨‹åº”ç”¨éƒ½éœ€è¦å®‰è£… `pnpm add -D @originjs/vite-plugin-federation`,é…ç½®å¦‚ä¸‹ï¼š\n\n```ts\n// è¿œç¨‹åº”ç”¨çš„vite.config.ts\nimport { defineConfig } from \"vite\";\nimport vue from \"@vitejs/plugin-vue\";\nimport AutoImport from \"unplugin-auto-import/vite\";\nimport Components from \"unplugin-vue-components/vite\";\nimport { ElementPlusResolver } from \"unplugin-vue-components/resolvers\";\nimport federation from \"@originjs/vite-plugin-federation\";\n\n// https://vite.dev/config/\nexport default defineConfig({\n\tplugins: [\n\t\tvue(),\n\t\tAutoImport({\n\t\t\tdts: true,\n\t\t\timports: [\"vue\", \"vue-router\"],\n\t\t\tresolvers: [ElementPlusResolver()],\n\t\t}),\n\t\tComponents({\n\t\t\tdts: true,\n\t\t\tresolvers: [ElementPlusResolver()],\n\t\t}),\n\t\tfederation({\n\t\t\tname: \"remote\",\n\t\t\t// æ‰“åŒ…çš„åº”ç”¨æ–‡ä»¶ï¼Œä¹Ÿæ˜¯å…¥å£æ–‡ä»¶\n\t\t\tfilename: \"remoteEntry.js\",\n\t\t\t// å¯¼å‡ºçš„è·¯å¾„\n\t\t\texposes: {\n\t\t\t\t// è‡ªå·±å†™ä¸€ä¸ªç®€å•çš„æŒ‰é’®ç»„ä»¶\n\t\t\t\t\"./re-button\": \"./src/components/ReButton.vue\",\n\t\t\t},\n\t\t\t// å…±äº«çš„æ¨¡å—\n\t\t\tshared: [\"vue\", \"element-plus\"],\n\t\t}),\n\t],\n\tbuild: {\n\t\ttarget: \"esnext\",\n\t\tminify: false,\n\t},\n});\n```\n\nè¿œç¨‹åº”ç”¨é…ç½®å®Œæˆä¹‹åï¼Œæ‰“åŒ…å®Œæˆä¹‹åæ‰§è¡Œ`pnpm preview`,ä¸»åº”ç”¨ä¼šç”¨åˆ°è¿™ä¸ªé“¾æ¥\n\n```ts\n// ä¸»åº”ç”¨çš„vite.config.ts\nimport { defineConfig } from \"vite\";\nimport vue from \"@vitejs/plugin-vue\";\nimport AutoImport from \"unplugin-auto-import/vite\";\nimport Components from \"unplugin-vue-components/vite\";\nimport { ElementPlusResolver } from \"unplugin-vue-components/resolvers\";\nimport federation from \"@originjs/vite-plugin-federation\";\n\n// https://vite.dev/config/\nexport default defineConfig({\n\tplugins: [\n\t\tvue(),\n\t\tAutoImport({\n\t\t\tdts: true,\n\t\t\timports: [\"vue\", \"vue-router\"],\n\t\t\tresolvers: [ElementPlusResolver()],\n\t\t}),\n\t\tComponents({\n\t\t\tdts: true,\n\t\t\tresolvers: [ElementPlusResolver()],\n\t\t}),\n\t\tfederation({\n\t\t\tname: \"host\",\n\t\t\tremotes: {\n\t\t\t\t// è¿™ä¸ªåœ°å€å°±æ˜¯ ä½ è¿œç¨‹åº”ç”¨çš„å…¥å£æ–‡ä»¶åœ°å€\n\t\t\t\tremote: \"http://localhost:4173/assets/remoteEntry.js\",\n\t\t\t},\n\t\t\tshared: [\"vue\", \"element-plus\"],\n\t\t}),\n\t],\n\tbuild: {\n\t\ttarget: \"esnext\",\n\t\tminify: false,\n\t},\n});\n```\n\nåœ¨`App.vue`ä¸­ï¼š\n\n```vue\n<script setup lang=\"ts\">\nimport { defineAsyncComponent } from \"vue\";\n// @ts-ignore\nconst ReButton = defineAsyncComponent(() => import(\"remote/re-button\"));\n</script>\n\n<template>\n\t<div>\n\t\t<h1>åŠ è½½è¿œç¨‹ç»„ä»¶</h1>\n\n\t\t<ReButton title=\"è¿œç¨‹æŒ‰é’®\" />\n\t</div>\n</template>\n\n<style scoped></style>\n```\n\nåœ¨ä¸»åº”ç”¨æ‰“åŒ…ä¹‹åä¸Šä¼ `nginxæˆ–è€…æœåŠ¡å™¨`ä¸Šå¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼›\n![](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2a565op8kn.webp)\n\n## rsbuild çš„é…ç½®\n\n```ts\n// è¿œç¨‹åº”ç”¨\nimport { defineConfig } from \"@rsbuild/core\";\nimport { pluginVue } from \"@rsbuild/plugin-vue\";\n\nexport default defineConfig({\n\tplugins: [pluginVue()],\n\tsource: {\n\t\tentry: {\n\t\t\tindex: \"./src/main.ts\",\n\t\t},\n\t},\n\tmoduleFederation: {\n\t\tname: \"remote\",\n\t\tfilename: \"remoteEntry.js\",\n\t\texposes: {\n\t\t\t\"./Button\": {\n\t\t\t\timport: \"./src/components/Button.vue\",\n\t\t\t\tname: \"Button\",\n\t\t\t},\n\t\t},\n\t\tshared: {\n\t\t\tvue: {\n\t\t\t\tsingleton: true,\n\t\t\t\trequiredVersion: \"^3.3.0\",\n\t\t\t\teager: true,\n\t\t\t},\n\t\t},\n\t},\n\tserver: {\n\t\tport: 3001,\n\t\tcors: true,\n\t},\n\thtml: {\n\t\ttemplate: \"./index.html\",\n\t},\n});\n```\n\n```ts\n// ä¸»åº”ç”¨\nimport { defineConfig } from \"@rsbuild/core\";\nimport { pluginVue } from \"@rsbuild/plugin-vue\";\n\nexport default defineConfig({\n\tplugins: [pluginVue()],\n\tsource: {\n\t\tentry: {\n\t\t\tindex: \"./src/main.ts\",\n\t\t},\n\t},\n\tmoduleFederation: {\n\t\tname: \"host\",\n\t\tremotes: {\n\t\t\tremote: {\n\t\t\t\texternal: \"remote@http://localhost:3001/remoteEntry.js\",\n\t\t\t\tformat: \"esm\",\n\t\t\t\tfrom: \"vite\",\n\t\t\t\ttype: \"module\",\n\t\t\t},\n\t\t},\n\t\tshared: {\n\t\t\tvue: {\n\t\t\t\tsingleton: true,\n\t\t\t\trequiredVersion: \"^3.3.0\",\n\t\t\t\teager: true,\n\t\t\t},\n\t\t},\n\t},\n\thtml: {\n\t\ttemplate: \"./index.html\",\n\t},\n});\n```\n\n```ts\nconst remoteComponent = defineAsyncComponent({\n\tloader: () => import(\"remote/Button\") as Promise<typeof import(\"*.vue\")>,\n\tonError(error) {\n\t\tconsole.error(\"è¿œç¨‹ç»„ä»¶åŠ è½½å¤±è´¥:\", error);\n\t},\n});\n```\n\n~~**<p style=\"color: #ff0000;\">åªæµ‹è¯•äº†æ²¡æœ‰å¼•å…¥ä»»ä½•æ’ä»¶ï¼Œui çš„æƒ…å†µï¼Œå…¶ä»–æƒ…å†µæš‚æ—¶å…ˆä¸è€ƒè™‘</p>**~~\n\nä¹‹å‰æ²¡æœ‰æµ‹è¯•åˆ°`ui`ç»„ä»¶ï¼Œè¿‘æœŸåœ¨æˆ‘çš„é¡¹ç›®ä¸­ä¸Šçº¿äº†æµ‹è¯•æ¡ˆä¾‹ï¼Œå…¶ä½¿ç”¨äº†`element-plus`ç»„ä»¶ï¼Œæ‰“å¼€ä¹‹åå…¶æ˜¾ç¤ºçš„æ˜¯æ­£å¸¸æ ·å¼ï¼Œå¹¶ä¸”ç‚¹å‡»æ˜¯ç”Ÿæ•ˆçš„ï¼Œå…·ä½“æ¶‰åŠçš„ä»£ç å¦‚ä¸‹ï¼š[github](https://github.com/wangxiaoze-view/sim-admin/blob/main/rsbuild.config.ts#L164C3-L183C5)\n\n```ts\n{\n\tmoduleFederation: {\n    options: {\n      name: 'sim_admin',\n      remotes: {\n        remote: process.env.APP_REMOTE as string,\n      },\n      shared: {\n        vue: {\n          singleton: true,\n          requiredVersion: '3',\n          eager: true,\n        },\n        'element-plus': {\n          singleton: true,\n          requiredVersion: '2',\n          eager: true,\n        },\n      },\n    },\n  },\n}\n\n```\n","source":"_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/å¼€å‘è¿œç¨‹ç»„ä»¶çš„å®è·µ.md","raw":"---\ntitle: æŠ€æœ¯è°ƒç ”-è¿œç¨‹ç»„ä»¶å®è·µ\nabbrlink: af6eac10\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - æŠ€æœ¯è°ƒç ”\n---\n\n# èƒŒæ™¯\n\nå‰ç«¯æ—¶é—´æ€»ç»“äº†`å¼€å‘è¿œç¨‹ç»„ä»¶çš„ä»‹ç»`ï¼Œå…¶å®ä¹Ÿä¸ç®—æ˜¯è¿œç¨‹ç»„ä»¶, å°±æ˜¯é€šè¿‡`install`çš„å½¢å¼è¿›è¡Œå®‰è£…ä¾èµ–ï¼›\n\nè™½ç„¶é€šè¿‡æ‹†åˆ†ç»„ä»¶æˆ–è€…æ–¹æ³•ï¼Œé€šè¿‡`install`(ä¸è®ºå…¬å¼€è¿˜æ˜¯ç§æœ‰)éƒ½æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æœ€è¿‘åœ¨æ–°çš„é¡¹ç›®ä¸­ä½¿ç”¨è¿˜æ˜¯å‘ç°äº†ä¸€äº›é—®é¢˜ï¼›\n\n1. ä½¿ç”¨`npm`, `yarn`å‡ºç°ä¸€äº›ä¾èµ–æ€§é—®é¢˜: ç‰ˆæœ¬å†²çªï¼Œæ‰“åŒ…é—®é¢˜ç­‰ç­‰; `yarn peerDependencies` ä¸ç”Ÿæ•ˆï¼Œåªæœ‰ä½¿ç”¨`npm`æ˜¯å¯ä»¥çš„ï¼›å› ä¸ºé¡¹ç›®ä¸­æœ‰`autoimport.d.ts`ç­‰æ–‡ä»¶ï¼Œé‚£ä¹ˆä½¿ç”¨`npm`ä¼šå¯¼è‡´ä¾èµ–æ€§é‡å¤å†™å…¥`autoimport.d.ts`çš„è­¦å‘Šï¼›\n2. ä½¿ç”¨`pnpm`å®‰è£…å¯ä»¥é¿å…è¿™äº›é—®é¢˜ï¼Œä½†å‰ææ˜¯æœåŠ¡å™¨ä¸Šæœ‰`pnpm`\n\n## åŸå‹å›¾\n\n![](https://wangxiaoze-view.github.io/picx-images-hosting/images/remote_components.3rbcu4xiz3.svg)\n\næ¶‰åŠé¡¹ç›®çš„åœ°å€ä¸ºï¼š [sim-admin](https://wangxiaoze-view.github.io/sim-admin/#/fun/remote)\n\n## å®è·µæ–¹å‘\n\nè¿‘æœŸåœ¨æ•´ç†å®ç°æŠ€æœ¯ä¸Šï¼Œå‘ç°äº†ä¿©ä¸ªæ–¹æ³•ï¼š\n\n### vite-lib æ’ä»¶æ¨¡å¼ + fetch åŠ è½½å¼‚æ­¥ç»„ä»¶\n\nå°±æ˜¯å°†ä½ ç¼–å†™å¥½çš„ç»„ä»¶ï¼Œé€šè¿‡`vite-lib`çš„å½¢å¼ï¼Œå°†å…¶æ‰“åŒ…æˆå·¥å…·æ’ä»¶ï¼›ä»£ç å¦‚ä¸‹ï¼š\n\n```ts\nexport default defineConfig({\n\tplugins: [vue()],\n\tdefine: {\n\t\t\"process.env.NODE_ENV\": '\"production\"',\n\t},\n\tbuild: {\n\t\t// css æ‹†åˆ† å‹ç¼©\n\t\tcssCodeSplit: true,\n\t\tcssMinify: true,\n\t\tlib: {\n\t\t\tentry: {\n\t\t\t\t// ç»„ä»¶çš„å…¥å£\n\t\t\t\tA: \"./src/components/Test.vue\",\n\t\t\t},\n\t\t\t// æ‰“åŒ…çš„æ ¼å¼\n\t\t\tformats: [\"es\"],\n\t\t},\n\t\trollupOptions: {\n\t\t\t// è¿™ä¸ªä¸éœ€è¦æœ‰ï¼Œéœ€è¦å°†vueæ‰“åŒ…è¿›å»\n\t\t\t// external: [\"vue\"],\n\t\t\toutput: {\n\t\t\t\tdir: \"dist\",\n\t\t\t\tformat: \"es\",\n\t\t\t},\n\t\t},\n\t},\n});\n```\n\næ‰“åŒ…å®Œæˆä¹‹åæ‰§è¡Œ`pnpm preview`ï¼Œå¯åŠ¨æœåŠ¡ï¼›\n\nåœ¨ä¸»åº”ç”¨ä¸­ç¼–å†™å¦‚ä¸‹ï¼š\n\n```ts\nimport { defineAsyncComponent } from \"vue\";\n\n// url:å°±æ˜¯ä½ éœ€è¦åŠ è½½çš„jsæ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šhttp://localhost:4173/a.js\nexport async function loadRemoteComponents(url: string, name = \"default\") {\n\ttry {\n\t\tconst response = await fetch(url);\n\t\tconst code = await response.text();\n\t\tconst blob = new Blob([code], { type: \"text/javascript\" });\n\t\tconst blobUrl = URL.createObjectURL(blob);\n\t\tconst module = await import(/* @vite-ignore */ blobUrl);\n\t\tURL.revokeObjectURL(blobUrl);\n\t\tconst _component = module[name];\n\t\t// å°†ç»„ä»¶ï¼Œç»„ä»¶åï¼Œä»¥åŠscopeIdæš´éœ²å‡ºå»\n\t\treturn {\n\t\t\tcomponent: defineAsyncComponent(() => Promise.resolve(_component)),\n\t\t\tcomponentName: _component.name,\n\t\t\tscopeId: _component.__scopeId,\n\t\t};\n\t} catch (error) {\n\t\tconsole.error(\"åŠ è½½è¿œç¨‹ç»„ä»¶å¤±è´¥:\", error);\n\t\tthrow error;\n\t}\n}\n```\n\nåœ¨`index.html`ä¸­å¼•å…¥`css`æ ·å¼\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n\t<head>\n\t\t<meta charset=\"UTF-8\" />\n\t\t<link rel=\"icon\" type=\"image/svg+xml\" href=\"/vite.svg\" />\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n\t\t<title>Vite + Vue + TS</title>\n\t\t<!-- åœ¨è¿™é‡Œæ·»åŠ ï¼Œä½ è¿œç¨‹çš„cssåœ°å€ -->\n\t\t<link rel=\"stylesheet\" href=\"http://localhost:4173/a.css\" />\n\t</head>\n\t<body>\n\t\t<div id=\"app\"></div>\n\t\t<script type=\"module\" src=\"/src/main.ts\"></script>\n\t</body>\n</html>\n```\n\nåˆ›å»ºä¸€ä¸ªç»„ä»¶ `Remote_1.vue`\n\n```vue\n<script setup lang=\"ts\">\nconst { url } = defineProps<{\n\turl: string;\n}>();\nimport { loadRemoteComponents } from \"./loadRemoteComponents\";\nconst { component, componentName, scopeId } = await loadRemoteComponents(url);\n</script>\n\n<template>\n\t<!-- scopeId: å¿…é¡»è¦æœ‰ï¼Œä¸ç„¶ä¼šå¯¼è‡´æ ·å¼ä¸¢å¤± -->\n\t<component :is=\"component\" :key=\"componentName\" :[scopeId]=\"scopeId\" />\n</template>\n\n<style scoped></style>\n```\n\nåœ¨`APP.vue`ä¸­ï¼š\n\n```vue\n<script setup lang=\"ts\">\nimport Remote_1 from \"./Remote_1.vue\";\n</script>\n<template>\n\t<div>\n\t\t<Suspense>\n\t\t\t<Remote_1 />\n\t\t\t<template #fallback>åŠ è½½ä¸­</template>\n\t\t</Suspense>\n\t</div>\n</template>\n```\n\nè¿™æ ·åŸºæœ¬ä¸Šå°±å¯ä»¥äº†ï¼Œä½†æ˜¯å®ƒä¹Ÿæ˜¯æœ‰ç¼ºé™·çš„ï¼š\n\n**<p style=\"color: #ff0000;\">å¦‚æœè¿œç¨‹ç»„ä»¶æ²¡æœ‰æ¥ä½ä»»ä½•çš„ ui åº“ï¼Œæ’ä»¶åº“ç­‰ç­‰ï¼Œé‚£ä¹ˆå°±å¯ä»¥å‚è€ƒè¿™ä¸ªåšæ³•ï¼Œä½†å¦‚æœä½ çš„ä¸»åº”ç”¨ä½¿ç”¨äº†`element-plus`,è¿œç¨‹ç»„ä»¶ä¹Ÿä½¿ç”¨äº†`element-plus`,é‚£ä¹ˆå°±ä¸å¯ä»¥ä½¿ç”¨è¿™ä¸ªåšæ³•äº†ï¼Œå¯ä»¥å‚è€ƒä¸‹ä¸€ä¸ªåšæ³•</p>**\n\n### å€ŸåŠ©æ’ä»¶ @originjs/vite-plugin-federation\n\nè¿™ä¸ªæ’ä»¶ç›¸å¯¹äºä¸Šä¸€ä¸ªåšæ³•çš„å¥½å¤„å°±æ˜¯ï¼šæ¨¡å—å…±äº«ï¼›å¦‚æœä¸»åº”ç”¨å’Œè¿œç¨‹åº”ç”¨éƒ½ä½¿ç”¨äº†`element-plus`æœ‰å•ç‹¬çš„é…ç½®æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼›\n\né¦–å…ˆä¸»åº”ç”¨å’Œè¿œç¨‹åº”ç”¨éƒ½éœ€è¦å®‰è£… `pnpm add -D @originjs/vite-plugin-federation`,é…ç½®å¦‚ä¸‹ï¼š\n\n```ts\n// è¿œç¨‹åº”ç”¨çš„vite.config.ts\nimport { defineConfig } from \"vite\";\nimport vue from \"@vitejs/plugin-vue\";\nimport AutoImport from \"unplugin-auto-import/vite\";\nimport Components from \"unplugin-vue-components/vite\";\nimport { ElementPlusResolver } from \"unplugin-vue-components/resolvers\";\nimport federation from \"@originjs/vite-plugin-federation\";\n\n// https://vite.dev/config/\nexport default defineConfig({\n\tplugins: [\n\t\tvue(),\n\t\tAutoImport({\n\t\t\tdts: true,\n\t\t\timports: [\"vue\", \"vue-router\"],\n\t\t\tresolvers: [ElementPlusResolver()],\n\t\t}),\n\t\tComponents({\n\t\t\tdts: true,\n\t\t\tresolvers: [ElementPlusResolver()],\n\t\t}),\n\t\tfederation({\n\t\t\tname: \"remote\",\n\t\t\t// æ‰“åŒ…çš„åº”ç”¨æ–‡ä»¶ï¼Œä¹Ÿæ˜¯å…¥å£æ–‡ä»¶\n\t\t\tfilename: \"remoteEntry.js\",\n\t\t\t// å¯¼å‡ºçš„è·¯å¾„\n\t\t\texposes: {\n\t\t\t\t// è‡ªå·±å†™ä¸€ä¸ªç®€å•çš„æŒ‰é’®ç»„ä»¶\n\t\t\t\t\"./re-button\": \"./src/components/ReButton.vue\",\n\t\t\t},\n\t\t\t// å…±äº«çš„æ¨¡å—\n\t\t\tshared: [\"vue\", \"element-plus\"],\n\t\t}),\n\t],\n\tbuild: {\n\t\ttarget: \"esnext\",\n\t\tminify: false,\n\t},\n});\n```\n\nè¿œç¨‹åº”ç”¨é…ç½®å®Œæˆä¹‹åï¼Œæ‰“åŒ…å®Œæˆä¹‹åæ‰§è¡Œ`pnpm preview`,ä¸»åº”ç”¨ä¼šç”¨åˆ°è¿™ä¸ªé“¾æ¥\n\n```ts\n// ä¸»åº”ç”¨çš„vite.config.ts\nimport { defineConfig } from \"vite\";\nimport vue from \"@vitejs/plugin-vue\";\nimport AutoImport from \"unplugin-auto-import/vite\";\nimport Components from \"unplugin-vue-components/vite\";\nimport { ElementPlusResolver } from \"unplugin-vue-components/resolvers\";\nimport federation from \"@originjs/vite-plugin-federation\";\n\n// https://vite.dev/config/\nexport default defineConfig({\n\tplugins: [\n\t\tvue(),\n\t\tAutoImport({\n\t\t\tdts: true,\n\t\t\timports: [\"vue\", \"vue-router\"],\n\t\t\tresolvers: [ElementPlusResolver()],\n\t\t}),\n\t\tComponents({\n\t\t\tdts: true,\n\t\t\tresolvers: [ElementPlusResolver()],\n\t\t}),\n\t\tfederation({\n\t\t\tname: \"host\",\n\t\t\tremotes: {\n\t\t\t\t// è¿™ä¸ªåœ°å€å°±æ˜¯ ä½ è¿œç¨‹åº”ç”¨çš„å…¥å£æ–‡ä»¶åœ°å€\n\t\t\t\tremote: \"http://localhost:4173/assets/remoteEntry.js\",\n\t\t\t},\n\t\t\tshared: [\"vue\", \"element-plus\"],\n\t\t}),\n\t],\n\tbuild: {\n\t\ttarget: \"esnext\",\n\t\tminify: false,\n\t},\n});\n```\n\nåœ¨`App.vue`ä¸­ï¼š\n\n```vue\n<script setup lang=\"ts\">\nimport { defineAsyncComponent } from \"vue\";\n// @ts-ignore\nconst ReButton = defineAsyncComponent(() => import(\"remote/re-button\"));\n</script>\n\n<template>\n\t<div>\n\t\t<h1>åŠ è½½è¿œç¨‹ç»„ä»¶</h1>\n\n\t\t<ReButton title=\"è¿œç¨‹æŒ‰é’®\" />\n\t</div>\n</template>\n\n<style scoped></style>\n```\n\nåœ¨ä¸»åº”ç”¨æ‰“åŒ…ä¹‹åä¸Šä¼ `nginxæˆ–è€…æœåŠ¡å™¨`ä¸Šå¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼›\n![](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2a565op8kn.webp)\n\n## rsbuild çš„é…ç½®\n\n```ts\n// è¿œç¨‹åº”ç”¨\nimport { defineConfig } from \"@rsbuild/core\";\nimport { pluginVue } from \"@rsbuild/plugin-vue\";\n\nexport default defineConfig({\n\tplugins: [pluginVue()],\n\tsource: {\n\t\tentry: {\n\t\t\tindex: \"./src/main.ts\",\n\t\t},\n\t},\n\tmoduleFederation: {\n\t\tname: \"remote\",\n\t\tfilename: \"remoteEntry.js\",\n\t\texposes: {\n\t\t\t\"./Button\": {\n\t\t\t\timport: \"./src/components/Button.vue\",\n\t\t\t\tname: \"Button\",\n\t\t\t},\n\t\t},\n\t\tshared: {\n\t\t\tvue: {\n\t\t\t\tsingleton: true,\n\t\t\t\trequiredVersion: \"^3.3.0\",\n\t\t\t\teager: true,\n\t\t\t},\n\t\t},\n\t},\n\tserver: {\n\t\tport: 3001,\n\t\tcors: true,\n\t},\n\thtml: {\n\t\ttemplate: \"./index.html\",\n\t},\n});\n```\n\n```ts\n// ä¸»åº”ç”¨\nimport { defineConfig } from \"@rsbuild/core\";\nimport { pluginVue } from \"@rsbuild/plugin-vue\";\n\nexport default defineConfig({\n\tplugins: [pluginVue()],\n\tsource: {\n\t\tentry: {\n\t\t\tindex: \"./src/main.ts\",\n\t\t},\n\t},\n\tmoduleFederation: {\n\t\tname: \"host\",\n\t\tremotes: {\n\t\t\tremote: {\n\t\t\t\texternal: \"remote@http://localhost:3001/remoteEntry.js\",\n\t\t\t\tformat: \"esm\",\n\t\t\t\tfrom: \"vite\",\n\t\t\t\ttype: \"module\",\n\t\t\t},\n\t\t},\n\t\tshared: {\n\t\t\tvue: {\n\t\t\t\tsingleton: true,\n\t\t\t\trequiredVersion: \"^3.3.0\",\n\t\t\t\teager: true,\n\t\t\t},\n\t\t},\n\t},\n\thtml: {\n\t\ttemplate: \"./index.html\",\n\t},\n});\n```\n\n```ts\nconst remoteComponent = defineAsyncComponent({\n\tloader: () => import(\"remote/Button\") as Promise<typeof import(\"*.vue\")>,\n\tonError(error) {\n\t\tconsole.error(\"è¿œç¨‹ç»„ä»¶åŠ è½½å¤±è´¥:\", error);\n\t},\n});\n```\n\n~~**<p style=\"color: #ff0000;\">åªæµ‹è¯•äº†æ²¡æœ‰å¼•å…¥ä»»ä½•æ’ä»¶ï¼Œui çš„æƒ…å†µï¼Œå…¶ä»–æƒ…å†µæš‚æ—¶å…ˆä¸è€ƒè™‘</p>**~~\n\nä¹‹å‰æ²¡æœ‰æµ‹è¯•åˆ°`ui`ç»„ä»¶ï¼Œè¿‘æœŸåœ¨æˆ‘çš„é¡¹ç›®ä¸­ä¸Šçº¿äº†æµ‹è¯•æ¡ˆä¾‹ï¼Œå…¶ä½¿ç”¨äº†`element-plus`ç»„ä»¶ï¼Œæ‰“å¼€ä¹‹åå…¶æ˜¾ç¤ºçš„æ˜¯æ­£å¸¸æ ·å¼ï¼Œå¹¶ä¸”ç‚¹å‡»æ˜¯ç”Ÿæ•ˆçš„ï¼Œå…·ä½“æ¶‰åŠçš„ä»£ç å¦‚ä¸‹ï¼š[github](https://github.com/wangxiaoze-view/sim-admin/blob/main/rsbuild.config.ts#L164C3-L183C5)\n\n```ts\n{\n\tmoduleFederation: {\n    options: {\n      name: 'sim_admin',\n      remotes: {\n        remote: process.env.APP_REMOTE as string,\n      },\n      shared: {\n        vue: {\n          singleton: true,\n          requiredVersion: '3',\n          eager: true,\n        },\n        'element-plus': {\n          singleton: true,\n          requiredVersion: '2',\n          eager: true,\n        },\n      },\n    },\n  },\n}\n\n```\n","slug":"æ€»ç»“/æŠ€æœ¯è°ƒç ”/å¼€å‘è¿œç¨‹ç»„ä»¶çš„å®è·µ","published":1,"updated":"2025-03-13T10:16:17.829Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0is000pfg9m4u059p3c","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>å‰ç«¯æ—¶é—´æ€»ç»“äº†<code>å¼€å‘è¿œç¨‹ç»„ä»¶çš„ä»‹ç»</code>ï¼Œå…¶å®ä¹Ÿä¸ç®—æ˜¯è¿œç¨‹ç»„ä»¶, å°±æ˜¯é€šè¿‡<code>install</code>çš„å½¢å¼è¿›è¡Œå®‰è£…ä¾èµ–ï¼›</p>\n<p>è™½ç„¶é€šè¿‡æ‹†åˆ†ç»„ä»¶æˆ–è€…æ–¹æ³•ï¼Œé€šè¿‡<code>install</code>(ä¸è®ºå…¬å¼€è¿˜æ˜¯ç§æœ‰)éƒ½æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æœ€è¿‘åœ¨æ–°çš„é¡¹ç›®ä¸­ä½¿ç”¨è¿˜æ˜¯å‘ç°äº†ä¸€äº›é—®é¢˜ï¼›</p>\n<ol>\n<li>ä½¿ç”¨<code>npm</code>, <code>yarn</code>å‡ºç°ä¸€äº›ä¾èµ–æ€§é—®é¢˜: ç‰ˆæœ¬å†²çªï¼Œæ‰“åŒ…é—®é¢˜ç­‰ç­‰; <code>yarn peerDependencies</code> ä¸ç”Ÿæ•ˆï¼Œåªæœ‰ä½¿ç”¨<code>npm</code>æ˜¯å¯ä»¥çš„ï¼›å› ä¸ºé¡¹ç›®ä¸­æœ‰<code>autoimport.d.ts</code>ç­‰æ–‡ä»¶ï¼Œé‚£ä¹ˆä½¿ç”¨<code>npm</code>ä¼šå¯¼è‡´ä¾èµ–æ€§é‡å¤å†™å…¥<code>autoimport.d.ts</code>çš„è­¦å‘Šï¼›</li>\n<li>ä½¿ç”¨<code>pnpm</code>å®‰è£…å¯ä»¥é¿å…è¿™äº›é—®é¢˜ï¼Œä½†å‰ææ˜¯æœåŠ¡å™¨ä¸Šæœ‰<code>pnpm</code></li>\n</ol>\n<h2 id=\"åŸå‹å›¾\"><a href=\"#åŸå‹å›¾\" class=\"headerlink\" title=\"åŸå‹å›¾\"></a>åŸå‹å›¾</h2><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/remote_components.3rbcu4xiz3.svg\"></p>\n<p>æ¶‰åŠé¡¹ç›®çš„åœ°å€ä¸ºï¼š <a href=\"https://wangxiaoze-view.github.io/sim-admin/#/fun/remote\">sim-admin</a></p>\n<h2 id=\"å®è·µæ–¹å‘\"><a href=\"#å®è·µæ–¹å‘\" class=\"headerlink\" title=\"å®è·µæ–¹å‘\"></a>å®è·µæ–¹å‘</h2><p>è¿‘æœŸåœ¨æ•´ç†å®ç°æŠ€æœ¯ä¸Šï¼Œå‘ç°äº†ä¿©ä¸ªæ–¹æ³•ï¼š</p>\n<h3 id=\"vite-lib-æ’ä»¶æ¨¡å¼-fetch-åŠ è½½å¼‚æ­¥ç»„ä»¶\"><a href=\"#vite-lib-æ’ä»¶æ¨¡å¼-fetch-åŠ è½½å¼‚æ­¥ç»„ä»¶\" class=\"headerlink\" title=\"vite-lib æ’ä»¶æ¨¡å¼ + fetch åŠ è½½å¼‚æ­¥ç»„ä»¶\"></a>vite-lib æ’ä»¶æ¨¡å¼ + fetch åŠ è½½å¼‚æ­¥ç»„ä»¶</h3><p>å°±æ˜¯å°†ä½ ç¼–å†™å¥½çš„ç»„ä»¶ï¼Œé€šè¿‡<code>vite-lib</code>çš„å½¢å¼ï¼Œå°†å…¶æ‰“åŒ…æˆå·¥å…·æ’ä»¶ï¼›ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">plugins</span>: [<span class=\"title function_\">vue</span>()],</span><br><span class=\"line\">\t<span class=\"attr\">define</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;process.env.NODE_ENV&quot;</span>: <span class=\"string\">&#x27;&quot;production&quot;&#x27;</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">build</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// css æ‹†åˆ† å‹ç¼©</span></span><br><span class=\"line\">\t\t<span class=\"attr\">cssCodeSplit</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">cssMinify</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">lib</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// ç»„ä»¶çš„å…¥å£</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">A</span>: <span class=\"string\">&quot;./src/components/Test.vue&quot;</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ‰“åŒ…çš„æ ¼å¼</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">formats</span>: [<span class=\"string\">&quot;es&quot;</span>],</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t<span class=\"attr\">rollupOptions</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// è¿™ä¸ªä¸éœ€è¦æœ‰ï¼Œéœ€è¦å°†vueæ‰“åŒ…è¿›å»</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// external: [&quot;vue&quot;],</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">dir</span>: <span class=\"string\">&quot;dist&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">format</span>: <span class=\"string\">&quot;es&quot;</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>æ‰“åŒ…å®Œæˆä¹‹åæ‰§è¡Œ<code>pnpm preview</code>ï¼Œå¯åŠ¨æœåŠ¡ï¼›</p>\n<p>åœ¨ä¸»åº”ç”¨ä¸­ç¼–å†™å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineAsyncComponent &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// url:å°±æ˜¯ä½ éœ€è¦åŠ è½½çš„jsæ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šhttp://localhost:4173/a.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">loadRemoteComponents</span>(<span class=\"params\"><span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, name = <span class=\"string\">&quot;default&quot;</span></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> response = <span class=\"keyword\">await</span> <span class=\"title function_\">fetch</span>(url);</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> code = <span class=\"keyword\">await</span> response.<span class=\"title function_\">text</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> blob = <span class=\"keyword\">new</span> <span class=\"title class_\">Blob</span>([code], &#123; <span class=\"attr\">type</span>: <span class=\"string\">&quot;text/javascript&quot;</span> &#125;);</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> blobUrl = <span class=\"variable constant_\">URL</span>.<span class=\"title function_\">createObjectURL</span>(blob);</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> <span class=\"variable language_\">module</span> = <span class=\"keyword\">await</span> <span class=\"keyword\">import</span>(<span class=\"comment\">/* @vite-ignore */</span> blobUrl);</span><br><span class=\"line\">\t\t<span class=\"variable constant_\">URL</span>.<span class=\"title function_\">revokeObjectURL</span>(blobUrl);</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> _component = <span class=\"variable language_\">module</span>[name];</span><br><span class=\"line\">\t\t<span class=\"comment\">// å°†ç»„ä»¶ï¼Œç»„ä»¶åï¼Œä»¥åŠscopeIdæš´éœ²å‡ºå»</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">component</span>: <span class=\"title function_\">defineAsyncComponent</span>(<span class=\"function\">() =&gt;</span> <span class=\"title class_\">Promise</span>.<span class=\"title function_\">resolve</span>(_component)),</span><br><span class=\"line\">\t\t\t<span class=\"attr\">componentName</span>: _component.<span class=\"property\">name</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">scopeId</span>: _component.<span class=\"property\">__scopeId</span>,</span><br><span class=\"line\">\t\t&#125;;</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(<span class=\"string\">&quot;åŠ è½½è¿œç¨‹ç»„ä»¶å¤±è´¥:&quot;</span>, error);</span><br><span class=\"line\">\t\t<span class=\"keyword\">throw</span> error;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨<code>index.html</code>ä¸­å¼•å…¥<code>css</code>æ ·å¼</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;icon&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;image/svg+xml&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;/vite.svg&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Vite + Vue + TS<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">&lt;!-- åœ¨è¿™é‡Œæ·»åŠ ï¼Œä½ è¿œç¨‹çš„cssåœ°å€ --&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;http://localhost:4173/a.css&quot;</span> /&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;module&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/src/main.ts&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>åˆ›å»ºä¸€ä¸ªç»„ä»¶ <code>Remote_1.vue</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class=\"line\">const &#123; url &#125; = defineProps&lt;&#123;</span><br><span class=\"line\">\turl: string;</span><br><span class=\"line\">&#125;&gt;();</span><br><span class=\"line\">import &#123; loadRemoteComponents &#125; from &quot;./loadRemoteComponents&quot;;</span><br><span class=\"line\">const &#123; component, componentName, scopeId &#125; = await loadRemoteComponents(url);</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;!-- scopeId: å¿…é¡»è¦æœ‰ï¼Œä¸ç„¶ä¼šå¯¼è‡´æ ·å¼ä¸¢å¤± --&gt;</span><br><span class=\"line\">\t&lt;component :is=&quot;component&quot; :key=&quot;componentName&quot; :[scopeId]=&quot;scopeId&quot; /&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style scoped&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨<code>APP.vue</code>ä¸­ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class=\"line\">import Remote_1 from &quot;./Remote_1.vue&quot;;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;div&gt;</span><br><span class=\"line\">\t\t&lt;Suspense&gt;</span><br><span class=\"line\">\t\t\t&lt;Remote_1 /&gt;</span><br><span class=\"line\">\t\t\t&lt;template #fallback&gt;åŠ è½½ä¸­&lt;/template&gt;</span><br><span class=\"line\">\t\t&lt;/Suspense&gt;</span><br><span class=\"line\">\t&lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·åŸºæœ¬ä¸Šå°±å¯ä»¥äº†ï¼Œä½†æ˜¯å®ƒä¹Ÿæ˜¯æœ‰ç¼ºé™·çš„ï¼š</p>\n<p><strong><p style=\"color: #ff0000;\">å¦‚æœè¿œç¨‹ç»„ä»¶æ²¡æœ‰æ¥ä½ä»»ä½•çš„ ui åº“ï¼Œæ’ä»¶åº“ç­‰ç­‰ï¼Œé‚£ä¹ˆå°±å¯ä»¥å‚è€ƒè¿™ä¸ªåšæ³•ï¼Œä½†å¦‚æœä½ çš„ä¸»åº”ç”¨ä½¿ç”¨äº†<code>element-plus</code>,è¿œç¨‹ç»„ä»¶ä¹Ÿä½¿ç”¨äº†<code>element-plus</code>,é‚£ä¹ˆå°±ä¸å¯ä»¥ä½¿ç”¨è¿™ä¸ªåšæ³•äº†ï¼Œå¯ä»¥å‚è€ƒä¸‹ä¸€ä¸ªåšæ³•</p></strong></p>\n<h3 id=\"å€ŸåŠ©æ’ä»¶-originjs-vite-plugin-federation\"><a href=\"#å€ŸåŠ©æ’ä»¶-originjs-vite-plugin-federation\" class=\"headerlink\" title=\"å€ŸåŠ©æ’ä»¶ @originjs&#x2F;vite-plugin-federation\"></a>å€ŸåŠ©æ’ä»¶ @originjs&#x2F;vite-plugin-federation</h3><p>è¿™ä¸ªæ’ä»¶ç›¸å¯¹äºä¸Šä¸€ä¸ªåšæ³•çš„å¥½å¤„å°±æ˜¯ï¼šæ¨¡å—å…±äº«ï¼›å¦‚æœä¸»åº”ç”¨å’Œè¿œç¨‹åº”ç”¨éƒ½ä½¿ç”¨äº†<code>element-plus</code>æœ‰å•ç‹¬çš„é…ç½®æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼›</p>\n<p>é¦–å…ˆä¸»åº”ç”¨å’Œè¿œç¨‹åº”ç”¨éƒ½éœ€è¦å®‰è£… <code>pnpm add -D @originjs/vite-plugin-federation</code>,é…ç½®å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è¿œç¨‹åº”ç”¨çš„vite.config.ts</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineConfig &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vite&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> vue <span class=\"keyword\">from</span> <span class=\"string\">&quot;@vitejs/plugin-vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">AutoImport</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;unplugin-auto-import/vite&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Components</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;unplugin-vue-components/vite&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ElementPlusResolver</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;unplugin-vue-components/resolvers&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> federation <span class=\"keyword\">from</span> <span class=\"string\">&quot;@originjs/vite-plugin-federation&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// https://vite.dev/config/</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">\t\t<span class=\"title function_\">vue</span>(),</span><br><span class=\"line\">\t\t<span class=\"title class_\">AutoImport</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">dts</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">imports</span>: [<span class=\"string\">&quot;vue&quot;</span>, <span class=\"string\">&quot;vue-router&quot;</span>],</span><br><span class=\"line\">\t\t\t<span class=\"attr\">resolvers</span>: [<span class=\"title class_\">ElementPlusResolver</span>()],</span><br><span class=\"line\">\t\t&#125;),</span><br><span class=\"line\">\t\t<span class=\"title class_\">Components</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">dts</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">resolvers</span>: [<span class=\"title class_\">ElementPlusResolver</span>()],</span><br><span class=\"line\">\t\t&#125;),</span><br><span class=\"line\">\t\t<span class=\"title function_\">federation</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;remote&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ‰“åŒ…çš„åº”ç”¨æ–‡ä»¶ï¼Œä¹Ÿæ˜¯å…¥å£æ–‡ä»¶</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">filename</span>: <span class=\"string\">&quot;remoteEntry.js&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¯¼å‡ºçš„è·¯å¾„</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">exposes</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// è‡ªå·±å†™ä¸€ä¸ªç®€å•çš„æŒ‰é’®ç»„ä»¶</span></span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;./re-button&quot;</span>: <span class=\"string\">&quot;./src/components/ReButton.vue&quot;</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å…±äº«çš„æ¨¡å—</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">shared</span>: [<span class=\"string\">&quot;vue&quot;</span>, <span class=\"string\">&quot;element-plus&quot;</span>],</span><br><span class=\"line\">\t\t&#125;),</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"attr\">build</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">target</span>: <span class=\"string\">&quot;esnext&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">minify</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>è¿œç¨‹åº”ç”¨é…ç½®å®Œæˆä¹‹åï¼Œæ‰“åŒ…å®Œæˆä¹‹åæ‰§è¡Œ<code>pnpm preview</code>,ä¸»åº”ç”¨ä¼šç”¨åˆ°è¿™ä¸ªé“¾æ¥</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä¸»åº”ç”¨çš„vite.config.ts</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineConfig &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vite&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> vue <span class=\"keyword\">from</span> <span class=\"string\">&quot;@vitejs/plugin-vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">AutoImport</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;unplugin-auto-import/vite&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Components</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;unplugin-vue-components/vite&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ElementPlusResolver</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;unplugin-vue-components/resolvers&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> federation <span class=\"keyword\">from</span> <span class=\"string\">&quot;@originjs/vite-plugin-federation&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// https://vite.dev/config/</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">\t\t<span class=\"title function_\">vue</span>(),</span><br><span class=\"line\">\t\t<span class=\"title class_\">AutoImport</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">dts</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">imports</span>: [<span class=\"string\">&quot;vue&quot;</span>, <span class=\"string\">&quot;vue-router&quot;</span>],</span><br><span class=\"line\">\t\t\t<span class=\"attr\">resolvers</span>: [<span class=\"title class_\">ElementPlusResolver</span>()],</span><br><span class=\"line\">\t\t&#125;),</span><br><span class=\"line\">\t\t<span class=\"title class_\">Components</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">dts</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">resolvers</span>: [<span class=\"title class_\">ElementPlusResolver</span>()],</span><br><span class=\"line\">\t\t&#125;),</span><br><span class=\"line\">\t\t<span class=\"title function_\">federation</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;host&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">remotes</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// è¿™ä¸ªåœ°å€å°±æ˜¯ ä½ è¿œç¨‹åº”ç”¨çš„å…¥å£æ–‡ä»¶åœ°å€</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">remote</span>: <span class=\"string\">&quot;http://localhost:4173/assets/remoteEntry.js&quot;</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">shared</span>: [<span class=\"string\">&quot;vue&quot;</span>, <span class=\"string\">&quot;element-plus&quot;</span>],</span><br><span class=\"line\">\t\t&#125;),</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"attr\">build</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">target</span>: <span class=\"string\">&quot;esnext&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">minify</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨<code>App.vue</code>ä¸­ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class=\"line\">import &#123; defineAsyncComponent &#125; from &quot;vue&quot;;</span><br><span class=\"line\">// @ts-ignore</span><br><span class=\"line\">const ReButton = defineAsyncComponent(() =&gt; import(&quot;remote/re-button&quot;));</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;div&gt;</span><br><span class=\"line\">\t\t&lt;h1&gt;åŠ è½½è¿œç¨‹ç»„ä»¶&lt;/h1&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&lt;ReButton title=&quot;è¿œç¨‹æŒ‰é’®&quot; /&gt;</span><br><span class=\"line\">\t&lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style scoped&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨ä¸»åº”ç”¨æ‰“åŒ…ä¹‹åä¸Šä¼ <code>nginxæˆ–è€…æœåŠ¡å™¨</code>ä¸Šå¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼›<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2a565op8kn.webp\"></p>\n<h2 id=\"rsbuild-çš„é…ç½®\"><a href=\"#rsbuild-çš„é…ç½®\" class=\"headerlink\" title=\"rsbuild çš„é…ç½®\"></a>rsbuild çš„é…ç½®</h2><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è¿œç¨‹åº”ç”¨</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineConfig &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@rsbuild/core&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; pluginVue &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@rsbuild/plugin-vue&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">plugins</span>: [<span class=\"title function_\">pluginVue</span>()],</span><br><span class=\"line\">\t<span class=\"attr\">source</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">index</span>: <span class=\"string\">&quot;./src/main.ts&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">moduleFederation</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;remote&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">filename</span>: <span class=\"string\">&quot;remoteEntry.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">exposes</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;./Button&quot;</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">import</span>: <span class=\"string\">&quot;./src/components/Button.vue&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;Button&quot;</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t<span class=\"attr\">shared</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">vue</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">singleton</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">requiredVersion</span>: <span class=\"string\">&quot;^3.3.0&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">eager</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">server</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">port</span>: <span class=\"number\">3001</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">cors</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">html</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">template</span>: <span class=\"string\">&quot;./index.html&quot;</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä¸»åº”ç”¨</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineConfig &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@rsbuild/core&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; pluginVue &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@rsbuild/plugin-vue&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">plugins</span>: [<span class=\"title function_\">pluginVue</span>()],</span><br><span class=\"line\">\t<span class=\"attr\">source</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">index</span>: <span class=\"string\">&quot;./src/main.ts&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">moduleFederation</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;host&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">remotes</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">remote</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">external</span>: <span class=\"string\">&quot;remote@http://localhost:3001/remoteEntry.js&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">format</span>: <span class=\"string\">&quot;esm&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">from</span>: <span class=\"string\">&quot;vite&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;module&quot;</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t<span class=\"attr\">shared</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">vue</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">singleton</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">requiredVersion</span>: <span class=\"string\">&quot;^3.3.0&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">eager</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">html</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">template</span>: <span class=\"string\">&quot;./index.html&quot;</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> remoteComponent = <span class=\"title function_\">defineAsyncComponent</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">loader</span>: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;remote/Button&quot;</span>) <span class=\"keyword\">as</span> <span class=\"title class_\">Promise</span>&lt;<span class=\"keyword\">typeof</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;*.vue&quot;</span>)&gt;,</span><br><span class=\"line\">\t<span class=\"title function_\">onError</span>(<span class=\"params\">error</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(<span class=\"string\">&quot;è¿œç¨‹ç»„ä»¶åŠ è½½å¤±è´¥:&quot;</span>, error);</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><del><strong><p style=\"color: #ff0000;\">åªæµ‹è¯•äº†æ²¡æœ‰å¼•å…¥ä»»ä½•æ’ä»¶ï¼Œui çš„æƒ…å†µï¼Œå…¶ä»–æƒ…å†µæš‚æ—¶å…ˆä¸è€ƒè™‘</p></strong></del></p>\n<p>ä¹‹å‰æ²¡æœ‰æµ‹è¯•åˆ°<code>ui</code>ç»„ä»¶ï¼Œè¿‘æœŸåœ¨æˆ‘çš„é¡¹ç›®ä¸­ä¸Šçº¿äº†æµ‹è¯•æ¡ˆä¾‹ï¼Œå…¶ä½¿ç”¨äº†<code>element-plus</code>ç»„ä»¶ï¼Œæ‰“å¼€ä¹‹åå…¶æ˜¾ç¤ºçš„æ˜¯æ­£å¸¸æ ·å¼ï¼Œå¹¶ä¸”ç‚¹å‡»æ˜¯ç”Ÿæ•ˆçš„ï¼Œå…·ä½“æ¶‰åŠçš„ä»£ç å¦‚ä¸‹ï¼š<a href=\"https://github.com/wangxiaoze-view/sim-admin/blob/main/rsbuild.config.ts#L164C3-L183C5\">github</a></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">moduleFederation</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">name</span>: <span class=\"string\">&#x27;sim_admin&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">remotes</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">remote</span>: process.<span class=\"property\">env</span>.<span class=\"property\">APP_REMOTE</span> <span class=\"keyword\">as</span> <span class=\"built_in\">string</span>,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">shared</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">vue</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">singleton</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">          <span class=\"attr\">requiredVersion</span>: <span class=\"string\">&#x27;3&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">eager</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"string\">&#x27;element-plus&#x27;</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">singleton</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">          <span class=\"attr\">requiredVersion</span>: <span class=\"string\">&#x27;2&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">eager</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>å‰ç«¯æ—¶é—´æ€»ç»“äº†<code>å¼€å‘è¿œç¨‹ç»„ä»¶çš„ä»‹ç»</code>ï¼Œå…¶å®ä¹Ÿä¸ç®—æ˜¯è¿œç¨‹ç»„ä»¶, å°±æ˜¯é€šè¿‡<code>install</code>çš„å½¢å¼è¿›è¡Œå®‰è£…ä¾èµ–ï¼›</p>\n<p>è™½ç„¶é€šè¿‡æ‹†åˆ†ç»„ä»¶æˆ–è€…æ–¹æ³•ï¼Œé€šè¿‡<code>install</code>(ä¸è®ºå…¬å¼€è¿˜æ˜¯ç§æœ‰)éƒ½æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æœ€è¿‘åœ¨æ–°çš„é¡¹ç›®ä¸­ä½¿ç”¨è¿˜æ˜¯å‘ç°äº†ä¸€äº›é—®é¢˜ï¼›</p>\n<ol>\n<li>ä½¿ç”¨<code>npm</code>, <code>yarn</code>å‡ºç°ä¸€äº›ä¾èµ–æ€§é—®é¢˜: ç‰ˆæœ¬å†²çªï¼Œæ‰“åŒ…é—®é¢˜ç­‰ç­‰; <code>yarn peerDependencies</code> ä¸ç”Ÿæ•ˆï¼Œåªæœ‰ä½¿ç”¨<code>npm</code>æ˜¯å¯ä»¥çš„ï¼›å› ä¸ºé¡¹ç›®ä¸­æœ‰<code>autoimport.d.ts</code>ç­‰æ–‡ä»¶ï¼Œé‚£ä¹ˆä½¿ç”¨<code>npm</code>ä¼šå¯¼è‡´ä¾èµ–æ€§é‡å¤å†™å…¥<code>autoimport.d.ts</code>çš„è­¦å‘Šï¼›</li>\n<li>ä½¿ç”¨<code>pnpm</code>å®‰è£…å¯ä»¥é¿å…è¿™äº›é—®é¢˜ï¼Œä½†å‰ææ˜¯æœåŠ¡å™¨ä¸Šæœ‰<code>pnpm</code></li>\n</ol>\n<h2 id=\"åŸå‹å›¾\"><a href=\"#åŸå‹å›¾\" class=\"headerlink\" title=\"åŸå‹å›¾\"></a>åŸå‹å›¾</h2><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/remote_components.3rbcu4xiz3.svg\"></p>\n<p>æ¶‰åŠé¡¹ç›®çš„åœ°å€ä¸ºï¼š <a href=\"https://wangxiaoze-view.github.io/sim-admin/#/fun/remote\">sim-admin</a></p>\n<h2 id=\"å®è·µæ–¹å‘\"><a href=\"#å®è·µæ–¹å‘\" class=\"headerlink\" title=\"å®è·µæ–¹å‘\"></a>å®è·µæ–¹å‘</h2><p>è¿‘æœŸåœ¨æ•´ç†å®ç°æŠ€æœ¯ä¸Šï¼Œå‘ç°äº†ä¿©ä¸ªæ–¹æ³•ï¼š</p>\n<h3 id=\"vite-lib-æ’ä»¶æ¨¡å¼-fetch-åŠ è½½å¼‚æ­¥ç»„ä»¶\"><a href=\"#vite-lib-æ’ä»¶æ¨¡å¼-fetch-åŠ è½½å¼‚æ­¥ç»„ä»¶\" class=\"headerlink\" title=\"vite-lib æ’ä»¶æ¨¡å¼ + fetch åŠ è½½å¼‚æ­¥ç»„ä»¶\"></a>vite-lib æ’ä»¶æ¨¡å¼ + fetch åŠ è½½å¼‚æ­¥ç»„ä»¶</h3><p>å°±æ˜¯å°†ä½ ç¼–å†™å¥½çš„ç»„ä»¶ï¼Œé€šè¿‡<code>vite-lib</code>çš„å½¢å¼ï¼Œå°†å…¶æ‰“åŒ…æˆå·¥å…·æ’ä»¶ï¼›ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">plugins</span>: [<span class=\"title function_\">vue</span>()],</span><br><span class=\"line\">\t<span class=\"attr\">define</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;process.env.NODE_ENV&quot;</span>: <span class=\"string\">&#x27;&quot;production&quot;&#x27;</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">build</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// css æ‹†åˆ† å‹ç¼©</span></span><br><span class=\"line\">\t\t<span class=\"attr\">cssCodeSplit</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">cssMinify</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">lib</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// ç»„ä»¶çš„å…¥å£</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">A</span>: <span class=\"string\">&quot;./src/components/Test.vue&quot;</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ‰“åŒ…çš„æ ¼å¼</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">formats</span>: [<span class=\"string\">&quot;es&quot;</span>],</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t<span class=\"attr\">rollupOptions</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// è¿™ä¸ªä¸éœ€è¦æœ‰ï¼Œéœ€è¦å°†vueæ‰“åŒ…è¿›å»</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// external: [&quot;vue&quot;],</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">dir</span>: <span class=\"string\">&quot;dist&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">format</span>: <span class=\"string\">&quot;es&quot;</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>æ‰“åŒ…å®Œæˆä¹‹åæ‰§è¡Œ<code>pnpm preview</code>ï¼Œå¯åŠ¨æœåŠ¡ï¼›</p>\n<p>åœ¨ä¸»åº”ç”¨ä¸­ç¼–å†™å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineAsyncComponent &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// url:å°±æ˜¯ä½ éœ€è¦åŠ è½½çš„jsæ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šhttp://localhost:4173/a.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">loadRemoteComponents</span>(<span class=\"params\"><span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, name = <span class=\"string\">&quot;default&quot;</span></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> response = <span class=\"keyword\">await</span> <span class=\"title function_\">fetch</span>(url);</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> code = <span class=\"keyword\">await</span> response.<span class=\"title function_\">text</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> blob = <span class=\"keyword\">new</span> <span class=\"title class_\">Blob</span>([code], &#123; <span class=\"attr\">type</span>: <span class=\"string\">&quot;text/javascript&quot;</span> &#125;);</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> blobUrl = <span class=\"variable constant_\">URL</span>.<span class=\"title function_\">createObjectURL</span>(blob);</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> <span class=\"variable language_\">module</span> = <span class=\"keyword\">await</span> <span class=\"keyword\">import</span>(<span class=\"comment\">/* @vite-ignore */</span> blobUrl);</span><br><span class=\"line\">\t\t<span class=\"variable constant_\">URL</span>.<span class=\"title function_\">revokeObjectURL</span>(blobUrl);</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> _component = <span class=\"variable language_\">module</span>[name];</span><br><span class=\"line\">\t\t<span class=\"comment\">// å°†ç»„ä»¶ï¼Œç»„ä»¶åï¼Œä»¥åŠscopeIdæš´éœ²å‡ºå»</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">component</span>: <span class=\"title function_\">defineAsyncComponent</span>(<span class=\"function\">() =&gt;</span> <span class=\"title class_\">Promise</span>.<span class=\"title function_\">resolve</span>(_component)),</span><br><span class=\"line\">\t\t\t<span class=\"attr\">componentName</span>: _component.<span class=\"property\">name</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">scopeId</span>: _component.<span class=\"property\">__scopeId</span>,</span><br><span class=\"line\">\t\t&#125;;</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(<span class=\"string\">&quot;åŠ è½½è¿œç¨‹ç»„ä»¶å¤±è´¥:&quot;</span>, error);</span><br><span class=\"line\">\t\t<span class=\"keyword\">throw</span> error;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨<code>index.html</code>ä¸­å¼•å…¥<code>css</code>æ ·å¼</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;icon&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;image/svg+xml&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;/vite.svg&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Vite + Vue + TS<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">&lt;!-- åœ¨è¿™é‡Œæ·»åŠ ï¼Œä½ è¿œç¨‹çš„cssåœ°å€ --&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;http://localhost:4173/a.css&quot;</span> /&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;module&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/src/main.ts&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>åˆ›å»ºä¸€ä¸ªç»„ä»¶ <code>Remote_1.vue</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class=\"line\">const &#123; url &#125; = defineProps&lt;&#123;</span><br><span class=\"line\">\turl: string;</span><br><span class=\"line\">&#125;&gt;();</span><br><span class=\"line\">import &#123; loadRemoteComponents &#125; from &quot;./loadRemoteComponents&quot;;</span><br><span class=\"line\">const &#123; component, componentName, scopeId &#125; = await loadRemoteComponents(url);</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;!-- scopeId: å¿…é¡»è¦æœ‰ï¼Œä¸ç„¶ä¼šå¯¼è‡´æ ·å¼ä¸¢å¤± --&gt;</span><br><span class=\"line\">\t&lt;component :is=&quot;component&quot; :key=&quot;componentName&quot; :[scopeId]=&quot;scopeId&quot; /&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style scoped&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨<code>APP.vue</code>ä¸­ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class=\"line\">import Remote_1 from &quot;./Remote_1.vue&quot;;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;div&gt;</span><br><span class=\"line\">\t\t&lt;Suspense&gt;</span><br><span class=\"line\">\t\t\t&lt;Remote_1 /&gt;</span><br><span class=\"line\">\t\t\t&lt;template #fallback&gt;åŠ è½½ä¸­&lt;/template&gt;</span><br><span class=\"line\">\t\t&lt;/Suspense&gt;</span><br><span class=\"line\">\t&lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·åŸºæœ¬ä¸Šå°±å¯ä»¥äº†ï¼Œä½†æ˜¯å®ƒä¹Ÿæ˜¯æœ‰ç¼ºé™·çš„ï¼š</p>\n<p><strong><p style=\"color: #ff0000;\">å¦‚æœè¿œç¨‹ç»„ä»¶æ²¡æœ‰æ¥ä½ä»»ä½•çš„ ui åº“ï¼Œæ’ä»¶åº“ç­‰ç­‰ï¼Œé‚£ä¹ˆå°±å¯ä»¥å‚è€ƒè¿™ä¸ªåšæ³•ï¼Œä½†å¦‚æœä½ çš„ä¸»åº”ç”¨ä½¿ç”¨äº†<code>element-plus</code>,è¿œç¨‹ç»„ä»¶ä¹Ÿä½¿ç”¨äº†<code>element-plus</code>,é‚£ä¹ˆå°±ä¸å¯ä»¥ä½¿ç”¨è¿™ä¸ªåšæ³•äº†ï¼Œå¯ä»¥å‚è€ƒä¸‹ä¸€ä¸ªåšæ³•</p></strong></p>\n<h3 id=\"å€ŸåŠ©æ’ä»¶-originjs-vite-plugin-federation\"><a href=\"#å€ŸåŠ©æ’ä»¶-originjs-vite-plugin-federation\" class=\"headerlink\" title=\"å€ŸåŠ©æ’ä»¶ @originjs&#x2F;vite-plugin-federation\"></a>å€ŸåŠ©æ’ä»¶ @originjs&#x2F;vite-plugin-federation</h3><p>è¿™ä¸ªæ’ä»¶ç›¸å¯¹äºä¸Šä¸€ä¸ªåšæ³•çš„å¥½å¤„å°±æ˜¯ï¼šæ¨¡å—å…±äº«ï¼›å¦‚æœä¸»åº”ç”¨å’Œè¿œç¨‹åº”ç”¨éƒ½ä½¿ç”¨äº†<code>element-plus</code>æœ‰å•ç‹¬çš„é…ç½®æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼›</p>\n<p>é¦–å…ˆä¸»åº”ç”¨å’Œè¿œç¨‹åº”ç”¨éƒ½éœ€è¦å®‰è£… <code>pnpm add -D @originjs/vite-plugin-federation</code>,é…ç½®å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è¿œç¨‹åº”ç”¨çš„vite.config.ts</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineConfig &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vite&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> vue <span class=\"keyword\">from</span> <span class=\"string\">&quot;@vitejs/plugin-vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">AutoImport</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;unplugin-auto-import/vite&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Components</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;unplugin-vue-components/vite&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ElementPlusResolver</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;unplugin-vue-components/resolvers&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> federation <span class=\"keyword\">from</span> <span class=\"string\">&quot;@originjs/vite-plugin-federation&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// https://vite.dev/config/</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">\t\t<span class=\"title function_\">vue</span>(),</span><br><span class=\"line\">\t\t<span class=\"title class_\">AutoImport</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">dts</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">imports</span>: [<span class=\"string\">&quot;vue&quot;</span>, <span class=\"string\">&quot;vue-router&quot;</span>],</span><br><span class=\"line\">\t\t\t<span class=\"attr\">resolvers</span>: [<span class=\"title class_\">ElementPlusResolver</span>()],</span><br><span class=\"line\">\t\t&#125;),</span><br><span class=\"line\">\t\t<span class=\"title class_\">Components</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">dts</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">resolvers</span>: [<span class=\"title class_\">ElementPlusResolver</span>()],</span><br><span class=\"line\">\t\t&#125;),</span><br><span class=\"line\">\t\t<span class=\"title function_\">federation</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;remote&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ‰“åŒ…çš„åº”ç”¨æ–‡ä»¶ï¼Œä¹Ÿæ˜¯å…¥å£æ–‡ä»¶</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">filename</span>: <span class=\"string\">&quot;remoteEntry.js&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¯¼å‡ºçš„è·¯å¾„</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">exposes</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// è‡ªå·±å†™ä¸€ä¸ªç®€å•çš„æŒ‰é’®ç»„ä»¶</span></span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;./re-button&quot;</span>: <span class=\"string\">&quot;./src/components/ReButton.vue&quot;</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å…±äº«çš„æ¨¡å—</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">shared</span>: [<span class=\"string\">&quot;vue&quot;</span>, <span class=\"string\">&quot;element-plus&quot;</span>],</span><br><span class=\"line\">\t\t&#125;),</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"attr\">build</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">target</span>: <span class=\"string\">&quot;esnext&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">minify</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>è¿œç¨‹åº”ç”¨é…ç½®å®Œæˆä¹‹åï¼Œæ‰“åŒ…å®Œæˆä¹‹åæ‰§è¡Œ<code>pnpm preview</code>,ä¸»åº”ç”¨ä¼šç”¨åˆ°è¿™ä¸ªé“¾æ¥</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä¸»åº”ç”¨çš„vite.config.ts</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineConfig &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vite&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> vue <span class=\"keyword\">from</span> <span class=\"string\">&quot;@vitejs/plugin-vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">AutoImport</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;unplugin-auto-import/vite&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Components</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;unplugin-vue-components/vite&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ElementPlusResolver</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;unplugin-vue-components/resolvers&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> federation <span class=\"keyword\">from</span> <span class=\"string\">&quot;@originjs/vite-plugin-federation&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// https://vite.dev/config/</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">\t\t<span class=\"title function_\">vue</span>(),</span><br><span class=\"line\">\t\t<span class=\"title class_\">AutoImport</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">dts</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">imports</span>: [<span class=\"string\">&quot;vue&quot;</span>, <span class=\"string\">&quot;vue-router&quot;</span>],</span><br><span class=\"line\">\t\t\t<span class=\"attr\">resolvers</span>: [<span class=\"title class_\">ElementPlusResolver</span>()],</span><br><span class=\"line\">\t\t&#125;),</span><br><span class=\"line\">\t\t<span class=\"title class_\">Components</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">dts</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">resolvers</span>: [<span class=\"title class_\">ElementPlusResolver</span>()],</span><br><span class=\"line\">\t\t&#125;),</span><br><span class=\"line\">\t\t<span class=\"title function_\">federation</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;host&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">remotes</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// è¿™ä¸ªåœ°å€å°±æ˜¯ ä½ è¿œç¨‹åº”ç”¨çš„å…¥å£æ–‡ä»¶åœ°å€</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">remote</span>: <span class=\"string\">&quot;http://localhost:4173/assets/remoteEntry.js&quot;</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">shared</span>: [<span class=\"string\">&quot;vue&quot;</span>, <span class=\"string\">&quot;element-plus&quot;</span>],</span><br><span class=\"line\">\t\t&#125;),</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"attr\">build</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">target</span>: <span class=\"string\">&quot;esnext&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">minify</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨<code>App.vue</code>ä¸­ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class=\"line\">import &#123; defineAsyncComponent &#125; from &quot;vue&quot;;</span><br><span class=\"line\">// @ts-ignore</span><br><span class=\"line\">const ReButton = defineAsyncComponent(() =&gt; import(&quot;remote/re-button&quot;));</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;div&gt;</span><br><span class=\"line\">\t\t&lt;h1&gt;åŠ è½½è¿œç¨‹ç»„ä»¶&lt;/h1&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&lt;ReButton title=&quot;è¿œç¨‹æŒ‰é’®&quot; /&gt;</span><br><span class=\"line\">\t&lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style scoped&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨ä¸»åº”ç”¨æ‰“åŒ…ä¹‹åä¸Šä¼ <code>nginxæˆ–è€…æœåŠ¡å™¨</code>ä¸Šå¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼›<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2a565op8kn.webp\"></p>\n<h2 id=\"rsbuild-çš„é…ç½®\"><a href=\"#rsbuild-çš„é…ç½®\" class=\"headerlink\" title=\"rsbuild çš„é…ç½®\"></a>rsbuild çš„é…ç½®</h2><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è¿œç¨‹åº”ç”¨</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineConfig &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@rsbuild/core&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; pluginVue &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@rsbuild/plugin-vue&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">plugins</span>: [<span class=\"title function_\">pluginVue</span>()],</span><br><span class=\"line\">\t<span class=\"attr\">source</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">index</span>: <span class=\"string\">&quot;./src/main.ts&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">moduleFederation</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;remote&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">filename</span>: <span class=\"string\">&quot;remoteEntry.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">exposes</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;./Button&quot;</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">import</span>: <span class=\"string\">&quot;./src/components/Button.vue&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;Button&quot;</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t<span class=\"attr\">shared</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">vue</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">singleton</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">requiredVersion</span>: <span class=\"string\">&quot;^3.3.0&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">eager</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">server</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">port</span>: <span class=\"number\">3001</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">cors</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">html</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">template</span>: <span class=\"string\">&quot;./index.html&quot;</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä¸»åº”ç”¨</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineConfig &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@rsbuild/core&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; pluginVue &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@rsbuild/plugin-vue&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">plugins</span>: [<span class=\"title function_\">pluginVue</span>()],</span><br><span class=\"line\">\t<span class=\"attr\">source</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">index</span>: <span class=\"string\">&quot;./src/main.ts&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">moduleFederation</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;host&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">remotes</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">remote</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">external</span>: <span class=\"string\">&quot;remote@http://localhost:3001/remoteEntry.js&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">format</span>: <span class=\"string\">&quot;esm&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">from</span>: <span class=\"string\">&quot;vite&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;module&quot;</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t<span class=\"attr\">shared</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">vue</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">singleton</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">requiredVersion</span>: <span class=\"string\">&quot;^3.3.0&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">eager</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">html</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">template</span>: <span class=\"string\">&quot;./index.html&quot;</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> remoteComponent = <span class=\"title function_\">defineAsyncComponent</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">loader</span>: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;remote/Button&quot;</span>) <span class=\"keyword\">as</span> <span class=\"title class_\">Promise</span>&lt;<span class=\"keyword\">typeof</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;*.vue&quot;</span>)&gt;,</span><br><span class=\"line\">\t<span class=\"title function_\">onError</span>(<span class=\"params\">error</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(<span class=\"string\">&quot;è¿œç¨‹ç»„ä»¶åŠ è½½å¤±è´¥:&quot;</span>, error);</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><del><strong><p style=\"color: #ff0000;\">åªæµ‹è¯•äº†æ²¡æœ‰å¼•å…¥ä»»ä½•æ’ä»¶ï¼Œui çš„æƒ…å†µï¼Œå…¶ä»–æƒ…å†µæš‚æ—¶å…ˆä¸è€ƒè™‘</p></strong></del></p>\n<p>ä¹‹å‰æ²¡æœ‰æµ‹è¯•åˆ°<code>ui</code>ç»„ä»¶ï¼Œè¿‘æœŸåœ¨æˆ‘çš„é¡¹ç›®ä¸­ä¸Šçº¿äº†æµ‹è¯•æ¡ˆä¾‹ï¼Œå…¶ä½¿ç”¨äº†<code>element-plus</code>ç»„ä»¶ï¼Œæ‰“å¼€ä¹‹åå…¶æ˜¾ç¤ºçš„æ˜¯æ­£å¸¸æ ·å¼ï¼Œå¹¶ä¸”ç‚¹å‡»æ˜¯ç”Ÿæ•ˆçš„ï¼Œå…·ä½“æ¶‰åŠçš„ä»£ç å¦‚ä¸‹ï¼š<a href=\"https://github.com/wangxiaoze-view/sim-admin/blob/main/rsbuild.config.ts#L164C3-L183C5\">github</a></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">moduleFederation</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">name</span>: <span class=\"string\">&#x27;sim_admin&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">remotes</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">remote</span>: process.<span class=\"property\">env</span>.<span class=\"property\">APP_REMOTE</span> <span class=\"keyword\">as</span> <span class=\"built_in\">string</span>,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">shared</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">vue</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">singleton</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">          <span class=\"attr\">requiredVersion</span>: <span class=\"string\">&#x27;3&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">eager</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"string\">&#x27;element-plus&#x27;</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">singleton</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">          <span class=\"attr\">requiredVersion</span>: <span class=\"string\">&#x27;2&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">eager</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n"},{"title":"æŠ€æœ¯è°ƒç ”-æµ…è°ˆè·¨ç«¯æŠ€æœ¯çš„å±€é™æ€§","abbrlink":"a0a2e9c9","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\nä½œä¸ºå‰ç«¯ç¨‹åºå‘˜ï¼Œ å¦‚æœç»™ä½ ä¸€ä¸ª APP è®©ä½ å»åšï¼Œ ä½ ä¼šæ€ä¹ˆåšå‘¢ï¼Ÿ\nå¦‚ä¸é™äºæŠ€æœ¯å±‚æ¬¡ï¼Œä¼˜å…ˆæƒ³åˆ°çš„å°±æ˜¯ Android åŸç”Ÿç³»ç»Ÿï¼Œ ä½†æ˜¯é¢å¯¹ Android å‰ç«¯ç¨‹åºå‘˜æ— æ³•ä¸Šæ‰‹ä»¥åŠå»å­¦ä¹ ï¼Œå•çº¯çš„æƒ³è¦ä» Web å±‚æ¬¡å»æƒ³æŠ€æœ¯æ–¹æ¡ˆï¼›\næ— éå°±æ˜¯å¸‚åœºä¸Šçš„å‡ ç§æ–¹æ¡ˆï¼Œh5, uni-app, React-Nativ, Flutter; å•åšè¿‡ H5 ç§»åŠ¨ç«¯æ··åˆå¼€å‘çš„éƒ½æ¸…æ¥šï¼Œ H5 çš„é¡µé¢æˆ–è€…çº¯ H5 å¼€å‘ APPï¼Œä¹Ÿæ˜¯å¯ä»¥å¼€å‘çš„ï¼Œ ä½†æ˜¯æœ€åä½¿ç”¨äººæ•°å¹¶ä¸ç†æƒ³ï¼Œ è¾¾ä¸åˆ°ä¸€ä¸ªåŸç”Ÿæµç•…çš„æ•ˆæœï¼›\nè€Œ React-Native å¯¹å‰ç«¯æ¥è¯´ä¹Ÿè®¸æ˜¯ä¸€ä¸ªä¼˜é€‰çš„æ–¹æ¡ˆï¼Œä½¿ç”¨æ•ˆæœä»¥åŠæ¡†æ¶åŸºæœ¬ä¸Šéƒ½æ˜¯å‰ç«¯æŠ€æœ¯ï¼Œç†Ÿæ‚‰ react å¹¶ä¸”ä¸Šæ‰‹æ˜¯å¾ˆå¿«çš„ï¼› ä½†å¦‚æœåŠŸèƒ½è¾ƒä¸ºå¤æ‚ï¼Œ React-Native ä¹Ÿä¼šæœ‰ä¸€å®šçš„å½±å“ï¼›ä½†æ•ˆæœæ˜æ˜¾æ¯” H5 æµç¨‹çš„å¾ˆå¤šï¼›\n\nå¯¹äº Flutter æ¥è®²å‘¢ï¼ŒæŠ€æœ¯å±‚é¢åœ¨å›½å†…å¹¶ä¸çƒ­é—¨ï¼Œä¹Ÿæœ‰ä¸å°‘å¤§å‚ä¹Ÿä¼šé€‰æ‹© Flutter ä½œä¸ºå¼€å‘ App çš„é¦–é€‰ï¼› ä½†æ˜¯å­¦ä¹ æˆæœ¬æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œå¯¹å‰ç«¯ç¨‹åºå‘˜æ¥è®²ï¼Œå¯èƒ½ä¼šæœ‰ç‚¹é™Œç”Ÿç”šè‡³ä¸ç†Ÿæ‚‰ï¼›ä½œä¸º dart è¯­æ³•çš„ flutter åœ¨æ€§èƒ½ä»¥åŠå„ä¸ªæ–¹é¢è¦æ¯”å‰é¢çš„æ¡†æ¶è¦æœ‰ä¼˜è¶Šæ€§ï¼›\n\n## æ··åˆå¼€å‘çš„ WebView\n\næ··åˆå¼€å‘ APP å½“ç„¶ç¦»ä¸å¼€ WebView, ä½¿ç”¨ WebView å¼€å‘çš„æˆäº¤è¾ƒä½ï¼Œå¼€å‘æ•ˆç‡ä¹Ÿä¼šæå‡ä¸€ä¸ªç­‰çº§ï¼Œ ä¹Ÿå°±æ˜¯å‰ç«¯äººå‘˜ä¸é™Œç”Ÿçš„ï¼›\n\nå¯¹äºè·¨ç«¯æ¥è®²ï¼Œä¹Ÿè®¸ä¼šç”¨ WebView çš„æ–¹å¼ï¼Œ åŒæ—¶ä¹Ÿæ˜¯æ»¡è¶³è·¨ç«¯çš„æ¡ä»¶çš„ï¼›\n\nä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨ WebView?\n\nç§»åŠ¨è®¾å¤‡ APP éƒ½æ˜¯å…ˆä¸‹è½½åä½¿ç”¨ï¼Œ å½“ä½ ä¸‹è½½å®Œæˆä¹‹åï¼Œ ä½ é¡µé¢èµ„æºä»¥å·±ç»ç¼“å­˜äº†ï¼›è€Œ webview åŠ è½½çš„æ˜¯ web é¡µé¢ï¼Œ ä¹Ÿå°±ä¼šæœ‰ web çš„ç‰¹æ€§ï¼Œ æ‰“å¼€ webview ä¹‹åï¼Œå†å»åŠ è½½ web èµ„æº ä¼šåœ¨æ€§èƒ½ä¸Šæœ‰äº›å½±å“ï¼›\n\n## uni-app/react-native\n\nè¿™æ˜¯å¤§å¤šæ•°äººçš„é€‰æ‹©ï¼Œæ¯•ç«Ÿåˆšå¼€å§‹æˆ‘çš„æƒ³æ³• uni-app ä¹Ÿæ˜¯é¦–é€‰ï¼Œ ä½†æ˜¯åœ¨äº†è§£ä¹‹åï¼Œåœ¨ List-view æ–¹é¢å¯èƒ½ä¼šæœ‰æ€§èƒ½é—®é¢˜ï¼Œæ¯•ç«Ÿ uni-app æ˜¯ä»¥ html, js çš„æ–¹å¼ä½œä¸ºæ¸²æŸ“çš„ï¼› è‡ªç„¶ä¼šæœ‰æ€§èƒ½é—®é¢˜ï¼›\n\nåƒç¤¾åŒºæ´»åŠ¨æˆéƒ½è¿˜æ˜¯å¾ˆé«˜çš„ï¼Œ æ¯•ç«Ÿæ˜¯å‰ç«¯æŠ€æœ¯ï¼Œ ä¸Šæ‰‹å¹¶ä¸éš¾ï¼Œä½†å¦‚æœæƒ³åº”ç”¨åˆ°è®¾å¤‡ä¸­å¯èƒ½è¿˜æ˜¯æœ‰ç‚¹ç¼ºé™·ï¼›ä½†æ€»ä½“è¿˜æ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œ å¦‚æœæ²¡æœ‰å…¶ä»–æŠ€æœ¯æ–¹æ¡ˆæ›¿ä»£çš„è¯ï¼Œ å¯ä»¥è€ƒè™‘ä½¿ç”¨ uni-appï¼›\n\nreact-native çš„æ€§èƒ½å¼¥è¡¥äº† uni-app å­˜åœ¨çš„ç¼ºé™·ï¼›\n\nä»æœ¬è´¨ä¸Šæ¥è®²ï¼Œä»¥ RN ä¸ºä¾‹ï¼Œè·Ÿ webview ä¸åŒçš„åœ°æ–¹å°±åœ¨äºï¼Œwebview æ˜¯ä½¿ç”¨ html çš„ dom æè¿°ï¼Œç”±æµè§ˆå™¨è¿›è¡Œç›¸åº”çš„æ¸²æŸ“ï¼Œå› ä¸ºæ˜¯å•çº¿ç¨‹çš„åŸå› ï¼Œåœ¨æ¸²æŸ“çš„åŒæ—¶ä¼šé˜»æ–­ js çš„æ‰§è¡Œï¼Œè€Œ RN åˆ™ä¸åŒï¼Œå®ƒçš„æ–¹æ¡ˆæ˜¯å°† html è½¬æ¢ä¸º js å¯ä»¥è¯†åˆ«çš„ ast ä»£ç ï¼Œå†ç”± native åŸºäº ast ä»£ç è¿›è¡Œç»˜åˆ¶ï¼Œç”±äº native æ˜¯å¯ä»¥è¿›è¡Œå¤šçº¿ç¨‹å¹¶è¡Œçš„ï¼Œæ‰€ä»¥åœ¨æ¸²æŸ“è·Ÿæ‰§è¡Œçš„è¿‡ç¨‹ä¸­å¹¶ä¸ä¼šè¢«é˜»æ–­ï¼Œè¿™ä¹Ÿå°±å˜ç›¸çš„è§£å†³äº†ä¸€äº›ä½¿ç”¨ webview è¿›è¡Œè·¨ç«¯çš„éš¾é¢˜\n\nä½†æ˜¯è¿™ä¹Ÿç›¸åº”æœ‰ä¸å°‘çš„ç¼ºé™·\n\n1. ç”±äº js è·Ÿ native ä¸æ˜¯åœ¨åŒä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œé‚£ä¹ˆç›¸åº”çš„ä»–ä»¬çš„é€šä¿¡ä¼šå¸¦æ¥ä¸å°‘çš„æŸè€—\n2. iOS/Android ä»–ä»¬çš„é¡µé¢ç»˜åˆ¶æ–¹å¼ä¸åŒï¼Œä»£è¡¨ç€è¦æ·»åŠ ä¸åŒçš„ç»„ä»¶æ¥é€‚åº”\n3. ä¾èµ–äº nativeï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºä»–çš„ css è½¬ä¹‰ä¼šå˜å¾—æ›´åŠ å›°éš¾ï¼Œå¾ˆå¤š css ä¹Ÿä¸ä¸€å®šèƒ½å¤Ÿå®Œæ•´çš„å®ç°\n\nå½“ç„¶ï¼Œæœ€å¤§çš„é—®é¢˜ä¾æ—§åœ¨äºç»´æŠ¤ä¸Š\n\nä¸ä¾èµ–äº webview ä»£è¡¨ç€ä½ çš„é¡µé¢æ˜¯ä¸å®Œå…¨åŠ¨æ€åŒ–çš„ï¼Œè‡³å°‘ä½ çš„ç»„ä»¶æ˜¯å›ºå®šçš„ï¼Œä¹Ÿå°±æ˜¯åœ¨ç›¸åŒçš„é¡µé¢ä½¿ç”¨æƒ…å†µä¸‹ï¼Œå¦‚æœæƒ³å¯¹ç»„ä»¶è¿›è¡Œä¿®æ”¹ï¼Œé‚£ä¹ˆè¿˜æ˜¯éœ€è¦ä¾èµ–äº native æä¾›æ–°çš„ç»„ä»¶èƒ½åŠ›ï¼Œè¿™æ ·çš„è¯å‘ç‰ˆä¾æ—§ä¼šæˆä¸ºä¸€ä¸ªå›°æ‰°çš„é—®é¢˜ï¼Œè€Œä¸”ç»´æŠ¤çš„æˆæœ¬åˆè¿›ä¸€æ­¥çš„ä¸Šå‡çš„\n\n## Flutter\n\nflutter æ˜¯æˆ‘æœ€è¿‘åœ¨æ¥è§¦å’Œå­¦ä¹ çš„æŠ€æœ¯ä¹‹ä¸€ï¼›\n\nå› ä¸ºæ¥è§¦æ—¶é—´è¾ƒçŸ­ï¼Œç†è§£çš„å¹¶ä¸æ˜¯å¾ˆæ·±å…¥ï¼›\n\nå¯ä»¥è¯´ RN ç±»å‹çš„æ¡†æ¶ä»–è¿˜æ˜¯æ‹¥æŠ±äº†éƒ¨åˆ† web çš„ç”Ÿæ€ï¼Œå´åˆä¸æ˜¯å®Œå…¨çš„æ‹¥æŠ±ï¼Œä½†æ˜¯ flutter è¿™ä¸ªæ¡†æ¶ä»å‡ºç”Ÿå°±æ˜¯ä¸æ‰“ç®—ç»§ç»­å€Ÿç€ web æ¥å‘å±•\n\nå®ƒæœ¬èº«æ˜¯ä½¿ç”¨ skia ç»˜åˆ¶åˆ°å±å¹•ä¸Šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡è‡ªå»ºç»˜åˆ¶èƒ½åŠ›ï¼Œæ¥ä¿è¯å¤šç«¯çš„ç»Ÿä¸€æ€§ï¼Œè¿™æ ·åšçš„å¥½å¤„åœ¨äºèƒ½å¤Ÿå®Œå…¨çš„å‡å°‘åŒç«¯å·®å¼‚çš„äººåŠ›æŠ•å…¥ï¼Œä¹Ÿä¸éœ€è¦ä½¿ç”¨ native è·Ÿ js è¿›è¡Œ bridge çš„äº¤äº’ä»è€Œå¾—åˆ°å¯¹åº”çš„é¡µé¢ï¼Œè®²åˆ°æ¯”è¾ƒç†Ÿæ‚‰çš„ä¸€ä¸ªå¤è€æ–¹æ¡ˆå°±æ˜¯ QT\n\næ–¹æ¡ˆçš„æ€æƒ³è·Ÿå®ç°éƒ½æ˜¯æ¯”è¾ƒé€‚åˆè·¨ç«¯èƒ½åŠ›çš„ä½“ç°ï¼Œä½†æ˜¯é—®é¢˜åœ¨äºä»–ä¸ä¾èµ–äºå‰ç«¯ç”Ÿæ€ï¼Œé‚£ä¹ˆå‰ç«¯äººå‘˜å…¥æ‰‹çš„æ—¶å€™ä¼šå¸¦æ¥ä¸€å®šçš„å›°æ‰°ï¼Œæ‰€ä»¥ç›®å‰å¸‚é¢ä¸Šå¤šå‡ºäº†å¾ˆå¤šåŸºäº flutter è®¾è®¡çš„å‰ç«¯å®ç°æ–¹æ¡ˆï¼Œç±»ä¼¼äº krakenã€liteApp ç­‰ç­‰\n\nä¸å¯å¦è®¤çš„æ˜¯è¿™ç§æ–¹æ¡ˆçš„æ€æƒ³æ˜¯èƒ½æœ€æ ¹æœ¬è§£å†³è·¨ç«¯å¸¦æ¥çš„å›°æ‰°ï¼Œä½†æ˜¯ä»–çš„åŠ¨æ€åŒ–èƒ½åŠ›åå¼±ï¼Œåœ¨éƒ¨åˆ†é¢†åŸŸä¾æ—§ä¸æ˜¯é‚£ä¹ˆé€‚ç”¨\n\nè¿™ç¯‡æ–‡ç« å¯ä»¥æ›´åŠ æ¸…æ™°çš„ç†è§£ Flutter: æ¯ä¸ª Flutter [å¼€å‘è€…éƒ½åº”è¯¥çŸ¥é“çš„æ¡†æ¶æ€»è§ˆ](https://juejin.cn/post/7054817076073988127)\n\nå¯¹æˆ‘è€Œè¨€ï¼Œ é€‰æ‹© Flutter çš„åŸå› æ— éå°±æ˜¯è¿™ä¸ªå‡ ç‚¹:\n\n1. è°·æ­Œçš„ app æ¡†æ¶ï¼Œ æ€§èƒ½ï¼Œæµç•…é—®é¢˜\n2. æ–°æŠ€æœ¯ï¼Œé™¤äº†å‰ç«¯è·¨ç«¯æ–¹æ¡ˆä¹‹å¤–çš„ä¸€ç§ç‰¹æ®Šçš„æ–¹æ¡ˆï¼›\n3. Flutter çš„å‰æ™¯ä»¥åŠ Flutter é¢å‘å¯¹è±¡çš„å¼€å‘æ–¹å¼ï¼›\n4. é—´æ¥çš„äº†è§£ Java, TypeScript çš„è¯­æ³•ï¼›\n5. å¥½å¥‡å¿ƒï¼Œæƒ³æ·±å…¥äº†è§£è¿™æ˜¯ä»€ä¹ˆï¼ŒæŠ€æœ¯æ–°å¥‡\n","source":"_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/æµ…è°ˆè·¨ç«¯æŠ€æœ¯çš„å±€é™æ€§.md","raw":"---\ntitle: æŠ€æœ¯è°ƒç ”-æµ…è°ˆè·¨ç«¯æŠ€æœ¯çš„å±€é™æ€§\nabbrlink: a0a2e9c9\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - æŠ€æœ¯è°ƒç ”\n---\n\n# èƒŒæ™¯\n\nä½œä¸ºå‰ç«¯ç¨‹åºå‘˜ï¼Œ å¦‚æœç»™ä½ ä¸€ä¸ª APP è®©ä½ å»åšï¼Œ ä½ ä¼šæ€ä¹ˆåšå‘¢ï¼Ÿ\nå¦‚ä¸é™äºæŠ€æœ¯å±‚æ¬¡ï¼Œä¼˜å…ˆæƒ³åˆ°çš„å°±æ˜¯ Android åŸç”Ÿç³»ç»Ÿï¼Œ ä½†æ˜¯é¢å¯¹ Android å‰ç«¯ç¨‹åºå‘˜æ— æ³•ä¸Šæ‰‹ä»¥åŠå»å­¦ä¹ ï¼Œå•çº¯çš„æƒ³è¦ä» Web å±‚æ¬¡å»æƒ³æŠ€æœ¯æ–¹æ¡ˆï¼›\næ— éå°±æ˜¯å¸‚åœºä¸Šçš„å‡ ç§æ–¹æ¡ˆï¼Œh5, uni-app, React-Nativ, Flutter; å•åšè¿‡ H5 ç§»åŠ¨ç«¯æ··åˆå¼€å‘çš„éƒ½æ¸…æ¥šï¼Œ H5 çš„é¡µé¢æˆ–è€…çº¯ H5 å¼€å‘ APPï¼Œä¹Ÿæ˜¯å¯ä»¥å¼€å‘çš„ï¼Œ ä½†æ˜¯æœ€åä½¿ç”¨äººæ•°å¹¶ä¸ç†æƒ³ï¼Œ è¾¾ä¸åˆ°ä¸€ä¸ªåŸç”Ÿæµç•…çš„æ•ˆæœï¼›\nè€Œ React-Native å¯¹å‰ç«¯æ¥è¯´ä¹Ÿè®¸æ˜¯ä¸€ä¸ªä¼˜é€‰çš„æ–¹æ¡ˆï¼Œä½¿ç”¨æ•ˆæœä»¥åŠæ¡†æ¶åŸºæœ¬ä¸Šéƒ½æ˜¯å‰ç«¯æŠ€æœ¯ï¼Œç†Ÿæ‚‰ react å¹¶ä¸”ä¸Šæ‰‹æ˜¯å¾ˆå¿«çš„ï¼› ä½†å¦‚æœåŠŸèƒ½è¾ƒä¸ºå¤æ‚ï¼Œ React-Native ä¹Ÿä¼šæœ‰ä¸€å®šçš„å½±å“ï¼›ä½†æ•ˆæœæ˜æ˜¾æ¯” H5 æµç¨‹çš„å¾ˆå¤šï¼›\n\nå¯¹äº Flutter æ¥è®²å‘¢ï¼ŒæŠ€æœ¯å±‚é¢åœ¨å›½å†…å¹¶ä¸çƒ­é—¨ï¼Œä¹Ÿæœ‰ä¸å°‘å¤§å‚ä¹Ÿä¼šé€‰æ‹© Flutter ä½œä¸ºå¼€å‘ App çš„é¦–é€‰ï¼› ä½†æ˜¯å­¦ä¹ æˆæœ¬æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œå¯¹å‰ç«¯ç¨‹åºå‘˜æ¥è®²ï¼Œå¯èƒ½ä¼šæœ‰ç‚¹é™Œç”Ÿç”šè‡³ä¸ç†Ÿæ‚‰ï¼›ä½œä¸º dart è¯­æ³•çš„ flutter åœ¨æ€§èƒ½ä»¥åŠå„ä¸ªæ–¹é¢è¦æ¯”å‰é¢çš„æ¡†æ¶è¦æœ‰ä¼˜è¶Šæ€§ï¼›\n\n## æ··åˆå¼€å‘çš„ WebView\n\næ··åˆå¼€å‘ APP å½“ç„¶ç¦»ä¸å¼€ WebView, ä½¿ç”¨ WebView å¼€å‘çš„æˆäº¤è¾ƒä½ï¼Œå¼€å‘æ•ˆç‡ä¹Ÿä¼šæå‡ä¸€ä¸ªç­‰çº§ï¼Œ ä¹Ÿå°±æ˜¯å‰ç«¯äººå‘˜ä¸é™Œç”Ÿçš„ï¼›\n\nå¯¹äºè·¨ç«¯æ¥è®²ï¼Œä¹Ÿè®¸ä¼šç”¨ WebView çš„æ–¹å¼ï¼Œ åŒæ—¶ä¹Ÿæ˜¯æ»¡è¶³è·¨ç«¯çš„æ¡ä»¶çš„ï¼›\n\nä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨ WebView?\n\nç§»åŠ¨è®¾å¤‡ APP éƒ½æ˜¯å…ˆä¸‹è½½åä½¿ç”¨ï¼Œ å½“ä½ ä¸‹è½½å®Œæˆä¹‹åï¼Œ ä½ é¡µé¢èµ„æºä»¥å·±ç»ç¼“å­˜äº†ï¼›è€Œ webview åŠ è½½çš„æ˜¯ web é¡µé¢ï¼Œ ä¹Ÿå°±ä¼šæœ‰ web çš„ç‰¹æ€§ï¼Œ æ‰“å¼€ webview ä¹‹åï¼Œå†å»åŠ è½½ web èµ„æº ä¼šåœ¨æ€§èƒ½ä¸Šæœ‰äº›å½±å“ï¼›\n\n## uni-app/react-native\n\nè¿™æ˜¯å¤§å¤šæ•°äººçš„é€‰æ‹©ï¼Œæ¯•ç«Ÿåˆšå¼€å§‹æˆ‘çš„æƒ³æ³• uni-app ä¹Ÿæ˜¯é¦–é€‰ï¼Œ ä½†æ˜¯åœ¨äº†è§£ä¹‹åï¼Œåœ¨ List-view æ–¹é¢å¯èƒ½ä¼šæœ‰æ€§èƒ½é—®é¢˜ï¼Œæ¯•ç«Ÿ uni-app æ˜¯ä»¥ html, js çš„æ–¹å¼ä½œä¸ºæ¸²æŸ“çš„ï¼› è‡ªç„¶ä¼šæœ‰æ€§èƒ½é—®é¢˜ï¼›\n\nåƒç¤¾åŒºæ´»åŠ¨æˆéƒ½è¿˜æ˜¯å¾ˆé«˜çš„ï¼Œ æ¯•ç«Ÿæ˜¯å‰ç«¯æŠ€æœ¯ï¼Œ ä¸Šæ‰‹å¹¶ä¸éš¾ï¼Œä½†å¦‚æœæƒ³åº”ç”¨åˆ°è®¾å¤‡ä¸­å¯èƒ½è¿˜æ˜¯æœ‰ç‚¹ç¼ºé™·ï¼›ä½†æ€»ä½“è¿˜æ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œ å¦‚æœæ²¡æœ‰å…¶ä»–æŠ€æœ¯æ–¹æ¡ˆæ›¿ä»£çš„è¯ï¼Œ å¯ä»¥è€ƒè™‘ä½¿ç”¨ uni-appï¼›\n\nreact-native çš„æ€§èƒ½å¼¥è¡¥äº† uni-app å­˜åœ¨çš„ç¼ºé™·ï¼›\n\nä»æœ¬è´¨ä¸Šæ¥è®²ï¼Œä»¥ RN ä¸ºä¾‹ï¼Œè·Ÿ webview ä¸åŒçš„åœ°æ–¹å°±åœ¨äºï¼Œwebview æ˜¯ä½¿ç”¨ html çš„ dom æè¿°ï¼Œç”±æµè§ˆå™¨è¿›è¡Œç›¸åº”çš„æ¸²æŸ“ï¼Œå› ä¸ºæ˜¯å•çº¿ç¨‹çš„åŸå› ï¼Œåœ¨æ¸²æŸ“çš„åŒæ—¶ä¼šé˜»æ–­ js çš„æ‰§è¡Œï¼Œè€Œ RN åˆ™ä¸åŒï¼Œå®ƒçš„æ–¹æ¡ˆæ˜¯å°† html è½¬æ¢ä¸º js å¯ä»¥è¯†åˆ«çš„ ast ä»£ç ï¼Œå†ç”± native åŸºäº ast ä»£ç è¿›è¡Œç»˜åˆ¶ï¼Œç”±äº native æ˜¯å¯ä»¥è¿›è¡Œå¤šçº¿ç¨‹å¹¶è¡Œçš„ï¼Œæ‰€ä»¥åœ¨æ¸²æŸ“è·Ÿæ‰§è¡Œçš„è¿‡ç¨‹ä¸­å¹¶ä¸ä¼šè¢«é˜»æ–­ï¼Œè¿™ä¹Ÿå°±å˜ç›¸çš„è§£å†³äº†ä¸€äº›ä½¿ç”¨ webview è¿›è¡Œè·¨ç«¯çš„éš¾é¢˜\n\nä½†æ˜¯è¿™ä¹Ÿç›¸åº”æœ‰ä¸å°‘çš„ç¼ºé™·\n\n1. ç”±äº js è·Ÿ native ä¸æ˜¯åœ¨åŒä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œé‚£ä¹ˆç›¸åº”çš„ä»–ä»¬çš„é€šä¿¡ä¼šå¸¦æ¥ä¸å°‘çš„æŸè€—\n2. iOS/Android ä»–ä»¬çš„é¡µé¢ç»˜åˆ¶æ–¹å¼ä¸åŒï¼Œä»£è¡¨ç€è¦æ·»åŠ ä¸åŒçš„ç»„ä»¶æ¥é€‚åº”\n3. ä¾èµ–äº nativeï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºä»–çš„ css è½¬ä¹‰ä¼šå˜å¾—æ›´åŠ å›°éš¾ï¼Œå¾ˆå¤š css ä¹Ÿä¸ä¸€å®šèƒ½å¤Ÿå®Œæ•´çš„å®ç°\n\nå½“ç„¶ï¼Œæœ€å¤§çš„é—®é¢˜ä¾æ—§åœ¨äºç»´æŠ¤ä¸Š\n\nä¸ä¾èµ–äº webview ä»£è¡¨ç€ä½ çš„é¡µé¢æ˜¯ä¸å®Œå…¨åŠ¨æ€åŒ–çš„ï¼Œè‡³å°‘ä½ çš„ç»„ä»¶æ˜¯å›ºå®šçš„ï¼Œä¹Ÿå°±æ˜¯åœ¨ç›¸åŒçš„é¡µé¢ä½¿ç”¨æƒ…å†µä¸‹ï¼Œå¦‚æœæƒ³å¯¹ç»„ä»¶è¿›è¡Œä¿®æ”¹ï¼Œé‚£ä¹ˆè¿˜æ˜¯éœ€è¦ä¾èµ–äº native æä¾›æ–°çš„ç»„ä»¶èƒ½åŠ›ï¼Œè¿™æ ·çš„è¯å‘ç‰ˆä¾æ—§ä¼šæˆä¸ºä¸€ä¸ªå›°æ‰°çš„é—®é¢˜ï¼Œè€Œä¸”ç»´æŠ¤çš„æˆæœ¬åˆè¿›ä¸€æ­¥çš„ä¸Šå‡çš„\n\n## Flutter\n\nflutter æ˜¯æˆ‘æœ€è¿‘åœ¨æ¥è§¦å’Œå­¦ä¹ çš„æŠ€æœ¯ä¹‹ä¸€ï¼›\n\nå› ä¸ºæ¥è§¦æ—¶é—´è¾ƒçŸ­ï¼Œç†è§£çš„å¹¶ä¸æ˜¯å¾ˆæ·±å…¥ï¼›\n\nå¯ä»¥è¯´ RN ç±»å‹çš„æ¡†æ¶ä»–è¿˜æ˜¯æ‹¥æŠ±äº†éƒ¨åˆ† web çš„ç”Ÿæ€ï¼Œå´åˆä¸æ˜¯å®Œå…¨çš„æ‹¥æŠ±ï¼Œä½†æ˜¯ flutter è¿™ä¸ªæ¡†æ¶ä»å‡ºç”Ÿå°±æ˜¯ä¸æ‰“ç®—ç»§ç»­å€Ÿç€ web æ¥å‘å±•\n\nå®ƒæœ¬èº«æ˜¯ä½¿ç”¨ skia ç»˜åˆ¶åˆ°å±å¹•ä¸Šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡è‡ªå»ºç»˜åˆ¶èƒ½åŠ›ï¼Œæ¥ä¿è¯å¤šç«¯çš„ç»Ÿä¸€æ€§ï¼Œè¿™æ ·åšçš„å¥½å¤„åœ¨äºèƒ½å¤Ÿå®Œå…¨çš„å‡å°‘åŒç«¯å·®å¼‚çš„äººåŠ›æŠ•å…¥ï¼Œä¹Ÿä¸éœ€è¦ä½¿ç”¨ native è·Ÿ js è¿›è¡Œ bridge çš„äº¤äº’ä»è€Œå¾—åˆ°å¯¹åº”çš„é¡µé¢ï¼Œè®²åˆ°æ¯”è¾ƒç†Ÿæ‚‰çš„ä¸€ä¸ªå¤è€æ–¹æ¡ˆå°±æ˜¯ QT\n\næ–¹æ¡ˆçš„æ€æƒ³è·Ÿå®ç°éƒ½æ˜¯æ¯”è¾ƒé€‚åˆè·¨ç«¯èƒ½åŠ›çš„ä½“ç°ï¼Œä½†æ˜¯é—®é¢˜åœ¨äºä»–ä¸ä¾èµ–äºå‰ç«¯ç”Ÿæ€ï¼Œé‚£ä¹ˆå‰ç«¯äººå‘˜å…¥æ‰‹çš„æ—¶å€™ä¼šå¸¦æ¥ä¸€å®šçš„å›°æ‰°ï¼Œæ‰€ä»¥ç›®å‰å¸‚é¢ä¸Šå¤šå‡ºäº†å¾ˆå¤šåŸºäº flutter è®¾è®¡çš„å‰ç«¯å®ç°æ–¹æ¡ˆï¼Œç±»ä¼¼äº krakenã€liteApp ç­‰ç­‰\n\nä¸å¯å¦è®¤çš„æ˜¯è¿™ç§æ–¹æ¡ˆçš„æ€æƒ³æ˜¯èƒ½æœ€æ ¹æœ¬è§£å†³è·¨ç«¯å¸¦æ¥çš„å›°æ‰°ï¼Œä½†æ˜¯ä»–çš„åŠ¨æ€åŒ–èƒ½åŠ›åå¼±ï¼Œåœ¨éƒ¨åˆ†é¢†åŸŸä¾æ—§ä¸æ˜¯é‚£ä¹ˆé€‚ç”¨\n\nè¿™ç¯‡æ–‡ç« å¯ä»¥æ›´åŠ æ¸…æ™°çš„ç†è§£ Flutter: æ¯ä¸ª Flutter [å¼€å‘è€…éƒ½åº”è¯¥çŸ¥é“çš„æ¡†æ¶æ€»è§ˆ](https://juejin.cn/post/7054817076073988127)\n\nå¯¹æˆ‘è€Œè¨€ï¼Œ é€‰æ‹© Flutter çš„åŸå› æ— éå°±æ˜¯è¿™ä¸ªå‡ ç‚¹:\n\n1. è°·æ­Œçš„ app æ¡†æ¶ï¼Œ æ€§èƒ½ï¼Œæµç•…é—®é¢˜\n2. æ–°æŠ€æœ¯ï¼Œé™¤äº†å‰ç«¯è·¨ç«¯æ–¹æ¡ˆä¹‹å¤–çš„ä¸€ç§ç‰¹æ®Šçš„æ–¹æ¡ˆï¼›\n3. Flutter çš„å‰æ™¯ä»¥åŠ Flutter é¢å‘å¯¹è±¡çš„å¼€å‘æ–¹å¼ï¼›\n4. é—´æ¥çš„äº†è§£ Java, TypeScript çš„è¯­æ³•ï¼›\n5. å¥½å¥‡å¿ƒï¼Œæƒ³æ·±å…¥äº†è§£è¿™æ˜¯ä»€ä¹ˆï¼ŒæŠ€æœ¯æ–°å¥‡\n","slug":"æ€»ç»“/æŠ€æœ¯è°ƒç ”/æµ…è°ˆè·¨ç«¯æŠ€æœ¯çš„å±€é™æ€§","published":1,"updated":"2025-03-12T09:53:34.461Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0it000tfg9m4lhtcohg","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>ä½œä¸ºå‰ç«¯ç¨‹åºå‘˜ï¼Œ å¦‚æœç»™ä½ ä¸€ä¸ª APP è®©ä½ å»åšï¼Œ ä½ ä¼šæ€ä¹ˆåšå‘¢ï¼Ÿ<br>å¦‚ä¸é™äºæŠ€æœ¯å±‚æ¬¡ï¼Œä¼˜å…ˆæƒ³åˆ°çš„å°±æ˜¯ Android åŸç”Ÿç³»ç»Ÿï¼Œ ä½†æ˜¯é¢å¯¹ Android å‰ç«¯ç¨‹åºå‘˜æ— æ³•ä¸Šæ‰‹ä»¥åŠå»å­¦ä¹ ï¼Œå•çº¯çš„æƒ³è¦ä» Web å±‚æ¬¡å»æƒ³æŠ€æœ¯æ–¹æ¡ˆï¼›<br>æ— éå°±æ˜¯å¸‚åœºä¸Šçš„å‡ ç§æ–¹æ¡ˆï¼Œh5, uni-app, React-Nativ, Flutter; å•åšè¿‡ H5 ç§»åŠ¨ç«¯æ··åˆå¼€å‘çš„éƒ½æ¸…æ¥šï¼Œ H5 çš„é¡µé¢æˆ–è€…çº¯ H5 å¼€å‘ APPï¼Œä¹Ÿæ˜¯å¯ä»¥å¼€å‘çš„ï¼Œ ä½†æ˜¯æœ€åä½¿ç”¨äººæ•°å¹¶ä¸ç†æƒ³ï¼Œ è¾¾ä¸åˆ°ä¸€ä¸ªåŸç”Ÿæµç•…çš„æ•ˆæœï¼›<br>è€Œ React-Native å¯¹å‰ç«¯æ¥è¯´ä¹Ÿè®¸æ˜¯ä¸€ä¸ªä¼˜é€‰çš„æ–¹æ¡ˆï¼Œä½¿ç”¨æ•ˆæœä»¥åŠæ¡†æ¶åŸºæœ¬ä¸Šéƒ½æ˜¯å‰ç«¯æŠ€æœ¯ï¼Œç†Ÿæ‚‰ react å¹¶ä¸”ä¸Šæ‰‹æ˜¯å¾ˆå¿«çš„ï¼› ä½†å¦‚æœåŠŸèƒ½è¾ƒä¸ºå¤æ‚ï¼Œ React-Native ä¹Ÿä¼šæœ‰ä¸€å®šçš„å½±å“ï¼›ä½†æ•ˆæœæ˜æ˜¾æ¯” H5 æµç¨‹çš„å¾ˆå¤šï¼›</p>\n<p>å¯¹äº Flutter æ¥è®²å‘¢ï¼ŒæŠ€æœ¯å±‚é¢åœ¨å›½å†…å¹¶ä¸çƒ­é—¨ï¼Œä¹Ÿæœ‰ä¸å°‘å¤§å‚ä¹Ÿä¼šé€‰æ‹© Flutter ä½œä¸ºå¼€å‘ App çš„é¦–é€‰ï¼› ä½†æ˜¯å­¦ä¹ æˆæœ¬æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œå¯¹å‰ç«¯ç¨‹åºå‘˜æ¥è®²ï¼Œå¯èƒ½ä¼šæœ‰ç‚¹é™Œç”Ÿç”šè‡³ä¸ç†Ÿæ‚‰ï¼›ä½œä¸º dart è¯­æ³•çš„ flutter åœ¨æ€§èƒ½ä»¥åŠå„ä¸ªæ–¹é¢è¦æ¯”å‰é¢çš„æ¡†æ¶è¦æœ‰ä¼˜è¶Šæ€§ï¼›</p>\n<h2 id=\"æ··åˆå¼€å‘çš„-WebView\"><a href=\"#æ··åˆå¼€å‘çš„-WebView\" class=\"headerlink\" title=\"æ··åˆå¼€å‘çš„ WebView\"></a>æ··åˆå¼€å‘çš„ WebView</h2><p>æ··åˆå¼€å‘ APP å½“ç„¶ç¦»ä¸å¼€ WebView, ä½¿ç”¨ WebView å¼€å‘çš„æˆäº¤è¾ƒä½ï¼Œå¼€å‘æ•ˆç‡ä¹Ÿä¼šæå‡ä¸€ä¸ªç­‰çº§ï¼Œ ä¹Ÿå°±æ˜¯å‰ç«¯äººå‘˜ä¸é™Œç”Ÿçš„ï¼›</p>\n<p>å¯¹äºè·¨ç«¯æ¥è®²ï¼Œä¹Ÿè®¸ä¼šç”¨ WebView çš„æ–¹å¼ï¼Œ åŒæ—¶ä¹Ÿæ˜¯æ»¡è¶³è·¨ç«¯çš„æ¡ä»¶çš„ï¼›</p>\n<p>ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨ WebView?</p>\n<p>ç§»åŠ¨è®¾å¤‡ APP éƒ½æ˜¯å…ˆä¸‹è½½åä½¿ç”¨ï¼Œ å½“ä½ ä¸‹è½½å®Œæˆä¹‹åï¼Œ ä½ é¡µé¢èµ„æºä»¥å·±ç»ç¼“å­˜äº†ï¼›è€Œ webview åŠ è½½çš„æ˜¯ web é¡µé¢ï¼Œ ä¹Ÿå°±ä¼šæœ‰ web çš„ç‰¹æ€§ï¼Œ æ‰“å¼€ webview ä¹‹åï¼Œå†å»åŠ è½½ web èµ„æº ä¼šåœ¨æ€§èƒ½ä¸Šæœ‰äº›å½±å“ï¼›</p>\n<h2 id=\"uni-app-react-native\"><a href=\"#uni-app-react-native\" class=\"headerlink\" title=\"uni-app&#x2F;react-native\"></a>uni-app&#x2F;react-native</h2><p>è¿™æ˜¯å¤§å¤šæ•°äººçš„é€‰æ‹©ï¼Œæ¯•ç«Ÿåˆšå¼€å§‹æˆ‘çš„æƒ³æ³• uni-app ä¹Ÿæ˜¯é¦–é€‰ï¼Œ ä½†æ˜¯åœ¨äº†è§£ä¹‹åï¼Œåœ¨ List-view æ–¹é¢å¯èƒ½ä¼šæœ‰æ€§èƒ½é—®é¢˜ï¼Œæ¯•ç«Ÿ uni-app æ˜¯ä»¥ html, js çš„æ–¹å¼ä½œä¸ºæ¸²æŸ“çš„ï¼› è‡ªç„¶ä¼šæœ‰æ€§èƒ½é—®é¢˜ï¼›</p>\n<p>åƒç¤¾åŒºæ´»åŠ¨æˆéƒ½è¿˜æ˜¯å¾ˆé«˜çš„ï¼Œ æ¯•ç«Ÿæ˜¯å‰ç«¯æŠ€æœ¯ï¼Œ ä¸Šæ‰‹å¹¶ä¸éš¾ï¼Œä½†å¦‚æœæƒ³åº”ç”¨åˆ°è®¾å¤‡ä¸­å¯èƒ½è¿˜æ˜¯æœ‰ç‚¹ç¼ºé™·ï¼›ä½†æ€»ä½“è¿˜æ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œ å¦‚æœæ²¡æœ‰å…¶ä»–æŠ€æœ¯æ–¹æ¡ˆæ›¿ä»£çš„è¯ï¼Œ å¯ä»¥è€ƒè™‘ä½¿ç”¨ uni-appï¼›</p>\n<p>react-native çš„æ€§èƒ½å¼¥è¡¥äº† uni-app å­˜åœ¨çš„ç¼ºé™·ï¼›</p>\n<p>ä»æœ¬è´¨ä¸Šæ¥è®²ï¼Œä»¥ RN ä¸ºä¾‹ï¼Œè·Ÿ webview ä¸åŒçš„åœ°æ–¹å°±åœ¨äºï¼Œwebview æ˜¯ä½¿ç”¨ html çš„ dom æè¿°ï¼Œç”±æµè§ˆå™¨è¿›è¡Œç›¸åº”çš„æ¸²æŸ“ï¼Œå› ä¸ºæ˜¯å•çº¿ç¨‹çš„åŸå› ï¼Œåœ¨æ¸²æŸ“çš„åŒæ—¶ä¼šé˜»æ–­ js çš„æ‰§è¡Œï¼Œè€Œ RN åˆ™ä¸åŒï¼Œå®ƒçš„æ–¹æ¡ˆæ˜¯å°† html è½¬æ¢ä¸º js å¯ä»¥è¯†åˆ«çš„ ast ä»£ç ï¼Œå†ç”± native åŸºäº ast ä»£ç è¿›è¡Œç»˜åˆ¶ï¼Œç”±äº native æ˜¯å¯ä»¥è¿›è¡Œå¤šçº¿ç¨‹å¹¶è¡Œçš„ï¼Œæ‰€ä»¥åœ¨æ¸²æŸ“è·Ÿæ‰§è¡Œçš„è¿‡ç¨‹ä¸­å¹¶ä¸ä¼šè¢«é˜»æ–­ï¼Œè¿™ä¹Ÿå°±å˜ç›¸çš„è§£å†³äº†ä¸€äº›ä½¿ç”¨ webview è¿›è¡Œè·¨ç«¯çš„éš¾é¢˜</p>\n<p>ä½†æ˜¯è¿™ä¹Ÿç›¸åº”æœ‰ä¸å°‘çš„ç¼ºé™·</p>\n<ol>\n<li>ç”±äº js è·Ÿ native ä¸æ˜¯åœ¨åŒä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œé‚£ä¹ˆç›¸åº”çš„ä»–ä»¬çš„é€šä¿¡ä¼šå¸¦æ¥ä¸å°‘çš„æŸè€—</li>\n<li>iOS&#x2F;Android ä»–ä»¬çš„é¡µé¢ç»˜åˆ¶æ–¹å¼ä¸åŒï¼Œä»£è¡¨ç€è¦æ·»åŠ ä¸åŒçš„ç»„ä»¶æ¥é€‚åº”</li>\n<li>ä¾èµ–äº nativeï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºä»–çš„ css è½¬ä¹‰ä¼šå˜å¾—æ›´åŠ å›°éš¾ï¼Œå¾ˆå¤š css ä¹Ÿä¸ä¸€å®šèƒ½å¤Ÿå®Œæ•´çš„å®ç°</li>\n</ol>\n<p>å½“ç„¶ï¼Œæœ€å¤§çš„é—®é¢˜ä¾æ—§åœ¨äºç»´æŠ¤ä¸Š</p>\n<p>ä¸ä¾èµ–äº webview ä»£è¡¨ç€ä½ çš„é¡µé¢æ˜¯ä¸å®Œå…¨åŠ¨æ€åŒ–çš„ï¼Œè‡³å°‘ä½ çš„ç»„ä»¶æ˜¯å›ºå®šçš„ï¼Œä¹Ÿå°±æ˜¯åœ¨ç›¸åŒçš„é¡µé¢ä½¿ç”¨æƒ…å†µä¸‹ï¼Œå¦‚æœæƒ³å¯¹ç»„ä»¶è¿›è¡Œä¿®æ”¹ï¼Œé‚£ä¹ˆè¿˜æ˜¯éœ€è¦ä¾èµ–äº native æä¾›æ–°çš„ç»„ä»¶èƒ½åŠ›ï¼Œè¿™æ ·çš„è¯å‘ç‰ˆä¾æ—§ä¼šæˆä¸ºä¸€ä¸ªå›°æ‰°çš„é—®é¢˜ï¼Œè€Œä¸”ç»´æŠ¤çš„æˆæœ¬åˆè¿›ä¸€æ­¥çš„ä¸Šå‡çš„</p>\n<h2 id=\"Flutter\"><a href=\"#Flutter\" class=\"headerlink\" title=\"Flutter\"></a>Flutter</h2><p>flutter æ˜¯æˆ‘æœ€è¿‘åœ¨æ¥è§¦å’Œå­¦ä¹ çš„æŠ€æœ¯ä¹‹ä¸€ï¼›</p>\n<p>å› ä¸ºæ¥è§¦æ—¶é—´è¾ƒçŸ­ï¼Œç†è§£çš„å¹¶ä¸æ˜¯å¾ˆæ·±å…¥ï¼›</p>\n<p>å¯ä»¥è¯´ RN ç±»å‹çš„æ¡†æ¶ä»–è¿˜æ˜¯æ‹¥æŠ±äº†éƒ¨åˆ† web çš„ç”Ÿæ€ï¼Œå´åˆä¸æ˜¯å®Œå…¨çš„æ‹¥æŠ±ï¼Œä½†æ˜¯ flutter è¿™ä¸ªæ¡†æ¶ä»å‡ºç”Ÿå°±æ˜¯ä¸æ‰“ç®—ç»§ç»­å€Ÿç€ web æ¥å‘å±•</p>\n<p>å®ƒæœ¬èº«æ˜¯ä½¿ç”¨ skia ç»˜åˆ¶åˆ°å±å¹•ä¸Šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡è‡ªå»ºç»˜åˆ¶èƒ½åŠ›ï¼Œæ¥ä¿è¯å¤šç«¯çš„ç»Ÿä¸€æ€§ï¼Œè¿™æ ·åšçš„å¥½å¤„åœ¨äºèƒ½å¤Ÿå®Œå…¨çš„å‡å°‘åŒç«¯å·®å¼‚çš„äººåŠ›æŠ•å…¥ï¼Œä¹Ÿä¸éœ€è¦ä½¿ç”¨ native è·Ÿ js è¿›è¡Œ bridge çš„äº¤äº’ä»è€Œå¾—åˆ°å¯¹åº”çš„é¡µé¢ï¼Œè®²åˆ°æ¯”è¾ƒç†Ÿæ‚‰çš„ä¸€ä¸ªå¤è€æ–¹æ¡ˆå°±æ˜¯ QT</p>\n<p>æ–¹æ¡ˆçš„æ€æƒ³è·Ÿå®ç°éƒ½æ˜¯æ¯”è¾ƒé€‚åˆè·¨ç«¯èƒ½åŠ›çš„ä½“ç°ï¼Œä½†æ˜¯é—®é¢˜åœ¨äºä»–ä¸ä¾èµ–äºå‰ç«¯ç”Ÿæ€ï¼Œé‚£ä¹ˆå‰ç«¯äººå‘˜å…¥æ‰‹çš„æ—¶å€™ä¼šå¸¦æ¥ä¸€å®šçš„å›°æ‰°ï¼Œæ‰€ä»¥ç›®å‰å¸‚é¢ä¸Šå¤šå‡ºäº†å¾ˆå¤šåŸºäº flutter è®¾è®¡çš„å‰ç«¯å®ç°æ–¹æ¡ˆï¼Œç±»ä¼¼äº krakenã€liteApp ç­‰ç­‰</p>\n<p>ä¸å¯å¦è®¤çš„æ˜¯è¿™ç§æ–¹æ¡ˆçš„æ€æƒ³æ˜¯èƒ½æœ€æ ¹æœ¬è§£å†³è·¨ç«¯å¸¦æ¥çš„å›°æ‰°ï¼Œä½†æ˜¯ä»–çš„åŠ¨æ€åŒ–èƒ½åŠ›åå¼±ï¼Œåœ¨éƒ¨åˆ†é¢†åŸŸä¾æ—§ä¸æ˜¯é‚£ä¹ˆé€‚ç”¨</p>\n<p>è¿™ç¯‡æ–‡ç« å¯ä»¥æ›´åŠ æ¸…æ™°çš„ç†è§£ Flutter: æ¯ä¸ª Flutter <a href=\"https://juejin.cn/post/7054817076073988127\">å¼€å‘è€…éƒ½åº”è¯¥çŸ¥é“çš„æ¡†æ¶æ€»è§ˆ</a></p>\n<p>å¯¹æˆ‘è€Œè¨€ï¼Œ é€‰æ‹© Flutter çš„åŸå› æ— éå°±æ˜¯è¿™ä¸ªå‡ ç‚¹:</p>\n<ol>\n<li>è°·æ­Œçš„ app æ¡†æ¶ï¼Œ æ€§èƒ½ï¼Œæµç•…é—®é¢˜</li>\n<li>æ–°æŠ€æœ¯ï¼Œé™¤äº†å‰ç«¯è·¨ç«¯æ–¹æ¡ˆä¹‹å¤–çš„ä¸€ç§ç‰¹æ®Šçš„æ–¹æ¡ˆï¼›</li>\n<li>Flutter çš„å‰æ™¯ä»¥åŠ Flutter é¢å‘å¯¹è±¡çš„å¼€å‘æ–¹å¼ï¼›</li>\n<li>é—´æ¥çš„äº†è§£ Java, TypeScript çš„è¯­æ³•ï¼›</li>\n<li>å¥½å¥‡å¿ƒï¼Œæƒ³æ·±å…¥äº†è§£è¿™æ˜¯ä»€ä¹ˆï¼ŒæŠ€æœ¯æ–°å¥‡</li>\n</ol>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>ä½œä¸ºå‰ç«¯ç¨‹åºå‘˜ï¼Œ å¦‚æœç»™ä½ ä¸€ä¸ª APP è®©ä½ å»åšï¼Œ ä½ ä¼šæ€ä¹ˆåšå‘¢ï¼Ÿ<br>å¦‚ä¸é™äºæŠ€æœ¯å±‚æ¬¡ï¼Œä¼˜å…ˆæƒ³åˆ°çš„å°±æ˜¯ Android åŸç”Ÿç³»ç»Ÿï¼Œ ä½†æ˜¯é¢å¯¹ Android å‰ç«¯ç¨‹åºå‘˜æ— æ³•ä¸Šæ‰‹ä»¥åŠå»å­¦ä¹ ï¼Œå•çº¯çš„æƒ³è¦ä» Web å±‚æ¬¡å»æƒ³æŠ€æœ¯æ–¹æ¡ˆï¼›<br>æ— éå°±æ˜¯å¸‚åœºä¸Šçš„å‡ ç§æ–¹æ¡ˆï¼Œh5, uni-app, React-Nativ, Flutter; å•åšè¿‡ H5 ç§»åŠ¨ç«¯æ··åˆå¼€å‘çš„éƒ½æ¸…æ¥šï¼Œ H5 çš„é¡µé¢æˆ–è€…çº¯ H5 å¼€å‘ APPï¼Œä¹Ÿæ˜¯å¯ä»¥å¼€å‘çš„ï¼Œ ä½†æ˜¯æœ€åä½¿ç”¨äººæ•°å¹¶ä¸ç†æƒ³ï¼Œ è¾¾ä¸åˆ°ä¸€ä¸ªåŸç”Ÿæµç•…çš„æ•ˆæœï¼›<br>è€Œ React-Native å¯¹å‰ç«¯æ¥è¯´ä¹Ÿè®¸æ˜¯ä¸€ä¸ªä¼˜é€‰çš„æ–¹æ¡ˆï¼Œä½¿ç”¨æ•ˆæœä»¥åŠæ¡†æ¶åŸºæœ¬ä¸Šéƒ½æ˜¯å‰ç«¯æŠ€æœ¯ï¼Œç†Ÿæ‚‰ react å¹¶ä¸”ä¸Šæ‰‹æ˜¯å¾ˆå¿«çš„ï¼› ä½†å¦‚æœåŠŸèƒ½è¾ƒä¸ºå¤æ‚ï¼Œ React-Native ä¹Ÿä¼šæœ‰ä¸€å®šçš„å½±å“ï¼›ä½†æ•ˆæœæ˜æ˜¾æ¯” H5 æµç¨‹çš„å¾ˆå¤šï¼›</p>\n<p>å¯¹äº Flutter æ¥è®²å‘¢ï¼ŒæŠ€æœ¯å±‚é¢åœ¨å›½å†…å¹¶ä¸çƒ­é—¨ï¼Œä¹Ÿæœ‰ä¸å°‘å¤§å‚ä¹Ÿä¼šé€‰æ‹© Flutter ä½œä¸ºå¼€å‘ App çš„é¦–é€‰ï¼› ä½†æ˜¯å­¦ä¹ æˆæœ¬æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œå¯¹å‰ç«¯ç¨‹åºå‘˜æ¥è®²ï¼Œå¯èƒ½ä¼šæœ‰ç‚¹é™Œç”Ÿç”šè‡³ä¸ç†Ÿæ‚‰ï¼›ä½œä¸º dart è¯­æ³•çš„ flutter åœ¨æ€§èƒ½ä»¥åŠå„ä¸ªæ–¹é¢è¦æ¯”å‰é¢çš„æ¡†æ¶è¦æœ‰ä¼˜è¶Šæ€§ï¼›</p>\n<h2 id=\"æ··åˆå¼€å‘çš„-WebView\"><a href=\"#æ··åˆå¼€å‘çš„-WebView\" class=\"headerlink\" title=\"æ··åˆå¼€å‘çš„ WebView\"></a>æ··åˆå¼€å‘çš„ WebView</h2><p>æ··åˆå¼€å‘ APP å½“ç„¶ç¦»ä¸å¼€ WebView, ä½¿ç”¨ WebView å¼€å‘çš„æˆäº¤è¾ƒä½ï¼Œå¼€å‘æ•ˆç‡ä¹Ÿä¼šæå‡ä¸€ä¸ªç­‰çº§ï¼Œ ä¹Ÿå°±æ˜¯å‰ç«¯äººå‘˜ä¸é™Œç”Ÿçš„ï¼›</p>\n<p>å¯¹äºè·¨ç«¯æ¥è®²ï¼Œä¹Ÿè®¸ä¼šç”¨ WebView çš„æ–¹å¼ï¼Œ åŒæ—¶ä¹Ÿæ˜¯æ»¡è¶³è·¨ç«¯çš„æ¡ä»¶çš„ï¼›</p>\n<p>ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨ WebView?</p>\n<p>ç§»åŠ¨è®¾å¤‡ APP éƒ½æ˜¯å…ˆä¸‹è½½åä½¿ç”¨ï¼Œ å½“ä½ ä¸‹è½½å®Œæˆä¹‹åï¼Œ ä½ é¡µé¢èµ„æºä»¥å·±ç»ç¼“å­˜äº†ï¼›è€Œ webview åŠ è½½çš„æ˜¯ web é¡µé¢ï¼Œ ä¹Ÿå°±ä¼šæœ‰ web çš„ç‰¹æ€§ï¼Œ æ‰“å¼€ webview ä¹‹åï¼Œå†å»åŠ è½½ web èµ„æº ä¼šåœ¨æ€§èƒ½ä¸Šæœ‰äº›å½±å“ï¼›</p>\n<h2 id=\"uni-app-react-native\"><a href=\"#uni-app-react-native\" class=\"headerlink\" title=\"uni-app&#x2F;react-native\"></a>uni-app&#x2F;react-native</h2><p>è¿™æ˜¯å¤§å¤šæ•°äººçš„é€‰æ‹©ï¼Œæ¯•ç«Ÿåˆšå¼€å§‹æˆ‘çš„æƒ³æ³• uni-app ä¹Ÿæ˜¯é¦–é€‰ï¼Œ ä½†æ˜¯åœ¨äº†è§£ä¹‹åï¼Œåœ¨ List-view æ–¹é¢å¯èƒ½ä¼šæœ‰æ€§èƒ½é—®é¢˜ï¼Œæ¯•ç«Ÿ uni-app æ˜¯ä»¥ html, js çš„æ–¹å¼ä½œä¸ºæ¸²æŸ“çš„ï¼› è‡ªç„¶ä¼šæœ‰æ€§èƒ½é—®é¢˜ï¼›</p>\n<p>åƒç¤¾åŒºæ´»åŠ¨æˆéƒ½è¿˜æ˜¯å¾ˆé«˜çš„ï¼Œ æ¯•ç«Ÿæ˜¯å‰ç«¯æŠ€æœ¯ï¼Œ ä¸Šæ‰‹å¹¶ä¸éš¾ï¼Œä½†å¦‚æœæƒ³åº”ç”¨åˆ°è®¾å¤‡ä¸­å¯èƒ½è¿˜æ˜¯æœ‰ç‚¹ç¼ºé™·ï¼›ä½†æ€»ä½“è¿˜æ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œ å¦‚æœæ²¡æœ‰å…¶ä»–æŠ€æœ¯æ–¹æ¡ˆæ›¿ä»£çš„è¯ï¼Œ å¯ä»¥è€ƒè™‘ä½¿ç”¨ uni-appï¼›</p>\n<p>react-native çš„æ€§èƒ½å¼¥è¡¥äº† uni-app å­˜åœ¨çš„ç¼ºé™·ï¼›</p>\n<p>ä»æœ¬è´¨ä¸Šæ¥è®²ï¼Œä»¥ RN ä¸ºä¾‹ï¼Œè·Ÿ webview ä¸åŒçš„åœ°æ–¹å°±åœ¨äºï¼Œwebview æ˜¯ä½¿ç”¨ html çš„ dom æè¿°ï¼Œç”±æµè§ˆå™¨è¿›è¡Œç›¸åº”çš„æ¸²æŸ“ï¼Œå› ä¸ºæ˜¯å•çº¿ç¨‹çš„åŸå› ï¼Œåœ¨æ¸²æŸ“çš„åŒæ—¶ä¼šé˜»æ–­ js çš„æ‰§è¡Œï¼Œè€Œ RN åˆ™ä¸åŒï¼Œå®ƒçš„æ–¹æ¡ˆæ˜¯å°† html è½¬æ¢ä¸º js å¯ä»¥è¯†åˆ«çš„ ast ä»£ç ï¼Œå†ç”± native åŸºäº ast ä»£ç è¿›è¡Œç»˜åˆ¶ï¼Œç”±äº native æ˜¯å¯ä»¥è¿›è¡Œå¤šçº¿ç¨‹å¹¶è¡Œçš„ï¼Œæ‰€ä»¥åœ¨æ¸²æŸ“è·Ÿæ‰§è¡Œçš„è¿‡ç¨‹ä¸­å¹¶ä¸ä¼šè¢«é˜»æ–­ï¼Œè¿™ä¹Ÿå°±å˜ç›¸çš„è§£å†³äº†ä¸€äº›ä½¿ç”¨ webview è¿›è¡Œè·¨ç«¯çš„éš¾é¢˜</p>\n<p>ä½†æ˜¯è¿™ä¹Ÿç›¸åº”æœ‰ä¸å°‘çš„ç¼ºé™·</p>\n<ol>\n<li>ç”±äº js è·Ÿ native ä¸æ˜¯åœ¨åŒä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œé‚£ä¹ˆç›¸åº”çš„ä»–ä»¬çš„é€šä¿¡ä¼šå¸¦æ¥ä¸å°‘çš„æŸè€—</li>\n<li>iOS&#x2F;Android ä»–ä»¬çš„é¡µé¢ç»˜åˆ¶æ–¹å¼ä¸åŒï¼Œä»£è¡¨ç€è¦æ·»åŠ ä¸åŒçš„ç»„ä»¶æ¥é€‚åº”</li>\n<li>ä¾èµ–äº nativeï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºä»–çš„ css è½¬ä¹‰ä¼šå˜å¾—æ›´åŠ å›°éš¾ï¼Œå¾ˆå¤š css ä¹Ÿä¸ä¸€å®šèƒ½å¤Ÿå®Œæ•´çš„å®ç°</li>\n</ol>\n<p>å½“ç„¶ï¼Œæœ€å¤§çš„é—®é¢˜ä¾æ—§åœ¨äºç»´æŠ¤ä¸Š</p>\n<p>ä¸ä¾èµ–äº webview ä»£è¡¨ç€ä½ çš„é¡µé¢æ˜¯ä¸å®Œå…¨åŠ¨æ€åŒ–çš„ï¼Œè‡³å°‘ä½ çš„ç»„ä»¶æ˜¯å›ºå®šçš„ï¼Œä¹Ÿå°±æ˜¯åœ¨ç›¸åŒçš„é¡µé¢ä½¿ç”¨æƒ…å†µä¸‹ï¼Œå¦‚æœæƒ³å¯¹ç»„ä»¶è¿›è¡Œä¿®æ”¹ï¼Œé‚£ä¹ˆè¿˜æ˜¯éœ€è¦ä¾èµ–äº native æä¾›æ–°çš„ç»„ä»¶èƒ½åŠ›ï¼Œè¿™æ ·çš„è¯å‘ç‰ˆä¾æ—§ä¼šæˆä¸ºä¸€ä¸ªå›°æ‰°çš„é—®é¢˜ï¼Œè€Œä¸”ç»´æŠ¤çš„æˆæœ¬åˆè¿›ä¸€æ­¥çš„ä¸Šå‡çš„</p>\n<h2 id=\"Flutter\"><a href=\"#Flutter\" class=\"headerlink\" title=\"Flutter\"></a>Flutter</h2><p>flutter æ˜¯æˆ‘æœ€è¿‘åœ¨æ¥è§¦å’Œå­¦ä¹ çš„æŠ€æœ¯ä¹‹ä¸€ï¼›</p>\n<p>å› ä¸ºæ¥è§¦æ—¶é—´è¾ƒçŸ­ï¼Œç†è§£çš„å¹¶ä¸æ˜¯å¾ˆæ·±å…¥ï¼›</p>\n<p>å¯ä»¥è¯´ RN ç±»å‹çš„æ¡†æ¶ä»–è¿˜æ˜¯æ‹¥æŠ±äº†éƒ¨åˆ† web çš„ç”Ÿæ€ï¼Œå´åˆä¸æ˜¯å®Œå…¨çš„æ‹¥æŠ±ï¼Œä½†æ˜¯ flutter è¿™ä¸ªæ¡†æ¶ä»å‡ºç”Ÿå°±æ˜¯ä¸æ‰“ç®—ç»§ç»­å€Ÿç€ web æ¥å‘å±•</p>\n<p>å®ƒæœ¬èº«æ˜¯ä½¿ç”¨ skia ç»˜åˆ¶åˆ°å±å¹•ä¸Šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡è‡ªå»ºç»˜åˆ¶èƒ½åŠ›ï¼Œæ¥ä¿è¯å¤šç«¯çš„ç»Ÿä¸€æ€§ï¼Œè¿™æ ·åšçš„å¥½å¤„åœ¨äºèƒ½å¤Ÿå®Œå…¨çš„å‡å°‘åŒç«¯å·®å¼‚çš„äººåŠ›æŠ•å…¥ï¼Œä¹Ÿä¸éœ€è¦ä½¿ç”¨ native è·Ÿ js è¿›è¡Œ bridge çš„äº¤äº’ä»è€Œå¾—åˆ°å¯¹åº”çš„é¡µé¢ï¼Œè®²åˆ°æ¯”è¾ƒç†Ÿæ‚‰çš„ä¸€ä¸ªå¤è€æ–¹æ¡ˆå°±æ˜¯ QT</p>\n<p>æ–¹æ¡ˆçš„æ€æƒ³è·Ÿå®ç°éƒ½æ˜¯æ¯”è¾ƒé€‚åˆè·¨ç«¯èƒ½åŠ›çš„ä½“ç°ï¼Œä½†æ˜¯é—®é¢˜åœ¨äºä»–ä¸ä¾èµ–äºå‰ç«¯ç”Ÿæ€ï¼Œé‚£ä¹ˆå‰ç«¯äººå‘˜å…¥æ‰‹çš„æ—¶å€™ä¼šå¸¦æ¥ä¸€å®šçš„å›°æ‰°ï¼Œæ‰€ä»¥ç›®å‰å¸‚é¢ä¸Šå¤šå‡ºäº†å¾ˆå¤šåŸºäº flutter è®¾è®¡çš„å‰ç«¯å®ç°æ–¹æ¡ˆï¼Œç±»ä¼¼äº krakenã€liteApp ç­‰ç­‰</p>\n<p>ä¸å¯å¦è®¤çš„æ˜¯è¿™ç§æ–¹æ¡ˆçš„æ€æƒ³æ˜¯èƒ½æœ€æ ¹æœ¬è§£å†³è·¨ç«¯å¸¦æ¥çš„å›°æ‰°ï¼Œä½†æ˜¯ä»–çš„åŠ¨æ€åŒ–èƒ½åŠ›åå¼±ï¼Œåœ¨éƒ¨åˆ†é¢†åŸŸä¾æ—§ä¸æ˜¯é‚£ä¹ˆé€‚ç”¨</p>\n<p>è¿™ç¯‡æ–‡ç« å¯ä»¥æ›´åŠ æ¸…æ™°çš„ç†è§£ Flutter: æ¯ä¸ª Flutter <a href=\"https://juejin.cn/post/7054817076073988127\">å¼€å‘è€…éƒ½åº”è¯¥çŸ¥é“çš„æ¡†æ¶æ€»è§ˆ</a></p>\n<p>å¯¹æˆ‘è€Œè¨€ï¼Œ é€‰æ‹© Flutter çš„åŸå› æ— éå°±æ˜¯è¿™ä¸ªå‡ ç‚¹:</p>\n<ol>\n<li>è°·æ­Œçš„ app æ¡†æ¶ï¼Œ æ€§èƒ½ï¼Œæµç•…é—®é¢˜</li>\n<li>æ–°æŠ€æœ¯ï¼Œé™¤äº†å‰ç«¯è·¨ç«¯æ–¹æ¡ˆä¹‹å¤–çš„ä¸€ç§ç‰¹æ®Šçš„æ–¹æ¡ˆï¼›</li>\n<li>Flutter çš„å‰æ™¯ä»¥åŠ Flutter é¢å‘å¯¹è±¡çš„å¼€å‘æ–¹å¼ï¼›</li>\n<li>é—´æ¥çš„äº†è§£ Java, TypeScript çš„è¯­æ³•ï¼›</li>\n<li>å¥½å¥‡å¿ƒï¼Œæƒ³æ·±å…¥äº†è§£è¿™æ˜¯ä»€ä¹ˆï¼ŒæŠ€æœ¯æ–°å¥‡</li>\n</ol>\n"},{"title":"æŠ€æœ¯è°ƒç ”-ç½‘ç«™æ›´æ–°ä¸€","abbrlink":"c6bacc84","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\nå¯¹äºå‰ç«¯éƒ¨ç½²å¦‚ä½•è¿›è¡Œé¡¹ç›®éƒ¨ç½²è¿™é‡Œå°±ä¸è¯¦ç»†ä»‹ç»äº†ï¼Œè¿™é‡Œä¸»è¦ä»‹ç»å¦‚ä½•è¿›è¡Œå‰ç«¯éƒ¨ç½²é€šçŸ¥ç”¨æˆ·æ›´æ–°ç½‘ç«™ã€‚\n\nä¹‹å‰å¼€å‘çš„ç½‘ç«™, æ¯æ¬¡éƒ½æ˜¯è®©ç”¨æˆ·æ‰‹åŠ¨è¿›è¡Œåˆ·æ–°ç½‘é¡µæ‰“åˆ°ç½‘ç«™æ›´æ–°çš„ç›®çš„,ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªå¼Šç«¯,å°±æ˜¯ç”¨æˆ·æ¯æ¬¡éƒ½éœ€è¦æ‰‹åŠ¨,å¯¹æˆ‘æ¥è®²,æˆ‘æ¯”è¾ƒæ‡’,èƒ½è‡ªåŠ¨çš„ç»ä¸æ‰‹åŠ¨åˆ·æ–°;\n\n## ç®€å•ä»‹ç»\n\n### åœºæ™¯ 1\n\nå¼€å‘å®Œä¸€ä¸ªåŠŸèƒ½, æäº¤åˆ° github ä¸Š, ç„¶åé€šè¿‡`jenkins`å»éƒ¨ç½²å‘å¸ƒ, ä¹‹åä½ ä¼šå‘ç°é¡µé¢è¿˜æ˜¯ä¹‹å‰çš„é¡µé¢,å› ä¸ºä½ æ²¡æœ‰åˆ·æ–°ç½‘ç«™,æ‰€ä»¥éœ€è¦æ‰‹åŠ¨åˆ·æ–°ä¸€ä¸‹ç½‘ç«™ã€‚å¯¹äºç”¨æˆ·æ¥è®²èƒ½ä¸èƒ½è‡ªåŠ¨æ›´æ–°å‘¢?\n\n### åœºæ™¯ 2\n\nç”¨æˆ·åœ¨å¡«å†™è¡¨å•çš„æ—¶å€™,ä½ é¡¹ç›®ç½‘ç«™æ›´æ–°äº†,éœ€è¦ä¸€ä¸ªæç¤º,å¯ä»¥ç«‹å³æ›´æ–°ä¹Ÿå¯ä»¥å¿½ç•¥ç¨åæ›´æ–°, è¿™æ ·å°±å¯ä»¥å‘ŠçŸ¥ç”¨æˆ·ç½‘ç«™æ›´æ–°äº†é‚£äº›åŠŸèƒ½? æ›´æ–°çš„å†…å®¹ä¼šä¸ä¼šå½±å“ä½ æ­£åœ¨æ“ä½œçš„åŠŸèƒ½?\n\n### åœºæ™¯ 3\n\nå¦‚æœæ²¡æœ‰æç¤ºæ¡†,ç›´æ¥åˆ·æ–°é¡µé¢å¯¼è‡´ç”¨æˆ·æ­£åœ¨æ“ä½œçš„æ•°æ®ä¸¢å¤±, è¿™æ ·çš„æŸå¤±è¿˜æ˜¯æ¯”è¾ƒå¤§çš„;\n\näºæ˜¯æˆ‘ä»Šå¤©ç ”ç©¶äº†ä¸€ä¸‹è¿™ä¸ªç½‘ç«™æ›´æ–°çš„æ–¹æ¡ˆ, ç„¶åé€šè¿‡æœ¬åœ°`nginx`æ¨¡æ‹ŸæœåŠ¡å™¨å»å°è¯•äº†ä¸€ä¸‹;\n\n## å®ç°çš„æ–¹æ¡ˆ\n\næ–‡ç« ä½¿ç”¨çš„æ˜¯`vite5 + vue3 + ts`çš„ä¸€ä¸ªæœ¬åœ°é¡¹ç›®;\n\n1. ä½¿ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶[vite-plugin-pwa](https://vite-pwa-org.netlify.app/), å…·ä½“çš„åšæ³•å¯ä»¥å‚è€ƒå®˜ç½‘\n2. æ‰‹åŠ¨æ˜¯å®ç°`manifest.json` + å¾ªç¯`web worker`å®ç°, å°±æ˜¯æ‰“åŒ…çš„æ—¶å€™åˆ›å»ºä¸€ä¸ª`manifest.json` ç„¶åå°†æ‰“åŒ…æ—¶é—´`Date.now()`å†™å…¥æ–‡ä»¶, ä¹‹ååœ¨æ ¹æ®é‡Œé¢çš„æ—¶é—´å»åšå¯¹åº”çš„é€»è¾‘\n3. åœ¨`vite.config.ts`ä¸­ä½¿ç”¨`build`, å¼€å¯`manifest`,è¿™æ ·æ¯æ¬¡æ‰“åŒ…éƒ½ä¼šåœ¨`dist/.vite`ä¸­ç”Ÿæˆä¸€ä¸ªæ–°çš„æ–‡ä»¶, è¿™ä¸ªæ–‡ä»¶å°±æ˜¯`manifest.json`\n\nè¿™é‡Œæˆ‘ä»¬å…·ä½“è®²`vite.config.js` + `web worker`å®ç°æ€è·¯:\n\n### é…ç½® vite.config.ts\n\n`vite.config.ts`å¦‚ä½•é…ç½®å‘¢? [vite åç«¯é›†æˆ](https://cn.vitejs.dev/guide/backend-integration)\n\n```ts\nexport default defineConfig(() => {\n\treturn {\n\t\tplugins: [vue(), eslintPlugin()],\n\t\t// æ·»åŠ ä¸‹é¢çš„build\n\t\tbuild: {\n\t\t\tmanifest: true,\n\t\t\tcssCodeSplit: false,\n\t\t},\n\t};\n});\n```\n\nç„¶åä½ å¯ä»¥é€šè¿‡`npm run build`å‘½ä»¤æ‰“åŒ…é¡¹ç›®,ç­‰å¾…é¡¹ç›®æ‰“åŒ…æˆåŠŸä¹‹å, é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆ`dist`ç›®å½•, å¤§æ¦‚çš„ç»“æ„ä¸º:\n\n```shell\n.vite\nassets\nindex.html\nvite.svg\n```\n\n`.vite`ç›®å½•å°±æ˜¯æˆ‘ä»¬æ‰“åŒ…çš„`manifest.json`æ–‡ä»¶, è¿™ä¸ªæ–‡ä»¶å°±æ˜¯æˆ‘ä»¬åé¢éœ€è¦è¯»å–çš„; `manifest.json`ä¸­`file`å°±æ˜¯`index.html`ä¸­å¼•å…¥`js,css`çš„åœ°å€;\n`index.html`ä¸­å¼•å…¥`js,css`çš„åœ°å€ä¸º:\n\n```html\n<!-- å¤§æ¦‚è¿™æ ·çš„æ ¼å¼ -->\n<script type=\"module\" src=\"/assets/index.c0d0d0e9.js\"></script>\n<link rel=\"modulepreload\" href=\"/assets/index.c0d0d0e9.css\" />\n```\n\nè¿™é‡Œ`manifest.json`æ–‡ä»¶å¯ä»¥ç†è§£ä¸ºç¦»çº¿ç¼“å­˜æ–‡ä»¶, å°±æ˜¯å§æ‰€æœ‰çš„èµ„æºéƒ½ç¼“å­˜èµ·æ¥;\n\n### å®ç°æ€è·¯ä¸€\n\næƒ³è¦åšåˆ°ç½‘ç«™æ›´æ–°, è¿™é‡Œè¦è·å–`manifest.json`æ–‡ä»¶,ä¸è¿‡ç°åœ¨æ–‡ä»¶æ˜¯åœ¨`dist/.vite`ä¸­, æƒ³è¦ç›´æ¥è¯»å–é‚£å°±è¦ä¿®æ”¹æ‰“åŒ…å‘½ä»¤\n\n```json\n\"scripts\": {\n  \"build\": \"vite build && node src/copyManifest.js\",\n}\n```\n\n`copyManifest.js`çš„æ–‡ä»¶ä¸ºå°±æ˜¯å¤åˆ¶ä¸€ä»½`manifest.json`åˆ°`dist`ç›®å½•ä¸‹\n\n```js\nimport { copyFileSync } from \"fs\";\ntry {\n\tcopyFileSync(\"dist/.vite/manifest.json\", \"dist/manifest.json\");\n} catch (e) {\n\tconsole.log(e);\n\tprocess.exit(1);\n}\n```\n\nç„¶ååœ¨`main.js`ä¸­å¼•å…¥ä¸€ä¸ªæ–‡ä»¶,è¿™ä¸ªæ–‡ä»¶å°±æ˜¯ä½ æ›´æ–°ç½‘ç«™çš„æ ¸å¿ƒé€»è¾‘äº†;\n\nå¤§è‡´çš„æ€è·¯å°±æ˜¯:\n\n1. `fetch('/manifest.json')` æ‹¿åˆ°æœ€æ–°çš„æ•°æ®å’Œä¸Šä¸€æ¬¡çš„æ•°æ®å»åšæ¯”è¾ƒæˆ–è€…ç»“åˆ`å‘å¸ƒè®¢é˜…æ¨¡å¼`\n2. å¾ªç¯è·å–, å› ä¸ºç½‘ç«™ä¸å®šæ—¶ä¼šæ›´æ–°,æ‰€ä»¥éœ€è¦å¾ªç¯; å‘ç°æ–‡ä»¶åœ°å€ä¸ä¸€è‡´ç›´æ¥å¼¹æ¡†æç¤º;\n3. `manifest.json`ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»º, é‚£å°±éœ€è¦å§`vite.config.ts`ä¸­`manifest`å…³é—­, æ‰“åŒ…çš„æ—¶å€™åˆ›å»ºä¸€ä¸ªæ–‡ä»¶`manifest.json`å†…å®¹ä¸º`{time: 'xxxx', content: 'æ›´æ–°å†…å®¹'}`; åŒæ ·çš„å¾ªç¯æ“ä½œå»å¯¹æ¯”æ—¶é—´;\n\nä¸è¿‡è¿™æ ·æ˜¯æ¯”è¾ƒéº»çƒ¦çš„, æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨å¦å¤–ä¸€ç§`web worker`æ¥å®ç°;\n\n### å®ç°æ€è·¯äºŒ <Badge text=\"æ¨èä½¿ç”¨\" type=\"error\"/>\n\né¦–å…ˆéœ€è¦åˆ›å»ºä¿©ä¸ªæ–‡ä»¶`checkUpdate.ts`å’Œ`checkUpdate.worker.ts`, ä¸€ä¸ªæ˜¯å…¥å£æ–‡ä»¶, å¦ä¸€ä¸ªæ˜¯`web worker`å¾ªç¯æ£€æµ‹æœºåˆ¶;\n\n```ts\n// checkUpdate.ts:\nimport { ElMessageBox } from \"element-plus\";\n// ./checkUpdate.worker?workerè¿™æ˜¯viteçš„å†™æ³•. å¦‚æœä½¿ç”¨webpack æ˜¯éœ€è¦ä¸‹è½½å¯¹åº”çš„æ’ä»¶è¯†åˆ«çš„\nimport CheckWorker from \"./checkUpdate.worker?worker\";\n\n// åˆ¤æ–­æ˜¯å¦æ˜¯å¼€å‘ç¯å¢ƒ, å¦‚æœæ˜¯å¼€å‘ç¯å¢ƒå°±ä¸éœ€è¦æ£€æµ‹æ›´æ–°\nif (import.meta.env.MODE !== \"development\") {\n\tconst worker = new CheckWorker();\n\n\t// æ›´æ–°å¼¹æ¡†\n\tasync function judgeUpdate(lastEtag: string) {\n\t\tElMessageBox.confirm(\"æ£€æµ‹åˆ°ç½‘ç«™æœ‰æ–°å†…å®¹, æ˜¯å¦éœ€è¦æ›´æ–°?\", \"æ›´æ–°æç¤º\", {\n\t\t\tconfirmButtonText: \"ç«‹å³æ›´æ–°\",\n\t\t\tcancelButtonText: \"10sä¹‹åå†é€šçŸ¥æˆ‘\",\n\t\t\ttype: \"warning\",\n\t\t})\n\t\t\t.then(async () => {\n\t\t\t\t// æ›´æ–°æ“ä½œ\n\t\t\t\tworker.postMessage({\n\t\t\t\t\ttype: \"close\",\n\t\t\t\t\ttip: \"å…³é—­\",\n\t\t\t\t\tlastEtag,\n\t\t\t\t});\n\t\t\t\tlocation.reload();\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t// ç¨åæ›´æ–°æ“ä½œ\n\t\t\t\t// å‘ŠçŸ¥å­çº¿ç¨‹ç¨åæ›´æ–°\n\t\t\t\tworker.postMessage({\n\t\t\t\t\ttype: \"recheck\",\n\t\t\t\t\ttip: \"10sä¹‹åå†é€šçŸ¥æˆ‘\",\n\t\t\t\t\tlastEtag,\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\t// é¦–æ¬¡è¿›å…¥é¡µé¢æ£€æµ‹æ˜¯å¦éœ€è¦æ›´æ–°\n\tworker.postMessage({\n\t\ttype: \"check\",\n\t\ttip: \"æ£€æµ‹æ˜¯å¦æ›´æ–°\",\n\t});\n\n\t// æ¥æ”¶åˆ°workeræ›´æ–°çš„æ¶ˆæ¯, é‚£å°±è¿›è¡Œå¼¹æ¡†æç¤º\n\tworker.onmessage = ({ data }) => {\n\t\t// ä¸»çº¿ç¨‹æ¥æ”¶åˆ°è¦æ›´æ–°çš„é€šçŸ¥,é‚£å°±å¼¹æ¡†æç¤º\n\t\tif (data.type === \"hasUpdate\") {\n\t\t\tjudgeUpdate(data.lastEtag);\n\t\t}\n\t};\n}\n```\n\n```ts\n// checkUpdate.worker.ts:\nlet lastEtag: string | null | undefined = undefined;\nlet hasUpdate = false;\n\nlet intervalId: number | null | undefined = null;\nasync function checkUpdate() {\n\t// è¿™é‡Œå¯ä»¥è¯»å–`manifest.json`, æˆ‘åœ¨è¿™é‡Œç›´æ¥è¯»å–ç½‘ç«™çš„é¡µé¢\n\tconst res = await fetch(`${self.location.protocol}//${self.location.host}`, {\n\t\tmethod: \"HEAD\",\n\t\tcache: \"no-cache\",\n\t});\n\n\t// è¿™ä¸€è¡Œå°±æ˜¯å¦‚ä½•åˆ¤æ–­æ˜¯å¦æœ‰æ›´æ–°\n\tconst etag = res.headers.get(\"etag\") || res.headers.get(\"last-modified\");\n\thasUpdate = lastEtag !== undefined && etag !== lastEtag;\n\n\tif (hasUpdate) {\n\t\t// å‘ä¸»çº¿ç¨‹å‘é€æ¶ˆæ¯, å‘Šè¯‰ä»–ç½‘ç«™éœ€è¦æ›´æ–°äº†;\n\t\tself.postMessage({\n\t\t\ttype: \"hasUpdate\",\n\t\t\ttip: \"éœ€è¦æ›´æ–°\",\n\t\t\tlastEtag,\n\t\t});\n\t}\n\tlastEtag = etag;\n}\n\n// ç›‘å¬workerå‘é€çš„æ¶ˆæ¯\nself.addEventListener(\"message\", ({ data }) => {\n\t// æ£€æµ‹æ›´æ–°\n\tif (data.type === \"check\") {\n\t\tcheckUpdate();\n\t\tintervalId && clearInterval(intervalId);\n\t\tintervalId = setInterval(checkUpdate, 10 * 1000);\n\t} else if (data.type === \"recheck\") {\n\t\t// ç¨åé€šçŸ¥\n\t\thasUpdate = false;\n\t\tlastEtag = data.lastEtag;\n\t\tintervalId && clearInterval(intervalId);\n\t\tintervalId = setInterval(checkUpdate, 10 * 1000);\n\t} else if (data.type === \"close\") {\n\t\t// å…³é—­\n\t\tintervalId && clearInterval(intervalId);\n\t\tclose();\n\t}\n});\n```\n\n![æµç¨‹](https://wangxiaoze-view.github.io/picx-images-hosting/images/update-2024-04-15-0952.png)\n\nç„¶ååœ¨`main.ts`ä¸­å¼•å…¥`import './checkUpdate'`; åŸºæœ¬ä¸Šå°±å¯ä»¥äº†;\n\nç„¶åé‡æ–°æ‰“åŒ…, è®²æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶æ”¾åœ¨æœ¬åœ°æœåŠ¡å™¨ä¸Š;\n\nç„¶åæ‰“å¼€é¡µé¢: ç­‰å¾…æ—¶é—´å°±ä¼šæœ‰æç¤ºäº†:\n\n## çŸ¥è¯†è¡¥å……\n\n::: tip\nä½¿ç”¨ Web Worker æ¥å®ç°ç½‘ç«™æ›´æ–°ï¼Œå°¤å…¶æ˜¯å¤„ç†ä¸é¡µé¢æ¸²æŸ“æ— å…³ä½†å¯èƒ½è€—æ—¶çš„æ“ä½œï¼Œå¦‚æ•°æ®è§£æã€å¤æ‚è®¡ç®—ã€å¤§æ–‡ä»¶å¤„ç†ç­‰ï¼Œå¯ä»¥å¸¦æ¥ä»¥ä¸‹å¥½å¤„ï¼š\n:::\n\n### å¥½å¤„\n\n1. é˜²æ­¢ä¸»çº¿ç¨‹é˜»å¡ï¼š\n   - Web Worker åœ¨å•ç‹¬çš„åå°çº¿ç¨‹ä¸­è¿è¡Œï¼Œä¸ UI æ¸²æŸ“çº¿ç¨‹äº’ä¸å¹²æ‰°ã€‚è¿™æ„å‘³ç€å³ä½¿åœ¨å¤„ç†å¤æ‚çš„æ›´æ–°é€»è¾‘æ—¶ï¼Œç”¨æˆ·ä»èƒ½æµç•…åœ°ä¸é¡µé¢äº¤äº’ï¼Œé¿å…äº†å› é•¿æ—¶é—´è®¡ç®—å¯¼è‡´çš„é¡µé¢å†»ç»“æˆ–å¡é¡¿ç°è±¡ï¼Œæ˜¾è‘—æå‡äº†ç”¨æˆ·ä½“éªŒã€‚\n2. æå‡å“åº”é€Ÿåº¦:\n   - å¯¹äºæ¶‰åŠå¤§é‡æ•°æ®å¤„ç†æˆ–è®¡ç®—å¯†é›†å‹çš„æ›´æ–°ä»»åŠ¡ï¼ŒWeb Worker èƒ½å¤Ÿå¹¶è¡Œå¤„ç†è¿™äº›å·¥ä½œï¼Œä½¿å¾—æ›´æ–°è¿‡ç¨‹æ›´å¿«å®Œæˆï¼Œä½¿å¾—ç”¨æˆ·èƒ½æ›´æ—©çœ‹åˆ°æ›´æ–°åçš„ç»“æœã€‚\n3. åˆ†ç¦»ä»»åŠ¡ï¼Œä¼˜åŒ–ä»£ç ç»“æ„ï¼š\n   - ä½¿ç”¨ Web Worker å¯ä»¥å°†å¤æ‚çš„æ›´æ–°é€»è¾‘å°è£…åˆ°ç‹¬ç«‹çš„è„šæœ¬ä¸­ï¼Œä¸ä¸»çº¿ç¨‹çš„ UI é€»è¾‘æ¸…æ™°åˆ†ç¦»ã€‚è¿™æœ‰åŠ©äºä»£ç ç»„ç»‡ï¼Œæé«˜å¯ç»´æŠ¤æ€§ï¼Œå¹¶å…è®¸å¼€å‘è€…ä¸“æ³¨äºå„è‡ªçº¿ç¨‹çš„ä»»åŠ¡ï¼Œéµå¾ªâ€œå…³æ³¨ç‚¹åˆ†ç¦»â€åŸåˆ™\n4. å¼‚æ­¥å¤„ç†ï¼š\n   - Web Worker é€šè¿‡æ¶ˆæ¯ä¼ é€’æœºåˆ¶`ï¼ˆpostMessage() å’Œ onmessageï¼‰`ä¸ä¸»çº¿ç¨‹é€šä¿¡ï¼Œå®ç°äº†çœŸæ­£çš„å¼‚æ­¥æ“ä½œã€‚è¿™ä½¿å¾—æ›´æ–°ä»»åŠ¡å¯ä»¥åœ¨ä¸å½±å“ä¸»çº¿ç¨‹çš„æƒ…å†µä¸‹å¼‚æ­¥è¿›è¡Œï¼Œç¬¦åˆç°ä»£ Web åº”ç”¨çš„éé˜»å¡ã€äº‹ä»¶é©±åŠ¨ç¼–ç¨‹æ¨¡å¼ã€‚\n5. èµ„æºåŠ è½½ä¸é¢„å¤„ç†ï¼š\n   - å¦‚æœç½‘ç«™æ›´æ–°æ¶‰åŠåˆ°èµ„æºçš„åŠ è½½æˆ–é¢„å¤„ç†ï¼ˆå¦‚å‹ç¼©ã€è§£å¯†ç­‰ï¼‰ï¼ŒWeb Worker å¯ä»¥åœ¨åå°çº¿ç¨‹æå‰å®Œæˆè¿™äº›å·¥ä½œï¼Œå¾…å‡†å¤‡å¥½åå†é€šçŸ¥ä¸»çº¿ç¨‹ï¼Œé¿å…äº†èµ„æºåŠ è½½å¯¹ä¸»çº¿ç¨‹çš„ç›´æ¥å‹åŠ›ã€‚\n\n### å¼Šç«¯\n\n1. å…¼å®¹æ€§é—®é¢˜ï¼š\n\n   - è™½ç„¶ Web Worker æ˜¯ HTML5 æ ‡å‡†çš„ä¸€éƒ¨åˆ†ï¼Œä½†åœ¨è¾ƒè€çš„æµè§ˆå™¨æˆ–æŸäº›éæ ‡å‡†ç¯å¢ƒä¸­å¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ã€‚å¼€å‘è€…éœ€è¦è¿›è¡Œå…¼å®¹æ€§æ£€æµ‹å’Œé™çº§å¤„ç†ï¼Œæˆ–è€…ä¸ºä¸æ”¯æŒ Web Worker çš„ç¯å¢ƒæä¾›å¤‡ç”¨æ–¹æ¡ˆã€‚\n\n2. é¢å¤–çš„å†…å­˜æ¶ˆè€—ï¼š\n   - å¯åŠ¨ Web Worker æ„å‘³ç€åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œä¼šå¢åŠ æµè§ˆå™¨çš„å†…å­˜å¼€é”€ã€‚å¯¹äºèµ„æºå—é™çš„è®¾å¤‡ï¼ˆå¦‚ä½ç«¯ç§»åŠ¨è®¾å¤‡ï¼‰ï¼Œè¿‡å¤šæˆ–ä¸å½“ä½¿ç”¨çš„ Web Worker å¯èƒ½å¯¼è‡´å†…å­˜æº¢å‡ºæˆ–å…¶ä»–æ€§èƒ½é—®é¢˜ã€‚\n3. é€šä¿¡æˆæœ¬ï¼š\n   - ä¸»çº¿ç¨‹ä¸ Web Worker ä¹‹é—´çš„é€šä¿¡éœ€é€šè¿‡åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ•°æ®ï¼Œè¿™ä¼šå¸¦æ¥ä¸€å®šçš„æ€§èƒ½å¼€é”€ã€‚å¦‚æœæ›´æ–°è¿‡ç¨‹ä¸­é¢‘ç¹è¿›è¡Œå¤§é‡æ•°æ®äº¤æ¢ï¼Œå¯èƒ½ä¼šæŠµæ¶ˆéƒ¨åˆ†å¤šçº¿ç¨‹å¸¦æ¥çš„ä¼˜åŠ¿ã€‚\n4. é™åˆ¶è®¿é—®æŸäº›å¯¹è±¡ä¸ APIï¼š\n   - Web Worker ç¯å¢ƒä¸­æ— æ³•ç›´æ¥è®¿é—®`windowã€documentç­‰ä¸DOM`ç›¸å…³çš„å…¨å±€å¯¹è±¡ï¼Œä¹Ÿæ— æ³•ç›´æ¥æ“ä½œ DOMã€‚å¯¹äºä¾èµ–è¿™äº›åŠŸèƒ½çš„æ›´æ–°é€»è¾‘ï¼Œéœ€è¦é€šè¿‡æ¶ˆæ¯ä¼ é€’å°†ç›¸å…³æ“ä½œå§”æ‰˜ç»™ä¸»çº¿ç¨‹æ‰§è¡Œã€‚\n5. è°ƒè¯•å¤æ‚æ€§ï¼š\n   - ç”±äº Web Worker è¿è¡Œåœ¨ç‹¬ç«‹çº¿ç¨‹ä¸­ï¼Œè°ƒè¯•èµ·æ¥å¯èƒ½æ¯”ä¸»çº¿ç¨‹ä»£ç æ›´ä¸ºå¤æ‚ã€‚å¼€å‘è€…éœ€è¦ä½¿ç”¨ä¸“é—¨çš„å·¥å…·æˆ–æŠ€å·§æ¥ç›‘æ§å’Œè°ƒè¯• Worker ä¸­çš„ä»£ç ã€‚\n\n**æ€»ç»“æ¥è¯´ï¼Œä½¿ç”¨ Web Worker å®ç°ç½‘ç«™æ›´æ–°æœ‰åˆ©äºæå‡ç”¨æˆ·ä½“éªŒã€ä¼˜åŒ–æ€§èƒ½å’Œä»£ç ç»“æ„ï¼Œä½†åŒæ—¶ä¹Ÿéœ€è¦æ³¨æ„å…¶å¯èƒ½å¸¦æ¥çš„å…¼å®¹æ€§é—®é¢˜ã€é¢å¤–èµ„æºæ¶ˆè€—ã€é€šä¿¡æˆæœ¬ã€API è®¿é—®é™åˆ¶åŠè°ƒè¯•å¤æ‚æ€§ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œåº”æ ¹æ®å…·ä½“åœºæ™¯æƒè¡¡åˆ©å¼Šï¼Œåˆç†åˆ©ç”¨ Web Worker ä»¥å®ç°é«˜æ•ˆã€æµç•…çš„ç½‘ç«™æ›´æ–°æµç¨‹ã€‚**\n\n## è§†é¢‘æ•ˆæœé¢„è§ˆ\n\n<video controls style=\"width:100%;height:500px;object-fit:fill;\">\n  <source src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/web_update.mp4\" type=\"video/mp4\" />\n</video>\n","source":"_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/ç½‘ç«™æ›´æ–°ä¸€.md","raw":"---\ntitle: æŠ€æœ¯è°ƒç ”-ç½‘ç«™æ›´æ–°ä¸€\nabbrlink: c6bacc84\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - æŠ€æœ¯è°ƒç ”\n---\n\n# èƒŒæ™¯\n\nå¯¹äºå‰ç«¯éƒ¨ç½²å¦‚ä½•è¿›è¡Œé¡¹ç›®éƒ¨ç½²è¿™é‡Œå°±ä¸è¯¦ç»†ä»‹ç»äº†ï¼Œè¿™é‡Œä¸»è¦ä»‹ç»å¦‚ä½•è¿›è¡Œå‰ç«¯éƒ¨ç½²é€šçŸ¥ç”¨æˆ·æ›´æ–°ç½‘ç«™ã€‚\n\nä¹‹å‰å¼€å‘çš„ç½‘ç«™, æ¯æ¬¡éƒ½æ˜¯è®©ç”¨æˆ·æ‰‹åŠ¨è¿›è¡Œåˆ·æ–°ç½‘é¡µæ‰“åˆ°ç½‘ç«™æ›´æ–°çš„ç›®çš„,ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªå¼Šç«¯,å°±æ˜¯ç”¨æˆ·æ¯æ¬¡éƒ½éœ€è¦æ‰‹åŠ¨,å¯¹æˆ‘æ¥è®²,æˆ‘æ¯”è¾ƒæ‡’,èƒ½è‡ªåŠ¨çš„ç»ä¸æ‰‹åŠ¨åˆ·æ–°;\n\n## ç®€å•ä»‹ç»\n\n### åœºæ™¯ 1\n\nå¼€å‘å®Œä¸€ä¸ªåŠŸèƒ½, æäº¤åˆ° github ä¸Š, ç„¶åé€šè¿‡`jenkins`å»éƒ¨ç½²å‘å¸ƒ, ä¹‹åä½ ä¼šå‘ç°é¡µé¢è¿˜æ˜¯ä¹‹å‰çš„é¡µé¢,å› ä¸ºä½ æ²¡æœ‰åˆ·æ–°ç½‘ç«™,æ‰€ä»¥éœ€è¦æ‰‹åŠ¨åˆ·æ–°ä¸€ä¸‹ç½‘ç«™ã€‚å¯¹äºç”¨æˆ·æ¥è®²èƒ½ä¸èƒ½è‡ªåŠ¨æ›´æ–°å‘¢?\n\n### åœºæ™¯ 2\n\nç”¨æˆ·åœ¨å¡«å†™è¡¨å•çš„æ—¶å€™,ä½ é¡¹ç›®ç½‘ç«™æ›´æ–°äº†,éœ€è¦ä¸€ä¸ªæç¤º,å¯ä»¥ç«‹å³æ›´æ–°ä¹Ÿå¯ä»¥å¿½ç•¥ç¨åæ›´æ–°, è¿™æ ·å°±å¯ä»¥å‘ŠçŸ¥ç”¨æˆ·ç½‘ç«™æ›´æ–°äº†é‚£äº›åŠŸèƒ½? æ›´æ–°çš„å†…å®¹ä¼šä¸ä¼šå½±å“ä½ æ­£åœ¨æ“ä½œçš„åŠŸèƒ½?\n\n### åœºæ™¯ 3\n\nå¦‚æœæ²¡æœ‰æç¤ºæ¡†,ç›´æ¥åˆ·æ–°é¡µé¢å¯¼è‡´ç”¨æˆ·æ­£åœ¨æ“ä½œçš„æ•°æ®ä¸¢å¤±, è¿™æ ·çš„æŸå¤±è¿˜æ˜¯æ¯”è¾ƒå¤§çš„;\n\näºæ˜¯æˆ‘ä»Šå¤©ç ”ç©¶äº†ä¸€ä¸‹è¿™ä¸ªç½‘ç«™æ›´æ–°çš„æ–¹æ¡ˆ, ç„¶åé€šè¿‡æœ¬åœ°`nginx`æ¨¡æ‹ŸæœåŠ¡å™¨å»å°è¯•äº†ä¸€ä¸‹;\n\n## å®ç°çš„æ–¹æ¡ˆ\n\næ–‡ç« ä½¿ç”¨çš„æ˜¯`vite5 + vue3 + ts`çš„ä¸€ä¸ªæœ¬åœ°é¡¹ç›®;\n\n1. ä½¿ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶[vite-plugin-pwa](https://vite-pwa-org.netlify.app/), å…·ä½“çš„åšæ³•å¯ä»¥å‚è€ƒå®˜ç½‘\n2. æ‰‹åŠ¨æ˜¯å®ç°`manifest.json` + å¾ªç¯`web worker`å®ç°, å°±æ˜¯æ‰“åŒ…çš„æ—¶å€™åˆ›å»ºä¸€ä¸ª`manifest.json` ç„¶åå°†æ‰“åŒ…æ—¶é—´`Date.now()`å†™å…¥æ–‡ä»¶, ä¹‹ååœ¨æ ¹æ®é‡Œé¢çš„æ—¶é—´å»åšå¯¹åº”çš„é€»è¾‘\n3. åœ¨`vite.config.ts`ä¸­ä½¿ç”¨`build`, å¼€å¯`manifest`,è¿™æ ·æ¯æ¬¡æ‰“åŒ…éƒ½ä¼šåœ¨`dist/.vite`ä¸­ç”Ÿæˆä¸€ä¸ªæ–°çš„æ–‡ä»¶, è¿™ä¸ªæ–‡ä»¶å°±æ˜¯`manifest.json`\n\nè¿™é‡Œæˆ‘ä»¬å…·ä½“è®²`vite.config.js` + `web worker`å®ç°æ€è·¯:\n\n### é…ç½® vite.config.ts\n\n`vite.config.ts`å¦‚ä½•é…ç½®å‘¢? [vite åç«¯é›†æˆ](https://cn.vitejs.dev/guide/backend-integration)\n\n```ts\nexport default defineConfig(() => {\n\treturn {\n\t\tplugins: [vue(), eslintPlugin()],\n\t\t// æ·»åŠ ä¸‹é¢çš„build\n\t\tbuild: {\n\t\t\tmanifest: true,\n\t\t\tcssCodeSplit: false,\n\t\t},\n\t};\n});\n```\n\nç„¶åä½ å¯ä»¥é€šè¿‡`npm run build`å‘½ä»¤æ‰“åŒ…é¡¹ç›®,ç­‰å¾…é¡¹ç›®æ‰“åŒ…æˆåŠŸä¹‹å, é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆ`dist`ç›®å½•, å¤§æ¦‚çš„ç»“æ„ä¸º:\n\n```shell\n.vite\nassets\nindex.html\nvite.svg\n```\n\n`.vite`ç›®å½•å°±æ˜¯æˆ‘ä»¬æ‰“åŒ…çš„`manifest.json`æ–‡ä»¶, è¿™ä¸ªæ–‡ä»¶å°±æ˜¯æˆ‘ä»¬åé¢éœ€è¦è¯»å–çš„; `manifest.json`ä¸­`file`å°±æ˜¯`index.html`ä¸­å¼•å…¥`js,css`çš„åœ°å€;\n`index.html`ä¸­å¼•å…¥`js,css`çš„åœ°å€ä¸º:\n\n```html\n<!-- å¤§æ¦‚è¿™æ ·çš„æ ¼å¼ -->\n<script type=\"module\" src=\"/assets/index.c0d0d0e9.js\"></script>\n<link rel=\"modulepreload\" href=\"/assets/index.c0d0d0e9.css\" />\n```\n\nè¿™é‡Œ`manifest.json`æ–‡ä»¶å¯ä»¥ç†è§£ä¸ºç¦»çº¿ç¼“å­˜æ–‡ä»¶, å°±æ˜¯å§æ‰€æœ‰çš„èµ„æºéƒ½ç¼“å­˜èµ·æ¥;\n\n### å®ç°æ€è·¯ä¸€\n\næƒ³è¦åšåˆ°ç½‘ç«™æ›´æ–°, è¿™é‡Œè¦è·å–`manifest.json`æ–‡ä»¶,ä¸è¿‡ç°åœ¨æ–‡ä»¶æ˜¯åœ¨`dist/.vite`ä¸­, æƒ³è¦ç›´æ¥è¯»å–é‚£å°±è¦ä¿®æ”¹æ‰“åŒ…å‘½ä»¤\n\n```json\n\"scripts\": {\n  \"build\": \"vite build && node src/copyManifest.js\",\n}\n```\n\n`copyManifest.js`çš„æ–‡ä»¶ä¸ºå°±æ˜¯å¤åˆ¶ä¸€ä»½`manifest.json`åˆ°`dist`ç›®å½•ä¸‹\n\n```js\nimport { copyFileSync } from \"fs\";\ntry {\n\tcopyFileSync(\"dist/.vite/manifest.json\", \"dist/manifest.json\");\n} catch (e) {\n\tconsole.log(e);\n\tprocess.exit(1);\n}\n```\n\nç„¶ååœ¨`main.js`ä¸­å¼•å…¥ä¸€ä¸ªæ–‡ä»¶,è¿™ä¸ªæ–‡ä»¶å°±æ˜¯ä½ æ›´æ–°ç½‘ç«™çš„æ ¸å¿ƒé€»è¾‘äº†;\n\nå¤§è‡´çš„æ€è·¯å°±æ˜¯:\n\n1. `fetch('/manifest.json')` æ‹¿åˆ°æœ€æ–°çš„æ•°æ®å’Œä¸Šä¸€æ¬¡çš„æ•°æ®å»åšæ¯”è¾ƒæˆ–è€…ç»“åˆ`å‘å¸ƒè®¢é˜…æ¨¡å¼`\n2. å¾ªç¯è·å–, å› ä¸ºç½‘ç«™ä¸å®šæ—¶ä¼šæ›´æ–°,æ‰€ä»¥éœ€è¦å¾ªç¯; å‘ç°æ–‡ä»¶åœ°å€ä¸ä¸€è‡´ç›´æ¥å¼¹æ¡†æç¤º;\n3. `manifest.json`ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»º, é‚£å°±éœ€è¦å§`vite.config.ts`ä¸­`manifest`å…³é—­, æ‰“åŒ…çš„æ—¶å€™åˆ›å»ºä¸€ä¸ªæ–‡ä»¶`manifest.json`å†…å®¹ä¸º`{time: 'xxxx', content: 'æ›´æ–°å†…å®¹'}`; åŒæ ·çš„å¾ªç¯æ“ä½œå»å¯¹æ¯”æ—¶é—´;\n\nä¸è¿‡è¿™æ ·æ˜¯æ¯”è¾ƒéº»çƒ¦çš„, æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨å¦å¤–ä¸€ç§`web worker`æ¥å®ç°;\n\n### å®ç°æ€è·¯äºŒ <Badge text=\"æ¨èä½¿ç”¨\" type=\"error\"/>\n\né¦–å…ˆéœ€è¦åˆ›å»ºä¿©ä¸ªæ–‡ä»¶`checkUpdate.ts`å’Œ`checkUpdate.worker.ts`, ä¸€ä¸ªæ˜¯å…¥å£æ–‡ä»¶, å¦ä¸€ä¸ªæ˜¯`web worker`å¾ªç¯æ£€æµ‹æœºåˆ¶;\n\n```ts\n// checkUpdate.ts:\nimport { ElMessageBox } from \"element-plus\";\n// ./checkUpdate.worker?workerè¿™æ˜¯viteçš„å†™æ³•. å¦‚æœä½¿ç”¨webpack æ˜¯éœ€è¦ä¸‹è½½å¯¹åº”çš„æ’ä»¶è¯†åˆ«çš„\nimport CheckWorker from \"./checkUpdate.worker?worker\";\n\n// åˆ¤æ–­æ˜¯å¦æ˜¯å¼€å‘ç¯å¢ƒ, å¦‚æœæ˜¯å¼€å‘ç¯å¢ƒå°±ä¸éœ€è¦æ£€æµ‹æ›´æ–°\nif (import.meta.env.MODE !== \"development\") {\n\tconst worker = new CheckWorker();\n\n\t// æ›´æ–°å¼¹æ¡†\n\tasync function judgeUpdate(lastEtag: string) {\n\t\tElMessageBox.confirm(\"æ£€æµ‹åˆ°ç½‘ç«™æœ‰æ–°å†…å®¹, æ˜¯å¦éœ€è¦æ›´æ–°?\", \"æ›´æ–°æç¤º\", {\n\t\t\tconfirmButtonText: \"ç«‹å³æ›´æ–°\",\n\t\t\tcancelButtonText: \"10sä¹‹åå†é€šçŸ¥æˆ‘\",\n\t\t\ttype: \"warning\",\n\t\t})\n\t\t\t.then(async () => {\n\t\t\t\t// æ›´æ–°æ“ä½œ\n\t\t\t\tworker.postMessage({\n\t\t\t\t\ttype: \"close\",\n\t\t\t\t\ttip: \"å…³é—­\",\n\t\t\t\t\tlastEtag,\n\t\t\t\t});\n\t\t\t\tlocation.reload();\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t// ç¨åæ›´æ–°æ“ä½œ\n\t\t\t\t// å‘ŠçŸ¥å­çº¿ç¨‹ç¨åæ›´æ–°\n\t\t\t\tworker.postMessage({\n\t\t\t\t\ttype: \"recheck\",\n\t\t\t\t\ttip: \"10sä¹‹åå†é€šçŸ¥æˆ‘\",\n\t\t\t\t\tlastEtag,\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\t// é¦–æ¬¡è¿›å…¥é¡µé¢æ£€æµ‹æ˜¯å¦éœ€è¦æ›´æ–°\n\tworker.postMessage({\n\t\ttype: \"check\",\n\t\ttip: \"æ£€æµ‹æ˜¯å¦æ›´æ–°\",\n\t});\n\n\t// æ¥æ”¶åˆ°workeræ›´æ–°çš„æ¶ˆæ¯, é‚£å°±è¿›è¡Œå¼¹æ¡†æç¤º\n\tworker.onmessage = ({ data }) => {\n\t\t// ä¸»çº¿ç¨‹æ¥æ”¶åˆ°è¦æ›´æ–°çš„é€šçŸ¥,é‚£å°±å¼¹æ¡†æç¤º\n\t\tif (data.type === \"hasUpdate\") {\n\t\t\tjudgeUpdate(data.lastEtag);\n\t\t}\n\t};\n}\n```\n\n```ts\n// checkUpdate.worker.ts:\nlet lastEtag: string | null | undefined = undefined;\nlet hasUpdate = false;\n\nlet intervalId: number | null | undefined = null;\nasync function checkUpdate() {\n\t// è¿™é‡Œå¯ä»¥è¯»å–`manifest.json`, æˆ‘åœ¨è¿™é‡Œç›´æ¥è¯»å–ç½‘ç«™çš„é¡µé¢\n\tconst res = await fetch(`${self.location.protocol}//${self.location.host}`, {\n\t\tmethod: \"HEAD\",\n\t\tcache: \"no-cache\",\n\t});\n\n\t// è¿™ä¸€è¡Œå°±æ˜¯å¦‚ä½•åˆ¤æ–­æ˜¯å¦æœ‰æ›´æ–°\n\tconst etag = res.headers.get(\"etag\") || res.headers.get(\"last-modified\");\n\thasUpdate = lastEtag !== undefined && etag !== lastEtag;\n\n\tif (hasUpdate) {\n\t\t// å‘ä¸»çº¿ç¨‹å‘é€æ¶ˆæ¯, å‘Šè¯‰ä»–ç½‘ç«™éœ€è¦æ›´æ–°äº†;\n\t\tself.postMessage({\n\t\t\ttype: \"hasUpdate\",\n\t\t\ttip: \"éœ€è¦æ›´æ–°\",\n\t\t\tlastEtag,\n\t\t});\n\t}\n\tlastEtag = etag;\n}\n\n// ç›‘å¬workerå‘é€çš„æ¶ˆæ¯\nself.addEventListener(\"message\", ({ data }) => {\n\t// æ£€æµ‹æ›´æ–°\n\tif (data.type === \"check\") {\n\t\tcheckUpdate();\n\t\tintervalId && clearInterval(intervalId);\n\t\tintervalId = setInterval(checkUpdate, 10 * 1000);\n\t} else if (data.type === \"recheck\") {\n\t\t// ç¨åé€šçŸ¥\n\t\thasUpdate = false;\n\t\tlastEtag = data.lastEtag;\n\t\tintervalId && clearInterval(intervalId);\n\t\tintervalId = setInterval(checkUpdate, 10 * 1000);\n\t} else if (data.type === \"close\") {\n\t\t// å…³é—­\n\t\tintervalId && clearInterval(intervalId);\n\t\tclose();\n\t}\n});\n```\n\n![æµç¨‹](https://wangxiaoze-view.github.io/picx-images-hosting/images/update-2024-04-15-0952.png)\n\nç„¶ååœ¨`main.ts`ä¸­å¼•å…¥`import './checkUpdate'`; åŸºæœ¬ä¸Šå°±å¯ä»¥äº†;\n\nç„¶åé‡æ–°æ‰“åŒ…, è®²æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶æ”¾åœ¨æœ¬åœ°æœåŠ¡å™¨ä¸Š;\n\nç„¶åæ‰“å¼€é¡µé¢: ç­‰å¾…æ—¶é—´å°±ä¼šæœ‰æç¤ºäº†:\n\n## çŸ¥è¯†è¡¥å……\n\n::: tip\nä½¿ç”¨ Web Worker æ¥å®ç°ç½‘ç«™æ›´æ–°ï¼Œå°¤å…¶æ˜¯å¤„ç†ä¸é¡µé¢æ¸²æŸ“æ— å…³ä½†å¯èƒ½è€—æ—¶çš„æ“ä½œï¼Œå¦‚æ•°æ®è§£æã€å¤æ‚è®¡ç®—ã€å¤§æ–‡ä»¶å¤„ç†ç­‰ï¼Œå¯ä»¥å¸¦æ¥ä»¥ä¸‹å¥½å¤„ï¼š\n:::\n\n### å¥½å¤„\n\n1. é˜²æ­¢ä¸»çº¿ç¨‹é˜»å¡ï¼š\n   - Web Worker åœ¨å•ç‹¬çš„åå°çº¿ç¨‹ä¸­è¿è¡Œï¼Œä¸ UI æ¸²æŸ“çº¿ç¨‹äº’ä¸å¹²æ‰°ã€‚è¿™æ„å‘³ç€å³ä½¿åœ¨å¤„ç†å¤æ‚çš„æ›´æ–°é€»è¾‘æ—¶ï¼Œç”¨æˆ·ä»èƒ½æµç•…åœ°ä¸é¡µé¢äº¤äº’ï¼Œé¿å…äº†å› é•¿æ—¶é—´è®¡ç®—å¯¼è‡´çš„é¡µé¢å†»ç»“æˆ–å¡é¡¿ç°è±¡ï¼Œæ˜¾è‘—æå‡äº†ç”¨æˆ·ä½“éªŒã€‚\n2. æå‡å“åº”é€Ÿåº¦:\n   - å¯¹äºæ¶‰åŠå¤§é‡æ•°æ®å¤„ç†æˆ–è®¡ç®—å¯†é›†å‹çš„æ›´æ–°ä»»åŠ¡ï¼ŒWeb Worker èƒ½å¤Ÿå¹¶è¡Œå¤„ç†è¿™äº›å·¥ä½œï¼Œä½¿å¾—æ›´æ–°è¿‡ç¨‹æ›´å¿«å®Œæˆï¼Œä½¿å¾—ç”¨æˆ·èƒ½æ›´æ—©çœ‹åˆ°æ›´æ–°åçš„ç»“æœã€‚\n3. åˆ†ç¦»ä»»åŠ¡ï¼Œä¼˜åŒ–ä»£ç ç»“æ„ï¼š\n   - ä½¿ç”¨ Web Worker å¯ä»¥å°†å¤æ‚çš„æ›´æ–°é€»è¾‘å°è£…åˆ°ç‹¬ç«‹çš„è„šæœ¬ä¸­ï¼Œä¸ä¸»çº¿ç¨‹çš„ UI é€»è¾‘æ¸…æ™°åˆ†ç¦»ã€‚è¿™æœ‰åŠ©äºä»£ç ç»„ç»‡ï¼Œæé«˜å¯ç»´æŠ¤æ€§ï¼Œå¹¶å…è®¸å¼€å‘è€…ä¸“æ³¨äºå„è‡ªçº¿ç¨‹çš„ä»»åŠ¡ï¼Œéµå¾ªâ€œå…³æ³¨ç‚¹åˆ†ç¦»â€åŸåˆ™\n4. å¼‚æ­¥å¤„ç†ï¼š\n   - Web Worker é€šè¿‡æ¶ˆæ¯ä¼ é€’æœºåˆ¶`ï¼ˆpostMessage() å’Œ onmessageï¼‰`ä¸ä¸»çº¿ç¨‹é€šä¿¡ï¼Œå®ç°äº†çœŸæ­£çš„å¼‚æ­¥æ“ä½œã€‚è¿™ä½¿å¾—æ›´æ–°ä»»åŠ¡å¯ä»¥åœ¨ä¸å½±å“ä¸»çº¿ç¨‹çš„æƒ…å†µä¸‹å¼‚æ­¥è¿›è¡Œï¼Œç¬¦åˆç°ä»£ Web åº”ç”¨çš„éé˜»å¡ã€äº‹ä»¶é©±åŠ¨ç¼–ç¨‹æ¨¡å¼ã€‚\n5. èµ„æºåŠ è½½ä¸é¢„å¤„ç†ï¼š\n   - å¦‚æœç½‘ç«™æ›´æ–°æ¶‰åŠåˆ°èµ„æºçš„åŠ è½½æˆ–é¢„å¤„ç†ï¼ˆå¦‚å‹ç¼©ã€è§£å¯†ç­‰ï¼‰ï¼ŒWeb Worker å¯ä»¥åœ¨åå°çº¿ç¨‹æå‰å®Œæˆè¿™äº›å·¥ä½œï¼Œå¾…å‡†å¤‡å¥½åå†é€šçŸ¥ä¸»çº¿ç¨‹ï¼Œé¿å…äº†èµ„æºåŠ è½½å¯¹ä¸»çº¿ç¨‹çš„ç›´æ¥å‹åŠ›ã€‚\n\n### å¼Šç«¯\n\n1. å…¼å®¹æ€§é—®é¢˜ï¼š\n\n   - è™½ç„¶ Web Worker æ˜¯ HTML5 æ ‡å‡†çš„ä¸€éƒ¨åˆ†ï¼Œä½†åœ¨è¾ƒè€çš„æµè§ˆå™¨æˆ–æŸäº›éæ ‡å‡†ç¯å¢ƒä¸­å¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ã€‚å¼€å‘è€…éœ€è¦è¿›è¡Œå…¼å®¹æ€§æ£€æµ‹å’Œé™çº§å¤„ç†ï¼Œæˆ–è€…ä¸ºä¸æ”¯æŒ Web Worker çš„ç¯å¢ƒæä¾›å¤‡ç”¨æ–¹æ¡ˆã€‚\n\n2. é¢å¤–çš„å†…å­˜æ¶ˆè€—ï¼š\n   - å¯åŠ¨ Web Worker æ„å‘³ç€åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œä¼šå¢åŠ æµè§ˆå™¨çš„å†…å­˜å¼€é”€ã€‚å¯¹äºèµ„æºå—é™çš„è®¾å¤‡ï¼ˆå¦‚ä½ç«¯ç§»åŠ¨è®¾å¤‡ï¼‰ï¼Œè¿‡å¤šæˆ–ä¸å½“ä½¿ç”¨çš„ Web Worker å¯èƒ½å¯¼è‡´å†…å­˜æº¢å‡ºæˆ–å…¶ä»–æ€§èƒ½é—®é¢˜ã€‚\n3. é€šä¿¡æˆæœ¬ï¼š\n   - ä¸»çº¿ç¨‹ä¸ Web Worker ä¹‹é—´çš„é€šä¿¡éœ€é€šè¿‡åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ•°æ®ï¼Œè¿™ä¼šå¸¦æ¥ä¸€å®šçš„æ€§èƒ½å¼€é”€ã€‚å¦‚æœæ›´æ–°è¿‡ç¨‹ä¸­é¢‘ç¹è¿›è¡Œå¤§é‡æ•°æ®äº¤æ¢ï¼Œå¯èƒ½ä¼šæŠµæ¶ˆéƒ¨åˆ†å¤šçº¿ç¨‹å¸¦æ¥çš„ä¼˜åŠ¿ã€‚\n4. é™åˆ¶è®¿é—®æŸäº›å¯¹è±¡ä¸ APIï¼š\n   - Web Worker ç¯å¢ƒä¸­æ— æ³•ç›´æ¥è®¿é—®`windowã€documentç­‰ä¸DOM`ç›¸å…³çš„å…¨å±€å¯¹è±¡ï¼Œä¹Ÿæ— æ³•ç›´æ¥æ“ä½œ DOMã€‚å¯¹äºä¾èµ–è¿™äº›åŠŸèƒ½çš„æ›´æ–°é€»è¾‘ï¼Œéœ€è¦é€šè¿‡æ¶ˆæ¯ä¼ é€’å°†ç›¸å…³æ“ä½œå§”æ‰˜ç»™ä¸»çº¿ç¨‹æ‰§è¡Œã€‚\n5. è°ƒè¯•å¤æ‚æ€§ï¼š\n   - ç”±äº Web Worker è¿è¡Œåœ¨ç‹¬ç«‹çº¿ç¨‹ä¸­ï¼Œè°ƒè¯•èµ·æ¥å¯èƒ½æ¯”ä¸»çº¿ç¨‹ä»£ç æ›´ä¸ºå¤æ‚ã€‚å¼€å‘è€…éœ€è¦ä½¿ç”¨ä¸“é—¨çš„å·¥å…·æˆ–æŠ€å·§æ¥ç›‘æ§å’Œè°ƒè¯• Worker ä¸­çš„ä»£ç ã€‚\n\n**æ€»ç»“æ¥è¯´ï¼Œä½¿ç”¨ Web Worker å®ç°ç½‘ç«™æ›´æ–°æœ‰åˆ©äºæå‡ç”¨æˆ·ä½“éªŒã€ä¼˜åŒ–æ€§èƒ½å’Œä»£ç ç»“æ„ï¼Œä½†åŒæ—¶ä¹Ÿéœ€è¦æ³¨æ„å…¶å¯èƒ½å¸¦æ¥çš„å…¼å®¹æ€§é—®é¢˜ã€é¢å¤–èµ„æºæ¶ˆè€—ã€é€šä¿¡æˆæœ¬ã€API è®¿é—®é™åˆ¶åŠè°ƒè¯•å¤æ‚æ€§ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œåº”æ ¹æ®å…·ä½“åœºæ™¯æƒè¡¡åˆ©å¼Šï¼Œåˆç†åˆ©ç”¨ Web Worker ä»¥å®ç°é«˜æ•ˆã€æµç•…çš„ç½‘ç«™æ›´æ–°æµç¨‹ã€‚**\n\n## è§†é¢‘æ•ˆæœé¢„è§ˆ\n\n<video controls style=\"width:100%;height:500px;object-fit:fill;\">\n  <source src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/web_update.mp4\" type=\"video/mp4\" />\n</video>\n","slug":"æ€»ç»“/æŠ€æœ¯è°ƒç ”/ç½‘ç«™æ›´æ–°ä¸€","published":1,"updated":"2025-03-13T10:16:17.510Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0it000vfg9m18g09gif","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>å¯¹äºå‰ç«¯éƒ¨ç½²å¦‚ä½•è¿›è¡Œé¡¹ç›®éƒ¨ç½²è¿™é‡Œå°±ä¸è¯¦ç»†ä»‹ç»äº†ï¼Œè¿™é‡Œä¸»è¦ä»‹ç»å¦‚ä½•è¿›è¡Œå‰ç«¯éƒ¨ç½²é€šçŸ¥ç”¨æˆ·æ›´æ–°ç½‘ç«™ã€‚</p>\n<p>ä¹‹å‰å¼€å‘çš„ç½‘ç«™, æ¯æ¬¡éƒ½æ˜¯è®©ç”¨æˆ·æ‰‹åŠ¨è¿›è¡Œåˆ·æ–°ç½‘é¡µæ‰“åˆ°ç½‘ç«™æ›´æ–°çš„ç›®çš„,ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªå¼Šç«¯,å°±æ˜¯ç”¨æˆ·æ¯æ¬¡éƒ½éœ€è¦æ‰‹åŠ¨,å¯¹æˆ‘æ¥è®²,æˆ‘æ¯”è¾ƒæ‡’,èƒ½è‡ªåŠ¨çš„ç»ä¸æ‰‹åŠ¨åˆ·æ–°;</p>\n<h2 id=\"ç®€å•ä»‹ç»\"><a href=\"#ç®€å•ä»‹ç»\" class=\"headerlink\" title=\"ç®€å•ä»‹ç»\"></a>ç®€å•ä»‹ç»</h2><h3 id=\"åœºæ™¯-1\"><a href=\"#åœºæ™¯-1\" class=\"headerlink\" title=\"åœºæ™¯ 1\"></a>åœºæ™¯ 1</h3><p>å¼€å‘å®Œä¸€ä¸ªåŠŸèƒ½, æäº¤åˆ° github ä¸Š, ç„¶åé€šè¿‡<code>jenkins</code>å»éƒ¨ç½²å‘å¸ƒ, ä¹‹åä½ ä¼šå‘ç°é¡µé¢è¿˜æ˜¯ä¹‹å‰çš„é¡µé¢,å› ä¸ºä½ æ²¡æœ‰åˆ·æ–°ç½‘ç«™,æ‰€ä»¥éœ€è¦æ‰‹åŠ¨åˆ·æ–°ä¸€ä¸‹ç½‘ç«™ã€‚å¯¹äºç”¨æˆ·æ¥è®²èƒ½ä¸èƒ½è‡ªåŠ¨æ›´æ–°å‘¢?</p>\n<h3 id=\"åœºæ™¯-2\"><a href=\"#åœºæ™¯-2\" class=\"headerlink\" title=\"åœºæ™¯ 2\"></a>åœºæ™¯ 2</h3><p>ç”¨æˆ·åœ¨å¡«å†™è¡¨å•çš„æ—¶å€™,ä½ é¡¹ç›®ç½‘ç«™æ›´æ–°äº†,éœ€è¦ä¸€ä¸ªæç¤º,å¯ä»¥ç«‹å³æ›´æ–°ä¹Ÿå¯ä»¥å¿½ç•¥ç¨åæ›´æ–°, è¿™æ ·å°±å¯ä»¥å‘ŠçŸ¥ç”¨æˆ·ç½‘ç«™æ›´æ–°äº†é‚£äº›åŠŸèƒ½? æ›´æ–°çš„å†…å®¹ä¼šä¸ä¼šå½±å“ä½ æ­£åœ¨æ“ä½œçš„åŠŸèƒ½?</p>\n<h3 id=\"åœºæ™¯-3\"><a href=\"#åœºæ™¯-3\" class=\"headerlink\" title=\"åœºæ™¯ 3\"></a>åœºæ™¯ 3</h3><p>å¦‚æœæ²¡æœ‰æç¤ºæ¡†,ç›´æ¥åˆ·æ–°é¡µé¢å¯¼è‡´ç”¨æˆ·æ­£åœ¨æ“ä½œçš„æ•°æ®ä¸¢å¤±, è¿™æ ·çš„æŸå¤±è¿˜æ˜¯æ¯”è¾ƒå¤§çš„;</p>\n<p>äºæ˜¯æˆ‘ä»Šå¤©ç ”ç©¶äº†ä¸€ä¸‹è¿™ä¸ªç½‘ç«™æ›´æ–°çš„æ–¹æ¡ˆ, ç„¶åé€šè¿‡æœ¬åœ°<code>nginx</code>æ¨¡æ‹ŸæœåŠ¡å™¨å»å°è¯•äº†ä¸€ä¸‹;</p>\n<h2 id=\"å®ç°çš„æ–¹æ¡ˆ\"><a href=\"#å®ç°çš„æ–¹æ¡ˆ\" class=\"headerlink\" title=\"å®ç°çš„æ–¹æ¡ˆ\"></a>å®ç°çš„æ–¹æ¡ˆ</h2><p>æ–‡ç« ä½¿ç”¨çš„æ˜¯<code>vite5 + vue3 + ts</code>çš„ä¸€ä¸ªæœ¬åœ°é¡¹ç›®;</p>\n<ol>\n<li>ä½¿ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶<a href=\"https://vite-pwa-org.netlify.app/\">vite-plugin-pwa</a>, å…·ä½“çš„åšæ³•å¯ä»¥å‚è€ƒå®˜ç½‘</li>\n<li>æ‰‹åŠ¨æ˜¯å®ç°<code>manifest.json</code> + å¾ªç¯<code>web worker</code>å®ç°, å°±æ˜¯æ‰“åŒ…çš„æ—¶å€™åˆ›å»ºä¸€ä¸ª<code>manifest.json</code> ç„¶åå°†æ‰“åŒ…æ—¶é—´<code>Date.now()</code>å†™å…¥æ–‡ä»¶, ä¹‹ååœ¨æ ¹æ®é‡Œé¢çš„æ—¶é—´å»åšå¯¹åº”çš„é€»è¾‘</li>\n<li>åœ¨<code>vite.config.ts</code>ä¸­ä½¿ç”¨<code>build</code>, å¼€å¯<code>manifest</code>,è¿™æ ·æ¯æ¬¡æ‰“åŒ…éƒ½ä¼šåœ¨<code>dist/.vite</code>ä¸­ç”Ÿæˆä¸€ä¸ªæ–°çš„æ–‡ä»¶, è¿™ä¸ªæ–‡ä»¶å°±æ˜¯<code>manifest.json</code></li>\n</ol>\n<p>è¿™é‡Œæˆ‘ä»¬å…·ä½“è®²<code>vite.config.js</code> + <code>web worker</code>å®ç°æ€è·¯:</p>\n<h3 id=\"é…ç½®-vite-config-ts\"><a href=\"#é…ç½®-vite-config-ts\" class=\"headerlink\" title=\"é…ç½® vite.config.ts\"></a>é…ç½® vite.config.ts</h3><p><code>vite.config.ts</code>å¦‚ä½•é…ç½®å‘¢? <a href=\"https://cn.vitejs.dev/guide/backend-integration\">vite åç«¯é›†æˆ</a></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">plugins</span>: [<span class=\"title function_\">vue</span>(), <span class=\"title function_\">eslintPlugin</span>()],</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ·»åŠ ä¸‹é¢çš„build</span></span><br><span class=\"line\">\t\t<span class=\"attr\">build</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">manifest</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">cssCodeSplit</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åä½ å¯ä»¥é€šè¿‡<code>npm run build</code>å‘½ä»¤æ‰“åŒ…é¡¹ç›®,ç­‰å¾…é¡¹ç›®æ‰“åŒ…æˆåŠŸä¹‹å, é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆ<code>dist</code>ç›®å½•, å¤§æ¦‚çš„ç»“æ„ä¸º:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.vite</span><br><span class=\"line\">assets</span><br><span class=\"line\">index.html</span><br><span class=\"line\">vite.svg</span><br></pre></td></tr></table></figure>\n\n<p><code>.vite</code>ç›®å½•å°±æ˜¯æˆ‘ä»¬æ‰“åŒ…çš„<code>manifest.json</code>æ–‡ä»¶, è¿™ä¸ªæ–‡ä»¶å°±æ˜¯æˆ‘ä»¬åé¢éœ€è¦è¯»å–çš„; <code>manifest.json</code>ä¸­<code>file</code>å°±æ˜¯<code>index.html</code>ä¸­å¼•å…¥<code>js,css</code>çš„åœ°å€;<br><code>index.html</code>ä¸­å¼•å…¥<code>js,css</code>çš„åœ°å€ä¸º:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- å¤§æ¦‚è¿™æ ·çš„æ ¼å¼ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;module&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/assets/index.c0d0d0e9.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;modulepreload&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;/assets/index.c0d0d0e9.css&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œ<code>manifest.json</code>æ–‡ä»¶å¯ä»¥ç†è§£ä¸ºç¦»çº¿ç¼“å­˜æ–‡ä»¶, å°±æ˜¯å§æ‰€æœ‰çš„èµ„æºéƒ½ç¼“å­˜èµ·æ¥;</p>\n<h3 id=\"å®ç°æ€è·¯ä¸€\"><a href=\"#å®ç°æ€è·¯ä¸€\" class=\"headerlink\" title=\"å®ç°æ€è·¯ä¸€\"></a>å®ç°æ€è·¯ä¸€</h3><p>æƒ³è¦åšåˆ°ç½‘ç«™æ›´æ–°, è¿™é‡Œè¦è·å–<code>manifest.json</code>æ–‡ä»¶,ä¸è¿‡ç°åœ¨æ–‡ä»¶æ˜¯åœ¨<code>dist/.vite</code>ä¸­, æƒ³è¦ç›´æ¥è¯»å–é‚£å°±è¦ä¿®æ”¹æ‰“åŒ…å‘½ä»¤</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;build&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vite build &amp;&amp; node src/copyManifest.js&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><code>copyManifest.js</code>çš„æ–‡ä»¶ä¸ºå°±æ˜¯å¤åˆ¶ä¸€ä»½<code>manifest.json</code>åˆ°<code>dist</code>ç›®å½•ä¸‹</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; copyFileSync &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;fs&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">copyFileSync</span>(<span class=\"string\">&quot;dist/.vite/manifest.json&quot;</span>, <span class=\"string\">&quot;dist/manifest.json&quot;</span>);</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(e);</span><br><span class=\"line\">\tprocess.<span class=\"title function_\">exit</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶ååœ¨<code>main.js</code>ä¸­å¼•å…¥ä¸€ä¸ªæ–‡ä»¶,è¿™ä¸ªæ–‡ä»¶å°±æ˜¯ä½ æ›´æ–°ç½‘ç«™çš„æ ¸å¿ƒé€»è¾‘äº†;</p>\n<p>å¤§è‡´çš„æ€è·¯å°±æ˜¯:</p>\n<ol>\n<li><code>fetch(&#39;/manifest.json&#39;)</code> æ‹¿åˆ°æœ€æ–°çš„æ•°æ®å’Œä¸Šä¸€æ¬¡çš„æ•°æ®å»åšæ¯”è¾ƒæˆ–è€…ç»“åˆ<code>å‘å¸ƒè®¢é˜…æ¨¡å¼</code></li>\n<li>å¾ªç¯è·å–, å› ä¸ºç½‘ç«™ä¸å®šæ—¶ä¼šæ›´æ–°,æ‰€ä»¥éœ€è¦å¾ªç¯; å‘ç°æ–‡ä»¶åœ°å€ä¸ä¸€è‡´ç›´æ¥å¼¹æ¡†æç¤º;</li>\n<li><code>manifest.json</code>ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»º, é‚£å°±éœ€è¦å§<code>vite.config.ts</code>ä¸­<code>manifest</code>å…³é—­, æ‰“åŒ…çš„æ—¶å€™åˆ›å»ºä¸€ä¸ªæ–‡ä»¶<code>manifest.json</code>å†…å®¹ä¸º<code>&#123;time: &#39;xxxx&#39;, content: &#39;æ›´æ–°å†…å®¹&#39;&#125;</code>; åŒæ ·çš„å¾ªç¯æ“ä½œå»å¯¹æ¯”æ—¶é—´;</li>\n</ol>\n<p>ä¸è¿‡è¿™æ ·æ˜¯æ¯”è¾ƒéº»çƒ¦çš„, æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨å¦å¤–ä¸€ç§<code>web worker</code>æ¥å®ç°;</p>\n<h3 id=\"å®ç°æ€è·¯äºŒ\"><a href=\"#å®ç°æ€è·¯äºŒ\" class=\"headerlink\" title=\"å®ç°æ€è·¯äºŒ \"></a>å®ç°æ€è·¯äºŒ <Badge text=\"æ¨èä½¿ç”¨\" type=\"error\"/></h3><p>é¦–å…ˆéœ€è¦åˆ›å»ºä¿©ä¸ªæ–‡ä»¶<code>checkUpdate.ts</code>å’Œ<code>checkUpdate.worker.ts</code>, ä¸€ä¸ªæ˜¯å…¥å£æ–‡ä»¶, å¦ä¸€ä¸ªæ˜¯<code>web worker</code>å¾ªç¯æ£€æµ‹æœºåˆ¶;</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// checkUpdate.ts:</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ElMessageBox</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;element-plus&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// ./checkUpdate.worker?workerè¿™æ˜¯viteçš„å†™æ³•. å¦‚æœä½¿ç”¨webpack æ˜¯éœ€è¦ä¸‹è½½å¯¹åº”çš„æ’ä»¶è¯†åˆ«çš„</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">CheckWorker</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;./checkUpdate.worker?worker&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆ¤æ–­æ˜¯å¦æ˜¯å¼€å‘ç¯å¢ƒ, å¦‚æœæ˜¯å¼€å‘ç¯å¢ƒå°±ä¸éœ€è¦æ£€æµ‹æ›´æ–°</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">import</span>.<span class=\"property\">meta</span>.<span class=\"property\">env</span>.<span class=\"property\">MODE</span> !== <span class=\"string\">&quot;development&quot;</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> worker = <span class=\"keyword\">new</span> <span class=\"title class_\">CheckWorker</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ›´æ–°å¼¹æ¡†</span></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">judgeUpdate</span>(<span class=\"params\"><span class=\"attr\">lastEtag</span>: <span class=\"built_in\">string</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"title class_\">ElMessageBox</span>.<span class=\"title function_\">confirm</span>(<span class=\"string\">&quot;æ£€æµ‹åˆ°ç½‘ç«™æœ‰æ–°å†…å®¹, æ˜¯å¦éœ€è¦æ›´æ–°?&quot;</span>, <span class=\"string\">&quot;æ›´æ–°æç¤º&quot;</span>, &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">confirmButtonText</span>: <span class=\"string\">&quot;ç«‹å³æ›´æ–°&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">cancelButtonText</span>: <span class=\"string\">&quot;10sä¹‹åå†é€šçŸ¥æˆ‘&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;warning&quot;</span>,</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">then</span>(<span class=\"title function_\">async</span> () =&gt; &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// æ›´æ–°æ“ä½œ</span></span><br><span class=\"line\">\t\t\t\tworker.<span class=\"title function_\">postMessage</span>(&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;close&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">tip</span>: <span class=\"string\">&quot;å…³é—­&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\tlastEtag,</span><br><span class=\"line\">\t\t\t\t&#125;);</span><br><span class=\"line\">\t\t\t\tlocation.<span class=\"title function_\">reload</span>();</span><br><span class=\"line\">\t\t\t&#125;)</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">catch</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// ç¨åæ›´æ–°æ“ä½œ</span></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// å‘ŠçŸ¥å­çº¿ç¨‹ç¨åæ›´æ–°</span></span><br><span class=\"line\">\t\t\t\tworker.<span class=\"title function_\">postMessage</span>(&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;recheck&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">tip</span>: <span class=\"string\">&quot;10sä¹‹åå†é€šçŸ¥æˆ‘&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\tlastEtag,</span><br><span class=\"line\">\t\t\t\t&#125;);</span><br><span class=\"line\">\t\t\t&#125;);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// é¦–æ¬¡è¿›å…¥é¡µé¢æ£€æµ‹æ˜¯å¦éœ€è¦æ›´æ–°</span></span><br><span class=\"line\">\tworker.<span class=\"title function_\">postMessage</span>(&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;check&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">tip</span>: <span class=\"string\">&quot;æ£€æµ‹æ˜¯å¦æ›´æ–°&quot;</span>,</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ¥æ”¶åˆ°workeræ›´æ–°çš„æ¶ˆæ¯, é‚£å°±è¿›è¡Œå¼¹æ¡†æç¤º</span></span><br><span class=\"line\">\tworker.<span class=\"property\">onmessage</span> = <span class=\"function\">(<span class=\"params\">&#123; data &#125;</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸»çº¿ç¨‹æ¥æ”¶åˆ°è¦æ›´æ–°çš„é€šçŸ¥,é‚£å°±å¼¹æ¡†æç¤º</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (data.<span class=\"property\">type</span> === <span class=\"string\">&quot;hasUpdate&quot;</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">judgeUpdate</span>(data.<span class=\"property\">lastEtag</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// checkUpdate.worker.ts:</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"attr\">lastEtag</span>: <span class=\"built_in\">string</span> | <span class=\"literal\">null</span> | <span class=\"literal\">undefined</span> = <span class=\"literal\">undefined</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> hasUpdate = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"attr\">intervalId</span>: <span class=\"built_in\">number</span> | <span class=\"literal\">null</span> | <span class=\"literal\">undefined</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">checkUpdate</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// è¿™é‡Œå¯ä»¥è¯»å–`manifest.json`, æˆ‘åœ¨è¿™é‡Œç›´æ¥è¯»å–ç½‘ç«™çš„é¡µé¢</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> res = <span class=\"keyword\">await</span> <span class=\"title function_\">fetch</span>(<span class=\"string\">`<span class=\"subst\">$&#123;self.location.protocol&#125;</span>//<span class=\"subst\">$&#123;self.location.host&#125;</span>`</span>, &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">method</span>: <span class=\"string\">&quot;HEAD&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">cache</span>: <span class=\"string\">&quot;no-cache&quot;</span>,</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¿™ä¸€è¡Œå°±æ˜¯å¦‚ä½•åˆ¤æ–­æ˜¯å¦æœ‰æ›´æ–°</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> etag = res.<span class=\"property\">headers</span>.<span class=\"title function_\">get</span>(<span class=\"string\">&quot;etag&quot;</span>) || res.<span class=\"property\">headers</span>.<span class=\"title function_\">get</span>(<span class=\"string\">&quot;last-modified&quot;</span>);</span><br><span class=\"line\">\thasUpdate = lastEtag !== <span class=\"literal\">undefined</span> &amp;&amp; etag !== lastEtag;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (hasUpdate) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å‘ä¸»çº¿ç¨‹å‘é€æ¶ˆæ¯, å‘Šè¯‰ä»–ç½‘ç«™éœ€è¦æ›´æ–°äº†;</span></span><br><span class=\"line\">\t\tself.<span class=\"title function_\">postMessage</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;hasUpdate&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">tip</span>: <span class=\"string\">&quot;éœ€è¦æ›´æ–°&quot;</span>,</span><br><span class=\"line\">\t\t\tlastEtag,</span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tlastEtag = etag;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç›‘å¬workerå‘é€çš„æ¶ˆæ¯</span></span><br><span class=\"line\">self.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;message&quot;</span>, <span class=\"function\">(<span class=\"params\">&#123; data &#125;</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æ£€æµ‹æ›´æ–°</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (data.<span class=\"property\">type</span> === <span class=\"string\">&quot;check&quot;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"title function_\">checkUpdate</span>();</span><br><span class=\"line\">\t\tintervalId &amp;&amp; <span class=\"built_in\">clearInterval</span>(intervalId);</span><br><span class=\"line\">\t\tintervalId = <span class=\"built_in\">setInterval</span>(checkUpdate, <span class=\"number\">10</span> * <span class=\"number\">1000</span>);</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (data.<span class=\"property\">type</span> === <span class=\"string\">&quot;recheck&quot;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ç¨åé€šçŸ¥</span></span><br><span class=\"line\">\t\thasUpdate = <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\tlastEtag = data.<span class=\"property\">lastEtag</span>;</span><br><span class=\"line\">\t\tintervalId &amp;&amp; <span class=\"built_in\">clearInterval</span>(intervalId);</span><br><span class=\"line\">\t\tintervalId = <span class=\"built_in\">setInterval</span>(checkUpdate, <span class=\"number\">10</span> * <span class=\"number\">1000</span>);</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (data.<span class=\"property\">type</span> === <span class=\"string\">&quot;close&quot;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å…³é—­</span></span><br><span class=\"line\">\t\tintervalId &amp;&amp; <span class=\"built_in\">clearInterval</span>(intervalId);</span><br><span class=\"line\">\t\t<span class=\"title function_\">close</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/update-2024-04-15-0952.png\" alt=\"æµç¨‹\"></p>\n<p>ç„¶ååœ¨<code>main.ts</code>ä¸­å¼•å…¥<code>import &#39;./checkUpdate&#39;</code>; åŸºæœ¬ä¸Šå°±å¯ä»¥äº†;</p>\n<p>ç„¶åé‡æ–°æ‰“åŒ…, è®²æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶æ”¾åœ¨æœ¬åœ°æœåŠ¡å™¨ä¸Š;</p>\n<p>ç„¶åæ‰“å¼€é¡µé¢: ç­‰å¾…æ—¶é—´å°±ä¼šæœ‰æç¤ºäº†:</p>\n<h2 id=\"çŸ¥è¯†è¡¥å……\"><a href=\"#çŸ¥è¯†è¡¥å……\" class=\"headerlink\" title=\"çŸ¥è¯†è¡¥å……\"></a>çŸ¥è¯†è¡¥å……</h2><p>::: tip<br>ä½¿ç”¨ Web Worker æ¥å®ç°ç½‘ç«™æ›´æ–°ï¼Œå°¤å…¶æ˜¯å¤„ç†ä¸é¡µé¢æ¸²æŸ“æ— å…³ä½†å¯èƒ½è€—æ—¶çš„æ“ä½œï¼Œå¦‚æ•°æ®è§£æã€å¤æ‚è®¡ç®—ã€å¤§æ–‡ä»¶å¤„ç†ç­‰ï¼Œå¯ä»¥å¸¦æ¥ä»¥ä¸‹å¥½å¤„ï¼š<br>:::</p>\n<h3 id=\"å¥½å¤„\"><a href=\"#å¥½å¤„\" class=\"headerlink\" title=\"å¥½å¤„\"></a>å¥½å¤„</h3><ol>\n<li>é˜²æ­¢ä¸»çº¿ç¨‹é˜»å¡ï¼š<ul>\n<li>Web Worker åœ¨å•ç‹¬çš„åå°çº¿ç¨‹ä¸­è¿è¡Œï¼Œä¸ UI æ¸²æŸ“çº¿ç¨‹äº’ä¸å¹²æ‰°ã€‚è¿™æ„å‘³ç€å³ä½¿åœ¨å¤„ç†å¤æ‚çš„æ›´æ–°é€»è¾‘æ—¶ï¼Œç”¨æˆ·ä»èƒ½æµç•…åœ°ä¸é¡µé¢äº¤äº’ï¼Œé¿å…äº†å› é•¿æ—¶é—´è®¡ç®—å¯¼è‡´çš„é¡µé¢å†»ç»“æˆ–å¡é¡¿ç°è±¡ï¼Œæ˜¾è‘—æå‡äº†ç”¨æˆ·ä½“éªŒã€‚</li>\n</ul>\n</li>\n<li>æå‡å“åº”é€Ÿåº¦:<ul>\n<li>å¯¹äºæ¶‰åŠå¤§é‡æ•°æ®å¤„ç†æˆ–è®¡ç®—å¯†é›†å‹çš„æ›´æ–°ä»»åŠ¡ï¼ŒWeb Worker èƒ½å¤Ÿå¹¶è¡Œå¤„ç†è¿™äº›å·¥ä½œï¼Œä½¿å¾—æ›´æ–°è¿‡ç¨‹æ›´å¿«å®Œæˆï¼Œä½¿å¾—ç”¨æˆ·èƒ½æ›´æ—©çœ‹åˆ°æ›´æ–°åçš„ç»“æœã€‚</li>\n</ul>\n</li>\n<li>åˆ†ç¦»ä»»åŠ¡ï¼Œä¼˜åŒ–ä»£ç ç»“æ„ï¼š<ul>\n<li>ä½¿ç”¨ Web Worker å¯ä»¥å°†å¤æ‚çš„æ›´æ–°é€»è¾‘å°è£…åˆ°ç‹¬ç«‹çš„è„šæœ¬ä¸­ï¼Œä¸ä¸»çº¿ç¨‹çš„ UI é€»è¾‘æ¸…æ™°åˆ†ç¦»ã€‚è¿™æœ‰åŠ©äºä»£ç ç»„ç»‡ï¼Œæé«˜å¯ç»´æŠ¤æ€§ï¼Œå¹¶å…è®¸å¼€å‘è€…ä¸“æ³¨äºå„è‡ªçº¿ç¨‹çš„ä»»åŠ¡ï¼Œéµå¾ªâ€œå…³æ³¨ç‚¹åˆ†ç¦»â€åŸåˆ™</li>\n</ul>\n</li>\n<li>å¼‚æ­¥å¤„ç†ï¼š<ul>\n<li>Web Worker é€šè¿‡æ¶ˆæ¯ä¼ é€’æœºåˆ¶<code>ï¼ˆpostMessage() å’Œ onmessageï¼‰</code>ä¸ä¸»çº¿ç¨‹é€šä¿¡ï¼Œå®ç°äº†çœŸæ­£çš„å¼‚æ­¥æ“ä½œã€‚è¿™ä½¿å¾—æ›´æ–°ä»»åŠ¡å¯ä»¥åœ¨ä¸å½±å“ä¸»çº¿ç¨‹çš„æƒ…å†µä¸‹å¼‚æ­¥è¿›è¡Œï¼Œç¬¦åˆç°ä»£ Web åº”ç”¨çš„éé˜»å¡ã€äº‹ä»¶é©±åŠ¨ç¼–ç¨‹æ¨¡å¼ã€‚</li>\n</ul>\n</li>\n<li>èµ„æºåŠ è½½ä¸é¢„å¤„ç†ï¼š<ul>\n<li>å¦‚æœç½‘ç«™æ›´æ–°æ¶‰åŠåˆ°èµ„æºçš„åŠ è½½æˆ–é¢„å¤„ç†ï¼ˆå¦‚å‹ç¼©ã€è§£å¯†ç­‰ï¼‰ï¼ŒWeb Worker å¯ä»¥åœ¨åå°çº¿ç¨‹æå‰å®Œæˆè¿™äº›å·¥ä½œï¼Œå¾…å‡†å¤‡å¥½åå†é€šçŸ¥ä¸»çº¿ç¨‹ï¼Œé¿å…äº†èµ„æºåŠ è½½å¯¹ä¸»çº¿ç¨‹çš„ç›´æ¥å‹åŠ›ã€‚</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"å¼Šç«¯\"><a href=\"#å¼Šç«¯\" class=\"headerlink\" title=\"å¼Šç«¯\"></a>å¼Šç«¯</h3><ol>\n<li><p>å…¼å®¹æ€§é—®é¢˜ï¼š</p>\n<ul>\n<li>è™½ç„¶ Web Worker æ˜¯ HTML5 æ ‡å‡†çš„ä¸€éƒ¨åˆ†ï¼Œä½†åœ¨è¾ƒè€çš„æµè§ˆå™¨æˆ–æŸäº›éæ ‡å‡†ç¯å¢ƒä¸­å¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ã€‚å¼€å‘è€…éœ€è¦è¿›è¡Œå…¼å®¹æ€§æ£€æµ‹å’Œé™çº§å¤„ç†ï¼Œæˆ–è€…ä¸ºä¸æ”¯æŒ Web Worker çš„ç¯å¢ƒæä¾›å¤‡ç”¨æ–¹æ¡ˆã€‚</li>\n</ul>\n</li>\n<li><p>é¢å¤–çš„å†…å­˜æ¶ˆè€—ï¼š</p>\n<ul>\n<li>å¯åŠ¨ Web Worker æ„å‘³ç€åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œä¼šå¢åŠ æµè§ˆå™¨çš„å†…å­˜å¼€é”€ã€‚å¯¹äºèµ„æºå—é™çš„è®¾å¤‡ï¼ˆå¦‚ä½ç«¯ç§»åŠ¨è®¾å¤‡ï¼‰ï¼Œè¿‡å¤šæˆ–ä¸å½“ä½¿ç”¨çš„ Web Worker å¯èƒ½å¯¼è‡´å†…å­˜æº¢å‡ºæˆ–å…¶ä»–æ€§èƒ½é—®é¢˜ã€‚</li>\n</ul>\n</li>\n<li><p>é€šä¿¡æˆæœ¬ï¼š</p>\n<ul>\n<li>ä¸»çº¿ç¨‹ä¸ Web Worker ä¹‹é—´çš„é€šä¿¡éœ€é€šè¿‡åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ•°æ®ï¼Œè¿™ä¼šå¸¦æ¥ä¸€å®šçš„æ€§èƒ½å¼€é”€ã€‚å¦‚æœæ›´æ–°è¿‡ç¨‹ä¸­é¢‘ç¹è¿›è¡Œå¤§é‡æ•°æ®äº¤æ¢ï¼Œå¯èƒ½ä¼šæŠµæ¶ˆéƒ¨åˆ†å¤šçº¿ç¨‹å¸¦æ¥çš„ä¼˜åŠ¿ã€‚</li>\n</ul>\n</li>\n<li><p>é™åˆ¶è®¿é—®æŸäº›å¯¹è±¡ä¸ APIï¼š</p>\n<ul>\n<li>Web Worker ç¯å¢ƒä¸­æ— æ³•ç›´æ¥è®¿é—®<code>windowã€documentç­‰ä¸DOM</code>ç›¸å…³çš„å…¨å±€å¯¹è±¡ï¼Œä¹Ÿæ— æ³•ç›´æ¥æ“ä½œ DOMã€‚å¯¹äºä¾èµ–è¿™äº›åŠŸèƒ½çš„æ›´æ–°é€»è¾‘ï¼Œéœ€è¦é€šè¿‡æ¶ˆæ¯ä¼ é€’å°†ç›¸å…³æ“ä½œå§”æ‰˜ç»™ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</li>\n</ul>\n</li>\n<li><p>è°ƒè¯•å¤æ‚æ€§ï¼š</p>\n<ul>\n<li>ç”±äº Web Worker è¿è¡Œåœ¨ç‹¬ç«‹çº¿ç¨‹ä¸­ï¼Œè°ƒè¯•èµ·æ¥å¯èƒ½æ¯”ä¸»çº¿ç¨‹ä»£ç æ›´ä¸ºå¤æ‚ã€‚å¼€å‘è€…éœ€è¦ä½¿ç”¨ä¸“é—¨çš„å·¥å…·æˆ–æŠ€å·§æ¥ç›‘æ§å’Œè°ƒè¯• Worker ä¸­çš„ä»£ç ã€‚</li>\n</ul>\n</li>\n</ol>\n<p><strong>æ€»ç»“æ¥è¯´ï¼Œä½¿ç”¨ Web Worker å®ç°ç½‘ç«™æ›´æ–°æœ‰åˆ©äºæå‡ç”¨æˆ·ä½“éªŒã€ä¼˜åŒ–æ€§èƒ½å’Œä»£ç ç»“æ„ï¼Œä½†åŒæ—¶ä¹Ÿéœ€è¦æ³¨æ„å…¶å¯èƒ½å¸¦æ¥çš„å…¼å®¹æ€§é—®é¢˜ã€é¢å¤–èµ„æºæ¶ˆè€—ã€é€šä¿¡æˆæœ¬ã€API è®¿é—®é™åˆ¶åŠè°ƒè¯•å¤æ‚æ€§ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œåº”æ ¹æ®å…·ä½“åœºæ™¯æƒè¡¡åˆ©å¼Šï¼Œåˆç†åˆ©ç”¨ Web Worker ä»¥å®ç°é«˜æ•ˆã€æµç•…çš„ç½‘ç«™æ›´æ–°æµç¨‹ã€‚</strong></p>\n<h2 id=\"è§†é¢‘æ•ˆæœé¢„è§ˆ\"><a href=\"#è§†é¢‘æ•ˆæœé¢„è§ˆ\" class=\"headerlink\" title=\"è§†é¢‘æ•ˆæœé¢„è§ˆ\"></a>è§†é¢‘æ•ˆæœé¢„è§ˆ</h2><video controls style=\"width:100%;height:500px;object-fit:fill;\">\n  <source src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/web_update.mp4\" type=\"video/mp4\" />\n</video>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>å¯¹äºå‰ç«¯éƒ¨ç½²å¦‚ä½•è¿›è¡Œé¡¹ç›®éƒ¨ç½²è¿™é‡Œå°±ä¸è¯¦ç»†ä»‹ç»äº†ï¼Œè¿™é‡Œä¸»è¦ä»‹ç»å¦‚ä½•è¿›è¡Œå‰ç«¯éƒ¨ç½²é€šçŸ¥ç”¨æˆ·æ›´æ–°ç½‘ç«™ã€‚</p>\n<p>ä¹‹å‰å¼€å‘çš„ç½‘ç«™, æ¯æ¬¡éƒ½æ˜¯è®©ç”¨æˆ·æ‰‹åŠ¨è¿›è¡Œåˆ·æ–°ç½‘é¡µæ‰“åˆ°ç½‘ç«™æ›´æ–°çš„ç›®çš„,ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªå¼Šç«¯,å°±æ˜¯ç”¨æˆ·æ¯æ¬¡éƒ½éœ€è¦æ‰‹åŠ¨,å¯¹æˆ‘æ¥è®²,æˆ‘æ¯”è¾ƒæ‡’,èƒ½è‡ªåŠ¨çš„ç»ä¸æ‰‹åŠ¨åˆ·æ–°;</p>\n<h2 id=\"ç®€å•ä»‹ç»\"><a href=\"#ç®€å•ä»‹ç»\" class=\"headerlink\" title=\"ç®€å•ä»‹ç»\"></a>ç®€å•ä»‹ç»</h2><h3 id=\"åœºæ™¯-1\"><a href=\"#åœºæ™¯-1\" class=\"headerlink\" title=\"åœºæ™¯ 1\"></a>åœºæ™¯ 1</h3><p>å¼€å‘å®Œä¸€ä¸ªåŠŸèƒ½, æäº¤åˆ° github ä¸Š, ç„¶åé€šè¿‡<code>jenkins</code>å»éƒ¨ç½²å‘å¸ƒ, ä¹‹åä½ ä¼šå‘ç°é¡µé¢è¿˜æ˜¯ä¹‹å‰çš„é¡µé¢,å› ä¸ºä½ æ²¡æœ‰åˆ·æ–°ç½‘ç«™,æ‰€ä»¥éœ€è¦æ‰‹åŠ¨åˆ·æ–°ä¸€ä¸‹ç½‘ç«™ã€‚å¯¹äºç”¨æˆ·æ¥è®²èƒ½ä¸èƒ½è‡ªåŠ¨æ›´æ–°å‘¢?</p>\n<h3 id=\"åœºæ™¯-2\"><a href=\"#åœºæ™¯-2\" class=\"headerlink\" title=\"åœºæ™¯ 2\"></a>åœºæ™¯ 2</h3><p>ç”¨æˆ·åœ¨å¡«å†™è¡¨å•çš„æ—¶å€™,ä½ é¡¹ç›®ç½‘ç«™æ›´æ–°äº†,éœ€è¦ä¸€ä¸ªæç¤º,å¯ä»¥ç«‹å³æ›´æ–°ä¹Ÿå¯ä»¥å¿½ç•¥ç¨åæ›´æ–°, è¿™æ ·å°±å¯ä»¥å‘ŠçŸ¥ç”¨æˆ·ç½‘ç«™æ›´æ–°äº†é‚£äº›åŠŸèƒ½? æ›´æ–°çš„å†…å®¹ä¼šä¸ä¼šå½±å“ä½ æ­£åœ¨æ“ä½œçš„åŠŸèƒ½?</p>\n<h3 id=\"åœºæ™¯-3\"><a href=\"#åœºæ™¯-3\" class=\"headerlink\" title=\"åœºæ™¯ 3\"></a>åœºæ™¯ 3</h3><p>å¦‚æœæ²¡æœ‰æç¤ºæ¡†,ç›´æ¥åˆ·æ–°é¡µé¢å¯¼è‡´ç”¨æˆ·æ­£åœ¨æ“ä½œçš„æ•°æ®ä¸¢å¤±, è¿™æ ·çš„æŸå¤±è¿˜æ˜¯æ¯”è¾ƒå¤§çš„;</p>\n<p>äºæ˜¯æˆ‘ä»Šå¤©ç ”ç©¶äº†ä¸€ä¸‹è¿™ä¸ªç½‘ç«™æ›´æ–°çš„æ–¹æ¡ˆ, ç„¶åé€šè¿‡æœ¬åœ°<code>nginx</code>æ¨¡æ‹ŸæœåŠ¡å™¨å»å°è¯•äº†ä¸€ä¸‹;</p>\n<h2 id=\"å®ç°çš„æ–¹æ¡ˆ\"><a href=\"#å®ç°çš„æ–¹æ¡ˆ\" class=\"headerlink\" title=\"å®ç°çš„æ–¹æ¡ˆ\"></a>å®ç°çš„æ–¹æ¡ˆ</h2><p>æ–‡ç« ä½¿ç”¨çš„æ˜¯<code>vite5 + vue3 + ts</code>çš„ä¸€ä¸ªæœ¬åœ°é¡¹ç›®;</p>\n<ol>\n<li>ä½¿ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶<a href=\"https://vite-pwa-org.netlify.app/\">vite-plugin-pwa</a>, å…·ä½“çš„åšæ³•å¯ä»¥å‚è€ƒå®˜ç½‘</li>\n<li>æ‰‹åŠ¨æ˜¯å®ç°<code>manifest.json</code> + å¾ªç¯<code>web worker</code>å®ç°, å°±æ˜¯æ‰“åŒ…çš„æ—¶å€™åˆ›å»ºä¸€ä¸ª<code>manifest.json</code> ç„¶åå°†æ‰“åŒ…æ—¶é—´<code>Date.now()</code>å†™å…¥æ–‡ä»¶, ä¹‹ååœ¨æ ¹æ®é‡Œé¢çš„æ—¶é—´å»åšå¯¹åº”çš„é€»è¾‘</li>\n<li>åœ¨<code>vite.config.ts</code>ä¸­ä½¿ç”¨<code>build</code>, å¼€å¯<code>manifest</code>,è¿™æ ·æ¯æ¬¡æ‰“åŒ…éƒ½ä¼šåœ¨<code>dist/.vite</code>ä¸­ç”Ÿæˆä¸€ä¸ªæ–°çš„æ–‡ä»¶, è¿™ä¸ªæ–‡ä»¶å°±æ˜¯<code>manifest.json</code></li>\n</ol>\n<p>è¿™é‡Œæˆ‘ä»¬å…·ä½“è®²<code>vite.config.js</code> + <code>web worker</code>å®ç°æ€è·¯:</p>\n<h3 id=\"é…ç½®-vite-config-ts\"><a href=\"#é…ç½®-vite-config-ts\" class=\"headerlink\" title=\"é…ç½® vite.config.ts\"></a>é…ç½® vite.config.ts</h3><p><code>vite.config.ts</code>å¦‚ä½•é…ç½®å‘¢? <a href=\"https://cn.vitejs.dev/guide/backend-integration\">vite åç«¯é›†æˆ</a></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">plugins</span>: [<span class=\"title function_\">vue</span>(), <span class=\"title function_\">eslintPlugin</span>()],</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ·»åŠ ä¸‹é¢çš„build</span></span><br><span class=\"line\">\t\t<span class=\"attr\">build</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">manifest</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">cssCodeSplit</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åä½ å¯ä»¥é€šè¿‡<code>npm run build</code>å‘½ä»¤æ‰“åŒ…é¡¹ç›®,ç­‰å¾…é¡¹ç›®æ‰“åŒ…æˆåŠŸä¹‹å, é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆ<code>dist</code>ç›®å½•, å¤§æ¦‚çš„ç»“æ„ä¸º:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.vite</span><br><span class=\"line\">assets</span><br><span class=\"line\">index.html</span><br><span class=\"line\">vite.svg</span><br></pre></td></tr></table></figure>\n\n<p><code>.vite</code>ç›®å½•å°±æ˜¯æˆ‘ä»¬æ‰“åŒ…çš„<code>manifest.json</code>æ–‡ä»¶, è¿™ä¸ªæ–‡ä»¶å°±æ˜¯æˆ‘ä»¬åé¢éœ€è¦è¯»å–çš„; <code>manifest.json</code>ä¸­<code>file</code>å°±æ˜¯<code>index.html</code>ä¸­å¼•å…¥<code>js,css</code>çš„åœ°å€;<br><code>index.html</code>ä¸­å¼•å…¥<code>js,css</code>çš„åœ°å€ä¸º:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- å¤§æ¦‚è¿™æ ·çš„æ ¼å¼ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;module&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/assets/index.c0d0d0e9.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;modulepreload&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;/assets/index.c0d0d0e9.css&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œ<code>manifest.json</code>æ–‡ä»¶å¯ä»¥ç†è§£ä¸ºç¦»çº¿ç¼“å­˜æ–‡ä»¶, å°±æ˜¯å§æ‰€æœ‰çš„èµ„æºéƒ½ç¼“å­˜èµ·æ¥;</p>\n<h3 id=\"å®ç°æ€è·¯ä¸€\"><a href=\"#å®ç°æ€è·¯ä¸€\" class=\"headerlink\" title=\"å®ç°æ€è·¯ä¸€\"></a>å®ç°æ€è·¯ä¸€</h3><p>æƒ³è¦åšåˆ°ç½‘ç«™æ›´æ–°, è¿™é‡Œè¦è·å–<code>manifest.json</code>æ–‡ä»¶,ä¸è¿‡ç°åœ¨æ–‡ä»¶æ˜¯åœ¨<code>dist/.vite</code>ä¸­, æƒ³è¦ç›´æ¥è¯»å–é‚£å°±è¦ä¿®æ”¹æ‰“åŒ…å‘½ä»¤</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;build&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vite build &amp;&amp; node src/copyManifest.js&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><code>copyManifest.js</code>çš„æ–‡ä»¶ä¸ºå°±æ˜¯å¤åˆ¶ä¸€ä»½<code>manifest.json</code>åˆ°<code>dist</code>ç›®å½•ä¸‹</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; copyFileSync &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;fs&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">copyFileSync</span>(<span class=\"string\">&quot;dist/.vite/manifest.json&quot;</span>, <span class=\"string\">&quot;dist/manifest.json&quot;</span>);</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(e);</span><br><span class=\"line\">\tprocess.<span class=\"title function_\">exit</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶ååœ¨<code>main.js</code>ä¸­å¼•å…¥ä¸€ä¸ªæ–‡ä»¶,è¿™ä¸ªæ–‡ä»¶å°±æ˜¯ä½ æ›´æ–°ç½‘ç«™çš„æ ¸å¿ƒé€»è¾‘äº†;</p>\n<p>å¤§è‡´çš„æ€è·¯å°±æ˜¯:</p>\n<ol>\n<li><code>fetch(&#39;/manifest.json&#39;)</code> æ‹¿åˆ°æœ€æ–°çš„æ•°æ®å’Œä¸Šä¸€æ¬¡çš„æ•°æ®å»åšæ¯”è¾ƒæˆ–è€…ç»“åˆ<code>å‘å¸ƒè®¢é˜…æ¨¡å¼</code></li>\n<li>å¾ªç¯è·å–, å› ä¸ºç½‘ç«™ä¸å®šæ—¶ä¼šæ›´æ–°,æ‰€ä»¥éœ€è¦å¾ªç¯; å‘ç°æ–‡ä»¶åœ°å€ä¸ä¸€è‡´ç›´æ¥å¼¹æ¡†æç¤º;</li>\n<li><code>manifest.json</code>ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»º, é‚£å°±éœ€è¦å§<code>vite.config.ts</code>ä¸­<code>manifest</code>å…³é—­, æ‰“åŒ…çš„æ—¶å€™åˆ›å»ºä¸€ä¸ªæ–‡ä»¶<code>manifest.json</code>å†…å®¹ä¸º<code>&#123;time: &#39;xxxx&#39;, content: &#39;æ›´æ–°å†…å®¹&#39;&#125;</code>; åŒæ ·çš„å¾ªç¯æ“ä½œå»å¯¹æ¯”æ—¶é—´;</li>\n</ol>\n<p>ä¸è¿‡è¿™æ ·æ˜¯æ¯”è¾ƒéº»çƒ¦çš„, æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨å¦å¤–ä¸€ç§<code>web worker</code>æ¥å®ç°;</p>\n<h3 id=\"å®ç°æ€è·¯äºŒ\"><a href=\"#å®ç°æ€è·¯äºŒ\" class=\"headerlink\" title=\"å®ç°æ€è·¯äºŒ \"></a>å®ç°æ€è·¯äºŒ <Badge text=\"æ¨èä½¿ç”¨\" type=\"error\"/></h3><p>é¦–å…ˆéœ€è¦åˆ›å»ºä¿©ä¸ªæ–‡ä»¶<code>checkUpdate.ts</code>å’Œ<code>checkUpdate.worker.ts</code>, ä¸€ä¸ªæ˜¯å…¥å£æ–‡ä»¶, å¦ä¸€ä¸ªæ˜¯<code>web worker</code>å¾ªç¯æ£€æµ‹æœºåˆ¶;</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// checkUpdate.ts:</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ElMessageBox</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;element-plus&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// ./checkUpdate.worker?workerè¿™æ˜¯viteçš„å†™æ³•. å¦‚æœä½¿ç”¨webpack æ˜¯éœ€è¦ä¸‹è½½å¯¹åº”çš„æ’ä»¶è¯†åˆ«çš„</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">CheckWorker</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;./checkUpdate.worker?worker&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆ¤æ–­æ˜¯å¦æ˜¯å¼€å‘ç¯å¢ƒ, å¦‚æœæ˜¯å¼€å‘ç¯å¢ƒå°±ä¸éœ€è¦æ£€æµ‹æ›´æ–°</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">import</span>.<span class=\"property\">meta</span>.<span class=\"property\">env</span>.<span class=\"property\">MODE</span> !== <span class=\"string\">&quot;development&quot;</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> worker = <span class=\"keyword\">new</span> <span class=\"title class_\">CheckWorker</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ›´æ–°å¼¹æ¡†</span></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">judgeUpdate</span>(<span class=\"params\"><span class=\"attr\">lastEtag</span>: <span class=\"built_in\">string</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"title class_\">ElMessageBox</span>.<span class=\"title function_\">confirm</span>(<span class=\"string\">&quot;æ£€æµ‹åˆ°ç½‘ç«™æœ‰æ–°å†…å®¹, æ˜¯å¦éœ€è¦æ›´æ–°?&quot;</span>, <span class=\"string\">&quot;æ›´æ–°æç¤º&quot;</span>, &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">confirmButtonText</span>: <span class=\"string\">&quot;ç«‹å³æ›´æ–°&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">cancelButtonText</span>: <span class=\"string\">&quot;10sä¹‹åå†é€šçŸ¥æˆ‘&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;warning&quot;</span>,</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">then</span>(<span class=\"title function_\">async</span> () =&gt; &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// æ›´æ–°æ“ä½œ</span></span><br><span class=\"line\">\t\t\t\tworker.<span class=\"title function_\">postMessage</span>(&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;close&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">tip</span>: <span class=\"string\">&quot;å…³é—­&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\tlastEtag,</span><br><span class=\"line\">\t\t\t\t&#125;);</span><br><span class=\"line\">\t\t\t\tlocation.<span class=\"title function_\">reload</span>();</span><br><span class=\"line\">\t\t\t&#125;)</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">catch</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// ç¨åæ›´æ–°æ“ä½œ</span></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// å‘ŠçŸ¥å­çº¿ç¨‹ç¨åæ›´æ–°</span></span><br><span class=\"line\">\t\t\t\tworker.<span class=\"title function_\">postMessage</span>(&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;recheck&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">tip</span>: <span class=\"string\">&quot;10sä¹‹åå†é€šçŸ¥æˆ‘&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\tlastEtag,</span><br><span class=\"line\">\t\t\t\t&#125;);</span><br><span class=\"line\">\t\t\t&#125;);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// é¦–æ¬¡è¿›å…¥é¡µé¢æ£€æµ‹æ˜¯å¦éœ€è¦æ›´æ–°</span></span><br><span class=\"line\">\tworker.<span class=\"title function_\">postMessage</span>(&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;check&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">tip</span>: <span class=\"string\">&quot;æ£€æµ‹æ˜¯å¦æ›´æ–°&quot;</span>,</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ¥æ”¶åˆ°workeræ›´æ–°çš„æ¶ˆæ¯, é‚£å°±è¿›è¡Œå¼¹æ¡†æç¤º</span></span><br><span class=\"line\">\tworker.<span class=\"property\">onmessage</span> = <span class=\"function\">(<span class=\"params\">&#123; data &#125;</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸»çº¿ç¨‹æ¥æ”¶åˆ°è¦æ›´æ–°çš„é€šçŸ¥,é‚£å°±å¼¹æ¡†æç¤º</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (data.<span class=\"property\">type</span> === <span class=\"string\">&quot;hasUpdate&quot;</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">judgeUpdate</span>(data.<span class=\"property\">lastEtag</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// checkUpdate.worker.ts:</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"attr\">lastEtag</span>: <span class=\"built_in\">string</span> | <span class=\"literal\">null</span> | <span class=\"literal\">undefined</span> = <span class=\"literal\">undefined</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> hasUpdate = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"attr\">intervalId</span>: <span class=\"built_in\">number</span> | <span class=\"literal\">null</span> | <span class=\"literal\">undefined</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">checkUpdate</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// è¿™é‡Œå¯ä»¥è¯»å–`manifest.json`, æˆ‘åœ¨è¿™é‡Œç›´æ¥è¯»å–ç½‘ç«™çš„é¡µé¢</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> res = <span class=\"keyword\">await</span> <span class=\"title function_\">fetch</span>(<span class=\"string\">`<span class=\"subst\">$&#123;self.location.protocol&#125;</span>//<span class=\"subst\">$&#123;self.location.host&#125;</span>`</span>, &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">method</span>: <span class=\"string\">&quot;HEAD&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">cache</span>: <span class=\"string\">&quot;no-cache&quot;</span>,</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¿™ä¸€è¡Œå°±æ˜¯å¦‚ä½•åˆ¤æ–­æ˜¯å¦æœ‰æ›´æ–°</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> etag = res.<span class=\"property\">headers</span>.<span class=\"title function_\">get</span>(<span class=\"string\">&quot;etag&quot;</span>) || res.<span class=\"property\">headers</span>.<span class=\"title function_\">get</span>(<span class=\"string\">&quot;last-modified&quot;</span>);</span><br><span class=\"line\">\thasUpdate = lastEtag !== <span class=\"literal\">undefined</span> &amp;&amp; etag !== lastEtag;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (hasUpdate) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å‘ä¸»çº¿ç¨‹å‘é€æ¶ˆæ¯, å‘Šè¯‰ä»–ç½‘ç«™éœ€è¦æ›´æ–°äº†;</span></span><br><span class=\"line\">\t\tself.<span class=\"title function_\">postMessage</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;hasUpdate&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">tip</span>: <span class=\"string\">&quot;éœ€è¦æ›´æ–°&quot;</span>,</span><br><span class=\"line\">\t\t\tlastEtag,</span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tlastEtag = etag;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç›‘å¬workerå‘é€çš„æ¶ˆæ¯</span></span><br><span class=\"line\">self.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;message&quot;</span>, <span class=\"function\">(<span class=\"params\">&#123; data &#125;</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æ£€æµ‹æ›´æ–°</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (data.<span class=\"property\">type</span> === <span class=\"string\">&quot;check&quot;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"title function_\">checkUpdate</span>();</span><br><span class=\"line\">\t\tintervalId &amp;&amp; <span class=\"built_in\">clearInterval</span>(intervalId);</span><br><span class=\"line\">\t\tintervalId = <span class=\"built_in\">setInterval</span>(checkUpdate, <span class=\"number\">10</span> * <span class=\"number\">1000</span>);</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (data.<span class=\"property\">type</span> === <span class=\"string\">&quot;recheck&quot;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ç¨åé€šçŸ¥</span></span><br><span class=\"line\">\t\thasUpdate = <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\tlastEtag = data.<span class=\"property\">lastEtag</span>;</span><br><span class=\"line\">\t\tintervalId &amp;&amp; <span class=\"built_in\">clearInterval</span>(intervalId);</span><br><span class=\"line\">\t\tintervalId = <span class=\"built_in\">setInterval</span>(checkUpdate, <span class=\"number\">10</span> * <span class=\"number\">1000</span>);</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (data.<span class=\"property\">type</span> === <span class=\"string\">&quot;close&quot;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å…³é—­</span></span><br><span class=\"line\">\t\tintervalId &amp;&amp; <span class=\"built_in\">clearInterval</span>(intervalId);</span><br><span class=\"line\">\t\t<span class=\"title function_\">close</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/update-2024-04-15-0952.png\" alt=\"æµç¨‹\"></p>\n<p>ç„¶ååœ¨<code>main.ts</code>ä¸­å¼•å…¥<code>import &#39;./checkUpdate&#39;</code>; åŸºæœ¬ä¸Šå°±å¯ä»¥äº†;</p>\n<p>ç„¶åé‡æ–°æ‰“åŒ…, è®²æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶æ”¾åœ¨æœ¬åœ°æœåŠ¡å™¨ä¸Š;</p>\n<p>ç„¶åæ‰“å¼€é¡µé¢: ç­‰å¾…æ—¶é—´å°±ä¼šæœ‰æç¤ºäº†:</p>\n<h2 id=\"çŸ¥è¯†è¡¥å……\"><a href=\"#çŸ¥è¯†è¡¥å……\" class=\"headerlink\" title=\"çŸ¥è¯†è¡¥å……\"></a>çŸ¥è¯†è¡¥å……</h2><p>::: tip<br>ä½¿ç”¨ Web Worker æ¥å®ç°ç½‘ç«™æ›´æ–°ï¼Œå°¤å…¶æ˜¯å¤„ç†ä¸é¡µé¢æ¸²æŸ“æ— å…³ä½†å¯èƒ½è€—æ—¶çš„æ“ä½œï¼Œå¦‚æ•°æ®è§£æã€å¤æ‚è®¡ç®—ã€å¤§æ–‡ä»¶å¤„ç†ç­‰ï¼Œå¯ä»¥å¸¦æ¥ä»¥ä¸‹å¥½å¤„ï¼š<br>:::</p>\n<h3 id=\"å¥½å¤„\"><a href=\"#å¥½å¤„\" class=\"headerlink\" title=\"å¥½å¤„\"></a>å¥½å¤„</h3><ol>\n<li>é˜²æ­¢ä¸»çº¿ç¨‹é˜»å¡ï¼š<ul>\n<li>Web Worker åœ¨å•ç‹¬çš„åå°çº¿ç¨‹ä¸­è¿è¡Œï¼Œä¸ UI æ¸²æŸ“çº¿ç¨‹äº’ä¸å¹²æ‰°ã€‚è¿™æ„å‘³ç€å³ä½¿åœ¨å¤„ç†å¤æ‚çš„æ›´æ–°é€»è¾‘æ—¶ï¼Œç”¨æˆ·ä»èƒ½æµç•…åœ°ä¸é¡µé¢äº¤äº’ï¼Œé¿å…äº†å› é•¿æ—¶é—´è®¡ç®—å¯¼è‡´çš„é¡µé¢å†»ç»“æˆ–å¡é¡¿ç°è±¡ï¼Œæ˜¾è‘—æå‡äº†ç”¨æˆ·ä½“éªŒã€‚</li>\n</ul>\n</li>\n<li>æå‡å“åº”é€Ÿåº¦:<ul>\n<li>å¯¹äºæ¶‰åŠå¤§é‡æ•°æ®å¤„ç†æˆ–è®¡ç®—å¯†é›†å‹çš„æ›´æ–°ä»»åŠ¡ï¼ŒWeb Worker èƒ½å¤Ÿå¹¶è¡Œå¤„ç†è¿™äº›å·¥ä½œï¼Œä½¿å¾—æ›´æ–°è¿‡ç¨‹æ›´å¿«å®Œæˆï¼Œä½¿å¾—ç”¨æˆ·èƒ½æ›´æ—©çœ‹åˆ°æ›´æ–°åçš„ç»“æœã€‚</li>\n</ul>\n</li>\n<li>åˆ†ç¦»ä»»åŠ¡ï¼Œä¼˜åŒ–ä»£ç ç»“æ„ï¼š<ul>\n<li>ä½¿ç”¨ Web Worker å¯ä»¥å°†å¤æ‚çš„æ›´æ–°é€»è¾‘å°è£…åˆ°ç‹¬ç«‹çš„è„šæœ¬ä¸­ï¼Œä¸ä¸»çº¿ç¨‹çš„ UI é€»è¾‘æ¸…æ™°åˆ†ç¦»ã€‚è¿™æœ‰åŠ©äºä»£ç ç»„ç»‡ï¼Œæé«˜å¯ç»´æŠ¤æ€§ï¼Œå¹¶å…è®¸å¼€å‘è€…ä¸“æ³¨äºå„è‡ªçº¿ç¨‹çš„ä»»åŠ¡ï¼Œéµå¾ªâ€œå…³æ³¨ç‚¹åˆ†ç¦»â€åŸåˆ™</li>\n</ul>\n</li>\n<li>å¼‚æ­¥å¤„ç†ï¼š<ul>\n<li>Web Worker é€šè¿‡æ¶ˆæ¯ä¼ é€’æœºåˆ¶<code>ï¼ˆpostMessage() å’Œ onmessageï¼‰</code>ä¸ä¸»çº¿ç¨‹é€šä¿¡ï¼Œå®ç°äº†çœŸæ­£çš„å¼‚æ­¥æ“ä½œã€‚è¿™ä½¿å¾—æ›´æ–°ä»»åŠ¡å¯ä»¥åœ¨ä¸å½±å“ä¸»çº¿ç¨‹çš„æƒ…å†µä¸‹å¼‚æ­¥è¿›è¡Œï¼Œç¬¦åˆç°ä»£ Web åº”ç”¨çš„éé˜»å¡ã€äº‹ä»¶é©±åŠ¨ç¼–ç¨‹æ¨¡å¼ã€‚</li>\n</ul>\n</li>\n<li>èµ„æºåŠ è½½ä¸é¢„å¤„ç†ï¼š<ul>\n<li>å¦‚æœç½‘ç«™æ›´æ–°æ¶‰åŠåˆ°èµ„æºçš„åŠ è½½æˆ–é¢„å¤„ç†ï¼ˆå¦‚å‹ç¼©ã€è§£å¯†ç­‰ï¼‰ï¼ŒWeb Worker å¯ä»¥åœ¨åå°çº¿ç¨‹æå‰å®Œæˆè¿™äº›å·¥ä½œï¼Œå¾…å‡†å¤‡å¥½åå†é€šçŸ¥ä¸»çº¿ç¨‹ï¼Œé¿å…äº†èµ„æºåŠ è½½å¯¹ä¸»çº¿ç¨‹çš„ç›´æ¥å‹åŠ›ã€‚</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"å¼Šç«¯\"><a href=\"#å¼Šç«¯\" class=\"headerlink\" title=\"å¼Šç«¯\"></a>å¼Šç«¯</h3><ol>\n<li><p>å…¼å®¹æ€§é—®é¢˜ï¼š</p>\n<ul>\n<li>è™½ç„¶ Web Worker æ˜¯ HTML5 æ ‡å‡†çš„ä¸€éƒ¨åˆ†ï¼Œä½†åœ¨è¾ƒè€çš„æµè§ˆå™¨æˆ–æŸäº›éæ ‡å‡†ç¯å¢ƒä¸­å¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ã€‚å¼€å‘è€…éœ€è¦è¿›è¡Œå…¼å®¹æ€§æ£€æµ‹å’Œé™çº§å¤„ç†ï¼Œæˆ–è€…ä¸ºä¸æ”¯æŒ Web Worker çš„ç¯å¢ƒæä¾›å¤‡ç”¨æ–¹æ¡ˆã€‚</li>\n</ul>\n</li>\n<li><p>é¢å¤–çš„å†…å­˜æ¶ˆè€—ï¼š</p>\n<ul>\n<li>å¯åŠ¨ Web Worker æ„å‘³ç€åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œä¼šå¢åŠ æµè§ˆå™¨çš„å†…å­˜å¼€é”€ã€‚å¯¹äºèµ„æºå—é™çš„è®¾å¤‡ï¼ˆå¦‚ä½ç«¯ç§»åŠ¨è®¾å¤‡ï¼‰ï¼Œè¿‡å¤šæˆ–ä¸å½“ä½¿ç”¨çš„ Web Worker å¯èƒ½å¯¼è‡´å†…å­˜æº¢å‡ºæˆ–å…¶ä»–æ€§èƒ½é—®é¢˜ã€‚</li>\n</ul>\n</li>\n<li><p>é€šä¿¡æˆæœ¬ï¼š</p>\n<ul>\n<li>ä¸»çº¿ç¨‹ä¸ Web Worker ä¹‹é—´çš„é€šä¿¡éœ€é€šè¿‡åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ•°æ®ï¼Œè¿™ä¼šå¸¦æ¥ä¸€å®šçš„æ€§èƒ½å¼€é”€ã€‚å¦‚æœæ›´æ–°è¿‡ç¨‹ä¸­é¢‘ç¹è¿›è¡Œå¤§é‡æ•°æ®äº¤æ¢ï¼Œå¯èƒ½ä¼šæŠµæ¶ˆéƒ¨åˆ†å¤šçº¿ç¨‹å¸¦æ¥çš„ä¼˜åŠ¿ã€‚</li>\n</ul>\n</li>\n<li><p>é™åˆ¶è®¿é—®æŸäº›å¯¹è±¡ä¸ APIï¼š</p>\n<ul>\n<li>Web Worker ç¯å¢ƒä¸­æ— æ³•ç›´æ¥è®¿é—®<code>windowã€documentç­‰ä¸DOM</code>ç›¸å…³çš„å…¨å±€å¯¹è±¡ï¼Œä¹Ÿæ— æ³•ç›´æ¥æ“ä½œ DOMã€‚å¯¹äºä¾èµ–è¿™äº›åŠŸèƒ½çš„æ›´æ–°é€»è¾‘ï¼Œéœ€è¦é€šè¿‡æ¶ˆæ¯ä¼ é€’å°†ç›¸å…³æ“ä½œå§”æ‰˜ç»™ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</li>\n</ul>\n</li>\n<li><p>è°ƒè¯•å¤æ‚æ€§ï¼š</p>\n<ul>\n<li>ç”±äº Web Worker è¿è¡Œåœ¨ç‹¬ç«‹çº¿ç¨‹ä¸­ï¼Œè°ƒè¯•èµ·æ¥å¯èƒ½æ¯”ä¸»çº¿ç¨‹ä»£ç æ›´ä¸ºå¤æ‚ã€‚å¼€å‘è€…éœ€è¦ä½¿ç”¨ä¸“é—¨çš„å·¥å…·æˆ–æŠ€å·§æ¥ç›‘æ§å’Œè°ƒè¯• Worker ä¸­çš„ä»£ç ã€‚</li>\n</ul>\n</li>\n</ol>\n<p><strong>æ€»ç»“æ¥è¯´ï¼Œä½¿ç”¨ Web Worker å®ç°ç½‘ç«™æ›´æ–°æœ‰åˆ©äºæå‡ç”¨æˆ·ä½“éªŒã€ä¼˜åŒ–æ€§èƒ½å’Œä»£ç ç»“æ„ï¼Œä½†åŒæ—¶ä¹Ÿéœ€è¦æ³¨æ„å…¶å¯èƒ½å¸¦æ¥çš„å…¼å®¹æ€§é—®é¢˜ã€é¢å¤–èµ„æºæ¶ˆè€—ã€é€šä¿¡æˆæœ¬ã€API è®¿é—®é™åˆ¶åŠè°ƒè¯•å¤æ‚æ€§ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œåº”æ ¹æ®å…·ä½“åœºæ™¯æƒè¡¡åˆ©å¼Šï¼Œåˆç†åˆ©ç”¨ Web Worker ä»¥å®ç°é«˜æ•ˆã€æµç•…çš„ç½‘ç«™æ›´æ–°æµç¨‹ã€‚</strong></p>\n<h2 id=\"è§†é¢‘æ•ˆæœé¢„è§ˆ\"><a href=\"#è§†é¢‘æ•ˆæœé¢„è§ˆ\" class=\"headerlink\" title=\"è§†é¢‘æ•ˆæœé¢„è§ˆ\"></a>è§†é¢‘æ•ˆæœé¢„è§ˆ</h2><video controls style=\"width:100%;height:500px;object-fit:fill;\">\n  <source src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/web_update.mp4\" type=\"video/mp4\" />\n</video>\n"},{"title":"æŠ€æœ¯è°ƒç ”-ç½‘ç«™æ›´æ–°äºŒ","abbrlink":"fd3ae22d","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\nä¸Šç¯‡æ€»ç»“äº†å¦‚ä½•å®ç°ç½‘ç«™æ›´æ–°çš„åŠŸèƒ½ï¼Œç°åœ¨è¿˜æœ‰å¦å¤–çš„ä¸€ç§åšæ³•[pwa](https://vite-pwa-org.netlify.app/)æŠ€æœ¯å®ç°ï¼›\n\n## åˆ›å»ºé¡¹ç›®\n\nç”¨`vite+ts+vue`åˆ›å»ºä¸€ä¸ªç©ºé¡¹ç›®\n\n```bash\npnpm create vite vite-pwa-demo --template vue-ts\n```\n\n## å®‰è£…æ’ä»¶\n\nå®‰è£…å®Œæˆä¹‹åï¼Œéœ€è¦å†æ¬¡å®‰è£…`pwa`æ’ä»¶\n\n```bash\npnpm add -D vite-plugin-pwa\n```\n\n## é…ç½®æ’ä»¶\n\nå®Œæˆå®‰è£…ä¹‹åï¼Œéœ€è¦æ”¹ä¸€ä¸‹`vite.config.ts`æ–‡ä»¶ï¼Œæ·»åŠ `pwa`æ’ä»¶\n\n```ts\nimport { defineConfig } from \"vite\";\nimport vue from \"@vitejs/plugin-vue\";\nimport { VitePWA } from \"vite-plugin-pwa\";\n\nexport default defineConfig({\n\tplugins: [\n\t\tvue(),\n\t\tVitePWA({\n\t\t\t// prompt å¼¹æ¡†æ¨¡å¼ã€‚ autoupdate è‡ªåŠ¨æ›´æ–°æ¨¡å¼\n\t\t\tregisterType: \"prompt\",\n\t\t\tdevOptions: {\n\t\t\t\tenabled: true,\n\t\t\t},\n\t\t\tworkbox: {\n\t\t\t\tcleanupOutdatedCaches: true,\n\t\t\t},\n\t\t\tmanifest: {},\n\t\t}),\n\t],\n\tserver: {\n\t\tport: 5177,\n\t},\n});\n```\n\næ¥ç€éœ€è¦åœ¨`vite-env.d.ts`ä¸­æ·»åŠ å¯¹åº”çš„æœåŠ¡ï¼š\n\n```ts\ndeclare module \"virtual:pwa-register/vue\" {\n\timport type { Ref } from \"vue\";\n\timport type { RegisterSWOptions } from \"vite-plugin-pwa/types\";\n\n\texport type { RegisterSWOptions };\n\n\texport function useRegisterSW(options?: RegisterSWOptions): {\n\t\tneedRefresh: Ref<boolean>;\n\t\tofflineReady: Ref<boolean>;\n\t\tupdateServiceWorker: (reloadPage?: boolean) => Promise<void>;\n\t};\n}\n```\n\næ¥ç€åœ¨`tsconfig.json`ä¸­é…ç½®\n\n```json\n{\n\t\"compilerOptions\": {\n\t\t// æ·»åŠ è¿™ä¸€è¡Œ\n\t\t\"types\": [\"vite-plugin-pwa/client\", \"vite-plugin-pwa/vue\", \"vite/client\"]\n\t}\n}\n```\n\n## æ›´æ–°æ£€æµ‹\n\n```ts\n// æ ¸å¿ƒä»£ç \nimport { useRegisterSW } from \"virtual:pwa-register/vue\";\nconst { offlineReady, needRefresh, updateServiceWorker } = useRegisterSW({\n\t// æ¯éš”3sæ£€æŸ¥ä¸€æ¬¡æ˜¯å¦æœ‰æ–°ç‰ˆæœ¬\n\tonRegistered(r) {\n\t\tif (r) {\n\t\t\tsetInterval(() => {\n\t\t\t\tr.update();\n\t\t\t}, 1000 * 3);\n\t\t}\n\t},\n});\n```\n\n## ç¼–å†™æ›´æ–°å¼¹æ¡†\n\n```vue\n<script setup lang=\"ts\">\nimport { useRegisterSW } from \"virtual:pwa-register/vue\";\nimport { ref, watch } from \"vue\";\nimport { ElMessage } from \"element-plus\";\n\nconst { offlineReady, needRefresh, updateServiceWorker } = useRegisterSW({\n\tonRegistered(r) {\n\t\tif (r && !check.value) {\n\t\t\tsetInterval(() => {\n\t\t\t\tr.update();\n\t\t\t}, 1000 * 3);\n\t\t}\n\t},\n});\n\n// å¦‚æœæ˜¯å¼ºåˆ¶æ›´æ–°ï¼Œåªéœ€è¦needRefresh.value å³å¯ï¼›\n\n// ç”¨å¦å¤–çš„å˜é‡æ§åˆ¶å¼¹æ¡†çš„æ˜¾ç¤º\nconst check = ref(needRefresh.value);\n\nconst loading = ref(false);\nconst btnText = ref(\"ç«‹å³æ›´æ–°\");\n// æ›´æ–°\nconst updataPage = async () => {\n\tloading.value = true;\n\tbtnText.value = \"æ­£åœ¨æ›´æ–°ä¸­...\";\n\tawait updateServiceWorker();\n};\n\n// å…³é—­å¼¹æ¡†\nconst close = () => {\n\tcheck.value = false;\n\tloading.value = false;\n\tbtnText.value = \"ç«‹å³æ›´æ–°\";\n};\n// æ›´æ–°çš„æ—¶å€™ç¦æ­¢å…³é—­\nconst beforeClose = (done: any) => {\n\tif (!loading.value) {\n\t\treturn done();\n\t}\n\tElMessage({\n\t\tmessage: \"æ­£åœ¨è¿›è¡Œæ›´æ–°, è¯·ç¨ç­‰...\",\n\t\ttype: \"warning\",\n\t});\n};\n// æ²¡3sä¼šæ›´æ–°needRefresh.valueçš„çŠ¶æ€ï¼Œæ‰€ä»¥è¿™é‡Œç›‘å¬ä¸€ä¸‹å³å¯ï¼›\nwatch(\n\t() => needRefresh.value,\n\tval => {\n\t\tcheck.value = val;\n\t}\n);\n</script>\n\n<template>\n\t<div>======11111213+++---</div>\n\t<el-dialog\n\t\tv-model=\"check\"\n\t\tappend-to-body\n\t\tclass=\"w-update\"\n\t\tdraggable\n\t\twidth=\"410px\"\n\t\t:before-close=\"beforeClose\"\n\t>\n\t\t<template #header></template>\n\t\t<div class=\"w-update-icon\"></div>\n\t\t<h3>æ–°ç‰ˆæœ¬æ¥è¢­ï¼š</h3>\n\t\t<p>æ›´æ–°æ—¶é—´ï¼šæœ€è¿‘æ›´æ–°</p>\n\n\t\t<p>æ›´æ–°å†…å®¹ï¼šæ›´æ–°çš„å†…å®¹å‘¢è¿˜è¯·è¯¦çœ‹ä¸Šçº¿é‚®ä»¶ï½</p>\n\t\t<p style=\"color: #ff0000; font-size: 12px\">\n\t\t\tå¦‚æœæ‚¨æš‚æ—¶ä¸æƒ³æ›´æ–°(å¦‚ï¼šæ‚¨æ­£åœ¨æ“ä½œå†…å®¹)ï¼Œç‚¹å‡»å…³é—­æŒ‰é’®å¯å…³é—­ï¼Œåç»­æƒ³æ›´æ–°åªéœ€è¦åˆ·æ–°é¡µé¢è¿›è¡Œæ›´æ–°å³å¯~å¦‚æœæƒ³ä½¿ç”¨æ–°åŠŸèƒ½ï¼Œè¯·ç‚¹å‡»æ›´æ–°æŒ‰é’®å³å¯\n\t\t</p>\n\t\t<template #footer>\n\t\t\t<el-button type=\"primary\" @click=\"updataPage\" :loading=\"loading\">\n\t\t\t\t{{ btnText }}\n\t\t\t</el-button>\n\t\t\t<el-button type=\"default\" :loading=\"loading\" @click=\"close\">\n\t\t\t\tæš‚æ—¶ä¸æ›´æ–°\n\t\t\t</el-button>\n\t\t</template>\n\t</el-dialog>\n</template>\n\n<style scoped>\n.w-update {\n\tposition: relative;\n}\n.w-update-icon {\n\tposition: absolute;\n\ttop: -50px;\n\tleft: 50%;\n\twidth: 100px;\n\theight: 100px;\n\tline-height: 100px;\n\ttext-align: center;\n\tbackground: linear-gradient(\n\t\t50deg,\n\t\tvar(--el-color-primary),\n\t\tvar(--el-color-primary-light-7)\n\t);\n\tborder-radius: 50%;\n\ttransform: translateX(-50%);\n}\n.w-update-icon i {\n\tfont-size: 50px;\n\tcolor: var(--el-color-white);\n}\n\n.w-update-cup {\n\tposition: absolute;\n\tright: 20px;\n\tbottom: 70px;\n\tfont-size: 80px;\n\t-webkit-text-fill-color: transparent;\n\tbackground-image: linear-gradient(\n\t\tvar(--el-color-primary-light-7),\n\t\tvar(--el-color-primary-light-9)\n\t);\n\tbackground-clip: text;\n}\n</style>\n\n<style>\n.w-update.el-dialog {\n\tmargin-top: 30vh !important;\n\tborder-radius: 15px;\n}\n\n.w-update .el-dialog__body {\n\tmargin: 0 40px 0 40px;\n}\n\n.w-update .el-dialog__footer {\n\ttext-align: center !important;\n}\n.w-update .el-button {\n\tmargin-bottom: 20px;\n\tborder-radius: 20px;\n}\n</style>\n```\n\n## æµ‹è¯•\n\næµ‹è¯•çš„è¯ï¼Œå¯ä»¥ä¸Šä¼ æœåŠ¡å™¨æˆ–è€…æœ¬åœ°`nginx`æµ‹è¯•ï¼›\n\né¡¹ç›®æ‰§è¡Œ`pnpm run build`å°†ç”Ÿæˆ`dist`æ–‡ä»¶å¤¹ï¼Œå°†`dist`æ–‡ä»¶å¤¹ä¸Šä¼ åˆ°æœåŠ¡å™¨æˆ–è€…`nginxçš„htmlæ–‡ä»¶å¤¹ä¸­`å³å¯ï¼›\n\nç„¶åç­‰å¾…é¡µé¢å¼¹æ¡†å³å¯ï¼›\n","source":"_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/ç½‘ç«™æ›´æ–°äºŒ.md","raw":"---\ntitle: æŠ€æœ¯è°ƒç ”-ç½‘ç«™æ›´æ–°äºŒ\nabbrlink: fd3ae22d\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - æŠ€æœ¯è°ƒç ”\n---\n\n# èƒŒæ™¯\n\nä¸Šç¯‡æ€»ç»“äº†å¦‚ä½•å®ç°ç½‘ç«™æ›´æ–°çš„åŠŸèƒ½ï¼Œç°åœ¨è¿˜æœ‰å¦å¤–çš„ä¸€ç§åšæ³•[pwa](https://vite-pwa-org.netlify.app/)æŠ€æœ¯å®ç°ï¼›\n\n## åˆ›å»ºé¡¹ç›®\n\nç”¨`vite+ts+vue`åˆ›å»ºä¸€ä¸ªç©ºé¡¹ç›®\n\n```bash\npnpm create vite vite-pwa-demo --template vue-ts\n```\n\n## å®‰è£…æ’ä»¶\n\nå®‰è£…å®Œæˆä¹‹åï¼Œéœ€è¦å†æ¬¡å®‰è£…`pwa`æ’ä»¶\n\n```bash\npnpm add -D vite-plugin-pwa\n```\n\n## é…ç½®æ’ä»¶\n\nå®Œæˆå®‰è£…ä¹‹åï¼Œéœ€è¦æ”¹ä¸€ä¸‹`vite.config.ts`æ–‡ä»¶ï¼Œæ·»åŠ `pwa`æ’ä»¶\n\n```ts\nimport { defineConfig } from \"vite\";\nimport vue from \"@vitejs/plugin-vue\";\nimport { VitePWA } from \"vite-plugin-pwa\";\n\nexport default defineConfig({\n\tplugins: [\n\t\tvue(),\n\t\tVitePWA({\n\t\t\t// prompt å¼¹æ¡†æ¨¡å¼ã€‚ autoupdate è‡ªåŠ¨æ›´æ–°æ¨¡å¼\n\t\t\tregisterType: \"prompt\",\n\t\t\tdevOptions: {\n\t\t\t\tenabled: true,\n\t\t\t},\n\t\t\tworkbox: {\n\t\t\t\tcleanupOutdatedCaches: true,\n\t\t\t},\n\t\t\tmanifest: {},\n\t\t}),\n\t],\n\tserver: {\n\t\tport: 5177,\n\t},\n});\n```\n\næ¥ç€éœ€è¦åœ¨`vite-env.d.ts`ä¸­æ·»åŠ å¯¹åº”çš„æœåŠ¡ï¼š\n\n```ts\ndeclare module \"virtual:pwa-register/vue\" {\n\timport type { Ref } from \"vue\";\n\timport type { RegisterSWOptions } from \"vite-plugin-pwa/types\";\n\n\texport type { RegisterSWOptions };\n\n\texport function useRegisterSW(options?: RegisterSWOptions): {\n\t\tneedRefresh: Ref<boolean>;\n\t\tofflineReady: Ref<boolean>;\n\t\tupdateServiceWorker: (reloadPage?: boolean) => Promise<void>;\n\t};\n}\n```\n\næ¥ç€åœ¨`tsconfig.json`ä¸­é…ç½®\n\n```json\n{\n\t\"compilerOptions\": {\n\t\t// æ·»åŠ è¿™ä¸€è¡Œ\n\t\t\"types\": [\"vite-plugin-pwa/client\", \"vite-plugin-pwa/vue\", \"vite/client\"]\n\t}\n}\n```\n\n## æ›´æ–°æ£€æµ‹\n\n```ts\n// æ ¸å¿ƒä»£ç \nimport { useRegisterSW } from \"virtual:pwa-register/vue\";\nconst { offlineReady, needRefresh, updateServiceWorker } = useRegisterSW({\n\t// æ¯éš”3sæ£€æŸ¥ä¸€æ¬¡æ˜¯å¦æœ‰æ–°ç‰ˆæœ¬\n\tonRegistered(r) {\n\t\tif (r) {\n\t\t\tsetInterval(() => {\n\t\t\t\tr.update();\n\t\t\t}, 1000 * 3);\n\t\t}\n\t},\n});\n```\n\n## ç¼–å†™æ›´æ–°å¼¹æ¡†\n\n```vue\n<script setup lang=\"ts\">\nimport { useRegisterSW } from \"virtual:pwa-register/vue\";\nimport { ref, watch } from \"vue\";\nimport { ElMessage } from \"element-plus\";\n\nconst { offlineReady, needRefresh, updateServiceWorker } = useRegisterSW({\n\tonRegistered(r) {\n\t\tif (r && !check.value) {\n\t\t\tsetInterval(() => {\n\t\t\t\tr.update();\n\t\t\t}, 1000 * 3);\n\t\t}\n\t},\n});\n\n// å¦‚æœæ˜¯å¼ºåˆ¶æ›´æ–°ï¼Œåªéœ€è¦needRefresh.value å³å¯ï¼›\n\n// ç”¨å¦å¤–çš„å˜é‡æ§åˆ¶å¼¹æ¡†çš„æ˜¾ç¤º\nconst check = ref(needRefresh.value);\n\nconst loading = ref(false);\nconst btnText = ref(\"ç«‹å³æ›´æ–°\");\n// æ›´æ–°\nconst updataPage = async () => {\n\tloading.value = true;\n\tbtnText.value = \"æ­£åœ¨æ›´æ–°ä¸­...\";\n\tawait updateServiceWorker();\n};\n\n// å…³é—­å¼¹æ¡†\nconst close = () => {\n\tcheck.value = false;\n\tloading.value = false;\n\tbtnText.value = \"ç«‹å³æ›´æ–°\";\n};\n// æ›´æ–°çš„æ—¶å€™ç¦æ­¢å…³é—­\nconst beforeClose = (done: any) => {\n\tif (!loading.value) {\n\t\treturn done();\n\t}\n\tElMessage({\n\t\tmessage: \"æ­£åœ¨è¿›è¡Œæ›´æ–°, è¯·ç¨ç­‰...\",\n\t\ttype: \"warning\",\n\t});\n};\n// æ²¡3sä¼šæ›´æ–°needRefresh.valueçš„çŠ¶æ€ï¼Œæ‰€ä»¥è¿™é‡Œç›‘å¬ä¸€ä¸‹å³å¯ï¼›\nwatch(\n\t() => needRefresh.value,\n\tval => {\n\t\tcheck.value = val;\n\t}\n);\n</script>\n\n<template>\n\t<div>======11111213+++---</div>\n\t<el-dialog\n\t\tv-model=\"check\"\n\t\tappend-to-body\n\t\tclass=\"w-update\"\n\t\tdraggable\n\t\twidth=\"410px\"\n\t\t:before-close=\"beforeClose\"\n\t>\n\t\t<template #header></template>\n\t\t<div class=\"w-update-icon\"></div>\n\t\t<h3>æ–°ç‰ˆæœ¬æ¥è¢­ï¼š</h3>\n\t\t<p>æ›´æ–°æ—¶é—´ï¼šæœ€è¿‘æ›´æ–°</p>\n\n\t\t<p>æ›´æ–°å†…å®¹ï¼šæ›´æ–°çš„å†…å®¹å‘¢è¿˜è¯·è¯¦çœ‹ä¸Šçº¿é‚®ä»¶ï½</p>\n\t\t<p style=\"color: #ff0000; font-size: 12px\">\n\t\t\tå¦‚æœæ‚¨æš‚æ—¶ä¸æƒ³æ›´æ–°(å¦‚ï¼šæ‚¨æ­£åœ¨æ“ä½œå†…å®¹)ï¼Œç‚¹å‡»å…³é—­æŒ‰é’®å¯å…³é—­ï¼Œåç»­æƒ³æ›´æ–°åªéœ€è¦åˆ·æ–°é¡µé¢è¿›è¡Œæ›´æ–°å³å¯~å¦‚æœæƒ³ä½¿ç”¨æ–°åŠŸèƒ½ï¼Œè¯·ç‚¹å‡»æ›´æ–°æŒ‰é’®å³å¯\n\t\t</p>\n\t\t<template #footer>\n\t\t\t<el-button type=\"primary\" @click=\"updataPage\" :loading=\"loading\">\n\t\t\t\t{{ btnText }}\n\t\t\t</el-button>\n\t\t\t<el-button type=\"default\" :loading=\"loading\" @click=\"close\">\n\t\t\t\tæš‚æ—¶ä¸æ›´æ–°\n\t\t\t</el-button>\n\t\t</template>\n\t</el-dialog>\n</template>\n\n<style scoped>\n.w-update {\n\tposition: relative;\n}\n.w-update-icon {\n\tposition: absolute;\n\ttop: -50px;\n\tleft: 50%;\n\twidth: 100px;\n\theight: 100px;\n\tline-height: 100px;\n\ttext-align: center;\n\tbackground: linear-gradient(\n\t\t50deg,\n\t\tvar(--el-color-primary),\n\t\tvar(--el-color-primary-light-7)\n\t);\n\tborder-radius: 50%;\n\ttransform: translateX(-50%);\n}\n.w-update-icon i {\n\tfont-size: 50px;\n\tcolor: var(--el-color-white);\n}\n\n.w-update-cup {\n\tposition: absolute;\n\tright: 20px;\n\tbottom: 70px;\n\tfont-size: 80px;\n\t-webkit-text-fill-color: transparent;\n\tbackground-image: linear-gradient(\n\t\tvar(--el-color-primary-light-7),\n\t\tvar(--el-color-primary-light-9)\n\t);\n\tbackground-clip: text;\n}\n</style>\n\n<style>\n.w-update.el-dialog {\n\tmargin-top: 30vh !important;\n\tborder-radius: 15px;\n}\n\n.w-update .el-dialog__body {\n\tmargin: 0 40px 0 40px;\n}\n\n.w-update .el-dialog__footer {\n\ttext-align: center !important;\n}\n.w-update .el-button {\n\tmargin-bottom: 20px;\n\tborder-radius: 20px;\n}\n</style>\n```\n\n## æµ‹è¯•\n\næµ‹è¯•çš„è¯ï¼Œå¯ä»¥ä¸Šä¼ æœåŠ¡å™¨æˆ–è€…æœ¬åœ°`nginx`æµ‹è¯•ï¼›\n\né¡¹ç›®æ‰§è¡Œ`pnpm run build`å°†ç”Ÿæˆ`dist`æ–‡ä»¶å¤¹ï¼Œå°†`dist`æ–‡ä»¶å¤¹ä¸Šä¼ åˆ°æœåŠ¡å™¨æˆ–è€…`nginxçš„htmlæ–‡ä»¶å¤¹ä¸­`å³å¯ï¼›\n\nç„¶åç­‰å¾…é¡µé¢å¼¹æ¡†å³å¯ï¼›\n","slug":"æ€»ç»“/æŠ€æœ¯è°ƒç ”/ç½‘ç«™æ›´æ–°äºŒ","published":1,"updated":"2025-03-12T09:55:41.246Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0it000zfg9m6vmx15z7","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>ä¸Šç¯‡æ€»ç»“äº†å¦‚ä½•å®ç°ç½‘ç«™æ›´æ–°çš„åŠŸèƒ½ï¼Œç°åœ¨è¿˜æœ‰å¦å¤–çš„ä¸€ç§åšæ³•<a href=\"https://vite-pwa-org.netlify.app/\">pwa</a>æŠ€æœ¯å®ç°ï¼›</p>\n<h2 id=\"åˆ›å»ºé¡¹ç›®\"><a href=\"#åˆ›å»ºé¡¹ç›®\" class=\"headerlink\" title=\"åˆ›å»ºé¡¹ç›®\"></a>åˆ›å»ºé¡¹ç›®</h2><p>ç”¨<code>vite+ts+vue</code>åˆ›å»ºä¸€ä¸ªç©ºé¡¹ç›®</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm create vite vite-pwa-demo --template vue-ts</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å®‰è£…æ’ä»¶\"><a href=\"#å®‰è£…æ’ä»¶\" class=\"headerlink\" title=\"å®‰è£…æ’ä»¶\"></a>å®‰è£…æ’ä»¶</h2><p>å®‰è£…å®Œæˆä¹‹åï¼Œéœ€è¦å†æ¬¡å®‰è£…<code>pwa</code>æ’ä»¶</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add -D vite-plugin-pwa</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"é…ç½®æ’ä»¶\"><a href=\"#é…ç½®æ’ä»¶\" class=\"headerlink\" title=\"é…ç½®æ’ä»¶\"></a>é…ç½®æ’ä»¶</h2><p>å®Œæˆå®‰è£…ä¹‹åï¼Œéœ€è¦æ”¹ä¸€ä¸‹<code>vite.config.ts</code>æ–‡ä»¶ï¼Œæ·»åŠ <code>pwa</code>æ’ä»¶</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineConfig &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vite&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> vue <span class=\"keyword\">from</span> <span class=\"string\">&quot;@vitejs/plugin-vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">VitePWA</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vite-plugin-pwa&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">\t\t<span class=\"title function_\">vue</span>(),</span><br><span class=\"line\">\t\t<span class=\"title class_\">VitePWA</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// prompt å¼¹æ¡†æ¨¡å¼ã€‚ autoupdate è‡ªåŠ¨æ›´æ–°æ¨¡å¼</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">registerType</span>: <span class=\"string\">&quot;prompt&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">devOptions</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">enabled</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">workbox</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">cleanupOutdatedCaches</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">manifest</span>: &#123;&#125;,</span><br><span class=\"line\">\t\t&#125;),</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"attr\">server</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">port</span>: <span class=\"number\">5177</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>æ¥ç€éœ€è¦åœ¨<code>vite-env.d.ts</code>ä¸­æ·»åŠ å¯¹åº”çš„æœåŠ¡ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"variable language_\">module</span> <span class=\"string\">&quot;virtual:pwa-register/vue&quot;</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">import</span> <span class=\"keyword\">type</span> &#123; <span class=\"title class_\">Ref</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">import</span> <span class=\"keyword\">type</span> &#123; <span class=\"title class_\">RegisterSWOptions</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vite-plugin-pwa/types&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">export</span> <span class=\"keyword\">type</span> &#123; <span class=\"title class_\">RegisterSWOptions</span> &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">useRegisterSW</span>(<span class=\"params\"><span class=\"attr\">options</span>?: <span class=\"title class_\">RegisterSWOptions</span></span>): &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">needRefresh</span>: <span class=\"title class_\">Ref</span>&lt;<span class=\"built_in\">boolean</span>&gt;;</span><br><span class=\"line\">\t\t<span class=\"attr\">offlineReady</span>: <span class=\"title class_\">Ref</span>&lt;<span class=\"built_in\">boolean</span>&gt;;</span><br><span class=\"line\">\t\t<span class=\"attr\">updateServiceWorker</span>: <span class=\"function\">(<span class=\"params\"><span class=\"attr\">reloadPage</span>?: <span class=\"built_in\">boolean</span></span>) =&gt;</span> <span class=\"title class_\">Promise</span>&lt;<span class=\"built_in\">void</span>&gt;;</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ¥ç€åœ¨<code>tsconfig.json</code>ä¸­é…ç½®</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;compilerOptions&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ·»åŠ è¿™ä¸€è¡Œ</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;types&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"string\">&quot;vite-plugin-pwa/client&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;vite-plugin-pwa/vue&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;vite/client&quot;</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ›´æ–°æ£€æµ‹\"><a href=\"#æ›´æ–°æ£€æµ‹\" class=\"headerlink\" title=\"æ›´æ–°æ£€æµ‹\"></a>æ›´æ–°æ£€æµ‹</h2><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ ¸å¿ƒä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; useRegisterSW &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;virtual:pwa-register/vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; offlineReady, needRefresh, updateServiceWorker &#125; = <span class=\"title function_\">useRegisterSW</span>(&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æ¯éš”3sæ£€æŸ¥ä¸€æ¬¡æ˜¯å¦æœ‰æ–°ç‰ˆæœ¬</span></span><br><span class=\"line\">\t<span class=\"title function_\">onRegistered</span>(<span class=\"params\">r</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (r) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">setInterval</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\tr.<span class=\"title function_\">update</span>();</span><br><span class=\"line\">\t\t\t&#125;, <span class=\"number\">1000</span> * <span class=\"number\">3</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ç¼–å†™æ›´æ–°å¼¹æ¡†\"><a href=\"#ç¼–å†™æ›´æ–°å¼¹æ¡†\" class=\"headerlink\" title=\"ç¼–å†™æ›´æ–°å¼¹æ¡†\"></a>ç¼–å†™æ›´æ–°å¼¹æ¡†</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class=\"line\">import &#123; useRegisterSW &#125; from &quot;virtual:pwa-register/vue&quot;;</span><br><span class=\"line\">import &#123; ref, watch &#125; from &quot;vue&quot;;</span><br><span class=\"line\">import &#123; ElMessage &#125; from &quot;element-plus&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">const &#123; offlineReady, needRefresh, updateServiceWorker &#125; = useRegisterSW(&#123;</span><br><span class=\"line\">\tonRegistered(r) &#123;</span><br><span class=\"line\">\t\tif (r &amp;&amp; !check.value) &#123;</span><br><span class=\"line\">\t\t\tsetInterval(() =&gt; &#123;</span><br><span class=\"line\">\t\t\t\tr.update();</span><br><span class=\"line\">\t\t\t&#125;, 1000 * 3);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// å¦‚æœæ˜¯å¼ºåˆ¶æ›´æ–°ï¼Œåªéœ€è¦needRefresh.value å³å¯ï¼›</span><br><span class=\"line\"></span><br><span class=\"line\">// ç”¨å¦å¤–çš„å˜é‡æ§åˆ¶å¼¹æ¡†çš„æ˜¾ç¤º</span><br><span class=\"line\">const check = ref(needRefresh.value);</span><br><span class=\"line\"></span><br><span class=\"line\">const loading = ref(false);</span><br><span class=\"line\">const btnText = ref(&quot;ç«‹å³æ›´æ–°&quot;);</span><br><span class=\"line\">// æ›´æ–°</span><br><span class=\"line\">const updataPage = async () =&gt; &#123;</span><br><span class=\"line\">\tloading.value = true;</span><br><span class=\"line\">\tbtnText.value = &quot;æ­£åœ¨æ›´æ–°ä¸­...&quot;;</span><br><span class=\"line\">\tawait updateServiceWorker();</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">// å…³é—­å¼¹æ¡†</span><br><span class=\"line\">const close = () =&gt; &#123;</span><br><span class=\"line\">\tcheck.value = false;</span><br><span class=\"line\">\tloading.value = false;</span><br><span class=\"line\">\tbtnText.value = &quot;ç«‹å³æ›´æ–°&quot;;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">// æ›´æ–°çš„æ—¶å€™ç¦æ­¢å…³é—­</span><br><span class=\"line\">const beforeClose = (done: any) =&gt; &#123;</span><br><span class=\"line\">\tif (!loading.value) &#123;</span><br><span class=\"line\">\t\treturn done();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tElMessage(&#123;</span><br><span class=\"line\">\t\tmessage: &quot;æ­£åœ¨è¿›è¡Œæ›´æ–°, è¯·ç¨ç­‰...&quot;,</span><br><span class=\"line\">\t\ttype: &quot;warning&quot;,</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">// æ²¡3sä¼šæ›´æ–°needRefresh.valueçš„çŠ¶æ€ï¼Œæ‰€ä»¥è¿™é‡Œç›‘å¬ä¸€ä¸‹å³å¯ï¼›</span><br><span class=\"line\">watch(</span><br><span class=\"line\">\t() =&gt; needRefresh.value,</span><br><span class=\"line\">\tval =&gt; &#123;</span><br><span class=\"line\">\t\tcheck.value = val;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">);</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;div&gt;======11111213+++---&lt;/div&gt;</span><br><span class=\"line\">\t&lt;el-dialog</span><br><span class=\"line\">\t\tv-model=&quot;check&quot;</span><br><span class=\"line\">\t\tappend-to-body</span><br><span class=\"line\">\t\tclass=&quot;w-update&quot;</span><br><span class=\"line\">\t\tdraggable</span><br><span class=\"line\">\t\twidth=&quot;410px&quot;</span><br><span class=\"line\">\t\t:before-close=&quot;beforeClose&quot;</span><br><span class=\"line\">\t&gt;</span><br><span class=\"line\">\t\t&lt;template #header&gt;&lt;/template&gt;</span><br><span class=\"line\">\t\t&lt;div class=&quot;w-update-icon&quot;&gt;&lt;/div&gt;</span><br><span class=\"line\">\t\t&lt;h3&gt;æ–°ç‰ˆæœ¬æ¥è¢­ï¼š&lt;/h3&gt;</span><br><span class=\"line\">\t\t&lt;p&gt;æ›´æ–°æ—¶é—´ï¼šæœ€è¿‘æ›´æ–°&lt;/p&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&lt;p&gt;æ›´æ–°å†…å®¹ï¼šæ›´æ–°çš„å†…å®¹å‘¢è¿˜è¯·è¯¦çœ‹ä¸Šçº¿é‚®ä»¶ï½&lt;/p&gt;</span><br><span class=\"line\">\t\t&lt;p style=&quot;color: #ff0000; font-size: 12px&quot;&gt;</span><br><span class=\"line\">\t\t\tå¦‚æœæ‚¨æš‚æ—¶ä¸æƒ³æ›´æ–°(å¦‚ï¼šæ‚¨æ­£åœ¨æ“ä½œå†…å®¹)ï¼Œç‚¹å‡»å…³é—­æŒ‰é’®å¯å…³é—­ï¼Œåç»­æƒ³æ›´æ–°åªéœ€è¦åˆ·æ–°é¡µé¢è¿›è¡Œæ›´æ–°å³å¯~å¦‚æœæƒ³ä½¿ç”¨æ–°åŠŸèƒ½ï¼Œè¯·ç‚¹å‡»æ›´æ–°æŒ‰é’®å³å¯</span><br><span class=\"line\">\t\t&lt;/p&gt;</span><br><span class=\"line\">\t\t&lt;template #footer&gt;</span><br><span class=\"line\">\t\t\t&lt;el-button type=&quot;primary&quot; @click=&quot;updataPage&quot; :loading=&quot;loading&quot;&gt;</span><br><span class=\"line\">\t\t\t\t&#123;&#123; btnText &#125;&#125;</span><br><span class=\"line\">\t\t\t&lt;/el-button&gt;</span><br><span class=\"line\">\t\t\t&lt;el-button type=&quot;default&quot; :loading=&quot;loading&quot; @click=&quot;close&quot;&gt;</span><br><span class=\"line\">\t\t\t\tæš‚æ—¶ä¸æ›´æ–°</span><br><span class=\"line\">\t\t\t&lt;/el-button&gt;</span><br><span class=\"line\">\t\t&lt;/template&gt;</span><br><span class=\"line\">\t&lt;/el-dialog&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style scoped&gt;</span><br><span class=\"line\">.w-update &#123;</span><br><span class=\"line\">\tposition: relative;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.w-update-icon &#123;</span><br><span class=\"line\">\tposition: absolute;</span><br><span class=\"line\">\ttop: -50px;</span><br><span class=\"line\">\tleft: 50%;</span><br><span class=\"line\">\twidth: 100px;</span><br><span class=\"line\">\theight: 100px;</span><br><span class=\"line\">\tline-height: 100px;</span><br><span class=\"line\">\ttext-align: center;</span><br><span class=\"line\">\tbackground: linear-gradient(</span><br><span class=\"line\">\t\t50deg,</span><br><span class=\"line\">\t\tvar(--el-color-primary),</span><br><span class=\"line\">\t\tvar(--el-color-primary-light-7)</span><br><span class=\"line\">\t);</span><br><span class=\"line\">\tborder-radius: 50%;</span><br><span class=\"line\">\ttransform: translateX(-50%);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.w-update-icon i &#123;</span><br><span class=\"line\">\tfont-size: 50px;</span><br><span class=\"line\">\tcolor: var(--el-color-white);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.w-update-cup &#123;</span><br><span class=\"line\">\tposition: absolute;</span><br><span class=\"line\">\tright: 20px;</span><br><span class=\"line\">\tbottom: 70px;</span><br><span class=\"line\">\tfont-size: 80px;</span><br><span class=\"line\">\t-webkit-text-fill-color: transparent;</span><br><span class=\"line\">\tbackground-image: linear-gradient(</span><br><span class=\"line\">\t\tvar(--el-color-primary-light-7),</span><br><span class=\"line\">\t\tvar(--el-color-primary-light-9)</span><br><span class=\"line\">\t);</span><br><span class=\"line\">\tbackground-clip: text;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\">.w-update.el-dialog &#123;</span><br><span class=\"line\">\tmargin-top: 30vh !important;</span><br><span class=\"line\">\tborder-radius: 15px;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.w-update .el-dialog__body &#123;</span><br><span class=\"line\">\tmargin: 0 40px 0 40px;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.w-update .el-dialog__footer &#123;</span><br><span class=\"line\">\ttext-align: center !important;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.w-update .el-button &#123;</span><br><span class=\"line\">\tmargin-bottom: 20px;</span><br><span class=\"line\">\tborder-radius: 20px;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æµ‹è¯•\"><a href=\"#æµ‹è¯•\" class=\"headerlink\" title=\"æµ‹è¯•\"></a>æµ‹è¯•</h2><p>æµ‹è¯•çš„è¯ï¼Œå¯ä»¥ä¸Šä¼ æœåŠ¡å™¨æˆ–è€…æœ¬åœ°<code>nginx</code>æµ‹è¯•ï¼›</p>\n<p>é¡¹ç›®æ‰§è¡Œ<code>pnpm run build</code>å°†ç”Ÿæˆ<code>dist</code>æ–‡ä»¶å¤¹ï¼Œå°†<code>dist</code>æ–‡ä»¶å¤¹ä¸Šä¼ åˆ°æœåŠ¡å™¨æˆ–è€…<code>nginxçš„htmlæ–‡ä»¶å¤¹ä¸­</code>å³å¯ï¼›</p>\n<p>ç„¶åç­‰å¾…é¡µé¢å¼¹æ¡†å³å¯ï¼›</p>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>ä¸Šç¯‡æ€»ç»“äº†å¦‚ä½•å®ç°ç½‘ç«™æ›´æ–°çš„åŠŸèƒ½ï¼Œç°åœ¨è¿˜æœ‰å¦å¤–çš„ä¸€ç§åšæ³•<a href=\"https://vite-pwa-org.netlify.app/\">pwa</a>æŠ€æœ¯å®ç°ï¼›</p>\n<h2 id=\"åˆ›å»ºé¡¹ç›®\"><a href=\"#åˆ›å»ºé¡¹ç›®\" class=\"headerlink\" title=\"åˆ›å»ºé¡¹ç›®\"></a>åˆ›å»ºé¡¹ç›®</h2><p>ç”¨<code>vite+ts+vue</code>åˆ›å»ºä¸€ä¸ªç©ºé¡¹ç›®</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm create vite vite-pwa-demo --template vue-ts</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å®‰è£…æ’ä»¶\"><a href=\"#å®‰è£…æ’ä»¶\" class=\"headerlink\" title=\"å®‰è£…æ’ä»¶\"></a>å®‰è£…æ’ä»¶</h2><p>å®‰è£…å®Œæˆä¹‹åï¼Œéœ€è¦å†æ¬¡å®‰è£…<code>pwa</code>æ’ä»¶</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add -D vite-plugin-pwa</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"é…ç½®æ’ä»¶\"><a href=\"#é…ç½®æ’ä»¶\" class=\"headerlink\" title=\"é…ç½®æ’ä»¶\"></a>é…ç½®æ’ä»¶</h2><p>å®Œæˆå®‰è£…ä¹‹åï¼Œéœ€è¦æ”¹ä¸€ä¸‹<code>vite.config.ts</code>æ–‡ä»¶ï¼Œæ·»åŠ <code>pwa</code>æ’ä»¶</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineConfig &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vite&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> vue <span class=\"keyword\">from</span> <span class=\"string\">&quot;@vitejs/plugin-vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">VitePWA</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vite-plugin-pwa&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">\t\t<span class=\"title function_\">vue</span>(),</span><br><span class=\"line\">\t\t<span class=\"title class_\">VitePWA</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// prompt å¼¹æ¡†æ¨¡å¼ã€‚ autoupdate è‡ªåŠ¨æ›´æ–°æ¨¡å¼</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">registerType</span>: <span class=\"string\">&quot;prompt&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">devOptions</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">enabled</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">workbox</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">cleanupOutdatedCaches</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">manifest</span>: &#123;&#125;,</span><br><span class=\"line\">\t\t&#125;),</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"attr\">server</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">port</span>: <span class=\"number\">5177</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>æ¥ç€éœ€è¦åœ¨<code>vite-env.d.ts</code>ä¸­æ·»åŠ å¯¹åº”çš„æœåŠ¡ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"variable language_\">module</span> <span class=\"string\">&quot;virtual:pwa-register/vue&quot;</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">import</span> <span class=\"keyword\">type</span> &#123; <span class=\"title class_\">Ref</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">import</span> <span class=\"keyword\">type</span> &#123; <span class=\"title class_\">RegisterSWOptions</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vite-plugin-pwa/types&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">export</span> <span class=\"keyword\">type</span> &#123; <span class=\"title class_\">RegisterSWOptions</span> &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">useRegisterSW</span>(<span class=\"params\"><span class=\"attr\">options</span>?: <span class=\"title class_\">RegisterSWOptions</span></span>): &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">needRefresh</span>: <span class=\"title class_\">Ref</span>&lt;<span class=\"built_in\">boolean</span>&gt;;</span><br><span class=\"line\">\t\t<span class=\"attr\">offlineReady</span>: <span class=\"title class_\">Ref</span>&lt;<span class=\"built_in\">boolean</span>&gt;;</span><br><span class=\"line\">\t\t<span class=\"attr\">updateServiceWorker</span>: <span class=\"function\">(<span class=\"params\"><span class=\"attr\">reloadPage</span>?: <span class=\"built_in\">boolean</span></span>) =&gt;</span> <span class=\"title class_\">Promise</span>&lt;<span class=\"built_in\">void</span>&gt;;</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ¥ç€åœ¨<code>tsconfig.json</code>ä¸­é…ç½®</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;compilerOptions&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ·»åŠ è¿™ä¸€è¡Œ</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;types&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"string\">&quot;vite-plugin-pwa/client&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;vite-plugin-pwa/vue&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;vite/client&quot;</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ›´æ–°æ£€æµ‹\"><a href=\"#æ›´æ–°æ£€æµ‹\" class=\"headerlink\" title=\"æ›´æ–°æ£€æµ‹\"></a>æ›´æ–°æ£€æµ‹</h2><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ ¸å¿ƒä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; useRegisterSW &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;virtual:pwa-register/vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; offlineReady, needRefresh, updateServiceWorker &#125; = <span class=\"title function_\">useRegisterSW</span>(&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æ¯éš”3sæ£€æŸ¥ä¸€æ¬¡æ˜¯å¦æœ‰æ–°ç‰ˆæœ¬</span></span><br><span class=\"line\">\t<span class=\"title function_\">onRegistered</span>(<span class=\"params\">r</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (r) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">setInterval</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\tr.<span class=\"title function_\">update</span>();</span><br><span class=\"line\">\t\t\t&#125;, <span class=\"number\">1000</span> * <span class=\"number\">3</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ç¼–å†™æ›´æ–°å¼¹æ¡†\"><a href=\"#ç¼–å†™æ›´æ–°å¼¹æ¡†\" class=\"headerlink\" title=\"ç¼–å†™æ›´æ–°å¼¹æ¡†\"></a>ç¼–å†™æ›´æ–°å¼¹æ¡†</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class=\"line\">import &#123; useRegisterSW &#125; from &quot;virtual:pwa-register/vue&quot;;</span><br><span class=\"line\">import &#123; ref, watch &#125; from &quot;vue&quot;;</span><br><span class=\"line\">import &#123; ElMessage &#125; from &quot;element-plus&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">const &#123; offlineReady, needRefresh, updateServiceWorker &#125; = useRegisterSW(&#123;</span><br><span class=\"line\">\tonRegistered(r) &#123;</span><br><span class=\"line\">\t\tif (r &amp;&amp; !check.value) &#123;</span><br><span class=\"line\">\t\t\tsetInterval(() =&gt; &#123;</span><br><span class=\"line\">\t\t\t\tr.update();</span><br><span class=\"line\">\t\t\t&#125;, 1000 * 3);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// å¦‚æœæ˜¯å¼ºåˆ¶æ›´æ–°ï¼Œåªéœ€è¦needRefresh.value å³å¯ï¼›</span><br><span class=\"line\"></span><br><span class=\"line\">// ç”¨å¦å¤–çš„å˜é‡æ§åˆ¶å¼¹æ¡†çš„æ˜¾ç¤º</span><br><span class=\"line\">const check = ref(needRefresh.value);</span><br><span class=\"line\"></span><br><span class=\"line\">const loading = ref(false);</span><br><span class=\"line\">const btnText = ref(&quot;ç«‹å³æ›´æ–°&quot;);</span><br><span class=\"line\">// æ›´æ–°</span><br><span class=\"line\">const updataPage = async () =&gt; &#123;</span><br><span class=\"line\">\tloading.value = true;</span><br><span class=\"line\">\tbtnText.value = &quot;æ­£åœ¨æ›´æ–°ä¸­...&quot;;</span><br><span class=\"line\">\tawait updateServiceWorker();</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">// å…³é—­å¼¹æ¡†</span><br><span class=\"line\">const close = () =&gt; &#123;</span><br><span class=\"line\">\tcheck.value = false;</span><br><span class=\"line\">\tloading.value = false;</span><br><span class=\"line\">\tbtnText.value = &quot;ç«‹å³æ›´æ–°&quot;;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">// æ›´æ–°çš„æ—¶å€™ç¦æ­¢å…³é—­</span><br><span class=\"line\">const beforeClose = (done: any) =&gt; &#123;</span><br><span class=\"line\">\tif (!loading.value) &#123;</span><br><span class=\"line\">\t\treturn done();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tElMessage(&#123;</span><br><span class=\"line\">\t\tmessage: &quot;æ­£åœ¨è¿›è¡Œæ›´æ–°, è¯·ç¨ç­‰...&quot;,</span><br><span class=\"line\">\t\ttype: &quot;warning&quot;,</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">// æ²¡3sä¼šæ›´æ–°needRefresh.valueçš„çŠ¶æ€ï¼Œæ‰€ä»¥è¿™é‡Œç›‘å¬ä¸€ä¸‹å³å¯ï¼›</span><br><span class=\"line\">watch(</span><br><span class=\"line\">\t() =&gt; needRefresh.value,</span><br><span class=\"line\">\tval =&gt; &#123;</span><br><span class=\"line\">\t\tcheck.value = val;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">);</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;div&gt;======11111213+++---&lt;/div&gt;</span><br><span class=\"line\">\t&lt;el-dialog</span><br><span class=\"line\">\t\tv-model=&quot;check&quot;</span><br><span class=\"line\">\t\tappend-to-body</span><br><span class=\"line\">\t\tclass=&quot;w-update&quot;</span><br><span class=\"line\">\t\tdraggable</span><br><span class=\"line\">\t\twidth=&quot;410px&quot;</span><br><span class=\"line\">\t\t:before-close=&quot;beforeClose&quot;</span><br><span class=\"line\">\t&gt;</span><br><span class=\"line\">\t\t&lt;template #header&gt;&lt;/template&gt;</span><br><span class=\"line\">\t\t&lt;div class=&quot;w-update-icon&quot;&gt;&lt;/div&gt;</span><br><span class=\"line\">\t\t&lt;h3&gt;æ–°ç‰ˆæœ¬æ¥è¢­ï¼š&lt;/h3&gt;</span><br><span class=\"line\">\t\t&lt;p&gt;æ›´æ–°æ—¶é—´ï¼šæœ€è¿‘æ›´æ–°&lt;/p&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&lt;p&gt;æ›´æ–°å†…å®¹ï¼šæ›´æ–°çš„å†…å®¹å‘¢è¿˜è¯·è¯¦çœ‹ä¸Šçº¿é‚®ä»¶ï½&lt;/p&gt;</span><br><span class=\"line\">\t\t&lt;p style=&quot;color: #ff0000; font-size: 12px&quot;&gt;</span><br><span class=\"line\">\t\t\tå¦‚æœæ‚¨æš‚æ—¶ä¸æƒ³æ›´æ–°(å¦‚ï¼šæ‚¨æ­£åœ¨æ“ä½œå†…å®¹)ï¼Œç‚¹å‡»å…³é—­æŒ‰é’®å¯å…³é—­ï¼Œåç»­æƒ³æ›´æ–°åªéœ€è¦åˆ·æ–°é¡µé¢è¿›è¡Œæ›´æ–°å³å¯~å¦‚æœæƒ³ä½¿ç”¨æ–°åŠŸèƒ½ï¼Œè¯·ç‚¹å‡»æ›´æ–°æŒ‰é’®å³å¯</span><br><span class=\"line\">\t\t&lt;/p&gt;</span><br><span class=\"line\">\t\t&lt;template #footer&gt;</span><br><span class=\"line\">\t\t\t&lt;el-button type=&quot;primary&quot; @click=&quot;updataPage&quot; :loading=&quot;loading&quot;&gt;</span><br><span class=\"line\">\t\t\t\t&#123;&#123; btnText &#125;&#125;</span><br><span class=\"line\">\t\t\t&lt;/el-button&gt;</span><br><span class=\"line\">\t\t\t&lt;el-button type=&quot;default&quot; :loading=&quot;loading&quot; @click=&quot;close&quot;&gt;</span><br><span class=\"line\">\t\t\t\tæš‚æ—¶ä¸æ›´æ–°</span><br><span class=\"line\">\t\t\t&lt;/el-button&gt;</span><br><span class=\"line\">\t\t&lt;/template&gt;</span><br><span class=\"line\">\t&lt;/el-dialog&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style scoped&gt;</span><br><span class=\"line\">.w-update &#123;</span><br><span class=\"line\">\tposition: relative;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.w-update-icon &#123;</span><br><span class=\"line\">\tposition: absolute;</span><br><span class=\"line\">\ttop: -50px;</span><br><span class=\"line\">\tleft: 50%;</span><br><span class=\"line\">\twidth: 100px;</span><br><span class=\"line\">\theight: 100px;</span><br><span class=\"line\">\tline-height: 100px;</span><br><span class=\"line\">\ttext-align: center;</span><br><span class=\"line\">\tbackground: linear-gradient(</span><br><span class=\"line\">\t\t50deg,</span><br><span class=\"line\">\t\tvar(--el-color-primary),</span><br><span class=\"line\">\t\tvar(--el-color-primary-light-7)</span><br><span class=\"line\">\t);</span><br><span class=\"line\">\tborder-radius: 50%;</span><br><span class=\"line\">\ttransform: translateX(-50%);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.w-update-icon i &#123;</span><br><span class=\"line\">\tfont-size: 50px;</span><br><span class=\"line\">\tcolor: var(--el-color-white);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.w-update-cup &#123;</span><br><span class=\"line\">\tposition: absolute;</span><br><span class=\"line\">\tright: 20px;</span><br><span class=\"line\">\tbottom: 70px;</span><br><span class=\"line\">\tfont-size: 80px;</span><br><span class=\"line\">\t-webkit-text-fill-color: transparent;</span><br><span class=\"line\">\tbackground-image: linear-gradient(</span><br><span class=\"line\">\t\tvar(--el-color-primary-light-7),</span><br><span class=\"line\">\t\tvar(--el-color-primary-light-9)</span><br><span class=\"line\">\t);</span><br><span class=\"line\">\tbackground-clip: text;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\">.w-update.el-dialog &#123;</span><br><span class=\"line\">\tmargin-top: 30vh !important;</span><br><span class=\"line\">\tborder-radius: 15px;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.w-update .el-dialog__body &#123;</span><br><span class=\"line\">\tmargin: 0 40px 0 40px;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.w-update .el-dialog__footer &#123;</span><br><span class=\"line\">\ttext-align: center !important;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.w-update .el-button &#123;</span><br><span class=\"line\">\tmargin-bottom: 20px;</span><br><span class=\"line\">\tborder-radius: 20px;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æµ‹è¯•\"><a href=\"#æµ‹è¯•\" class=\"headerlink\" title=\"æµ‹è¯•\"></a>æµ‹è¯•</h2><p>æµ‹è¯•çš„è¯ï¼Œå¯ä»¥ä¸Šä¼ æœåŠ¡å™¨æˆ–è€…æœ¬åœ°<code>nginx</code>æµ‹è¯•ï¼›</p>\n<p>é¡¹ç›®æ‰§è¡Œ<code>pnpm run build</code>å°†ç”Ÿæˆ<code>dist</code>æ–‡ä»¶å¤¹ï¼Œå°†<code>dist</code>æ–‡ä»¶å¤¹ä¸Šä¼ åˆ°æœåŠ¡å™¨æˆ–è€…<code>nginxçš„htmlæ–‡ä»¶å¤¹ä¸­</code>å³å¯ï¼›</p>\n<p>ç„¶åç­‰å¾…é¡µé¢å¼¹æ¡†å³å¯ï¼›</p>\n"},{"title":"æŠ€æœ¯è°ƒç ”-è®°å½•ä½¿ç”¨1Panelé‡åˆ°çš„é—®é¢˜","abbrlink":"872ab6ec","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\næœ€è¿‘åœ¨`bili`ä¸Šçœ‹åˆ°äº†ä¸€ä¸ªå¯è§†åŒ–è¿è¥é¢æ¿`(go + docker)`æ­å»ºè€Œæˆçš„ï¼› äºæ˜¯æˆ‘èŠ±å·¨èµ„ä¹°äº†ä¸€å°æœåŠ¡å™¨, åœ¨`Ubuntu`æ“ä½œç³»ç»Ÿä¸Šå®‰è£…ä½¿ç”¨`1Panel`ï¼›\n\né¦–å…ˆ`1Panel`çš„åœ¨çº¿å®‰è£…, [å¦‚ä½¿ç”¨å…¶ä»–å®‰è£…æ–¹å¼ï¼Œå¯æŸ¥çœ‹å®˜ç½‘](https://1panel.cn/docs/installation/online_installation/)\n\n```bash\n# è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯Ubuntu\ncurl -sSL https://resource.fit2cloud.com/1panel/package/quick_start.sh -o quick_start.sh && sudo bash quick_start.sh\n```\n\nå› ä¸ºé¢æ¿æ˜¯ä½¿ç”¨`docker`æ­å»ºçš„ï¼Œå½“ç„¶å°±è¦å®‰è£…`docker`;\n\n## é—®é¢˜ä¸€ï¼šå®‰è£…`docker`è¶…æ—¶å¤±è´¥\n\nå› ä¸ºå®‰è£…`docker`å°±åƒå®‰è£…`npm/pnpm install`ç±»ä¼¼ï¼Œæ˜¯éœ€è¦é•œåƒæºåœ°å€çš„ï¼›\n\nå› ä¸º`1Panel`é»˜è®¤ä½¿ç”¨çš„æ˜¯å®˜æ–¹çš„é•œåƒæºï¼Œé‚£ä¹ˆåœ¨ä¸­å›½å¤§é™†å¾ˆå¤šå…³äº`docker`çš„é•œåƒæºåœ°å€éƒ½å…³é—­ä¸‹æ¶äº†ï¼›å¯ä»¥æŸ¥çœ‹ [githubDocker Hub é•œåƒåŠ é€Ÿå™¨](https://gist.github.com/y0ngb1n/7e8f16af3242c7815e7ca2f0833d3ea6)ï¼Œå¯ä»¥çœ‹å‡ºå¾ˆå¤šçš„åœ°å€è¦ä¸æ˜¯å†…éƒ¨ä½¿ç”¨è¦ä¹ˆå°±æ˜¯å…³é—­äº†ï¼›\n\næˆ‘èŠ±æ—¶é—´æŸ¥è¯¢äº†ä¸€ä¸‹ç›¸å…³èµ„æ–™ï¼Œå°±æ˜¯ä½ çš„å…ˆåœ¨ä½ çš„æœåŠ¡å™¨ä¸Šå®‰è£…`docker`ï¼Œä½†æ˜¯å®‰è£…éœ€è¦é•œåƒåœ°å€ï¼› ä¹‹åå‘ç°äº†ä¸€ç±»ä¼¼é—®é¢˜çš„ç½‘é¡µ: [å®‰è£… 1panel æ—¶æç¤º docker å®‰è£…å¤±è´¥](https://bbs.fit2cloud.com/t/topic/5899)\n\nå½“ç„¶æ‚¨å¯ä»¥å°è¯•ä¸€ä¸‹ï¼Œ ä½†æ˜¯æˆ‘ä½¿ç”¨çš„æ˜¯ (å¤§é™†æœåŠ¡å™¨å®‰è£… docker çš„ä¸´æ—¶æ–¹æ³•ï¼ˆ2024.6 æœˆï¼‰ï¼ˆdocker å®‰è£…å¤±è´¥çš„æƒ…å†µï¼‰)[https://bbs.fit2cloud.com/t/topic/5891/27]ï¼Œ æœ‰å¤§ä½¬å‘äº†ä¸€ä¸ªç°æˆçš„`SHELL`å‘½ä»¤ï¼š\n\n### å®‰è£…æ–¹å¼ä¸€\n\n- è‡ªç”¨ VPS åˆå§‹è®¾ç½®è„šæœ¬: è‡ªå¸¦ docker å’Œ docker-compose å®‰è£…\n\n```SH\n # bash <(wget -qO- --no-check-certificate https://fastly.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)\n# bash <(wget -qO- --no-check-certificate https://gcore.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)\n# bash <(wget -qO- --no-check-certificate https://testingcf.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)\n# bash <(wget -qO- --no-check-certificate https://cdn.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)\nbash <(wget -qO- --no-check-certificate https://mirror.ghproxy.com/https://github.com/okxlin/ToolScript/raw/main/tools/vps-setup.sh)\n\n```\n\n### å®‰è£…æ–¹å¼äºŒ\n\n```SH\nbash <(curl -sSL https://linuxmirrors.cn/docker.sh)\n```\n\né•œåƒæˆ‘é€‰æ‹©çš„æ˜¯`é˜¿é‡Œäº‘`ï¼Œ å›è½¦ä¹‹åç­‰å¾…å®‰è£…ï¼Œ å®‰è£…æˆåŠŸä¹‹åé‡æ–°æ‰§è¡Œå®‰è£…`1Panel`å‘½ä»¤ï¼› ä¹‹åç­‰å¾…å®Œæˆå³å¯ï¼›ä¹‹åä¼šæœ‰è®¿é—®çš„é¢æ¿åœ°å€ï¼Œè´¦æˆ·ä»¥åŠå¯†ç (ç±»ä¼¼å®å¡”)\n\n## é—®é¢˜äºŒï¼šä¸‹è½½åº”ç”¨åŠ é€Ÿé•œåƒ\n\næˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸‹é»˜è®¤çš„åŠ é€Ÿé•œåƒåœ°å€\n\n![åœ°å€](https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240609160644.png)\n\nç‚¹å‡»å¿«é€Ÿè·³è½¬ï¼Œæ‰¾åˆ°`é•œåƒåŠ é€Ÿ--> è®¾ç½®`ï¼Œæ·»åŠ åœ°å€`https://docker.1panel.live`è¿™æ˜¯ä¸´æ—¶ä½¿ç”¨çš„åœ°å€ï¼›\n[åº”ç”¨å®‰è£…å¤±è´¥ é•œåƒæ‹‰å–è¶…æ—¶çš„ä¸´æ—¶è§£å†³æ–¹æ¡ˆ](https://bbs.fit2cloud.com/t/topic/5886)\n\nä¹‹åç›´æ¥å®‰è£…å°±å¥½äº†ï¼Œä½†æ˜¯é€Ÿåº¦å¯èƒ½æœ‰ç‚¹æ…¢ï¼Œç­‰å¾…å®Œæˆå®‰è£…å³å¯ï¼›\n\n## é—®é¢˜ä¸‰ï¼šè¯ä¹¦ç”³è¯·\n\n`ç½‘ç«™ --> è¯ä¹¦`ï¼Œ åˆ›å»º`Acmeè´¦æˆ·å’ŒDnsè´¦æˆ·`ï¼Œ è¿™é‡Œä¸»è¦è¯´ä¸‹`DNSè´¦æˆ·å¦‚ä½•ç”³è¯·ä½¿ç”¨`ï¼šæˆ‘ä½¿ç”¨çš„æ˜¯è…¾è®¯äº‘ï¼š\n\né¦–å…ˆè¿›å…¥è…¾è®¯[äº‘æ§åˆ¶å°-è®¿é—®ç®¡ç†](https://console.cloud.tencent.com/cam/overview)ï¼Œæ‰¾åˆ° ç”¨æˆ· -> ç”¨æˆ·åˆ—è¡¨ï¼Œç‚¹å‡»æ–°å»ºç”¨æˆ·-> è‡ªå®šä¹‰åˆ›å»ºã€‚\n\nä¾æ¬¡å®Œæˆä»¥ä¸‹æ­¥éª¤:\n\n1. é€‰æ‹©ç±»å‹ï¼šå¯è®¿é—®èµ„æºå¹¶æ¥æ”¶æ¶ˆæ¯\n2. å¡«å†™ç”¨æˆ·ä¿¡æ¯ï¼šç”¨æˆ·åéšä¾¿å¡«å•¦ï¼Œæˆ‘å¡«çš„æ˜¯ 1panel-dns-demoï¼Œå‹¾é€‰ç¼–ç¨‹è®¿é—®ã€‚\n\n3. è®¾ç½®ç”¨æˆ·æƒé™ï¼šæœä¸‹ dnsï¼Œå‹¾é€‰ç¬¬ä¸€ä¸ªäº‘è§£æ DNS å…¨è¯»å†™è®¿é—®æƒé™ç­–ç•¥åä¸º QcloudDNSPodFullAccessã€‚\n\n4. è®¾ç½®ç”¨æˆ·æ ‡ç­¾ï¼šæœ‰æ²¡æœ‰æ— æ‰€è°“ã€‚\n\n5. å®¡é˜…ä¿¡æ¯å’Œæƒé™ï¼šçœ‹ä¸‹ç”¨æˆ·ä¿¡æ¯æœ‰æ²¡æœ‰é—®é¢˜ï¼Œæ²¡é—®é¢˜å°±ç‚¹å®Œæˆã€‚\n\nå®Œæˆåè®°å¾—ä¿å­˜ç”¨æˆ·çš„ SecretId ä¸ SecretKeyï¼Œåªä¼šæ˜¾ç¤ºä¸€æ¬¡ã€‚\n\nå¯ä»¥æŸ¥çœ‹å‚è€ƒæ–‡æ¡£\n\n- [åœ¨ 1Panel ä¸­ç”³è¯· SSL è¯ä¹¦](https://insectmk.cn/posts/f3cf7d8c/index.html#%E5%88%9B%E5%BB%BA%E8%85%BE%E8%AE%AF%E4%BA%91%E7%94%A8%E6%88%B7)\n- [1panel ä¸­ä½¿ç”¨ cloudflare DNS è´¦æˆ·ç”³è¯· SSL è¯ä¹¦&è‡ªåŠ¨ç»­ç­¾](https://www.soulcloser.com/4075/)\n\n> **éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”³è¯·çš„åŸŸåä¸èƒ½å¸¦ç‰¹æ®Šå­—ç¬¦å“¦ï¼›**\n","source":"_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/è®°å½•ä½¿ç”¨1Panelé‡åˆ°çš„é—®é¢˜.md","raw":"---\ntitle: æŠ€æœ¯è°ƒç ”-è®°å½•ä½¿ç”¨1Panelé‡åˆ°çš„é—®é¢˜\nabbrlink: 872ab6ec\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - æŠ€æœ¯è°ƒç ”\n---\n\n# èƒŒæ™¯\n\næœ€è¿‘åœ¨`bili`ä¸Šçœ‹åˆ°äº†ä¸€ä¸ªå¯è§†åŒ–è¿è¥é¢æ¿`(go + docker)`æ­å»ºè€Œæˆçš„ï¼› äºæ˜¯æˆ‘èŠ±å·¨èµ„ä¹°äº†ä¸€å°æœåŠ¡å™¨, åœ¨`Ubuntu`æ“ä½œç³»ç»Ÿä¸Šå®‰è£…ä½¿ç”¨`1Panel`ï¼›\n\né¦–å…ˆ`1Panel`çš„åœ¨çº¿å®‰è£…, [å¦‚ä½¿ç”¨å…¶ä»–å®‰è£…æ–¹å¼ï¼Œå¯æŸ¥çœ‹å®˜ç½‘](https://1panel.cn/docs/installation/online_installation/)\n\n```bash\n# è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯Ubuntu\ncurl -sSL https://resource.fit2cloud.com/1panel/package/quick_start.sh -o quick_start.sh && sudo bash quick_start.sh\n```\n\nå› ä¸ºé¢æ¿æ˜¯ä½¿ç”¨`docker`æ­å»ºçš„ï¼Œå½“ç„¶å°±è¦å®‰è£…`docker`;\n\n## é—®é¢˜ä¸€ï¼šå®‰è£…`docker`è¶…æ—¶å¤±è´¥\n\nå› ä¸ºå®‰è£…`docker`å°±åƒå®‰è£…`npm/pnpm install`ç±»ä¼¼ï¼Œæ˜¯éœ€è¦é•œåƒæºåœ°å€çš„ï¼›\n\nå› ä¸º`1Panel`é»˜è®¤ä½¿ç”¨çš„æ˜¯å®˜æ–¹çš„é•œåƒæºï¼Œé‚£ä¹ˆåœ¨ä¸­å›½å¤§é™†å¾ˆå¤šå…³äº`docker`çš„é•œåƒæºåœ°å€éƒ½å…³é—­ä¸‹æ¶äº†ï¼›å¯ä»¥æŸ¥çœ‹ [githubDocker Hub é•œåƒåŠ é€Ÿå™¨](https://gist.github.com/y0ngb1n/7e8f16af3242c7815e7ca2f0833d3ea6)ï¼Œå¯ä»¥çœ‹å‡ºå¾ˆå¤šçš„åœ°å€è¦ä¸æ˜¯å†…éƒ¨ä½¿ç”¨è¦ä¹ˆå°±æ˜¯å…³é—­äº†ï¼›\n\næˆ‘èŠ±æ—¶é—´æŸ¥è¯¢äº†ä¸€ä¸‹ç›¸å…³èµ„æ–™ï¼Œå°±æ˜¯ä½ çš„å…ˆåœ¨ä½ çš„æœåŠ¡å™¨ä¸Šå®‰è£…`docker`ï¼Œä½†æ˜¯å®‰è£…éœ€è¦é•œåƒåœ°å€ï¼› ä¹‹åå‘ç°äº†ä¸€ç±»ä¼¼é—®é¢˜çš„ç½‘é¡µ: [å®‰è£… 1panel æ—¶æç¤º docker å®‰è£…å¤±è´¥](https://bbs.fit2cloud.com/t/topic/5899)\n\nå½“ç„¶æ‚¨å¯ä»¥å°è¯•ä¸€ä¸‹ï¼Œ ä½†æ˜¯æˆ‘ä½¿ç”¨çš„æ˜¯ (å¤§é™†æœåŠ¡å™¨å®‰è£… docker çš„ä¸´æ—¶æ–¹æ³•ï¼ˆ2024.6 æœˆï¼‰ï¼ˆdocker å®‰è£…å¤±è´¥çš„æƒ…å†µï¼‰)[https://bbs.fit2cloud.com/t/topic/5891/27]ï¼Œ æœ‰å¤§ä½¬å‘äº†ä¸€ä¸ªç°æˆçš„`SHELL`å‘½ä»¤ï¼š\n\n### å®‰è£…æ–¹å¼ä¸€\n\n- è‡ªç”¨ VPS åˆå§‹è®¾ç½®è„šæœ¬: è‡ªå¸¦ docker å’Œ docker-compose å®‰è£…\n\n```SH\n # bash <(wget -qO- --no-check-certificate https://fastly.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)\n# bash <(wget -qO- --no-check-certificate https://gcore.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)\n# bash <(wget -qO- --no-check-certificate https://testingcf.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)\n# bash <(wget -qO- --no-check-certificate https://cdn.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)\nbash <(wget -qO- --no-check-certificate https://mirror.ghproxy.com/https://github.com/okxlin/ToolScript/raw/main/tools/vps-setup.sh)\n\n```\n\n### å®‰è£…æ–¹å¼äºŒ\n\n```SH\nbash <(curl -sSL https://linuxmirrors.cn/docker.sh)\n```\n\né•œåƒæˆ‘é€‰æ‹©çš„æ˜¯`é˜¿é‡Œäº‘`ï¼Œ å›è½¦ä¹‹åç­‰å¾…å®‰è£…ï¼Œ å®‰è£…æˆåŠŸä¹‹åé‡æ–°æ‰§è¡Œå®‰è£…`1Panel`å‘½ä»¤ï¼› ä¹‹åç­‰å¾…å®Œæˆå³å¯ï¼›ä¹‹åä¼šæœ‰è®¿é—®çš„é¢æ¿åœ°å€ï¼Œè´¦æˆ·ä»¥åŠå¯†ç (ç±»ä¼¼å®å¡”)\n\n## é—®é¢˜äºŒï¼šä¸‹è½½åº”ç”¨åŠ é€Ÿé•œåƒ\n\næˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸‹é»˜è®¤çš„åŠ é€Ÿé•œåƒåœ°å€\n\n![åœ°å€](https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240609160644.png)\n\nç‚¹å‡»å¿«é€Ÿè·³è½¬ï¼Œæ‰¾åˆ°`é•œåƒåŠ é€Ÿ--> è®¾ç½®`ï¼Œæ·»åŠ åœ°å€`https://docker.1panel.live`è¿™æ˜¯ä¸´æ—¶ä½¿ç”¨çš„åœ°å€ï¼›\n[åº”ç”¨å®‰è£…å¤±è´¥ é•œåƒæ‹‰å–è¶…æ—¶çš„ä¸´æ—¶è§£å†³æ–¹æ¡ˆ](https://bbs.fit2cloud.com/t/topic/5886)\n\nä¹‹åç›´æ¥å®‰è£…å°±å¥½äº†ï¼Œä½†æ˜¯é€Ÿåº¦å¯èƒ½æœ‰ç‚¹æ…¢ï¼Œç­‰å¾…å®Œæˆå®‰è£…å³å¯ï¼›\n\n## é—®é¢˜ä¸‰ï¼šè¯ä¹¦ç”³è¯·\n\n`ç½‘ç«™ --> è¯ä¹¦`ï¼Œ åˆ›å»º`Acmeè´¦æˆ·å’ŒDnsè´¦æˆ·`ï¼Œ è¿™é‡Œä¸»è¦è¯´ä¸‹`DNSè´¦æˆ·å¦‚ä½•ç”³è¯·ä½¿ç”¨`ï¼šæˆ‘ä½¿ç”¨çš„æ˜¯è…¾è®¯äº‘ï¼š\n\né¦–å…ˆè¿›å…¥è…¾è®¯[äº‘æ§åˆ¶å°-è®¿é—®ç®¡ç†](https://console.cloud.tencent.com/cam/overview)ï¼Œæ‰¾åˆ° ç”¨æˆ· -> ç”¨æˆ·åˆ—è¡¨ï¼Œç‚¹å‡»æ–°å»ºç”¨æˆ·-> è‡ªå®šä¹‰åˆ›å»ºã€‚\n\nä¾æ¬¡å®Œæˆä»¥ä¸‹æ­¥éª¤:\n\n1. é€‰æ‹©ç±»å‹ï¼šå¯è®¿é—®èµ„æºå¹¶æ¥æ”¶æ¶ˆæ¯\n2. å¡«å†™ç”¨æˆ·ä¿¡æ¯ï¼šç”¨æˆ·åéšä¾¿å¡«å•¦ï¼Œæˆ‘å¡«çš„æ˜¯ 1panel-dns-demoï¼Œå‹¾é€‰ç¼–ç¨‹è®¿é—®ã€‚\n\n3. è®¾ç½®ç”¨æˆ·æƒé™ï¼šæœä¸‹ dnsï¼Œå‹¾é€‰ç¬¬ä¸€ä¸ªäº‘è§£æ DNS å…¨è¯»å†™è®¿é—®æƒé™ç­–ç•¥åä¸º QcloudDNSPodFullAccessã€‚\n\n4. è®¾ç½®ç”¨æˆ·æ ‡ç­¾ï¼šæœ‰æ²¡æœ‰æ— æ‰€è°“ã€‚\n\n5. å®¡é˜…ä¿¡æ¯å’Œæƒé™ï¼šçœ‹ä¸‹ç”¨æˆ·ä¿¡æ¯æœ‰æ²¡æœ‰é—®é¢˜ï¼Œæ²¡é—®é¢˜å°±ç‚¹å®Œæˆã€‚\n\nå®Œæˆåè®°å¾—ä¿å­˜ç”¨æˆ·çš„ SecretId ä¸ SecretKeyï¼Œåªä¼šæ˜¾ç¤ºä¸€æ¬¡ã€‚\n\nå¯ä»¥æŸ¥çœ‹å‚è€ƒæ–‡æ¡£\n\n- [åœ¨ 1Panel ä¸­ç”³è¯· SSL è¯ä¹¦](https://insectmk.cn/posts/f3cf7d8c/index.html#%E5%88%9B%E5%BB%BA%E8%85%BE%E8%AE%AF%E4%BA%91%E7%94%A8%E6%88%B7)\n- [1panel ä¸­ä½¿ç”¨ cloudflare DNS è´¦æˆ·ç”³è¯· SSL è¯ä¹¦&è‡ªåŠ¨ç»­ç­¾](https://www.soulcloser.com/4075/)\n\n> **éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”³è¯·çš„åŸŸåä¸èƒ½å¸¦ç‰¹æ®Šå­—ç¬¦å“¦ï¼›**\n","slug":"æ€»ç»“/æŠ€æœ¯è°ƒç ”/è®°å½•ä½¿ç”¨1Panelé‡åˆ°çš„é—®é¢˜","published":1,"updated":"2025-03-13T10:16:17.338Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0it0012fg9m4egldg2e","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>æœ€è¿‘åœ¨<code>bili</code>ä¸Šçœ‹åˆ°äº†ä¸€ä¸ªå¯è§†åŒ–è¿è¥é¢æ¿<code>(go + docker)</code>æ­å»ºè€Œæˆçš„ï¼› äºæ˜¯æˆ‘èŠ±å·¨èµ„ä¹°äº†ä¸€å°æœåŠ¡å™¨, åœ¨<code>Ubuntu</code>æ“ä½œç³»ç»Ÿä¸Šå®‰è£…ä½¿ç”¨<code>1Panel</code>ï¼›</p>\n<p>é¦–å…ˆ<code>1Panel</code>çš„åœ¨çº¿å®‰è£…, <a href=\"https://1panel.cn/docs/installation/online_installation/\">å¦‚ä½¿ç”¨å…¶ä»–å®‰è£…æ–¹å¼ï¼Œå¯æŸ¥çœ‹å®˜ç½‘</a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯Ubuntu</span></span><br><span class=\"line\">curl -sSL https://resource.fit2cloud.com/1panel/package/quick_start.sh -o quick_start.sh &amp;&amp; <span class=\"built_in\">sudo</span> bash quick_start.sh</span><br></pre></td></tr></table></figure>\n\n<p>å› ä¸ºé¢æ¿æ˜¯ä½¿ç”¨<code>docker</code>æ­å»ºçš„ï¼Œå½“ç„¶å°±è¦å®‰è£…<code>docker</code>;</p>\n<h2 id=\"é—®é¢˜ä¸€ï¼šå®‰è£…dockerè¶…æ—¶å¤±è´¥\"><a href=\"#é—®é¢˜ä¸€ï¼šå®‰è£…dockerè¶…æ—¶å¤±è´¥\" class=\"headerlink\" title=\"é—®é¢˜ä¸€ï¼šå®‰è£…dockerè¶…æ—¶å¤±è´¥\"></a>é—®é¢˜ä¸€ï¼šå®‰è£…<code>docker</code>è¶…æ—¶å¤±è´¥</h2><p>å› ä¸ºå®‰è£…<code>docker</code>å°±åƒå®‰è£…<code>npm/pnpm install</code>ç±»ä¼¼ï¼Œæ˜¯éœ€è¦é•œåƒæºåœ°å€çš„ï¼›</p>\n<p>å› ä¸º<code>1Panel</code>é»˜è®¤ä½¿ç”¨çš„æ˜¯å®˜æ–¹çš„é•œåƒæºï¼Œé‚£ä¹ˆåœ¨ä¸­å›½å¤§é™†å¾ˆå¤šå…³äº<code>docker</code>çš„é•œåƒæºåœ°å€éƒ½å…³é—­ä¸‹æ¶äº†ï¼›å¯ä»¥æŸ¥çœ‹ <a href=\"https://gist.github.com/y0ngb1n/7e8f16af3242c7815e7ca2f0833d3ea6\">githubDocker Hub é•œåƒåŠ é€Ÿå™¨</a>ï¼Œå¯ä»¥çœ‹å‡ºå¾ˆå¤šçš„åœ°å€è¦ä¸æ˜¯å†…éƒ¨ä½¿ç”¨è¦ä¹ˆå°±æ˜¯å…³é—­äº†ï¼›</p>\n<p>æˆ‘èŠ±æ—¶é—´æŸ¥è¯¢äº†ä¸€ä¸‹ç›¸å…³èµ„æ–™ï¼Œå°±æ˜¯ä½ çš„å…ˆåœ¨ä½ çš„æœåŠ¡å™¨ä¸Šå®‰è£…<code>docker</code>ï¼Œä½†æ˜¯å®‰è£…éœ€è¦é•œåƒåœ°å€ï¼› ä¹‹åå‘ç°äº†ä¸€ç±»ä¼¼é—®é¢˜çš„ç½‘é¡µ: <a href=\"https://bbs.fit2cloud.com/t/topic/5899\">å®‰è£… 1panel æ—¶æç¤º docker å®‰è£…å¤±è´¥</a></p>\n<p>å½“ç„¶æ‚¨å¯ä»¥å°è¯•ä¸€ä¸‹ï¼Œ ä½†æ˜¯æˆ‘ä½¿ç”¨çš„æ˜¯ (å¤§é™†æœåŠ¡å™¨å®‰è£… docker çš„ä¸´æ—¶æ–¹æ³•ï¼ˆ2024.6 æœˆï¼‰ï¼ˆdocker å®‰è£…å¤±è´¥çš„æƒ…å†µï¼‰)[<a href=\"https://bbs.fit2cloud.com/t/topic/5891/27]%EF%BC%8C\">https://bbs.fit2cloud.com/t/topic/5891/27]ï¼Œ</a> æœ‰å¤§ä½¬å‘äº†ä¸€ä¸ªç°æˆçš„<code>SHELL</code>å‘½ä»¤ï¼š</p>\n<h3 id=\"å®‰è£…æ–¹å¼ä¸€\"><a href=\"#å®‰è£…æ–¹å¼ä¸€\" class=\"headerlink\" title=\"å®‰è£…æ–¹å¼ä¸€\"></a>å®‰è£…æ–¹å¼ä¸€</h3><ul>\n<li>è‡ªç”¨ VPS åˆå§‹è®¾ç½®è„šæœ¬: è‡ªå¸¦ docker å’Œ docker-compose å®‰è£…</li>\n</ul>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"comment\"># bash &lt;(wget -qO- --no-check-certificate https://fastly.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)</span></span><br><span class=\"line\"><span class=\"comment\"># bash &lt;(wget -qO- --no-check-certificate https://gcore.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)</span></span><br><span class=\"line\"><span class=\"comment\"># bash &lt;(wget -qO- --no-check-certificate https://testingcf.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)</span></span><br><span class=\"line\"><span class=\"comment\"># bash &lt;(wget -qO- --no-check-certificate https://cdn.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)</span></span><br><span class=\"line\">bash &lt;(wget -qO- --no-check-certificate https://mirror.ghproxy.com/https://github.com/okxlin/ToolScript/raw/main/tools/vps-setup.sh)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å®‰è£…æ–¹å¼äºŒ\"><a href=\"#å®‰è£…æ–¹å¼äºŒ\" class=\"headerlink\" title=\"å®‰è£…æ–¹å¼äºŒ\"></a>å®‰è£…æ–¹å¼äºŒ</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash &lt;(curl -sSL https://linuxmirrors.cn/docker.sh)</span><br></pre></td></tr></table></figure>\n\n<p>é•œåƒæˆ‘é€‰æ‹©çš„æ˜¯<code>é˜¿é‡Œäº‘</code>ï¼Œ å›è½¦ä¹‹åç­‰å¾…å®‰è£…ï¼Œ å®‰è£…æˆåŠŸä¹‹åé‡æ–°æ‰§è¡Œå®‰è£…<code>1Panel</code>å‘½ä»¤ï¼› ä¹‹åç­‰å¾…å®Œæˆå³å¯ï¼›ä¹‹åä¼šæœ‰è®¿é—®çš„é¢æ¿åœ°å€ï¼Œè´¦æˆ·ä»¥åŠå¯†ç (ç±»ä¼¼å®å¡”)</p>\n<h2 id=\"é—®é¢˜äºŒï¼šä¸‹è½½åº”ç”¨åŠ é€Ÿé•œåƒ\"><a href=\"#é—®é¢˜äºŒï¼šä¸‹è½½åº”ç”¨åŠ é€Ÿé•œåƒ\" class=\"headerlink\" title=\"é—®é¢˜äºŒï¼šä¸‹è½½åº”ç”¨åŠ é€Ÿé•œåƒ\"></a>é—®é¢˜äºŒï¼šä¸‹è½½åº”ç”¨åŠ é€Ÿé•œåƒ</h2><p>æˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸‹é»˜è®¤çš„åŠ é€Ÿé•œåƒåœ°å€</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240609160644.png\" alt=\"åœ°å€\"></p>\n<p>ç‚¹å‡»å¿«é€Ÿè·³è½¬ï¼Œæ‰¾åˆ°<code>é•œåƒåŠ é€Ÿ--&gt; è®¾ç½®</code>ï¼Œæ·»åŠ åœ°å€<code>https://docker.1panel.live</code>è¿™æ˜¯ä¸´æ—¶ä½¿ç”¨çš„åœ°å€ï¼›<br><a href=\"https://bbs.fit2cloud.com/t/topic/5886\">åº”ç”¨å®‰è£…å¤±è´¥ é•œåƒæ‹‰å–è¶…æ—¶çš„ä¸´æ—¶è§£å†³æ–¹æ¡ˆ</a></p>\n<p>ä¹‹åç›´æ¥å®‰è£…å°±å¥½äº†ï¼Œä½†æ˜¯é€Ÿåº¦å¯èƒ½æœ‰ç‚¹æ…¢ï¼Œç­‰å¾…å®Œæˆå®‰è£…å³å¯ï¼›</p>\n<h2 id=\"é—®é¢˜ä¸‰ï¼šè¯ä¹¦ç”³è¯·\"><a href=\"#é—®é¢˜ä¸‰ï¼šè¯ä¹¦ç”³è¯·\" class=\"headerlink\" title=\"é—®é¢˜ä¸‰ï¼šè¯ä¹¦ç”³è¯·\"></a>é—®é¢˜ä¸‰ï¼šè¯ä¹¦ç”³è¯·</h2><p><code>ç½‘ç«™ --&gt; è¯ä¹¦</code>ï¼Œ åˆ›å»º<code>Acmeè´¦æˆ·å’ŒDnsè´¦æˆ·</code>ï¼Œ è¿™é‡Œä¸»è¦è¯´ä¸‹<code>DNSè´¦æˆ·å¦‚ä½•ç”³è¯·ä½¿ç”¨</code>ï¼šæˆ‘ä½¿ç”¨çš„æ˜¯è…¾è®¯äº‘ï¼š</p>\n<p>é¦–å…ˆè¿›å…¥è…¾è®¯<a href=\"https://console.cloud.tencent.com/cam/overview\">äº‘æ§åˆ¶å°-è®¿é—®ç®¡ç†</a>ï¼Œæ‰¾åˆ° ç”¨æˆ· -&gt; ç”¨æˆ·åˆ—è¡¨ï¼Œç‚¹å‡»æ–°å»ºç”¨æˆ·-&gt; è‡ªå®šä¹‰åˆ›å»ºã€‚</p>\n<p>ä¾æ¬¡å®Œæˆä»¥ä¸‹æ­¥éª¤:</p>\n<ol>\n<li><p>é€‰æ‹©ç±»å‹ï¼šå¯è®¿é—®èµ„æºå¹¶æ¥æ”¶æ¶ˆæ¯</p>\n</li>\n<li><p>å¡«å†™ç”¨æˆ·ä¿¡æ¯ï¼šç”¨æˆ·åéšä¾¿å¡«å•¦ï¼Œæˆ‘å¡«çš„æ˜¯ 1panel-dns-demoï¼Œå‹¾é€‰ç¼–ç¨‹è®¿é—®ã€‚</p>\n</li>\n<li><p>è®¾ç½®ç”¨æˆ·æƒé™ï¼šæœä¸‹ dnsï¼Œå‹¾é€‰ç¬¬ä¸€ä¸ªäº‘è§£æ DNS å…¨è¯»å†™è®¿é—®æƒé™ç­–ç•¥åä¸º QcloudDNSPodFullAccessã€‚</p>\n</li>\n<li><p>è®¾ç½®ç”¨æˆ·æ ‡ç­¾ï¼šæœ‰æ²¡æœ‰æ— æ‰€è°“ã€‚</p>\n</li>\n<li><p>å®¡é˜…ä¿¡æ¯å’Œæƒé™ï¼šçœ‹ä¸‹ç”¨æˆ·ä¿¡æ¯æœ‰æ²¡æœ‰é—®é¢˜ï¼Œæ²¡é—®é¢˜å°±ç‚¹å®Œæˆã€‚</p>\n</li>\n</ol>\n<p>å®Œæˆåè®°å¾—ä¿å­˜ç”¨æˆ·çš„ SecretId ä¸ SecretKeyï¼Œåªä¼šæ˜¾ç¤ºä¸€æ¬¡ã€‚</p>\n<p>å¯ä»¥æŸ¥çœ‹å‚è€ƒæ–‡æ¡£</p>\n<ul>\n<li><a href=\"https://insectmk.cn/posts/f3cf7d8c/index.html#%E5%88%9B%E5%BB%BA%E8%85%BE%E8%AE%AF%E4%BA%91%E7%94%A8%E6%88%B7\">åœ¨ 1Panel ä¸­ç”³è¯· SSL è¯ä¹¦</a></li>\n<li><a href=\"https://www.soulcloser.com/4075/\">1panel ä¸­ä½¿ç”¨ cloudflare DNS è´¦æˆ·ç”³è¯· SSL è¯ä¹¦&amp;è‡ªåŠ¨ç»­ç­¾</a></li>\n</ul>\n<blockquote>\n<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”³è¯·çš„åŸŸåä¸èƒ½å¸¦ç‰¹æ®Šå­—ç¬¦å“¦ï¼›</strong></p>\n</blockquote>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>æœ€è¿‘åœ¨<code>bili</code>ä¸Šçœ‹åˆ°äº†ä¸€ä¸ªå¯è§†åŒ–è¿è¥é¢æ¿<code>(go + docker)</code>æ­å»ºè€Œæˆçš„ï¼› äºæ˜¯æˆ‘èŠ±å·¨èµ„ä¹°äº†ä¸€å°æœåŠ¡å™¨, åœ¨<code>Ubuntu</code>æ“ä½œç³»ç»Ÿä¸Šå®‰è£…ä½¿ç”¨<code>1Panel</code>ï¼›</p>\n<p>é¦–å…ˆ<code>1Panel</code>çš„åœ¨çº¿å®‰è£…, <a href=\"https://1panel.cn/docs/installation/online_installation/\">å¦‚ä½¿ç”¨å…¶ä»–å®‰è£…æ–¹å¼ï¼Œå¯æŸ¥çœ‹å®˜ç½‘</a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯Ubuntu</span></span><br><span class=\"line\">curl -sSL https://resource.fit2cloud.com/1panel/package/quick_start.sh -o quick_start.sh &amp;&amp; <span class=\"built_in\">sudo</span> bash quick_start.sh</span><br></pre></td></tr></table></figure>\n\n<p>å› ä¸ºé¢æ¿æ˜¯ä½¿ç”¨<code>docker</code>æ­å»ºçš„ï¼Œå½“ç„¶å°±è¦å®‰è£…<code>docker</code>;</p>\n<h2 id=\"é—®é¢˜ä¸€ï¼šå®‰è£…dockerè¶…æ—¶å¤±è´¥\"><a href=\"#é—®é¢˜ä¸€ï¼šå®‰è£…dockerè¶…æ—¶å¤±è´¥\" class=\"headerlink\" title=\"é—®é¢˜ä¸€ï¼šå®‰è£…dockerè¶…æ—¶å¤±è´¥\"></a>é—®é¢˜ä¸€ï¼šå®‰è£…<code>docker</code>è¶…æ—¶å¤±è´¥</h2><p>å› ä¸ºå®‰è£…<code>docker</code>å°±åƒå®‰è£…<code>npm/pnpm install</code>ç±»ä¼¼ï¼Œæ˜¯éœ€è¦é•œåƒæºåœ°å€çš„ï¼›</p>\n<p>å› ä¸º<code>1Panel</code>é»˜è®¤ä½¿ç”¨çš„æ˜¯å®˜æ–¹çš„é•œåƒæºï¼Œé‚£ä¹ˆåœ¨ä¸­å›½å¤§é™†å¾ˆå¤šå…³äº<code>docker</code>çš„é•œåƒæºåœ°å€éƒ½å…³é—­ä¸‹æ¶äº†ï¼›å¯ä»¥æŸ¥çœ‹ <a href=\"https://gist.github.com/y0ngb1n/7e8f16af3242c7815e7ca2f0833d3ea6\">githubDocker Hub é•œåƒåŠ é€Ÿå™¨</a>ï¼Œå¯ä»¥çœ‹å‡ºå¾ˆå¤šçš„åœ°å€è¦ä¸æ˜¯å†…éƒ¨ä½¿ç”¨è¦ä¹ˆå°±æ˜¯å…³é—­äº†ï¼›</p>\n<p>æˆ‘èŠ±æ—¶é—´æŸ¥è¯¢äº†ä¸€ä¸‹ç›¸å…³èµ„æ–™ï¼Œå°±æ˜¯ä½ çš„å…ˆåœ¨ä½ çš„æœåŠ¡å™¨ä¸Šå®‰è£…<code>docker</code>ï¼Œä½†æ˜¯å®‰è£…éœ€è¦é•œåƒåœ°å€ï¼› ä¹‹åå‘ç°äº†ä¸€ç±»ä¼¼é—®é¢˜çš„ç½‘é¡µ: <a href=\"https://bbs.fit2cloud.com/t/topic/5899\">å®‰è£… 1panel æ—¶æç¤º docker å®‰è£…å¤±è´¥</a></p>\n<p>å½“ç„¶æ‚¨å¯ä»¥å°è¯•ä¸€ä¸‹ï¼Œ ä½†æ˜¯æˆ‘ä½¿ç”¨çš„æ˜¯ (å¤§é™†æœåŠ¡å™¨å®‰è£… docker çš„ä¸´æ—¶æ–¹æ³•ï¼ˆ2024.6 æœˆï¼‰ï¼ˆdocker å®‰è£…å¤±è´¥çš„æƒ…å†µï¼‰)[<a href=\"https://bbs.fit2cloud.com/t/topic/5891/27]%EF%BC%8C\">https://bbs.fit2cloud.com/t/topic/5891/27]ï¼Œ</a> æœ‰å¤§ä½¬å‘äº†ä¸€ä¸ªç°æˆçš„<code>SHELL</code>å‘½ä»¤ï¼š</p>\n<h3 id=\"å®‰è£…æ–¹å¼ä¸€\"><a href=\"#å®‰è£…æ–¹å¼ä¸€\" class=\"headerlink\" title=\"å®‰è£…æ–¹å¼ä¸€\"></a>å®‰è£…æ–¹å¼ä¸€</h3><ul>\n<li>è‡ªç”¨ VPS åˆå§‹è®¾ç½®è„šæœ¬: è‡ªå¸¦ docker å’Œ docker-compose å®‰è£…</li>\n</ul>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"comment\"># bash &lt;(wget -qO- --no-check-certificate https://fastly.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)</span></span><br><span class=\"line\"><span class=\"comment\"># bash &lt;(wget -qO- --no-check-certificate https://gcore.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)</span></span><br><span class=\"line\"><span class=\"comment\"># bash &lt;(wget -qO- --no-check-certificate https://testingcf.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)</span></span><br><span class=\"line\"><span class=\"comment\"># bash &lt;(wget -qO- --no-check-certificate https://cdn.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)</span></span><br><span class=\"line\">bash &lt;(wget -qO- --no-check-certificate https://mirror.ghproxy.com/https://github.com/okxlin/ToolScript/raw/main/tools/vps-setup.sh)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å®‰è£…æ–¹å¼äºŒ\"><a href=\"#å®‰è£…æ–¹å¼äºŒ\" class=\"headerlink\" title=\"å®‰è£…æ–¹å¼äºŒ\"></a>å®‰è£…æ–¹å¼äºŒ</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash &lt;(curl -sSL https://linuxmirrors.cn/docker.sh)</span><br></pre></td></tr></table></figure>\n\n<p>é•œåƒæˆ‘é€‰æ‹©çš„æ˜¯<code>é˜¿é‡Œäº‘</code>ï¼Œ å›è½¦ä¹‹åç­‰å¾…å®‰è£…ï¼Œ å®‰è£…æˆåŠŸä¹‹åé‡æ–°æ‰§è¡Œå®‰è£…<code>1Panel</code>å‘½ä»¤ï¼› ä¹‹åç­‰å¾…å®Œæˆå³å¯ï¼›ä¹‹åä¼šæœ‰è®¿é—®çš„é¢æ¿åœ°å€ï¼Œè´¦æˆ·ä»¥åŠå¯†ç (ç±»ä¼¼å®å¡”)</p>\n<h2 id=\"é—®é¢˜äºŒï¼šä¸‹è½½åº”ç”¨åŠ é€Ÿé•œåƒ\"><a href=\"#é—®é¢˜äºŒï¼šä¸‹è½½åº”ç”¨åŠ é€Ÿé•œåƒ\" class=\"headerlink\" title=\"é—®é¢˜äºŒï¼šä¸‹è½½åº”ç”¨åŠ é€Ÿé•œåƒ\"></a>é—®é¢˜äºŒï¼šä¸‹è½½åº”ç”¨åŠ é€Ÿé•œåƒ</h2><p>æˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸‹é»˜è®¤çš„åŠ é€Ÿé•œåƒåœ°å€</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240609160644.png\" alt=\"åœ°å€\"></p>\n<p>ç‚¹å‡»å¿«é€Ÿè·³è½¬ï¼Œæ‰¾åˆ°<code>é•œåƒåŠ é€Ÿ--&gt; è®¾ç½®</code>ï¼Œæ·»åŠ åœ°å€<code>https://docker.1panel.live</code>è¿™æ˜¯ä¸´æ—¶ä½¿ç”¨çš„åœ°å€ï¼›<br><a href=\"https://bbs.fit2cloud.com/t/topic/5886\">åº”ç”¨å®‰è£…å¤±è´¥ é•œåƒæ‹‰å–è¶…æ—¶çš„ä¸´æ—¶è§£å†³æ–¹æ¡ˆ</a></p>\n<p>ä¹‹åç›´æ¥å®‰è£…å°±å¥½äº†ï¼Œä½†æ˜¯é€Ÿåº¦å¯èƒ½æœ‰ç‚¹æ…¢ï¼Œç­‰å¾…å®Œæˆå®‰è£…å³å¯ï¼›</p>\n<h2 id=\"é—®é¢˜ä¸‰ï¼šè¯ä¹¦ç”³è¯·\"><a href=\"#é—®é¢˜ä¸‰ï¼šè¯ä¹¦ç”³è¯·\" class=\"headerlink\" title=\"é—®é¢˜ä¸‰ï¼šè¯ä¹¦ç”³è¯·\"></a>é—®é¢˜ä¸‰ï¼šè¯ä¹¦ç”³è¯·</h2><p><code>ç½‘ç«™ --&gt; è¯ä¹¦</code>ï¼Œ åˆ›å»º<code>Acmeè´¦æˆ·å’ŒDnsè´¦æˆ·</code>ï¼Œ è¿™é‡Œä¸»è¦è¯´ä¸‹<code>DNSè´¦æˆ·å¦‚ä½•ç”³è¯·ä½¿ç”¨</code>ï¼šæˆ‘ä½¿ç”¨çš„æ˜¯è…¾è®¯äº‘ï¼š</p>\n<p>é¦–å…ˆè¿›å…¥è…¾è®¯<a href=\"https://console.cloud.tencent.com/cam/overview\">äº‘æ§åˆ¶å°-è®¿é—®ç®¡ç†</a>ï¼Œæ‰¾åˆ° ç”¨æˆ· -&gt; ç”¨æˆ·åˆ—è¡¨ï¼Œç‚¹å‡»æ–°å»ºç”¨æˆ·-&gt; è‡ªå®šä¹‰åˆ›å»ºã€‚</p>\n<p>ä¾æ¬¡å®Œæˆä»¥ä¸‹æ­¥éª¤:</p>\n<ol>\n<li><p>é€‰æ‹©ç±»å‹ï¼šå¯è®¿é—®èµ„æºå¹¶æ¥æ”¶æ¶ˆæ¯</p>\n</li>\n<li><p>å¡«å†™ç”¨æˆ·ä¿¡æ¯ï¼šç”¨æˆ·åéšä¾¿å¡«å•¦ï¼Œæˆ‘å¡«çš„æ˜¯ 1panel-dns-demoï¼Œå‹¾é€‰ç¼–ç¨‹è®¿é—®ã€‚</p>\n</li>\n<li><p>è®¾ç½®ç”¨æˆ·æƒé™ï¼šæœä¸‹ dnsï¼Œå‹¾é€‰ç¬¬ä¸€ä¸ªäº‘è§£æ DNS å…¨è¯»å†™è®¿é—®æƒé™ç­–ç•¥åä¸º QcloudDNSPodFullAccessã€‚</p>\n</li>\n<li><p>è®¾ç½®ç”¨æˆ·æ ‡ç­¾ï¼šæœ‰æ²¡æœ‰æ— æ‰€è°“ã€‚</p>\n</li>\n<li><p>å®¡é˜…ä¿¡æ¯å’Œæƒé™ï¼šçœ‹ä¸‹ç”¨æˆ·ä¿¡æ¯æœ‰æ²¡æœ‰é—®é¢˜ï¼Œæ²¡é—®é¢˜å°±ç‚¹å®Œæˆã€‚</p>\n</li>\n</ol>\n<p>å®Œæˆåè®°å¾—ä¿å­˜ç”¨æˆ·çš„ SecretId ä¸ SecretKeyï¼Œåªä¼šæ˜¾ç¤ºä¸€æ¬¡ã€‚</p>\n<p>å¯ä»¥æŸ¥çœ‹å‚è€ƒæ–‡æ¡£</p>\n<ul>\n<li><a href=\"https://insectmk.cn/posts/f3cf7d8c/index.html#%E5%88%9B%E5%BB%BA%E8%85%BE%E8%AE%AF%E4%BA%91%E7%94%A8%E6%88%B7\">åœ¨ 1Panel ä¸­ç”³è¯· SSL è¯ä¹¦</a></li>\n<li><a href=\"https://www.soulcloser.com/4075/\">1panel ä¸­ä½¿ç”¨ cloudflare DNS è´¦æˆ·ç”³è¯· SSL è¯ä¹¦&amp;è‡ªåŠ¨ç»­ç­¾</a></li>\n</ul>\n<blockquote>\n<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”³è¯·çš„åŸŸåä¸èƒ½å¸¦ç‰¹æ®Šå­—ç¬¦å“¦ï¼›</strong></p>\n</blockquote>\n"},{"title":"æŠ€æœ¯è°ƒç ”-è·¨ç«¯ä¹‹å¤šç«¯ç³»ç»Ÿ","abbrlink":"f9b00f3b","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\nğŸ’¡ è·¨ç«¯çš„æ¦‚å¿µå·²ç»æ¸…æ¥šäº†ï¼Œä¹‹å‰å¤šå¥—ä»£ç ç»´æŠ¤å¤šç«¯ç³»ç»Ÿï¼Œå¯¼è‡´ä¸åŒçš„å…¼å®¹ï¼Œæ€§èƒ½éœ€è¦ä¸åŒç»´æŠ¤ï¼›å¼€å‘å¤šå¥—ä¸€è‡´çš„åŠŸèƒ½æ˜¯æ¯”è¾ƒæµªè´¹æ—¶é—´ï¼Œä¹Ÿæ˜¯ä¸åˆç†çš„ï¼›\n\n**ä»¥ä¸‹æ¡ˆä¾‹æ¶‰åŠåˆ°å…¬å¸çš„ä¸€äº›æ–¹æ¡ˆä»¥åŠé¡¹ç›®å›¾ç‰‡ï¼Œä»…ä¸ªäººæŸ¥çœ‹ï¼›**\n\n## è·¨ç«¯çš„æ¦‚å¿µä»¥åŠåœºæ™¯\n\nå¦‚æœä¸€ä¸ªç³»ç»Ÿèƒ½åœ¨ä¸åŒè®¾å¤‡ä¸Šæ˜¾ç¤ºï¼Œå¹¶ä¸”å§‹ç»ˆç»´æŠ¤ä¸€å¥—ä»£ç ï¼ŒåæœŸçš„å¼€å‘æ•ˆæœä¸ç»´æŠ¤æ›´åŠ è¿…é€Ÿï¼ŒåŠ å¿«æ•ˆç‡ï¼›å³ï¼šä¸€å¥—å¾®ä¿¡å°ç¨‹åºçš„ç”µå•†ç³»ç»Ÿï¼ˆç±»ä¼¼æ·˜å®ï¼Œäº¬ä¸œï¼‰ï¼Œæ¶‰åŠåˆ°ä¸‹å•ï¼Œè´­ç‰©è½¦ï¼Œæ”¯ä»˜ï¼Œå‘è´§ç­‰ç­‰ï¼Œä»¥åŠåæœŸçš„å®¢æœï¼›è¾ƒä¸ºåºå¤§çš„ç³»ç»Ÿä¸­å¦‚ä½•ç»Ÿä¸€è§„èŒƒï¼Œä¸€å¥—ä»£ç å®ç°å¤šç«¯å¤„ç†ï¼Œæ ·å¼ä»¥åŠç•Œé¢ä¸ä¼šæœ‰å¤ªå¤§çš„çªå‡ºï¼Ÿ\n\nè¿™é‡Œå¼•å…¥ä¸€ä¸ªæ–°çš„æ¦‚å¿µ è·¨ç«¯ï¼Œ è·¨ç«¯æŠ€æœ¯å¯¹äºå‰ç«¯æ¥è®²è¿˜æ˜¯è›®ä¸é”™çš„ï¼Œå› ä¸ºå‰ç«¯å±•ç¤ºçš„é¡µé¢å½¢å¼éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå¦‚æœä¸å¼•å…¥è·¨ç«¯ï¼Œå°±ä¼šå‡ºç°å¤šä¸ªç³»ç»Ÿï¼Œå¤šå¥—ä»£ç ç»´æŠ¤ä¸å¼€å‘ï¼›ä»è€Œå¯¼è‡´é¡¹ç›®è¿‡å¤§ï¼Œéš¾ä»¥ç»´æŠ¤çš„åæœï¼›\n\n<code>è·¨ç«¯</code>çš„åº”ç”¨åœºæ™¯è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œä¾‹å¦‚ï¼šä¸€å¥— h5 çš„ç”µå•†ç³»ç»Ÿï¼Œæ‰“å¼€ç½‘é¡µè¿›è¡Œç™»å½•å†å»ä¸‹å•ï¼Œè¿‡ç¨‹æ¯”è¾ƒéº»çƒ¦ï¼Œå¯èƒ½æœ‰çš„ç”¨æˆ·å°±å–œæ¬¢ç®€å•çš„æ“ä½œï¼Œé‚£å¥½ï¼Œå¼€å‘å°ç¨‹åºï¼Œä¸éœ€è¦ä½ ç™»å½•ï¼Œä¸éœ€è¦ä½ è¾“å…¥ç½‘å€æ‰“å¼€ç½‘é¡µå°±å¯ä»¥æ“ä½œï¼Œè¿˜æœ‰å¯èƒ½æœ‰çš„ç”¨æˆ·å–œæ¬¢ç”¨æ”¯ä»˜å®ï¼Œé‚£å¥½ï¼Œå¼€å‘æ”¯ä»˜å®å°ç¨‹åºï¼›å°±ç›¸å½“äºä¸€æ¡ä¸»è·¯æ·»åŠ äº†ä¿©æ¡è¾…è·¯ï¼Œæ€»æœ‰ä¸€æ¡æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼›\n\n<code>è·¨ç«¯</code>äº¦æ˜¯å¦‚æ­¤ï¼›ç°åœ¨çš„æŠ€æœ¯æ›´æ–°è¾ƒå¿«ï¼Œå¯¹äºå‰ç«¯å¼€å‘æ¥è®²éœ€è¦åœ¨çŸ­æ—¶é—´å†…å¼€å‘ä¸€å¥—å…¼å®¹å¤šç«¯ç³»ç»Ÿï¼Œé‚£æˆ‘è®¤ä¸ºè·¨ç«¯æ˜¯æœ€åˆé€‚çš„äº†ï¼›\n\nç°åœ¨å‰ç«¯è¡Œä¸šé’ˆå¯¹äº è·¨ç«¯ä¹Ÿæ˜¯æœ‰å¾ˆå¤šæ¡†æ¶çš„:\n\n- App çš„è·¨ç«¯ä¸ä»…å±€é™äºåŸç”Ÿçš„ Android å’Œ Ios, å¯¹äº react-native æ¥è®²æ—¢å¯ä»¥å¼€å‘ android ä¹Ÿå¯ä»¥å¼€å‘ ios, å¹¶ä¸”è¿ç”¨çš„æŠ€æœ¯è¿˜æ˜¯å‰ç«¯çš„ react;\n- å¦å¤– App å’Œ Web çš„è·¨ç«¯è¿˜æœ‰ google çš„ Flutter, åŒæ ·å’Œä¸Šé¢ä¸€æ ·, ä¸€å¥—ä»£ç å¼€å‘ android å’Œ ios,ä½†ç”±äºè¯­æ³•æ˜¯åŸºäº dart å¼€å‘çš„ï¼Œä¸Šæ‰‹éš¾åº¦è¾ƒå¤§ï¼›\n- å‰ç«¯ h5 çš„è·¨ç«¯ï¼Œé‚£å°±æ˜¯å°ç¨‹åºå’Œ h5 ç½‘é¡µäº†ï¼›ç°åœ¨ä½¿ç”¨æœ€å¤šçš„æ¡†æ¶é‚£å°±æ˜¯ uni-app å’Œ Taro äº†ï¼›\n\næ¥ä¸‹æ¥ï¼Œ å°†ä¼šè¿›è¡Œä¸€ä¸ªæµ‹è¯•æ€§çš„å®è·µæ–¹å¼ï¼›\n\nä¿©ç§è·¨ç«¯æŠ€æœ¯å‡é‡‡ç”¨æœ‰èµçš„ vant æ¡†æ¶ï¼Œè€Œ vant æœ‰é»˜è®¤ h5 å¼€å‘çš„æ¡†æ¶ï¼Œä¹Ÿæœ‰ä¸€ä¸ªå°ç¨‹åºçš„æ¡†æ¶ï¼›\n\n## Taro çš„ä½¿ç”¨\n\n### Taro æ˜¯ä»€ä¹ˆ?\n\n::: warning\nTaro æ˜¯ä¸€ä¸ªå¼€æ”¾å¼è·¨ç«¯çš„è§£å†³æ–¹æ¡ˆï¼Œ æ”¯æŒä½¿ç”¨ react-native/vue/nerv ç­‰æ¡†æ¶æ¥å¼€å‘å¾®ä¿¡/äº¬ä¸œ/ç™¾åº¦/æ”¯ä»˜å®/å­—èŠ‚è·³åŠ¨/QQ/é£ä¹¦/å°ç¨‹åº/H5/RN ç­‰åº”ç”¨ï¼›\n:::\n\n> ç°å¦‚ä»Šå¸‚é¢ä¸Šç«¯çš„å½¢æ€å¤šç§å¤šæ ·ï¼ŒWebã€React Nativeã€å¾®ä¿¡å°ç¨‹åºç­‰å„ç§ç«¯å¤§è¡Œå…¶é“ã€‚å½“ä¸šåŠ¡è¦æ±‚åŒæ—¶åœ¨ä¸åŒçš„ç«¯éƒ½è¦æ±‚æœ‰æ‰€è¡¨ç°çš„æ—¶å€™ï¼Œé’ˆå¯¹ä¸åŒçš„ç«¯å»ç¼–å†™å¤šå¥—ä»£ç çš„æˆæœ¬æ˜¾ç„¶éå¸¸é«˜ï¼Œè¿™æ—¶å€™åªç¼–å†™ä¸€å¥—ä»£ç å°±èƒ½å¤Ÿé€‚é…åˆ°å¤šç«¯çš„èƒ½åŠ›å°±æ˜¾å¾—æä¸ºéœ€è¦ã€‚\n\n### å®‰è£…ä½¿ç”¨\n\nå¯¹äºé¦–æ¬¡å®‰è£… Taro çš„å‰ç«¯æ¥è®²ï¼ŒTaro å®˜ç½‘æ–‡æ¡£å¹¶ä¸å®Œå–„ï¼Œé¦–æ¬¡å®‰è£…å‡ºç°äº†å¤§å¤§å°å°çš„é”™è¯¯ï¼Œ\n\n- åœ¨ä½¿ç”¨ taro doctor æ¥æ£€æµ‹é¡¹ç›®æ˜¯å¦å¯è¿è¡Œçš„æƒ…å†µä¸‹ï¼Œ å‡ºç°ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œéœ€è¦å®‰è£…ç›¸å¯¹äºçš„ç‰ˆæœ¬\n- é…ç½®æ–‡ä»¶ä¸æ­£ç¡®\n- å®‰è£…è¿‡ç¨‹ä¸­å‡ºç° sass ç›¸å…³çš„é”™è¯¯ï¼Œ è¿˜éœ€è¦å®‰è£…\n\n```sh\nnpm install -g mirror-config-china\n```\n\n- ç­‰ç­‰å…¶ä»–ä¸€ç³»åˆ—çš„å¤§å¤§å°å°çš„é—®é¢˜ï¼›\n\n![Install](https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_d.png)\n\n### è¿è¡Œä»¥åŠ package.json\n\næ—¢ç„¶æ˜¯è·¨ç«¯ï¼Œ è‚¯å®šæ¶‰åŠåˆ°çš„ npm å‘½ä»¤æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œ å‘½ä»¤å¦‚ä¸‹:\n\n![Service](https://wangxiaoze-view.github.io/picx-images-hosting/images/image_q_t_1.png)\n\nè¿è¡Œ H5 æ˜¯æ²¡é—®é¢˜çš„ï¼Œ è¿è¡ŒæˆåŠŸä¹‹åå¦‚ä¸‹æ˜¾ç¤º Hello world\n\n![Service](https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_1.png)\n\nä½†æ˜¯è¿è¡Œ wapp å‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ node-sass çš„ä¸ºé—®é¢˜\n\n```js\n// ä¼šå‡ºç°ä¸€ä¸ªè¿™æ ·çš„æŠ¥é”™ï¼›\nthrow new Error(errors.unsupportedEnvironment());\n```\n\néœ€è¦å®‰è£…è¯¥ç›¸å¯¹åº”çš„ node-sass ç‰ˆæœ¬ [è§£å†³æ–¹æ¡ˆ,](https://github.com/sass/node-sass/releases/tag/v4.14.1) å°è¯•è¿è¡Œ cnpm install node-sassï¼›\n\n![Service](https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_2.png)\n\næ¥ç€æ‰“åŒ… weapp æ‰“åŒ…æˆåŠŸä¹‹åä¼šåœ¨ dist ç›®å½•ç”Ÿæˆå¤§å¤§å°å°çš„æ–‡ä»¶ï¼Œæ¥ç€ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€ï¼Œä¼šå‘ç°æœ‰æŠ¥é”™æç¤ºï¼š\n\n```js\nSVGElement is not defined\n```\n\nåœ¨ github æ‰¾äº†ä¸€ä¸‹æ›´æ–°æ—¥å¿—æ‰çŸ¥é“\n\n![Service](https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_3.png)\n\næˆ‘æœ¬åœ°å®‰è£…çš„æ˜¯æ—§ç‰ˆæœ¬ï¼Œ è€Œè¿™ä¸ªé—®é¢˜åœ¨æ–°ç‰ˆæœ¬ä¿®å¤çš„ï¼Œ æ‰€ä»¥å°†æœ¬åœ°å½“å‰çš„é¡¹ç›®å‡çº§æœ€æ–°ç‰ˆæœ¬;\n\n```js\ntaro update self  // æ˜¯å°†å½“å‰çš„é¡¹ç›®å‡çº§\ntaro update project // å°†å…¨å±€çš„ç‰ˆæœ¬å‡çº§ï¼ŒåŠæ‰€æœ‰çš„taroé¡¹ç›®\n\n```\n\né‡æ–° build åˆå‡ºç°ä¸€ä¸ªæŠ¥é”™:\n\n```js\næ‰¾ä¸åˆ°ä¾èµ– \"@tarojs/plugin-platform-weapp\"ï¼Œè¯·å…ˆåœ¨é¡¹ç›®ä¸­å®‰è£…\n\n```\n\næ²¡åŠæ³•ï¼Œ æ¥ç€å°†é¡¹ç›®æ›´æ–°ï¼Œæ¡†æ¶æ›´æ–° åŒ…å®‰è£…å®Œå–„ä¹‹åï¼Œæ‰“åŒ… weapp æ˜¯å¯ä»¥çš„ï¼Œå¼€å‘å·¥å…·æ‰“å¼€ä¹‹ååˆå‡ºç°\n\n```js\nTypeError: Object(...) is not a function\n```\n\n....å¥½å§ï¼Œæ”¾å¼ƒäº†ï¼\n\nå®‰è£…è¿‡ç¨‹ä¸­ï¼Œå‡ºç°çš„é—®é¢˜å¤ªå¤šäº†ï¼Œæ–‡æ¡£è¯´æ˜ä¹Ÿä¸è¯¦ç»†ï¼Œå‡ºç°ç¨€å¥‡å¤æ€ªçš„é—®é¢˜ï¼›\n\n[è·¨ç«¯å®è·µ | Taro æ¡†æ¶ä¸­è¯¥å¦‚ä½•ä½¿ç”¨ Vant ç»„ä»¶åº“-é€‚é…å¤šç«¯](https://juejin.cn/post/7080176600704090143#heading-2)\n\n<font color=\"red\">ä¸æ“ä½œäº†ï¼Œ ä¸­é—´å‡ºç°çš„é—®é¢˜å¤ªå¤šäº†ï¼Œæ–‡æ¡£è¯´æ˜ä¹Ÿä¸å¤Ÿè¯¦ç»†ï¼Œå‡ºç°åŒ…ç‰ˆæœ¬å†²çªçš„é—®é¢˜æœ¬å°±æ˜¯è®©äººå¤´ç–¼çš„ï¼Œæœ‰ç‚¹æµªè´¹æ—¶é—´ï¼Œ æ—¶é—´ä¸å¤Ÿå……è¶³ï¼Œæ—¶é—´å……è¶³çš„è¯åæœŸå¯ä»¥ç ”ç©¶ä¸€ä¸‹ï¼›</font>\n\n## uniapp\n\né€šè¿‡å‘½ä»¤ `vue create -p dcloudio/uni-preset-vue my-project` ä½¿ç”¨é»˜è®¤æ¨¡æ¿ã€‚\né¡¹ç›®å®‰è£…æˆåŠŸä¹‹åï¼Œé€šè¿‡å‘½ä»¤ `yarn run dev:h5 å’Œ yarn run dev:mp-weixin `å¯åŠ¨ h5 å’Œæ‰“åŒ…å¾®ä¿¡å°ç¨‹åº, åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æ‰“å¼€ `dist dev/map-weixin`\n\nä¸è¿‡è¿™é‡Œ h5 æ˜¯å¯ä»¥æ­£å¸¸æ‰“å¼€çš„ã€‚ ä½†æ˜¯å¾®ä¿¡æ˜¯æŠ¥é”™çš„ï¼Œ é…ç½®å¥½ appid, å°†é¡¹ç›®ç›®å½•çš„ vue.config.js ä¸­çš„ä¿©è¡Œä»£ç åˆ é™¤æˆ–è€…æ³¨é‡Šæ‰ï¼š\n\n```js\nprocess.env.UNI_USING_VUE3 = true;\nprocess.env.UNI_USING_VUE3_OPTIONS_API = true;\n```\n\né‡æ–°ç¼–è¯‘å°±å¯ä»¥æ‰“å¼€äº†ï¼›\nåœ¨ vant weapp å®˜ç½‘ å³ä¸Šè§’ github ä¸‹è½½æºç ï¼Œå°† dist å‘½åä¸º vant å­˜æ”¾äºä¸ pages ç›®å½•å¹³è¡Œçš„ wxcomponents ç›®å½•ä¸‹\n\nåœ¨ pages.json ä¸­é…ç½®ä¸€ä¸‹å‘½ä»¤ï¼š\n\n```json\n{\n\t\"globalStyle\": {\n\t\t\"navigationBarTextStyle\": \"black\",\n\t\t\"navigationBarTitleText\": \"uni-app\",\n\t\t\"navigationBarBackgroundColor\": \"#F8F8F8\",\n\t\t\"backgroundColor\": \"#F8F8F8\",\n\n\t\t// ä»£ç åœ¨è¿™é‡Œ\n\t\t\"usingComponents\": {\n\t\t\t\"van-button\": \"/wxcomponents/vant/button/index\"\n\t\t}\n\t}\n}\n```\n\nApp.vue ä¸­å¼•å…¥ vant çš„æ ·å¼\n\n```js\n<style>\n\t/*æ¯ä¸ªé¡µé¢å…¬å…±css */ @import '/wxcomponents/vant/common/index.wxss';\n</style>\n```\n\nåˆ°è¿™é‡Œä¸ºæ­¢ï¼Œå°ç¨‹åºæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œ è€Œåœ¨ h5 ä¼šæœ‰æ ·å¼å¼•å…¥ä¹±ç ï¼Œ æ‰¾åˆ° icon ç»„ä»¶ï¼Œ å°†æ ·å¼æ ¼å¼åŒ–ä¹‹åå°±å¯ä»¥è¿è¡Œäº†ï¼›\n\n### å†™ä¸€ä¸ª oP çš„é¡µé¢ï¼ŒåŒæ—¶å…¼å®¹å°ç¨‹åºå’Œ h5\n\n> æ—¢ç„¶æƒ³è¦å…¼å®¹ä¿©ä¸ªä¸åŒçš„ç«¯ï¼Œ é‚£ä¹ˆå°±è¦å°†åŸæœ‰çš„å†™æ³•ä¿®æ”¹ä¸€ä¸‹ï¼›\n\n1. div æ¢æˆ view\n2. img æ¢æˆ image\n3. span æ¢æˆ text\n4. ...\n5. vant æ¡†æ¶ è·å– v-modal æ¢æˆ value; è·å–å€¼ï¼Œ event.detail;\n6. axios è¯·æ±‚åœ¨ h5 å¯ä»¥æ­£å¸¸è®¿é—®, å°ç¨‹åºä¸å¯ä»¥ï¼›\n7. é¡µé¢è·³è½¬ï¼›\n\n### æ•ˆæœé¢„è§ˆ\n\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_4.png)\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_5.png)\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_6.png)\n\n### å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼›\n\n> ç”±äºæ—¶é—´ä¸å¤ªå¤Ÿï¼Œç›®å‰æ²¡æœ‰è€ƒè™‘å¤ªå¤šçš„ä¸œè¥¿ï¼Œæ—¢ç„¶æ˜¯è·¨ç«¯ï¼Œè‚¯å®šä¼šå­˜åœ¨å…¼å®¹é—®é¢˜ï¼›\n\nç›®å‰éœ€è¦è€ƒè™‘çš„é—®é¢˜:\n\n1. é¡µé¢æ ·å¼å•ä½çš„é€‰æ‹©\n2. axios å’Œ uni.request() ç»“åˆå°è£…?\n3. è‡³å°‘å…¼å®¹è‡³ï¼š å¾®ä¿¡å°ç¨‹åºï¼Œpc é¡µé¢å’Œ h5 é¡µé¢ï¼› ä¿è¯åœ¨æ‰‹æœºå¾®ä¿¡å’Œä¼ä¸šå¾®ä¿¡ç§»åŠ¨ç«¯å’Œ pc ç«¯æ‰“å¼€ï¼Œç¨³å®šè¿è¡Œï¼›\n4. listView çš„å…¼å®¹ï¼Œé…å¥—ä¸‹æ‹‰åˆ·æ–°ä¸Šæ‹‰åŠ è½½\n5. ç™»å½•æˆæƒåŠŸèƒ½ï¼›ç›®å‰å­˜åœ¨ç–‘æƒ‘ï¼Œh5 æˆæƒçš„æ˜¯å…¬ä¼—å·ï¼Œå°ç¨‹åºæˆæƒçš„å‘¢?\n6. æ¶‰åŠåˆ°åæœŸæ”¯ä»˜é—®é¢˜ï¼ŒopenId çš„è·å–ï¼Ÿå¦‚ä½•åœ¨ä¸åŒç«¯æ‹¿åˆ° openId?\n7. ç™»å½•æˆæƒï¼Ÿå¦‚ä½•åšï¼ŸæŒ‰é’®æç¤ºè¿˜æ˜¯åˆå§‹é¡µé¢æç¤º?\n8. å…¶ä»–...\n\n### åæœŸéœ€è¦è€ƒè™‘çš„é—®é¢˜\n\n- ç°åœ¨æ˜¯æ¬§æ´¾ä¸€å¥—ç³»ç»Ÿï¼Œè¥¿é—¨å­ä¸€å¥—ç³»ç»Ÿï¼Œ åæœŸï¼Ÿï¼Ÿï¼Ÿ\n- ä¸åŒå•†å®¶åˆä½œå•†å…¥å£ï¼Ÿæ˜¯å¦å¯ä»¥åšæˆä¸€å¥—ï¼Ÿ\n- å¦‚æœåšæˆä¸€å¥—ï¼Œå¦‚ä½•åœ¨ä¸åŒåœºæ™¯æ›´å¥½çš„å±•ç¤ºï¼Œä¸”æ”¹åŠ¨è¾ƒå°‘ï¼›\n- å¦‚æœåšé…ç½®è¯ç®¡ç†ï¼Œæ˜¯å¦å­˜åœ¨ç¼ºé™· ä»¥åŠä¸è¶³ï¼›æ¶‰åŠåˆ°ï¼ˆæ ·å¼ï¼Œä¸»é¢˜è‰²ï¼Œå¸ƒå±€ç­‰ç­‰ï¼‰ï¼›\n","source":"_posts/æ€»ç»“/æŠ€æœ¯è°ƒç ”/è·¨ç«¯ä¹‹å¤šç«¯ç³»ç»Ÿ.md","raw":"---\ntitle: æŠ€æœ¯è°ƒç ”-è·¨ç«¯ä¹‹å¤šç«¯ç³»ç»Ÿ\nabbrlink: f9b00f3b\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - æŠ€æœ¯è°ƒç ”\n---\n\n# èƒŒæ™¯\n\nğŸ’¡ è·¨ç«¯çš„æ¦‚å¿µå·²ç»æ¸…æ¥šäº†ï¼Œä¹‹å‰å¤šå¥—ä»£ç ç»´æŠ¤å¤šç«¯ç³»ç»Ÿï¼Œå¯¼è‡´ä¸åŒçš„å…¼å®¹ï¼Œæ€§èƒ½éœ€è¦ä¸åŒç»´æŠ¤ï¼›å¼€å‘å¤šå¥—ä¸€è‡´çš„åŠŸèƒ½æ˜¯æ¯”è¾ƒæµªè´¹æ—¶é—´ï¼Œä¹Ÿæ˜¯ä¸åˆç†çš„ï¼›\n\n**ä»¥ä¸‹æ¡ˆä¾‹æ¶‰åŠåˆ°å…¬å¸çš„ä¸€äº›æ–¹æ¡ˆä»¥åŠé¡¹ç›®å›¾ç‰‡ï¼Œä»…ä¸ªäººæŸ¥çœ‹ï¼›**\n\n## è·¨ç«¯çš„æ¦‚å¿µä»¥åŠåœºæ™¯\n\nå¦‚æœä¸€ä¸ªç³»ç»Ÿèƒ½åœ¨ä¸åŒè®¾å¤‡ä¸Šæ˜¾ç¤ºï¼Œå¹¶ä¸”å§‹ç»ˆç»´æŠ¤ä¸€å¥—ä»£ç ï¼ŒåæœŸçš„å¼€å‘æ•ˆæœä¸ç»´æŠ¤æ›´åŠ è¿…é€Ÿï¼ŒåŠ å¿«æ•ˆç‡ï¼›å³ï¼šä¸€å¥—å¾®ä¿¡å°ç¨‹åºçš„ç”µå•†ç³»ç»Ÿï¼ˆç±»ä¼¼æ·˜å®ï¼Œäº¬ä¸œï¼‰ï¼Œæ¶‰åŠåˆ°ä¸‹å•ï¼Œè´­ç‰©è½¦ï¼Œæ”¯ä»˜ï¼Œå‘è´§ç­‰ç­‰ï¼Œä»¥åŠåæœŸçš„å®¢æœï¼›è¾ƒä¸ºåºå¤§çš„ç³»ç»Ÿä¸­å¦‚ä½•ç»Ÿä¸€è§„èŒƒï¼Œä¸€å¥—ä»£ç å®ç°å¤šç«¯å¤„ç†ï¼Œæ ·å¼ä»¥åŠç•Œé¢ä¸ä¼šæœ‰å¤ªå¤§çš„çªå‡ºï¼Ÿ\n\nè¿™é‡Œå¼•å…¥ä¸€ä¸ªæ–°çš„æ¦‚å¿µ è·¨ç«¯ï¼Œ è·¨ç«¯æŠ€æœ¯å¯¹äºå‰ç«¯æ¥è®²è¿˜æ˜¯è›®ä¸é”™çš„ï¼Œå› ä¸ºå‰ç«¯å±•ç¤ºçš„é¡µé¢å½¢å¼éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå¦‚æœä¸å¼•å…¥è·¨ç«¯ï¼Œå°±ä¼šå‡ºç°å¤šä¸ªç³»ç»Ÿï¼Œå¤šå¥—ä»£ç ç»´æŠ¤ä¸å¼€å‘ï¼›ä»è€Œå¯¼è‡´é¡¹ç›®è¿‡å¤§ï¼Œéš¾ä»¥ç»´æŠ¤çš„åæœï¼›\n\n<code>è·¨ç«¯</code>çš„åº”ç”¨åœºæ™¯è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œä¾‹å¦‚ï¼šä¸€å¥— h5 çš„ç”µå•†ç³»ç»Ÿï¼Œæ‰“å¼€ç½‘é¡µè¿›è¡Œç™»å½•å†å»ä¸‹å•ï¼Œè¿‡ç¨‹æ¯”è¾ƒéº»çƒ¦ï¼Œå¯èƒ½æœ‰çš„ç”¨æˆ·å°±å–œæ¬¢ç®€å•çš„æ“ä½œï¼Œé‚£å¥½ï¼Œå¼€å‘å°ç¨‹åºï¼Œä¸éœ€è¦ä½ ç™»å½•ï¼Œä¸éœ€è¦ä½ è¾“å…¥ç½‘å€æ‰“å¼€ç½‘é¡µå°±å¯ä»¥æ“ä½œï¼Œè¿˜æœ‰å¯èƒ½æœ‰çš„ç”¨æˆ·å–œæ¬¢ç”¨æ”¯ä»˜å®ï¼Œé‚£å¥½ï¼Œå¼€å‘æ”¯ä»˜å®å°ç¨‹åºï¼›å°±ç›¸å½“äºä¸€æ¡ä¸»è·¯æ·»åŠ äº†ä¿©æ¡è¾…è·¯ï¼Œæ€»æœ‰ä¸€æ¡æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼›\n\n<code>è·¨ç«¯</code>äº¦æ˜¯å¦‚æ­¤ï¼›ç°åœ¨çš„æŠ€æœ¯æ›´æ–°è¾ƒå¿«ï¼Œå¯¹äºå‰ç«¯å¼€å‘æ¥è®²éœ€è¦åœ¨çŸ­æ—¶é—´å†…å¼€å‘ä¸€å¥—å…¼å®¹å¤šç«¯ç³»ç»Ÿï¼Œé‚£æˆ‘è®¤ä¸ºè·¨ç«¯æ˜¯æœ€åˆé€‚çš„äº†ï¼›\n\nç°åœ¨å‰ç«¯è¡Œä¸šé’ˆå¯¹äº è·¨ç«¯ä¹Ÿæ˜¯æœ‰å¾ˆå¤šæ¡†æ¶çš„:\n\n- App çš„è·¨ç«¯ä¸ä»…å±€é™äºåŸç”Ÿçš„ Android å’Œ Ios, å¯¹äº react-native æ¥è®²æ—¢å¯ä»¥å¼€å‘ android ä¹Ÿå¯ä»¥å¼€å‘ ios, å¹¶ä¸”è¿ç”¨çš„æŠ€æœ¯è¿˜æ˜¯å‰ç«¯çš„ react;\n- å¦å¤– App å’Œ Web çš„è·¨ç«¯è¿˜æœ‰ google çš„ Flutter, åŒæ ·å’Œä¸Šé¢ä¸€æ ·, ä¸€å¥—ä»£ç å¼€å‘ android å’Œ ios,ä½†ç”±äºè¯­æ³•æ˜¯åŸºäº dart å¼€å‘çš„ï¼Œä¸Šæ‰‹éš¾åº¦è¾ƒå¤§ï¼›\n- å‰ç«¯ h5 çš„è·¨ç«¯ï¼Œé‚£å°±æ˜¯å°ç¨‹åºå’Œ h5 ç½‘é¡µäº†ï¼›ç°åœ¨ä½¿ç”¨æœ€å¤šçš„æ¡†æ¶é‚£å°±æ˜¯ uni-app å’Œ Taro äº†ï¼›\n\næ¥ä¸‹æ¥ï¼Œ å°†ä¼šè¿›è¡Œä¸€ä¸ªæµ‹è¯•æ€§çš„å®è·µæ–¹å¼ï¼›\n\nä¿©ç§è·¨ç«¯æŠ€æœ¯å‡é‡‡ç”¨æœ‰èµçš„ vant æ¡†æ¶ï¼Œè€Œ vant æœ‰é»˜è®¤ h5 å¼€å‘çš„æ¡†æ¶ï¼Œä¹Ÿæœ‰ä¸€ä¸ªå°ç¨‹åºçš„æ¡†æ¶ï¼›\n\n## Taro çš„ä½¿ç”¨\n\n### Taro æ˜¯ä»€ä¹ˆ?\n\n::: warning\nTaro æ˜¯ä¸€ä¸ªå¼€æ”¾å¼è·¨ç«¯çš„è§£å†³æ–¹æ¡ˆï¼Œ æ”¯æŒä½¿ç”¨ react-native/vue/nerv ç­‰æ¡†æ¶æ¥å¼€å‘å¾®ä¿¡/äº¬ä¸œ/ç™¾åº¦/æ”¯ä»˜å®/å­—èŠ‚è·³åŠ¨/QQ/é£ä¹¦/å°ç¨‹åº/H5/RN ç­‰åº”ç”¨ï¼›\n:::\n\n> ç°å¦‚ä»Šå¸‚é¢ä¸Šç«¯çš„å½¢æ€å¤šç§å¤šæ ·ï¼ŒWebã€React Nativeã€å¾®ä¿¡å°ç¨‹åºç­‰å„ç§ç«¯å¤§è¡Œå…¶é“ã€‚å½“ä¸šåŠ¡è¦æ±‚åŒæ—¶åœ¨ä¸åŒçš„ç«¯éƒ½è¦æ±‚æœ‰æ‰€è¡¨ç°çš„æ—¶å€™ï¼Œé’ˆå¯¹ä¸åŒçš„ç«¯å»ç¼–å†™å¤šå¥—ä»£ç çš„æˆæœ¬æ˜¾ç„¶éå¸¸é«˜ï¼Œè¿™æ—¶å€™åªç¼–å†™ä¸€å¥—ä»£ç å°±èƒ½å¤Ÿé€‚é…åˆ°å¤šç«¯çš„èƒ½åŠ›å°±æ˜¾å¾—æä¸ºéœ€è¦ã€‚\n\n### å®‰è£…ä½¿ç”¨\n\nå¯¹äºé¦–æ¬¡å®‰è£… Taro çš„å‰ç«¯æ¥è®²ï¼ŒTaro å®˜ç½‘æ–‡æ¡£å¹¶ä¸å®Œå–„ï¼Œé¦–æ¬¡å®‰è£…å‡ºç°äº†å¤§å¤§å°å°çš„é”™è¯¯ï¼Œ\n\n- åœ¨ä½¿ç”¨ taro doctor æ¥æ£€æµ‹é¡¹ç›®æ˜¯å¦å¯è¿è¡Œçš„æƒ…å†µä¸‹ï¼Œ å‡ºç°ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œéœ€è¦å®‰è£…ç›¸å¯¹äºçš„ç‰ˆæœ¬\n- é…ç½®æ–‡ä»¶ä¸æ­£ç¡®\n- å®‰è£…è¿‡ç¨‹ä¸­å‡ºç° sass ç›¸å…³çš„é”™è¯¯ï¼Œ è¿˜éœ€è¦å®‰è£…\n\n```sh\nnpm install -g mirror-config-china\n```\n\n- ç­‰ç­‰å…¶ä»–ä¸€ç³»åˆ—çš„å¤§å¤§å°å°çš„é—®é¢˜ï¼›\n\n![Install](https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_d.png)\n\n### è¿è¡Œä»¥åŠ package.json\n\næ—¢ç„¶æ˜¯è·¨ç«¯ï¼Œ è‚¯å®šæ¶‰åŠåˆ°çš„ npm å‘½ä»¤æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œ å‘½ä»¤å¦‚ä¸‹:\n\n![Service](https://wangxiaoze-view.github.io/picx-images-hosting/images/image_q_t_1.png)\n\nè¿è¡Œ H5 æ˜¯æ²¡é—®é¢˜çš„ï¼Œ è¿è¡ŒæˆåŠŸä¹‹åå¦‚ä¸‹æ˜¾ç¤º Hello world\n\n![Service](https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_1.png)\n\nä½†æ˜¯è¿è¡Œ wapp å‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ node-sass çš„ä¸ºé—®é¢˜\n\n```js\n// ä¼šå‡ºç°ä¸€ä¸ªè¿™æ ·çš„æŠ¥é”™ï¼›\nthrow new Error(errors.unsupportedEnvironment());\n```\n\néœ€è¦å®‰è£…è¯¥ç›¸å¯¹åº”çš„ node-sass ç‰ˆæœ¬ [è§£å†³æ–¹æ¡ˆ,](https://github.com/sass/node-sass/releases/tag/v4.14.1) å°è¯•è¿è¡Œ cnpm install node-sassï¼›\n\n![Service](https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_2.png)\n\næ¥ç€æ‰“åŒ… weapp æ‰“åŒ…æˆåŠŸä¹‹åä¼šåœ¨ dist ç›®å½•ç”Ÿæˆå¤§å¤§å°å°çš„æ–‡ä»¶ï¼Œæ¥ç€ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€ï¼Œä¼šå‘ç°æœ‰æŠ¥é”™æç¤ºï¼š\n\n```js\nSVGElement is not defined\n```\n\nåœ¨ github æ‰¾äº†ä¸€ä¸‹æ›´æ–°æ—¥å¿—æ‰çŸ¥é“\n\n![Service](https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_3.png)\n\næˆ‘æœ¬åœ°å®‰è£…çš„æ˜¯æ—§ç‰ˆæœ¬ï¼Œ è€Œè¿™ä¸ªé—®é¢˜åœ¨æ–°ç‰ˆæœ¬ä¿®å¤çš„ï¼Œ æ‰€ä»¥å°†æœ¬åœ°å½“å‰çš„é¡¹ç›®å‡çº§æœ€æ–°ç‰ˆæœ¬;\n\n```js\ntaro update self  // æ˜¯å°†å½“å‰çš„é¡¹ç›®å‡çº§\ntaro update project // å°†å…¨å±€çš„ç‰ˆæœ¬å‡çº§ï¼ŒåŠæ‰€æœ‰çš„taroé¡¹ç›®\n\n```\n\né‡æ–° build åˆå‡ºç°ä¸€ä¸ªæŠ¥é”™:\n\n```js\næ‰¾ä¸åˆ°ä¾èµ– \"@tarojs/plugin-platform-weapp\"ï¼Œè¯·å…ˆåœ¨é¡¹ç›®ä¸­å®‰è£…\n\n```\n\næ²¡åŠæ³•ï¼Œ æ¥ç€å°†é¡¹ç›®æ›´æ–°ï¼Œæ¡†æ¶æ›´æ–° åŒ…å®‰è£…å®Œå–„ä¹‹åï¼Œæ‰“åŒ… weapp æ˜¯å¯ä»¥çš„ï¼Œå¼€å‘å·¥å…·æ‰“å¼€ä¹‹ååˆå‡ºç°\n\n```js\nTypeError: Object(...) is not a function\n```\n\n....å¥½å§ï¼Œæ”¾å¼ƒäº†ï¼\n\nå®‰è£…è¿‡ç¨‹ä¸­ï¼Œå‡ºç°çš„é—®é¢˜å¤ªå¤šäº†ï¼Œæ–‡æ¡£è¯´æ˜ä¹Ÿä¸è¯¦ç»†ï¼Œå‡ºç°ç¨€å¥‡å¤æ€ªçš„é—®é¢˜ï¼›\n\n[è·¨ç«¯å®è·µ | Taro æ¡†æ¶ä¸­è¯¥å¦‚ä½•ä½¿ç”¨ Vant ç»„ä»¶åº“-é€‚é…å¤šç«¯](https://juejin.cn/post/7080176600704090143#heading-2)\n\n<font color=\"red\">ä¸æ“ä½œäº†ï¼Œ ä¸­é—´å‡ºç°çš„é—®é¢˜å¤ªå¤šäº†ï¼Œæ–‡æ¡£è¯´æ˜ä¹Ÿä¸å¤Ÿè¯¦ç»†ï¼Œå‡ºç°åŒ…ç‰ˆæœ¬å†²çªçš„é—®é¢˜æœ¬å°±æ˜¯è®©äººå¤´ç–¼çš„ï¼Œæœ‰ç‚¹æµªè´¹æ—¶é—´ï¼Œ æ—¶é—´ä¸å¤Ÿå……è¶³ï¼Œæ—¶é—´å……è¶³çš„è¯åæœŸå¯ä»¥ç ”ç©¶ä¸€ä¸‹ï¼›</font>\n\n## uniapp\n\né€šè¿‡å‘½ä»¤ `vue create -p dcloudio/uni-preset-vue my-project` ä½¿ç”¨é»˜è®¤æ¨¡æ¿ã€‚\né¡¹ç›®å®‰è£…æˆåŠŸä¹‹åï¼Œé€šè¿‡å‘½ä»¤ `yarn run dev:h5 å’Œ yarn run dev:mp-weixin `å¯åŠ¨ h5 å’Œæ‰“åŒ…å¾®ä¿¡å°ç¨‹åº, åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æ‰“å¼€ `dist dev/map-weixin`\n\nä¸è¿‡è¿™é‡Œ h5 æ˜¯å¯ä»¥æ­£å¸¸æ‰“å¼€çš„ã€‚ ä½†æ˜¯å¾®ä¿¡æ˜¯æŠ¥é”™çš„ï¼Œ é…ç½®å¥½ appid, å°†é¡¹ç›®ç›®å½•çš„ vue.config.js ä¸­çš„ä¿©è¡Œä»£ç åˆ é™¤æˆ–è€…æ³¨é‡Šæ‰ï¼š\n\n```js\nprocess.env.UNI_USING_VUE3 = true;\nprocess.env.UNI_USING_VUE3_OPTIONS_API = true;\n```\n\né‡æ–°ç¼–è¯‘å°±å¯ä»¥æ‰“å¼€äº†ï¼›\nåœ¨ vant weapp å®˜ç½‘ å³ä¸Šè§’ github ä¸‹è½½æºç ï¼Œå°† dist å‘½åä¸º vant å­˜æ”¾äºä¸ pages ç›®å½•å¹³è¡Œçš„ wxcomponents ç›®å½•ä¸‹\n\nåœ¨ pages.json ä¸­é…ç½®ä¸€ä¸‹å‘½ä»¤ï¼š\n\n```json\n{\n\t\"globalStyle\": {\n\t\t\"navigationBarTextStyle\": \"black\",\n\t\t\"navigationBarTitleText\": \"uni-app\",\n\t\t\"navigationBarBackgroundColor\": \"#F8F8F8\",\n\t\t\"backgroundColor\": \"#F8F8F8\",\n\n\t\t// ä»£ç åœ¨è¿™é‡Œ\n\t\t\"usingComponents\": {\n\t\t\t\"van-button\": \"/wxcomponents/vant/button/index\"\n\t\t}\n\t}\n}\n```\n\nApp.vue ä¸­å¼•å…¥ vant çš„æ ·å¼\n\n```js\n<style>\n\t/*æ¯ä¸ªé¡µé¢å…¬å…±css */ @import '/wxcomponents/vant/common/index.wxss';\n</style>\n```\n\nåˆ°è¿™é‡Œä¸ºæ­¢ï¼Œå°ç¨‹åºæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œ è€Œåœ¨ h5 ä¼šæœ‰æ ·å¼å¼•å…¥ä¹±ç ï¼Œ æ‰¾åˆ° icon ç»„ä»¶ï¼Œ å°†æ ·å¼æ ¼å¼åŒ–ä¹‹åå°±å¯ä»¥è¿è¡Œäº†ï¼›\n\n### å†™ä¸€ä¸ª oP çš„é¡µé¢ï¼ŒåŒæ—¶å…¼å®¹å°ç¨‹åºå’Œ h5\n\n> æ—¢ç„¶æƒ³è¦å…¼å®¹ä¿©ä¸ªä¸åŒçš„ç«¯ï¼Œ é‚£ä¹ˆå°±è¦å°†åŸæœ‰çš„å†™æ³•ä¿®æ”¹ä¸€ä¸‹ï¼›\n\n1. div æ¢æˆ view\n2. img æ¢æˆ image\n3. span æ¢æˆ text\n4. ...\n5. vant æ¡†æ¶ è·å– v-modal æ¢æˆ value; è·å–å€¼ï¼Œ event.detail;\n6. axios è¯·æ±‚åœ¨ h5 å¯ä»¥æ­£å¸¸è®¿é—®, å°ç¨‹åºä¸å¯ä»¥ï¼›\n7. é¡µé¢è·³è½¬ï¼›\n\n### æ•ˆæœé¢„è§ˆ\n\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_4.png)\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_5.png)\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_6.png)\n\n### å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼›\n\n> ç”±äºæ—¶é—´ä¸å¤ªå¤Ÿï¼Œç›®å‰æ²¡æœ‰è€ƒè™‘å¤ªå¤šçš„ä¸œè¥¿ï¼Œæ—¢ç„¶æ˜¯è·¨ç«¯ï¼Œè‚¯å®šä¼šå­˜åœ¨å…¼å®¹é—®é¢˜ï¼›\n\nç›®å‰éœ€è¦è€ƒè™‘çš„é—®é¢˜:\n\n1. é¡µé¢æ ·å¼å•ä½çš„é€‰æ‹©\n2. axios å’Œ uni.request() ç»“åˆå°è£…?\n3. è‡³å°‘å…¼å®¹è‡³ï¼š å¾®ä¿¡å°ç¨‹åºï¼Œpc é¡µé¢å’Œ h5 é¡µé¢ï¼› ä¿è¯åœ¨æ‰‹æœºå¾®ä¿¡å’Œä¼ä¸šå¾®ä¿¡ç§»åŠ¨ç«¯å’Œ pc ç«¯æ‰“å¼€ï¼Œç¨³å®šè¿è¡Œï¼›\n4. listView çš„å…¼å®¹ï¼Œé…å¥—ä¸‹æ‹‰åˆ·æ–°ä¸Šæ‹‰åŠ è½½\n5. ç™»å½•æˆæƒåŠŸèƒ½ï¼›ç›®å‰å­˜åœ¨ç–‘æƒ‘ï¼Œh5 æˆæƒçš„æ˜¯å…¬ä¼—å·ï¼Œå°ç¨‹åºæˆæƒçš„å‘¢?\n6. æ¶‰åŠåˆ°åæœŸæ”¯ä»˜é—®é¢˜ï¼ŒopenId çš„è·å–ï¼Ÿå¦‚ä½•åœ¨ä¸åŒç«¯æ‹¿åˆ° openId?\n7. ç™»å½•æˆæƒï¼Ÿå¦‚ä½•åšï¼ŸæŒ‰é’®æç¤ºè¿˜æ˜¯åˆå§‹é¡µé¢æç¤º?\n8. å…¶ä»–...\n\n### åæœŸéœ€è¦è€ƒè™‘çš„é—®é¢˜\n\n- ç°åœ¨æ˜¯æ¬§æ´¾ä¸€å¥—ç³»ç»Ÿï¼Œè¥¿é—¨å­ä¸€å¥—ç³»ç»Ÿï¼Œ åæœŸï¼Ÿï¼Ÿï¼Ÿ\n- ä¸åŒå•†å®¶åˆä½œå•†å…¥å£ï¼Ÿæ˜¯å¦å¯ä»¥åšæˆä¸€å¥—ï¼Ÿ\n- å¦‚æœåšæˆä¸€å¥—ï¼Œå¦‚ä½•åœ¨ä¸åŒåœºæ™¯æ›´å¥½çš„å±•ç¤ºï¼Œä¸”æ”¹åŠ¨è¾ƒå°‘ï¼›\n- å¦‚æœåšé…ç½®è¯ç®¡ç†ï¼Œæ˜¯å¦å­˜åœ¨ç¼ºé™· ä»¥åŠä¸è¶³ï¼›æ¶‰åŠåˆ°ï¼ˆæ ·å¼ï¼Œä¸»é¢˜è‰²ï¼Œå¸ƒå±€ç­‰ç­‰ï¼‰ï¼›\n","slug":"æ€»ç»“/æŠ€æœ¯è°ƒç ”/è·¨ç«¯ä¹‹å¤šç«¯ç³»ç»Ÿ","published":1,"updated":"2025-03-13T10:16:17.268Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iu0015fg9mgki96l8k","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>ğŸ’¡ è·¨ç«¯çš„æ¦‚å¿µå·²ç»æ¸…æ¥šäº†ï¼Œä¹‹å‰å¤šå¥—ä»£ç ç»´æŠ¤å¤šç«¯ç³»ç»Ÿï¼Œå¯¼è‡´ä¸åŒçš„å…¼å®¹ï¼Œæ€§èƒ½éœ€è¦ä¸åŒç»´æŠ¤ï¼›å¼€å‘å¤šå¥—ä¸€è‡´çš„åŠŸèƒ½æ˜¯æ¯”è¾ƒæµªè´¹æ—¶é—´ï¼Œä¹Ÿæ˜¯ä¸åˆç†çš„ï¼›</p>\n<p><strong>ä»¥ä¸‹æ¡ˆä¾‹æ¶‰åŠåˆ°å…¬å¸çš„ä¸€äº›æ–¹æ¡ˆä»¥åŠé¡¹ç›®å›¾ç‰‡ï¼Œä»…ä¸ªäººæŸ¥çœ‹ï¼›</strong></p>\n<h2 id=\"è·¨ç«¯çš„æ¦‚å¿µä»¥åŠåœºæ™¯\"><a href=\"#è·¨ç«¯çš„æ¦‚å¿µä»¥åŠåœºæ™¯\" class=\"headerlink\" title=\"è·¨ç«¯çš„æ¦‚å¿µä»¥åŠåœºæ™¯\"></a>è·¨ç«¯çš„æ¦‚å¿µä»¥åŠåœºæ™¯</h2><p>å¦‚æœä¸€ä¸ªç³»ç»Ÿèƒ½åœ¨ä¸åŒè®¾å¤‡ä¸Šæ˜¾ç¤ºï¼Œå¹¶ä¸”å§‹ç»ˆç»´æŠ¤ä¸€å¥—ä»£ç ï¼ŒåæœŸçš„å¼€å‘æ•ˆæœä¸ç»´æŠ¤æ›´åŠ è¿…é€Ÿï¼ŒåŠ å¿«æ•ˆç‡ï¼›å³ï¼šä¸€å¥—å¾®ä¿¡å°ç¨‹åºçš„ç”µå•†ç³»ç»Ÿï¼ˆç±»ä¼¼æ·˜å®ï¼Œäº¬ä¸œï¼‰ï¼Œæ¶‰åŠåˆ°ä¸‹å•ï¼Œè´­ç‰©è½¦ï¼Œæ”¯ä»˜ï¼Œå‘è´§ç­‰ç­‰ï¼Œä»¥åŠåæœŸçš„å®¢æœï¼›è¾ƒä¸ºåºå¤§çš„ç³»ç»Ÿä¸­å¦‚ä½•ç»Ÿä¸€è§„èŒƒï¼Œä¸€å¥—ä»£ç å®ç°å¤šç«¯å¤„ç†ï¼Œæ ·å¼ä»¥åŠç•Œé¢ä¸ä¼šæœ‰å¤ªå¤§çš„çªå‡ºï¼Ÿ</p>\n<p>è¿™é‡Œå¼•å…¥ä¸€ä¸ªæ–°çš„æ¦‚å¿µ è·¨ç«¯ï¼Œ è·¨ç«¯æŠ€æœ¯å¯¹äºå‰ç«¯æ¥è®²è¿˜æ˜¯è›®ä¸é”™çš„ï¼Œå› ä¸ºå‰ç«¯å±•ç¤ºçš„é¡µé¢å½¢å¼éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå¦‚æœä¸å¼•å…¥è·¨ç«¯ï¼Œå°±ä¼šå‡ºç°å¤šä¸ªç³»ç»Ÿï¼Œå¤šå¥—ä»£ç ç»´æŠ¤ä¸å¼€å‘ï¼›ä»è€Œå¯¼è‡´é¡¹ç›®è¿‡å¤§ï¼Œéš¾ä»¥ç»´æŠ¤çš„åæœï¼›</p>\n<p><code>è·¨ç«¯</code>çš„åº”ç”¨åœºæ™¯è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œä¾‹å¦‚ï¼šä¸€å¥— h5 çš„ç”µå•†ç³»ç»Ÿï¼Œæ‰“å¼€ç½‘é¡µè¿›è¡Œç™»å½•å†å»ä¸‹å•ï¼Œè¿‡ç¨‹æ¯”è¾ƒéº»çƒ¦ï¼Œå¯èƒ½æœ‰çš„ç”¨æˆ·å°±å–œæ¬¢ç®€å•çš„æ“ä½œï¼Œé‚£å¥½ï¼Œå¼€å‘å°ç¨‹åºï¼Œä¸éœ€è¦ä½ ç™»å½•ï¼Œä¸éœ€è¦ä½ è¾“å…¥ç½‘å€æ‰“å¼€ç½‘é¡µå°±å¯ä»¥æ“ä½œï¼Œè¿˜æœ‰å¯èƒ½æœ‰çš„ç”¨æˆ·å–œæ¬¢ç”¨æ”¯ä»˜å®ï¼Œé‚£å¥½ï¼Œå¼€å‘æ”¯ä»˜å®å°ç¨‹åºï¼›å°±ç›¸å½“äºä¸€æ¡ä¸»è·¯æ·»åŠ äº†ä¿©æ¡è¾…è·¯ï¼Œæ€»æœ‰ä¸€æ¡æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼›</p>\n<p><code>è·¨ç«¯</code>äº¦æ˜¯å¦‚æ­¤ï¼›ç°åœ¨çš„æŠ€æœ¯æ›´æ–°è¾ƒå¿«ï¼Œå¯¹äºå‰ç«¯å¼€å‘æ¥è®²éœ€è¦åœ¨çŸ­æ—¶é—´å†…å¼€å‘ä¸€å¥—å…¼å®¹å¤šç«¯ç³»ç»Ÿï¼Œé‚£æˆ‘è®¤ä¸ºè·¨ç«¯æ˜¯æœ€åˆé€‚çš„äº†ï¼›</p>\n<p>ç°åœ¨å‰ç«¯è¡Œä¸šé’ˆå¯¹äº è·¨ç«¯ä¹Ÿæ˜¯æœ‰å¾ˆå¤šæ¡†æ¶çš„:</p>\n<ul>\n<li>App çš„è·¨ç«¯ä¸ä»…å±€é™äºåŸç”Ÿçš„ Android å’Œ Ios, å¯¹äº react-native æ¥è®²æ—¢å¯ä»¥å¼€å‘ android ä¹Ÿå¯ä»¥å¼€å‘ ios, å¹¶ä¸”è¿ç”¨çš„æŠ€æœ¯è¿˜æ˜¯å‰ç«¯çš„ react;</li>\n<li>å¦å¤– App å’Œ Web çš„è·¨ç«¯è¿˜æœ‰ google çš„ Flutter, åŒæ ·å’Œä¸Šé¢ä¸€æ ·, ä¸€å¥—ä»£ç å¼€å‘ android å’Œ ios,ä½†ç”±äºè¯­æ³•æ˜¯åŸºäº dart å¼€å‘çš„ï¼Œä¸Šæ‰‹éš¾åº¦è¾ƒå¤§ï¼›</li>\n<li>å‰ç«¯ h5 çš„è·¨ç«¯ï¼Œé‚£å°±æ˜¯å°ç¨‹åºå’Œ h5 ç½‘é¡µäº†ï¼›ç°åœ¨ä½¿ç”¨æœ€å¤šçš„æ¡†æ¶é‚£å°±æ˜¯ uni-app å’Œ Taro äº†ï¼›</li>\n</ul>\n<p>æ¥ä¸‹æ¥ï¼Œ å°†ä¼šè¿›è¡Œä¸€ä¸ªæµ‹è¯•æ€§çš„å®è·µæ–¹å¼ï¼›</p>\n<p>ä¿©ç§è·¨ç«¯æŠ€æœ¯å‡é‡‡ç”¨æœ‰èµçš„ vant æ¡†æ¶ï¼Œè€Œ vant æœ‰é»˜è®¤ h5 å¼€å‘çš„æ¡†æ¶ï¼Œä¹Ÿæœ‰ä¸€ä¸ªå°ç¨‹åºçš„æ¡†æ¶ï¼›</p>\n<h2 id=\"Taro-çš„ä½¿ç”¨\"><a href=\"#Taro-çš„ä½¿ç”¨\" class=\"headerlink\" title=\"Taro çš„ä½¿ç”¨\"></a>Taro çš„ä½¿ç”¨</h2><h3 id=\"Taro-æ˜¯ä»€ä¹ˆ\"><a href=\"#Taro-æ˜¯ä»€ä¹ˆ\" class=\"headerlink\" title=\"Taro æ˜¯ä»€ä¹ˆ?\"></a>Taro æ˜¯ä»€ä¹ˆ?</h3><p>::: warning<br>Taro æ˜¯ä¸€ä¸ªå¼€æ”¾å¼è·¨ç«¯çš„è§£å†³æ–¹æ¡ˆï¼Œ æ”¯æŒä½¿ç”¨ react-native&#x2F;vue&#x2F;nerv ç­‰æ¡†æ¶æ¥å¼€å‘å¾®ä¿¡&#x2F;äº¬ä¸œ&#x2F;ç™¾åº¦&#x2F;æ”¯ä»˜å®&#x2F;å­—èŠ‚è·³åŠ¨&#x2F;QQ&#x2F;é£ä¹¦&#x2F;å°ç¨‹åº&#x2F;H5&#x2F;RN ç­‰åº”ç”¨ï¼›<br>:::</p>\n<blockquote>\n<p>ç°å¦‚ä»Šå¸‚é¢ä¸Šç«¯çš„å½¢æ€å¤šç§å¤šæ ·ï¼ŒWebã€React Nativeã€å¾®ä¿¡å°ç¨‹åºç­‰å„ç§ç«¯å¤§è¡Œå…¶é“ã€‚å½“ä¸šåŠ¡è¦æ±‚åŒæ—¶åœ¨ä¸åŒçš„ç«¯éƒ½è¦æ±‚æœ‰æ‰€è¡¨ç°çš„æ—¶å€™ï¼Œé’ˆå¯¹ä¸åŒçš„ç«¯å»ç¼–å†™å¤šå¥—ä»£ç çš„æˆæœ¬æ˜¾ç„¶éå¸¸é«˜ï¼Œè¿™æ—¶å€™åªç¼–å†™ä¸€å¥—ä»£ç å°±èƒ½å¤Ÿé€‚é…åˆ°å¤šç«¯çš„èƒ½åŠ›å°±æ˜¾å¾—æä¸ºéœ€è¦ã€‚</p>\n</blockquote>\n<h3 id=\"å®‰è£…ä½¿ç”¨\"><a href=\"#å®‰è£…ä½¿ç”¨\" class=\"headerlink\" title=\"å®‰è£…ä½¿ç”¨\"></a>å®‰è£…ä½¿ç”¨</h3><p>å¯¹äºé¦–æ¬¡å®‰è£… Taro çš„å‰ç«¯æ¥è®²ï¼ŒTaro å®˜ç½‘æ–‡æ¡£å¹¶ä¸å®Œå–„ï¼Œé¦–æ¬¡å®‰è£…å‡ºç°äº†å¤§å¤§å°å°çš„é”™è¯¯ï¼Œ</p>\n<ul>\n<li>åœ¨ä½¿ç”¨ taro doctor æ¥æ£€æµ‹é¡¹ç›®æ˜¯å¦å¯è¿è¡Œçš„æƒ…å†µä¸‹ï¼Œ å‡ºç°ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œéœ€è¦å®‰è£…ç›¸å¯¹äºçš„ç‰ˆæœ¬</li>\n<li>é…ç½®æ–‡ä»¶ä¸æ­£ç¡®</li>\n<li>å®‰è£…è¿‡ç¨‹ä¸­å‡ºç° sass ç›¸å…³çš„é”™è¯¯ï¼Œ è¿˜éœ€è¦å®‰è£…</li>\n</ul>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g mirror-config-china</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>ç­‰ç­‰å…¶ä»–ä¸€ç³»åˆ—çš„å¤§å¤§å°å°çš„é—®é¢˜ï¼›</li>\n</ul>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_d.png\" alt=\"Install\"></p>\n<h3 id=\"è¿è¡Œä»¥åŠ-package-json\"><a href=\"#è¿è¡Œä»¥åŠ-package-json\" class=\"headerlink\" title=\"è¿è¡Œä»¥åŠ package.json\"></a>è¿è¡Œä»¥åŠ package.json</h3><p>æ—¢ç„¶æ˜¯è·¨ç«¯ï¼Œ è‚¯å®šæ¶‰åŠåˆ°çš„ npm å‘½ä»¤æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œ å‘½ä»¤å¦‚ä¸‹:</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image_q_t_1.png\" alt=\"Service\"></p>\n<p>è¿è¡Œ H5 æ˜¯æ²¡é—®é¢˜çš„ï¼Œ è¿è¡ŒæˆåŠŸä¹‹åå¦‚ä¸‹æ˜¾ç¤º Hello world</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_1.png\" alt=\"Service\"></p>\n<p>ä½†æ˜¯è¿è¡Œ wapp å‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ node-sass çš„ä¸ºé—®é¢˜</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä¼šå‡ºç°ä¸€ä¸ªè¿™æ ·çš„æŠ¥é”™ï¼›</span></span><br><span class=\"line\"><span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Error</span>(errors.<span class=\"title function_\">unsupportedEnvironment</span>());</span><br></pre></td></tr></table></figure>\n\n<p>éœ€è¦å®‰è£…è¯¥ç›¸å¯¹åº”çš„ node-sass ç‰ˆæœ¬ <a href=\"https://github.com/sass/node-sass/releases/tag/v4.14.1\">è§£å†³æ–¹æ¡ˆ,</a> å°è¯•è¿è¡Œ cnpm install node-sassï¼›</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_2.png\" alt=\"Service\"></p>\n<p>æ¥ç€æ‰“åŒ… weapp æ‰“åŒ…æˆåŠŸä¹‹åä¼šåœ¨ dist ç›®å½•ç”Ÿæˆå¤§å¤§å°å°çš„æ–‡ä»¶ï¼Œæ¥ç€ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€ï¼Œä¼šå‘ç°æœ‰æŠ¥é”™æç¤ºï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">SVGElement</span> is not defined</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨ github æ‰¾äº†ä¸€ä¸‹æ›´æ–°æ—¥å¿—æ‰çŸ¥é“</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_3.png\" alt=\"Service\"></p>\n<p>æˆ‘æœ¬åœ°å®‰è£…çš„æ˜¯æ—§ç‰ˆæœ¬ï¼Œ è€Œè¿™ä¸ªé—®é¢˜åœ¨æ–°ç‰ˆæœ¬ä¿®å¤çš„ï¼Œ æ‰€ä»¥å°†æœ¬åœ°å½“å‰çš„é¡¹ç›®å‡çº§æœ€æ–°ç‰ˆæœ¬;</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">taro update self  <span class=\"comment\">// æ˜¯å°†å½“å‰çš„é¡¹ç›®å‡çº§</span></span><br><span class=\"line\">taro update project <span class=\"comment\">// å°†å…¨å±€çš„ç‰ˆæœ¬å‡çº§ï¼ŒåŠæ‰€æœ‰çš„taroé¡¹ç›®</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>é‡æ–° build åˆå‡ºç°ä¸€ä¸ªæŠ¥é”™:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">æ‰¾ä¸åˆ°ä¾èµ– <span class=\"string\">&quot;@tarojs/plugin-platform-weapp&quot;</span>ï¼Œè¯·å…ˆåœ¨é¡¹ç›®ä¸­å®‰è£…</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>æ²¡åŠæ³•ï¼Œ æ¥ç€å°†é¡¹ç›®æ›´æ–°ï¼Œæ¡†æ¶æ›´æ–° åŒ…å®‰è£…å®Œå–„ä¹‹åï¼Œæ‰“åŒ… weapp æ˜¯å¯ä»¥çš„ï¼Œå¼€å‘å·¥å…·æ‰“å¼€ä¹‹ååˆå‡ºç°</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">TypeError</span>: <span class=\"title class_\">Object</span>(...) is not a <span class=\"keyword\">function</span></span><br></pre></td></tr></table></figure>\n\n<p>â€¦.å¥½å§ï¼Œæ”¾å¼ƒäº†ï¼</p>\n<p>å®‰è£…è¿‡ç¨‹ä¸­ï¼Œå‡ºç°çš„é—®é¢˜å¤ªå¤šäº†ï¼Œæ–‡æ¡£è¯´æ˜ä¹Ÿä¸è¯¦ç»†ï¼Œå‡ºç°ç¨€å¥‡å¤æ€ªçš„é—®é¢˜ï¼›</p>\n<p><a href=\"https://juejin.cn/post/7080176600704090143#heading-2\">è·¨ç«¯å®è·µ | Taro æ¡†æ¶ä¸­è¯¥å¦‚ä½•ä½¿ç”¨ Vant ç»„ä»¶åº“-é€‚é…å¤šç«¯</a></p>\n<p><font color=\"red\">ä¸æ“ä½œäº†ï¼Œ ä¸­é—´å‡ºç°çš„é—®é¢˜å¤ªå¤šäº†ï¼Œæ–‡æ¡£è¯´æ˜ä¹Ÿä¸å¤Ÿè¯¦ç»†ï¼Œå‡ºç°åŒ…ç‰ˆæœ¬å†²çªçš„é—®é¢˜æœ¬å°±æ˜¯è®©äººå¤´ç–¼çš„ï¼Œæœ‰ç‚¹æµªè´¹æ—¶é—´ï¼Œ æ—¶é—´ä¸å¤Ÿå……è¶³ï¼Œæ—¶é—´å……è¶³çš„è¯åæœŸå¯ä»¥ç ”ç©¶ä¸€ä¸‹ï¼›</font></p>\n<h2 id=\"uniapp\"><a href=\"#uniapp\" class=\"headerlink\" title=\"uniapp\"></a>uniapp</h2><p>é€šè¿‡å‘½ä»¤ <code>vue create -p dcloudio/uni-preset-vue my-project</code> ä½¿ç”¨é»˜è®¤æ¨¡æ¿ã€‚<br>é¡¹ç›®å®‰è£…æˆåŠŸä¹‹åï¼Œé€šè¿‡å‘½ä»¤ <code>yarn run dev:h5 å’Œ yarn run dev:mp-weixin </code>å¯åŠ¨ h5 å’Œæ‰“åŒ…å¾®ä¿¡å°ç¨‹åº, åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æ‰“å¼€ <code>dist dev/map-weixin</code></p>\n<p>ä¸è¿‡è¿™é‡Œ h5 æ˜¯å¯ä»¥æ­£å¸¸æ‰“å¼€çš„ã€‚ ä½†æ˜¯å¾®ä¿¡æ˜¯æŠ¥é”™çš„ï¼Œ é…ç½®å¥½ appid, å°†é¡¹ç›®ç›®å½•çš„ vue.config.js ä¸­çš„ä¿©è¡Œä»£ç åˆ é™¤æˆ–è€…æ³¨é‡Šæ‰ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">process.<span class=\"property\">env</span>.<span class=\"property\">UNI_USING_VUE3</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">process.<span class=\"property\">env</span>.<span class=\"property\">UNI_USING_VUE3_OPTIONS_API</span> = <span class=\"literal\">true</span>;</span><br></pre></td></tr></table></figure>\n\n<p>é‡æ–°ç¼–è¯‘å°±å¯ä»¥æ‰“å¼€äº†ï¼›<br>åœ¨ vant weapp å®˜ç½‘ å³ä¸Šè§’ github ä¸‹è½½æºç ï¼Œå°† dist å‘½åä¸º vant å­˜æ”¾äºä¸ pages ç›®å½•å¹³è¡Œçš„ wxcomponents ç›®å½•ä¸‹</p>\n<p>åœ¨ pages.json ä¸­é…ç½®ä¸€ä¸‹å‘½ä»¤ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;globalStyle&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;navigationBarTextStyle&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;black&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;navigationBarTitleText&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;uni-app&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;navigationBarBackgroundColor&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;#F8F8F8&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;backgroundColor&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;#F8F8F8&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// ä»£ç åœ¨è¿™é‡Œ</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;usingComponents&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;van-button&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;/wxcomponents/vant/button/index&quot;</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>App.vue ä¸­å¼•å…¥ vant çš„æ ·å¼</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\">\t<span class=\"comment\">/*æ¯ä¸ªé¡µé¢å…¬å…±css */</span> @<span class=\"keyword\">import</span> <span class=\"string\">&#x27;/wxcomponents/vant/common/index.wxss&#x27;</span>;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n\n<p>åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œå°ç¨‹åºæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œ è€Œåœ¨ h5 ä¼šæœ‰æ ·å¼å¼•å…¥ä¹±ç ï¼Œ æ‰¾åˆ° icon ç»„ä»¶ï¼Œ å°†æ ·å¼æ ¼å¼åŒ–ä¹‹åå°±å¯ä»¥è¿è¡Œäº†ï¼›</p>\n<h3 id=\"å†™ä¸€ä¸ª-oP-çš„é¡µé¢ï¼ŒåŒæ—¶å…¼å®¹å°ç¨‹åºå’Œ-h5\"><a href=\"#å†™ä¸€ä¸ª-oP-çš„é¡µé¢ï¼ŒåŒæ—¶å…¼å®¹å°ç¨‹åºå’Œ-h5\" class=\"headerlink\" title=\"å†™ä¸€ä¸ª oP çš„é¡µé¢ï¼ŒåŒæ—¶å…¼å®¹å°ç¨‹åºå’Œ h5\"></a>å†™ä¸€ä¸ª oP çš„é¡µé¢ï¼ŒåŒæ—¶å…¼å®¹å°ç¨‹åºå’Œ h5</h3><blockquote>\n<p>æ—¢ç„¶æƒ³è¦å…¼å®¹ä¿©ä¸ªä¸åŒçš„ç«¯ï¼Œ é‚£ä¹ˆå°±è¦å°†åŸæœ‰çš„å†™æ³•ä¿®æ”¹ä¸€ä¸‹ï¼›</p>\n</blockquote>\n<ol>\n<li>div æ¢æˆ view</li>\n<li>img æ¢æˆ image</li>\n<li>span æ¢æˆ text</li>\n<li>â€¦</li>\n<li>vant æ¡†æ¶ è·å– v-modal æ¢æˆ value; è·å–å€¼ï¼Œ event.detail;</li>\n<li>axios è¯·æ±‚åœ¨ h5 å¯ä»¥æ­£å¸¸è®¿é—®, å°ç¨‹åºä¸å¯ä»¥ï¼›</li>\n<li>é¡µé¢è·³è½¬ï¼›</li>\n</ol>\n<h3 id=\"æ•ˆæœé¢„è§ˆ\"><a href=\"#æ•ˆæœé¢„è§ˆ\" class=\"headerlink\" title=\"æ•ˆæœé¢„è§ˆ\"></a>æ•ˆæœé¢„è§ˆ</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_4.png\" alt=\"1\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_5.png\" alt=\"1\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_6.png\" alt=\"1\"></p>\n<h3 id=\"å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼›\"><a href=\"#å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼›\" class=\"headerlink\" title=\"å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼›\"></a>å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼›</h3><blockquote>\n<p>ç”±äºæ—¶é—´ä¸å¤ªå¤Ÿï¼Œç›®å‰æ²¡æœ‰è€ƒè™‘å¤ªå¤šçš„ä¸œè¥¿ï¼Œæ—¢ç„¶æ˜¯è·¨ç«¯ï¼Œè‚¯å®šä¼šå­˜åœ¨å…¼å®¹é—®é¢˜ï¼›</p>\n</blockquote>\n<p>ç›®å‰éœ€è¦è€ƒè™‘çš„é—®é¢˜:</p>\n<ol>\n<li>é¡µé¢æ ·å¼å•ä½çš„é€‰æ‹©</li>\n<li>axios å’Œ uni.request() ç»“åˆå°è£…?</li>\n<li>è‡³å°‘å…¼å®¹è‡³ï¼š å¾®ä¿¡å°ç¨‹åºï¼Œpc é¡µé¢å’Œ h5 é¡µé¢ï¼› ä¿è¯åœ¨æ‰‹æœºå¾®ä¿¡å’Œä¼ä¸šå¾®ä¿¡ç§»åŠ¨ç«¯å’Œ pc ç«¯æ‰“å¼€ï¼Œç¨³å®šè¿è¡Œï¼›</li>\n<li>listView çš„å…¼å®¹ï¼Œé…å¥—ä¸‹æ‹‰åˆ·æ–°ä¸Šæ‹‰åŠ è½½</li>\n<li>ç™»å½•æˆæƒåŠŸèƒ½ï¼›ç›®å‰å­˜åœ¨ç–‘æƒ‘ï¼Œh5 æˆæƒçš„æ˜¯å…¬ä¼—å·ï¼Œå°ç¨‹åºæˆæƒçš„å‘¢?</li>\n<li>æ¶‰åŠåˆ°åæœŸæ”¯ä»˜é—®é¢˜ï¼ŒopenId çš„è·å–ï¼Ÿå¦‚ä½•åœ¨ä¸åŒç«¯æ‹¿åˆ° openId?</li>\n<li>ç™»å½•æˆæƒï¼Ÿå¦‚ä½•åšï¼ŸæŒ‰é’®æç¤ºè¿˜æ˜¯åˆå§‹é¡µé¢æç¤º?</li>\n<li>å…¶ä»–â€¦</li>\n</ol>\n<h3 id=\"åæœŸéœ€è¦è€ƒè™‘çš„é—®é¢˜\"><a href=\"#åæœŸéœ€è¦è€ƒè™‘çš„é—®é¢˜\" class=\"headerlink\" title=\"åæœŸéœ€è¦è€ƒè™‘çš„é—®é¢˜\"></a>åæœŸéœ€è¦è€ƒè™‘çš„é—®é¢˜</h3><ul>\n<li>ç°åœ¨æ˜¯æ¬§æ´¾ä¸€å¥—ç³»ç»Ÿï¼Œè¥¿é—¨å­ä¸€å¥—ç³»ç»Ÿï¼Œ åæœŸï¼Ÿï¼Ÿï¼Ÿ</li>\n<li>ä¸åŒå•†å®¶åˆä½œå•†å…¥å£ï¼Ÿæ˜¯å¦å¯ä»¥åšæˆä¸€å¥—ï¼Ÿ</li>\n<li>å¦‚æœåšæˆä¸€å¥—ï¼Œå¦‚ä½•åœ¨ä¸åŒåœºæ™¯æ›´å¥½çš„å±•ç¤ºï¼Œä¸”æ”¹åŠ¨è¾ƒå°‘ï¼›</li>\n<li>å¦‚æœåšé…ç½®è¯ç®¡ç†ï¼Œæ˜¯å¦å­˜åœ¨ç¼ºé™· ä»¥åŠä¸è¶³ï¼›æ¶‰åŠåˆ°ï¼ˆæ ·å¼ï¼Œä¸»é¢˜è‰²ï¼Œå¸ƒå±€ç­‰ç­‰ï¼‰ï¼›</li>\n</ul>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>ğŸ’¡ è·¨ç«¯çš„æ¦‚å¿µå·²ç»æ¸…æ¥šäº†ï¼Œä¹‹å‰å¤šå¥—ä»£ç ç»´æŠ¤å¤šç«¯ç³»ç»Ÿï¼Œå¯¼è‡´ä¸åŒçš„å…¼å®¹ï¼Œæ€§èƒ½éœ€è¦ä¸åŒç»´æŠ¤ï¼›å¼€å‘å¤šå¥—ä¸€è‡´çš„åŠŸèƒ½æ˜¯æ¯”è¾ƒæµªè´¹æ—¶é—´ï¼Œä¹Ÿæ˜¯ä¸åˆç†çš„ï¼›</p>\n<p><strong>ä»¥ä¸‹æ¡ˆä¾‹æ¶‰åŠåˆ°å…¬å¸çš„ä¸€äº›æ–¹æ¡ˆä»¥åŠé¡¹ç›®å›¾ç‰‡ï¼Œä»…ä¸ªäººæŸ¥çœ‹ï¼›</strong></p>\n<h2 id=\"è·¨ç«¯çš„æ¦‚å¿µä»¥åŠåœºæ™¯\"><a href=\"#è·¨ç«¯çš„æ¦‚å¿µä»¥åŠåœºæ™¯\" class=\"headerlink\" title=\"è·¨ç«¯çš„æ¦‚å¿µä»¥åŠåœºæ™¯\"></a>è·¨ç«¯çš„æ¦‚å¿µä»¥åŠåœºæ™¯</h2><p>å¦‚æœä¸€ä¸ªç³»ç»Ÿèƒ½åœ¨ä¸åŒè®¾å¤‡ä¸Šæ˜¾ç¤ºï¼Œå¹¶ä¸”å§‹ç»ˆç»´æŠ¤ä¸€å¥—ä»£ç ï¼ŒåæœŸçš„å¼€å‘æ•ˆæœä¸ç»´æŠ¤æ›´åŠ è¿…é€Ÿï¼ŒåŠ å¿«æ•ˆç‡ï¼›å³ï¼šä¸€å¥—å¾®ä¿¡å°ç¨‹åºçš„ç”µå•†ç³»ç»Ÿï¼ˆç±»ä¼¼æ·˜å®ï¼Œäº¬ä¸œï¼‰ï¼Œæ¶‰åŠåˆ°ä¸‹å•ï¼Œè´­ç‰©è½¦ï¼Œæ”¯ä»˜ï¼Œå‘è´§ç­‰ç­‰ï¼Œä»¥åŠåæœŸçš„å®¢æœï¼›è¾ƒä¸ºåºå¤§çš„ç³»ç»Ÿä¸­å¦‚ä½•ç»Ÿä¸€è§„èŒƒï¼Œä¸€å¥—ä»£ç å®ç°å¤šç«¯å¤„ç†ï¼Œæ ·å¼ä»¥åŠç•Œé¢ä¸ä¼šæœ‰å¤ªå¤§çš„çªå‡ºï¼Ÿ</p>\n<p>è¿™é‡Œå¼•å…¥ä¸€ä¸ªæ–°çš„æ¦‚å¿µ è·¨ç«¯ï¼Œ è·¨ç«¯æŠ€æœ¯å¯¹äºå‰ç«¯æ¥è®²è¿˜æ˜¯è›®ä¸é”™çš„ï¼Œå› ä¸ºå‰ç«¯å±•ç¤ºçš„é¡µé¢å½¢å¼éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå¦‚æœä¸å¼•å…¥è·¨ç«¯ï¼Œå°±ä¼šå‡ºç°å¤šä¸ªç³»ç»Ÿï¼Œå¤šå¥—ä»£ç ç»´æŠ¤ä¸å¼€å‘ï¼›ä»è€Œå¯¼è‡´é¡¹ç›®è¿‡å¤§ï¼Œéš¾ä»¥ç»´æŠ¤çš„åæœï¼›</p>\n<p><code>è·¨ç«¯</code>çš„åº”ç”¨åœºæ™¯è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œä¾‹å¦‚ï¼šä¸€å¥— h5 çš„ç”µå•†ç³»ç»Ÿï¼Œæ‰“å¼€ç½‘é¡µè¿›è¡Œç™»å½•å†å»ä¸‹å•ï¼Œè¿‡ç¨‹æ¯”è¾ƒéº»çƒ¦ï¼Œå¯èƒ½æœ‰çš„ç”¨æˆ·å°±å–œæ¬¢ç®€å•çš„æ“ä½œï¼Œé‚£å¥½ï¼Œå¼€å‘å°ç¨‹åºï¼Œä¸éœ€è¦ä½ ç™»å½•ï¼Œä¸éœ€è¦ä½ è¾“å…¥ç½‘å€æ‰“å¼€ç½‘é¡µå°±å¯ä»¥æ“ä½œï¼Œè¿˜æœ‰å¯èƒ½æœ‰çš„ç”¨æˆ·å–œæ¬¢ç”¨æ”¯ä»˜å®ï¼Œé‚£å¥½ï¼Œå¼€å‘æ”¯ä»˜å®å°ç¨‹åºï¼›å°±ç›¸å½“äºä¸€æ¡ä¸»è·¯æ·»åŠ äº†ä¿©æ¡è¾…è·¯ï¼Œæ€»æœ‰ä¸€æ¡æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼›</p>\n<p><code>è·¨ç«¯</code>äº¦æ˜¯å¦‚æ­¤ï¼›ç°åœ¨çš„æŠ€æœ¯æ›´æ–°è¾ƒå¿«ï¼Œå¯¹äºå‰ç«¯å¼€å‘æ¥è®²éœ€è¦åœ¨çŸ­æ—¶é—´å†…å¼€å‘ä¸€å¥—å…¼å®¹å¤šç«¯ç³»ç»Ÿï¼Œé‚£æˆ‘è®¤ä¸ºè·¨ç«¯æ˜¯æœ€åˆé€‚çš„äº†ï¼›</p>\n<p>ç°åœ¨å‰ç«¯è¡Œä¸šé’ˆå¯¹äº è·¨ç«¯ä¹Ÿæ˜¯æœ‰å¾ˆå¤šæ¡†æ¶çš„:</p>\n<ul>\n<li>App çš„è·¨ç«¯ä¸ä»…å±€é™äºåŸç”Ÿçš„ Android å’Œ Ios, å¯¹äº react-native æ¥è®²æ—¢å¯ä»¥å¼€å‘ android ä¹Ÿå¯ä»¥å¼€å‘ ios, å¹¶ä¸”è¿ç”¨çš„æŠ€æœ¯è¿˜æ˜¯å‰ç«¯çš„ react;</li>\n<li>å¦å¤– App å’Œ Web çš„è·¨ç«¯è¿˜æœ‰ google çš„ Flutter, åŒæ ·å’Œä¸Šé¢ä¸€æ ·, ä¸€å¥—ä»£ç å¼€å‘ android å’Œ ios,ä½†ç”±äºè¯­æ³•æ˜¯åŸºäº dart å¼€å‘çš„ï¼Œä¸Šæ‰‹éš¾åº¦è¾ƒå¤§ï¼›</li>\n<li>å‰ç«¯ h5 çš„è·¨ç«¯ï¼Œé‚£å°±æ˜¯å°ç¨‹åºå’Œ h5 ç½‘é¡µäº†ï¼›ç°åœ¨ä½¿ç”¨æœ€å¤šçš„æ¡†æ¶é‚£å°±æ˜¯ uni-app å’Œ Taro äº†ï¼›</li>\n</ul>\n<p>æ¥ä¸‹æ¥ï¼Œ å°†ä¼šè¿›è¡Œä¸€ä¸ªæµ‹è¯•æ€§çš„å®è·µæ–¹å¼ï¼›</p>\n<p>ä¿©ç§è·¨ç«¯æŠ€æœ¯å‡é‡‡ç”¨æœ‰èµçš„ vant æ¡†æ¶ï¼Œè€Œ vant æœ‰é»˜è®¤ h5 å¼€å‘çš„æ¡†æ¶ï¼Œä¹Ÿæœ‰ä¸€ä¸ªå°ç¨‹åºçš„æ¡†æ¶ï¼›</p>\n<h2 id=\"Taro-çš„ä½¿ç”¨\"><a href=\"#Taro-çš„ä½¿ç”¨\" class=\"headerlink\" title=\"Taro çš„ä½¿ç”¨\"></a>Taro çš„ä½¿ç”¨</h2><h3 id=\"Taro-æ˜¯ä»€ä¹ˆ\"><a href=\"#Taro-æ˜¯ä»€ä¹ˆ\" class=\"headerlink\" title=\"Taro æ˜¯ä»€ä¹ˆ?\"></a>Taro æ˜¯ä»€ä¹ˆ?</h3><p>::: warning<br>Taro æ˜¯ä¸€ä¸ªå¼€æ”¾å¼è·¨ç«¯çš„è§£å†³æ–¹æ¡ˆï¼Œ æ”¯æŒä½¿ç”¨ react-native&#x2F;vue&#x2F;nerv ç­‰æ¡†æ¶æ¥å¼€å‘å¾®ä¿¡&#x2F;äº¬ä¸œ&#x2F;ç™¾åº¦&#x2F;æ”¯ä»˜å®&#x2F;å­—èŠ‚è·³åŠ¨&#x2F;QQ&#x2F;é£ä¹¦&#x2F;å°ç¨‹åº&#x2F;H5&#x2F;RN ç­‰åº”ç”¨ï¼›<br>:::</p>\n<blockquote>\n<p>ç°å¦‚ä»Šå¸‚é¢ä¸Šç«¯çš„å½¢æ€å¤šç§å¤šæ ·ï¼ŒWebã€React Nativeã€å¾®ä¿¡å°ç¨‹åºç­‰å„ç§ç«¯å¤§è¡Œå…¶é“ã€‚å½“ä¸šåŠ¡è¦æ±‚åŒæ—¶åœ¨ä¸åŒçš„ç«¯éƒ½è¦æ±‚æœ‰æ‰€è¡¨ç°çš„æ—¶å€™ï¼Œé’ˆå¯¹ä¸åŒçš„ç«¯å»ç¼–å†™å¤šå¥—ä»£ç çš„æˆæœ¬æ˜¾ç„¶éå¸¸é«˜ï¼Œè¿™æ—¶å€™åªç¼–å†™ä¸€å¥—ä»£ç å°±èƒ½å¤Ÿé€‚é…åˆ°å¤šç«¯çš„èƒ½åŠ›å°±æ˜¾å¾—æä¸ºéœ€è¦ã€‚</p>\n</blockquote>\n<h3 id=\"å®‰è£…ä½¿ç”¨\"><a href=\"#å®‰è£…ä½¿ç”¨\" class=\"headerlink\" title=\"å®‰è£…ä½¿ç”¨\"></a>å®‰è£…ä½¿ç”¨</h3><p>å¯¹äºé¦–æ¬¡å®‰è£… Taro çš„å‰ç«¯æ¥è®²ï¼ŒTaro å®˜ç½‘æ–‡æ¡£å¹¶ä¸å®Œå–„ï¼Œé¦–æ¬¡å®‰è£…å‡ºç°äº†å¤§å¤§å°å°çš„é”™è¯¯ï¼Œ</p>\n<ul>\n<li>åœ¨ä½¿ç”¨ taro doctor æ¥æ£€æµ‹é¡¹ç›®æ˜¯å¦å¯è¿è¡Œçš„æƒ…å†µä¸‹ï¼Œ å‡ºç°ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œéœ€è¦å®‰è£…ç›¸å¯¹äºçš„ç‰ˆæœ¬</li>\n<li>é…ç½®æ–‡ä»¶ä¸æ­£ç¡®</li>\n<li>å®‰è£…è¿‡ç¨‹ä¸­å‡ºç° sass ç›¸å…³çš„é”™è¯¯ï¼Œ è¿˜éœ€è¦å®‰è£…</li>\n</ul>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g mirror-config-china</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>ç­‰ç­‰å…¶ä»–ä¸€ç³»åˆ—çš„å¤§å¤§å°å°çš„é—®é¢˜ï¼›</li>\n</ul>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_d.png\" alt=\"Install\"></p>\n<h3 id=\"è¿è¡Œä»¥åŠ-package-json\"><a href=\"#è¿è¡Œä»¥åŠ-package-json\" class=\"headerlink\" title=\"è¿è¡Œä»¥åŠ package.json\"></a>è¿è¡Œä»¥åŠ package.json</h3><p>æ—¢ç„¶æ˜¯è·¨ç«¯ï¼Œ è‚¯å®šæ¶‰åŠåˆ°çš„ npm å‘½ä»¤æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œ å‘½ä»¤å¦‚ä¸‹:</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image_q_t_1.png\" alt=\"Service\"></p>\n<p>è¿è¡Œ H5 æ˜¯æ²¡é—®é¢˜çš„ï¼Œ è¿è¡ŒæˆåŠŸä¹‹åå¦‚ä¸‹æ˜¾ç¤º Hello world</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_1.png\" alt=\"Service\"></p>\n<p>ä½†æ˜¯è¿è¡Œ wapp å‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ node-sass çš„ä¸ºé—®é¢˜</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä¼šå‡ºç°ä¸€ä¸ªè¿™æ ·çš„æŠ¥é”™ï¼›</span></span><br><span class=\"line\"><span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Error</span>(errors.<span class=\"title function_\">unsupportedEnvironment</span>());</span><br></pre></td></tr></table></figure>\n\n<p>éœ€è¦å®‰è£…è¯¥ç›¸å¯¹åº”çš„ node-sass ç‰ˆæœ¬ <a href=\"https://github.com/sass/node-sass/releases/tag/v4.14.1\">è§£å†³æ–¹æ¡ˆ,</a> å°è¯•è¿è¡Œ cnpm install node-sassï¼›</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_2.png\" alt=\"Service\"></p>\n<p>æ¥ç€æ‰“åŒ… weapp æ‰“åŒ…æˆåŠŸä¹‹åä¼šåœ¨ dist ç›®å½•ç”Ÿæˆå¤§å¤§å°å°çš„æ–‡ä»¶ï¼Œæ¥ç€ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€ï¼Œä¼šå‘ç°æœ‰æŠ¥é”™æç¤ºï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">SVGElement</span> is not defined</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨ github æ‰¾äº†ä¸€ä¸‹æ›´æ–°æ—¥å¿—æ‰çŸ¥é“</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_3.png\" alt=\"Service\"></p>\n<p>æˆ‘æœ¬åœ°å®‰è£…çš„æ˜¯æ—§ç‰ˆæœ¬ï¼Œ è€Œè¿™ä¸ªé—®é¢˜åœ¨æ–°ç‰ˆæœ¬ä¿®å¤çš„ï¼Œ æ‰€ä»¥å°†æœ¬åœ°å½“å‰çš„é¡¹ç›®å‡çº§æœ€æ–°ç‰ˆæœ¬;</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">taro update self  <span class=\"comment\">// æ˜¯å°†å½“å‰çš„é¡¹ç›®å‡çº§</span></span><br><span class=\"line\">taro update project <span class=\"comment\">// å°†å…¨å±€çš„ç‰ˆæœ¬å‡çº§ï¼ŒåŠæ‰€æœ‰çš„taroé¡¹ç›®</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>é‡æ–° build åˆå‡ºç°ä¸€ä¸ªæŠ¥é”™:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">æ‰¾ä¸åˆ°ä¾èµ– <span class=\"string\">&quot;@tarojs/plugin-platform-weapp&quot;</span>ï¼Œè¯·å…ˆåœ¨é¡¹ç›®ä¸­å®‰è£…</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>æ²¡åŠæ³•ï¼Œ æ¥ç€å°†é¡¹ç›®æ›´æ–°ï¼Œæ¡†æ¶æ›´æ–° åŒ…å®‰è£…å®Œå–„ä¹‹åï¼Œæ‰“åŒ… weapp æ˜¯å¯ä»¥çš„ï¼Œå¼€å‘å·¥å…·æ‰“å¼€ä¹‹ååˆå‡ºç°</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">TypeError</span>: <span class=\"title class_\">Object</span>(...) is not a <span class=\"keyword\">function</span></span><br></pre></td></tr></table></figure>\n\n<p>â€¦.å¥½å§ï¼Œæ”¾å¼ƒäº†ï¼</p>\n<p>å®‰è£…è¿‡ç¨‹ä¸­ï¼Œå‡ºç°çš„é—®é¢˜å¤ªå¤šäº†ï¼Œæ–‡æ¡£è¯´æ˜ä¹Ÿä¸è¯¦ç»†ï¼Œå‡ºç°ç¨€å¥‡å¤æ€ªçš„é—®é¢˜ï¼›</p>\n<p><a href=\"https://juejin.cn/post/7080176600704090143#heading-2\">è·¨ç«¯å®è·µ | Taro æ¡†æ¶ä¸­è¯¥å¦‚ä½•ä½¿ç”¨ Vant ç»„ä»¶åº“-é€‚é…å¤šç«¯</a></p>\n<p><font color=\"red\">ä¸æ“ä½œäº†ï¼Œ ä¸­é—´å‡ºç°çš„é—®é¢˜å¤ªå¤šäº†ï¼Œæ–‡æ¡£è¯´æ˜ä¹Ÿä¸å¤Ÿè¯¦ç»†ï¼Œå‡ºç°åŒ…ç‰ˆæœ¬å†²çªçš„é—®é¢˜æœ¬å°±æ˜¯è®©äººå¤´ç–¼çš„ï¼Œæœ‰ç‚¹æµªè´¹æ—¶é—´ï¼Œ æ—¶é—´ä¸å¤Ÿå……è¶³ï¼Œæ—¶é—´å……è¶³çš„è¯åæœŸå¯ä»¥ç ”ç©¶ä¸€ä¸‹ï¼›</font></p>\n<h2 id=\"uniapp\"><a href=\"#uniapp\" class=\"headerlink\" title=\"uniapp\"></a>uniapp</h2><p>é€šè¿‡å‘½ä»¤ <code>vue create -p dcloudio/uni-preset-vue my-project</code> ä½¿ç”¨é»˜è®¤æ¨¡æ¿ã€‚<br>é¡¹ç›®å®‰è£…æˆåŠŸä¹‹åï¼Œé€šè¿‡å‘½ä»¤ <code>yarn run dev:h5 å’Œ yarn run dev:mp-weixin </code>å¯åŠ¨ h5 å’Œæ‰“åŒ…å¾®ä¿¡å°ç¨‹åº, åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æ‰“å¼€ <code>dist dev/map-weixin</code></p>\n<p>ä¸è¿‡è¿™é‡Œ h5 æ˜¯å¯ä»¥æ­£å¸¸æ‰“å¼€çš„ã€‚ ä½†æ˜¯å¾®ä¿¡æ˜¯æŠ¥é”™çš„ï¼Œ é…ç½®å¥½ appid, å°†é¡¹ç›®ç›®å½•çš„ vue.config.js ä¸­çš„ä¿©è¡Œä»£ç åˆ é™¤æˆ–è€…æ³¨é‡Šæ‰ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">process.<span class=\"property\">env</span>.<span class=\"property\">UNI_USING_VUE3</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">process.<span class=\"property\">env</span>.<span class=\"property\">UNI_USING_VUE3_OPTIONS_API</span> = <span class=\"literal\">true</span>;</span><br></pre></td></tr></table></figure>\n\n<p>é‡æ–°ç¼–è¯‘å°±å¯ä»¥æ‰“å¼€äº†ï¼›<br>åœ¨ vant weapp å®˜ç½‘ å³ä¸Šè§’ github ä¸‹è½½æºç ï¼Œå°† dist å‘½åä¸º vant å­˜æ”¾äºä¸ pages ç›®å½•å¹³è¡Œçš„ wxcomponents ç›®å½•ä¸‹</p>\n<p>åœ¨ pages.json ä¸­é…ç½®ä¸€ä¸‹å‘½ä»¤ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;globalStyle&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;navigationBarTextStyle&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;black&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;navigationBarTitleText&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;uni-app&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;navigationBarBackgroundColor&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;#F8F8F8&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;backgroundColor&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;#F8F8F8&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// ä»£ç åœ¨è¿™é‡Œ</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;usingComponents&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;van-button&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;/wxcomponents/vant/button/index&quot;</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>App.vue ä¸­å¼•å…¥ vant çš„æ ·å¼</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\">\t<span class=\"comment\">/*æ¯ä¸ªé¡µé¢å…¬å…±css */</span> @<span class=\"keyword\">import</span> <span class=\"string\">&#x27;/wxcomponents/vant/common/index.wxss&#x27;</span>;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n\n<p>åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œå°ç¨‹åºæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œ è€Œåœ¨ h5 ä¼šæœ‰æ ·å¼å¼•å…¥ä¹±ç ï¼Œ æ‰¾åˆ° icon ç»„ä»¶ï¼Œ å°†æ ·å¼æ ¼å¼åŒ–ä¹‹åå°±å¯ä»¥è¿è¡Œäº†ï¼›</p>\n<h3 id=\"å†™ä¸€ä¸ª-oP-çš„é¡µé¢ï¼ŒåŒæ—¶å…¼å®¹å°ç¨‹åºå’Œ-h5\"><a href=\"#å†™ä¸€ä¸ª-oP-çš„é¡µé¢ï¼ŒåŒæ—¶å…¼å®¹å°ç¨‹åºå’Œ-h5\" class=\"headerlink\" title=\"å†™ä¸€ä¸ª oP çš„é¡µé¢ï¼ŒåŒæ—¶å…¼å®¹å°ç¨‹åºå’Œ h5\"></a>å†™ä¸€ä¸ª oP çš„é¡µé¢ï¼ŒåŒæ—¶å…¼å®¹å°ç¨‹åºå’Œ h5</h3><blockquote>\n<p>æ—¢ç„¶æƒ³è¦å…¼å®¹ä¿©ä¸ªä¸åŒçš„ç«¯ï¼Œ é‚£ä¹ˆå°±è¦å°†åŸæœ‰çš„å†™æ³•ä¿®æ”¹ä¸€ä¸‹ï¼›</p>\n</blockquote>\n<ol>\n<li>div æ¢æˆ view</li>\n<li>img æ¢æˆ image</li>\n<li>span æ¢æˆ text</li>\n<li>â€¦</li>\n<li>vant æ¡†æ¶ è·å– v-modal æ¢æˆ value; è·å–å€¼ï¼Œ event.detail;</li>\n<li>axios è¯·æ±‚åœ¨ h5 å¯ä»¥æ­£å¸¸è®¿é—®, å°ç¨‹åºä¸å¯ä»¥ï¼›</li>\n<li>é¡µé¢è·³è½¬ï¼›</li>\n</ol>\n<h3 id=\"æ•ˆæœé¢„è§ˆ\"><a href=\"#æ•ˆæœé¢„è§ˆ\" class=\"headerlink\" title=\"æ•ˆæœé¢„è§ˆ\"></a>æ•ˆæœé¢„è§ˆ</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_4.png\" alt=\"1\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_5.png\" alt=\"1\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image_kd_6.png\" alt=\"1\"></p>\n<h3 id=\"å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼›\"><a href=\"#å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼›\" class=\"headerlink\" title=\"å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼›\"></a>å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼›</h3><blockquote>\n<p>ç”±äºæ—¶é—´ä¸å¤ªå¤Ÿï¼Œç›®å‰æ²¡æœ‰è€ƒè™‘å¤ªå¤šçš„ä¸œè¥¿ï¼Œæ—¢ç„¶æ˜¯è·¨ç«¯ï¼Œè‚¯å®šä¼šå­˜åœ¨å…¼å®¹é—®é¢˜ï¼›</p>\n</blockquote>\n<p>ç›®å‰éœ€è¦è€ƒè™‘çš„é—®é¢˜:</p>\n<ol>\n<li>é¡µé¢æ ·å¼å•ä½çš„é€‰æ‹©</li>\n<li>axios å’Œ uni.request() ç»“åˆå°è£…?</li>\n<li>è‡³å°‘å…¼å®¹è‡³ï¼š å¾®ä¿¡å°ç¨‹åºï¼Œpc é¡µé¢å’Œ h5 é¡µé¢ï¼› ä¿è¯åœ¨æ‰‹æœºå¾®ä¿¡å’Œä¼ä¸šå¾®ä¿¡ç§»åŠ¨ç«¯å’Œ pc ç«¯æ‰“å¼€ï¼Œç¨³å®šè¿è¡Œï¼›</li>\n<li>listView çš„å…¼å®¹ï¼Œé…å¥—ä¸‹æ‹‰åˆ·æ–°ä¸Šæ‹‰åŠ è½½</li>\n<li>ç™»å½•æˆæƒåŠŸèƒ½ï¼›ç›®å‰å­˜åœ¨ç–‘æƒ‘ï¼Œh5 æˆæƒçš„æ˜¯å…¬ä¼—å·ï¼Œå°ç¨‹åºæˆæƒçš„å‘¢?</li>\n<li>æ¶‰åŠåˆ°åæœŸæ”¯ä»˜é—®é¢˜ï¼ŒopenId çš„è·å–ï¼Ÿå¦‚ä½•åœ¨ä¸åŒç«¯æ‹¿åˆ° openId?</li>\n<li>ç™»å½•æˆæƒï¼Ÿå¦‚ä½•åšï¼ŸæŒ‰é’®æç¤ºè¿˜æ˜¯åˆå§‹é¡µé¢æç¤º?</li>\n<li>å…¶ä»–â€¦</li>\n</ol>\n<h3 id=\"åæœŸéœ€è¦è€ƒè™‘çš„é—®é¢˜\"><a href=\"#åæœŸéœ€è¦è€ƒè™‘çš„é—®é¢˜\" class=\"headerlink\" title=\"åæœŸéœ€è¦è€ƒè™‘çš„é—®é¢˜\"></a>åæœŸéœ€è¦è€ƒè™‘çš„é—®é¢˜</h3><ul>\n<li>ç°åœ¨æ˜¯æ¬§æ´¾ä¸€å¥—ç³»ç»Ÿï¼Œè¥¿é—¨å­ä¸€å¥—ç³»ç»Ÿï¼Œ åæœŸï¼Ÿï¼Ÿï¼Ÿ</li>\n<li>ä¸åŒå•†å®¶åˆä½œå•†å…¥å£ï¼Ÿæ˜¯å¦å¯ä»¥åšæˆä¸€å¥—ï¼Ÿ</li>\n<li>å¦‚æœåšæˆä¸€å¥—ï¼Œå¦‚ä½•åœ¨ä¸åŒåœºæ™¯æ›´å¥½çš„å±•ç¤ºï¼Œä¸”æ”¹åŠ¨è¾ƒå°‘ï¼›</li>\n<li>å¦‚æœåšé…ç½®è¯ç®¡ç†ï¼Œæ˜¯å¦å­˜åœ¨ç¼ºé™· ä»¥åŠä¸è¶³ï¼›æ¶‰åŠåˆ°ï¼ˆæ ·å¼ï¼Œä¸»é¢˜è‰²ï¼Œå¸ƒå±€ç­‰ç­‰ï¼‰ï¼›</li>\n</ul>\n"},{"title":"å·¥ä½œå†…å®¹-GridViewå®«æ ¼åŠ è½½æ¸²æŸ“ä¼˜åŒ–","abbrlink":"6cb1119a","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\nå…¬å¸ç³»ç»Ÿé¦–é¡µæ˜¯ä¸€ä¸ª`GridView`å®«æ ¼æ¨¡å—çš„ç•Œé¢ï¼Œä½†æ˜¯å¯¹äºè¿™æ ·çš„ä¸€ä¸ªç•Œé¢æ¥è®²ï¼Œæ¸²æŸ“ç•Œé¢çš„æ—¶é—´å¹¶ä¸ä¼šå¾ˆé•¿ï¼›æ¥å£è¿”å›çš„æ•°æ®çš„è€—æ—¶ä¹Ÿæ˜¯æ¯”è¾ƒçŸ­çš„ï¼Œä½†æ˜¯æ•´ä¸ªè¿‡ç¨‹åŠ èµ·æ¥è€—æ—¶`22s` ï¼›å¾ˆéš¾æƒ³è±¡ä¸ºä»€ä¹ˆä¼šèŠ±è´¹è¿™ä¹ˆé•¿æ—¶é—´å‘¢ï¼Ÿ\n\n## åˆ†æ\n\nåœ¨ä¼˜åŒ–ä¹‹å‰ï¼Œè¦å…ˆæ˜ç¡®ä¼˜åŒ–çš„åœ°æ–¹ä»¥åŠæ€ä¼˜åŒ–ï¼›åªæœ‰æ‰¾åˆ°æ¥æºæ‰å¥½æ‰¾åˆ°è§£å†³æ–¹æ¡ˆå»ä¼˜åŒ–ï¼›\n\næœ¬åœ°è°ƒè¯•é¡µé¢é¦–æ¬¡æ‰“å¼€ï¼Œä»æ¸²æŸ“é¡µé¢å¼€å§‹åˆ°èµ„æºåŠ è½½å®Œæ¯•ï¼Œå…±åŠ è½½ 20s-30s å·¦å³ï¼ŒåŠ è½½æœ¬åœ°èµ„æºåœ¨ 1s-2s å·¦å³ï¼Œç”±äºåŸç”Ÿç³»ç»Ÿå¼•å…¥ vue çš„åŸå› ï¼Œ vue å¤–é“¾ä¸æ˜¯å›½å†…çš„å¯¼è‡´ä¸‹è½½èµ„æºæ—¶é—´å°†è¿‘åœ¨ 15s å·¦å³ï¼›\n\næœ¬åœ°å¼€å‘å»é™¤ vue å¤–é“¾å¼•å…¥ï¼Œå†æ¬¡æ‰“å¼€é¡µé¢åŠ è½½æ—¶é—´åœ¨ 12s å·¦å³ï¼ŒæŸ¥çœ‹æœ¬åœ°èµ„æºåŠ è½½å®Œæˆçš„æ—¶é—´åœ¨ 1.5 å·¦å³ï¼Œé‚£ä¹ˆæ¸²æŸ“æ—¶é—´ä»å¼€å§‹åˆ°ç»“æŸä¸€å…± 8s-10s å·¦å³ï¼›å¯¹äº 100 ä¸ª tab çš„æ¸²æŸ“å†³ä¸èƒ½æ¸²æŸ“æ—¶é—´åœ¨ 10s å·¦å³ï¼Œé‚£ä¹ˆå°±æ˜¯æºç æ˜¯å¯ä»¥ä¼˜åŒ–çš„ï¼› æ˜ç¡®äº†é¡µé¢æ¸²æŸ“æ—¶é—´è¾ƒé•¿ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹æºç ï¼›æ›´åŠ æ˜ç¡®é¡µé¢æ¸²æŸ“æ—¶é—´é•¿çš„åŸå› ï¼›\n\n`æŸ¥çœ‹æºç ï¼Œä»£ç è¡Œæ•°æ¥è¿‘ 2000 è¡Œï¼›å»é™¤ css æ ·å¼å’Œ htmlï¼Œè®¡ç®—æ¯ä¸ª tab å°†è¿‘ 8-10 è¡Œä»£ç ï¼›å¹¶ä¸”è¿™äº›ä»£ç æ˜¯å¯ä»¥é‡å¤åˆ©ç”¨å°è£…çš„ï¼›`\n\n> åˆ†æå›¾ï¼Œå¦‚ä¸‹å›¾\n\n![GridViewåˆ†æå›¾](http://wangxiaoze-view.github.io/picx-images-hosting/images/home_gridview_1.svg)\n\n## è§£å†³æ–¹æ¡ˆ\n\n- ä»£ç æç‚¼ï¼Œä»£ç ç®€æ´ä¼˜åŒ–\n- æå–å…¬å…±èŠ‚ç‚¹å…ƒç´ \n- å…¬å…±æ¸²æŸ“å‡½æ•°å°è£…\n\n> å› ä¸ºæ¶‰åŠå…¬å¸æºç ï¼Œè¿™é‡Œåªå°†æ²¡æœ‰å…³ç³»çš„å›¾ç‰‡å±•ç¤ºå‡ºæ¥\n\n![GridViewè§£å†³å›¾1](http://wangxiaoze-view.github.io/picx-images-hosting/images/homeGridview_2.png)\n![GridViewè§£å†³å›¾2](http://wangxiaoze-view.github.io/picx-images-hosting/images/homeGridview_3.png)\n![GridViewè§£å†³å›¾3](http://wangxiaoze-view.github.io/picx-images-hosting/images/homeGridview_4.png)\n\n**ä»¥ js è¿½åŠ å…ƒç´  é¿å…äº†ç¼–è¯‘çš„æ¸²æŸ“çš„è¿‡ç¨‹ï¼Œä»è€Œé¿å… 8s æ—¶é—´çš„ç­‰å¾…ï¼›åœ¨åŸæ¥çš„åŸºç¡€ä¸Š ä¼˜åŒ–äº†è¿‘ 7-8s å·¦å³ï¼›**\n","source":"_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/GridViewå®«æ ¼åŠ è½½æ¸²æŸ“ä¼˜åŒ–.md","raw":"---\ntitle: å·¥ä½œå†…å®¹-GridViewå®«æ ¼åŠ è½½æ¸²æŸ“ä¼˜åŒ–\nabbrlink: 6cb1119a\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - å·¥ä½œå†…å®¹\n---\n\n# èƒŒæ™¯\n\nå…¬å¸ç³»ç»Ÿé¦–é¡µæ˜¯ä¸€ä¸ª`GridView`å®«æ ¼æ¨¡å—çš„ç•Œé¢ï¼Œä½†æ˜¯å¯¹äºè¿™æ ·çš„ä¸€ä¸ªç•Œé¢æ¥è®²ï¼Œæ¸²æŸ“ç•Œé¢çš„æ—¶é—´å¹¶ä¸ä¼šå¾ˆé•¿ï¼›æ¥å£è¿”å›çš„æ•°æ®çš„è€—æ—¶ä¹Ÿæ˜¯æ¯”è¾ƒçŸ­çš„ï¼Œä½†æ˜¯æ•´ä¸ªè¿‡ç¨‹åŠ èµ·æ¥è€—æ—¶`22s` ï¼›å¾ˆéš¾æƒ³è±¡ä¸ºä»€ä¹ˆä¼šèŠ±è´¹è¿™ä¹ˆé•¿æ—¶é—´å‘¢ï¼Ÿ\n\n## åˆ†æ\n\nåœ¨ä¼˜åŒ–ä¹‹å‰ï¼Œè¦å…ˆæ˜ç¡®ä¼˜åŒ–çš„åœ°æ–¹ä»¥åŠæ€ä¼˜åŒ–ï¼›åªæœ‰æ‰¾åˆ°æ¥æºæ‰å¥½æ‰¾åˆ°è§£å†³æ–¹æ¡ˆå»ä¼˜åŒ–ï¼›\n\næœ¬åœ°è°ƒè¯•é¡µé¢é¦–æ¬¡æ‰“å¼€ï¼Œä»æ¸²æŸ“é¡µé¢å¼€å§‹åˆ°èµ„æºåŠ è½½å®Œæ¯•ï¼Œå…±åŠ è½½ 20s-30s å·¦å³ï¼ŒåŠ è½½æœ¬åœ°èµ„æºåœ¨ 1s-2s å·¦å³ï¼Œç”±äºåŸç”Ÿç³»ç»Ÿå¼•å…¥ vue çš„åŸå› ï¼Œ vue å¤–é“¾ä¸æ˜¯å›½å†…çš„å¯¼è‡´ä¸‹è½½èµ„æºæ—¶é—´å°†è¿‘åœ¨ 15s å·¦å³ï¼›\n\næœ¬åœ°å¼€å‘å»é™¤ vue å¤–é“¾å¼•å…¥ï¼Œå†æ¬¡æ‰“å¼€é¡µé¢åŠ è½½æ—¶é—´åœ¨ 12s å·¦å³ï¼ŒæŸ¥çœ‹æœ¬åœ°èµ„æºåŠ è½½å®Œæˆçš„æ—¶é—´åœ¨ 1.5 å·¦å³ï¼Œé‚£ä¹ˆæ¸²æŸ“æ—¶é—´ä»å¼€å§‹åˆ°ç»“æŸä¸€å…± 8s-10s å·¦å³ï¼›å¯¹äº 100 ä¸ª tab çš„æ¸²æŸ“å†³ä¸èƒ½æ¸²æŸ“æ—¶é—´åœ¨ 10s å·¦å³ï¼Œé‚£ä¹ˆå°±æ˜¯æºç æ˜¯å¯ä»¥ä¼˜åŒ–çš„ï¼› æ˜ç¡®äº†é¡µé¢æ¸²æŸ“æ—¶é—´è¾ƒé•¿ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹æºç ï¼›æ›´åŠ æ˜ç¡®é¡µé¢æ¸²æŸ“æ—¶é—´é•¿çš„åŸå› ï¼›\n\n`æŸ¥çœ‹æºç ï¼Œä»£ç è¡Œæ•°æ¥è¿‘ 2000 è¡Œï¼›å»é™¤ css æ ·å¼å’Œ htmlï¼Œè®¡ç®—æ¯ä¸ª tab å°†è¿‘ 8-10 è¡Œä»£ç ï¼›å¹¶ä¸”è¿™äº›ä»£ç æ˜¯å¯ä»¥é‡å¤åˆ©ç”¨å°è£…çš„ï¼›`\n\n> åˆ†æå›¾ï¼Œå¦‚ä¸‹å›¾\n\n![GridViewåˆ†æå›¾](http://wangxiaoze-view.github.io/picx-images-hosting/images/home_gridview_1.svg)\n\n## è§£å†³æ–¹æ¡ˆ\n\n- ä»£ç æç‚¼ï¼Œä»£ç ç®€æ´ä¼˜åŒ–\n- æå–å…¬å…±èŠ‚ç‚¹å…ƒç´ \n- å…¬å…±æ¸²æŸ“å‡½æ•°å°è£…\n\n> å› ä¸ºæ¶‰åŠå…¬å¸æºç ï¼Œè¿™é‡Œåªå°†æ²¡æœ‰å…³ç³»çš„å›¾ç‰‡å±•ç¤ºå‡ºæ¥\n\n![GridViewè§£å†³å›¾1](http://wangxiaoze-view.github.io/picx-images-hosting/images/homeGridview_2.png)\n![GridViewè§£å†³å›¾2](http://wangxiaoze-view.github.io/picx-images-hosting/images/homeGridview_3.png)\n![GridViewè§£å†³å›¾3](http://wangxiaoze-view.github.io/picx-images-hosting/images/homeGridview_4.png)\n\n**ä»¥ js è¿½åŠ å…ƒç´  é¿å…äº†ç¼–è¯‘çš„æ¸²æŸ“çš„è¿‡ç¨‹ï¼Œä»è€Œé¿å… 8s æ—¶é—´çš„ç­‰å¾…ï¼›åœ¨åŸæ¥çš„åŸºç¡€ä¸Š ä¼˜åŒ–äº†è¿‘ 7-8s å·¦å³ï¼›**\n","slug":"æ€»ç»“/é¡¹ç›®æ€»ç»“/GridViewå®«æ ¼åŠ è½½æ¸²æŸ“ä¼˜åŒ–","published":1,"updated":"2025-03-13T10:16:17.751Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iu0019fg9mgsxfffof","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>å…¬å¸ç³»ç»Ÿé¦–é¡µæ˜¯ä¸€ä¸ª<code>GridView</code>å®«æ ¼æ¨¡å—çš„ç•Œé¢ï¼Œä½†æ˜¯å¯¹äºè¿™æ ·çš„ä¸€ä¸ªç•Œé¢æ¥è®²ï¼Œæ¸²æŸ“ç•Œé¢çš„æ—¶é—´å¹¶ä¸ä¼šå¾ˆé•¿ï¼›æ¥å£è¿”å›çš„æ•°æ®çš„è€—æ—¶ä¹Ÿæ˜¯æ¯”è¾ƒçŸ­çš„ï¼Œä½†æ˜¯æ•´ä¸ªè¿‡ç¨‹åŠ èµ·æ¥è€—æ—¶<code>22s</code> ï¼›å¾ˆéš¾æƒ³è±¡ä¸ºä»€ä¹ˆä¼šèŠ±è´¹è¿™ä¹ˆé•¿æ—¶é—´å‘¢ï¼Ÿ</p>\n<h2 id=\"åˆ†æ\"><a href=\"#åˆ†æ\" class=\"headerlink\" title=\"åˆ†æ\"></a>åˆ†æ</h2><p>åœ¨ä¼˜åŒ–ä¹‹å‰ï¼Œè¦å…ˆæ˜ç¡®ä¼˜åŒ–çš„åœ°æ–¹ä»¥åŠæ€ä¼˜åŒ–ï¼›åªæœ‰æ‰¾åˆ°æ¥æºæ‰å¥½æ‰¾åˆ°è§£å†³æ–¹æ¡ˆå»ä¼˜åŒ–ï¼›</p>\n<p>æœ¬åœ°è°ƒè¯•é¡µé¢é¦–æ¬¡æ‰“å¼€ï¼Œä»æ¸²æŸ“é¡µé¢å¼€å§‹åˆ°èµ„æºåŠ è½½å®Œæ¯•ï¼Œå…±åŠ è½½ 20s-30s å·¦å³ï¼ŒåŠ è½½æœ¬åœ°èµ„æºåœ¨ 1s-2s å·¦å³ï¼Œç”±äºåŸç”Ÿç³»ç»Ÿå¼•å…¥ vue çš„åŸå› ï¼Œ vue å¤–é“¾ä¸æ˜¯å›½å†…çš„å¯¼è‡´ä¸‹è½½èµ„æºæ—¶é—´å°†è¿‘åœ¨ 15s å·¦å³ï¼›</p>\n<p>æœ¬åœ°å¼€å‘å»é™¤ vue å¤–é“¾å¼•å…¥ï¼Œå†æ¬¡æ‰“å¼€é¡µé¢åŠ è½½æ—¶é—´åœ¨ 12s å·¦å³ï¼ŒæŸ¥çœ‹æœ¬åœ°èµ„æºåŠ è½½å®Œæˆçš„æ—¶é—´åœ¨ 1.5 å·¦å³ï¼Œé‚£ä¹ˆæ¸²æŸ“æ—¶é—´ä»å¼€å§‹åˆ°ç»“æŸä¸€å…± 8s-10s å·¦å³ï¼›å¯¹äº 100 ä¸ª tab çš„æ¸²æŸ“å†³ä¸èƒ½æ¸²æŸ“æ—¶é—´åœ¨ 10s å·¦å³ï¼Œé‚£ä¹ˆå°±æ˜¯æºç æ˜¯å¯ä»¥ä¼˜åŒ–çš„ï¼› æ˜ç¡®äº†é¡µé¢æ¸²æŸ“æ—¶é—´è¾ƒé•¿ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹æºç ï¼›æ›´åŠ æ˜ç¡®é¡µé¢æ¸²æŸ“æ—¶é—´é•¿çš„åŸå› ï¼›</p>\n<p><code>æŸ¥çœ‹æºç ï¼Œä»£ç è¡Œæ•°æ¥è¿‘ 2000 è¡Œï¼›å»é™¤ css æ ·å¼å’Œ htmlï¼Œè®¡ç®—æ¯ä¸ª tab å°†è¿‘ 8-10 è¡Œä»£ç ï¼›å¹¶ä¸”è¿™äº›ä»£ç æ˜¯å¯ä»¥é‡å¤åˆ©ç”¨å°è£…çš„ï¼›</code></p>\n<blockquote>\n<p>åˆ†æå›¾ï¼Œå¦‚ä¸‹å›¾</p>\n</blockquote>\n<p><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/home_gridview_1.svg\" alt=\"GridViewåˆ†æå›¾\"></p>\n<h2 id=\"è§£å†³æ–¹æ¡ˆ\"><a href=\"#è§£å†³æ–¹æ¡ˆ\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h2><ul>\n<li>ä»£ç æç‚¼ï¼Œä»£ç ç®€æ´ä¼˜åŒ–</li>\n<li>æå–å…¬å…±èŠ‚ç‚¹å…ƒç´ </li>\n<li>å…¬å…±æ¸²æŸ“å‡½æ•°å°è£…</li>\n</ul>\n<blockquote>\n<p>å› ä¸ºæ¶‰åŠå…¬å¸æºç ï¼Œè¿™é‡Œåªå°†æ²¡æœ‰å…³ç³»çš„å›¾ç‰‡å±•ç¤ºå‡ºæ¥</p>\n</blockquote>\n<p><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/homeGridview_2.png\" alt=\"GridViewè§£å†³å›¾1\"><br><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/homeGridview_3.png\" alt=\"GridViewè§£å†³å›¾2\"><br><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/homeGridview_4.png\" alt=\"GridViewè§£å†³å›¾3\"></p>\n<p><strong>ä»¥ js è¿½åŠ å…ƒç´  é¿å…äº†ç¼–è¯‘çš„æ¸²æŸ“çš„è¿‡ç¨‹ï¼Œä»è€Œé¿å… 8s æ—¶é—´çš„ç­‰å¾…ï¼›åœ¨åŸæ¥çš„åŸºç¡€ä¸Š ä¼˜åŒ–äº†è¿‘ 7-8s å·¦å³ï¼›</strong></p>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>å…¬å¸ç³»ç»Ÿé¦–é¡µæ˜¯ä¸€ä¸ª<code>GridView</code>å®«æ ¼æ¨¡å—çš„ç•Œé¢ï¼Œä½†æ˜¯å¯¹äºè¿™æ ·çš„ä¸€ä¸ªç•Œé¢æ¥è®²ï¼Œæ¸²æŸ“ç•Œé¢çš„æ—¶é—´å¹¶ä¸ä¼šå¾ˆé•¿ï¼›æ¥å£è¿”å›çš„æ•°æ®çš„è€—æ—¶ä¹Ÿæ˜¯æ¯”è¾ƒçŸ­çš„ï¼Œä½†æ˜¯æ•´ä¸ªè¿‡ç¨‹åŠ èµ·æ¥è€—æ—¶<code>22s</code> ï¼›å¾ˆéš¾æƒ³è±¡ä¸ºä»€ä¹ˆä¼šèŠ±è´¹è¿™ä¹ˆé•¿æ—¶é—´å‘¢ï¼Ÿ</p>\n<h2 id=\"åˆ†æ\"><a href=\"#åˆ†æ\" class=\"headerlink\" title=\"åˆ†æ\"></a>åˆ†æ</h2><p>åœ¨ä¼˜åŒ–ä¹‹å‰ï¼Œè¦å…ˆæ˜ç¡®ä¼˜åŒ–çš„åœ°æ–¹ä»¥åŠæ€ä¼˜åŒ–ï¼›åªæœ‰æ‰¾åˆ°æ¥æºæ‰å¥½æ‰¾åˆ°è§£å†³æ–¹æ¡ˆå»ä¼˜åŒ–ï¼›</p>\n<p>æœ¬åœ°è°ƒè¯•é¡µé¢é¦–æ¬¡æ‰“å¼€ï¼Œä»æ¸²æŸ“é¡µé¢å¼€å§‹åˆ°èµ„æºåŠ è½½å®Œæ¯•ï¼Œå…±åŠ è½½ 20s-30s å·¦å³ï¼ŒåŠ è½½æœ¬åœ°èµ„æºåœ¨ 1s-2s å·¦å³ï¼Œç”±äºåŸç”Ÿç³»ç»Ÿå¼•å…¥ vue çš„åŸå› ï¼Œ vue å¤–é“¾ä¸æ˜¯å›½å†…çš„å¯¼è‡´ä¸‹è½½èµ„æºæ—¶é—´å°†è¿‘åœ¨ 15s å·¦å³ï¼›</p>\n<p>æœ¬åœ°å¼€å‘å»é™¤ vue å¤–é“¾å¼•å…¥ï¼Œå†æ¬¡æ‰“å¼€é¡µé¢åŠ è½½æ—¶é—´åœ¨ 12s å·¦å³ï¼ŒæŸ¥çœ‹æœ¬åœ°èµ„æºåŠ è½½å®Œæˆçš„æ—¶é—´åœ¨ 1.5 å·¦å³ï¼Œé‚£ä¹ˆæ¸²æŸ“æ—¶é—´ä»å¼€å§‹åˆ°ç»“æŸä¸€å…± 8s-10s å·¦å³ï¼›å¯¹äº 100 ä¸ª tab çš„æ¸²æŸ“å†³ä¸èƒ½æ¸²æŸ“æ—¶é—´åœ¨ 10s å·¦å³ï¼Œé‚£ä¹ˆå°±æ˜¯æºç æ˜¯å¯ä»¥ä¼˜åŒ–çš„ï¼› æ˜ç¡®äº†é¡µé¢æ¸²æŸ“æ—¶é—´è¾ƒé•¿ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹æºç ï¼›æ›´åŠ æ˜ç¡®é¡µé¢æ¸²æŸ“æ—¶é—´é•¿çš„åŸå› ï¼›</p>\n<p><code>æŸ¥çœ‹æºç ï¼Œä»£ç è¡Œæ•°æ¥è¿‘ 2000 è¡Œï¼›å»é™¤ css æ ·å¼å’Œ htmlï¼Œè®¡ç®—æ¯ä¸ª tab å°†è¿‘ 8-10 è¡Œä»£ç ï¼›å¹¶ä¸”è¿™äº›ä»£ç æ˜¯å¯ä»¥é‡å¤åˆ©ç”¨å°è£…çš„ï¼›</code></p>\n<blockquote>\n<p>åˆ†æå›¾ï¼Œå¦‚ä¸‹å›¾</p>\n</blockquote>\n<p><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/home_gridview_1.svg\" alt=\"GridViewåˆ†æå›¾\"></p>\n<h2 id=\"è§£å†³æ–¹æ¡ˆ\"><a href=\"#è§£å†³æ–¹æ¡ˆ\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h2><ul>\n<li>ä»£ç æç‚¼ï¼Œä»£ç ç®€æ´ä¼˜åŒ–</li>\n<li>æå–å…¬å…±èŠ‚ç‚¹å…ƒç´ </li>\n<li>å…¬å…±æ¸²æŸ“å‡½æ•°å°è£…</li>\n</ul>\n<blockquote>\n<p>å› ä¸ºæ¶‰åŠå…¬å¸æºç ï¼Œè¿™é‡Œåªå°†æ²¡æœ‰å…³ç³»çš„å›¾ç‰‡å±•ç¤ºå‡ºæ¥</p>\n</blockquote>\n<p><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/homeGridview_2.png\" alt=\"GridViewè§£å†³å›¾1\"><br><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/homeGridview_3.png\" alt=\"GridViewè§£å†³å›¾2\"><br><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/homeGridview_4.png\" alt=\"GridViewè§£å†³å›¾3\"></p>\n<p><strong>ä»¥ js è¿½åŠ å…ƒç´  é¿å…äº†ç¼–è¯‘çš„æ¸²æŸ“çš„è¿‡ç¨‹ï¼Œä»è€Œé¿å… 8s æ—¶é—´çš„ç­‰å¾…ï¼›åœ¨åŸæ¥çš„åŸºç¡€ä¸Š ä¼˜åŒ–äº†è¿‘ 7-8s å·¦å³ï¼›</strong></p>\n"},{"title":"å·¥ä½œå†…å®¹-ä¸­è‹±æ–‡æœç´¢æŒ‰é”®å›è½¦äº‹ä»¶å†²çª","abbrlink":"6cb1119a","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\næ™®é€šçš„è¾“å…¥æ¡†ï¼Œåšä¸€ä¸ªæœç´¢çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆå¯¹äºæœç´¢ï¼Œè¾“å…¥ç›´æ¥è°ƒç”¨æ¥å£å°±å¥½äº†ï¼Œ ä¸ºä»€ä¹ˆè¿˜è¦å€¼å¾—åšè®°å½•æ€»ç»“å‘¢ï¼Ÿæ˜¯å› ä¸ºï¼Œæœç´¢æŸ¥è¯¢å¹¶ä¸æ˜¯ä½ æƒ³è±¡ä¸­çš„ç›´æ¥è°ƒç”¨æ¥å£å°±å¯ä»¥äº†ï¼›è€ƒè™‘çš„å› ç´ ä¹Ÿæ˜¯æŒºå¤šçš„ï¼Œä¾‹å¦‚ï¼Œæœç´¢ä¼˜åŒ–ï¼Œä¸å¯¹æœåŠ¡å™¨é€ æˆå¹¶å‘å½±å“ï¼›\n\né—´éš”æœç´¢ç­‰ç­‰ï¼Œä¸€èˆ¬è¡Œä¸ºï¼Œä¸ºäº†ä¸é¢‘ç¹è¯·æ±‚æ¥å£ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨`èŠ‚æµå‡½æ•°`ä¼˜åŒ–ï¼Œæˆ–è€…å¤±å»ç„¦ç‚¹å†å»è¯·æ±‚ä¹Ÿæ˜¯å¯ä»¥çš„ï¼›\n\nä½†æ˜¯å¯¹äºåŠæŸ¥åŠæ˜¾ç¤ºçš„åŠŸèƒ½åŸåˆ™ï¼Œè¿™æ˜¯å°±ä¸èƒ½ä½¿ç”¨å¤±ç„¦æŸ¥è¯¢äº†ï¼›è¿™é‡Œçš„åŠŸèƒ½ä¾‹å¦‚ï¼š åœ°å€æŸ¥è¯¢ç­‰ç­‰ï¼›\n\né‚£ä¹ˆè¾“å…¥æŸ¥è¯¢ä¹Ÿä¼šå‡ºç°å¦å¤–çš„ä¸€ä¸ªå¼Šç«¯ï¼Œ é‚£å°±æ˜¯ä¸­æ–‡å­—ç¬¦çš„å½±å“ï¼Œä¸‹é¢ä¼šè¯´æ˜ `bug` å¤ç°çš„è¿‡ç¨‹å’Œè§£å†³æ–¹æ¡ˆ!\n\n## é€‚ç”¨åœºæ™¯\n\n- å¸¸è§çš„æœç´¢æŸ¥è¯¢æ— éå°±é‚£ä¹ˆå‡ ç§ï¼Œç«¯ä¸ç«¯çš„æœç´¢ä¹Ÿå°±æ˜¯ç§»åŠ¨ç«¯ä¸ pc ç«¯ï¼›\n- å¦‚æœæ˜¯ç§»åŠ¨ç«¯ä»…ä»…éœ€è¦å¤„ç†çš„æ˜¯é¢‘ç¹è¯·æ±‚çš„é—®é¢˜ï¼›é¿å…é¢‘ç¹è¯·æ±‚é€ æˆçš„æœåŠ¡å™¨çš„å‹åŠ›;\n- å¦‚æœæ˜¯ pc ç«¯ï¼Œå°±ä¸æ˜¯ä»…ä»…éœ€è¦å¤„ç†é¢‘ç¹è¯·æ±‚çš„é—®é¢˜äº†ï¼› å¹¶ä¸”ä½ åœ¨ `input` çš„æƒ…å†µä¸‹è¿˜è¦å¤„ç†å¦å¤–ä¸€ç§æƒ…å†µï¼Œè¾“å…¥ä¸­æ–‡æœ‰ä¸­æ–‡å­—ç¬¦çš„æƒ…å†µï¼›\n- å¹³å¸¸çš„æœç´¢éƒ½æ˜¯è¾“å…¥æ¡†ï¼Œ æŒ‰é’®æŸ¥è¯¢æœç´¢;\n\n## é—®é¢˜åˆ†æå¤ç›˜\n\nåœ¨åŸæœ‰çš„åŠŸèƒ½ä¸Šå»é€‰æ‹©åŒ–çš„ç»´æŠ¤ä¸æ‰©å±•ï¼›å…¶ä¸­æœ‰å…³è”å•å·ï¼Œå…¶å®æ˜¯ä¸ªæœç´¢æŸ¥è¯¢åŠŸèƒ½, æŸ¥è¯¢è¾“å…¥çš„æ‰‹æœºå·å…³è”çš„ä¸šä¸»æœ€æ–°å‰ä¸‰å•çš„ä¿¡æ¯;\n\nå› ä¸ºå½“æ—¶è€ƒè™‘ç”¨æˆ·æœç´¢æŸ¥è¯¢æ–¹ä¾¿ï¼Œç‰¹å¤„ç†è¾“å…¥æ¡†çš„äº‹ä»¶ä¸º oninput, è¿™æ ·ç›´æ¥è¾“å…¥æŸ¥è¯¢å†…å®¹ï¼Œåœ¨å¤„ç†é¢‘ç¹è¯·æ±‚çš„åŸºç¡€ä¸Šå»è¯·æ±‚æ•°æ®ï¼›è¿™æ ·å°±å¯ä»¥éšæŸ¥éšæ—¶æ˜¾ç¤ºäº†ï¼›\n\nè€Œä¸é€‰æ‹© onchange, onblur æ˜¯å› ä¸ºä¿©è€…éƒ½æ˜¯å¤±å»ç„¦ç‚¹å†å»è¯·æ±‚;\n\né’ˆå¯¹ä¸‰è€…çš„åŒºåˆ«ï¼Œæˆ‘åšäº†ä¸€ä¸‹æ€»ç»“ï¼š\n\n- `oninput`: åªè¦è¾“å…¥ï¼Œ è¾“å…¥æ¡†ç”±å†…å®¹åˆ™ä¼šæ‰§è¡Œï¼Œä½†æ˜¯è¿™é‡Œè¦åŒºåˆ†ä¸€ä¸ªé—®é¢˜ï¼š\n- `onchange, onblurç›¸åŒç‚¹`: ä¿©è€…éƒ½æ˜¯å¤±å»ç„¦ç‚¹ä¹‹åå†å‡ºå¤„ç†å¯¹åº”çš„é€»è¾‘ï¼›\n- `onchange, onblurä¸åŒç‚¹`: `oncahnge`æ˜¯åœ¨è¾“å…¥çš„åŸºç¡€ä¸Šæ‰ä¼šæ‰§è¡Œï¼Œè€Œ`onblur`ä¸è®ºæ˜¯å¦è¾“å…¥éƒ½ä¼šæ‰§è¡Œï¼›\n\n**ä½†æ˜¯ï¼š`oninput`è¦åšä¸€ä¸ªåŒºåˆ«ï¼Œå°±æ˜¯ pc æœ‰å…¶ä»–è¾“å…¥æ³•çš„æƒ…å†µä¸‹æ˜¯ä»¥æ­£å¸¸æ‰§è¡Œçš„ï¼Œè¾“å…¥æ¡†ä¸ä¼šæœ‰è¾“å…¥çš„æ–‡å­—æˆ–è€…å­—æ¯ï¼Œ è€Œ Windows è‡ªå¸¦çš„è¾“å…¥æ³•ï¼Œåœ¨è¾“å…¥æ¡†åˆ‡æ¢ä¸­æ–‡å†å»è¾“å…¥çš„æƒ…å†µï¼Œä¼šå°†è¾“å…¥çš„è‹±æ–‡å…ˆæ˜¾ç¤ºåœ¨è¾“å…¥æ¡†ä¸­ï¼Œé‚£æ ·å°±ä¼šå‡ºç°è¾“å…¥ä¸€ä¸ªå­—ç¬¦å°±ä¼šå»è¯·æ±‚ä¸€æ¬¡ï¼›è¿™æ ·çš„æƒ…å†µå°±å¯ä»¥é€ æˆæ¥å£è¿”å›å¼‚å¸¸æˆ–è€…é”™è¯¯ä¿¡æ¯;**\n\n## æ•ˆæœé¢„è§ˆ\n\n> ä»¥ä¸‹æ•ˆæœéƒ½æ˜¯åœ¨ `windows`ä¸‹çš„æ•ˆæœï¼›\n\n### ä½¿ç”¨å…¶ä»–çš„è¾“å…¥æ³•\n\n![ä½¿ç”¨å…¶ä»–çš„è¾“å…¥æ³•](http://wangxiaoze-view.github.io/picx-images-hosting/images/search_1.png)\n\n### windows è‡ªå¸¦çš„è¾“å…¥æ³•\n\n![è‡ªå¸¦çš„è¾“å…¥æ³•](http://wangxiaoze-view.github.io/picx-images-hosting/images/search_2.png)\n\n> windows è‡ªå¸¦çš„è¾“å…¥æ³•ï¼Œåœ¨è¿™æ ·çš„æƒ…å†µä¸‹ä¼šèµ°è¯·æ±‚ï¼Œ è¿˜æ˜¯æœ‰ç‰¹æ®Šç¬¦å·çš„æƒ…å†µï¼Œå¦‚æœåœ¨è¿™æ ·çš„æƒ…å†µä¸‹åç«¯å¯èƒ½ä¼šæŠ¥é”™ï¼›\n\n## è§£å†³æ–¹æ¡ˆ\n\n- å°† `oninput` äº‹ä»¶æ¢æˆ `onchange, onblur` äº‹ä»¶ï¼Œåªæœ‰å½“å¤±å»ç„¦ç‚¹çš„æƒ…å†µä¸‹æ‰ä¼šå»è¯·æ±‚ï¼Œ è¿™æ ·å¯èƒ½ä¼šé€ æˆåŠŸèƒ½ç–‘æƒ‘é—®é¢˜ï¼›éƒ½è¾“å…¥äº†æ€ä¹ˆä¸æ‰§è¡Œå‘¢ï¼Ÿæ€ä¹ˆæ²¡æœ‰æ•°æ®å‘¢ï¼Ÿæ€ä¹ˆæ“ä½œï¼Ÿ\n- åŒæ ·ï¼Œç»§ç»­ä½¿ç”¨ oninput äº‹ä»¶ï¼›ä¸è¿‡åœ¨è¿™åŸºç¡€ä¸Šè¿˜è¦æ‰§è¡Œä¿©ä¸ªäº‹ä»¶ `compositionstart, compositionend`;\n- `compositionstart` å¼€å§‹æ–°çš„è¾“å…¥åˆæˆæ—¶ä¼šè§¦å‘ï¼Œ `compositionend` å½“æ–‡æœ¬æ®µè½çš„ç»„æˆå®Œæˆæˆ–å–æ¶ˆæ—¶ï¼Œ`compositionend` äº‹ä»¶å°†è¢«è§¦å‘ (å…·æœ‰ç‰¹æ®Šå­—ç¬¦çš„è§¦å‘ï¼Œéœ€è¦ä¸€ç³»åˆ—é”®å’Œå…¶ä»–è¾“å…¥ï¼Œå¦‚è¯­éŸ³è¯†åˆ«æˆ–ç§»åŠ¨ä¸­çš„å­—è¯å»ºè®®)ã€‚[compositionend](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/compositionend_event) [compositionstart](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/compositionstart_event)\n\n## å®ä¾‹ä»£ç \n\n```js\n// isInput åˆ¤æ–­çš„æ˜¯æ˜¯å¦åˆå¹¶ç»“æŸï¼Œ é»˜è®¤ç»“æŸ\nlet isInput = true;\ngetOrderDemo\n\t.on(\n\t\t\"input\",\n\t\tthrottle(function () {\n\t\t\t// å¦‚æœåˆå¹¶ç»“æŸå®Œæˆåˆ™ï¼Œ è¿›è¡Œä¸‹ä¸€æ­¥çš„é€»è¾‘æ“ä½œ; æ²¡æœ‰ç»“æŸåˆå¹¶  ä¸ä¼šæ‰§è¡Œ;\n\t\t\tif (isInput) {\n\t\t\t\tlet val = $(this)\n\t\t\t\t\t.val()\n\t\t\t\t\t.replace(/\\s|\\r|\\t|\\n/g, \"\");\n\t\t\t\t// ...code there æ‰§è¡Œå¯¹åº”çš„é€»è¾‘æ“ä½œ;\n\t\t\t}\n\t\t}, 500)\n\t)\n\t.on(\"keyup\", function () {})\n\t.on(\"compositionstart\", function () {\n\t\t// å½“æ‰§è¡Œå¦‚å›¾äºŒçš„æƒ…å†µä¸‹ï¼Œè¯´æ˜è¿˜åœ¨åˆå¹¶ï¼Œå¹¶æ²¡æœ‰ç»“æŸ\n\t\tisInput = false;\n\t})\n\t.on(\"compositionend\", function () {\n\t\t// æ‰§è¡Œåˆ°è¿™ä¸€æ­¥è¯´æ˜  åˆå¹¶ç»“æŸï¼Œ å½“åˆå¹¶ç»“æŸæ—¶ï¼Œæ‰§è¡Œinput\n\t\tisInput = true;\n\t});\n```\n","source":"_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/ä¸­è‹±æ–‡æœç´¢æŒ‰é”®å›è½¦äº‹ä»¶å†²çª.md","raw":"---\ntitle: å·¥ä½œå†…å®¹-ä¸­è‹±æ–‡æœç´¢æŒ‰é”®å›è½¦äº‹ä»¶å†²çª\nabbrlink: 6cb1119a\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - å·¥ä½œå†…å®¹\n---\n\n# èƒŒæ™¯\n\næ™®é€šçš„è¾“å…¥æ¡†ï¼Œåšä¸€ä¸ªæœç´¢çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆå¯¹äºæœç´¢ï¼Œè¾“å…¥ç›´æ¥è°ƒç”¨æ¥å£å°±å¥½äº†ï¼Œ ä¸ºä»€ä¹ˆè¿˜è¦å€¼å¾—åšè®°å½•æ€»ç»“å‘¢ï¼Ÿæ˜¯å› ä¸ºï¼Œæœç´¢æŸ¥è¯¢å¹¶ä¸æ˜¯ä½ æƒ³è±¡ä¸­çš„ç›´æ¥è°ƒç”¨æ¥å£å°±å¯ä»¥äº†ï¼›è€ƒè™‘çš„å› ç´ ä¹Ÿæ˜¯æŒºå¤šçš„ï¼Œä¾‹å¦‚ï¼Œæœç´¢ä¼˜åŒ–ï¼Œä¸å¯¹æœåŠ¡å™¨é€ æˆå¹¶å‘å½±å“ï¼›\n\né—´éš”æœç´¢ç­‰ç­‰ï¼Œä¸€èˆ¬è¡Œä¸ºï¼Œä¸ºäº†ä¸é¢‘ç¹è¯·æ±‚æ¥å£ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨`èŠ‚æµå‡½æ•°`ä¼˜åŒ–ï¼Œæˆ–è€…å¤±å»ç„¦ç‚¹å†å»è¯·æ±‚ä¹Ÿæ˜¯å¯ä»¥çš„ï¼›\n\nä½†æ˜¯å¯¹äºåŠæŸ¥åŠæ˜¾ç¤ºçš„åŠŸèƒ½åŸåˆ™ï¼Œè¿™æ˜¯å°±ä¸èƒ½ä½¿ç”¨å¤±ç„¦æŸ¥è¯¢äº†ï¼›è¿™é‡Œçš„åŠŸèƒ½ä¾‹å¦‚ï¼š åœ°å€æŸ¥è¯¢ç­‰ç­‰ï¼›\n\né‚£ä¹ˆè¾“å…¥æŸ¥è¯¢ä¹Ÿä¼šå‡ºç°å¦å¤–çš„ä¸€ä¸ªå¼Šç«¯ï¼Œ é‚£å°±æ˜¯ä¸­æ–‡å­—ç¬¦çš„å½±å“ï¼Œä¸‹é¢ä¼šè¯´æ˜ `bug` å¤ç°çš„è¿‡ç¨‹å’Œè§£å†³æ–¹æ¡ˆ!\n\n## é€‚ç”¨åœºæ™¯\n\n- å¸¸è§çš„æœç´¢æŸ¥è¯¢æ— éå°±é‚£ä¹ˆå‡ ç§ï¼Œç«¯ä¸ç«¯çš„æœç´¢ä¹Ÿå°±æ˜¯ç§»åŠ¨ç«¯ä¸ pc ç«¯ï¼›\n- å¦‚æœæ˜¯ç§»åŠ¨ç«¯ä»…ä»…éœ€è¦å¤„ç†çš„æ˜¯é¢‘ç¹è¯·æ±‚çš„é—®é¢˜ï¼›é¿å…é¢‘ç¹è¯·æ±‚é€ æˆçš„æœåŠ¡å™¨çš„å‹åŠ›;\n- å¦‚æœæ˜¯ pc ç«¯ï¼Œå°±ä¸æ˜¯ä»…ä»…éœ€è¦å¤„ç†é¢‘ç¹è¯·æ±‚çš„é—®é¢˜äº†ï¼› å¹¶ä¸”ä½ åœ¨ `input` çš„æƒ…å†µä¸‹è¿˜è¦å¤„ç†å¦å¤–ä¸€ç§æƒ…å†µï¼Œè¾“å…¥ä¸­æ–‡æœ‰ä¸­æ–‡å­—ç¬¦çš„æƒ…å†µï¼›\n- å¹³å¸¸çš„æœç´¢éƒ½æ˜¯è¾“å…¥æ¡†ï¼Œ æŒ‰é’®æŸ¥è¯¢æœç´¢;\n\n## é—®é¢˜åˆ†æå¤ç›˜\n\nåœ¨åŸæœ‰çš„åŠŸèƒ½ä¸Šå»é€‰æ‹©åŒ–çš„ç»´æŠ¤ä¸æ‰©å±•ï¼›å…¶ä¸­æœ‰å…³è”å•å·ï¼Œå…¶å®æ˜¯ä¸ªæœç´¢æŸ¥è¯¢åŠŸèƒ½, æŸ¥è¯¢è¾“å…¥çš„æ‰‹æœºå·å…³è”çš„ä¸šä¸»æœ€æ–°å‰ä¸‰å•çš„ä¿¡æ¯;\n\nå› ä¸ºå½“æ—¶è€ƒè™‘ç”¨æˆ·æœç´¢æŸ¥è¯¢æ–¹ä¾¿ï¼Œç‰¹å¤„ç†è¾“å…¥æ¡†çš„äº‹ä»¶ä¸º oninput, è¿™æ ·ç›´æ¥è¾“å…¥æŸ¥è¯¢å†…å®¹ï¼Œåœ¨å¤„ç†é¢‘ç¹è¯·æ±‚çš„åŸºç¡€ä¸Šå»è¯·æ±‚æ•°æ®ï¼›è¿™æ ·å°±å¯ä»¥éšæŸ¥éšæ—¶æ˜¾ç¤ºäº†ï¼›\n\nè€Œä¸é€‰æ‹© onchange, onblur æ˜¯å› ä¸ºä¿©è€…éƒ½æ˜¯å¤±å»ç„¦ç‚¹å†å»è¯·æ±‚;\n\né’ˆå¯¹ä¸‰è€…çš„åŒºåˆ«ï¼Œæˆ‘åšäº†ä¸€ä¸‹æ€»ç»“ï¼š\n\n- `oninput`: åªè¦è¾“å…¥ï¼Œ è¾“å…¥æ¡†ç”±å†…å®¹åˆ™ä¼šæ‰§è¡Œï¼Œä½†æ˜¯è¿™é‡Œè¦åŒºåˆ†ä¸€ä¸ªé—®é¢˜ï¼š\n- `onchange, onblurç›¸åŒç‚¹`: ä¿©è€…éƒ½æ˜¯å¤±å»ç„¦ç‚¹ä¹‹åå†å‡ºå¤„ç†å¯¹åº”çš„é€»è¾‘ï¼›\n- `onchange, onblurä¸åŒç‚¹`: `oncahnge`æ˜¯åœ¨è¾“å…¥çš„åŸºç¡€ä¸Šæ‰ä¼šæ‰§è¡Œï¼Œè€Œ`onblur`ä¸è®ºæ˜¯å¦è¾“å…¥éƒ½ä¼šæ‰§è¡Œï¼›\n\n**ä½†æ˜¯ï¼š`oninput`è¦åšä¸€ä¸ªåŒºåˆ«ï¼Œå°±æ˜¯ pc æœ‰å…¶ä»–è¾“å…¥æ³•çš„æƒ…å†µä¸‹æ˜¯ä»¥æ­£å¸¸æ‰§è¡Œçš„ï¼Œè¾“å…¥æ¡†ä¸ä¼šæœ‰è¾“å…¥çš„æ–‡å­—æˆ–è€…å­—æ¯ï¼Œ è€Œ Windows è‡ªå¸¦çš„è¾“å…¥æ³•ï¼Œåœ¨è¾“å…¥æ¡†åˆ‡æ¢ä¸­æ–‡å†å»è¾“å…¥çš„æƒ…å†µï¼Œä¼šå°†è¾“å…¥çš„è‹±æ–‡å…ˆæ˜¾ç¤ºåœ¨è¾“å…¥æ¡†ä¸­ï¼Œé‚£æ ·å°±ä¼šå‡ºç°è¾“å…¥ä¸€ä¸ªå­—ç¬¦å°±ä¼šå»è¯·æ±‚ä¸€æ¬¡ï¼›è¿™æ ·çš„æƒ…å†µå°±å¯ä»¥é€ æˆæ¥å£è¿”å›å¼‚å¸¸æˆ–è€…é”™è¯¯ä¿¡æ¯;**\n\n## æ•ˆæœé¢„è§ˆ\n\n> ä»¥ä¸‹æ•ˆæœéƒ½æ˜¯åœ¨ `windows`ä¸‹çš„æ•ˆæœï¼›\n\n### ä½¿ç”¨å…¶ä»–çš„è¾“å…¥æ³•\n\n![ä½¿ç”¨å…¶ä»–çš„è¾“å…¥æ³•](http://wangxiaoze-view.github.io/picx-images-hosting/images/search_1.png)\n\n### windows è‡ªå¸¦çš„è¾“å…¥æ³•\n\n![è‡ªå¸¦çš„è¾“å…¥æ³•](http://wangxiaoze-view.github.io/picx-images-hosting/images/search_2.png)\n\n> windows è‡ªå¸¦çš„è¾“å…¥æ³•ï¼Œåœ¨è¿™æ ·çš„æƒ…å†µä¸‹ä¼šèµ°è¯·æ±‚ï¼Œ è¿˜æ˜¯æœ‰ç‰¹æ®Šç¬¦å·çš„æƒ…å†µï¼Œå¦‚æœåœ¨è¿™æ ·çš„æƒ…å†µä¸‹åç«¯å¯èƒ½ä¼šæŠ¥é”™ï¼›\n\n## è§£å†³æ–¹æ¡ˆ\n\n- å°† `oninput` äº‹ä»¶æ¢æˆ `onchange, onblur` äº‹ä»¶ï¼Œåªæœ‰å½“å¤±å»ç„¦ç‚¹çš„æƒ…å†µä¸‹æ‰ä¼šå»è¯·æ±‚ï¼Œ è¿™æ ·å¯èƒ½ä¼šé€ æˆåŠŸèƒ½ç–‘æƒ‘é—®é¢˜ï¼›éƒ½è¾“å…¥äº†æ€ä¹ˆä¸æ‰§è¡Œå‘¢ï¼Ÿæ€ä¹ˆæ²¡æœ‰æ•°æ®å‘¢ï¼Ÿæ€ä¹ˆæ“ä½œï¼Ÿ\n- åŒæ ·ï¼Œç»§ç»­ä½¿ç”¨ oninput äº‹ä»¶ï¼›ä¸è¿‡åœ¨è¿™åŸºç¡€ä¸Šè¿˜è¦æ‰§è¡Œä¿©ä¸ªäº‹ä»¶ `compositionstart, compositionend`;\n- `compositionstart` å¼€å§‹æ–°çš„è¾“å…¥åˆæˆæ—¶ä¼šè§¦å‘ï¼Œ `compositionend` å½“æ–‡æœ¬æ®µè½çš„ç»„æˆå®Œæˆæˆ–å–æ¶ˆæ—¶ï¼Œ`compositionend` äº‹ä»¶å°†è¢«è§¦å‘ (å…·æœ‰ç‰¹æ®Šå­—ç¬¦çš„è§¦å‘ï¼Œéœ€è¦ä¸€ç³»åˆ—é”®å’Œå…¶ä»–è¾“å…¥ï¼Œå¦‚è¯­éŸ³è¯†åˆ«æˆ–ç§»åŠ¨ä¸­çš„å­—è¯å»ºè®®)ã€‚[compositionend](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/compositionend_event) [compositionstart](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/compositionstart_event)\n\n## å®ä¾‹ä»£ç \n\n```js\n// isInput åˆ¤æ–­çš„æ˜¯æ˜¯å¦åˆå¹¶ç»“æŸï¼Œ é»˜è®¤ç»“æŸ\nlet isInput = true;\ngetOrderDemo\n\t.on(\n\t\t\"input\",\n\t\tthrottle(function () {\n\t\t\t// å¦‚æœåˆå¹¶ç»“æŸå®Œæˆåˆ™ï¼Œ è¿›è¡Œä¸‹ä¸€æ­¥çš„é€»è¾‘æ“ä½œ; æ²¡æœ‰ç»“æŸåˆå¹¶  ä¸ä¼šæ‰§è¡Œ;\n\t\t\tif (isInput) {\n\t\t\t\tlet val = $(this)\n\t\t\t\t\t.val()\n\t\t\t\t\t.replace(/\\s|\\r|\\t|\\n/g, \"\");\n\t\t\t\t// ...code there æ‰§è¡Œå¯¹åº”çš„é€»è¾‘æ“ä½œ;\n\t\t\t}\n\t\t}, 500)\n\t)\n\t.on(\"keyup\", function () {})\n\t.on(\"compositionstart\", function () {\n\t\t// å½“æ‰§è¡Œå¦‚å›¾äºŒçš„æƒ…å†µä¸‹ï¼Œè¯´æ˜è¿˜åœ¨åˆå¹¶ï¼Œå¹¶æ²¡æœ‰ç»“æŸ\n\t\tisInput = false;\n\t})\n\t.on(\"compositionend\", function () {\n\t\t// æ‰§è¡Œåˆ°è¿™ä¸€æ­¥è¯´æ˜  åˆå¹¶ç»“æŸï¼Œ å½“åˆå¹¶ç»“æŸæ—¶ï¼Œæ‰§è¡Œinput\n\t\tisInput = true;\n\t});\n```\n","slug":"æ€»ç»“/é¡¹ç›®æ€»ç»“/ä¸­è‹±æ–‡æœç´¢æŒ‰é”®å›è½¦äº‹ä»¶å†²çª","published":1,"updated":"2025-03-13T10:16:16.551Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iu001dfg9mgzn4af8q","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>æ™®é€šçš„è¾“å…¥æ¡†ï¼Œåšä¸€ä¸ªæœç´¢çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆå¯¹äºæœç´¢ï¼Œè¾“å…¥ç›´æ¥è°ƒç”¨æ¥å£å°±å¥½äº†ï¼Œ ä¸ºä»€ä¹ˆè¿˜è¦å€¼å¾—åšè®°å½•æ€»ç»“å‘¢ï¼Ÿæ˜¯å› ä¸ºï¼Œæœç´¢æŸ¥è¯¢å¹¶ä¸æ˜¯ä½ æƒ³è±¡ä¸­çš„ç›´æ¥è°ƒç”¨æ¥å£å°±å¯ä»¥äº†ï¼›è€ƒè™‘çš„å› ç´ ä¹Ÿæ˜¯æŒºå¤šçš„ï¼Œä¾‹å¦‚ï¼Œæœç´¢ä¼˜åŒ–ï¼Œä¸å¯¹æœåŠ¡å™¨é€ æˆå¹¶å‘å½±å“ï¼›</p>\n<p>é—´éš”æœç´¢ç­‰ç­‰ï¼Œä¸€èˆ¬è¡Œä¸ºï¼Œä¸ºäº†ä¸é¢‘ç¹è¯·æ±‚æ¥å£ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨<code>èŠ‚æµå‡½æ•°</code>ä¼˜åŒ–ï¼Œæˆ–è€…å¤±å»ç„¦ç‚¹å†å»è¯·æ±‚ä¹Ÿæ˜¯å¯ä»¥çš„ï¼›</p>\n<p>ä½†æ˜¯å¯¹äºåŠæŸ¥åŠæ˜¾ç¤ºçš„åŠŸèƒ½åŸåˆ™ï¼Œè¿™æ˜¯å°±ä¸èƒ½ä½¿ç”¨å¤±ç„¦æŸ¥è¯¢äº†ï¼›è¿™é‡Œçš„åŠŸèƒ½ä¾‹å¦‚ï¼š åœ°å€æŸ¥è¯¢ç­‰ç­‰ï¼›</p>\n<p>é‚£ä¹ˆè¾“å…¥æŸ¥è¯¢ä¹Ÿä¼šå‡ºç°å¦å¤–çš„ä¸€ä¸ªå¼Šç«¯ï¼Œ é‚£å°±æ˜¯ä¸­æ–‡å­—ç¬¦çš„å½±å“ï¼Œä¸‹é¢ä¼šè¯´æ˜ <code>bug</code> å¤ç°çš„è¿‡ç¨‹å’Œè§£å†³æ–¹æ¡ˆ!</p>\n<h2 id=\"é€‚ç”¨åœºæ™¯\"><a href=\"#é€‚ç”¨åœºæ™¯\" class=\"headerlink\" title=\"é€‚ç”¨åœºæ™¯\"></a>é€‚ç”¨åœºæ™¯</h2><ul>\n<li>å¸¸è§çš„æœç´¢æŸ¥è¯¢æ— éå°±é‚£ä¹ˆå‡ ç§ï¼Œç«¯ä¸ç«¯çš„æœç´¢ä¹Ÿå°±æ˜¯ç§»åŠ¨ç«¯ä¸ pc ç«¯ï¼›</li>\n<li>å¦‚æœæ˜¯ç§»åŠ¨ç«¯ä»…ä»…éœ€è¦å¤„ç†çš„æ˜¯é¢‘ç¹è¯·æ±‚çš„é—®é¢˜ï¼›é¿å…é¢‘ç¹è¯·æ±‚é€ æˆçš„æœåŠ¡å™¨çš„å‹åŠ›;</li>\n<li>å¦‚æœæ˜¯ pc ç«¯ï¼Œå°±ä¸æ˜¯ä»…ä»…éœ€è¦å¤„ç†é¢‘ç¹è¯·æ±‚çš„é—®é¢˜äº†ï¼› å¹¶ä¸”ä½ åœ¨ <code>input</code> çš„æƒ…å†µä¸‹è¿˜è¦å¤„ç†å¦å¤–ä¸€ç§æƒ…å†µï¼Œè¾“å…¥ä¸­æ–‡æœ‰ä¸­æ–‡å­—ç¬¦çš„æƒ…å†µï¼›</li>\n<li>å¹³å¸¸çš„æœç´¢éƒ½æ˜¯è¾“å…¥æ¡†ï¼Œ æŒ‰é’®æŸ¥è¯¢æœç´¢;</li>\n</ul>\n<h2 id=\"é—®é¢˜åˆ†æå¤ç›˜\"><a href=\"#é—®é¢˜åˆ†æå¤ç›˜\" class=\"headerlink\" title=\"é—®é¢˜åˆ†æå¤ç›˜\"></a>é—®é¢˜åˆ†æå¤ç›˜</h2><p>åœ¨åŸæœ‰çš„åŠŸèƒ½ä¸Šå»é€‰æ‹©åŒ–çš„ç»´æŠ¤ä¸æ‰©å±•ï¼›å…¶ä¸­æœ‰å…³è”å•å·ï¼Œå…¶å®æ˜¯ä¸ªæœç´¢æŸ¥è¯¢åŠŸèƒ½, æŸ¥è¯¢è¾“å…¥çš„æ‰‹æœºå·å…³è”çš„ä¸šä¸»æœ€æ–°å‰ä¸‰å•çš„ä¿¡æ¯;</p>\n<p>å› ä¸ºå½“æ—¶è€ƒè™‘ç”¨æˆ·æœç´¢æŸ¥è¯¢æ–¹ä¾¿ï¼Œç‰¹å¤„ç†è¾“å…¥æ¡†çš„äº‹ä»¶ä¸º oninput, è¿™æ ·ç›´æ¥è¾“å…¥æŸ¥è¯¢å†…å®¹ï¼Œåœ¨å¤„ç†é¢‘ç¹è¯·æ±‚çš„åŸºç¡€ä¸Šå»è¯·æ±‚æ•°æ®ï¼›è¿™æ ·å°±å¯ä»¥éšæŸ¥éšæ—¶æ˜¾ç¤ºäº†ï¼›</p>\n<p>è€Œä¸é€‰æ‹© onchange, onblur æ˜¯å› ä¸ºä¿©è€…éƒ½æ˜¯å¤±å»ç„¦ç‚¹å†å»è¯·æ±‚;</p>\n<p>é’ˆå¯¹ä¸‰è€…çš„åŒºåˆ«ï¼Œæˆ‘åšäº†ä¸€ä¸‹æ€»ç»“ï¼š</p>\n<ul>\n<li><code>oninput</code>: åªè¦è¾“å…¥ï¼Œ è¾“å…¥æ¡†ç”±å†…å®¹åˆ™ä¼šæ‰§è¡Œï¼Œä½†æ˜¯è¿™é‡Œè¦åŒºåˆ†ä¸€ä¸ªé—®é¢˜ï¼š</li>\n<li><code>onchange, onblurç›¸åŒç‚¹</code>: ä¿©è€…éƒ½æ˜¯å¤±å»ç„¦ç‚¹ä¹‹åå†å‡ºå¤„ç†å¯¹åº”çš„é€»è¾‘ï¼›</li>\n<li><code>onchange, onblurä¸åŒç‚¹</code>: <code>oncahnge</code>æ˜¯åœ¨è¾“å…¥çš„åŸºç¡€ä¸Šæ‰ä¼šæ‰§è¡Œï¼Œè€Œ<code>onblur</code>ä¸è®ºæ˜¯å¦è¾“å…¥éƒ½ä¼šæ‰§è¡Œï¼›</li>\n</ul>\n<p><strong>ä½†æ˜¯ï¼š<code>oninput</code>è¦åšä¸€ä¸ªåŒºåˆ«ï¼Œå°±æ˜¯ pc æœ‰å…¶ä»–è¾“å…¥æ³•çš„æƒ…å†µä¸‹æ˜¯ä»¥æ­£å¸¸æ‰§è¡Œçš„ï¼Œè¾“å…¥æ¡†ä¸ä¼šæœ‰è¾“å…¥çš„æ–‡å­—æˆ–è€…å­—æ¯ï¼Œ è€Œ Windows è‡ªå¸¦çš„è¾“å…¥æ³•ï¼Œåœ¨è¾“å…¥æ¡†åˆ‡æ¢ä¸­æ–‡å†å»è¾“å…¥çš„æƒ…å†µï¼Œä¼šå°†è¾“å…¥çš„è‹±æ–‡å…ˆæ˜¾ç¤ºåœ¨è¾“å…¥æ¡†ä¸­ï¼Œé‚£æ ·å°±ä¼šå‡ºç°è¾“å…¥ä¸€ä¸ªå­—ç¬¦å°±ä¼šå»è¯·æ±‚ä¸€æ¬¡ï¼›è¿™æ ·çš„æƒ…å†µå°±å¯ä»¥é€ æˆæ¥å£è¿”å›å¼‚å¸¸æˆ–è€…é”™è¯¯ä¿¡æ¯;</strong></p>\n<h2 id=\"æ•ˆæœé¢„è§ˆ\"><a href=\"#æ•ˆæœé¢„è§ˆ\" class=\"headerlink\" title=\"æ•ˆæœé¢„è§ˆ\"></a>æ•ˆæœé¢„è§ˆ</h2><blockquote>\n<p>ä»¥ä¸‹æ•ˆæœéƒ½æ˜¯åœ¨ <code>windows</code>ä¸‹çš„æ•ˆæœï¼›</p>\n</blockquote>\n<h3 id=\"ä½¿ç”¨å…¶ä»–çš„è¾“å…¥æ³•\"><a href=\"#ä½¿ç”¨å…¶ä»–çš„è¾“å…¥æ³•\" class=\"headerlink\" title=\"ä½¿ç”¨å…¶ä»–çš„è¾“å…¥æ³•\"></a>ä½¿ç”¨å…¶ä»–çš„è¾“å…¥æ³•</h3><p><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/search_1.png\" alt=\"ä½¿ç”¨å…¶ä»–çš„è¾“å…¥æ³•\"></p>\n<h3 id=\"windows-è‡ªå¸¦çš„è¾“å…¥æ³•\"><a href=\"#windows-è‡ªå¸¦çš„è¾“å…¥æ³•\" class=\"headerlink\" title=\"windows è‡ªå¸¦çš„è¾“å…¥æ³•\"></a>windows è‡ªå¸¦çš„è¾“å…¥æ³•</h3><p><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/search_2.png\" alt=\"è‡ªå¸¦çš„è¾“å…¥æ³•\"></p>\n<blockquote>\n<p>windows è‡ªå¸¦çš„è¾“å…¥æ³•ï¼Œåœ¨è¿™æ ·çš„æƒ…å†µä¸‹ä¼šèµ°è¯·æ±‚ï¼Œ è¿˜æ˜¯æœ‰ç‰¹æ®Šç¬¦å·çš„æƒ…å†µï¼Œå¦‚æœåœ¨è¿™æ ·çš„æƒ…å†µä¸‹åç«¯å¯èƒ½ä¼šæŠ¥é”™ï¼›</p>\n</blockquote>\n<h2 id=\"è§£å†³æ–¹æ¡ˆ\"><a href=\"#è§£å†³æ–¹æ¡ˆ\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h2><ul>\n<li>å°† <code>oninput</code> äº‹ä»¶æ¢æˆ <code>onchange, onblur</code> äº‹ä»¶ï¼Œåªæœ‰å½“å¤±å»ç„¦ç‚¹çš„æƒ…å†µä¸‹æ‰ä¼šå»è¯·æ±‚ï¼Œ è¿™æ ·å¯èƒ½ä¼šé€ æˆåŠŸèƒ½ç–‘æƒ‘é—®é¢˜ï¼›éƒ½è¾“å…¥äº†æ€ä¹ˆä¸æ‰§è¡Œå‘¢ï¼Ÿæ€ä¹ˆæ²¡æœ‰æ•°æ®å‘¢ï¼Ÿæ€ä¹ˆæ“ä½œï¼Ÿ</li>\n<li>åŒæ ·ï¼Œç»§ç»­ä½¿ç”¨ oninput äº‹ä»¶ï¼›ä¸è¿‡åœ¨è¿™åŸºç¡€ä¸Šè¿˜è¦æ‰§è¡Œä¿©ä¸ªäº‹ä»¶ <code>compositionstart, compositionend</code>;</li>\n<li><code>compositionstart</code> å¼€å§‹æ–°çš„è¾“å…¥åˆæˆæ—¶ä¼šè§¦å‘ï¼Œ <code>compositionend</code> å½“æ–‡æœ¬æ®µè½çš„ç»„æˆå®Œæˆæˆ–å–æ¶ˆæ—¶ï¼Œ<code>compositionend</code> äº‹ä»¶å°†è¢«è§¦å‘ (å…·æœ‰ç‰¹æ®Šå­—ç¬¦çš„è§¦å‘ï¼Œéœ€è¦ä¸€ç³»åˆ—é”®å’Œå…¶ä»–è¾“å…¥ï¼Œå¦‚è¯­éŸ³è¯†åˆ«æˆ–ç§»åŠ¨ä¸­çš„å­—è¯å»ºè®®)ã€‚<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Element/compositionend_event\">compositionend</a> <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Element/compositionstart_event\">compositionstart</a></li>\n</ul>\n<h2 id=\"å®ä¾‹ä»£ç \"><a href=\"#å®ä¾‹ä»£ç \" class=\"headerlink\" title=\"å®ä¾‹ä»£ç \"></a>å®ä¾‹ä»£ç </h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// isInput åˆ¤æ–­çš„æ˜¯æ˜¯å¦åˆå¹¶ç»“æŸï¼Œ é»˜è®¤ç»“æŸ</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> isInput = <span class=\"literal\">true</span>;</span><br><span class=\"line\">getOrderDemo</span><br><span class=\"line\">\t.<span class=\"title function_\">on</span>(</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;input&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"title function_\">throttle</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœåˆå¹¶ç»“æŸå®Œæˆåˆ™ï¼Œ è¿›è¡Œä¸‹ä¸€æ­¥çš„é€»è¾‘æ“ä½œ; æ²¡æœ‰ç»“æŸåˆå¹¶  ä¸ä¼šæ‰§è¡Œ;</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (isInput) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">let</span> val = $(<span class=\"variable language_\">this</span>)</span><br><span class=\"line\">\t\t\t\t\t.<span class=\"title function_\">val</span>()</span><br><span class=\"line\">\t\t\t\t\t.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\s|\\r|\\t|\\n/g</span>, <span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// ...code there æ‰§è¡Œå¯¹åº”çš„é€»è¾‘æ“ä½œ;</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;, <span class=\"number\">500</span>)</span><br><span class=\"line\">\t)</span><br><span class=\"line\">\t.<span class=\"title function_\">on</span>(<span class=\"string\">&quot;keyup&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;&#125;)</span><br><span class=\"line\">\t.<span class=\"title function_\">on</span>(<span class=\"string\">&quot;compositionstart&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å½“æ‰§è¡Œå¦‚å›¾äºŒçš„æƒ…å†µä¸‹ï¼Œè¯´æ˜è¿˜åœ¨åˆå¹¶ï¼Œå¹¶æ²¡æœ‰ç»“æŸ</span></span><br><span class=\"line\">\t\tisInput = <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">\t.<span class=\"title function_\">on</span>(<span class=\"string\">&quot;compositionend&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ‰§è¡Œåˆ°è¿™ä¸€æ­¥è¯´æ˜  åˆå¹¶ç»“æŸï¼Œ å½“åˆå¹¶ç»“æŸæ—¶ï¼Œæ‰§è¡Œinput</span></span><br><span class=\"line\">\t\tisInput = <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t&#125;);</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>æ™®é€šçš„è¾“å…¥æ¡†ï¼Œåšä¸€ä¸ªæœç´¢çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆå¯¹äºæœç´¢ï¼Œè¾“å…¥ç›´æ¥è°ƒç”¨æ¥å£å°±å¥½äº†ï¼Œ ä¸ºä»€ä¹ˆè¿˜è¦å€¼å¾—åšè®°å½•æ€»ç»“å‘¢ï¼Ÿæ˜¯å› ä¸ºï¼Œæœç´¢æŸ¥è¯¢å¹¶ä¸æ˜¯ä½ æƒ³è±¡ä¸­çš„ç›´æ¥è°ƒç”¨æ¥å£å°±å¯ä»¥äº†ï¼›è€ƒè™‘çš„å› ç´ ä¹Ÿæ˜¯æŒºå¤šçš„ï¼Œä¾‹å¦‚ï¼Œæœç´¢ä¼˜åŒ–ï¼Œä¸å¯¹æœåŠ¡å™¨é€ æˆå¹¶å‘å½±å“ï¼›</p>\n<p>é—´éš”æœç´¢ç­‰ç­‰ï¼Œä¸€èˆ¬è¡Œä¸ºï¼Œä¸ºäº†ä¸é¢‘ç¹è¯·æ±‚æ¥å£ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨<code>èŠ‚æµå‡½æ•°</code>ä¼˜åŒ–ï¼Œæˆ–è€…å¤±å»ç„¦ç‚¹å†å»è¯·æ±‚ä¹Ÿæ˜¯å¯ä»¥çš„ï¼›</p>\n<p>ä½†æ˜¯å¯¹äºåŠæŸ¥åŠæ˜¾ç¤ºçš„åŠŸèƒ½åŸåˆ™ï¼Œè¿™æ˜¯å°±ä¸èƒ½ä½¿ç”¨å¤±ç„¦æŸ¥è¯¢äº†ï¼›è¿™é‡Œçš„åŠŸèƒ½ä¾‹å¦‚ï¼š åœ°å€æŸ¥è¯¢ç­‰ç­‰ï¼›</p>\n<p>é‚£ä¹ˆè¾“å…¥æŸ¥è¯¢ä¹Ÿä¼šå‡ºç°å¦å¤–çš„ä¸€ä¸ªå¼Šç«¯ï¼Œ é‚£å°±æ˜¯ä¸­æ–‡å­—ç¬¦çš„å½±å“ï¼Œä¸‹é¢ä¼šè¯´æ˜ <code>bug</code> å¤ç°çš„è¿‡ç¨‹å’Œè§£å†³æ–¹æ¡ˆ!</p>\n<h2 id=\"é€‚ç”¨åœºæ™¯\"><a href=\"#é€‚ç”¨åœºæ™¯\" class=\"headerlink\" title=\"é€‚ç”¨åœºæ™¯\"></a>é€‚ç”¨åœºæ™¯</h2><ul>\n<li>å¸¸è§çš„æœç´¢æŸ¥è¯¢æ— éå°±é‚£ä¹ˆå‡ ç§ï¼Œç«¯ä¸ç«¯çš„æœç´¢ä¹Ÿå°±æ˜¯ç§»åŠ¨ç«¯ä¸ pc ç«¯ï¼›</li>\n<li>å¦‚æœæ˜¯ç§»åŠ¨ç«¯ä»…ä»…éœ€è¦å¤„ç†çš„æ˜¯é¢‘ç¹è¯·æ±‚çš„é—®é¢˜ï¼›é¿å…é¢‘ç¹è¯·æ±‚é€ æˆçš„æœåŠ¡å™¨çš„å‹åŠ›;</li>\n<li>å¦‚æœæ˜¯ pc ç«¯ï¼Œå°±ä¸æ˜¯ä»…ä»…éœ€è¦å¤„ç†é¢‘ç¹è¯·æ±‚çš„é—®é¢˜äº†ï¼› å¹¶ä¸”ä½ åœ¨ <code>input</code> çš„æƒ…å†µä¸‹è¿˜è¦å¤„ç†å¦å¤–ä¸€ç§æƒ…å†µï¼Œè¾“å…¥ä¸­æ–‡æœ‰ä¸­æ–‡å­—ç¬¦çš„æƒ…å†µï¼›</li>\n<li>å¹³å¸¸çš„æœç´¢éƒ½æ˜¯è¾“å…¥æ¡†ï¼Œ æŒ‰é’®æŸ¥è¯¢æœç´¢;</li>\n</ul>\n<h2 id=\"é—®é¢˜åˆ†æå¤ç›˜\"><a href=\"#é—®é¢˜åˆ†æå¤ç›˜\" class=\"headerlink\" title=\"é—®é¢˜åˆ†æå¤ç›˜\"></a>é—®é¢˜åˆ†æå¤ç›˜</h2><p>åœ¨åŸæœ‰çš„åŠŸèƒ½ä¸Šå»é€‰æ‹©åŒ–çš„ç»´æŠ¤ä¸æ‰©å±•ï¼›å…¶ä¸­æœ‰å…³è”å•å·ï¼Œå…¶å®æ˜¯ä¸ªæœç´¢æŸ¥è¯¢åŠŸèƒ½, æŸ¥è¯¢è¾“å…¥çš„æ‰‹æœºå·å…³è”çš„ä¸šä¸»æœ€æ–°å‰ä¸‰å•çš„ä¿¡æ¯;</p>\n<p>å› ä¸ºå½“æ—¶è€ƒè™‘ç”¨æˆ·æœç´¢æŸ¥è¯¢æ–¹ä¾¿ï¼Œç‰¹å¤„ç†è¾“å…¥æ¡†çš„äº‹ä»¶ä¸º oninput, è¿™æ ·ç›´æ¥è¾“å…¥æŸ¥è¯¢å†…å®¹ï¼Œåœ¨å¤„ç†é¢‘ç¹è¯·æ±‚çš„åŸºç¡€ä¸Šå»è¯·æ±‚æ•°æ®ï¼›è¿™æ ·å°±å¯ä»¥éšæŸ¥éšæ—¶æ˜¾ç¤ºäº†ï¼›</p>\n<p>è€Œä¸é€‰æ‹© onchange, onblur æ˜¯å› ä¸ºä¿©è€…éƒ½æ˜¯å¤±å»ç„¦ç‚¹å†å»è¯·æ±‚;</p>\n<p>é’ˆå¯¹ä¸‰è€…çš„åŒºåˆ«ï¼Œæˆ‘åšäº†ä¸€ä¸‹æ€»ç»“ï¼š</p>\n<ul>\n<li><code>oninput</code>: åªè¦è¾“å…¥ï¼Œ è¾“å…¥æ¡†ç”±å†…å®¹åˆ™ä¼šæ‰§è¡Œï¼Œä½†æ˜¯è¿™é‡Œè¦åŒºåˆ†ä¸€ä¸ªé—®é¢˜ï¼š</li>\n<li><code>onchange, onblurç›¸åŒç‚¹</code>: ä¿©è€…éƒ½æ˜¯å¤±å»ç„¦ç‚¹ä¹‹åå†å‡ºå¤„ç†å¯¹åº”çš„é€»è¾‘ï¼›</li>\n<li><code>onchange, onblurä¸åŒç‚¹</code>: <code>oncahnge</code>æ˜¯åœ¨è¾“å…¥çš„åŸºç¡€ä¸Šæ‰ä¼šæ‰§è¡Œï¼Œè€Œ<code>onblur</code>ä¸è®ºæ˜¯å¦è¾“å…¥éƒ½ä¼šæ‰§è¡Œï¼›</li>\n</ul>\n<p><strong>ä½†æ˜¯ï¼š<code>oninput</code>è¦åšä¸€ä¸ªåŒºåˆ«ï¼Œå°±æ˜¯ pc æœ‰å…¶ä»–è¾“å…¥æ³•çš„æƒ…å†µä¸‹æ˜¯ä»¥æ­£å¸¸æ‰§è¡Œçš„ï¼Œè¾“å…¥æ¡†ä¸ä¼šæœ‰è¾“å…¥çš„æ–‡å­—æˆ–è€…å­—æ¯ï¼Œ è€Œ Windows è‡ªå¸¦çš„è¾“å…¥æ³•ï¼Œåœ¨è¾“å…¥æ¡†åˆ‡æ¢ä¸­æ–‡å†å»è¾“å…¥çš„æƒ…å†µï¼Œä¼šå°†è¾“å…¥çš„è‹±æ–‡å…ˆæ˜¾ç¤ºåœ¨è¾“å…¥æ¡†ä¸­ï¼Œé‚£æ ·å°±ä¼šå‡ºç°è¾“å…¥ä¸€ä¸ªå­—ç¬¦å°±ä¼šå»è¯·æ±‚ä¸€æ¬¡ï¼›è¿™æ ·çš„æƒ…å†µå°±å¯ä»¥é€ æˆæ¥å£è¿”å›å¼‚å¸¸æˆ–è€…é”™è¯¯ä¿¡æ¯;</strong></p>\n<h2 id=\"æ•ˆæœé¢„è§ˆ\"><a href=\"#æ•ˆæœé¢„è§ˆ\" class=\"headerlink\" title=\"æ•ˆæœé¢„è§ˆ\"></a>æ•ˆæœé¢„è§ˆ</h2><blockquote>\n<p>ä»¥ä¸‹æ•ˆæœéƒ½æ˜¯åœ¨ <code>windows</code>ä¸‹çš„æ•ˆæœï¼›</p>\n</blockquote>\n<h3 id=\"ä½¿ç”¨å…¶ä»–çš„è¾“å…¥æ³•\"><a href=\"#ä½¿ç”¨å…¶ä»–çš„è¾“å…¥æ³•\" class=\"headerlink\" title=\"ä½¿ç”¨å…¶ä»–çš„è¾“å…¥æ³•\"></a>ä½¿ç”¨å…¶ä»–çš„è¾“å…¥æ³•</h3><p><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/search_1.png\" alt=\"ä½¿ç”¨å…¶ä»–çš„è¾“å…¥æ³•\"></p>\n<h3 id=\"windows-è‡ªå¸¦çš„è¾“å…¥æ³•\"><a href=\"#windows-è‡ªå¸¦çš„è¾“å…¥æ³•\" class=\"headerlink\" title=\"windows è‡ªå¸¦çš„è¾“å…¥æ³•\"></a>windows è‡ªå¸¦çš„è¾“å…¥æ³•</h3><p><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/search_2.png\" alt=\"è‡ªå¸¦çš„è¾“å…¥æ³•\"></p>\n<blockquote>\n<p>windows è‡ªå¸¦çš„è¾“å…¥æ³•ï¼Œåœ¨è¿™æ ·çš„æƒ…å†µä¸‹ä¼šèµ°è¯·æ±‚ï¼Œ è¿˜æ˜¯æœ‰ç‰¹æ®Šç¬¦å·çš„æƒ…å†µï¼Œå¦‚æœåœ¨è¿™æ ·çš„æƒ…å†µä¸‹åç«¯å¯èƒ½ä¼šæŠ¥é”™ï¼›</p>\n</blockquote>\n<h2 id=\"è§£å†³æ–¹æ¡ˆ\"><a href=\"#è§£å†³æ–¹æ¡ˆ\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h2><ul>\n<li>å°† <code>oninput</code> äº‹ä»¶æ¢æˆ <code>onchange, onblur</code> äº‹ä»¶ï¼Œåªæœ‰å½“å¤±å»ç„¦ç‚¹çš„æƒ…å†µä¸‹æ‰ä¼šå»è¯·æ±‚ï¼Œ è¿™æ ·å¯èƒ½ä¼šé€ æˆåŠŸèƒ½ç–‘æƒ‘é—®é¢˜ï¼›éƒ½è¾“å…¥äº†æ€ä¹ˆä¸æ‰§è¡Œå‘¢ï¼Ÿæ€ä¹ˆæ²¡æœ‰æ•°æ®å‘¢ï¼Ÿæ€ä¹ˆæ“ä½œï¼Ÿ</li>\n<li>åŒæ ·ï¼Œç»§ç»­ä½¿ç”¨ oninput äº‹ä»¶ï¼›ä¸è¿‡åœ¨è¿™åŸºç¡€ä¸Šè¿˜è¦æ‰§è¡Œä¿©ä¸ªäº‹ä»¶ <code>compositionstart, compositionend</code>;</li>\n<li><code>compositionstart</code> å¼€å§‹æ–°çš„è¾“å…¥åˆæˆæ—¶ä¼šè§¦å‘ï¼Œ <code>compositionend</code> å½“æ–‡æœ¬æ®µè½çš„ç»„æˆå®Œæˆæˆ–å–æ¶ˆæ—¶ï¼Œ<code>compositionend</code> äº‹ä»¶å°†è¢«è§¦å‘ (å…·æœ‰ç‰¹æ®Šå­—ç¬¦çš„è§¦å‘ï¼Œéœ€è¦ä¸€ç³»åˆ—é”®å’Œå…¶ä»–è¾“å…¥ï¼Œå¦‚è¯­éŸ³è¯†åˆ«æˆ–ç§»åŠ¨ä¸­çš„å­—è¯å»ºè®®)ã€‚<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Element/compositionend_event\">compositionend</a> <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Element/compositionstart_event\">compositionstart</a></li>\n</ul>\n<h2 id=\"å®ä¾‹ä»£ç \"><a href=\"#å®ä¾‹ä»£ç \" class=\"headerlink\" title=\"å®ä¾‹ä»£ç \"></a>å®ä¾‹ä»£ç </h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// isInput åˆ¤æ–­çš„æ˜¯æ˜¯å¦åˆå¹¶ç»“æŸï¼Œ é»˜è®¤ç»“æŸ</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> isInput = <span class=\"literal\">true</span>;</span><br><span class=\"line\">getOrderDemo</span><br><span class=\"line\">\t.<span class=\"title function_\">on</span>(</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;input&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"title function_\">throttle</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœåˆå¹¶ç»“æŸå®Œæˆåˆ™ï¼Œ è¿›è¡Œä¸‹ä¸€æ­¥çš„é€»è¾‘æ“ä½œ; æ²¡æœ‰ç»“æŸåˆå¹¶  ä¸ä¼šæ‰§è¡Œ;</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (isInput) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">let</span> val = $(<span class=\"variable language_\">this</span>)</span><br><span class=\"line\">\t\t\t\t\t.<span class=\"title function_\">val</span>()</span><br><span class=\"line\">\t\t\t\t\t.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\s|\\r|\\t|\\n/g</span>, <span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// ...code there æ‰§è¡Œå¯¹åº”çš„é€»è¾‘æ“ä½œ;</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;, <span class=\"number\">500</span>)</span><br><span class=\"line\">\t)</span><br><span class=\"line\">\t.<span class=\"title function_\">on</span>(<span class=\"string\">&quot;keyup&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;&#125;)</span><br><span class=\"line\">\t.<span class=\"title function_\">on</span>(<span class=\"string\">&quot;compositionstart&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å½“æ‰§è¡Œå¦‚å›¾äºŒçš„æƒ…å†µä¸‹ï¼Œè¯´æ˜è¿˜åœ¨åˆå¹¶ï¼Œå¹¶æ²¡æœ‰ç»“æŸ</span></span><br><span class=\"line\">\t\tisInput = <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">\t.<span class=\"title function_\">on</span>(<span class=\"string\">&quot;compositionend&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ‰§è¡Œåˆ°è¿™ä¸€æ­¥è¯´æ˜  åˆå¹¶ç»“æŸï¼Œ å½“åˆå¹¶ç»“æŸæ—¶ï¼Œæ‰§è¡Œinput</span></span><br><span class=\"line\">\t\tisInput = <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t&#125;);</span><br></pre></td></tr></table></figure>\n"},{"title":"å·¥ä½œå†…å®¹-å›¾ç‰‡ä¸Šä¼ ä¹‹å‰çš„è‡ªå®šä¹‰æ°´å°","abbrlink":"e0191395","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\nå‰å‡ å¤©ï¼Œå…¬å¸é¡¹ç›®ä¸­æœ‰è¿™ä¹ˆä¸€ä¸ªéœ€æ±‚ï¼Œè¯´æ˜¯ä¸Šä¼ å›¾ç‰‡ç»™å›¾ç‰‡åŠ æ°´å°çš„åŠŸèƒ½ï¼Œæˆ‘è¯´é‚£è¿˜ä¸ç®€å•ï¼Œå› ä¸ºå…¬å¸å›¾ç‰‡å­˜å‚¨é‡‡ç”¨çš„æ˜¯ä¸ƒç‰›äº‘ï¼Œå½“ç„¶ä¸ƒç‰›äº‘åå°æ˜¯å¯ä»¥è®¾ç½®å›¾ç‰‡çš„æ°´å°ï¼›\n\nä½†æ˜¯æˆ‘ä¸€çœ‹éœ€æ±‚ï¼Œå¥½å®¶ä¼™æœçœŸä¸ç®€å•ï¼ŒåŸæ¥ä¸æ˜¯å‡ ä¸ªå­—ï¼Œè€Œæ˜¯å¤šä¸ªå…ƒç´ å åŠ åœ¨ä¸€èµ·çš„ï¼›æ°´å°çš„æ•°æ®ä¹Ÿæ˜¯åŠ¨æ€çš„ï¼Œè€Œä¸ƒç‰›äº‘åå°åªèƒ½è®¾ç½®ä¸€äº›\né™æ€å±æ€§æˆ–è€…å›¾ç‰‡åœ°å€ï¼Œå¦‚æœ`urlåœ°å€`åŠ ä¸€äº›å‚æ•°çš„æƒ…å†µï¼Œæ•ˆæœä¹Ÿæ˜¯ä¸å¯è§‚çš„\n\nè€Œé€šè¿‡`url`åœ°å€æ‹¼æ¥å‚æ•°çš„æƒ…å†µï¼š`/image/<encodedkodocheme>` : æ°´å°çš„æºè·¯å¾„ï¼Œ**ç›®å‰æ”¯æŒ kodo èµ„æº**ã€‚kodo èµ„æºå¯ç”± `kodo://<bucketname>/<key> `è¡¨ç¤ºï¼ˆæ­¤æ—¶ bucketname éœ€è¦ä¸è¾“å…¥æºåœ¨åŒä¸€åŒºåŸŸï¼‰ï¼Œå‡éœ€è¦ç»è¿‡ urlsafe_base64_encodeã€‚\n\næ³¨æ„ï¼šæ›´æ¢å›¾ç‰‡æ°´å°æ—¶ï¼Œå»ºè®®æ›´æ¢å›¾ç‰‡çš„æ–‡ä»¶åã€‚\n\nè¿™æ ·çš„æƒ…å†µç›®å‰åªæ”¯æŒ `kodo`çš„å›¾ç‰‡èµ„æºï¼Œå¦‚æœä½¿ç”¨è¿™æ ·çš„å‚æ•°ï¼Œé‚£ä¹ˆæˆ‘åœ¨ä¸Šä¼ å‰å°±è¦å…ˆä¸Šä¼ åŠ¨æ€æ•°æ®çš„æ°´ç›ˆå›¾ç‰‡ï¼Œä¹‹ååœ¨ä¸Šä¼ è¦ä¸Šä¼ çš„å›¾ç‰‡ï¼›\n\nè™½ç„¶è¿™æ ·æ˜¯å¯ä»¥åšåˆ°ï¼Œä½†æ˜¯å¯¹äºä¸ƒç‰›äº‘çš„å­˜å‚¨å®¹é‡å’Œæµé‡æ¥è®²ï¼Œæ¶ˆè€—æ˜¯å¾ˆå¤§çš„ï¼› æ‰€ä»¥è¿™æ ·çš„å®ç°æ–¹å¼æ˜¯ä¸å¯å–çš„ï¼›\n\næ°´å°æ•ˆæœå›¾ï¼š\n\n![æ•ˆæœ](http://wangxiaoze-view.github.io/picx-images-hosting/images/qn_canvas.svg)\n\n## ä¼ ç»Ÿçš„`canvas`\n\nä¹Ÿå¯ä»¥é‡‡ç”¨ä¼ ç»Ÿçš„ canvas å®ç°ï¼Œä½†æ˜¯å°†ä¸Šä¼ çš„é—®å›¾ç‰‡ä¹Ÿæ˜¯å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼è½¬ä¸º`url`ï¼Œç„¶ååœ¨é€šè¿‡ç”Ÿæˆ`canvas`ç”»å›¾åŠŸèƒ½å°†ä¸Šä¼ çš„å›¾ç‰‡æ–‡ä»¶ç”Ÿæˆ\ncanvasã€‚ç„¶ååœ¨é€šè¿‡æ–‡å­—çš„å®šä½å®šä½åœ¨å›¾ç‰‡çš„å·¦ä¸‹è§’ï¼›\n\nä½†æ˜¯è¿™æ ·çš„æ–¹å¼å°±ä¼šå¤§é‡è®¡ç®—æ–‡æœ¬`x, y` åœ¨ canvas ä¸­çš„ä½ç½®ï¼›å› ä¸ºæ•°æ®æ˜¯åŠ¨æ€çš„ï¼Œæ‰€ä»¥ç†è®ºä¸Šæ˜¯å¯ä»¥å®ç°çš„ï¼Œä½†æ˜¯è¦è€ƒè™‘å¤šè¡Œæ–‡æœ¬çš„é—®é¢˜ï¼› æ‰€ä»¥è¿™é‡Œä¸å»ºè®®é‡‡ç”¨è¯¥æ–¹å¼ï¼›\n\n## ä½¿ç”¨ `html2canvas` å°†`html` å…ƒç´ ç»„åˆ\n\nå¤§è‡´çš„æ€è·¯å°±æ˜¯ï¼š\n\n- å…ˆå°†è¦ç”Ÿæˆ`canvas`çš„å®¹å™¨åœ¨é¡µé¢å¯è§†åŒºåŸŸä¸å¯è§ï¼Œè¿™é‡Œå°±æ˜¯å°†å®ƒå®šä½å‡ºå»çš„ï¼›\n- ç„¶åä¸Šä¼ å‰ï¼Œç°å°†å›¾ç‰‡æ–‡ä»¶ç”Ÿæˆåœ°å€ï¼Œèµ‹å€¼ç»™`new Image()`ï¼Œ åœ¨å»ç›‘å¬åŠ è½½å®Œæˆï¼› ä¹‹åå°±æ˜¯å°†å®šä½å‡ºå»çš„å…ƒç´ æ ·å¼åŒ–ï¼›\n- é€šè¿‡`html2canvas`å°†è·Ÿå…ƒç´ ç”Ÿæˆå¸¦æ°´å°çš„`canvas`, æ¥ä¸‹æ¥å°±æ˜¯å¯¹`canvas` è½¬ä¸ºæ–‡ä»¶ï¼Œä»è€Œå®ç°æ°´å°å›¾ç‰‡çš„ä¸Šä¼ ï¼›\n\né¦–å…ˆï¼Œåœ¨ä¸Šä¼ æ–‡ä»¶å‰å…ˆå°†å›¾ç‰‡æ–‡ä»¶è½¬ä¸ºå¯¹è±¡åœ°å€ï¼Œç„¶åå…¼å®¹å›¾ç‰‡çš„åŠ è½½å®Œæˆã€‚\n\nå°†ä¹‹å‰å®šä½å‡ºå»çš„å…ƒç´ çš„å›¾ç‰‡èµ‹å€¼ï¼Œè®¾ç½®è·Ÿå…ƒç´ çš„å®½åº¦å’Œé«˜åº¦ä¸ºå›¾ç‰‡çš„å®½åº¦å’Œé«˜åº¦ï¼›\n\nç„¶ååœ¨é€šè¿‡`html2canvas`æ’ä»¶å°†è·Ÿå…ƒç´ ç”Ÿæˆ`canvas`ï¼Œåœ¨å°†`canvas`è½¬åŒ–ä¸º`blob`ï¼Œ æ¥ç€`new File`å°†`blob`è½¬æˆæ–‡ä»¶ï¼›\n\nä¸‹é¢å°±æ˜¯å¤§æ¦‚çš„æ€è·¯\n\n```js\nthis.getDom(\"#file-input\").addEventListener(\"change\", function (e) {\n\t// è¿™é‡Œåˆ¶è€ƒè™‘å•ä¸ªå›¾ç‰‡ä¸Šä¼ çš„æƒ…å†µ\n\tconst file = e.target.files[0];\n\n\tconst tempImg = new Image();\n\ttempImg.src = URL.createObjectURL(file);\n\ttempImg.addEventListener(\"load\", function () {\n\t\t// åœ°å€ç±»ä¼¼äºï¼šsrc=\"blob:http://localhost:63342/4302cb32-7eba-4a89-bd4a-66649bce781e\"\n\n\t\t// è·å–å…ƒç´ çš„è·ŸèŠ‚ç‚¹ä»¥åŠæ¸²æŸ“çš„å›¾ç‰‡\n\t\tconst node = _this.getDom(\"#node\");\n\t\tconst imgDom = _this.getDom(\"img\");\n\n\t\t// è®¾ç½®å›¾ç‰‡çš„è·¯å¾„ï¼Œä»¥åŠè·Ÿå…ƒç´ çš„å®½åº¦å’Œé«˜åº¦\n\t\timgDom.setAttribute(\"src\", tempImg.src);\n\t\tnode.style.width = tempImg.width + \"px\";\n\t\tnode.style.height = tempImg.height + \"px\";\n\n\t\t// é€šè¿‡ html2canvas å°†æ¸²æŸ“çš„å…ƒç´ ä¸“ç¨‹canvas\n\t\thtml2canvas &&\n\t\t\thtml2canvas(node).then(function (canvas) {\n\t\t\t\t// åœ¨å°†canvasè½¬æˆæ–‡ä»¶ï¼Œ å®ç°æ–‡ä»¶çš„ä¸Šä¼ \n\t\t\t\tcanvas.toBlob(blob => {\n\t\t\t\t\t// ç”Ÿæˆçš„æ–‡ä»¶ï¼Œè¿™ä¸ªå°±æ˜¯ä½ è¦ä¸Šä¼ çš„æ–‡ä»¶\n\t\t\t\t\tconst newFile = new File([blob], file.name, { type: file.type });\n\t\t\t\t\tconsole.log(newFile);\n\n\t\t\t\t\t// é¢„è§ˆã€‚å°†ç”Ÿæˆæ°´å°çš„canvasåœ¨ç”Ÿæˆå›¾ç‰‡url\n\t\t\t\t\tlet imgSrc = canvas.toDataURL(\"image/jpeg\", 1);\n\t\t\t\t\tconsole.log(imgSrc);\n\t\t\t\t\t_this.getDom(\n\t\t\t\t\t\t\".temp-container\"\n\t\t\t\t\t).innerHTML = `<img class=\"show\" style=\"width: ${tempImg.width}px; height: ${tempImg.height}px\" src=\"${imgSrc}\" alt=\"\" />`;\n\t\t\t\t});\n\t\t\t});\n\t});\n});\n```\n\n## `svg`ä»£ç ç‰‡æ®µ\n\nè¿˜æœ‰ä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯å°†`svg`ä»£ç ç‰‡æ®µï¼Œè€Œè¿™ä»£ç ç‰‡æ®µå°±æ˜¯å·¦ä¸‹è§’çš„æ°´å°å…ƒç´ ï¼Œå°†å®ƒç”Ÿæˆ canvasï¼Œå†å°†ä¸Šä¼ å›¾ç‰‡ç”Ÿæˆ canvasï¼›ç„¶åä¿©å¼ `canvas`åˆå¹¶ï¼›\n\n```js\n// svg ç‰‡æ®µ\nlet data = `\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"200\">\n        <foreignObject width=\"100%\" height=\"100%\">\n            <div xmlns=\"http://www.w3.org/1999/xhtml\">\n                <div style=\"color: red\">è¿™é‡Œå°±æ˜¯ä½ æ¸²æŸ“çš„å…ƒç´ </div>\n            </div>\n        </foreignObject>\n    </svg>\n`;\n// å°†svgç”Ÿæˆ image\nlet imgSvg = new Image();\nlet blob = new Blob([data], { type: \"image/svg+xml;charset=utf-8\" });\nimgSvg.src = URL.createObjectURL(blob);\n\n// ä¸Šä¼ å›¾ç‰‡å’Œæ°´å°åˆå¹¶\nfunction img2Canvas(img) {\n\tconst canvas = document.createElement(\"canvas\");\n\tcanvas.width = img.width;\n\tcanvas.height = img.height;\n\tconst ctx = canvas.getContext(\"2d\");\n\tctx.drawImage(img, 0, 0);\n\n\timgSvg.onload = function () {\n\t\tctx.drawImage(imgSvg, 20, canvas.height - 100 - 20);\n\t\t// æ‘§æ¯åˆšåˆšç”Ÿäº§çš„url\n\t\tURL.revokeObjectURL(imgSvg.src);\n\t};\n\timgSvg.src = URL.createObjectURL(blob);\n\n\tdocument.body.append(canvas);\n\n\treturn canvas;\n}\n\nthis.getDom(\"#file-input2\").addEventListener(\"change\", function (e) {\n\tconst file = e.target.files[0];\n\tlet tempImg = new Image();\n\ttempImg.src = URL.createObjectURL(file);\n\ttempImg.addEventListener(\"load\", () => {\n\t\timg2Canvas(tempImg).toBlob(blob => {\n\t\t\tconst newFile = new File([blob], file.name, { type: file.type });\n\t\t\tconsole.log(newFile);\n\t\t});\n\t});\n});\n```\n","source":"_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/å›¾ç‰‡ä¸Šä¼ ä¹‹å‰çš„è‡ªå®šä¹‰æ°´å°.md","raw":"---\ntitle: å·¥ä½œå†…å®¹-å›¾ç‰‡ä¸Šä¼ ä¹‹å‰çš„è‡ªå®šä¹‰æ°´å°\nabbrlink: e0191395\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - å·¥ä½œå†…å®¹\n---\n\n# èƒŒæ™¯\n\nå‰å‡ å¤©ï¼Œå…¬å¸é¡¹ç›®ä¸­æœ‰è¿™ä¹ˆä¸€ä¸ªéœ€æ±‚ï¼Œè¯´æ˜¯ä¸Šä¼ å›¾ç‰‡ç»™å›¾ç‰‡åŠ æ°´å°çš„åŠŸèƒ½ï¼Œæˆ‘è¯´é‚£è¿˜ä¸ç®€å•ï¼Œå› ä¸ºå…¬å¸å›¾ç‰‡å­˜å‚¨é‡‡ç”¨çš„æ˜¯ä¸ƒç‰›äº‘ï¼Œå½“ç„¶ä¸ƒç‰›äº‘åå°æ˜¯å¯ä»¥è®¾ç½®å›¾ç‰‡çš„æ°´å°ï¼›\n\nä½†æ˜¯æˆ‘ä¸€çœ‹éœ€æ±‚ï¼Œå¥½å®¶ä¼™æœçœŸä¸ç®€å•ï¼ŒåŸæ¥ä¸æ˜¯å‡ ä¸ªå­—ï¼Œè€Œæ˜¯å¤šä¸ªå…ƒç´ å åŠ åœ¨ä¸€èµ·çš„ï¼›æ°´å°çš„æ•°æ®ä¹Ÿæ˜¯åŠ¨æ€çš„ï¼Œè€Œä¸ƒç‰›äº‘åå°åªèƒ½è®¾ç½®ä¸€äº›\né™æ€å±æ€§æˆ–è€…å›¾ç‰‡åœ°å€ï¼Œå¦‚æœ`urlåœ°å€`åŠ ä¸€äº›å‚æ•°çš„æƒ…å†µï¼Œæ•ˆæœä¹Ÿæ˜¯ä¸å¯è§‚çš„\n\nè€Œé€šè¿‡`url`åœ°å€æ‹¼æ¥å‚æ•°çš„æƒ…å†µï¼š`/image/<encodedkodocheme>` : æ°´å°çš„æºè·¯å¾„ï¼Œ**ç›®å‰æ”¯æŒ kodo èµ„æº**ã€‚kodo èµ„æºå¯ç”± `kodo://<bucketname>/<key> `è¡¨ç¤ºï¼ˆæ­¤æ—¶ bucketname éœ€è¦ä¸è¾“å…¥æºåœ¨åŒä¸€åŒºåŸŸï¼‰ï¼Œå‡éœ€è¦ç»è¿‡ urlsafe_base64_encodeã€‚\n\næ³¨æ„ï¼šæ›´æ¢å›¾ç‰‡æ°´å°æ—¶ï¼Œå»ºè®®æ›´æ¢å›¾ç‰‡çš„æ–‡ä»¶åã€‚\n\nè¿™æ ·çš„æƒ…å†µç›®å‰åªæ”¯æŒ `kodo`çš„å›¾ç‰‡èµ„æºï¼Œå¦‚æœä½¿ç”¨è¿™æ ·çš„å‚æ•°ï¼Œé‚£ä¹ˆæˆ‘åœ¨ä¸Šä¼ å‰å°±è¦å…ˆä¸Šä¼ åŠ¨æ€æ•°æ®çš„æ°´ç›ˆå›¾ç‰‡ï¼Œä¹‹ååœ¨ä¸Šä¼ è¦ä¸Šä¼ çš„å›¾ç‰‡ï¼›\n\nè™½ç„¶è¿™æ ·æ˜¯å¯ä»¥åšåˆ°ï¼Œä½†æ˜¯å¯¹äºä¸ƒç‰›äº‘çš„å­˜å‚¨å®¹é‡å’Œæµé‡æ¥è®²ï¼Œæ¶ˆè€—æ˜¯å¾ˆå¤§çš„ï¼› æ‰€ä»¥è¿™æ ·çš„å®ç°æ–¹å¼æ˜¯ä¸å¯å–çš„ï¼›\n\næ°´å°æ•ˆæœå›¾ï¼š\n\n![æ•ˆæœ](http://wangxiaoze-view.github.io/picx-images-hosting/images/qn_canvas.svg)\n\n## ä¼ ç»Ÿçš„`canvas`\n\nä¹Ÿå¯ä»¥é‡‡ç”¨ä¼ ç»Ÿçš„ canvas å®ç°ï¼Œä½†æ˜¯å°†ä¸Šä¼ çš„é—®å›¾ç‰‡ä¹Ÿæ˜¯å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼è½¬ä¸º`url`ï¼Œç„¶ååœ¨é€šè¿‡ç”Ÿæˆ`canvas`ç”»å›¾åŠŸèƒ½å°†ä¸Šä¼ çš„å›¾ç‰‡æ–‡ä»¶ç”Ÿæˆ\ncanvasã€‚ç„¶ååœ¨é€šè¿‡æ–‡å­—çš„å®šä½å®šä½åœ¨å›¾ç‰‡çš„å·¦ä¸‹è§’ï¼›\n\nä½†æ˜¯è¿™æ ·çš„æ–¹å¼å°±ä¼šå¤§é‡è®¡ç®—æ–‡æœ¬`x, y` åœ¨ canvas ä¸­çš„ä½ç½®ï¼›å› ä¸ºæ•°æ®æ˜¯åŠ¨æ€çš„ï¼Œæ‰€ä»¥ç†è®ºä¸Šæ˜¯å¯ä»¥å®ç°çš„ï¼Œä½†æ˜¯è¦è€ƒè™‘å¤šè¡Œæ–‡æœ¬çš„é—®é¢˜ï¼› æ‰€ä»¥è¿™é‡Œä¸å»ºè®®é‡‡ç”¨è¯¥æ–¹å¼ï¼›\n\n## ä½¿ç”¨ `html2canvas` å°†`html` å…ƒç´ ç»„åˆ\n\nå¤§è‡´çš„æ€è·¯å°±æ˜¯ï¼š\n\n- å…ˆå°†è¦ç”Ÿæˆ`canvas`çš„å®¹å™¨åœ¨é¡µé¢å¯è§†åŒºåŸŸä¸å¯è§ï¼Œè¿™é‡Œå°±æ˜¯å°†å®ƒå®šä½å‡ºå»çš„ï¼›\n- ç„¶åä¸Šä¼ å‰ï¼Œç°å°†å›¾ç‰‡æ–‡ä»¶ç”Ÿæˆåœ°å€ï¼Œèµ‹å€¼ç»™`new Image()`ï¼Œ åœ¨å»ç›‘å¬åŠ è½½å®Œæˆï¼› ä¹‹åå°±æ˜¯å°†å®šä½å‡ºå»çš„å…ƒç´ æ ·å¼åŒ–ï¼›\n- é€šè¿‡`html2canvas`å°†è·Ÿå…ƒç´ ç”Ÿæˆå¸¦æ°´å°çš„`canvas`, æ¥ä¸‹æ¥å°±æ˜¯å¯¹`canvas` è½¬ä¸ºæ–‡ä»¶ï¼Œä»è€Œå®ç°æ°´å°å›¾ç‰‡çš„ä¸Šä¼ ï¼›\n\né¦–å…ˆï¼Œåœ¨ä¸Šä¼ æ–‡ä»¶å‰å…ˆå°†å›¾ç‰‡æ–‡ä»¶è½¬ä¸ºå¯¹è±¡åœ°å€ï¼Œç„¶åå…¼å®¹å›¾ç‰‡çš„åŠ è½½å®Œæˆã€‚\n\nå°†ä¹‹å‰å®šä½å‡ºå»çš„å…ƒç´ çš„å›¾ç‰‡èµ‹å€¼ï¼Œè®¾ç½®è·Ÿå…ƒç´ çš„å®½åº¦å’Œé«˜åº¦ä¸ºå›¾ç‰‡çš„å®½åº¦å’Œé«˜åº¦ï¼›\n\nç„¶ååœ¨é€šè¿‡`html2canvas`æ’ä»¶å°†è·Ÿå…ƒç´ ç”Ÿæˆ`canvas`ï¼Œåœ¨å°†`canvas`è½¬åŒ–ä¸º`blob`ï¼Œ æ¥ç€`new File`å°†`blob`è½¬æˆæ–‡ä»¶ï¼›\n\nä¸‹é¢å°±æ˜¯å¤§æ¦‚çš„æ€è·¯\n\n```js\nthis.getDom(\"#file-input\").addEventListener(\"change\", function (e) {\n\t// è¿™é‡Œåˆ¶è€ƒè™‘å•ä¸ªå›¾ç‰‡ä¸Šä¼ çš„æƒ…å†µ\n\tconst file = e.target.files[0];\n\n\tconst tempImg = new Image();\n\ttempImg.src = URL.createObjectURL(file);\n\ttempImg.addEventListener(\"load\", function () {\n\t\t// åœ°å€ç±»ä¼¼äºï¼šsrc=\"blob:http://localhost:63342/4302cb32-7eba-4a89-bd4a-66649bce781e\"\n\n\t\t// è·å–å…ƒç´ çš„è·ŸèŠ‚ç‚¹ä»¥åŠæ¸²æŸ“çš„å›¾ç‰‡\n\t\tconst node = _this.getDom(\"#node\");\n\t\tconst imgDom = _this.getDom(\"img\");\n\n\t\t// è®¾ç½®å›¾ç‰‡çš„è·¯å¾„ï¼Œä»¥åŠè·Ÿå…ƒç´ çš„å®½åº¦å’Œé«˜åº¦\n\t\timgDom.setAttribute(\"src\", tempImg.src);\n\t\tnode.style.width = tempImg.width + \"px\";\n\t\tnode.style.height = tempImg.height + \"px\";\n\n\t\t// é€šè¿‡ html2canvas å°†æ¸²æŸ“çš„å…ƒç´ ä¸“ç¨‹canvas\n\t\thtml2canvas &&\n\t\t\thtml2canvas(node).then(function (canvas) {\n\t\t\t\t// åœ¨å°†canvasè½¬æˆæ–‡ä»¶ï¼Œ å®ç°æ–‡ä»¶çš„ä¸Šä¼ \n\t\t\t\tcanvas.toBlob(blob => {\n\t\t\t\t\t// ç”Ÿæˆçš„æ–‡ä»¶ï¼Œè¿™ä¸ªå°±æ˜¯ä½ è¦ä¸Šä¼ çš„æ–‡ä»¶\n\t\t\t\t\tconst newFile = new File([blob], file.name, { type: file.type });\n\t\t\t\t\tconsole.log(newFile);\n\n\t\t\t\t\t// é¢„è§ˆã€‚å°†ç”Ÿæˆæ°´å°çš„canvasåœ¨ç”Ÿæˆå›¾ç‰‡url\n\t\t\t\t\tlet imgSrc = canvas.toDataURL(\"image/jpeg\", 1);\n\t\t\t\t\tconsole.log(imgSrc);\n\t\t\t\t\t_this.getDom(\n\t\t\t\t\t\t\".temp-container\"\n\t\t\t\t\t).innerHTML = `<img class=\"show\" style=\"width: ${tempImg.width}px; height: ${tempImg.height}px\" src=\"${imgSrc}\" alt=\"\" />`;\n\t\t\t\t});\n\t\t\t});\n\t});\n});\n```\n\n## `svg`ä»£ç ç‰‡æ®µ\n\nè¿˜æœ‰ä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯å°†`svg`ä»£ç ç‰‡æ®µï¼Œè€Œè¿™ä»£ç ç‰‡æ®µå°±æ˜¯å·¦ä¸‹è§’çš„æ°´å°å…ƒç´ ï¼Œå°†å®ƒç”Ÿæˆ canvasï¼Œå†å°†ä¸Šä¼ å›¾ç‰‡ç”Ÿæˆ canvasï¼›ç„¶åä¿©å¼ `canvas`åˆå¹¶ï¼›\n\n```js\n// svg ç‰‡æ®µ\nlet data = `\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"200\">\n        <foreignObject width=\"100%\" height=\"100%\">\n            <div xmlns=\"http://www.w3.org/1999/xhtml\">\n                <div style=\"color: red\">è¿™é‡Œå°±æ˜¯ä½ æ¸²æŸ“çš„å…ƒç´ </div>\n            </div>\n        </foreignObject>\n    </svg>\n`;\n// å°†svgç”Ÿæˆ image\nlet imgSvg = new Image();\nlet blob = new Blob([data], { type: \"image/svg+xml;charset=utf-8\" });\nimgSvg.src = URL.createObjectURL(blob);\n\n// ä¸Šä¼ å›¾ç‰‡å’Œæ°´å°åˆå¹¶\nfunction img2Canvas(img) {\n\tconst canvas = document.createElement(\"canvas\");\n\tcanvas.width = img.width;\n\tcanvas.height = img.height;\n\tconst ctx = canvas.getContext(\"2d\");\n\tctx.drawImage(img, 0, 0);\n\n\timgSvg.onload = function () {\n\t\tctx.drawImage(imgSvg, 20, canvas.height - 100 - 20);\n\t\t// æ‘§æ¯åˆšåˆšç”Ÿäº§çš„url\n\t\tURL.revokeObjectURL(imgSvg.src);\n\t};\n\timgSvg.src = URL.createObjectURL(blob);\n\n\tdocument.body.append(canvas);\n\n\treturn canvas;\n}\n\nthis.getDom(\"#file-input2\").addEventListener(\"change\", function (e) {\n\tconst file = e.target.files[0];\n\tlet tempImg = new Image();\n\ttempImg.src = URL.createObjectURL(file);\n\ttempImg.addEventListener(\"load\", () => {\n\t\timg2Canvas(tempImg).toBlob(blob => {\n\t\t\tconst newFile = new File([blob], file.name, { type: file.type });\n\t\t\tconsole.log(newFile);\n\t\t});\n\t});\n});\n```\n","slug":"æ€»ç»“/é¡¹ç›®æ€»ç»“/å›¾ç‰‡ä¸Šä¼ ä¹‹å‰çš„è‡ªå®šä¹‰æ°´å°","published":1,"updated":"2025-03-13T10:16:16.832Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iu001hfg9mciihfy57","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>å‰å‡ å¤©ï¼Œå…¬å¸é¡¹ç›®ä¸­æœ‰è¿™ä¹ˆä¸€ä¸ªéœ€æ±‚ï¼Œè¯´æ˜¯ä¸Šä¼ å›¾ç‰‡ç»™å›¾ç‰‡åŠ æ°´å°çš„åŠŸèƒ½ï¼Œæˆ‘è¯´é‚£è¿˜ä¸ç®€å•ï¼Œå› ä¸ºå…¬å¸å›¾ç‰‡å­˜å‚¨é‡‡ç”¨çš„æ˜¯ä¸ƒç‰›äº‘ï¼Œå½“ç„¶ä¸ƒç‰›äº‘åå°æ˜¯å¯ä»¥è®¾ç½®å›¾ç‰‡çš„æ°´å°ï¼›</p>\n<p>ä½†æ˜¯æˆ‘ä¸€çœ‹éœ€æ±‚ï¼Œå¥½å®¶ä¼™æœçœŸä¸ç®€å•ï¼ŒåŸæ¥ä¸æ˜¯å‡ ä¸ªå­—ï¼Œè€Œæ˜¯å¤šä¸ªå…ƒç´ å åŠ åœ¨ä¸€èµ·çš„ï¼›æ°´å°çš„æ•°æ®ä¹Ÿæ˜¯åŠ¨æ€çš„ï¼Œè€Œä¸ƒç‰›äº‘åå°åªèƒ½è®¾ç½®ä¸€äº›<br>é™æ€å±æ€§æˆ–è€…å›¾ç‰‡åœ°å€ï¼Œå¦‚æœ<code>urlåœ°å€</code>åŠ ä¸€äº›å‚æ•°çš„æƒ…å†µï¼Œæ•ˆæœä¹Ÿæ˜¯ä¸å¯è§‚çš„</p>\n<p>è€Œé€šè¿‡<code>url</code>åœ°å€æ‹¼æ¥å‚æ•°çš„æƒ…å†µï¼š<code>/image/&lt;encodedkodocheme&gt;</code> : æ°´å°çš„æºè·¯å¾„ï¼Œ<strong>ç›®å‰æ”¯æŒ kodo èµ„æº</strong>ã€‚kodo èµ„æºå¯ç”± <code>kodo://&lt;bucketname&gt;/&lt;key&gt; </code>è¡¨ç¤ºï¼ˆæ­¤æ—¶ bucketname éœ€è¦ä¸è¾“å…¥æºåœ¨åŒä¸€åŒºåŸŸï¼‰ï¼Œå‡éœ€è¦ç»è¿‡ urlsafe_base64_encodeã€‚</p>\n<p>æ³¨æ„ï¼šæ›´æ¢å›¾ç‰‡æ°´å°æ—¶ï¼Œå»ºè®®æ›´æ¢å›¾ç‰‡çš„æ–‡ä»¶åã€‚</p>\n<p>è¿™æ ·çš„æƒ…å†µç›®å‰åªæ”¯æŒ <code>kodo</code>çš„å›¾ç‰‡èµ„æºï¼Œå¦‚æœä½¿ç”¨è¿™æ ·çš„å‚æ•°ï¼Œé‚£ä¹ˆæˆ‘åœ¨ä¸Šä¼ å‰å°±è¦å…ˆä¸Šä¼ åŠ¨æ€æ•°æ®çš„æ°´ç›ˆå›¾ç‰‡ï¼Œä¹‹ååœ¨ä¸Šä¼ è¦ä¸Šä¼ çš„å›¾ç‰‡ï¼›</p>\n<p>è™½ç„¶è¿™æ ·æ˜¯å¯ä»¥åšåˆ°ï¼Œä½†æ˜¯å¯¹äºä¸ƒç‰›äº‘çš„å­˜å‚¨å®¹é‡å’Œæµé‡æ¥è®²ï¼Œæ¶ˆè€—æ˜¯å¾ˆå¤§çš„ï¼› æ‰€ä»¥è¿™æ ·çš„å®ç°æ–¹å¼æ˜¯ä¸å¯å–çš„ï¼›</p>\n<p>æ°´å°æ•ˆæœå›¾ï¼š</p>\n<p><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/qn_canvas.svg\" alt=\"æ•ˆæœ\"></p>\n<h2 id=\"ä¼ ç»Ÿçš„canvas\"><a href=\"#ä¼ ç»Ÿçš„canvas\" class=\"headerlink\" title=\"ä¼ ç»Ÿçš„canvas\"></a>ä¼ ç»Ÿçš„<code>canvas</code></h2><p>ä¹Ÿå¯ä»¥é‡‡ç”¨ä¼ ç»Ÿçš„ canvas å®ç°ï¼Œä½†æ˜¯å°†ä¸Šä¼ çš„é—®å›¾ç‰‡ä¹Ÿæ˜¯å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼è½¬ä¸º<code>url</code>ï¼Œç„¶ååœ¨é€šè¿‡ç”Ÿæˆ<code>canvas</code>ç”»å›¾åŠŸèƒ½å°†ä¸Šä¼ çš„å›¾ç‰‡æ–‡ä»¶ç”Ÿæˆ<br>canvasã€‚ç„¶ååœ¨é€šè¿‡æ–‡å­—çš„å®šä½å®šä½åœ¨å›¾ç‰‡çš„å·¦ä¸‹è§’ï¼›</p>\n<p>ä½†æ˜¯è¿™æ ·çš„æ–¹å¼å°±ä¼šå¤§é‡è®¡ç®—æ–‡æœ¬<code>x, y</code> åœ¨ canvas ä¸­çš„ä½ç½®ï¼›å› ä¸ºæ•°æ®æ˜¯åŠ¨æ€çš„ï¼Œæ‰€ä»¥ç†è®ºä¸Šæ˜¯å¯ä»¥å®ç°çš„ï¼Œä½†æ˜¯è¦è€ƒè™‘å¤šè¡Œæ–‡æœ¬çš„é—®é¢˜ï¼› æ‰€ä»¥è¿™é‡Œä¸å»ºè®®é‡‡ç”¨è¯¥æ–¹å¼ï¼›</p>\n<h2 id=\"ä½¿ç”¨-html2canvas-å°†html-å…ƒç´ ç»„åˆ\"><a href=\"#ä½¿ç”¨-html2canvas-å°†html-å…ƒç´ ç»„åˆ\" class=\"headerlink\" title=\"ä½¿ç”¨ html2canvas å°†html å…ƒç´ ç»„åˆ\"></a>ä½¿ç”¨ <code>html2canvas</code> å°†<code>html</code> å…ƒç´ ç»„åˆ</h2><p>å¤§è‡´çš„æ€è·¯å°±æ˜¯ï¼š</p>\n<ul>\n<li>å…ˆå°†è¦ç”Ÿæˆ<code>canvas</code>çš„å®¹å™¨åœ¨é¡µé¢å¯è§†åŒºåŸŸä¸å¯è§ï¼Œè¿™é‡Œå°±æ˜¯å°†å®ƒå®šä½å‡ºå»çš„ï¼›</li>\n<li>ç„¶åä¸Šä¼ å‰ï¼Œç°å°†å›¾ç‰‡æ–‡ä»¶ç”Ÿæˆåœ°å€ï¼Œèµ‹å€¼ç»™<code>new Image()</code>ï¼Œ åœ¨å»ç›‘å¬åŠ è½½å®Œæˆï¼› ä¹‹åå°±æ˜¯å°†å®šä½å‡ºå»çš„å…ƒç´ æ ·å¼åŒ–ï¼›</li>\n<li>é€šè¿‡<code>html2canvas</code>å°†è·Ÿå…ƒç´ ç”Ÿæˆå¸¦æ°´å°çš„<code>canvas</code>, æ¥ä¸‹æ¥å°±æ˜¯å¯¹<code>canvas</code> è½¬ä¸ºæ–‡ä»¶ï¼Œä»è€Œå®ç°æ°´å°å›¾ç‰‡çš„ä¸Šä¼ ï¼›</li>\n</ul>\n<p>é¦–å…ˆï¼Œåœ¨ä¸Šä¼ æ–‡ä»¶å‰å…ˆå°†å›¾ç‰‡æ–‡ä»¶è½¬ä¸ºå¯¹è±¡åœ°å€ï¼Œç„¶åå…¼å®¹å›¾ç‰‡çš„åŠ è½½å®Œæˆã€‚</p>\n<p>å°†ä¹‹å‰å®šä½å‡ºå»çš„å…ƒç´ çš„å›¾ç‰‡èµ‹å€¼ï¼Œè®¾ç½®è·Ÿå…ƒç´ çš„å®½åº¦å’Œé«˜åº¦ä¸ºå›¾ç‰‡çš„å®½åº¦å’Œé«˜åº¦ï¼›</p>\n<p>ç„¶ååœ¨é€šè¿‡<code>html2canvas</code>æ’ä»¶å°†è·Ÿå…ƒç´ ç”Ÿæˆ<code>canvas</code>ï¼Œåœ¨å°†<code>canvas</code>è½¬åŒ–ä¸º<code>blob</code>ï¼Œ æ¥ç€<code>new File</code>å°†<code>blob</code>è½¬æˆæ–‡ä»¶ï¼›</p>\n<p>ä¸‹é¢å°±æ˜¯å¤§æ¦‚çš„æ€è·¯</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"title function_\">getDom</span>(<span class=\"string\">&quot;#file-input&quot;</span>).<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;change&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// è¿™é‡Œåˆ¶è€ƒè™‘å•ä¸ªå›¾ç‰‡ä¸Šä¼ çš„æƒ…å†µ</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> file = e.<span class=\"property\">target</span>.<span class=\"property\">files</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> tempImg = <span class=\"keyword\">new</span> <span class=\"title class_\">Image</span>();</span><br><span class=\"line\">\ttempImg.<span class=\"property\">src</span> = <span class=\"variable constant_\">URL</span>.<span class=\"title function_\">createObjectURL</span>(file);</span><br><span class=\"line\">\ttempImg.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;load&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// åœ°å€ç±»ä¼¼äºï¼šsrc=&quot;blob:http://localhost:63342/4302cb32-7eba-4a89-bd4a-66649bce781e&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// è·å–å…ƒç´ çš„è·ŸèŠ‚ç‚¹ä»¥åŠæ¸²æŸ“çš„å›¾ç‰‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> node = _this.<span class=\"title function_\">getDom</span>(<span class=\"string\">&quot;#node&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> imgDom = _this.<span class=\"title function_\">getDom</span>(<span class=\"string\">&quot;img&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// è®¾ç½®å›¾ç‰‡çš„è·¯å¾„ï¼Œä»¥åŠè·Ÿå…ƒç´ çš„å®½åº¦å’Œé«˜åº¦</span></span><br><span class=\"line\">\t\timgDom.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&quot;src&quot;</span>, tempImg.<span class=\"property\">src</span>);</span><br><span class=\"line\">\t\tnode.<span class=\"property\">style</span>.<span class=\"property\">width</span> = tempImg.<span class=\"property\">width</span> + <span class=\"string\">&quot;px&quot;</span>;</span><br><span class=\"line\">\t\tnode.<span class=\"property\">style</span>.<span class=\"property\">height</span> = tempImg.<span class=\"property\">height</span> + <span class=\"string\">&quot;px&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// é€šè¿‡ html2canvas å°†æ¸²æŸ“çš„å…ƒç´ ä¸“ç¨‹canvas</span></span><br><span class=\"line\">\t\thtml2canvas &amp;&amp;</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">html2canvas</span>(node).<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span> (<span class=\"params\">canvas</span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// åœ¨å°†canvasè½¬æˆæ–‡ä»¶ï¼Œ å®ç°æ–‡ä»¶çš„ä¸Šä¼ </span></span><br><span class=\"line\">\t\t\t\tcanvas.<span class=\"title function_\">toBlob</span>(<span class=\"function\"><span class=\"params\">blob</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"comment\">// ç”Ÿæˆçš„æ–‡ä»¶ï¼Œè¿™ä¸ªå°±æ˜¯ä½ è¦ä¸Šä¼ çš„æ–‡ä»¶</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">const</span> newFile = <span class=\"keyword\">new</span> <span class=\"title class_\">File</span>([blob], file.<span class=\"property\">name</span>, &#123; <span class=\"attr\">type</span>: file.<span class=\"property\">type</span> &#125;);</span><br><span class=\"line\">\t\t\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(newFile);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t\t\t<span class=\"comment\">// é¢„è§ˆã€‚å°†ç”Ÿæˆæ°´å°çš„canvasåœ¨ç”Ÿæˆå›¾ç‰‡url</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">let</span> imgSrc = canvas.<span class=\"title function_\">toDataURL</span>(<span class=\"string\">&quot;image/jpeg&quot;</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">\t\t\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(imgSrc);</span><br><span class=\"line\">\t\t\t\t\t_this.<span class=\"title function_\">getDom</span>(</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">&quot;.temp-container&quot;</span></span><br><span class=\"line\">\t\t\t\t\t).<span class=\"property\">innerHTML</span> = <span class=\"string\">`&lt;img class=&quot;show&quot; style=&quot;width: <span class=\"subst\">$&#123;tempImg.width&#125;</span>px; height: <span class=\"subst\">$&#123;tempImg.height&#125;</span>px&quot; src=&quot;<span class=\"subst\">$&#123;imgSrc&#125;</span>&quot; alt=&quot;&quot; /&gt;`</span>;</span><br><span class=\"line\">\t\t\t\t&#125;);</span><br><span class=\"line\">\t\t\t&#125;);</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"svgä»£ç ç‰‡æ®µ\"><a href=\"#svgä»£ç ç‰‡æ®µ\" class=\"headerlink\" title=\"svgä»£ç ç‰‡æ®µ\"></a><code>svg</code>ä»£ç ç‰‡æ®µ</h2><p>è¿˜æœ‰ä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯å°†<code>svg</code>ä»£ç ç‰‡æ®µï¼Œè€Œè¿™ä»£ç ç‰‡æ®µå°±æ˜¯å·¦ä¸‹è§’çš„æ°´å°å…ƒç´ ï¼Œå°†å®ƒç”Ÿæˆ canvasï¼Œå†å°†ä¸Šä¼ å›¾ç‰‡ç”Ÿæˆ canvasï¼›ç„¶åä¿©å¼ <code>canvas</code>åˆå¹¶ï¼›</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// svg ç‰‡æ®µ</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> data = <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;200&quot; height=&quot;200&quot;&gt;</span></span><br><span class=\"line\"><span class=\"string\">        &lt;foreignObject width=&quot;100%&quot; height=&quot;100%&quot;&gt;</span></span><br><span class=\"line\"><span class=\"string\">            &lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</span></span><br><span class=\"line\"><span class=\"string\">                &lt;div style=&quot;color: red&quot;&gt;è¿™é‡Œå°±æ˜¯ä½ æ¸²æŸ“çš„å…ƒç´ &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">            &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">        &lt;/foreignObject&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/svg&gt;</span></span><br><span class=\"line\"><span class=\"string\">`</span>;</span><br><span class=\"line\"><span class=\"comment\">// å°†svgç”Ÿæˆ image</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> imgSvg = <span class=\"keyword\">new</span> <span class=\"title class_\">Image</span>();</span><br><span class=\"line\"><span class=\"keyword\">let</span> blob = <span class=\"keyword\">new</span> <span class=\"title class_\">Blob</span>([data], &#123; <span class=\"attr\">type</span>: <span class=\"string\">&quot;image/svg+xml;charset=utf-8&quot;</span> &#125;);</span><br><span class=\"line\">imgSvg.<span class=\"property\">src</span> = <span class=\"variable constant_\">URL</span>.<span class=\"title function_\">createObjectURL</span>(blob);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä¸Šä¼ å›¾ç‰‡å’Œæ°´å°åˆå¹¶</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">img2Canvas</span>(<span class=\"params\">img</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;canvas&quot;</span>);</span><br><span class=\"line\">\tcanvas.<span class=\"property\">width</span> = img.<span class=\"property\">width</span>;</span><br><span class=\"line\">\tcanvas.<span class=\"property\">height</span> = img.<span class=\"property\">height</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> ctx = canvas.<span class=\"title function_\">getContext</span>(<span class=\"string\">&quot;2d&quot;</span>);</span><br><span class=\"line\">\tctx.<span class=\"title function_\">drawImage</span>(img, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\timgSvg.<span class=\"property\">onload</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\tctx.<span class=\"title function_\">drawImage</span>(imgSvg, <span class=\"number\">20</span>, canvas.<span class=\"property\">height</span> - <span class=\"number\">100</span> - <span class=\"number\">20</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ‘§æ¯åˆšåˆšç”Ÿäº§çš„url</span></span><br><span class=\"line\">\t\t<span class=\"variable constant_\">URL</span>.<span class=\"title function_\">revokeObjectURL</span>(imgSvg.<span class=\"property\">src</span>);</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">\timgSvg.<span class=\"property\">src</span> = <span class=\"variable constant_\">URL</span>.<span class=\"title function_\">createObjectURL</span>(blob);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">append</span>(canvas);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> canvas;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"title function_\">getDom</span>(<span class=\"string\">&quot;#file-input2&quot;</span>).<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;change&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> file = e.<span class=\"property\">target</span>.<span class=\"property\">files</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> tempImg = <span class=\"keyword\">new</span> <span class=\"title class_\">Image</span>();</span><br><span class=\"line\">\ttempImg.<span class=\"property\">src</span> = <span class=\"variable constant_\">URL</span>.<span class=\"title function_\">createObjectURL</span>(file);</span><br><span class=\"line\">\ttempImg.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;load&quot;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"title function_\">img2Canvas</span>(tempImg).<span class=\"title function_\">toBlob</span>(<span class=\"function\"><span class=\"params\">blob</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">const</span> newFile = <span class=\"keyword\">new</span> <span class=\"title class_\">File</span>([blob], file.<span class=\"property\">name</span>, &#123; <span class=\"attr\">type</span>: file.<span class=\"property\">type</span> &#125;);</span><br><span class=\"line\">\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(newFile);</span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>å‰å‡ å¤©ï¼Œå…¬å¸é¡¹ç›®ä¸­æœ‰è¿™ä¹ˆä¸€ä¸ªéœ€æ±‚ï¼Œè¯´æ˜¯ä¸Šä¼ å›¾ç‰‡ç»™å›¾ç‰‡åŠ æ°´å°çš„åŠŸèƒ½ï¼Œæˆ‘è¯´é‚£è¿˜ä¸ç®€å•ï¼Œå› ä¸ºå…¬å¸å›¾ç‰‡å­˜å‚¨é‡‡ç”¨çš„æ˜¯ä¸ƒç‰›äº‘ï¼Œå½“ç„¶ä¸ƒç‰›äº‘åå°æ˜¯å¯ä»¥è®¾ç½®å›¾ç‰‡çš„æ°´å°ï¼›</p>\n<p>ä½†æ˜¯æˆ‘ä¸€çœ‹éœ€æ±‚ï¼Œå¥½å®¶ä¼™æœçœŸä¸ç®€å•ï¼ŒåŸæ¥ä¸æ˜¯å‡ ä¸ªå­—ï¼Œè€Œæ˜¯å¤šä¸ªå…ƒç´ å åŠ åœ¨ä¸€èµ·çš„ï¼›æ°´å°çš„æ•°æ®ä¹Ÿæ˜¯åŠ¨æ€çš„ï¼Œè€Œä¸ƒç‰›äº‘åå°åªèƒ½è®¾ç½®ä¸€äº›<br>é™æ€å±æ€§æˆ–è€…å›¾ç‰‡åœ°å€ï¼Œå¦‚æœ<code>urlåœ°å€</code>åŠ ä¸€äº›å‚æ•°çš„æƒ…å†µï¼Œæ•ˆæœä¹Ÿæ˜¯ä¸å¯è§‚çš„</p>\n<p>è€Œé€šè¿‡<code>url</code>åœ°å€æ‹¼æ¥å‚æ•°çš„æƒ…å†µï¼š<code>/image/&lt;encodedkodocheme&gt;</code> : æ°´å°çš„æºè·¯å¾„ï¼Œ<strong>ç›®å‰æ”¯æŒ kodo èµ„æº</strong>ã€‚kodo èµ„æºå¯ç”± <code>kodo://&lt;bucketname&gt;/&lt;key&gt; </code>è¡¨ç¤ºï¼ˆæ­¤æ—¶ bucketname éœ€è¦ä¸è¾“å…¥æºåœ¨åŒä¸€åŒºåŸŸï¼‰ï¼Œå‡éœ€è¦ç»è¿‡ urlsafe_base64_encodeã€‚</p>\n<p>æ³¨æ„ï¼šæ›´æ¢å›¾ç‰‡æ°´å°æ—¶ï¼Œå»ºè®®æ›´æ¢å›¾ç‰‡çš„æ–‡ä»¶åã€‚</p>\n<p>è¿™æ ·çš„æƒ…å†µç›®å‰åªæ”¯æŒ <code>kodo</code>çš„å›¾ç‰‡èµ„æºï¼Œå¦‚æœä½¿ç”¨è¿™æ ·çš„å‚æ•°ï¼Œé‚£ä¹ˆæˆ‘åœ¨ä¸Šä¼ å‰å°±è¦å…ˆä¸Šä¼ åŠ¨æ€æ•°æ®çš„æ°´ç›ˆå›¾ç‰‡ï¼Œä¹‹ååœ¨ä¸Šä¼ è¦ä¸Šä¼ çš„å›¾ç‰‡ï¼›</p>\n<p>è™½ç„¶è¿™æ ·æ˜¯å¯ä»¥åšåˆ°ï¼Œä½†æ˜¯å¯¹äºä¸ƒç‰›äº‘çš„å­˜å‚¨å®¹é‡å’Œæµé‡æ¥è®²ï¼Œæ¶ˆè€—æ˜¯å¾ˆå¤§çš„ï¼› æ‰€ä»¥è¿™æ ·çš„å®ç°æ–¹å¼æ˜¯ä¸å¯å–çš„ï¼›</p>\n<p>æ°´å°æ•ˆæœå›¾ï¼š</p>\n<p><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/qn_canvas.svg\" alt=\"æ•ˆæœ\"></p>\n<h2 id=\"ä¼ ç»Ÿçš„canvas\"><a href=\"#ä¼ ç»Ÿçš„canvas\" class=\"headerlink\" title=\"ä¼ ç»Ÿçš„canvas\"></a>ä¼ ç»Ÿçš„<code>canvas</code></h2><p>ä¹Ÿå¯ä»¥é‡‡ç”¨ä¼ ç»Ÿçš„ canvas å®ç°ï¼Œä½†æ˜¯å°†ä¸Šä¼ çš„é—®å›¾ç‰‡ä¹Ÿæ˜¯å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼è½¬ä¸º<code>url</code>ï¼Œç„¶ååœ¨é€šè¿‡ç”Ÿæˆ<code>canvas</code>ç”»å›¾åŠŸèƒ½å°†ä¸Šä¼ çš„å›¾ç‰‡æ–‡ä»¶ç”Ÿæˆ<br>canvasã€‚ç„¶ååœ¨é€šè¿‡æ–‡å­—çš„å®šä½å®šä½åœ¨å›¾ç‰‡çš„å·¦ä¸‹è§’ï¼›</p>\n<p>ä½†æ˜¯è¿™æ ·çš„æ–¹å¼å°±ä¼šå¤§é‡è®¡ç®—æ–‡æœ¬<code>x, y</code> åœ¨ canvas ä¸­çš„ä½ç½®ï¼›å› ä¸ºæ•°æ®æ˜¯åŠ¨æ€çš„ï¼Œæ‰€ä»¥ç†è®ºä¸Šæ˜¯å¯ä»¥å®ç°çš„ï¼Œä½†æ˜¯è¦è€ƒè™‘å¤šè¡Œæ–‡æœ¬çš„é—®é¢˜ï¼› æ‰€ä»¥è¿™é‡Œä¸å»ºè®®é‡‡ç”¨è¯¥æ–¹å¼ï¼›</p>\n<h2 id=\"ä½¿ç”¨-html2canvas-å°†html-å…ƒç´ ç»„åˆ\"><a href=\"#ä½¿ç”¨-html2canvas-å°†html-å…ƒç´ ç»„åˆ\" class=\"headerlink\" title=\"ä½¿ç”¨ html2canvas å°†html å…ƒç´ ç»„åˆ\"></a>ä½¿ç”¨ <code>html2canvas</code> å°†<code>html</code> å…ƒç´ ç»„åˆ</h2><p>å¤§è‡´çš„æ€è·¯å°±æ˜¯ï¼š</p>\n<ul>\n<li>å…ˆå°†è¦ç”Ÿæˆ<code>canvas</code>çš„å®¹å™¨åœ¨é¡µé¢å¯è§†åŒºåŸŸä¸å¯è§ï¼Œè¿™é‡Œå°±æ˜¯å°†å®ƒå®šä½å‡ºå»çš„ï¼›</li>\n<li>ç„¶åä¸Šä¼ å‰ï¼Œç°å°†å›¾ç‰‡æ–‡ä»¶ç”Ÿæˆåœ°å€ï¼Œèµ‹å€¼ç»™<code>new Image()</code>ï¼Œ åœ¨å»ç›‘å¬åŠ è½½å®Œæˆï¼› ä¹‹åå°±æ˜¯å°†å®šä½å‡ºå»çš„å…ƒç´ æ ·å¼åŒ–ï¼›</li>\n<li>é€šè¿‡<code>html2canvas</code>å°†è·Ÿå…ƒç´ ç”Ÿæˆå¸¦æ°´å°çš„<code>canvas</code>, æ¥ä¸‹æ¥å°±æ˜¯å¯¹<code>canvas</code> è½¬ä¸ºæ–‡ä»¶ï¼Œä»è€Œå®ç°æ°´å°å›¾ç‰‡çš„ä¸Šä¼ ï¼›</li>\n</ul>\n<p>é¦–å…ˆï¼Œåœ¨ä¸Šä¼ æ–‡ä»¶å‰å…ˆå°†å›¾ç‰‡æ–‡ä»¶è½¬ä¸ºå¯¹è±¡åœ°å€ï¼Œç„¶åå…¼å®¹å›¾ç‰‡çš„åŠ è½½å®Œæˆã€‚</p>\n<p>å°†ä¹‹å‰å®šä½å‡ºå»çš„å…ƒç´ çš„å›¾ç‰‡èµ‹å€¼ï¼Œè®¾ç½®è·Ÿå…ƒç´ çš„å®½åº¦å’Œé«˜åº¦ä¸ºå›¾ç‰‡çš„å®½åº¦å’Œé«˜åº¦ï¼›</p>\n<p>ç„¶ååœ¨é€šè¿‡<code>html2canvas</code>æ’ä»¶å°†è·Ÿå…ƒç´ ç”Ÿæˆ<code>canvas</code>ï¼Œåœ¨å°†<code>canvas</code>è½¬åŒ–ä¸º<code>blob</code>ï¼Œ æ¥ç€<code>new File</code>å°†<code>blob</code>è½¬æˆæ–‡ä»¶ï¼›</p>\n<p>ä¸‹é¢å°±æ˜¯å¤§æ¦‚çš„æ€è·¯</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"title function_\">getDom</span>(<span class=\"string\">&quot;#file-input&quot;</span>).<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;change&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// è¿™é‡Œåˆ¶è€ƒè™‘å•ä¸ªå›¾ç‰‡ä¸Šä¼ çš„æƒ…å†µ</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> file = e.<span class=\"property\">target</span>.<span class=\"property\">files</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> tempImg = <span class=\"keyword\">new</span> <span class=\"title class_\">Image</span>();</span><br><span class=\"line\">\ttempImg.<span class=\"property\">src</span> = <span class=\"variable constant_\">URL</span>.<span class=\"title function_\">createObjectURL</span>(file);</span><br><span class=\"line\">\ttempImg.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;load&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// åœ°å€ç±»ä¼¼äºï¼šsrc=&quot;blob:http://localhost:63342/4302cb32-7eba-4a89-bd4a-66649bce781e&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// è·å–å…ƒç´ çš„è·ŸèŠ‚ç‚¹ä»¥åŠæ¸²æŸ“çš„å›¾ç‰‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> node = _this.<span class=\"title function_\">getDom</span>(<span class=\"string\">&quot;#node&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> imgDom = _this.<span class=\"title function_\">getDom</span>(<span class=\"string\">&quot;img&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// è®¾ç½®å›¾ç‰‡çš„è·¯å¾„ï¼Œä»¥åŠè·Ÿå…ƒç´ çš„å®½åº¦å’Œé«˜åº¦</span></span><br><span class=\"line\">\t\timgDom.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&quot;src&quot;</span>, tempImg.<span class=\"property\">src</span>);</span><br><span class=\"line\">\t\tnode.<span class=\"property\">style</span>.<span class=\"property\">width</span> = tempImg.<span class=\"property\">width</span> + <span class=\"string\">&quot;px&quot;</span>;</span><br><span class=\"line\">\t\tnode.<span class=\"property\">style</span>.<span class=\"property\">height</span> = tempImg.<span class=\"property\">height</span> + <span class=\"string\">&quot;px&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// é€šè¿‡ html2canvas å°†æ¸²æŸ“çš„å…ƒç´ ä¸“ç¨‹canvas</span></span><br><span class=\"line\">\t\thtml2canvas &amp;&amp;</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">html2canvas</span>(node).<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span> (<span class=\"params\">canvas</span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// åœ¨å°†canvasè½¬æˆæ–‡ä»¶ï¼Œ å®ç°æ–‡ä»¶çš„ä¸Šä¼ </span></span><br><span class=\"line\">\t\t\t\tcanvas.<span class=\"title function_\">toBlob</span>(<span class=\"function\"><span class=\"params\">blob</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"comment\">// ç”Ÿæˆçš„æ–‡ä»¶ï¼Œè¿™ä¸ªå°±æ˜¯ä½ è¦ä¸Šä¼ çš„æ–‡ä»¶</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">const</span> newFile = <span class=\"keyword\">new</span> <span class=\"title class_\">File</span>([blob], file.<span class=\"property\">name</span>, &#123; <span class=\"attr\">type</span>: file.<span class=\"property\">type</span> &#125;);</span><br><span class=\"line\">\t\t\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(newFile);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t\t\t<span class=\"comment\">// é¢„è§ˆã€‚å°†ç”Ÿæˆæ°´å°çš„canvasåœ¨ç”Ÿæˆå›¾ç‰‡url</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">let</span> imgSrc = canvas.<span class=\"title function_\">toDataURL</span>(<span class=\"string\">&quot;image/jpeg&quot;</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">\t\t\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(imgSrc);</span><br><span class=\"line\">\t\t\t\t\t_this.<span class=\"title function_\">getDom</span>(</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">&quot;.temp-container&quot;</span></span><br><span class=\"line\">\t\t\t\t\t).<span class=\"property\">innerHTML</span> = <span class=\"string\">`&lt;img class=&quot;show&quot; style=&quot;width: <span class=\"subst\">$&#123;tempImg.width&#125;</span>px; height: <span class=\"subst\">$&#123;tempImg.height&#125;</span>px&quot; src=&quot;<span class=\"subst\">$&#123;imgSrc&#125;</span>&quot; alt=&quot;&quot; /&gt;`</span>;</span><br><span class=\"line\">\t\t\t\t&#125;);</span><br><span class=\"line\">\t\t\t&#125;);</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"svgä»£ç ç‰‡æ®µ\"><a href=\"#svgä»£ç ç‰‡æ®µ\" class=\"headerlink\" title=\"svgä»£ç ç‰‡æ®µ\"></a><code>svg</code>ä»£ç ç‰‡æ®µ</h2><p>è¿˜æœ‰ä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯å°†<code>svg</code>ä»£ç ç‰‡æ®µï¼Œè€Œè¿™ä»£ç ç‰‡æ®µå°±æ˜¯å·¦ä¸‹è§’çš„æ°´å°å…ƒç´ ï¼Œå°†å®ƒç”Ÿæˆ canvasï¼Œå†å°†ä¸Šä¼ å›¾ç‰‡ç”Ÿæˆ canvasï¼›ç„¶åä¿©å¼ <code>canvas</code>åˆå¹¶ï¼›</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// svg ç‰‡æ®µ</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> data = <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;200&quot; height=&quot;200&quot;&gt;</span></span><br><span class=\"line\"><span class=\"string\">        &lt;foreignObject width=&quot;100%&quot; height=&quot;100%&quot;&gt;</span></span><br><span class=\"line\"><span class=\"string\">            &lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</span></span><br><span class=\"line\"><span class=\"string\">                &lt;div style=&quot;color: red&quot;&gt;è¿™é‡Œå°±æ˜¯ä½ æ¸²æŸ“çš„å…ƒç´ &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">            &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">        &lt;/foreignObject&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/svg&gt;</span></span><br><span class=\"line\"><span class=\"string\">`</span>;</span><br><span class=\"line\"><span class=\"comment\">// å°†svgç”Ÿæˆ image</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> imgSvg = <span class=\"keyword\">new</span> <span class=\"title class_\">Image</span>();</span><br><span class=\"line\"><span class=\"keyword\">let</span> blob = <span class=\"keyword\">new</span> <span class=\"title class_\">Blob</span>([data], &#123; <span class=\"attr\">type</span>: <span class=\"string\">&quot;image/svg+xml;charset=utf-8&quot;</span> &#125;);</span><br><span class=\"line\">imgSvg.<span class=\"property\">src</span> = <span class=\"variable constant_\">URL</span>.<span class=\"title function_\">createObjectURL</span>(blob);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä¸Šä¼ å›¾ç‰‡å’Œæ°´å°åˆå¹¶</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">img2Canvas</span>(<span class=\"params\">img</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;canvas&quot;</span>);</span><br><span class=\"line\">\tcanvas.<span class=\"property\">width</span> = img.<span class=\"property\">width</span>;</span><br><span class=\"line\">\tcanvas.<span class=\"property\">height</span> = img.<span class=\"property\">height</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> ctx = canvas.<span class=\"title function_\">getContext</span>(<span class=\"string\">&quot;2d&quot;</span>);</span><br><span class=\"line\">\tctx.<span class=\"title function_\">drawImage</span>(img, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\timgSvg.<span class=\"property\">onload</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\tctx.<span class=\"title function_\">drawImage</span>(imgSvg, <span class=\"number\">20</span>, canvas.<span class=\"property\">height</span> - <span class=\"number\">100</span> - <span class=\"number\">20</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ‘§æ¯åˆšåˆšç”Ÿäº§çš„url</span></span><br><span class=\"line\">\t\t<span class=\"variable constant_\">URL</span>.<span class=\"title function_\">revokeObjectURL</span>(imgSvg.<span class=\"property\">src</span>);</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">\timgSvg.<span class=\"property\">src</span> = <span class=\"variable constant_\">URL</span>.<span class=\"title function_\">createObjectURL</span>(blob);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">append</span>(canvas);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> canvas;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"title function_\">getDom</span>(<span class=\"string\">&quot;#file-input2&quot;</span>).<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;change&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> file = e.<span class=\"property\">target</span>.<span class=\"property\">files</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> tempImg = <span class=\"keyword\">new</span> <span class=\"title class_\">Image</span>();</span><br><span class=\"line\">\ttempImg.<span class=\"property\">src</span> = <span class=\"variable constant_\">URL</span>.<span class=\"title function_\">createObjectURL</span>(file);</span><br><span class=\"line\">\ttempImg.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;load&quot;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"title function_\">img2Canvas</span>(tempImg).<span class=\"title function_\">toBlob</span>(<span class=\"function\"><span class=\"params\">blob</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">const</span> newFile = <span class=\"keyword\">new</span> <span class=\"title class_\">File</span>([blob], file.<span class=\"property\">name</span>, &#123; <span class=\"attr\">type</span>: file.<span class=\"property\">type</span> &#125;);</span><br><span class=\"line\">\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(newFile);</span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n"},{"title":"å·¥ä½œå†…å®¹-æ”¯ä»˜ä¸­è½¬é¡µé¢","abbrlink":"26c32907","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\næœ€è¿‘ä¸Šçº¿äº†ä¸€ä¸ªæ–°çš„éœ€æ±‚ï¼Œå°±æ˜¯æ”¯ä»˜ç‰ˆæœ¬çš„å‡çº§ï¼›ä½•ä¸ºå‡çº§ï¼Ÿé‚£å°±æ˜¯åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šæ‰©å±•æ·»åŠ äº†ä¸åŒç‰ˆæœ¬çš„æ”¯ä»˜åŠŸèƒ½ï¼›æ—¢ä¿æŒäº†åŸæœ‰æ­£å¸¸çš„åŠŸèƒ½ï¼Œåˆæ‰©å±•äº†ä¸€äº›ç¬¬ä¸‰æ–¹çš„æ”¯ä»˜ç‰ˆæœ¬ï¼›\n\nå…ˆè¯´è¯´ï¼Œä¸ºä»€ä¹ˆè¦å‡çº§ï¼ŒåŸæœ‰çš„ç‰ˆæœ¬ä¼šæœ‰ä»€ä¹ˆå¼Šç«¯ï¼Œå‡çº§ä¹‹åæ”¯æŒäº†å“ªäº›æˆ–è€…æ‰©å±•äº†å“ªäº›ï¼Ÿ\n\nèµ·åˆçš„æ”¯ä»˜ï¼Œæ˜¯é€šè¿‡åç«¯è·å–åˆ°å¯¹åº”çš„å‚æ•°ï¼Œç„¶åè¿›è¡Œ`api`å”¤èµ·æ”¯ä»˜é¢æ¿è¿›è¡Œæ”¯ä»˜ï¼Œä¸è¿‡è¿™æ ·æœ‰ä¸€ä¸ªå¼Šç«¯å°±æ˜¯å¾®ä¿¡æ”¯ä»˜ä¼šæœ‰é™åˆ¶é¢åº¦çš„è¯´æ³•ï¼Œå¦‚æœæ”¯ä»˜é‡‘é¢è¿‡å¤§ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šæ”¯ä»˜ä¸äº†ï¼›\n\nå¹´å‰ä¸Šçº¿äº†`å•†å®¶å•†æˆ·ç«¯`å°ç¨‹åºï¼Œåˆèµ¶ä¸Šæ”¯ä»˜ç‰ˆæœ¬çš„å‡çº§ï¼Œæ¥ç€ä¿©è€…å°±ç»“åˆåœ¨ä¸€èµ·äº†ï¼›æœ¬æ¥æ‹¿åˆ°è¯¥éœ€æ±‚å¾ˆå¿«å°±è¯¥ä¸Šæ‰‹å¼€å‘çš„ï¼Œä½†æ˜¯ç”±äºå…¶ä»–éœ€æ±‚ç‰ˆæœ¬ï¼Œå¼€å§‹æ—¶é—´å»¶è¿Ÿäº†ï¼›æ‰€ä»¥åˆ°åé¢çš„å¼€å‘æ—¶é—´ä¹Ÿå°±å‹ç¼©äº†ï¼Œä¸€å‘¨çš„å¼€å‘æ—¶é—´ï¼Œåˆ°å‘¨äº”ä¸Šçº¿çš„ï¼›\n\né‚£ä¹ˆç ”ç©¶äº†ä¸€ä¸‹è¿™ä¸ªæµç¨‹ï¼Œå…¶å®ä¹Ÿæ²¡ä»€ä¹ˆéš¾åº¦ï¼Œå°±æ˜¯ä¸€äº›ç»†èŠ‚æ˜¯æ¯”è¾ƒå¤šçš„ï¼›å¯¹äºå‚æ•°çš„åŠ è§£å¯†ï¼Œæ•°æ®çš„åŠ è§£å¯†ç­‰ç­‰æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼›\n\nå…¶ä¸­ç¬¬ä¸‰æ–¹æ¥å£ä¼šæœ‰åŠ è§£å¯†çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸ªåŠ è§£å¯†æœ€åä¸¢ç»™äº†åç«¯ï¼Œç›´æ¥æ‹¿æ¥å£è·å–ï¼ŒåŠ è§£å¯†æ”¾åœ¨å‰ç«¯çš„è¯ç»†èŠ‚å¤ªå¤šï¼Œæœ‰ç‚¹æµªè´¹æ—¶é—´äº†ï¼›\n\n## æ€è·¯\n\næ¥ä¸‹æ¥å¤§è‡´è¯´ä¸‹å®ç°çš„æ€è·¯ï¼š\n\n- `vue`å¼€å‘ä¸€ä¸ª`H5`ä¸­è½¬é¡µé¢ï¼Œè€Œè¿™ä¸ªé¡µé¢ä¹Ÿä¼šæ˜¯ä¹‹åæ‰€æœ‰æ”¯ä»˜çš„é¡µé¢ï¼ŒåŒ…æ‹¬æ‰«ç æ”¯ä»˜ï¼Œä¸‹å•æ”¯ä»˜ç­‰ç­‰ï¼›\n- ä¸­è½¬é¡µé¢å…¼å®¹å‚æ•°ï¼Œæ•°æ®å…¼å®¹ï¼Œ`query` å‚æ•°å…¼å®¹ï¼›å› ä¸ºåœ¨åå°åœ¨ç”Ÿæˆé“¾æ¥æ¸²æŸ“åœ¨å‰ç«¯é¡µé¢ä¸Šï¼Œæ‰‹æœºæ‰«ç å»æ”¯ä»˜ä¼šæœ‰`url`å‚æ•°è§£æå¼‚å¸¸çš„é—®é¢˜ï¼Œé’ˆå¯¹è¯¥é—®é¢˜è¿›è¡Œä¼˜åŒ–å…¼å®¹ï¼›\n- å¯¹äºé¢„æ”¯ä»˜è¿”å›çš„æ”¯ä»˜å‚æ•°æ˜¯ä¸ç»Ÿä¸€çš„ï¼Œé‚£å°±åªèƒ½å­˜åœ¨ç¼“å­˜æˆ–è€… `query` å‚æ•°ï¼Œå¯¹è¯¥å¯¹åº”çš„å­—æ®µè¿›è¡ŒåŠ å¯†ï¼›\n- æ ¹æ®åå°é…ç½®çš„å•†å®¶æ”¯ä»˜ç‰ˆæœ¬åˆ¤æ–­ï¼Œæ˜¯å¦éœ€è¦åŸç”Ÿå¾®ä¿¡æ”¯ä»˜æˆ–è€…æ˜¯è·³è½¬å°ç¨‹åºæ”¯ä»˜ï¼›\n\né‚£ä¹ˆå¤§è‡´æµç¨‹å›¾å¦‚ä¸‹ï¼š\n\n![æ•ˆæœ](https://wangxiaoze-view.github.io/picx-images-hosting/images/wechat_pay.png)\n\n## ç»†èŠ‚\n\nä¸è¿‡åˆšå¼€å§‹æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆ`vue`å¦‚ä½•è·³è½¬å°ç¨‹åºå‘¢ï¼Ÿ\n\nçœ‹äº†çœ‹å¾®ä¿¡å®˜æ–¹çš„å¼€å‘æ–‡æ¡£, ç›´æ¥çœ‹åˆ°äº†`å¼€æ”¾æ ‡ç­¾`\n\n```js\n<wx-open-launch-weapp\n  id=\"launch-btn\"\n  appid=\"wx12345678\"\n  path=\"pages/home/index?user=123&action=abc\"\n>\n  <script type=\"text/wxtag-template\">\n    <style>.btn { padding: 12px }</style>\n    <button class=\"btn\">æ‰“å¼€å°ç¨‹åº</button>\n  </script>\n</wx-open-launch-weapp>\n<script>\n  var btn = document.getElementById('launch-btn');\n  btn.addEventListener('launch', function (e) {\n    console.log('success');\n  });\n  btn.addEventListener('error', function (e) {\n    console.log('fail', e.detail);\n  });\n</script>\n\n```\n\nä¸è¿‡ä½¿ç”¨è¯¥å¼€æ”¾æ ‡ç­¾ï¼Œé¦–å…ˆéœ€è¦è®¾ç½®å¯¹åº”çš„`wx.config`, å°†å¯¹åº”çš„`å¼€æ”¾æ ‡ç­¾é…ç½®å¥½`ï¼Œ æ ¼å¼å¦‚ä¸‹ï¼š\n\n```js\nwx.config({\n  debug: true, // å¼€å¯è°ƒè¯•æ¨¡å¼,è°ƒç”¨çš„æ‰€æœ‰apiçš„è¿”å›å€¼ä¼šåœ¨å®¢æˆ·ç«¯alertå‡ºæ¥ï¼Œè‹¥è¦æŸ¥çœ‹ä¼ å…¥çš„å‚æ•°ï¼Œå¯ä»¥åœ¨pcç«¯æ‰“å¼€ï¼Œå‚æ•°ä¿¡æ¯ä¼šé€šè¿‡logæ‰“å‡ºï¼Œä»…åœ¨pcç«¯æ—¶æ‰ä¼šæ‰“å°\n  appId: '', // å¿…å¡«ï¼Œå…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†\n  timestamp: , // å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„æ—¶é—´æˆ³\n  nonceStr: '', // å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„éšæœºä¸²\n  signature: '',// å¿…å¡«ï¼Œç­¾å\n  jsApiList: [], // å¿…å¡«ï¼Œéœ€è¦ä½¿ç”¨çš„JSæ¥å£åˆ—è¡¨\n  openTagList: [] // å¯é€‰ï¼Œéœ€è¦ä½¿ç”¨çš„å¼€æ”¾æ ‡ç­¾åˆ—è¡¨ï¼Œä¾‹å¦‚['wx-open-launch-app']\n})\n\nwx.ready(function () {\n  // configä¿¡æ¯éªŒè¯åä¼šæ‰§è¡Œreadyæ–¹æ³•ï¼Œæ‰€æœ‰æ¥å£è°ƒç”¨éƒ½å¿…é¡»åœ¨configæ¥å£è·å¾—ç»“æœä¹‹åï¼Œconfigæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯çš„å¼‚æ­¥æ“ä½œï¼Œæ‰€ä»¥å¦‚æœéœ€è¦åœ¨é¡µé¢åŠ è½½æ—¶å°±è°ƒç”¨ç›¸å…³æ¥å£ï¼Œåˆ™é¡»æŠŠç›¸å…³æ¥å£æ”¾åœ¨readyå‡½æ•°ä¸­è°ƒç”¨æ¥ç¡®ä¿æ­£ç¡®æ‰§è¡Œã€‚å¯¹äºç”¨æˆ·è§¦å‘æ—¶æ‰è°ƒç”¨çš„æ¥å£ï¼Œåˆ™å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦æ”¾åœ¨readyå‡½æ•°ä¸­\n});\n\nwx.error(function (res) {\n  // configä¿¡æ¯éªŒè¯å¤±è´¥ä¼šæ‰§è¡Œerrorå‡½æ•°ï¼Œå¦‚ç­¾åè¿‡æœŸå¯¼è‡´éªŒè¯å¤±è´¥ï¼Œå…·ä½“é”™è¯¯ä¿¡æ¯å¯ä»¥æ‰“å¼€configçš„debugæ¨¡å¼æŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥åœ¨è¿”å›çš„reså‚æ•°ä¸­æŸ¥çœ‹ï¼Œå¯¹äºSPAå¯ä»¥åœ¨è¿™é‡Œæ›´æ–°ç­¾å\n});\n\n```\n\nä¸è¿‡è¦è¯´æ˜ä¸€ç‚¹ï¼Œå°±æ˜¯åªæœ‰`config:ok`çš„æ—¶å€™æ‰ä¼šæ¸²æŸ“å¯¹åº”çš„æŒ‰é’®å»æ‰“å¼€å°ç¨‹åºï¼›è¿™é‡Œéœ€è¦ä¸€äº›å…¼å®¹é—®é¢˜ï¼›ä½†æ˜¯å¾ˆå‘çš„åœ°æ–¹å°±æ˜¯`text/wxtag-template`æ ·å¼åªèƒ½å†™åœ¨è¿™ä¸ªé‡Œé¢ï¼Œä¸èƒ½å†™åœ¨é¡µé¢ä¸­`style`ä¸­ï¼›ä¸‹é¢æ˜¯é¡¹ç›®ä¸­ç”¨åˆ°çš„éƒ¨åˆ†ä»£ç ï¼š\n\n```html\n<div style=\"position: relative;\">\n\t<wx-open-launch-weapp\n\t\tid=\"launch-btn\"\n\t\tstyle=\"position: absolute; top: 1.6rem;left:0px;right: 0px;\"\n\t\t:username=\"username\"\n\t\t:env-version=\"wxMpEnvVersion\"\n\t\t:path=\"jumpWxMpPath\"\n\t>\n\t\t<div is=\"script\" type=\"text/wxtag-template\" style=\"display: block;\">\n\t\t\t<div is=\"style\">\n\t\t\t\t.pay-button {position: relative;display: inline-block;boxSizing:\n\t\t\t\tborder-box;background-color: #07c160;color: #fff;height: 44px;outline:\n\t\t\t\tnone;border: 1px solid #07c160;border-radius:\n\t\t\t\t4px;width:100%;font-size:14px;}\n\t\t\t</div>\n\t\t\t<button class=\"pay-button\" @click=\"handlerToPay('applet')\">\n\t\t\t\tç«‹å³æ”¯ä»˜\n\t\t\t</button>\n\t\t</div>\n\t</wx-open-launch-weapp>\n</div>\n```\n\nçœä¸‹çš„å°±äº¤ç»™æ¥å£ï¼Œæ‹¿åˆ°å¯¹åº”çš„ç‰ˆæœ¬ï¼Œ`V1, V2, V3`ç­‰ç­‰ï¼›æ ¹æ®ä¸åŒçš„åœºæ™¯ä½¿ç”¨ï¼Œ\n\n```js\n// å¾®ä¿¡åŸç”Ÿ,è¿™é‡Œæ¢æˆè‡ªå·±å¯¹åº”çš„å‚æ•°\nwxJsBridge({\n    'appId': wxJsBridgeJson.appId,\n    'timeStamp': wxJsBridgeJson.timeStamp,\n    'nonceStr': wxJsBridgeJson.nonceStr,\n    'package': wxJsBridgeJson.package,\n    'signType': wxJsBridgeJson.signType,\n    'paySign': wxJsBridgeJson.sign\n}, () => {})\n\n/// è¿™é‡Œå¤„ç†äº†å…¼å®¹çš„queryï¼Œåç«¯è§£æé—®é¢˜å¼‚å¸¸æ‰€ä»¥æ‰è¦è¿™ä¹ˆå¤„ç†\ngetUrlQuery() {\n    const { param = '' } = this.$route.query || {}\n    const hasParam = Object.keys(this.$route.query).includes('param')\n    // å…¼å®¹ä¸åŒurl, æ™®é€šçš„query, ç‰¹æ®Šçš„urlå¦‚ä¸Šé“¾æ¥;\n    return hasParam ? handlerQueryParams(param) : this.$route.query\n}\n\n// è¿™æ˜¯åç«¯ç»™çš„é“¾æ¥\n// http://xxx.com/payPage?param=businessType:9;payId:1668909350495006721;totalAmt:100000\n\nexport function handlerQueryParams(url) {\n  const splitArr = url.split(\";\").filter(item => item !== \"\");\n  const query = {};\n  splitArr.forEach(item => {\n    let hasSq = item.indexOf(\":\");\n    if (hasSq !== -1) {\n      let key = item.substr(0, hasSq);\n      let val = item.substr(hasSq + 1, item.length - 1);\n      query[key] = val;\n    }\n  });\n\n  return query;\n}\n\n```\n\nå¯¹äºä¸åŒæ”¯ä»˜çš„ç‰ˆæœ¬ï¼Œå½“ç„¶ä¹Ÿä¼šæœ‰ä¸åŒçš„æŒ‰é’®ï¼Œä¾‹å¦‚`v1`ç‰ˆæœ¬çš„æ˜¯åŸç”Ÿæ”¯ä»˜ï¼Œ`v2`çš„æ˜¯å¼€æ”¾æ ‡ç­¾ï¼Œé‚£ä¹ˆå°±éœ€è¦å¯¹åº”çš„åˆ¤æ–­äº†ï¼š\n\n```js\n// éœ€è¦è·³è½¬å°ç¨‹åºæ”¯ä»˜çš„\nisPayWeapp() {\n    return ['V2', 'V3'].includes(this.version)\n},\n// éœ€è¦åŸç”Ÿå¾®ä¿¡æ”¯ä»˜çš„\n// å¦‚æœæ¥å£æŠ¥é”™ æˆ–è€…å…¶ä»–æƒ…å†µé»˜è®¤æ”¯æŒå¾®ä¿¡åŸç”Ÿæ”¯ä»˜\nisPayWx() {\n    return ['V1'].includes(this.version)\n}\n```\n\nå¯¹äºå°ç¨‹åºé‚£è¾¹çš„å¤„ç†ï¼Œä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯è·å–åˆ°å¯¹åº”çš„ query å‚æ•°ï¼Œæ ¹æ®ç‰ˆæœ¬è¿›è¡ŒåŠ è§£å¯†ï¼Œè·å–å¯¹åº”çš„æ”¯ä»˜è®¡ç®—ç­‰ç­‰ï¼›\n\nå› ä¸ºæ¶‰åŠç›¸å…³çš„ç¬¬ä¸‰æ–¹å°±ä¸ä»‹ç»é‚£ä¹ˆå¤šäº†ï¼›\n","source":"_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/æ”¯ä»˜ä¸­è½¬é¡µé¢.md","raw":"---\ntitle: å·¥ä½œå†…å®¹-æ”¯ä»˜ä¸­è½¬é¡µé¢\nabbrlink: 26c32907\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - å·¥ä½œå†…å®¹\n---\n\n# èƒŒæ™¯\n\næœ€è¿‘ä¸Šçº¿äº†ä¸€ä¸ªæ–°çš„éœ€æ±‚ï¼Œå°±æ˜¯æ”¯ä»˜ç‰ˆæœ¬çš„å‡çº§ï¼›ä½•ä¸ºå‡çº§ï¼Ÿé‚£å°±æ˜¯åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šæ‰©å±•æ·»åŠ äº†ä¸åŒç‰ˆæœ¬çš„æ”¯ä»˜åŠŸèƒ½ï¼›æ—¢ä¿æŒäº†åŸæœ‰æ­£å¸¸çš„åŠŸèƒ½ï¼Œåˆæ‰©å±•äº†ä¸€äº›ç¬¬ä¸‰æ–¹çš„æ”¯ä»˜ç‰ˆæœ¬ï¼›\n\nå…ˆè¯´è¯´ï¼Œä¸ºä»€ä¹ˆè¦å‡çº§ï¼ŒåŸæœ‰çš„ç‰ˆæœ¬ä¼šæœ‰ä»€ä¹ˆå¼Šç«¯ï¼Œå‡çº§ä¹‹åæ”¯æŒäº†å“ªäº›æˆ–è€…æ‰©å±•äº†å“ªäº›ï¼Ÿ\n\nèµ·åˆçš„æ”¯ä»˜ï¼Œæ˜¯é€šè¿‡åç«¯è·å–åˆ°å¯¹åº”çš„å‚æ•°ï¼Œç„¶åè¿›è¡Œ`api`å”¤èµ·æ”¯ä»˜é¢æ¿è¿›è¡Œæ”¯ä»˜ï¼Œä¸è¿‡è¿™æ ·æœ‰ä¸€ä¸ªå¼Šç«¯å°±æ˜¯å¾®ä¿¡æ”¯ä»˜ä¼šæœ‰é™åˆ¶é¢åº¦çš„è¯´æ³•ï¼Œå¦‚æœæ”¯ä»˜é‡‘é¢è¿‡å¤§ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šæ”¯ä»˜ä¸äº†ï¼›\n\nå¹´å‰ä¸Šçº¿äº†`å•†å®¶å•†æˆ·ç«¯`å°ç¨‹åºï¼Œåˆèµ¶ä¸Šæ”¯ä»˜ç‰ˆæœ¬çš„å‡çº§ï¼Œæ¥ç€ä¿©è€…å°±ç»“åˆåœ¨ä¸€èµ·äº†ï¼›æœ¬æ¥æ‹¿åˆ°è¯¥éœ€æ±‚å¾ˆå¿«å°±è¯¥ä¸Šæ‰‹å¼€å‘çš„ï¼Œä½†æ˜¯ç”±äºå…¶ä»–éœ€æ±‚ç‰ˆæœ¬ï¼Œå¼€å§‹æ—¶é—´å»¶è¿Ÿäº†ï¼›æ‰€ä»¥åˆ°åé¢çš„å¼€å‘æ—¶é—´ä¹Ÿå°±å‹ç¼©äº†ï¼Œä¸€å‘¨çš„å¼€å‘æ—¶é—´ï¼Œåˆ°å‘¨äº”ä¸Šçº¿çš„ï¼›\n\né‚£ä¹ˆç ”ç©¶äº†ä¸€ä¸‹è¿™ä¸ªæµç¨‹ï¼Œå…¶å®ä¹Ÿæ²¡ä»€ä¹ˆéš¾åº¦ï¼Œå°±æ˜¯ä¸€äº›ç»†èŠ‚æ˜¯æ¯”è¾ƒå¤šçš„ï¼›å¯¹äºå‚æ•°çš„åŠ è§£å¯†ï¼Œæ•°æ®çš„åŠ è§£å¯†ç­‰ç­‰æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼›\n\nå…¶ä¸­ç¬¬ä¸‰æ–¹æ¥å£ä¼šæœ‰åŠ è§£å¯†çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸ªåŠ è§£å¯†æœ€åä¸¢ç»™äº†åç«¯ï¼Œç›´æ¥æ‹¿æ¥å£è·å–ï¼ŒåŠ è§£å¯†æ”¾åœ¨å‰ç«¯çš„è¯ç»†èŠ‚å¤ªå¤šï¼Œæœ‰ç‚¹æµªè´¹æ—¶é—´äº†ï¼›\n\n## æ€è·¯\n\næ¥ä¸‹æ¥å¤§è‡´è¯´ä¸‹å®ç°çš„æ€è·¯ï¼š\n\n- `vue`å¼€å‘ä¸€ä¸ª`H5`ä¸­è½¬é¡µé¢ï¼Œè€Œè¿™ä¸ªé¡µé¢ä¹Ÿä¼šæ˜¯ä¹‹åæ‰€æœ‰æ”¯ä»˜çš„é¡µé¢ï¼ŒåŒ…æ‹¬æ‰«ç æ”¯ä»˜ï¼Œä¸‹å•æ”¯ä»˜ç­‰ç­‰ï¼›\n- ä¸­è½¬é¡µé¢å…¼å®¹å‚æ•°ï¼Œæ•°æ®å…¼å®¹ï¼Œ`query` å‚æ•°å…¼å®¹ï¼›å› ä¸ºåœ¨åå°åœ¨ç”Ÿæˆé“¾æ¥æ¸²æŸ“åœ¨å‰ç«¯é¡µé¢ä¸Šï¼Œæ‰‹æœºæ‰«ç å»æ”¯ä»˜ä¼šæœ‰`url`å‚æ•°è§£æå¼‚å¸¸çš„é—®é¢˜ï¼Œé’ˆå¯¹è¯¥é—®é¢˜è¿›è¡Œä¼˜åŒ–å…¼å®¹ï¼›\n- å¯¹äºé¢„æ”¯ä»˜è¿”å›çš„æ”¯ä»˜å‚æ•°æ˜¯ä¸ç»Ÿä¸€çš„ï¼Œé‚£å°±åªèƒ½å­˜åœ¨ç¼“å­˜æˆ–è€… `query` å‚æ•°ï¼Œå¯¹è¯¥å¯¹åº”çš„å­—æ®µè¿›è¡ŒåŠ å¯†ï¼›\n- æ ¹æ®åå°é…ç½®çš„å•†å®¶æ”¯ä»˜ç‰ˆæœ¬åˆ¤æ–­ï¼Œæ˜¯å¦éœ€è¦åŸç”Ÿå¾®ä¿¡æ”¯ä»˜æˆ–è€…æ˜¯è·³è½¬å°ç¨‹åºæ”¯ä»˜ï¼›\n\né‚£ä¹ˆå¤§è‡´æµç¨‹å›¾å¦‚ä¸‹ï¼š\n\n![æ•ˆæœ](https://wangxiaoze-view.github.io/picx-images-hosting/images/wechat_pay.png)\n\n## ç»†èŠ‚\n\nä¸è¿‡åˆšå¼€å§‹æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆ`vue`å¦‚ä½•è·³è½¬å°ç¨‹åºå‘¢ï¼Ÿ\n\nçœ‹äº†çœ‹å¾®ä¿¡å®˜æ–¹çš„å¼€å‘æ–‡æ¡£, ç›´æ¥çœ‹åˆ°äº†`å¼€æ”¾æ ‡ç­¾`\n\n```js\n<wx-open-launch-weapp\n  id=\"launch-btn\"\n  appid=\"wx12345678\"\n  path=\"pages/home/index?user=123&action=abc\"\n>\n  <script type=\"text/wxtag-template\">\n    <style>.btn { padding: 12px }</style>\n    <button class=\"btn\">æ‰“å¼€å°ç¨‹åº</button>\n  </script>\n</wx-open-launch-weapp>\n<script>\n  var btn = document.getElementById('launch-btn');\n  btn.addEventListener('launch', function (e) {\n    console.log('success');\n  });\n  btn.addEventListener('error', function (e) {\n    console.log('fail', e.detail);\n  });\n</script>\n\n```\n\nä¸è¿‡ä½¿ç”¨è¯¥å¼€æ”¾æ ‡ç­¾ï¼Œé¦–å…ˆéœ€è¦è®¾ç½®å¯¹åº”çš„`wx.config`, å°†å¯¹åº”çš„`å¼€æ”¾æ ‡ç­¾é…ç½®å¥½`ï¼Œ æ ¼å¼å¦‚ä¸‹ï¼š\n\n```js\nwx.config({\n  debug: true, // å¼€å¯è°ƒè¯•æ¨¡å¼,è°ƒç”¨çš„æ‰€æœ‰apiçš„è¿”å›å€¼ä¼šåœ¨å®¢æˆ·ç«¯alertå‡ºæ¥ï¼Œè‹¥è¦æŸ¥çœ‹ä¼ å…¥çš„å‚æ•°ï¼Œå¯ä»¥åœ¨pcç«¯æ‰“å¼€ï¼Œå‚æ•°ä¿¡æ¯ä¼šé€šè¿‡logæ‰“å‡ºï¼Œä»…åœ¨pcç«¯æ—¶æ‰ä¼šæ‰“å°\n  appId: '', // å¿…å¡«ï¼Œå…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†\n  timestamp: , // å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„æ—¶é—´æˆ³\n  nonceStr: '', // å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„éšæœºä¸²\n  signature: '',// å¿…å¡«ï¼Œç­¾å\n  jsApiList: [], // å¿…å¡«ï¼Œéœ€è¦ä½¿ç”¨çš„JSæ¥å£åˆ—è¡¨\n  openTagList: [] // å¯é€‰ï¼Œéœ€è¦ä½¿ç”¨çš„å¼€æ”¾æ ‡ç­¾åˆ—è¡¨ï¼Œä¾‹å¦‚['wx-open-launch-app']\n})\n\nwx.ready(function () {\n  // configä¿¡æ¯éªŒè¯åä¼šæ‰§è¡Œreadyæ–¹æ³•ï¼Œæ‰€æœ‰æ¥å£è°ƒç”¨éƒ½å¿…é¡»åœ¨configæ¥å£è·å¾—ç»“æœä¹‹åï¼Œconfigæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯çš„å¼‚æ­¥æ“ä½œï¼Œæ‰€ä»¥å¦‚æœéœ€è¦åœ¨é¡µé¢åŠ è½½æ—¶å°±è°ƒç”¨ç›¸å…³æ¥å£ï¼Œåˆ™é¡»æŠŠç›¸å…³æ¥å£æ”¾åœ¨readyå‡½æ•°ä¸­è°ƒç”¨æ¥ç¡®ä¿æ­£ç¡®æ‰§è¡Œã€‚å¯¹äºç”¨æˆ·è§¦å‘æ—¶æ‰è°ƒç”¨çš„æ¥å£ï¼Œåˆ™å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦æ”¾åœ¨readyå‡½æ•°ä¸­\n});\n\nwx.error(function (res) {\n  // configä¿¡æ¯éªŒè¯å¤±è´¥ä¼šæ‰§è¡Œerrorå‡½æ•°ï¼Œå¦‚ç­¾åè¿‡æœŸå¯¼è‡´éªŒè¯å¤±è´¥ï¼Œå…·ä½“é”™è¯¯ä¿¡æ¯å¯ä»¥æ‰“å¼€configçš„debugæ¨¡å¼æŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥åœ¨è¿”å›çš„reså‚æ•°ä¸­æŸ¥çœ‹ï¼Œå¯¹äºSPAå¯ä»¥åœ¨è¿™é‡Œæ›´æ–°ç­¾å\n});\n\n```\n\nä¸è¿‡è¦è¯´æ˜ä¸€ç‚¹ï¼Œå°±æ˜¯åªæœ‰`config:ok`çš„æ—¶å€™æ‰ä¼šæ¸²æŸ“å¯¹åº”çš„æŒ‰é’®å»æ‰“å¼€å°ç¨‹åºï¼›è¿™é‡Œéœ€è¦ä¸€äº›å…¼å®¹é—®é¢˜ï¼›ä½†æ˜¯å¾ˆå‘çš„åœ°æ–¹å°±æ˜¯`text/wxtag-template`æ ·å¼åªèƒ½å†™åœ¨è¿™ä¸ªé‡Œé¢ï¼Œä¸èƒ½å†™åœ¨é¡µé¢ä¸­`style`ä¸­ï¼›ä¸‹é¢æ˜¯é¡¹ç›®ä¸­ç”¨åˆ°çš„éƒ¨åˆ†ä»£ç ï¼š\n\n```html\n<div style=\"position: relative;\">\n\t<wx-open-launch-weapp\n\t\tid=\"launch-btn\"\n\t\tstyle=\"position: absolute; top: 1.6rem;left:0px;right: 0px;\"\n\t\t:username=\"username\"\n\t\t:env-version=\"wxMpEnvVersion\"\n\t\t:path=\"jumpWxMpPath\"\n\t>\n\t\t<div is=\"script\" type=\"text/wxtag-template\" style=\"display: block;\">\n\t\t\t<div is=\"style\">\n\t\t\t\t.pay-button {position: relative;display: inline-block;boxSizing:\n\t\t\t\tborder-box;background-color: #07c160;color: #fff;height: 44px;outline:\n\t\t\t\tnone;border: 1px solid #07c160;border-radius:\n\t\t\t\t4px;width:100%;font-size:14px;}\n\t\t\t</div>\n\t\t\t<button class=\"pay-button\" @click=\"handlerToPay('applet')\">\n\t\t\t\tç«‹å³æ”¯ä»˜\n\t\t\t</button>\n\t\t</div>\n\t</wx-open-launch-weapp>\n</div>\n```\n\nçœä¸‹çš„å°±äº¤ç»™æ¥å£ï¼Œæ‹¿åˆ°å¯¹åº”çš„ç‰ˆæœ¬ï¼Œ`V1, V2, V3`ç­‰ç­‰ï¼›æ ¹æ®ä¸åŒçš„åœºæ™¯ä½¿ç”¨ï¼Œ\n\n```js\n// å¾®ä¿¡åŸç”Ÿ,è¿™é‡Œæ¢æˆè‡ªå·±å¯¹åº”çš„å‚æ•°\nwxJsBridge({\n    'appId': wxJsBridgeJson.appId,\n    'timeStamp': wxJsBridgeJson.timeStamp,\n    'nonceStr': wxJsBridgeJson.nonceStr,\n    'package': wxJsBridgeJson.package,\n    'signType': wxJsBridgeJson.signType,\n    'paySign': wxJsBridgeJson.sign\n}, () => {})\n\n/// è¿™é‡Œå¤„ç†äº†å…¼å®¹çš„queryï¼Œåç«¯è§£æé—®é¢˜å¼‚å¸¸æ‰€ä»¥æ‰è¦è¿™ä¹ˆå¤„ç†\ngetUrlQuery() {\n    const { param = '' } = this.$route.query || {}\n    const hasParam = Object.keys(this.$route.query).includes('param')\n    // å…¼å®¹ä¸åŒurl, æ™®é€šçš„query, ç‰¹æ®Šçš„urlå¦‚ä¸Šé“¾æ¥;\n    return hasParam ? handlerQueryParams(param) : this.$route.query\n}\n\n// è¿™æ˜¯åç«¯ç»™çš„é“¾æ¥\n// http://xxx.com/payPage?param=businessType:9;payId:1668909350495006721;totalAmt:100000\n\nexport function handlerQueryParams(url) {\n  const splitArr = url.split(\";\").filter(item => item !== \"\");\n  const query = {};\n  splitArr.forEach(item => {\n    let hasSq = item.indexOf(\":\");\n    if (hasSq !== -1) {\n      let key = item.substr(0, hasSq);\n      let val = item.substr(hasSq + 1, item.length - 1);\n      query[key] = val;\n    }\n  });\n\n  return query;\n}\n\n```\n\nå¯¹äºä¸åŒæ”¯ä»˜çš„ç‰ˆæœ¬ï¼Œå½“ç„¶ä¹Ÿä¼šæœ‰ä¸åŒçš„æŒ‰é’®ï¼Œä¾‹å¦‚`v1`ç‰ˆæœ¬çš„æ˜¯åŸç”Ÿæ”¯ä»˜ï¼Œ`v2`çš„æ˜¯å¼€æ”¾æ ‡ç­¾ï¼Œé‚£ä¹ˆå°±éœ€è¦å¯¹åº”çš„åˆ¤æ–­äº†ï¼š\n\n```js\n// éœ€è¦è·³è½¬å°ç¨‹åºæ”¯ä»˜çš„\nisPayWeapp() {\n    return ['V2', 'V3'].includes(this.version)\n},\n// éœ€è¦åŸç”Ÿå¾®ä¿¡æ”¯ä»˜çš„\n// å¦‚æœæ¥å£æŠ¥é”™ æˆ–è€…å…¶ä»–æƒ…å†µé»˜è®¤æ”¯æŒå¾®ä¿¡åŸç”Ÿæ”¯ä»˜\nisPayWx() {\n    return ['V1'].includes(this.version)\n}\n```\n\nå¯¹äºå°ç¨‹åºé‚£è¾¹çš„å¤„ç†ï¼Œä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯è·å–åˆ°å¯¹åº”çš„ query å‚æ•°ï¼Œæ ¹æ®ç‰ˆæœ¬è¿›è¡ŒåŠ è§£å¯†ï¼Œè·å–å¯¹åº”çš„æ”¯ä»˜è®¡ç®—ç­‰ç­‰ï¼›\n\nå› ä¸ºæ¶‰åŠç›¸å…³çš„ç¬¬ä¸‰æ–¹å°±ä¸ä»‹ç»é‚£ä¹ˆå¤šäº†ï¼›\n","slug":"æ€»ç»“/é¡¹ç›®æ€»ç»“/æ”¯ä»˜ä¸­è½¬é¡µé¢","published":1,"updated":"2025-03-13T10:16:16.625Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iv001lfg9me3uvdxct","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>æœ€è¿‘ä¸Šçº¿äº†ä¸€ä¸ªæ–°çš„éœ€æ±‚ï¼Œå°±æ˜¯æ”¯ä»˜ç‰ˆæœ¬çš„å‡çº§ï¼›ä½•ä¸ºå‡çº§ï¼Ÿé‚£å°±æ˜¯åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šæ‰©å±•æ·»åŠ äº†ä¸åŒç‰ˆæœ¬çš„æ”¯ä»˜åŠŸèƒ½ï¼›æ—¢ä¿æŒäº†åŸæœ‰æ­£å¸¸çš„åŠŸèƒ½ï¼Œåˆæ‰©å±•äº†ä¸€äº›ç¬¬ä¸‰æ–¹çš„æ”¯ä»˜ç‰ˆæœ¬ï¼›</p>\n<p>å…ˆè¯´è¯´ï¼Œä¸ºä»€ä¹ˆè¦å‡çº§ï¼ŒåŸæœ‰çš„ç‰ˆæœ¬ä¼šæœ‰ä»€ä¹ˆå¼Šç«¯ï¼Œå‡çº§ä¹‹åæ”¯æŒäº†å“ªäº›æˆ–è€…æ‰©å±•äº†å“ªäº›ï¼Ÿ</p>\n<p>èµ·åˆçš„æ”¯ä»˜ï¼Œæ˜¯é€šè¿‡åç«¯è·å–åˆ°å¯¹åº”çš„å‚æ•°ï¼Œç„¶åè¿›è¡Œ<code>api</code>å”¤èµ·æ”¯ä»˜é¢æ¿è¿›è¡Œæ”¯ä»˜ï¼Œä¸è¿‡è¿™æ ·æœ‰ä¸€ä¸ªå¼Šç«¯å°±æ˜¯å¾®ä¿¡æ”¯ä»˜ä¼šæœ‰é™åˆ¶é¢åº¦çš„è¯´æ³•ï¼Œå¦‚æœæ”¯ä»˜é‡‘é¢è¿‡å¤§ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šæ”¯ä»˜ä¸äº†ï¼›</p>\n<p>å¹´å‰ä¸Šçº¿äº†<code>å•†å®¶å•†æˆ·ç«¯</code>å°ç¨‹åºï¼Œåˆèµ¶ä¸Šæ”¯ä»˜ç‰ˆæœ¬çš„å‡çº§ï¼Œæ¥ç€ä¿©è€…å°±ç»“åˆåœ¨ä¸€èµ·äº†ï¼›æœ¬æ¥æ‹¿åˆ°è¯¥éœ€æ±‚å¾ˆå¿«å°±è¯¥ä¸Šæ‰‹å¼€å‘çš„ï¼Œä½†æ˜¯ç”±äºå…¶ä»–éœ€æ±‚ç‰ˆæœ¬ï¼Œå¼€å§‹æ—¶é—´å»¶è¿Ÿäº†ï¼›æ‰€ä»¥åˆ°åé¢çš„å¼€å‘æ—¶é—´ä¹Ÿå°±å‹ç¼©äº†ï¼Œä¸€å‘¨çš„å¼€å‘æ—¶é—´ï¼Œåˆ°å‘¨äº”ä¸Šçº¿çš„ï¼›</p>\n<p>é‚£ä¹ˆç ”ç©¶äº†ä¸€ä¸‹è¿™ä¸ªæµç¨‹ï¼Œå…¶å®ä¹Ÿæ²¡ä»€ä¹ˆéš¾åº¦ï¼Œå°±æ˜¯ä¸€äº›ç»†èŠ‚æ˜¯æ¯”è¾ƒå¤šçš„ï¼›å¯¹äºå‚æ•°çš„åŠ è§£å¯†ï¼Œæ•°æ®çš„åŠ è§£å¯†ç­‰ç­‰æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼›</p>\n<p>å…¶ä¸­ç¬¬ä¸‰æ–¹æ¥å£ä¼šæœ‰åŠ è§£å¯†çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸ªåŠ è§£å¯†æœ€åä¸¢ç»™äº†åç«¯ï¼Œç›´æ¥æ‹¿æ¥å£è·å–ï¼ŒåŠ è§£å¯†æ”¾åœ¨å‰ç«¯çš„è¯ç»†èŠ‚å¤ªå¤šï¼Œæœ‰ç‚¹æµªè´¹æ—¶é—´äº†ï¼›</p>\n<h2 id=\"æ€è·¯\"><a href=\"#æ€è·¯\" class=\"headerlink\" title=\"æ€è·¯\"></a>æ€è·¯</h2><p>æ¥ä¸‹æ¥å¤§è‡´è¯´ä¸‹å®ç°çš„æ€è·¯ï¼š</p>\n<ul>\n<li><code>vue</code>å¼€å‘ä¸€ä¸ª<code>H5</code>ä¸­è½¬é¡µé¢ï¼Œè€Œè¿™ä¸ªé¡µé¢ä¹Ÿä¼šæ˜¯ä¹‹åæ‰€æœ‰æ”¯ä»˜çš„é¡µé¢ï¼ŒåŒ…æ‹¬æ‰«ç æ”¯ä»˜ï¼Œä¸‹å•æ”¯ä»˜ç­‰ç­‰ï¼›</li>\n<li>ä¸­è½¬é¡µé¢å…¼å®¹å‚æ•°ï¼Œæ•°æ®å…¼å®¹ï¼Œ<code>query</code> å‚æ•°å…¼å®¹ï¼›å› ä¸ºåœ¨åå°åœ¨ç”Ÿæˆé“¾æ¥æ¸²æŸ“åœ¨å‰ç«¯é¡µé¢ä¸Šï¼Œæ‰‹æœºæ‰«ç å»æ”¯ä»˜ä¼šæœ‰<code>url</code>å‚æ•°è§£æå¼‚å¸¸çš„é—®é¢˜ï¼Œé’ˆå¯¹è¯¥é—®é¢˜è¿›è¡Œä¼˜åŒ–å…¼å®¹ï¼›</li>\n<li>å¯¹äºé¢„æ”¯ä»˜è¿”å›çš„æ”¯ä»˜å‚æ•°æ˜¯ä¸ç»Ÿä¸€çš„ï¼Œé‚£å°±åªèƒ½å­˜åœ¨ç¼“å­˜æˆ–è€… <code>query</code> å‚æ•°ï¼Œå¯¹è¯¥å¯¹åº”çš„å­—æ®µè¿›è¡ŒåŠ å¯†ï¼›</li>\n<li>æ ¹æ®åå°é…ç½®çš„å•†å®¶æ”¯ä»˜ç‰ˆæœ¬åˆ¤æ–­ï¼Œæ˜¯å¦éœ€è¦åŸç”Ÿå¾®ä¿¡æ”¯ä»˜æˆ–è€…æ˜¯è·³è½¬å°ç¨‹åºæ”¯ä»˜ï¼›</li>\n</ul>\n<p>é‚£ä¹ˆå¤§è‡´æµç¨‹å›¾å¦‚ä¸‹ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/wechat_pay.png\" alt=\"æ•ˆæœ\"></p>\n<h2 id=\"ç»†èŠ‚\"><a href=\"#ç»†èŠ‚\" class=\"headerlink\" title=\"ç»†èŠ‚\"></a>ç»†èŠ‚</h2><p>ä¸è¿‡åˆšå¼€å§‹æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆ<code>vue</code>å¦‚ä½•è·³è½¬å°ç¨‹åºå‘¢ï¼Ÿ</p>\n<p>çœ‹äº†çœ‹å¾®ä¿¡å®˜æ–¹çš„å¼€å‘æ–‡æ¡£, ç›´æ¥çœ‹åˆ°äº†<code>å¼€æ”¾æ ‡ç­¾</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;wx-open-launch-weapp</span><br><span class=\"line\">  id=<span class=\"string\">&quot;launch-btn&quot;</span></span><br><span class=\"line\">  appid=<span class=\"string\">&quot;wx12345678&quot;</span></span><br><span class=\"line\">  path=<span class=\"string\">&quot;pages/home/index?user=123&amp;action=abc&quot;</span></span><br><span class=\"line\">&gt;</span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/wxtag-template&quot;</span>&gt;</span><span class=\"language-handlebars\"><span class=\"language-xml\"></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"><span class=\"selector-class\">.btn</span> &#123; <span class=\"attribute\">padding</span>: <span class=\"number\">12px</span> &#125;</span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn&quot;</span>&gt;</span>æ‰“å¼€å°ç¨‹åº<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">  </span></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\">&lt;/wx-open-launch-weapp&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"keyword\">var</span> btn = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;launch-btn&#x27;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  btn.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;launch&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;success&#x27;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  btn.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;error&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;fail&#x27;</span>, e.<span class=\"property\">detail</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>ä¸è¿‡ä½¿ç”¨è¯¥å¼€æ”¾æ ‡ç­¾ï¼Œé¦–å…ˆéœ€è¦è®¾ç½®å¯¹åº”çš„<code>wx.config</code>, å°†å¯¹åº”çš„<code>å¼€æ”¾æ ‡ç­¾é…ç½®å¥½</code>ï¼Œ æ ¼å¼å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wx.<span class=\"title function_\">config</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">debug</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// å¼€å¯è°ƒè¯•æ¨¡å¼,è°ƒç”¨çš„æ‰€æœ‰apiçš„è¿”å›å€¼ä¼šåœ¨å®¢æˆ·ç«¯alertå‡ºæ¥ï¼Œè‹¥è¦æŸ¥çœ‹ä¼ å…¥çš„å‚æ•°ï¼Œå¯ä»¥åœ¨pcç«¯æ‰“å¼€ï¼Œå‚æ•°ä¿¡æ¯ä¼šé€šè¿‡logæ‰“å‡ºï¼Œä»…åœ¨pcç«¯æ—¶æ‰ä¼šæ‰“å°</span></span><br><span class=\"line\">  <span class=\"attr\">appId</span>: <span class=\"string\">&#x27;&#x27;</span>, <span class=\"comment\">// å¿…å¡«ï¼Œå…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†</span></span><br><span class=\"line\">  <span class=\"attr\">timestamp</span>: , <span class=\"comment\">// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„æ—¶é—´æˆ³</span></span><br><span class=\"line\">  <span class=\"attr\">nonceStr</span>: <span class=\"string\">&#x27;&#x27;</span>, <span class=\"comment\">// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„éšæœºä¸²</span></span><br><span class=\"line\">  <span class=\"attr\">signature</span>: <span class=\"string\">&#x27;&#x27;</span>,<span class=\"comment\">// å¿…å¡«ï¼Œç­¾å</span></span><br><span class=\"line\">  <span class=\"attr\">jsApiList</span>: [], <span class=\"comment\">// å¿…å¡«ï¼Œéœ€è¦ä½¿ç”¨çš„JSæ¥å£åˆ—è¡¨</span></span><br><span class=\"line\">  <span class=\"attr\">openTagList</span>: [] <span class=\"comment\">// å¯é€‰ï¼Œéœ€è¦ä½¿ç”¨çš„å¼€æ”¾æ ‡ç­¾åˆ—è¡¨ï¼Œä¾‹å¦‚[&#x27;wx-open-launch-app&#x27;]</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">wx.<span class=\"title function_\">ready</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// configä¿¡æ¯éªŒè¯åä¼šæ‰§è¡Œreadyæ–¹æ³•ï¼Œæ‰€æœ‰æ¥å£è°ƒç”¨éƒ½å¿…é¡»åœ¨configæ¥å£è·å¾—ç»“æœä¹‹åï¼Œconfigæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯çš„å¼‚æ­¥æ“ä½œï¼Œæ‰€ä»¥å¦‚æœéœ€è¦åœ¨é¡µé¢åŠ è½½æ—¶å°±è°ƒç”¨ç›¸å…³æ¥å£ï¼Œåˆ™é¡»æŠŠç›¸å…³æ¥å£æ”¾åœ¨readyå‡½æ•°ä¸­è°ƒç”¨æ¥ç¡®ä¿æ­£ç¡®æ‰§è¡Œã€‚å¯¹äºç”¨æˆ·è§¦å‘æ—¶æ‰è°ƒç”¨çš„æ¥å£ï¼Œåˆ™å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦æ”¾åœ¨readyå‡½æ•°ä¸­</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">wx.<span class=\"title function_\">error</span>(<span class=\"keyword\">function</span> (<span class=\"params\">res</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// configä¿¡æ¯éªŒè¯å¤±è´¥ä¼šæ‰§è¡Œerrorå‡½æ•°ï¼Œå¦‚ç­¾åè¿‡æœŸå¯¼è‡´éªŒè¯å¤±è´¥ï¼Œå…·ä½“é”™è¯¯ä¿¡æ¯å¯ä»¥æ‰“å¼€configçš„debugæ¨¡å¼æŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥åœ¨è¿”å›çš„reså‚æ•°ä¸­æŸ¥çœ‹ï¼Œå¯¹äºSPAå¯ä»¥åœ¨è¿™é‡Œæ›´æ–°ç­¾å</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>ä¸è¿‡è¦è¯´æ˜ä¸€ç‚¹ï¼Œå°±æ˜¯åªæœ‰<code>config:ok</code>çš„æ—¶å€™æ‰ä¼šæ¸²æŸ“å¯¹åº”çš„æŒ‰é’®å»æ‰“å¼€å°ç¨‹åºï¼›è¿™é‡Œéœ€è¦ä¸€äº›å…¼å®¹é—®é¢˜ï¼›ä½†æ˜¯å¾ˆå‘çš„åœ°æ–¹å°±æ˜¯<code>text/wxtag-template</code>æ ·å¼åªèƒ½å†™åœ¨è¿™ä¸ªé‡Œé¢ï¼Œä¸èƒ½å†™åœ¨é¡µé¢ä¸­<code>style</code>ä¸­ï¼›ä¸‹é¢æ˜¯é¡¹ç›®ä¸­ç”¨åˆ°çš„éƒ¨åˆ†ä»£ç ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;position: relative;&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">wx-open-launch-weapp</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t<span class=\"attr\">id</span>=<span class=\"string\">&quot;launch-btn&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t<span class=\"attr\">style</span>=<span class=\"string\">&quot;position: absolute; top: 1.6rem;left:0px;right: 0px;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t<span class=\"attr\">:username</span>=<span class=\"string\">&quot;username&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t<span class=\"attr\">:env-version</span>=<span class=\"string\">&quot;wxMpEnvVersion&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t<span class=\"attr\">:path</span>=<span class=\"string\">&quot;jumpWxMpPath&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">is</span>=<span class=\"string\">&quot;script&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/wxtag-template&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;display: block;&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">is</span>=<span class=\"string\">&quot;style&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t.pay-button &#123;position: relative;display: inline-block;boxSizing:</span><br><span class=\"line\">\t\t\t\tborder-box;background-color: #07c160;color: #fff;height: 44px;outline:</span><br><span class=\"line\">\t\t\t\tnone;border: 1px solid #07c160;border-radius:</span><br><span class=\"line\">\t\t\t\t4px;width:100%;font-size:14px;&#125;</span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;pay-button&quot;</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;handlerToPay(&#x27;applet&#x27;)&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t\t\tç«‹å³æ”¯ä»˜</span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">wx-open-launch-weapp</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>çœä¸‹çš„å°±äº¤ç»™æ¥å£ï¼Œæ‹¿åˆ°å¯¹åº”çš„ç‰ˆæœ¬ï¼Œ<code>V1, V2, V3</code>ç­‰ç­‰ï¼›æ ¹æ®ä¸åŒçš„åœºæ™¯ä½¿ç”¨ï¼Œ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å¾®ä¿¡åŸç”Ÿ,è¿™é‡Œæ¢æˆè‡ªå·±å¯¹åº”çš„å‚æ•°</span></span><br><span class=\"line\"><span class=\"title function_\">wxJsBridge</span>(&#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;appId&#x27;</span>: wxJsBridgeJson.<span class=\"property\">appId</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;timeStamp&#x27;</span>: wxJsBridgeJson.<span class=\"property\">timeStamp</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;nonceStr&#x27;</span>: wxJsBridgeJson.<span class=\"property\">nonceStr</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;package&#x27;</span>: wxJsBridgeJson.<span class=\"property\">package</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;signType&#x27;</span>: wxJsBridgeJson.<span class=\"property\">signType</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;paySign&#x27;</span>: wxJsBridgeJson.<span class=\"property\">sign</span></span><br><span class=\"line\">&#125;, <span class=\"function\">() =&gt;</span> &#123;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/// è¿™é‡Œå¤„ç†äº†å…¼å®¹çš„queryï¼Œåç«¯è§£æé—®é¢˜å¼‚å¸¸æ‰€ä»¥æ‰è¦è¿™ä¹ˆå¤„ç†</span></span><br><span class=\"line\"><span class=\"title function_\">getUrlQuery</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; param = <span class=\"string\">&#x27;&#x27;</span> &#125; = <span class=\"variable language_\">this</span>.<span class=\"property\">$route</span>.<span class=\"property\">query</span> || &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> hasParam = <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$route</span>.<span class=\"property\">query</span>).<span class=\"title function_\">includes</span>(<span class=\"string\">&#x27;param&#x27;</span>)</span><br><span class=\"line\">    <span class=\"comment\">// å…¼å®¹ä¸åŒurl, æ™®é€šçš„query, ç‰¹æ®Šçš„urlå¦‚ä¸Šé“¾æ¥;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> hasParam ? <span class=\"title function_\">handlerQueryParams</span>(param) : <span class=\"variable language_\">this</span>.<span class=\"property\">$route</span>.<span class=\"property\">query</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è¿™æ˜¯åç«¯ç»™çš„é“¾æ¥</span></span><br><span class=\"line\"><span class=\"comment\">// http://xxx.com/payPage?param=businessType:9;payId:1668909350495006721;totalAmt:100000</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">handlerQueryParams</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> splitArr = url.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;;&quot;</span>).<span class=\"title function_\">filter</span>(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> item !== <span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> query = &#123;&#125;;</span><br><span class=\"line\">  splitArr.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> hasSq = item.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;:&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (hasSq !== -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> key = item.<span class=\"title function_\">substr</span>(<span class=\"number\">0</span>, hasSq);</span><br><span class=\"line\">      <span class=\"keyword\">let</span> val = item.<span class=\"title function_\">substr</span>(hasSq + <span class=\"number\">1</span>, item.<span class=\"property\">length</span> - <span class=\"number\">1</span>);</span><br><span class=\"line\">      query[key] = val;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> query;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>å¯¹äºä¸åŒæ”¯ä»˜çš„ç‰ˆæœ¬ï¼Œå½“ç„¶ä¹Ÿä¼šæœ‰ä¸åŒçš„æŒ‰é’®ï¼Œä¾‹å¦‚<code>v1</code>ç‰ˆæœ¬çš„æ˜¯åŸç”Ÿæ”¯ä»˜ï¼Œ<code>v2</code>çš„æ˜¯å¼€æ”¾æ ‡ç­¾ï¼Œé‚£ä¹ˆå°±éœ€è¦å¯¹åº”çš„åˆ¤æ–­äº†ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// éœ€è¦è·³è½¬å°ç¨‹åºæ”¯ä»˜çš„</span></span><br><span class=\"line\"><span class=\"title function_\">isPayWeapp</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"string\">&#x27;V2&#x27;</span>, <span class=\"string\">&#x27;V3&#x27;</span>].<span class=\"title function_\">includes</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">version</span>)</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// éœ€è¦åŸç”Ÿå¾®ä¿¡æ”¯ä»˜çš„</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœæ¥å£æŠ¥é”™ æˆ–è€…å…¶ä»–æƒ…å†µé»˜è®¤æ”¯æŒå¾®ä¿¡åŸç”Ÿæ”¯ä»˜</span></span><br><span class=\"line\"><span class=\"title function_\">isPayWx</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"string\">&#x27;V1&#x27;</span>].<span class=\"title function_\">includes</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">version</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¯¹äºå°ç¨‹åºé‚£è¾¹çš„å¤„ç†ï¼Œä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯è·å–åˆ°å¯¹åº”çš„ query å‚æ•°ï¼Œæ ¹æ®ç‰ˆæœ¬è¿›è¡ŒåŠ è§£å¯†ï¼Œè·å–å¯¹åº”çš„æ”¯ä»˜è®¡ç®—ç­‰ç­‰ï¼›</p>\n<p>å› ä¸ºæ¶‰åŠç›¸å…³çš„ç¬¬ä¸‰æ–¹å°±ä¸ä»‹ç»é‚£ä¹ˆå¤šäº†ï¼›</p>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>æœ€è¿‘ä¸Šçº¿äº†ä¸€ä¸ªæ–°çš„éœ€æ±‚ï¼Œå°±æ˜¯æ”¯ä»˜ç‰ˆæœ¬çš„å‡çº§ï¼›ä½•ä¸ºå‡çº§ï¼Ÿé‚£å°±æ˜¯åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šæ‰©å±•æ·»åŠ äº†ä¸åŒç‰ˆæœ¬çš„æ”¯ä»˜åŠŸèƒ½ï¼›æ—¢ä¿æŒäº†åŸæœ‰æ­£å¸¸çš„åŠŸèƒ½ï¼Œåˆæ‰©å±•äº†ä¸€äº›ç¬¬ä¸‰æ–¹çš„æ”¯ä»˜ç‰ˆæœ¬ï¼›</p>\n<p>å…ˆè¯´è¯´ï¼Œä¸ºä»€ä¹ˆè¦å‡çº§ï¼ŒåŸæœ‰çš„ç‰ˆæœ¬ä¼šæœ‰ä»€ä¹ˆå¼Šç«¯ï¼Œå‡çº§ä¹‹åæ”¯æŒäº†å“ªäº›æˆ–è€…æ‰©å±•äº†å“ªäº›ï¼Ÿ</p>\n<p>èµ·åˆçš„æ”¯ä»˜ï¼Œæ˜¯é€šè¿‡åç«¯è·å–åˆ°å¯¹åº”çš„å‚æ•°ï¼Œç„¶åè¿›è¡Œ<code>api</code>å”¤èµ·æ”¯ä»˜é¢æ¿è¿›è¡Œæ”¯ä»˜ï¼Œä¸è¿‡è¿™æ ·æœ‰ä¸€ä¸ªå¼Šç«¯å°±æ˜¯å¾®ä¿¡æ”¯ä»˜ä¼šæœ‰é™åˆ¶é¢åº¦çš„è¯´æ³•ï¼Œå¦‚æœæ”¯ä»˜é‡‘é¢è¿‡å¤§ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šæ”¯ä»˜ä¸äº†ï¼›</p>\n<p>å¹´å‰ä¸Šçº¿äº†<code>å•†å®¶å•†æˆ·ç«¯</code>å°ç¨‹åºï¼Œåˆèµ¶ä¸Šæ”¯ä»˜ç‰ˆæœ¬çš„å‡çº§ï¼Œæ¥ç€ä¿©è€…å°±ç»“åˆåœ¨ä¸€èµ·äº†ï¼›æœ¬æ¥æ‹¿åˆ°è¯¥éœ€æ±‚å¾ˆå¿«å°±è¯¥ä¸Šæ‰‹å¼€å‘çš„ï¼Œä½†æ˜¯ç”±äºå…¶ä»–éœ€æ±‚ç‰ˆæœ¬ï¼Œå¼€å§‹æ—¶é—´å»¶è¿Ÿäº†ï¼›æ‰€ä»¥åˆ°åé¢çš„å¼€å‘æ—¶é—´ä¹Ÿå°±å‹ç¼©äº†ï¼Œä¸€å‘¨çš„å¼€å‘æ—¶é—´ï¼Œåˆ°å‘¨äº”ä¸Šçº¿çš„ï¼›</p>\n<p>é‚£ä¹ˆç ”ç©¶äº†ä¸€ä¸‹è¿™ä¸ªæµç¨‹ï¼Œå…¶å®ä¹Ÿæ²¡ä»€ä¹ˆéš¾åº¦ï¼Œå°±æ˜¯ä¸€äº›ç»†èŠ‚æ˜¯æ¯”è¾ƒå¤šçš„ï¼›å¯¹äºå‚æ•°çš„åŠ è§£å¯†ï¼Œæ•°æ®çš„åŠ è§£å¯†ç­‰ç­‰æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼›</p>\n<p>å…¶ä¸­ç¬¬ä¸‰æ–¹æ¥å£ä¼šæœ‰åŠ è§£å¯†çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸ªåŠ è§£å¯†æœ€åä¸¢ç»™äº†åç«¯ï¼Œç›´æ¥æ‹¿æ¥å£è·å–ï¼ŒåŠ è§£å¯†æ”¾åœ¨å‰ç«¯çš„è¯ç»†èŠ‚å¤ªå¤šï¼Œæœ‰ç‚¹æµªè´¹æ—¶é—´äº†ï¼›</p>\n<h2 id=\"æ€è·¯\"><a href=\"#æ€è·¯\" class=\"headerlink\" title=\"æ€è·¯\"></a>æ€è·¯</h2><p>æ¥ä¸‹æ¥å¤§è‡´è¯´ä¸‹å®ç°çš„æ€è·¯ï¼š</p>\n<ul>\n<li><code>vue</code>å¼€å‘ä¸€ä¸ª<code>H5</code>ä¸­è½¬é¡µé¢ï¼Œè€Œè¿™ä¸ªé¡µé¢ä¹Ÿä¼šæ˜¯ä¹‹åæ‰€æœ‰æ”¯ä»˜çš„é¡µé¢ï¼ŒåŒ…æ‹¬æ‰«ç æ”¯ä»˜ï¼Œä¸‹å•æ”¯ä»˜ç­‰ç­‰ï¼›</li>\n<li>ä¸­è½¬é¡µé¢å…¼å®¹å‚æ•°ï¼Œæ•°æ®å…¼å®¹ï¼Œ<code>query</code> å‚æ•°å…¼å®¹ï¼›å› ä¸ºåœ¨åå°åœ¨ç”Ÿæˆé“¾æ¥æ¸²æŸ“åœ¨å‰ç«¯é¡µé¢ä¸Šï¼Œæ‰‹æœºæ‰«ç å»æ”¯ä»˜ä¼šæœ‰<code>url</code>å‚æ•°è§£æå¼‚å¸¸çš„é—®é¢˜ï¼Œé’ˆå¯¹è¯¥é—®é¢˜è¿›è¡Œä¼˜åŒ–å…¼å®¹ï¼›</li>\n<li>å¯¹äºé¢„æ”¯ä»˜è¿”å›çš„æ”¯ä»˜å‚æ•°æ˜¯ä¸ç»Ÿä¸€çš„ï¼Œé‚£å°±åªèƒ½å­˜åœ¨ç¼“å­˜æˆ–è€… <code>query</code> å‚æ•°ï¼Œå¯¹è¯¥å¯¹åº”çš„å­—æ®µè¿›è¡ŒåŠ å¯†ï¼›</li>\n<li>æ ¹æ®åå°é…ç½®çš„å•†å®¶æ”¯ä»˜ç‰ˆæœ¬åˆ¤æ–­ï¼Œæ˜¯å¦éœ€è¦åŸç”Ÿå¾®ä¿¡æ”¯ä»˜æˆ–è€…æ˜¯è·³è½¬å°ç¨‹åºæ”¯ä»˜ï¼›</li>\n</ul>\n<p>é‚£ä¹ˆå¤§è‡´æµç¨‹å›¾å¦‚ä¸‹ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/wechat_pay.png\" alt=\"æ•ˆæœ\"></p>\n<h2 id=\"ç»†èŠ‚\"><a href=\"#ç»†èŠ‚\" class=\"headerlink\" title=\"ç»†èŠ‚\"></a>ç»†èŠ‚</h2><p>ä¸è¿‡åˆšå¼€å§‹æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆ<code>vue</code>å¦‚ä½•è·³è½¬å°ç¨‹åºå‘¢ï¼Ÿ</p>\n<p>çœ‹äº†çœ‹å¾®ä¿¡å®˜æ–¹çš„å¼€å‘æ–‡æ¡£, ç›´æ¥çœ‹åˆ°äº†<code>å¼€æ”¾æ ‡ç­¾</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;wx-open-launch-weapp</span><br><span class=\"line\">  id=<span class=\"string\">&quot;launch-btn&quot;</span></span><br><span class=\"line\">  appid=<span class=\"string\">&quot;wx12345678&quot;</span></span><br><span class=\"line\">  path=<span class=\"string\">&quot;pages/home/index?user=123&amp;action=abc&quot;</span></span><br><span class=\"line\">&gt;</span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/wxtag-template&quot;</span>&gt;</span><span class=\"language-handlebars\"><span class=\"language-xml\"></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"><span class=\"selector-class\">.btn</span> &#123; <span class=\"attribute\">padding</span>: <span class=\"number\">12px</span> &#125;</span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn&quot;</span>&gt;</span>æ‰“å¼€å°ç¨‹åº<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">  </span></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\">&lt;/wx-open-launch-weapp&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"keyword\">var</span> btn = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;launch-btn&#x27;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  btn.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;launch&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;success&#x27;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  btn.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;error&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;fail&#x27;</span>, e.<span class=\"property\">detail</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>ä¸è¿‡ä½¿ç”¨è¯¥å¼€æ”¾æ ‡ç­¾ï¼Œé¦–å…ˆéœ€è¦è®¾ç½®å¯¹åº”çš„<code>wx.config</code>, å°†å¯¹åº”çš„<code>å¼€æ”¾æ ‡ç­¾é…ç½®å¥½</code>ï¼Œ æ ¼å¼å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wx.<span class=\"title function_\">config</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">debug</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// å¼€å¯è°ƒè¯•æ¨¡å¼,è°ƒç”¨çš„æ‰€æœ‰apiçš„è¿”å›å€¼ä¼šåœ¨å®¢æˆ·ç«¯alertå‡ºæ¥ï¼Œè‹¥è¦æŸ¥çœ‹ä¼ å…¥çš„å‚æ•°ï¼Œå¯ä»¥åœ¨pcç«¯æ‰“å¼€ï¼Œå‚æ•°ä¿¡æ¯ä¼šé€šè¿‡logæ‰“å‡ºï¼Œä»…åœ¨pcç«¯æ—¶æ‰ä¼šæ‰“å°</span></span><br><span class=\"line\">  <span class=\"attr\">appId</span>: <span class=\"string\">&#x27;&#x27;</span>, <span class=\"comment\">// å¿…å¡«ï¼Œå…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†</span></span><br><span class=\"line\">  <span class=\"attr\">timestamp</span>: , <span class=\"comment\">// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„æ—¶é—´æˆ³</span></span><br><span class=\"line\">  <span class=\"attr\">nonceStr</span>: <span class=\"string\">&#x27;&#x27;</span>, <span class=\"comment\">// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„éšæœºä¸²</span></span><br><span class=\"line\">  <span class=\"attr\">signature</span>: <span class=\"string\">&#x27;&#x27;</span>,<span class=\"comment\">// å¿…å¡«ï¼Œç­¾å</span></span><br><span class=\"line\">  <span class=\"attr\">jsApiList</span>: [], <span class=\"comment\">// å¿…å¡«ï¼Œéœ€è¦ä½¿ç”¨çš„JSæ¥å£åˆ—è¡¨</span></span><br><span class=\"line\">  <span class=\"attr\">openTagList</span>: [] <span class=\"comment\">// å¯é€‰ï¼Œéœ€è¦ä½¿ç”¨çš„å¼€æ”¾æ ‡ç­¾åˆ—è¡¨ï¼Œä¾‹å¦‚[&#x27;wx-open-launch-app&#x27;]</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">wx.<span class=\"title function_\">ready</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// configä¿¡æ¯éªŒè¯åä¼šæ‰§è¡Œreadyæ–¹æ³•ï¼Œæ‰€æœ‰æ¥å£è°ƒç”¨éƒ½å¿…é¡»åœ¨configæ¥å£è·å¾—ç»“æœä¹‹åï¼Œconfigæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯çš„å¼‚æ­¥æ“ä½œï¼Œæ‰€ä»¥å¦‚æœéœ€è¦åœ¨é¡µé¢åŠ è½½æ—¶å°±è°ƒç”¨ç›¸å…³æ¥å£ï¼Œåˆ™é¡»æŠŠç›¸å…³æ¥å£æ”¾åœ¨readyå‡½æ•°ä¸­è°ƒç”¨æ¥ç¡®ä¿æ­£ç¡®æ‰§è¡Œã€‚å¯¹äºç”¨æˆ·è§¦å‘æ—¶æ‰è°ƒç”¨çš„æ¥å£ï¼Œåˆ™å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦æ”¾åœ¨readyå‡½æ•°ä¸­</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">wx.<span class=\"title function_\">error</span>(<span class=\"keyword\">function</span> (<span class=\"params\">res</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// configä¿¡æ¯éªŒè¯å¤±è´¥ä¼šæ‰§è¡Œerrorå‡½æ•°ï¼Œå¦‚ç­¾åè¿‡æœŸå¯¼è‡´éªŒè¯å¤±è´¥ï¼Œå…·ä½“é”™è¯¯ä¿¡æ¯å¯ä»¥æ‰“å¼€configçš„debugæ¨¡å¼æŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥åœ¨è¿”å›çš„reså‚æ•°ä¸­æŸ¥çœ‹ï¼Œå¯¹äºSPAå¯ä»¥åœ¨è¿™é‡Œæ›´æ–°ç­¾å</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>ä¸è¿‡è¦è¯´æ˜ä¸€ç‚¹ï¼Œå°±æ˜¯åªæœ‰<code>config:ok</code>çš„æ—¶å€™æ‰ä¼šæ¸²æŸ“å¯¹åº”çš„æŒ‰é’®å»æ‰“å¼€å°ç¨‹åºï¼›è¿™é‡Œéœ€è¦ä¸€äº›å…¼å®¹é—®é¢˜ï¼›ä½†æ˜¯å¾ˆå‘çš„åœ°æ–¹å°±æ˜¯<code>text/wxtag-template</code>æ ·å¼åªèƒ½å†™åœ¨è¿™ä¸ªé‡Œé¢ï¼Œä¸èƒ½å†™åœ¨é¡µé¢ä¸­<code>style</code>ä¸­ï¼›ä¸‹é¢æ˜¯é¡¹ç›®ä¸­ç”¨åˆ°çš„éƒ¨åˆ†ä»£ç ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;position: relative;&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">wx-open-launch-weapp</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t<span class=\"attr\">id</span>=<span class=\"string\">&quot;launch-btn&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t<span class=\"attr\">style</span>=<span class=\"string\">&quot;position: absolute; top: 1.6rem;left:0px;right: 0px;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t<span class=\"attr\">:username</span>=<span class=\"string\">&quot;username&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t<span class=\"attr\">:env-version</span>=<span class=\"string\">&quot;wxMpEnvVersion&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t<span class=\"attr\">:path</span>=<span class=\"string\">&quot;jumpWxMpPath&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">is</span>=<span class=\"string\">&quot;script&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/wxtag-template&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;display: block;&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">is</span>=<span class=\"string\">&quot;style&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t\t\t.pay-button &#123;position: relative;display: inline-block;boxSizing:</span><br><span class=\"line\">\t\t\t\tborder-box;background-color: #07c160;color: #fff;height: 44px;outline:</span><br><span class=\"line\">\t\t\t\tnone;border: 1px solid #07c160;border-radius:</span><br><span class=\"line\">\t\t\t\t4px;width:100%;font-size:14px;&#125;</span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;pay-button&quot;</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;handlerToPay(&#x27;applet&#x27;)&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t\t\tç«‹å³æ”¯ä»˜</span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">wx-open-launch-weapp</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>çœä¸‹çš„å°±äº¤ç»™æ¥å£ï¼Œæ‹¿åˆ°å¯¹åº”çš„ç‰ˆæœ¬ï¼Œ<code>V1, V2, V3</code>ç­‰ç­‰ï¼›æ ¹æ®ä¸åŒçš„åœºæ™¯ä½¿ç”¨ï¼Œ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å¾®ä¿¡åŸç”Ÿ,è¿™é‡Œæ¢æˆè‡ªå·±å¯¹åº”çš„å‚æ•°</span></span><br><span class=\"line\"><span class=\"title function_\">wxJsBridge</span>(&#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;appId&#x27;</span>: wxJsBridgeJson.<span class=\"property\">appId</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;timeStamp&#x27;</span>: wxJsBridgeJson.<span class=\"property\">timeStamp</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;nonceStr&#x27;</span>: wxJsBridgeJson.<span class=\"property\">nonceStr</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;package&#x27;</span>: wxJsBridgeJson.<span class=\"property\">package</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;signType&#x27;</span>: wxJsBridgeJson.<span class=\"property\">signType</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;paySign&#x27;</span>: wxJsBridgeJson.<span class=\"property\">sign</span></span><br><span class=\"line\">&#125;, <span class=\"function\">() =&gt;</span> &#123;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/// è¿™é‡Œå¤„ç†äº†å…¼å®¹çš„queryï¼Œåç«¯è§£æé—®é¢˜å¼‚å¸¸æ‰€ä»¥æ‰è¦è¿™ä¹ˆå¤„ç†</span></span><br><span class=\"line\"><span class=\"title function_\">getUrlQuery</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; param = <span class=\"string\">&#x27;&#x27;</span> &#125; = <span class=\"variable language_\">this</span>.<span class=\"property\">$route</span>.<span class=\"property\">query</span> || &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> hasParam = <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$route</span>.<span class=\"property\">query</span>).<span class=\"title function_\">includes</span>(<span class=\"string\">&#x27;param&#x27;</span>)</span><br><span class=\"line\">    <span class=\"comment\">// å…¼å®¹ä¸åŒurl, æ™®é€šçš„query, ç‰¹æ®Šçš„urlå¦‚ä¸Šé“¾æ¥;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> hasParam ? <span class=\"title function_\">handlerQueryParams</span>(param) : <span class=\"variable language_\">this</span>.<span class=\"property\">$route</span>.<span class=\"property\">query</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è¿™æ˜¯åç«¯ç»™çš„é“¾æ¥</span></span><br><span class=\"line\"><span class=\"comment\">// http://xxx.com/payPage?param=businessType:9;payId:1668909350495006721;totalAmt:100000</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">handlerQueryParams</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> splitArr = url.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;;&quot;</span>).<span class=\"title function_\">filter</span>(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> item !== <span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> query = &#123;&#125;;</span><br><span class=\"line\">  splitArr.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> hasSq = item.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;:&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (hasSq !== -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> key = item.<span class=\"title function_\">substr</span>(<span class=\"number\">0</span>, hasSq);</span><br><span class=\"line\">      <span class=\"keyword\">let</span> val = item.<span class=\"title function_\">substr</span>(hasSq + <span class=\"number\">1</span>, item.<span class=\"property\">length</span> - <span class=\"number\">1</span>);</span><br><span class=\"line\">      query[key] = val;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> query;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>å¯¹äºä¸åŒæ”¯ä»˜çš„ç‰ˆæœ¬ï¼Œå½“ç„¶ä¹Ÿä¼šæœ‰ä¸åŒçš„æŒ‰é’®ï¼Œä¾‹å¦‚<code>v1</code>ç‰ˆæœ¬çš„æ˜¯åŸç”Ÿæ”¯ä»˜ï¼Œ<code>v2</code>çš„æ˜¯å¼€æ”¾æ ‡ç­¾ï¼Œé‚£ä¹ˆå°±éœ€è¦å¯¹åº”çš„åˆ¤æ–­äº†ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// éœ€è¦è·³è½¬å°ç¨‹åºæ”¯ä»˜çš„</span></span><br><span class=\"line\"><span class=\"title function_\">isPayWeapp</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"string\">&#x27;V2&#x27;</span>, <span class=\"string\">&#x27;V3&#x27;</span>].<span class=\"title function_\">includes</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">version</span>)</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// éœ€è¦åŸç”Ÿå¾®ä¿¡æ”¯ä»˜çš„</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœæ¥å£æŠ¥é”™ æˆ–è€…å…¶ä»–æƒ…å†µé»˜è®¤æ”¯æŒå¾®ä¿¡åŸç”Ÿæ”¯ä»˜</span></span><br><span class=\"line\"><span class=\"title function_\">isPayWx</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"string\">&#x27;V1&#x27;</span>].<span class=\"title function_\">includes</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">version</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¯¹äºå°ç¨‹åºé‚£è¾¹çš„å¤„ç†ï¼Œä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯è·å–åˆ°å¯¹åº”çš„ query å‚æ•°ï¼Œæ ¹æ®ç‰ˆæœ¬è¿›è¡ŒåŠ è§£å¯†ï¼Œè·å–å¯¹åº”çš„æ”¯ä»˜è®¡ç®—ç­‰ç­‰ï¼›</p>\n<p>å› ä¸ºæ¶‰åŠç›¸å…³çš„ç¬¬ä¸‰æ–¹å°±ä¸ä»‹ç»é‚£ä¹ˆå¤šäº†ï¼›</p>\n"},{"title":"å·¥ä½œå†…å®¹-ç§»åŠ¨ç«¯è¿”å›è§¦å‘ä¿©æ¬¡","abbrlink":"defca8ec","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\n\nå‰ç«¯æ—¶é—´ç§»åŠ¨ APP ä¸ h5 çš„ä¸€ä¸ªæ··åˆå¼å¼€å‘é¡¹ç›®ä¸­ï¼Œé‡åˆ°äº†ä¸€ä¸ªæ¯”è¾ƒæç¬‘çš„ bugï¼›åˆšå¼€å§‹æœ‰ç‚¹çº³é—·ï¼Œåæ¥é™ä¸‹å¿ƒæ¥æ‰è§‰å¾—è¿™ä¸ªé—®é¢˜æœ‰ç‚¹å¯ç¬‘ï¼›\nh5 çš„é¡¹ç›®é‡‡ç”¨çš„ vue3 + vant3 å¼€å‘çš„ï¼Œh5 é¡µé¢çš„é¡¶éƒ¨`tabBar`ç»“æ„ä¸ºå·¦ä¸­å³ï¼Œæ˜¯å¯¹ vant çš„äºŒæ¬¡å°è£…ï¼›\n\n\n## å¤ç›˜\n\n### **æ˜¯ä¸€ä¸ªæ€æ ·çš„é—®é¢˜ï¼Ÿ**\n\nåœ¨å¼€å‘é¡¹ç›®ä¸­ï¼Œå› ä¸ºæ˜¯æ··åˆå¼å¼€å‘ï¼Œ h5 ä¼šè°ƒç”¨åŸç”Ÿ app çš„ä¸€äº›æ–¹æ³•ï¼Œä¾‹å¦‚æ–‡ä»¶ä¸Šä¼ ï¼Œè¿”å›ä¸Šçº§é¡µé¢ï¼Œè·³è½¬ app é¡µé¢ç­‰ç­‰ï¼›\n\nä¸€çº§é¡µé¢ä¸º h5 é¡µé¢, äºŒçº§é¡µé¢ä¹Ÿæ˜¯ h5 é¡µé¢ï¼Œåœ¨äºŒçº§é¡µé¢è¿”å›ç›´æ¥è·³å‡ºï¼Œç›´æ¥åˆ°äº† app åŸç”Ÿé¡µé¢é¦–é¡µï¼›æŒ‰ç†è¯´è¿™åº”è¯¥è¿”å›çš„æ˜¯ä¸€çº§ h5 çš„é¡µé¢ï¼›\n\n### **æµè§ˆå™¨æ‰“å¼€ h5 ä¸€çº§é¡µé¢æ¨¡æ‹Ÿ bug å¤ç°**\n\né‡‡ç”¨`vue-router`ä¸­çš„`router.back()` å’Œ `router.go(page)`æ–¹æ³•ï¼Œå‡åœ¨æµè§ˆå™¨ä¸­è¿”å›çš„æ˜¯ä¸€çº§é¡µé¢ï¼›ä½†æ˜¯åœ¨`app webview`ä¸­ç›´æ¥è·³å‡ºã€‚æ‰§è¡Œäº†ä¿©æ¬¡ï¼›\n\nä½¿ç”¨è°ƒè¯•æ‰‹æ®µ. `consoleæ—¥å¿— å’Œ debugger` éƒ½ä¼šå‘ç°æ‰§è¡Œäº†ä¿©æ¬¡ï¼›\n\n### **å¯»æ‰¾é—®é¢˜æ¥æº**\n\n![æ•ˆæœå›¾](http://wangxiaoze-view.github.io/picx-images-hosting/images/vue-tabbar.svg)\n\n### **è§£å†³æ–¹æ¡ˆ**\n\nè¿™ä¸ªé—®é¢˜ç¡®å®æ˜¯ç²—å¿ƒé€ æˆçš„ï¼›ä¸è¿‡è¿™ä¸ª bug çš„è§£å†³æ–¹æ¡ˆä¹Ÿå¾ˆç®€å•ï¼Œæ—¢ç„¶çŸ¥é“äº†é—®é¢˜çš„æ¥æºï¼Œé‚£ä¹ˆå¯¹äºè§£å†³æ–¹æ¡ˆï¼Œæ— éä»¥ä¸‹ä¿©ç‚¹ï¼š\n\n- æ–¹æ¡ˆä¸€ï¼š å»æ‰å­ç»„ä»¶è‡ªå¸¦çš„ api æ–¹æ³• å’Œ å¯¼å‡ºçš„`emit`\n- æ–¹æ¡ˆäºŒï¼š é‚£å°±æ˜¯å°†`emit` çš„ name è¿›è¡Œä¿®æ”¹ï¼Œä¸è¦ä¿®æ”¹å’Œå­ç»„ä»¶ä¸€è‡´çš„`event name`ï¼› å½“ç„¶çˆ¶ç»„ä»¶çš„`event name` è¦å’Œ å­ç»„ä»¶çš„\n  `emit` ä¸­çš„`event name`ä¸€è‡´å³å¯ï¼›\n","source":"_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/ç§»åŠ¨ç«¯è¿”å›è§¦å‘ä¿©æ¬¡.md","raw":"---\ntitle: å·¥ä½œå†…å®¹-ç§»åŠ¨ç«¯è¿”å›è§¦å‘ä¿©æ¬¡\nabbrlink: defca8ec\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - å·¥ä½œå†…å®¹\n---\n\n# èƒŒæ™¯\n\n\nå‰ç«¯æ—¶é—´ç§»åŠ¨ APP ä¸ h5 çš„ä¸€ä¸ªæ··åˆå¼å¼€å‘é¡¹ç›®ä¸­ï¼Œé‡åˆ°äº†ä¸€ä¸ªæ¯”è¾ƒæç¬‘çš„ bugï¼›åˆšå¼€å§‹æœ‰ç‚¹çº³é—·ï¼Œåæ¥é™ä¸‹å¿ƒæ¥æ‰è§‰å¾—è¿™ä¸ªé—®é¢˜æœ‰ç‚¹å¯ç¬‘ï¼›\nh5 çš„é¡¹ç›®é‡‡ç”¨çš„ vue3 + vant3 å¼€å‘çš„ï¼Œh5 é¡µé¢çš„é¡¶éƒ¨`tabBar`ç»“æ„ä¸ºå·¦ä¸­å³ï¼Œæ˜¯å¯¹ vant çš„äºŒæ¬¡å°è£…ï¼›\n\n\n## å¤ç›˜\n\n### **æ˜¯ä¸€ä¸ªæ€æ ·çš„é—®é¢˜ï¼Ÿ**\n\nåœ¨å¼€å‘é¡¹ç›®ä¸­ï¼Œå› ä¸ºæ˜¯æ··åˆå¼å¼€å‘ï¼Œ h5 ä¼šè°ƒç”¨åŸç”Ÿ app çš„ä¸€äº›æ–¹æ³•ï¼Œä¾‹å¦‚æ–‡ä»¶ä¸Šä¼ ï¼Œè¿”å›ä¸Šçº§é¡µé¢ï¼Œè·³è½¬ app é¡µé¢ç­‰ç­‰ï¼›\n\nä¸€çº§é¡µé¢ä¸º h5 é¡µé¢, äºŒçº§é¡µé¢ä¹Ÿæ˜¯ h5 é¡µé¢ï¼Œåœ¨äºŒçº§é¡µé¢è¿”å›ç›´æ¥è·³å‡ºï¼Œç›´æ¥åˆ°äº† app åŸç”Ÿé¡µé¢é¦–é¡µï¼›æŒ‰ç†è¯´è¿™åº”è¯¥è¿”å›çš„æ˜¯ä¸€çº§ h5 çš„é¡µé¢ï¼›\n\n### **æµè§ˆå™¨æ‰“å¼€ h5 ä¸€çº§é¡µé¢æ¨¡æ‹Ÿ bug å¤ç°**\n\né‡‡ç”¨`vue-router`ä¸­çš„`router.back()` å’Œ `router.go(page)`æ–¹æ³•ï¼Œå‡åœ¨æµè§ˆå™¨ä¸­è¿”å›çš„æ˜¯ä¸€çº§é¡µé¢ï¼›ä½†æ˜¯åœ¨`app webview`ä¸­ç›´æ¥è·³å‡ºã€‚æ‰§è¡Œäº†ä¿©æ¬¡ï¼›\n\nä½¿ç”¨è°ƒè¯•æ‰‹æ®µ. `consoleæ—¥å¿— å’Œ debugger` éƒ½ä¼šå‘ç°æ‰§è¡Œäº†ä¿©æ¬¡ï¼›\n\n### **å¯»æ‰¾é—®é¢˜æ¥æº**\n\n![æ•ˆæœå›¾](http://wangxiaoze-view.github.io/picx-images-hosting/images/vue-tabbar.svg)\n\n### **è§£å†³æ–¹æ¡ˆ**\n\nè¿™ä¸ªé—®é¢˜ç¡®å®æ˜¯ç²—å¿ƒé€ æˆçš„ï¼›ä¸è¿‡è¿™ä¸ª bug çš„è§£å†³æ–¹æ¡ˆä¹Ÿå¾ˆç®€å•ï¼Œæ—¢ç„¶çŸ¥é“äº†é—®é¢˜çš„æ¥æºï¼Œé‚£ä¹ˆå¯¹äºè§£å†³æ–¹æ¡ˆï¼Œæ— éä»¥ä¸‹ä¿©ç‚¹ï¼š\n\n- æ–¹æ¡ˆä¸€ï¼š å»æ‰å­ç»„ä»¶è‡ªå¸¦çš„ api æ–¹æ³• å’Œ å¯¼å‡ºçš„`emit`\n- æ–¹æ¡ˆäºŒï¼š é‚£å°±æ˜¯å°†`emit` çš„ name è¿›è¡Œä¿®æ”¹ï¼Œä¸è¦ä¿®æ”¹å’Œå­ç»„ä»¶ä¸€è‡´çš„`event name`ï¼› å½“ç„¶çˆ¶ç»„ä»¶çš„`event name` è¦å’Œ å­ç»„ä»¶çš„\n  `emit` ä¸­çš„`event name`ä¸€è‡´å³å¯ï¼›\n","slug":"æ€»ç»“/é¡¹ç›®æ€»ç»“/ç§»åŠ¨ç«¯è¿”å›è§¦å‘ä¿©æ¬¡","published":1,"updated":"2025-03-13T10:16:16.765Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iv001pfg9m061h1yjm","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>å‰ç«¯æ—¶é—´ç§»åŠ¨ APP ä¸ h5 çš„ä¸€ä¸ªæ··åˆå¼å¼€å‘é¡¹ç›®ä¸­ï¼Œé‡åˆ°äº†ä¸€ä¸ªæ¯”è¾ƒæç¬‘çš„ bugï¼›åˆšå¼€å§‹æœ‰ç‚¹çº³é—·ï¼Œåæ¥é™ä¸‹å¿ƒæ¥æ‰è§‰å¾—è¿™ä¸ªé—®é¢˜æœ‰ç‚¹å¯ç¬‘ï¼›<br>h5 çš„é¡¹ç›®é‡‡ç”¨çš„ vue3 + vant3 å¼€å‘çš„ï¼Œh5 é¡µé¢çš„é¡¶éƒ¨<code>tabBar</code>ç»“æ„ä¸ºå·¦ä¸­å³ï¼Œæ˜¯å¯¹ vant çš„äºŒæ¬¡å°è£…ï¼›</p>\n<h2 id=\"å¤ç›˜\"><a href=\"#å¤ç›˜\" class=\"headerlink\" title=\"å¤ç›˜\"></a>å¤ç›˜</h2><h3 id=\"æ˜¯ä¸€ä¸ªæ€æ ·çš„é—®é¢˜ï¼Ÿ\"><a href=\"#æ˜¯ä¸€ä¸ªæ€æ ·çš„é—®é¢˜ï¼Ÿ\" class=\"headerlink\" title=\"æ˜¯ä¸€ä¸ªæ€æ ·çš„é—®é¢˜ï¼Ÿ\"></a><strong>æ˜¯ä¸€ä¸ªæ€æ ·çš„é—®é¢˜ï¼Ÿ</strong></h3><p>åœ¨å¼€å‘é¡¹ç›®ä¸­ï¼Œå› ä¸ºæ˜¯æ··åˆå¼å¼€å‘ï¼Œ h5 ä¼šè°ƒç”¨åŸç”Ÿ app çš„ä¸€äº›æ–¹æ³•ï¼Œä¾‹å¦‚æ–‡ä»¶ä¸Šä¼ ï¼Œè¿”å›ä¸Šçº§é¡µé¢ï¼Œè·³è½¬ app é¡µé¢ç­‰ç­‰ï¼›</p>\n<p>ä¸€çº§é¡µé¢ä¸º h5 é¡µé¢, äºŒçº§é¡µé¢ä¹Ÿæ˜¯ h5 é¡µé¢ï¼Œåœ¨äºŒçº§é¡µé¢è¿”å›ç›´æ¥è·³å‡ºï¼Œç›´æ¥åˆ°äº† app åŸç”Ÿé¡µé¢é¦–é¡µï¼›æŒ‰ç†è¯´è¿™åº”è¯¥è¿”å›çš„æ˜¯ä¸€çº§ h5 çš„é¡µé¢ï¼›</p>\n<h3 id=\"æµè§ˆå™¨æ‰“å¼€-h5-ä¸€çº§é¡µé¢æ¨¡æ‹Ÿ-bug-å¤ç°\"><a href=\"#æµè§ˆå™¨æ‰“å¼€-h5-ä¸€çº§é¡µé¢æ¨¡æ‹Ÿ-bug-å¤ç°\" class=\"headerlink\" title=\"æµè§ˆå™¨æ‰“å¼€ h5 ä¸€çº§é¡µé¢æ¨¡æ‹Ÿ bug å¤ç°\"></a><strong>æµè§ˆå™¨æ‰“å¼€ h5 ä¸€çº§é¡µé¢æ¨¡æ‹Ÿ bug å¤ç°</strong></h3><p>é‡‡ç”¨<code>vue-router</code>ä¸­çš„<code>router.back()</code> å’Œ <code>router.go(page)</code>æ–¹æ³•ï¼Œå‡åœ¨æµè§ˆå™¨ä¸­è¿”å›çš„æ˜¯ä¸€çº§é¡µé¢ï¼›ä½†æ˜¯åœ¨<code>app webview</code>ä¸­ç›´æ¥è·³å‡ºã€‚æ‰§è¡Œäº†ä¿©æ¬¡ï¼›</p>\n<p>ä½¿ç”¨è°ƒè¯•æ‰‹æ®µ. <code>consoleæ—¥å¿— å’Œ debugger</code> éƒ½ä¼šå‘ç°æ‰§è¡Œäº†ä¿©æ¬¡ï¼›</p>\n<h3 id=\"å¯»æ‰¾é—®é¢˜æ¥æº\"><a href=\"#å¯»æ‰¾é—®é¢˜æ¥æº\" class=\"headerlink\" title=\"å¯»æ‰¾é—®é¢˜æ¥æº\"></a><strong>å¯»æ‰¾é—®é¢˜æ¥æº</strong></h3><p><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/vue-tabbar.svg\" alt=\"æ•ˆæœå›¾\"></p>\n<h3 id=\"è§£å†³æ–¹æ¡ˆ\"><a href=\"#è§£å†³æ–¹æ¡ˆ\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a><strong>è§£å†³æ–¹æ¡ˆ</strong></h3><p>è¿™ä¸ªé—®é¢˜ç¡®å®æ˜¯ç²—å¿ƒé€ æˆçš„ï¼›ä¸è¿‡è¿™ä¸ª bug çš„è§£å†³æ–¹æ¡ˆä¹Ÿå¾ˆç®€å•ï¼Œæ—¢ç„¶çŸ¥é“äº†é—®é¢˜çš„æ¥æºï¼Œé‚£ä¹ˆå¯¹äºè§£å†³æ–¹æ¡ˆï¼Œæ— éä»¥ä¸‹ä¿©ç‚¹ï¼š</p>\n<ul>\n<li>æ–¹æ¡ˆä¸€ï¼š å»æ‰å­ç»„ä»¶è‡ªå¸¦çš„ api æ–¹æ³• å’Œ å¯¼å‡ºçš„<code>emit</code></li>\n<li>æ–¹æ¡ˆäºŒï¼š é‚£å°±æ˜¯å°†<code>emit</code> çš„ name è¿›è¡Œä¿®æ”¹ï¼Œä¸è¦ä¿®æ”¹å’Œå­ç»„ä»¶ä¸€è‡´çš„<code>event name</code>ï¼› å½“ç„¶çˆ¶ç»„ä»¶çš„<code>event name</code> è¦å’Œ å­ç»„ä»¶çš„<br><code>emit</code> ä¸­çš„<code>event name</code>ä¸€è‡´å³å¯ï¼›</li>\n</ul>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>å‰ç«¯æ—¶é—´ç§»åŠ¨ APP ä¸ h5 çš„ä¸€ä¸ªæ··åˆå¼å¼€å‘é¡¹ç›®ä¸­ï¼Œé‡åˆ°äº†ä¸€ä¸ªæ¯”è¾ƒæç¬‘çš„ bugï¼›åˆšå¼€å§‹æœ‰ç‚¹çº³é—·ï¼Œåæ¥é™ä¸‹å¿ƒæ¥æ‰è§‰å¾—è¿™ä¸ªé—®é¢˜æœ‰ç‚¹å¯ç¬‘ï¼›<br>h5 çš„é¡¹ç›®é‡‡ç”¨çš„ vue3 + vant3 å¼€å‘çš„ï¼Œh5 é¡µé¢çš„é¡¶éƒ¨<code>tabBar</code>ç»“æ„ä¸ºå·¦ä¸­å³ï¼Œæ˜¯å¯¹ vant çš„äºŒæ¬¡å°è£…ï¼›</p>\n<h2 id=\"å¤ç›˜\"><a href=\"#å¤ç›˜\" class=\"headerlink\" title=\"å¤ç›˜\"></a>å¤ç›˜</h2><h3 id=\"æ˜¯ä¸€ä¸ªæ€æ ·çš„é—®é¢˜ï¼Ÿ\"><a href=\"#æ˜¯ä¸€ä¸ªæ€æ ·çš„é—®é¢˜ï¼Ÿ\" class=\"headerlink\" title=\"æ˜¯ä¸€ä¸ªæ€æ ·çš„é—®é¢˜ï¼Ÿ\"></a><strong>æ˜¯ä¸€ä¸ªæ€æ ·çš„é—®é¢˜ï¼Ÿ</strong></h3><p>åœ¨å¼€å‘é¡¹ç›®ä¸­ï¼Œå› ä¸ºæ˜¯æ··åˆå¼å¼€å‘ï¼Œ h5 ä¼šè°ƒç”¨åŸç”Ÿ app çš„ä¸€äº›æ–¹æ³•ï¼Œä¾‹å¦‚æ–‡ä»¶ä¸Šä¼ ï¼Œè¿”å›ä¸Šçº§é¡µé¢ï¼Œè·³è½¬ app é¡µé¢ç­‰ç­‰ï¼›</p>\n<p>ä¸€çº§é¡µé¢ä¸º h5 é¡µé¢, äºŒçº§é¡µé¢ä¹Ÿæ˜¯ h5 é¡µé¢ï¼Œåœ¨äºŒçº§é¡µé¢è¿”å›ç›´æ¥è·³å‡ºï¼Œç›´æ¥åˆ°äº† app åŸç”Ÿé¡µé¢é¦–é¡µï¼›æŒ‰ç†è¯´è¿™åº”è¯¥è¿”å›çš„æ˜¯ä¸€çº§ h5 çš„é¡µé¢ï¼›</p>\n<h3 id=\"æµè§ˆå™¨æ‰“å¼€-h5-ä¸€çº§é¡µé¢æ¨¡æ‹Ÿ-bug-å¤ç°\"><a href=\"#æµè§ˆå™¨æ‰“å¼€-h5-ä¸€çº§é¡µé¢æ¨¡æ‹Ÿ-bug-å¤ç°\" class=\"headerlink\" title=\"æµè§ˆå™¨æ‰“å¼€ h5 ä¸€çº§é¡µé¢æ¨¡æ‹Ÿ bug å¤ç°\"></a><strong>æµè§ˆå™¨æ‰“å¼€ h5 ä¸€çº§é¡µé¢æ¨¡æ‹Ÿ bug å¤ç°</strong></h3><p>é‡‡ç”¨<code>vue-router</code>ä¸­çš„<code>router.back()</code> å’Œ <code>router.go(page)</code>æ–¹æ³•ï¼Œå‡åœ¨æµè§ˆå™¨ä¸­è¿”å›çš„æ˜¯ä¸€çº§é¡µé¢ï¼›ä½†æ˜¯åœ¨<code>app webview</code>ä¸­ç›´æ¥è·³å‡ºã€‚æ‰§è¡Œäº†ä¿©æ¬¡ï¼›</p>\n<p>ä½¿ç”¨è°ƒè¯•æ‰‹æ®µ. <code>consoleæ—¥å¿— å’Œ debugger</code> éƒ½ä¼šå‘ç°æ‰§è¡Œäº†ä¿©æ¬¡ï¼›</p>\n<h3 id=\"å¯»æ‰¾é—®é¢˜æ¥æº\"><a href=\"#å¯»æ‰¾é—®é¢˜æ¥æº\" class=\"headerlink\" title=\"å¯»æ‰¾é—®é¢˜æ¥æº\"></a><strong>å¯»æ‰¾é—®é¢˜æ¥æº</strong></h3><p><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/vue-tabbar.svg\" alt=\"æ•ˆæœå›¾\"></p>\n<h3 id=\"è§£å†³æ–¹æ¡ˆ\"><a href=\"#è§£å†³æ–¹æ¡ˆ\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a><strong>è§£å†³æ–¹æ¡ˆ</strong></h3><p>è¿™ä¸ªé—®é¢˜ç¡®å®æ˜¯ç²—å¿ƒé€ æˆçš„ï¼›ä¸è¿‡è¿™ä¸ª bug çš„è§£å†³æ–¹æ¡ˆä¹Ÿå¾ˆç®€å•ï¼Œæ—¢ç„¶çŸ¥é“äº†é—®é¢˜çš„æ¥æºï¼Œé‚£ä¹ˆå¯¹äºè§£å†³æ–¹æ¡ˆï¼Œæ— éä»¥ä¸‹ä¿©ç‚¹ï¼š</p>\n<ul>\n<li>æ–¹æ¡ˆä¸€ï¼š å»æ‰å­ç»„ä»¶è‡ªå¸¦çš„ api æ–¹æ³• å’Œ å¯¼å‡ºçš„<code>emit</code></li>\n<li>æ–¹æ¡ˆäºŒï¼š é‚£å°±æ˜¯å°†<code>emit</code> çš„ name è¿›è¡Œä¿®æ”¹ï¼Œä¸è¦ä¿®æ”¹å’Œå­ç»„ä»¶ä¸€è‡´çš„<code>event name</code>ï¼› å½“ç„¶çˆ¶ç»„ä»¶çš„<code>event name</code> è¦å’Œ å­ç»„ä»¶çš„<br><code>emit</code> ä¸­çš„<code>event name</code>ä¸€è‡´å³å¯ï¼›</li>\n</ul>\n"},{"title":"å·¥ä½œå†…å®¹-ç³»ç»Ÿä¸‹å•(é‡å¤å•æç¤ºæ¡†)çš„å¼‚å¸¸","abbrlink":"be214e91","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\n\né’ˆå¯¹ç³»ç»Ÿä¸­çš„ä¸€ä¸ªåŠŸèƒ½æ¨¡å—æ¥è®²ï¼Œç³»ç»Ÿä¸­æœ‰è¿™ä¹ˆä¸€ä¸ªä¸‹å•çš„åŠŸèƒ½ï¼Œä½†æ˜¯åœ¨ä¸‹å•ä¹‹å‰ä¼šæœ‰ä¸€ä¸ªæç¤ºé‡å¤ä¸‹å•çš„åŠŸèƒ½å¼¹æ¡†ï¼Œç”¨äºæé†’ç”¨æˆ·æ˜¯å¦æ˜¯é‡å¤ä¸‹å•ï¼Œä½†æ˜¯ç°åœ¨çš„ä¸€ä¸ªå¼‚å¸¸ç‚¹å°±æ˜¯ï¼Œ é‡å¤æç¤ºå¼¹æ¡†ä¼šé—ªçƒä¸æ˜¾ç¤ºï¼Œå±äºä¸€ä¸ªåŠŸèƒ½å¼‚å¸¸æ¨¡å—çš„ä¼˜åŒ–ï¼›\n\n\n## åœºæ™¯\n\nä¸€ä¸ªç±»ä¼¼ç”µå•†ä¸‹å•é¡µé¢åŠŸèƒ½ï¼Œå¡«å†™ä¸‹å•ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯, æˆ–è€…æ™ºèƒ½è¯†åˆ«ä¿¡æ¯ï¼Œè®¡ç®—è‡ªå¸¦è´¹ç”¨ä»¥åŠä¸‰æ–¹è´¹ç”¨ï¼› ä¸‹å•ä¹‹å‰æ£€éªŒåœ¨çŸ­æ—¶é—´å†…é‡å¤ä¸‹å•çš„æç¤ºï¼›\n\nç°åœ¨å°±æ˜¯å¼¹çª—ä¸æ˜¾ç¤ºï¼Œé€»è¾‘çœ‹ä¸Šå»ä¹Ÿæ²¡æŠ¥é”™ä½†æ˜¯å°±æ˜¯å¼¹æ¡†ä¸æ˜¾ç¤ºï¼Œè¿™æ ·é€ æˆçš„å½±å“è™½ç„¶å¹¶ä¸ä¸¥é‡ï¼Œä½†æ˜¯ä¹Ÿæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼‚å¸¸çš„ bug;\n\nåœ¨çŸ­æ—¶é—´å†…é‡å¤ä¸‹å•ï¼Œä¼šæœ‰æç¤ºæ¡†ï¼Œç¡®ä¿æ˜¯ç”¨æˆ·è‡ªè¡Œä¸‹å•æ“ä½œï¼Œè€Œä¸æ˜¯è¯¯æ“ä½œçš„ï¼›ç¡®ä¿è‡ªå·±çš„æ•°æ®çš„å‡†ç¡®æ€§çš„ï¼Œä½†æ˜¯æ²¡æœ‰äº†è¿™ä¸€æ­¥ï¼Œå¦‚æœç”¨æˆ·ï¼Œå¡«å†™äº†ç›¸å¯¹åº”çš„ä¿¡æ¯ï¼Œåœ¨è€ƒè™‘è¦ä¸è¦ä¸‹å•ï¼Œå¦‚æœä¸å°å¿ƒç‚¹äº†ä¸‹å•æŒ‰é’®ï¼ˆè¯¯æ“ä½œï¼‰ï¼Œè¿™æ˜¯ç”¨æˆ·è™½ç„¶çŸ¥é“ä¸‹å•äº†ï¼Œä½†æ˜¯è´¦æˆ·é‡‘é¢å……è¶³çš„æƒ…å†µä¸‹ä¼šè‡ªåŠ¨æ‰£æ¬¾ï¼Œè¿™æ ·çš„æƒ…å†µï¼Œå°±ä¼šè”ç³»å®¢æˆ·ï¼›æˆ–è€…è‡ªè¡Œæ’¤å•äº†ï¼›\n\nåœ¨ç¡®ä¿ä¸šåŠ¡æ­£å¸¸çš„æƒ…å†µä¸‹ï¼Œå°‘è¿™ä¸€æ­¥ç¡®å®ä¼šæœ‰ä¸€å®šçš„å½±å“ï¼Œç±»ä¼¼çš„é—®é¢˜åœ¨å…¶ä»–é¡µé¢ä¹Ÿå¤šå¤šå°‘å°‘ä¹Ÿä¼šæœ‰ï¼›\n\n## é—®é¢˜åˆ†æ\n\n> å¦‚æœå›¾ç‰‡æ˜¾ç¤ºè¾ƒå°ï¼Œå¯ä»¥ç‚¹å‡»å›¾ç‰‡æ”¾å¤§æŸ¥çœ‹!\n\n![ä¸‹å•æç¤ºå¼‚å¸¸](http://wangxiaoze-view.github.io/picx-images-hosting/images/install_order_1.png)\n\n## æ€»ç»“\n\næ ¹æ®ä¸Šå›¾åˆ†æï¼Œå¯ä»¥çœ‹å‡ºï¼Œåœ¨å¤šä¸ªè¯·æ±‚çš„å‰æä¸‹ï¼Œä¸‹ä¸€æ¬¡çš„è¯·æ±‚ä¼šæŠŠä¸Šä¸€æ¬¡çš„æ‰€æœ‰å¼¹æ¡†æ¸…é™¤æ‰ï¼Œå³`dialog.closeAll()`, è€Œå¯¹äº`closeAll()`æ˜¯æœ‰ä¸€ä¸ªå‚æ•°çš„ï¼Œé»˜è®¤æˆ–è€…ä¸å­˜åœ¨å€¼çš„æƒ…å†µä¼šæ¸…é™¤æ‰€æœ‰çš„å¼¹æ¡†ï¼Œæ­£å¸¸çš„æƒ…å†µï¼ŒåŠ è½½å±‚å’Œé€»è¾‘å¼¹æ¡†æ˜¯ä¸ä¼šå†²çªçš„ï¼Œè¿™æ ·æ“ä½œå°±ä¼šå¯¹ä¸šåŠ¡çš„é€ æˆä¸€å®šçš„å½±å“ï¼›\n\næ¯æ¬¡è¯·æ±‚æŒ‡ç¤ºå§åŠ è½½å±‚å»é™¤ï¼Œé‚£ä¹ˆè¿™é‡Œå°±ä¸ä¼šæœ‰è¿™æ ·çš„é—®é¢˜ï¼›è€ŒåŸæœ‰è·å–åŠ è½½å±‚`id`çš„è¿”å›å€¼ä¸º`undefined`ï¼Œé‚£ä¹ˆè¿™é‡Œçš„`closeAll()`å°±ä¼šæ¸…æ¥šæ‰€æœ‰çš„ï¼Œä¼˜åŒ–ä¹‹åçš„åŠ è½½å±‚`id`æ˜¯ä¸€ä¸ªè‡ªå¢çš„çŠ¶æ€ï¼Œä¸ä¼šé‡å¤ï¼Œé‚£ä¹ˆ`closeAll(id)`å°±åªä¼šæŠŠåŠ è½½å±‚é”€æ¯ï¼›è¿™æ ·å°±ä¸ä¼šå¯¹ä¸šåŠ¡é€ æˆå½±å“;\n\nå› ä¸ºä»£ç ä¸šåŠ¡é€»è¾‘æ˜¯å…¬å¸å†…éƒ¨çš„ï¼Œè¿™é‡Œå°±ä¸æ–¹ä¾¿å±•ç¤ºäº†ï¼›ä¼šç”¨ä¸€å¼ å›¾ç‰‡å±•ç¤ºæ•ˆæœï¼›\n\n![æœ€ç»ˆæ•ˆæœ](http://wangxiaoze-view.github.io/picx-images-hosting/images/install_order_2.svg)\n","source":"_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/ç³»ç»Ÿä¸‹å•(é‡å¤å•æç¤ºæ¡†)çš„å¼‚å¸¸.md","raw":"---\ntitle: å·¥ä½œå†…å®¹-ç³»ç»Ÿä¸‹å•(é‡å¤å•æç¤ºæ¡†)çš„å¼‚å¸¸\nabbrlink: be214e91\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - å·¥ä½œå†…å®¹\n---\n\n# èƒŒæ™¯\n\n\né’ˆå¯¹ç³»ç»Ÿä¸­çš„ä¸€ä¸ªåŠŸèƒ½æ¨¡å—æ¥è®²ï¼Œç³»ç»Ÿä¸­æœ‰è¿™ä¹ˆä¸€ä¸ªä¸‹å•çš„åŠŸèƒ½ï¼Œä½†æ˜¯åœ¨ä¸‹å•ä¹‹å‰ä¼šæœ‰ä¸€ä¸ªæç¤ºé‡å¤ä¸‹å•çš„åŠŸèƒ½å¼¹æ¡†ï¼Œç”¨äºæé†’ç”¨æˆ·æ˜¯å¦æ˜¯é‡å¤ä¸‹å•ï¼Œä½†æ˜¯ç°åœ¨çš„ä¸€ä¸ªå¼‚å¸¸ç‚¹å°±æ˜¯ï¼Œ é‡å¤æç¤ºå¼¹æ¡†ä¼šé—ªçƒä¸æ˜¾ç¤ºï¼Œå±äºä¸€ä¸ªåŠŸèƒ½å¼‚å¸¸æ¨¡å—çš„ä¼˜åŒ–ï¼›\n\n\n## åœºæ™¯\n\nä¸€ä¸ªç±»ä¼¼ç”µå•†ä¸‹å•é¡µé¢åŠŸèƒ½ï¼Œå¡«å†™ä¸‹å•ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯, æˆ–è€…æ™ºèƒ½è¯†åˆ«ä¿¡æ¯ï¼Œè®¡ç®—è‡ªå¸¦è´¹ç”¨ä»¥åŠä¸‰æ–¹è´¹ç”¨ï¼› ä¸‹å•ä¹‹å‰æ£€éªŒåœ¨çŸ­æ—¶é—´å†…é‡å¤ä¸‹å•çš„æç¤ºï¼›\n\nç°åœ¨å°±æ˜¯å¼¹çª—ä¸æ˜¾ç¤ºï¼Œé€»è¾‘çœ‹ä¸Šå»ä¹Ÿæ²¡æŠ¥é”™ä½†æ˜¯å°±æ˜¯å¼¹æ¡†ä¸æ˜¾ç¤ºï¼Œè¿™æ ·é€ æˆçš„å½±å“è™½ç„¶å¹¶ä¸ä¸¥é‡ï¼Œä½†æ˜¯ä¹Ÿæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼‚å¸¸çš„ bug;\n\nåœ¨çŸ­æ—¶é—´å†…é‡å¤ä¸‹å•ï¼Œä¼šæœ‰æç¤ºæ¡†ï¼Œç¡®ä¿æ˜¯ç”¨æˆ·è‡ªè¡Œä¸‹å•æ“ä½œï¼Œè€Œä¸æ˜¯è¯¯æ“ä½œçš„ï¼›ç¡®ä¿è‡ªå·±çš„æ•°æ®çš„å‡†ç¡®æ€§çš„ï¼Œä½†æ˜¯æ²¡æœ‰äº†è¿™ä¸€æ­¥ï¼Œå¦‚æœç”¨æˆ·ï¼Œå¡«å†™äº†ç›¸å¯¹åº”çš„ä¿¡æ¯ï¼Œåœ¨è€ƒè™‘è¦ä¸è¦ä¸‹å•ï¼Œå¦‚æœä¸å°å¿ƒç‚¹äº†ä¸‹å•æŒ‰é’®ï¼ˆè¯¯æ“ä½œï¼‰ï¼Œè¿™æ˜¯ç”¨æˆ·è™½ç„¶çŸ¥é“ä¸‹å•äº†ï¼Œä½†æ˜¯è´¦æˆ·é‡‘é¢å……è¶³çš„æƒ…å†µä¸‹ä¼šè‡ªåŠ¨æ‰£æ¬¾ï¼Œè¿™æ ·çš„æƒ…å†µï¼Œå°±ä¼šè”ç³»å®¢æˆ·ï¼›æˆ–è€…è‡ªè¡Œæ’¤å•äº†ï¼›\n\nåœ¨ç¡®ä¿ä¸šåŠ¡æ­£å¸¸çš„æƒ…å†µä¸‹ï¼Œå°‘è¿™ä¸€æ­¥ç¡®å®ä¼šæœ‰ä¸€å®šçš„å½±å“ï¼Œç±»ä¼¼çš„é—®é¢˜åœ¨å…¶ä»–é¡µé¢ä¹Ÿå¤šå¤šå°‘å°‘ä¹Ÿä¼šæœ‰ï¼›\n\n## é—®é¢˜åˆ†æ\n\n> å¦‚æœå›¾ç‰‡æ˜¾ç¤ºè¾ƒå°ï¼Œå¯ä»¥ç‚¹å‡»å›¾ç‰‡æ”¾å¤§æŸ¥çœ‹!\n\n![ä¸‹å•æç¤ºå¼‚å¸¸](http://wangxiaoze-view.github.io/picx-images-hosting/images/install_order_1.png)\n\n## æ€»ç»“\n\næ ¹æ®ä¸Šå›¾åˆ†æï¼Œå¯ä»¥çœ‹å‡ºï¼Œåœ¨å¤šä¸ªè¯·æ±‚çš„å‰æä¸‹ï¼Œä¸‹ä¸€æ¬¡çš„è¯·æ±‚ä¼šæŠŠä¸Šä¸€æ¬¡çš„æ‰€æœ‰å¼¹æ¡†æ¸…é™¤æ‰ï¼Œå³`dialog.closeAll()`, è€Œå¯¹äº`closeAll()`æ˜¯æœ‰ä¸€ä¸ªå‚æ•°çš„ï¼Œé»˜è®¤æˆ–è€…ä¸å­˜åœ¨å€¼çš„æƒ…å†µä¼šæ¸…é™¤æ‰€æœ‰çš„å¼¹æ¡†ï¼Œæ­£å¸¸çš„æƒ…å†µï¼ŒåŠ è½½å±‚å’Œé€»è¾‘å¼¹æ¡†æ˜¯ä¸ä¼šå†²çªçš„ï¼Œè¿™æ ·æ“ä½œå°±ä¼šå¯¹ä¸šåŠ¡çš„é€ æˆä¸€å®šçš„å½±å“ï¼›\n\næ¯æ¬¡è¯·æ±‚æŒ‡ç¤ºå§åŠ è½½å±‚å»é™¤ï¼Œé‚£ä¹ˆè¿™é‡Œå°±ä¸ä¼šæœ‰è¿™æ ·çš„é—®é¢˜ï¼›è€ŒåŸæœ‰è·å–åŠ è½½å±‚`id`çš„è¿”å›å€¼ä¸º`undefined`ï¼Œé‚£ä¹ˆè¿™é‡Œçš„`closeAll()`å°±ä¼šæ¸…æ¥šæ‰€æœ‰çš„ï¼Œä¼˜åŒ–ä¹‹åçš„åŠ è½½å±‚`id`æ˜¯ä¸€ä¸ªè‡ªå¢çš„çŠ¶æ€ï¼Œä¸ä¼šé‡å¤ï¼Œé‚£ä¹ˆ`closeAll(id)`å°±åªä¼šæŠŠåŠ è½½å±‚é”€æ¯ï¼›è¿™æ ·å°±ä¸ä¼šå¯¹ä¸šåŠ¡é€ æˆå½±å“;\n\nå› ä¸ºä»£ç ä¸šåŠ¡é€»è¾‘æ˜¯å…¬å¸å†…éƒ¨çš„ï¼Œè¿™é‡Œå°±ä¸æ–¹ä¾¿å±•ç¤ºäº†ï¼›ä¼šç”¨ä¸€å¼ å›¾ç‰‡å±•ç¤ºæ•ˆæœï¼›\n\n![æœ€ç»ˆæ•ˆæœ](http://wangxiaoze-view.github.io/picx-images-hosting/images/install_order_2.svg)\n","slug":"æ€»ç»“/é¡¹ç›®æ€»ç»“/ç³»ç»Ÿä¸‹å•(é‡å¤å•æç¤ºæ¡†)çš„å¼‚å¸¸","published":1,"updated":"2025-03-13T10:16:16.695Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iv001rfg9mdmn24f8g","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>é’ˆå¯¹ç³»ç»Ÿä¸­çš„ä¸€ä¸ªåŠŸèƒ½æ¨¡å—æ¥è®²ï¼Œç³»ç»Ÿä¸­æœ‰è¿™ä¹ˆä¸€ä¸ªä¸‹å•çš„åŠŸèƒ½ï¼Œä½†æ˜¯åœ¨ä¸‹å•ä¹‹å‰ä¼šæœ‰ä¸€ä¸ªæç¤ºé‡å¤ä¸‹å•çš„åŠŸèƒ½å¼¹æ¡†ï¼Œç”¨äºæé†’ç”¨æˆ·æ˜¯å¦æ˜¯é‡å¤ä¸‹å•ï¼Œä½†æ˜¯ç°åœ¨çš„ä¸€ä¸ªå¼‚å¸¸ç‚¹å°±æ˜¯ï¼Œ é‡å¤æç¤ºå¼¹æ¡†ä¼šé—ªçƒä¸æ˜¾ç¤ºï¼Œå±äºä¸€ä¸ªåŠŸèƒ½å¼‚å¸¸æ¨¡å—çš„ä¼˜åŒ–ï¼›</p>\n<h2 id=\"åœºæ™¯\"><a href=\"#åœºæ™¯\" class=\"headerlink\" title=\"åœºæ™¯\"></a>åœºæ™¯</h2><p>ä¸€ä¸ªç±»ä¼¼ç”µå•†ä¸‹å•é¡µé¢åŠŸèƒ½ï¼Œå¡«å†™ä¸‹å•ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯, æˆ–è€…æ™ºèƒ½è¯†åˆ«ä¿¡æ¯ï¼Œè®¡ç®—è‡ªå¸¦è´¹ç”¨ä»¥åŠä¸‰æ–¹è´¹ç”¨ï¼› ä¸‹å•ä¹‹å‰æ£€éªŒåœ¨çŸ­æ—¶é—´å†…é‡å¤ä¸‹å•çš„æç¤ºï¼›</p>\n<p>ç°åœ¨å°±æ˜¯å¼¹çª—ä¸æ˜¾ç¤ºï¼Œé€»è¾‘çœ‹ä¸Šå»ä¹Ÿæ²¡æŠ¥é”™ä½†æ˜¯å°±æ˜¯å¼¹æ¡†ä¸æ˜¾ç¤ºï¼Œè¿™æ ·é€ æˆçš„å½±å“è™½ç„¶å¹¶ä¸ä¸¥é‡ï¼Œä½†æ˜¯ä¹Ÿæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼‚å¸¸çš„ bug;</p>\n<p>åœ¨çŸ­æ—¶é—´å†…é‡å¤ä¸‹å•ï¼Œä¼šæœ‰æç¤ºæ¡†ï¼Œç¡®ä¿æ˜¯ç”¨æˆ·è‡ªè¡Œä¸‹å•æ“ä½œï¼Œè€Œä¸æ˜¯è¯¯æ“ä½œçš„ï¼›ç¡®ä¿è‡ªå·±çš„æ•°æ®çš„å‡†ç¡®æ€§çš„ï¼Œä½†æ˜¯æ²¡æœ‰äº†è¿™ä¸€æ­¥ï¼Œå¦‚æœç”¨æˆ·ï¼Œå¡«å†™äº†ç›¸å¯¹åº”çš„ä¿¡æ¯ï¼Œåœ¨è€ƒè™‘è¦ä¸è¦ä¸‹å•ï¼Œå¦‚æœä¸å°å¿ƒç‚¹äº†ä¸‹å•æŒ‰é’®ï¼ˆè¯¯æ“ä½œï¼‰ï¼Œè¿™æ˜¯ç”¨æˆ·è™½ç„¶çŸ¥é“ä¸‹å•äº†ï¼Œä½†æ˜¯è´¦æˆ·é‡‘é¢å……è¶³çš„æƒ…å†µä¸‹ä¼šè‡ªåŠ¨æ‰£æ¬¾ï¼Œè¿™æ ·çš„æƒ…å†µï¼Œå°±ä¼šè”ç³»å®¢æˆ·ï¼›æˆ–è€…è‡ªè¡Œæ’¤å•äº†ï¼›</p>\n<p>åœ¨ç¡®ä¿ä¸šåŠ¡æ­£å¸¸çš„æƒ…å†µä¸‹ï¼Œå°‘è¿™ä¸€æ­¥ç¡®å®ä¼šæœ‰ä¸€å®šçš„å½±å“ï¼Œç±»ä¼¼çš„é—®é¢˜åœ¨å…¶ä»–é¡µé¢ä¹Ÿå¤šå¤šå°‘å°‘ä¹Ÿä¼šæœ‰ï¼›</p>\n<h2 id=\"é—®é¢˜åˆ†æ\"><a href=\"#é—®é¢˜åˆ†æ\" class=\"headerlink\" title=\"é—®é¢˜åˆ†æ\"></a>é—®é¢˜åˆ†æ</h2><blockquote>\n<p>å¦‚æœå›¾ç‰‡æ˜¾ç¤ºè¾ƒå°ï¼Œå¯ä»¥ç‚¹å‡»å›¾ç‰‡æ”¾å¤§æŸ¥çœ‹!</p>\n</blockquote>\n<p><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/install_order_1.png\" alt=\"ä¸‹å•æç¤ºå¼‚å¸¸\"></p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>æ ¹æ®ä¸Šå›¾åˆ†æï¼Œå¯ä»¥çœ‹å‡ºï¼Œåœ¨å¤šä¸ªè¯·æ±‚çš„å‰æä¸‹ï¼Œä¸‹ä¸€æ¬¡çš„è¯·æ±‚ä¼šæŠŠä¸Šä¸€æ¬¡çš„æ‰€æœ‰å¼¹æ¡†æ¸…é™¤æ‰ï¼Œå³<code>dialog.closeAll()</code>, è€Œå¯¹äº<code>closeAll()</code>æ˜¯æœ‰ä¸€ä¸ªå‚æ•°çš„ï¼Œé»˜è®¤æˆ–è€…ä¸å­˜åœ¨å€¼çš„æƒ…å†µä¼šæ¸…é™¤æ‰€æœ‰çš„å¼¹æ¡†ï¼Œæ­£å¸¸çš„æƒ…å†µï¼ŒåŠ è½½å±‚å’Œé€»è¾‘å¼¹æ¡†æ˜¯ä¸ä¼šå†²çªçš„ï¼Œè¿™æ ·æ“ä½œå°±ä¼šå¯¹ä¸šåŠ¡çš„é€ æˆä¸€å®šçš„å½±å“ï¼›</p>\n<p>æ¯æ¬¡è¯·æ±‚æŒ‡ç¤ºå§åŠ è½½å±‚å»é™¤ï¼Œé‚£ä¹ˆè¿™é‡Œå°±ä¸ä¼šæœ‰è¿™æ ·çš„é—®é¢˜ï¼›è€ŒåŸæœ‰è·å–åŠ è½½å±‚<code>id</code>çš„è¿”å›å€¼ä¸º<code>undefined</code>ï¼Œé‚£ä¹ˆè¿™é‡Œçš„<code>closeAll()</code>å°±ä¼šæ¸…æ¥šæ‰€æœ‰çš„ï¼Œä¼˜åŒ–ä¹‹åçš„åŠ è½½å±‚<code>id</code>æ˜¯ä¸€ä¸ªè‡ªå¢çš„çŠ¶æ€ï¼Œä¸ä¼šé‡å¤ï¼Œé‚£ä¹ˆ<code>closeAll(id)</code>å°±åªä¼šæŠŠåŠ è½½å±‚é”€æ¯ï¼›è¿™æ ·å°±ä¸ä¼šå¯¹ä¸šåŠ¡é€ æˆå½±å“;</p>\n<p>å› ä¸ºä»£ç ä¸šåŠ¡é€»è¾‘æ˜¯å…¬å¸å†…éƒ¨çš„ï¼Œè¿™é‡Œå°±ä¸æ–¹ä¾¿å±•ç¤ºäº†ï¼›ä¼šç”¨ä¸€å¼ å›¾ç‰‡å±•ç¤ºæ•ˆæœï¼›</p>\n<p><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/install_order_2.svg\" alt=\"æœ€ç»ˆæ•ˆæœ\"></p>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>é’ˆå¯¹ç³»ç»Ÿä¸­çš„ä¸€ä¸ªåŠŸèƒ½æ¨¡å—æ¥è®²ï¼Œç³»ç»Ÿä¸­æœ‰è¿™ä¹ˆä¸€ä¸ªä¸‹å•çš„åŠŸèƒ½ï¼Œä½†æ˜¯åœ¨ä¸‹å•ä¹‹å‰ä¼šæœ‰ä¸€ä¸ªæç¤ºé‡å¤ä¸‹å•çš„åŠŸèƒ½å¼¹æ¡†ï¼Œç”¨äºæé†’ç”¨æˆ·æ˜¯å¦æ˜¯é‡å¤ä¸‹å•ï¼Œä½†æ˜¯ç°åœ¨çš„ä¸€ä¸ªå¼‚å¸¸ç‚¹å°±æ˜¯ï¼Œ é‡å¤æç¤ºå¼¹æ¡†ä¼šé—ªçƒä¸æ˜¾ç¤ºï¼Œå±äºä¸€ä¸ªåŠŸèƒ½å¼‚å¸¸æ¨¡å—çš„ä¼˜åŒ–ï¼›</p>\n<h2 id=\"åœºæ™¯\"><a href=\"#åœºæ™¯\" class=\"headerlink\" title=\"åœºæ™¯\"></a>åœºæ™¯</h2><p>ä¸€ä¸ªç±»ä¼¼ç”µå•†ä¸‹å•é¡µé¢åŠŸèƒ½ï¼Œå¡«å†™ä¸‹å•ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯, æˆ–è€…æ™ºèƒ½è¯†åˆ«ä¿¡æ¯ï¼Œè®¡ç®—è‡ªå¸¦è´¹ç”¨ä»¥åŠä¸‰æ–¹è´¹ç”¨ï¼› ä¸‹å•ä¹‹å‰æ£€éªŒåœ¨çŸ­æ—¶é—´å†…é‡å¤ä¸‹å•çš„æç¤ºï¼›</p>\n<p>ç°åœ¨å°±æ˜¯å¼¹çª—ä¸æ˜¾ç¤ºï¼Œé€»è¾‘çœ‹ä¸Šå»ä¹Ÿæ²¡æŠ¥é”™ä½†æ˜¯å°±æ˜¯å¼¹æ¡†ä¸æ˜¾ç¤ºï¼Œè¿™æ ·é€ æˆçš„å½±å“è™½ç„¶å¹¶ä¸ä¸¥é‡ï¼Œä½†æ˜¯ä¹Ÿæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼‚å¸¸çš„ bug;</p>\n<p>åœ¨çŸ­æ—¶é—´å†…é‡å¤ä¸‹å•ï¼Œä¼šæœ‰æç¤ºæ¡†ï¼Œç¡®ä¿æ˜¯ç”¨æˆ·è‡ªè¡Œä¸‹å•æ“ä½œï¼Œè€Œä¸æ˜¯è¯¯æ“ä½œçš„ï¼›ç¡®ä¿è‡ªå·±çš„æ•°æ®çš„å‡†ç¡®æ€§çš„ï¼Œä½†æ˜¯æ²¡æœ‰äº†è¿™ä¸€æ­¥ï¼Œå¦‚æœç”¨æˆ·ï¼Œå¡«å†™äº†ç›¸å¯¹åº”çš„ä¿¡æ¯ï¼Œåœ¨è€ƒè™‘è¦ä¸è¦ä¸‹å•ï¼Œå¦‚æœä¸å°å¿ƒç‚¹äº†ä¸‹å•æŒ‰é’®ï¼ˆè¯¯æ“ä½œï¼‰ï¼Œè¿™æ˜¯ç”¨æˆ·è™½ç„¶çŸ¥é“ä¸‹å•äº†ï¼Œä½†æ˜¯è´¦æˆ·é‡‘é¢å……è¶³çš„æƒ…å†µä¸‹ä¼šè‡ªåŠ¨æ‰£æ¬¾ï¼Œè¿™æ ·çš„æƒ…å†µï¼Œå°±ä¼šè”ç³»å®¢æˆ·ï¼›æˆ–è€…è‡ªè¡Œæ’¤å•äº†ï¼›</p>\n<p>åœ¨ç¡®ä¿ä¸šåŠ¡æ­£å¸¸çš„æƒ…å†µä¸‹ï¼Œå°‘è¿™ä¸€æ­¥ç¡®å®ä¼šæœ‰ä¸€å®šçš„å½±å“ï¼Œç±»ä¼¼çš„é—®é¢˜åœ¨å…¶ä»–é¡µé¢ä¹Ÿå¤šå¤šå°‘å°‘ä¹Ÿä¼šæœ‰ï¼›</p>\n<h2 id=\"é—®é¢˜åˆ†æ\"><a href=\"#é—®é¢˜åˆ†æ\" class=\"headerlink\" title=\"é—®é¢˜åˆ†æ\"></a>é—®é¢˜åˆ†æ</h2><blockquote>\n<p>å¦‚æœå›¾ç‰‡æ˜¾ç¤ºè¾ƒå°ï¼Œå¯ä»¥ç‚¹å‡»å›¾ç‰‡æ”¾å¤§æŸ¥çœ‹!</p>\n</blockquote>\n<p><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/install_order_1.png\" alt=\"ä¸‹å•æç¤ºå¼‚å¸¸\"></p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>æ ¹æ®ä¸Šå›¾åˆ†æï¼Œå¯ä»¥çœ‹å‡ºï¼Œåœ¨å¤šä¸ªè¯·æ±‚çš„å‰æä¸‹ï¼Œä¸‹ä¸€æ¬¡çš„è¯·æ±‚ä¼šæŠŠä¸Šä¸€æ¬¡çš„æ‰€æœ‰å¼¹æ¡†æ¸…é™¤æ‰ï¼Œå³<code>dialog.closeAll()</code>, è€Œå¯¹äº<code>closeAll()</code>æ˜¯æœ‰ä¸€ä¸ªå‚æ•°çš„ï¼Œé»˜è®¤æˆ–è€…ä¸å­˜åœ¨å€¼çš„æƒ…å†µä¼šæ¸…é™¤æ‰€æœ‰çš„å¼¹æ¡†ï¼Œæ­£å¸¸çš„æƒ…å†µï¼ŒåŠ è½½å±‚å’Œé€»è¾‘å¼¹æ¡†æ˜¯ä¸ä¼šå†²çªçš„ï¼Œè¿™æ ·æ“ä½œå°±ä¼šå¯¹ä¸šåŠ¡çš„é€ æˆä¸€å®šçš„å½±å“ï¼›</p>\n<p>æ¯æ¬¡è¯·æ±‚æŒ‡ç¤ºå§åŠ è½½å±‚å»é™¤ï¼Œé‚£ä¹ˆè¿™é‡Œå°±ä¸ä¼šæœ‰è¿™æ ·çš„é—®é¢˜ï¼›è€ŒåŸæœ‰è·å–åŠ è½½å±‚<code>id</code>çš„è¿”å›å€¼ä¸º<code>undefined</code>ï¼Œé‚£ä¹ˆè¿™é‡Œçš„<code>closeAll()</code>å°±ä¼šæ¸…æ¥šæ‰€æœ‰çš„ï¼Œä¼˜åŒ–ä¹‹åçš„åŠ è½½å±‚<code>id</code>æ˜¯ä¸€ä¸ªè‡ªå¢çš„çŠ¶æ€ï¼Œä¸ä¼šé‡å¤ï¼Œé‚£ä¹ˆ<code>closeAll(id)</code>å°±åªä¼šæŠŠåŠ è½½å±‚é”€æ¯ï¼›è¿™æ ·å°±ä¸ä¼šå¯¹ä¸šåŠ¡é€ æˆå½±å“;</p>\n<p>å› ä¸ºä»£ç ä¸šåŠ¡é€»è¾‘æ˜¯å…¬å¸å†…éƒ¨çš„ï¼Œè¿™é‡Œå°±ä¸æ–¹ä¾¿å±•ç¤ºäº†ï¼›ä¼šç”¨ä¸€å¼ å›¾ç‰‡å±•ç¤ºæ•ˆæœï¼›</p>\n<p><img src=\"http://wangxiaoze-view.github.io/picx-images-hosting/images/install_order_2.svg\" alt=\"æœ€ç»ˆæ•ˆæœ\"></p>\n"},{"title":"å·¥ä½œå†…å®¹-è€ç³»ç»Ÿå‡çº§é—®é¢˜","abbrlink":"a2b94284","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\næœ€è¿‘åœ¨å¯¹å…¬å¸`node+jquery`æç³»ç»ŸåŸºå±‚è¿›è¡Œç‰ˆæœ¬å‡çº§ï¼Œä½¿ç”¨æœ€æ–°æŠ€æœ¯æ ˆ`vue + ts + vite + pinia`ï¼Œå¯¹äºæç³»ç»ŸåŸæœ‰é¡µé¢å°†ä¼šè¿›è¡Œ`iframe`ä¸ä¼šå†å…¶åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œå¤§å¤§å‡å°‘äº†ç»´æŠ¤æˆæœ¬ï¼Œä½†æ˜¯ç”±äºå…¶é¡µé¢è¾ƒå¤šï¼Œä¸”é¡µé¢ä¹‹é—´å­˜åœ¨å…³è”ï¼Œæ‰€ä»¥éœ€è¦å¯¹é¡µé¢è¿›è¡Œç¼“å­˜ï¼Œé¿å…é‡å¤åŠ è½½ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼Œå…¶ä¸­ä¹Ÿé‡åˆ°äº†ä¸€ç³»åˆ—å…¼å®¹é—®é¢˜ï¼Œæ€»ç»“å¦‚ä¸‹ï¼š\n\nå¯¹äºç³»ç»Ÿå‡çº§ï¼Œå½“ç„¶è¦ä½¿ç”¨æœ€æ–°æŠ€æœ¯æ ˆäº†ï¼Œè¿™æ ·å…¬å¸ä½¿ç”¨çš„æŠ€æœ¯æ ˆå°±ä¼šç»Ÿä¸€ï¼Œä¹Ÿä¸ä¼šå› ä¸ºæŠ€æœ¯æ ˆä¸ç»Ÿä¸€å¯¼è‡´ä¸ªäººæˆé•¿ç¼“æ…¢ï¼›å¯¹äºç›¸å¯¹ç³»åˆ—é—®é¢˜ä¹Ÿå¯ä»¥è¿›è¡Œå°ç»„æ¢è®¨ï¼›\n\nä»è®¡åˆ’å¼€å§‹éƒ¨ç½²åˆ°çœŸæ­£ä¸Šæ‰‹æ”¹é€ èŠ±è´¹å°†è¿‘ä¸€å‘¨æ—¶é—´ï¼Œåº•å±‚æ¡†æ¶ç»“æ„é‡‡ç”¨`vue`ï¼Œé‡Œå±‚å†…å®¹é‡‡ç”¨`iframe`é“¾æ¥è€é¡¹ç›®é¡µé¢ï¼›\n\n## Start\n\nå¼€å§‹è¿›è¡Œå¯¹ç³»ç»ŸæŠ€æœ¯çš„å‡çº§ï¼Œå¤§è‡´å‡çº§çš„èŒƒå›´ï¼š\n\n- ç™»å½•ï¼Œé‡ç½®å¯†ç é‡æ„ï¼Œæ‘’å¼ƒåŸæ¥`jquery`é¡µé¢\n- è·¯ç”±ï¼Œæƒé™çš„é‡ç½®ï¼Œéœ€è¦åç«¯å¼€å‘äººå‘˜é…åˆï¼Œç°åœ¨å¸‚é¢ä¸Šçš„ä¸­åå°ç³»ç»Ÿçš„è·¯ç”±å’Œæƒé™åŸºæœ¬éƒ½æ˜¯åç«¯æ¥ç®¡ç†ï¼Œå¾ˆå°‘ä½¿ç”¨å‰ç«¯è·¯ç”±\n- åŸºç¡€åº“ï¼Œæ–¹æ³•çš„ç¼–å†™ï¼Œå¯¹äºå¸¸ç”¨çš„æ–¹æ³•ï¼Œ`hooks`éœ€è¦ç»Ÿä¸€å°è£…ç®¡ç†\n- å¸¸ç”¨æšä¸¾çš„å°è£…ï¼Œæ¥å£å®šä¹‰ï¼Œç±»å‹å®šä¹‰\n- è¯·æ±‚æ‹¦æˆªï¼Œç›¸åº”çš„å°è£…ï¼›\n\n### ç¯å¢ƒçš„é…ç½®\n\nå½“ç„¶å¯¹äºä¼ä¸šé¡¹ç›®ï¼Œå¤šç¯å¢ƒå·²ç»æ˜¯å¸¸è§çš„ï¼Œå¼€å‘ç¯å¢ƒï¼Œæµ‹è¯•ç¯å¢ƒï¼Œé¢„å‘å¸ƒç¯å¢ƒï¼Œçº¿ä¸Šç¯å¢ƒç­‰ç­‰ï¼›å¯¹äºè¿™äº›ç¯å¢ƒä¸€äº›è¯·æ±‚çš„åŸŸåï¼Œé…ç½®å‚æ•°å½“ç„¶ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™æ—¶å€™å°±å¯ä»¥åœ¨`.env`æ–‡ä»¶ä¸­é…ç½®ï¼Œå¤§æ¦‚é…ç½®é¡¹å¦‚ä¸‹ï¼š\n\n```sh\nVITE_APP_API_URL='http://www.wangxiaoze.wang'\nVITE_APP_API_KEY='abc'\nVITE_APP_APP_ID='123456'\n\n# å½“ç„¶å¯¹äºiframeé¡µé¢éœ€è¦ç›¸å¯¹ç¯å¢ƒçš„åŸŸåé…ç½®\nVITE_APP_IFRAME_HOST='http://www.wangxiaoze.wang'\n```\n\n### utils, hooks ç­‰åŸºç¡€é…ç½®çš„å°è£…\n\n1. `utils`åŸºç¡€çš„æ–¹æ³•ï¼Œæ­£åˆ™çš„å°è£…ç­‰ç­‰ï¼›\n2. `hooks`çš„å°è£…ï¼Œå¯¹äºä¸€äº›å¸¸ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚`loading`ï¼Œ`message`ï¼Œ`dialog`ï¼Œ`confirm`ï¼Œ `loading`ç­‰æ–¹æ³•ï¼Œéœ€è¦ç»Ÿä¸€å°è£…ç®¡ç†ï¼›\n3. `config`å¯¹ä¸€äº›ç³»ç»Ÿçº§çš„é…ç½®é¡¹ï¼Œå¦‚ï¼šä¸ƒç‰›çš„é…ç½®ï¼Œæ ‡é¢˜ï¼Œlogo çš„é…ç½®ç­‰ç­‰\n4. `store-pinia`çš„é…ç½®\n5. `axios`çš„å°è£…ï¼Œå¯¹äºè¯·æ±‚çš„æ‹¦æˆªï¼Œå“åº”çš„å°è£…ï¼Œè¯·æ±‚çš„å°è£…ç­‰ç­‰\n6. `api`çš„å°è£…ï¼Œå¯¹äºä¸€äº›æ¥å£çš„å°è£…ï¼Œå¦‚ï¼šä¸ƒç‰›çš„å›¾ç‰‡ä¸Šä¼ ï¼Œä¸ƒç‰›çš„å›¾ç‰‡åˆ é™¤ï¼Œä¸ƒç‰›çš„å›¾ç‰‡åˆ—è¡¨ç­‰ç­‰\n\n### axios, api çš„å°è£…\n\nå¯¹äº`axios`çš„ä½¿ç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š\n\n```typescript\nconst instance: AxiosInstance = axios.create({\n\tbaseURL: `${import.meta.env.VITE_APP_BASE_URL}`,\n\ttimeout: 60000,\n});\n\n// è¯·æ±‚æ‹¦æˆªå™¨\ninstance.interceptors.request.use(\n\t(config: InternalAxiosRequestConfig) => {\n\t\t// æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¿®æ”¹\n\t\treturn config;\n\t},\n\terror => error\n);\n\n// å“åº”æ‹¦æˆªå™¨\ninstance.interceptors.response.use(\n\t(response: AxiosResponse) => {\n\t\t// æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¿®æ”¹\n\t\treturn response.data;\n\t},\n\terror => {\n\t\treturn Promise.reject(error.response);\n\t}\n);\n\ninterface IHttpResult<T> {\n\tcode: number;\n\tmessage: string;\n\tdata: T;\n\tsuccess: boolean;\n}\n\n// æ³›å‹T: è¿”å›æ¥å£å­—æ®µç±»å‹ æ³›å‹U: æ˜¯å‚æ•°çš„æ•°æ®ç±»å‹\nconst httpServer = {\n\tget<T = any, U = any>(url: string, params: U): Promise<IHttpResult<T>> {\n\t\treturn instance.request(getParamsConfig(url, \"get\", params));\n\t},\n\tpost<T = any, U = any>(url: string, params: U): Promise<IHttpResult<T>> {\n\t\treturn instance.request(getParamsConfig(url, \"post\", params));\n\t},\n\tput<T = any, U = any>(url: string, params: U): Promise<IHttpResult<T>> {\n\t\treturn instance.request(getParamsConfig(url, \"put\", params));\n\t},\n\tdelete<T = any, U = any>(url: string, params: U): Promise<IHttpResult<T>> {\n\t\treturn instance.request(getParamsConfig(url, \"delete\", params));\n\t},\n\tpostForQuery<T = any, U = any>(\n\t\turl: string,\n\t\tparams: U\n\t): Promise<IHttpResult<T>> {\n\t\treturn instance.request(\n\t\t\tgetParamsConfig(\n\t\t\t\turl,\n\t\t\t\t\"post\",\n\t\t\t\tqs.stringify(params, {\n\t\t\t\t\tarrayFormat: \"repeat\",\n\t\t\t\t})\n\t\t\t)\n\t\t);\n\t},\n};\n\nexport { instance as axios, httpServer };\n```\n\nç³»ç»Ÿé‡‡ç”¨çš„æ˜¯`ts`,é‚£ä¹ˆå¯¹äº`api`çš„ç®¡ç†ä½¿ç”¨æšä¸¾æ•´ç†ï¼Œç›¸å…³`api`çš„é…ç½®å¦‚ä¸‹ï¼š\n\n```typescript\nenum UsetApi {\n\t// ä¸ƒç‰›å›¾ç‰‡ä¸Šä¼ \n\tUploadImage = \"/api/upload/image\",\n\t// ä¸ƒç‰›å›¾ç‰‡åˆ é™¤\n\tDeleteImage = \"/api/upload/delete\",\n\t// ä¸ƒç‰›å›¾ç‰‡åˆ—è¡¨\n\tImageList = \"/api/upload/list\",\n}\n\nimport { httpServer } from \"@/http\";\n\nexport function getList<T, U>(data: U) {\n\treturn httpServer.get<T>(UsetApi.ImageList, data);\n}\n```\n\n### iframe å†…åµŒé¡µé¢ç¼“å­˜\n\nåˆšå¼€å§‹ä½¿ç”¨`iframe`ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯`iframe`å†…åµŒé¡µé¢åˆ·æ–°åï¼Œ`iframe`ä¼šé‡æ–°åŠ è½½ï¼Œå¯¼è‡´é¡µé¢ä¼šé‡æ–°åˆ·æ–°ï¼Œiframe èµ„æºä¹Ÿä¼šé‡æ–°åŠ è½½ï¼Œä¼šé€ æˆæ€§èƒ½å½±å“ é‚£ä¹ˆå¦‚ä½•è§£å†³å‘¢ï¼Ÿ\n\n- ä½¿ç”¨`v-show`è¿™æ ·å°±å¯ä»¥é¿å…åˆ·æ–°èµ„æºçš„é—®é¢˜\n- å®šä½å°† iframe é¡µé¢å®šä½å¯è§†åŒºåŸŸä¹‹å¤–ï¼›\n\n```vue\n<iframe\n\tv-for=\"item in routes\"\n\t:key=\"item.path\"\n\tv-show=\"item.path === route.path\"\n/>\n```\n\nè™½ç„¶å‘ç°ä¸ä¼šå†æ¬¡è¯·æ±‚èµ„æºï¼Œåˆ·æ–°é¡µé¢ï¼Œä½†æ˜¯ä¼šå‘ç°ä¸€ä¸ªç»†èŠ‚é—®é¢˜ï¼Œé‚£å°±æ˜¯æ»šåŠ¨æ¡ä¸ä¼šå®šä½åˆ°ä¸Šæ¬¡çš„ä½ç½®ï¼Œè¿™æ ·ç”¨æˆ·é¢‘ç¹è·³è½¬é¡µé¢ï¼Œæ»šåŠ¨æ¡ä¸ä¼šå®šä½ï¼Œä¼šé€ æˆä¸€å®šçš„ä½¿ç”¨ä¸ä¾¿ï¼›\n\nå¦å¤–çš„ä¸€ä¸­æ–¹æ¡ˆå¯ä»¥è§£å†³æ­¤ç±»é—®é¢˜ï¼›\n\n### è€ç³»ç»Ÿçš„é¢„è§ˆå›¾ç‰‡ï¼Œæ‰“å¼€æ ‡ç­¾é¡µå…¼å®¹\n\næç³»ç»Ÿçš„é¢„è§ˆå›¾ç‰‡ä¼šæ‰“å¼€æ–°çš„æ ‡ç­¾é¡µï¼Œä½†æ˜¯æ–°ç³»ç»Ÿè¦ä½¿ç”¨`element-plus`çš„é¢„è§ˆå›¾ç‰‡çš„æ ·å¼ï¼Œå½“ç„¶æ‰“å¼€æ ‡ç­¾é¡µä¹Ÿæ˜¯åŒæ ·é—®é¢˜ï¼›\n\næƒ³è¦åŒæ—¶è§£å†³æ–°è€ç³»ç»Ÿçš„å…¼å®¹é—®é¢˜ï¼Œé‚£ä¹ˆå¯ä»¥å‚è€ƒä¸€ä¸‹æ–¹æ¡ˆï¼š\n\n```js\n// è€ç³»ç»Ÿ\nwindow.parent.postMessage(\n\t{\n\t\tcommand: \"open\",\n\t\tdata: {\n\t\t\turl: url,\n\t\t},\n\t},\n\t\"*\"\n);\n\n// æ–°ç³»ç»Ÿ\nwindow.addEventListener(\"message\", function (e) {\n\tif (e.data.command === \"open\") {\n\t\t// æ ¹æ®è‡ªå·±çš„æƒ…å†µæ“ä½œé€»è¾‘\n\t\t// åˆ¤æ–­æ˜¯å¦æ˜¯å½“å‰é¡µé¢æ‰“å¼€\n\t}\n});\n\n// ç§»é™¤ï¼Œé¿å…å åŠ \nwindow.removeEventListener(\"message\", function (e) {\n\tif (e.data.command === \"open\") {\n\t\t// æ ¹æ®è‡ªå·±çš„æƒ…å†µæ“ä½œé€»è¾‘\n\t\t// åˆ¤æ–­æ˜¯å¦æ˜¯å½“å‰é¡µé¢æ‰“å¼€\n\t}\n});\n```\n\nå½“ç„¶å›¾ç‰‡æˆ–è€…å…¶ä»–ä¹Ÿæ˜¯ç±»ä¼¼æ“ä½œï¼›\n","source":"_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/è€ç³»ç»Ÿå‡çº§é—®é¢˜.md","raw":"---\ntitle: å·¥ä½œå†…å®¹-è€ç³»ç»Ÿå‡çº§é—®é¢˜\nabbrlink: a2b94284\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - å·¥ä½œå†…å®¹\n---\n\n# èƒŒæ™¯\n\næœ€è¿‘åœ¨å¯¹å…¬å¸`node+jquery`æç³»ç»ŸåŸºå±‚è¿›è¡Œç‰ˆæœ¬å‡çº§ï¼Œä½¿ç”¨æœ€æ–°æŠ€æœ¯æ ˆ`vue + ts + vite + pinia`ï¼Œå¯¹äºæç³»ç»ŸåŸæœ‰é¡µé¢å°†ä¼šè¿›è¡Œ`iframe`ä¸ä¼šå†å…¶åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œå¤§å¤§å‡å°‘äº†ç»´æŠ¤æˆæœ¬ï¼Œä½†æ˜¯ç”±äºå…¶é¡µé¢è¾ƒå¤šï¼Œä¸”é¡µé¢ä¹‹é—´å­˜åœ¨å…³è”ï¼Œæ‰€ä»¥éœ€è¦å¯¹é¡µé¢è¿›è¡Œç¼“å­˜ï¼Œé¿å…é‡å¤åŠ è½½ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼Œå…¶ä¸­ä¹Ÿé‡åˆ°äº†ä¸€ç³»åˆ—å…¼å®¹é—®é¢˜ï¼Œæ€»ç»“å¦‚ä¸‹ï¼š\n\nå¯¹äºç³»ç»Ÿå‡çº§ï¼Œå½“ç„¶è¦ä½¿ç”¨æœ€æ–°æŠ€æœ¯æ ˆäº†ï¼Œè¿™æ ·å…¬å¸ä½¿ç”¨çš„æŠ€æœ¯æ ˆå°±ä¼šç»Ÿä¸€ï¼Œä¹Ÿä¸ä¼šå› ä¸ºæŠ€æœ¯æ ˆä¸ç»Ÿä¸€å¯¼è‡´ä¸ªäººæˆé•¿ç¼“æ…¢ï¼›å¯¹äºç›¸å¯¹ç³»åˆ—é—®é¢˜ä¹Ÿå¯ä»¥è¿›è¡Œå°ç»„æ¢è®¨ï¼›\n\nä»è®¡åˆ’å¼€å§‹éƒ¨ç½²åˆ°çœŸæ­£ä¸Šæ‰‹æ”¹é€ èŠ±è´¹å°†è¿‘ä¸€å‘¨æ—¶é—´ï¼Œåº•å±‚æ¡†æ¶ç»“æ„é‡‡ç”¨`vue`ï¼Œé‡Œå±‚å†…å®¹é‡‡ç”¨`iframe`é“¾æ¥è€é¡¹ç›®é¡µé¢ï¼›\n\n## Start\n\nå¼€å§‹è¿›è¡Œå¯¹ç³»ç»ŸæŠ€æœ¯çš„å‡çº§ï¼Œå¤§è‡´å‡çº§çš„èŒƒå›´ï¼š\n\n- ç™»å½•ï¼Œé‡ç½®å¯†ç é‡æ„ï¼Œæ‘’å¼ƒåŸæ¥`jquery`é¡µé¢\n- è·¯ç”±ï¼Œæƒé™çš„é‡ç½®ï¼Œéœ€è¦åç«¯å¼€å‘äººå‘˜é…åˆï¼Œç°åœ¨å¸‚é¢ä¸Šçš„ä¸­åå°ç³»ç»Ÿçš„è·¯ç”±å’Œæƒé™åŸºæœ¬éƒ½æ˜¯åç«¯æ¥ç®¡ç†ï¼Œå¾ˆå°‘ä½¿ç”¨å‰ç«¯è·¯ç”±\n- åŸºç¡€åº“ï¼Œæ–¹æ³•çš„ç¼–å†™ï¼Œå¯¹äºå¸¸ç”¨çš„æ–¹æ³•ï¼Œ`hooks`éœ€è¦ç»Ÿä¸€å°è£…ç®¡ç†\n- å¸¸ç”¨æšä¸¾çš„å°è£…ï¼Œæ¥å£å®šä¹‰ï¼Œç±»å‹å®šä¹‰\n- è¯·æ±‚æ‹¦æˆªï¼Œç›¸åº”çš„å°è£…ï¼›\n\n### ç¯å¢ƒçš„é…ç½®\n\nå½“ç„¶å¯¹äºä¼ä¸šé¡¹ç›®ï¼Œå¤šç¯å¢ƒå·²ç»æ˜¯å¸¸è§çš„ï¼Œå¼€å‘ç¯å¢ƒï¼Œæµ‹è¯•ç¯å¢ƒï¼Œé¢„å‘å¸ƒç¯å¢ƒï¼Œçº¿ä¸Šç¯å¢ƒç­‰ç­‰ï¼›å¯¹äºè¿™äº›ç¯å¢ƒä¸€äº›è¯·æ±‚çš„åŸŸåï¼Œé…ç½®å‚æ•°å½“ç„¶ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™æ—¶å€™å°±å¯ä»¥åœ¨`.env`æ–‡ä»¶ä¸­é…ç½®ï¼Œå¤§æ¦‚é…ç½®é¡¹å¦‚ä¸‹ï¼š\n\n```sh\nVITE_APP_API_URL='http://www.wangxiaoze.wang'\nVITE_APP_API_KEY='abc'\nVITE_APP_APP_ID='123456'\n\n# å½“ç„¶å¯¹äºiframeé¡µé¢éœ€è¦ç›¸å¯¹ç¯å¢ƒçš„åŸŸåé…ç½®\nVITE_APP_IFRAME_HOST='http://www.wangxiaoze.wang'\n```\n\n### utils, hooks ç­‰åŸºç¡€é…ç½®çš„å°è£…\n\n1. `utils`åŸºç¡€çš„æ–¹æ³•ï¼Œæ­£åˆ™çš„å°è£…ç­‰ç­‰ï¼›\n2. `hooks`çš„å°è£…ï¼Œå¯¹äºä¸€äº›å¸¸ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚`loading`ï¼Œ`message`ï¼Œ`dialog`ï¼Œ`confirm`ï¼Œ `loading`ç­‰æ–¹æ³•ï¼Œéœ€è¦ç»Ÿä¸€å°è£…ç®¡ç†ï¼›\n3. `config`å¯¹ä¸€äº›ç³»ç»Ÿçº§çš„é…ç½®é¡¹ï¼Œå¦‚ï¼šä¸ƒç‰›çš„é…ç½®ï¼Œæ ‡é¢˜ï¼Œlogo çš„é…ç½®ç­‰ç­‰\n4. `store-pinia`çš„é…ç½®\n5. `axios`çš„å°è£…ï¼Œå¯¹äºè¯·æ±‚çš„æ‹¦æˆªï¼Œå“åº”çš„å°è£…ï¼Œè¯·æ±‚çš„å°è£…ç­‰ç­‰\n6. `api`çš„å°è£…ï¼Œå¯¹äºä¸€äº›æ¥å£çš„å°è£…ï¼Œå¦‚ï¼šä¸ƒç‰›çš„å›¾ç‰‡ä¸Šä¼ ï¼Œä¸ƒç‰›çš„å›¾ç‰‡åˆ é™¤ï¼Œä¸ƒç‰›çš„å›¾ç‰‡åˆ—è¡¨ç­‰ç­‰\n\n### axios, api çš„å°è£…\n\nå¯¹äº`axios`çš„ä½¿ç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š\n\n```typescript\nconst instance: AxiosInstance = axios.create({\n\tbaseURL: `${import.meta.env.VITE_APP_BASE_URL}`,\n\ttimeout: 60000,\n});\n\n// è¯·æ±‚æ‹¦æˆªå™¨\ninstance.interceptors.request.use(\n\t(config: InternalAxiosRequestConfig) => {\n\t\t// æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¿®æ”¹\n\t\treturn config;\n\t},\n\terror => error\n);\n\n// å“åº”æ‹¦æˆªå™¨\ninstance.interceptors.response.use(\n\t(response: AxiosResponse) => {\n\t\t// æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¿®æ”¹\n\t\treturn response.data;\n\t},\n\terror => {\n\t\treturn Promise.reject(error.response);\n\t}\n);\n\ninterface IHttpResult<T> {\n\tcode: number;\n\tmessage: string;\n\tdata: T;\n\tsuccess: boolean;\n}\n\n// æ³›å‹T: è¿”å›æ¥å£å­—æ®µç±»å‹ æ³›å‹U: æ˜¯å‚æ•°çš„æ•°æ®ç±»å‹\nconst httpServer = {\n\tget<T = any, U = any>(url: string, params: U): Promise<IHttpResult<T>> {\n\t\treturn instance.request(getParamsConfig(url, \"get\", params));\n\t},\n\tpost<T = any, U = any>(url: string, params: U): Promise<IHttpResult<T>> {\n\t\treturn instance.request(getParamsConfig(url, \"post\", params));\n\t},\n\tput<T = any, U = any>(url: string, params: U): Promise<IHttpResult<T>> {\n\t\treturn instance.request(getParamsConfig(url, \"put\", params));\n\t},\n\tdelete<T = any, U = any>(url: string, params: U): Promise<IHttpResult<T>> {\n\t\treturn instance.request(getParamsConfig(url, \"delete\", params));\n\t},\n\tpostForQuery<T = any, U = any>(\n\t\turl: string,\n\t\tparams: U\n\t): Promise<IHttpResult<T>> {\n\t\treturn instance.request(\n\t\t\tgetParamsConfig(\n\t\t\t\turl,\n\t\t\t\t\"post\",\n\t\t\t\tqs.stringify(params, {\n\t\t\t\t\tarrayFormat: \"repeat\",\n\t\t\t\t})\n\t\t\t)\n\t\t);\n\t},\n};\n\nexport { instance as axios, httpServer };\n```\n\nç³»ç»Ÿé‡‡ç”¨çš„æ˜¯`ts`,é‚£ä¹ˆå¯¹äº`api`çš„ç®¡ç†ä½¿ç”¨æšä¸¾æ•´ç†ï¼Œç›¸å…³`api`çš„é…ç½®å¦‚ä¸‹ï¼š\n\n```typescript\nenum UsetApi {\n\t// ä¸ƒç‰›å›¾ç‰‡ä¸Šä¼ \n\tUploadImage = \"/api/upload/image\",\n\t// ä¸ƒç‰›å›¾ç‰‡åˆ é™¤\n\tDeleteImage = \"/api/upload/delete\",\n\t// ä¸ƒç‰›å›¾ç‰‡åˆ—è¡¨\n\tImageList = \"/api/upload/list\",\n}\n\nimport { httpServer } from \"@/http\";\n\nexport function getList<T, U>(data: U) {\n\treturn httpServer.get<T>(UsetApi.ImageList, data);\n}\n```\n\n### iframe å†…åµŒé¡µé¢ç¼“å­˜\n\nåˆšå¼€å§‹ä½¿ç”¨`iframe`ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯`iframe`å†…åµŒé¡µé¢åˆ·æ–°åï¼Œ`iframe`ä¼šé‡æ–°åŠ è½½ï¼Œå¯¼è‡´é¡µé¢ä¼šé‡æ–°åˆ·æ–°ï¼Œiframe èµ„æºä¹Ÿä¼šé‡æ–°åŠ è½½ï¼Œä¼šé€ æˆæ€§èƒ½å½±å“ é‚£ä¹ˆå¦‚ä½•è§£å†³å‘¢ï¼Ÿ\n\n- ä½¿ç”¨`v-show`è¿™æ ·å°±å¯ä»¥é¿å…åˆ·æ–°èµ„æºçš„é—®é¢˜\n- å®šä½å°† iframe é¡µé¢å®šä½å¯è§†åŒºåŸŸä¹‹å¤–ï¼›\n\n```vue\n<iframe\n\tv-for=\"item in routes\"\n\t:key=\"item.path\"\n\tv-show=\"item.path === route.path\"\n/>\n```\n\nè™½ç„¶å‘ç°ä¸ä¼šå†æ¬¡è¯·æ±‚èµ„æºï¼Œåˆ·æ–°é¡µé¢ï¼Œä½†æ˜¯ä¼šå‘ç°ä¸€ä¸ªç»†èŠ‚é—®é¢˜ï¼Œé‚£å°±æ˜¯æ»šåŠ¨æ¡ä¸ä¼šå®šä½åˆ°ä¸Šæ¬¡çš„ä½ç½®ï¼Œè¿™æ ·ç”¨æˆ·é¢‘ç¹è·³è½¬é¡µé¢ï¼Œæ»šåŠ¨æ¡ä¸ä¼šå®šä½ï¼Œä¼šé€ æˆä¸€å®šçš„ä½¿ç”¨ä¸ä¾¿ï¼›\n\nå¦å¤–çš„ä¸€ä¸­æ–¹æ¡ˆå¯ä»¥è§£å†³æ­¤ç±»é—®é¢˜ï¼›\n\n### è€ç³»ç»Ÿçš„é¢„è§ˆå›¾ç‰‡ï¼Œæ‰“å¼€æ ‡ç­¾é¡µå…¼å®¹\n\næç³»ç»Ÿçš„é¢„è§ˆå›¾ç‰‡ä¼šæ‰“å¼€æ–°çš„æ ‡ç­¾é¡µï¼Œä½†æ˜¯æ–°ç³»ç»Ÿè¦ä½¿ç”¨`element-plus`çš„é¢„è§ˆå›¾ç‰‡çš„æ ·å¼ï¼Œå½“ç„¶æ‰“å¼€æ ‡ç­¾é¡µä¹Ÿæ˜¯åŒæ ·é—®é¢˜ï¼›\n\næƒ³è¦åŒæ—¶è§£å†³æ–°è€ç³»ç»Ÿçš„å…¼å®¹é—®é¢˜ï¼Œé‚£ä¹ˆå¯ä»¥å‚è€ƒä¸€ä¸‹æ–¹æ¡ˆï¼š\n\n```js\n// è€ç³»ç»Ÿ\nwindow.parent.postMessage(\n\t{\n\t\tcommand: \"open\",\n\t\tdata: {\n\t\t\turl: url,\n\t\t},\n\t},\n\t\"*\"\n);\n\n// æ–°ç³»ç»Ÿ\nwindow.addEventListener(\"message\", function (e) {\n\tif (e.data.command === \"open\") {\n\t\t// æ ¹æ®è‡ªå·±çš„æƒ…å†µæ“ä½œé€»è¾‘\n\t\t// åˆ¤æ–­æ˜¯å¦æ˜¯å½“å‰é¡µé¢æ‰“å¼€\n\t}\n});\n\n// ç§»é™¤ï¼Œé¿å…å åŠ \nwindow.removeEventListener(\"message\", function (e) {\n\tif (e.data.command === \"open\") {\n\t\t// æ ¹æ®è‡ªå·±çš„æƒ…å†µæ“ä½œé€»è¾‘\n\t\t// åˆ¤æ–­æ˜¯å¦æ˜¯å½“å‰é¡µé¢æ‰“å¼€\n\t}\n});\n```\n\nå½“ç„¶å›¾ç‰‡æˆ–è€…å…¶ä»–ä¹Ÿæ˜¯ç±»ä¼¼æ“ä½œï¼›\n","slug":"æ€»ç»“/é¡¹ç›®æ€»ç»“/è€ç³»ç»Ÿå‡çº§é—®é¢˜","published":1,"updated":"2025-03-12T09:57:01.736Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iw001vfg9m7xuggqbt","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>æœ€è¿‘åœ¨å¯¹å…¬å¸<code>node+jquery</code>æç³»ç»ŸåŸºå±‚è¿›è¡Œç‰ˆæœ¬å‡çº§ï¼Œä½¿ç”¨æœ€æ–°æŠ€æœ¯æ ˆ<code>vue + ts + vite + pinia</code>ï¼Œå¯¹äºæç³»ç»ŸåŸæœ‰é¡µé¢å°†ä¼šè¿›è¡Œ<code>iframe</code>ä¸ä¼šå†å…¶åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œå¤§å¤§å‡å°‘äº†ç»´æŠ¤æˆæœ¬ï¼Œä½†æ˜¯ç”±äºå…¶é¡µé¢è¾ƒå¤šï¼Œä¸”é¡µé¢ä¹‹é—´å­˜åœ¨å…³è”ï¼Œæ‰€ä»¥éœ€è¦å¯¹é¡µé¢è¿›è¡Œç¼“å­˜ï¼Œé¿å…é‡å¤åŠ è½½ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼Œå…¶ä¸­ä¹Ÿé‡åˆ°äº†ä¸€ç³»åˆ—å…¼å®¹é—®é¢˜ï¼Œæ€»ç»“å¦‚ä¸‹ï¼š</p>\n<p>å¯¹äºç³»ç»Ÿå‡çº§ï¼Œå½“ç„¶è¦ä½¿ç”¨æœ€æ–°æŠ€æœ¯æ ˆäº†ï¼Œè¿™æ ·å…¬å¸ä½¿ç”¨çš„æŠ€æœ¯æ ˆå°±ä¼šç»Ÿä¸€ï¼Œä¹Ÿä¸ä¼šå› ä¸ºæŠ€æœ¯æ ˆä¸ç»Ÿä¸€å¯¼è‡´ä¸ªäººæˆé•¿ç¼“æ…¢ï¼›å¯¹äºç›¸å¯¹ç³»åˆ—é—®é¢˜ä¹Ÿå¯ä»¥è¿›è¡Œå°ç»„æ¢è®¨ï¼›</p>\n<p>ä»è®¡åˆ’å¼€å§‹éƒ¨ç½²åˆ°çœŸæ­£ä¸Šæ‰‹æ”¹é€ èŠ±è´¹å°†è¿‘ä¸€å‘¨æ—¶é—´ï¼Œåº•å±‚æ¡†æ¶ç»“æ„é‡‡ç”¨<code>vue</code>ï¼Œé‡Œå±‚å†…å®¹é‡‡ç”¨<code>iframe</code>é“¾æ¥è€é¡¹ç›®é¡µé¢ï¼›</p>\n<h2 id=\"Start\"><a href=\"#Start\" class=\"headerlink\" title=\"Start\"></a>Start</h2><p>å¼€å§‹è¿›è¡Œå¯¹ç³»ç»ŸæŠ€æœ¯çš„å‡çº§ï¼Œå¤§è‡´å‡çº§çš„èŒƒå›´ï¼š</p>\n<ul>\n<li>ç™»å½•ï¼Œé‡ç½®å¯†ç é‡æ„ï¼Œæ‘’å¼ƒåŸæ¥<code>jquery</code>é¡µé¢</li>\n<li>è·¯ç”±ï¼Œæƒé™çš„é‡ç½®ï¼Œéœ€è¦åç«¯å¼€å‘äººå‘˜é…åˆï¼Œç°åœ¨å¸‚é¢ä¸Šçš„ä¸­åå°ç³»ç»Ÿçš„è·¯ç”±å’Œæƒé™åŸºæœ¬éƒ½æ˜¯åç«¯æ¥ç®¡ç†ï¼Œå¾ˆå°‘ä½¿ç”¨å‰ç«¯è·¯ç”±</li>\n<li>åŸºç¡€åº“ï¼Œæ–¹æ³•çš„ç¼–å†™ï¼Œå¯¹äºå¸¸ç”¨çš„æ–¹æ³•ï¼Œ<code>hooks</code>éœ€è¦ç»Ÿä¸€å°è£…ç®¡ç†</li>\n<li>å¸¸ç”¨æšä¸¾çš„å°è£…ï¼Œæ¥å£å®šä¹‰ï¼Œç±»å‹å®šä¹‰</li>\n<li>è¯·æ±‚æ‹¦æˆªï¼Œç›¸åº”çš„å°è£…ï¼›</li>\n</ul>\n<h3 id=\"ç¯å¢ƒçš„é…ç½®\"><a href=\"#ç¯å¢ƒçš„é…ç½®\" class=\"headerlink\" title=\"ç¯å¢ƒçš„é…ç½®\"></a>ç¯å¢ƒçš„é…ç½®</h3><p>å½“ç„¶å¯¹äºä¼ä¸šé¡¹ç›®ï¼Œå¤šç¯å¢ƒå·²ç»æ˜¯å¸¸è§çš„ï¼Œå¼€å‘ç¯å¢ƒï¼Œæµ‹è¯•ç¯å¢ƒï¼Œé¢„å‘å¸ƒç¯å¢ƒï¼Œçº¿ä¸Šç¯å¢ƒç­‰ç­‰ï¼›å¯¹äºè¿™äº›ç¯å¢ƒä¸€äº›è¯·æ±‚çš„åŸŸåï¼Œé…ç½®å‚æ•°å½“ç„¶ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™æ—¶å€™å°±å¯ä»¥åœ¨<code>.env</code>æ–‡ä»¶ä¸­é…ç½®ï¼Œå¤§æ¦‚é…ç½®é¡¹å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">VITE_APP_API_URL=<span class=\"string\">&#x27;http://www.wangxiaoze.wang&#x27;</span></span><br><span class=\"line\">VITE_APP_API_KEY=<span class=\"string\">&#x27;abc&#x27;</span></span><br><span class=\"line\">VITE_APP_APP_ID=<span class=\"string\">&#x27;123456&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># å½“ç„¶å¯¹äºiframeé¡µé¢éœ€è¦ç›¸å¯¹ç¯å¢ƒçš„åŸŸåé…ç½®</span></span><br><span class=\"line\">VITE_APP_IFRAME_HOST=<span class=\"string\">&#x27;http://www.wangxiaoze.wang&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"utils-hooks-ç­‰åŸºç¡€é…ç½®çš„å°è£…\"><a href=\"#utils-hooks-ç­‰åŸºç¡€é…ç½®çš„å°è£…\" class=\"headerlink\" title=\"utils, hooks ç­‰åŸºç¡€é…ç½®çš„å°è£…\"></a>utils, hooks ç­‰åŸºç¡€é…ç½®çš„å°è£…</h3><ol>\n<li><code>utils</code>åŸºç¡€çš„æ–¹æ³•ï¼Œæ­£åˆ™çš„å°è£…ç­‰ç­‰ï¼›</li>\n<li><code>hooks</code>çš„å°è£…ï¼Œå¯¹äºä¸€äº›å¸¸ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚<code>loading</code>ï¼Œ<code>message</code>ï¼Œ<code>dialog</code>ï¼Œ<code>confirm</code>ï¼Œ <code>loading</code>ç­‰æ–¹æ³•ï¼Œéœ€è¦ç»Ÿä¸€å°è£…ç®¡ç†ï¼›</li>\n<li><code>config</code>å¯¹ä¸€äº›ç³»ç»Ÿçº§çš„é…ç½®é¡¹ï¼Œå¦‚ï¼šä¸ƒç‰›çš„é…ç½®ï¼Œæ ‡é¢˜ï¼Œlogo çš„é…ç½®ç­‰ç­‰</li>\n<li><code>store-pinia</code>çš„é…ç½®</li>\n<li><code>axios</code>çš„å°è£…ï¼Œå¯¹äºè¯·æ±‚çš„æ‹¦æˆªï¼Œå“åº”çš„å°è£…ï¼Œè¯·æ±‚çš„å°è£…ç­‰ç­‰</li>\n<li><code>api</code>çš„å°è£…ï¼Œå¯¹äºä¸€äº›æ¥å£çš„å°è£…ï¼Œå¦‚ï¼šä¸ƒç‰›çš„å›¾ç‰‡ä¸Šä¼ ï¼Œä¸ƒç‰›çš„å›¾ç‰‡åˆ é™¤ï¼Œä¸ƒç‰›çš„å›¾ç‰‡åˆ—è¡¨ç­‰ç­‰</li>\n</ol>\n<h3 id=\"axios-api-çš„å°è£…\"><a href=\"#axios-api-çš„å°è£…\" class=\"headerlink\" title=\"axios, api çš„å°è£…\"></a>axios, api çš„å°è£…</h3><p>å¯¹äº<code>axios</code>çš„ä½¿ç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"attr\">instance</span>: <span class=\"title class_\">AxiosInstance</span> = axios.<span class=\"title function_\">create</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">baseURL</span>: <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"keyword\">import</span>.meta.env.VITE_APP_BASE_URL&#125;</span>`</span>,</span><br><span class=\"line\">\t<span class=\"attr\">timeout</span>: <span class=\"number\">60000</span>,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è¯·æ±‚æ‹¦æˆªå™¨</span></span><br><span class=\"line\">instance.<span class=\"property\">interceptors</span>.<span class=\"property\">request</span>.<span class=\"title function_\">use</span>(</span><br><span class=\"line\">\t<span class=\"function\">(<span class=\"params\"><span class=\"attr\">config</span>: <span class=\"title class_\">InternalAxiosRequestConfig</span></span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¿®æ”¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> config;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"params\">error</span> =&gt;</span> error</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å“åº”æ‹¦æˆªå™¨</span></span><br><span class=\"line\">instance.<span class=\"property\">interceptors</span>.<span class=\"property\">response</span>.<span class=\"title function_\">use</span>(</span><br><span class=\"line\">\t<span class=\"function\">(<span class=\"params\"><span class=\"attr\">response</span>: <span class=\"title class_\">AxiosResponse</span></span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¿®æ”¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> response.<span class=\"property\">data</span>;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"params\">error</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"title class_\">Promise</span>.<span class=\"title function_\">reject</span>(error.<span class=\"property\">response</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">IHttpResult</span>&lt;T&gt; &#123;</span><br><span class=\"line\">\t<span class=\"attr\">code</span>: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">\t<span class=\"attr\">message</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"attr\">data</span>: T;</span><br><span class=\"line\">\t<span class=\"attr\">success</span>: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ³›å‹T: è¿”å›æ¥å£å­—æ®µç±»å‹ æ³›å‹U: æ˜¯å‚æ•°çš„æ•°æ®ç±»å‹</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> httpServer = &#123;</span><br><span class=\"line\">\tget&lt;T = <span class=\"built_in\">any</span>, U = <span class=\"built_in\">any</span>&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, <span class=\"attr\">params</span>: U): <span class=\"title class_\">Promise</span>&lt;<span class=\"title class_\">IHttpResult</span>&lt;T&gt;&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> instance.<span class=\"title function_\">request</span>(<span class=\"title function_\">getParamsConfig</span>(url, <span class=\"string\">&quot;get&quot;</span>, params));</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tpost&lt;T = <span class=\"built_in\">any</span>, U = <span class=\"built_in\">any</span>&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, <span class=\"attr\">params</span>: U): <span class=\"title class_\">Promise</span>&lt;<span class=\"title class_\">IHttpResult</span>&lt;T&gt;&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> instance.<span class=\"title function_\">request</span>(<span class=\"title function_\">getParamsConfig</span>(url, <span class=\"string\">&quot;post&quot;</span>, params));</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tput&lt;T = <span class=\"built_in\">any</span>, U = <span class=\"built_in\">any</span>&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, <span class=\"attr\">params</span>: U): <span class=\"title class_\">Promise</span>&lt;<span class=\"title class_\">IHttpResult</span>&lt;T&gt;&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> instance.<span class=\"title function_\">request</span>(<span class=\"title function_\">getParamsConfig</span>(url, <span class=\"string\">&quot;put&quot;</span>, params));</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"keyword\">delete</span>&lt;T = <span class=\"built_in\">any</span>, U = <span class=\"built_in\">any</span>&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, <span class=\"attr\">params</span>: U): <span class=\"title class_\">Promise</span>&lt;<span class=\"title class_\">IHttpResult</span>&lt;T&gt;&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> instance.<span class=\"title function_\">request</span>(<span class=\"title function_\">getParamsConfig</span>(url, <span class=\"string\">&quot;delete&quot;</span>, params));</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tpostForQuery&lt;T = <span class=\"built_in\">any</span>, U = <span class=\"built_in\">any</span>&gt;(</span><br><span class=\"line\">\t\t<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">params</span>: U</span><br><span class=\"line\">\t): <span class=\"title class_\">Promise</span>&lt;<span class=\"title class_\">IHttpResult</span>&lt;T&gt;&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> instance.<span class=\"title function_\">request</span>(</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">getParamsConfig</span>(</span><br><span class=\"line\">\t\t\t\turl,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;post&quot;</span>,</span><br><span class=\"line\">\t\t\t\tqs.<span class=\"title function_\">stringify</span>(params, &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">arrayFormat</span>: <span class=\"string\">&quot;repeat&quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;)</span><br><span class=\"line\">\t\t\t)</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> &#123; instance <span class=\"keyword\">as</span> axios, httpServer &#125;;</span><br></pre></td></tr></table></figure>\n\n<p>ç³»ç»Ÿé‡‡ç”¨çš„æ˜¯<code>ts</code>,é‚£ä¹ˆå¯¹äº<code>api</code>çš„ç®¡ç†ä½¿ç”¨æšä¸¾æ•´ç†ï¼Œç›¸å…³<code>api</code>çš„é…ç½®å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">enum</span> <span class=\"title class_\">UsetApi</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸ƒç‰›å›¾ç‰‡ä¸Šä¼ </span></span><br><span class=\"line\">\t<span class=\"title class_\">UploadImage</span> = <span class=\"string\">&quot;/api/upload/image&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸ƒç‰›å›¾ç‰‡åˆ é™¤</span></span><br><span class=\"line\">\t<span class=\"title class_\">DeleteImage</span> = <span class=\"string\">&quot;/api/upload/delete&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸ƒç‰›å›¾ç‰‡åˆ—è¡¨</span></span><br><span class=\"line\">\t<span class=\"title class_\">ImageList</span> = <span class=\"string\">&quot;/api/upload/list&quot;</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; httpServer &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/http&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> getList&lt;T, U&gt;(<span class=\"attr\">data</span>: U) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> httpServer.<span class=\"property\">get</span>&lt;T&gt;(<span class=\"title class_\">UsetApi</span>.<span class=\"property\">ImageList</span>, data);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"iframe-å†…åµŒé¡µé¢ç¼“å­˜\"><a href=\"#iframe-å†…åµŒé¡µé¢ç¼“å­˜\" class=\"headerlink\" title=\"iframe å†…åµŒé¡µé¢ç¼“å­˜\"></a>iframe å†…åµŒé¡µé¢ç¼“å­˜</h3><p>åˆšå¼€å§‹ä½¿ç”¨<code>iframe</code>ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯<code>iframe</code>å†…åµŒé¡µé¢åˆ·æ–°åï¼Œ<code>iframe</code>ä¼šé‡æ–°åŠ è½½ï¼Œå¯¼è‡´é¡µé¢ä¼šé‡æ–°åˆ·æ–°ï¼Œiframe èµ„æºä¹Ÿä¼šé‡æ–°åŠ è½½ï¼Œä¼šé€ æˆæ€§èƒ½å½±å“ é‚£ä¹ˆå¦‚ä½•è§£å†³å‘¢ï¼Ÿ</p>\n<ul>\n<li>ä½¿ç”¨<code>v-show</code>è¿™æ ·å°±å¯ä»¥é¿å…åˆ·æ–°èµ„æºçš„é—®é¢˜</li>\n<li>å®šä½å°† iframe é¡µé¢å®šä½å¯è§†åŒºåŸŸä¹‹å¤–ï¼›</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;iframe</span><br><span class=\"line\">\tv-for=&quot;item in routes&quot;</span><br><span class=\"line\">\t:key=&quot;item.path&quot;</span><br><span class=\"line\">\tv-show=&quot;item.path === route.path&quot;</span><br><span class=\"line\">/&gt;</span><br></pre></td></tr></table></figure>\n\n<p>è™½ç„¶å‘ç°ä¸ä¼šå†æ¬¡è¯·æ±‚èµ„æºï¼Œåˆ·æ–°é¡µé¢ï¼Œä½†æ˜¯ä¼šå‘ç°ä¸€ä¸ªç»†èŠ‚é—®é¢˜ï¼Œé‚£å°±æ˜¯æ»šåŠ¨æ¡ä¸ä¼šå®šä½åˆ°ä¸Šæ¬¡çš„ä½ç½®ï¼Œè¿™æ ·ç”¨æˆ·é¢‘ç¹è·³è½¬é¡µé¢ï¼Œæ»šåŠ¨æ¡ä¸ä¼šå®šä½ï¼Œä¼šé€ æˆä¸€å®šçš„ä½¿ç”¨ä¸ä¾¿ï¼›</p>\n<p>å¦å¤–çš„ä¸€ä¸­æ–¹æ¡ˆå¯ä»¥è§£å†³æ­¤ç±»é—®é¢˜ï¼›</p>\n<h3 id=\"è€ç³»ç»Ÿçš„é¢„è§ˆå›¾ç‰‡ï¼Œæ‰“å¼€æ ‡ç­¾é¡µå…¼å®¹\"><a href=\"#è€ç³»ç»Ÿçš„é¢„è§ˆå›¾ç‰‡ï¼Œæ‰“å¼€æ ‡ç­¾é¡µå…¼å®¹\" class=\"headerlink\" title=\"è€ç³»ç»Ÿçš„é¢„è§ˆå›¾ç‰‡ï¼Œæ‰“å¼€æ ‡ç­¾é¡µå…¼å®¹\"></a>è€ç³»ç»Ÿçš„é¢„è§ˆå›¾ç‰‡ï¼Œæ‰“å¼€æ ‡ç­¾é¡µå…¼å®¹</h3><p>æç³»ç»Ÿçš„é¢„è§ˆå›¾ç‰‡ä¼šæ‰“å¼€æ–°çš„æ ‡ç­¾é¡µï¼Œä½†æ˜¯æ–°ç³»ç»Ÿè¦ä½¿ç”¨<code>element-plus</code>çš„é¢„è§ˆå›¾ç‰‡çš„æ ·å¼ï¼Œå½“ç„¶æ‰“å¼€æ ‡ç­¾é¡µä¹Ÿæ˜¯åŒæ ·é—®é¢˜ï¼›</p>\n<p>æƒ³è¦åŒæ—¶è§£å†³æ–°è€ç³»ç»Ÿçš„å…¼å®¹é—®é¢˜ï¼Œé‚£ä¹ˆå¯ä»¥å‚è€ƒä¸€ä¸‹æ–¹æ¡ˆï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è€ç³»ç»Ÿ</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">parent</span>.<span class=\"title function_\">postMessage</span>(</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">command</span>: <span class=\"string\">&quot;open&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">url</span>: url,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"string\">&quot;*&quot;</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ–°ç³»ç»Ÿ</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;message&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (e.<span class=\"property\">data</span>.<span class=\"property\">command</span> === <span class=\"string\">&quot;open&quot;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ ¹æ®è‡ªå·±çš„æƒ…å†µæ“ä½œé€»è¾‘</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// åˆ¤æ–­æ˜¯å¦æ˜¯å½“å‰é¡µé¢æ‰“å¼€</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç§»é™¤ï¼Œé¿å…å åŠ </span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">removeEventListener</span>(<span class=\"string\">&quot;message&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (e.<span class=\"property\">data</span>.<span class=\"property\">command</span> === <span class=\"string\">&quot;open&quot;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ ¹æ®è‡ªå·±çš„æƒ…å†µæ“ä½œé€»è¾‘</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// åˆ¤æ–­æ˜¯å¦æ˜¯å½“å‰é¡µé¢æ‰“å¼€</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>å½“ç„¶å›¾ç‰‡æˆ–è€…å…¶ä»–ä¹Ÿæ˜¯ç±»ä¼¼æ“ä½œï¼›</p>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>æœ€è¿‘åœ¨å¯¹å…¬å¸<code>node+jquery</code>æç³»ç»ŸåŸºå±‚è¿›è¡Œç‰ˆæœ¬å‡çº§ï¼Œä½¿ç”¨æœ€æ–°æŠ€æœ¯æ ˆ<code>vue + ts + vite + pinia</code>ï¼Œå¯¹äºæç³»ç»ŸåŸæœ‰é¡µé¢å°†ä¼šè¿›è¡Œ<code>iframe</code>ä¸ä¼šå†å…¶åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œå¤§å¤§å‡å°‘äº†ç»´æŠ¤æˆæœ¬ï¼Œä½†æ˜¯ç”±äºå…¶é¡µé¢è¾ƒå¤šï¼Œä¸”é¡µé¢ä¹‹é—´å­˜åœ¨å…³è”ï¼Œæ‰€ä»¥éœ€è¦å¯¹é¡µé¢è¿›è¡Œç¼“å­˜ï¼Œé¿å…é‡å¤åŠ è½½ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼Œå…¶ä¸­ä¹Ÿé‡åˆ°äº†ä¸€ç³»åˆ—å…¼å®¹é—®é¢˜ï¼Œæ€»ç»“å¦‚ä¸‹ï¼š</p>\n<p>å¯¹äºç³»ç»Ÿå‡çº§ï¼Œå½“ç„¶è¦ä½¿ç”¨æœ€æ–°æŠ€æœ¯æ ˆäº†ï¼Œè¿™æ ·å…¬å¸ä½¿ç”¨çš„æŠ€æœ¯æ ˆå°±ä¼šç»Ÿä¸€ï¼Œä¹Ÿä¸ä¼šå› ä¸ºæŠ€æœ¯æ ˆä¸ç»Ÿä¸€å¯¼è‡´ä¸ªäººæˆé•¿ç¼“æ…¢ï¼›å¯¹äºç›¸å¯¹ç³»åˆ—é—®é¢˜ä¹Ÿå¯ä»¥è¿›è¡Œå°ç»„æ¢è®¨ï¼›</p>\n<p>ä»è®¡åˆ’å¼€å§‹éƒ¨ç½²åˆ°çœŸæ­£ä¸Šæ‰‹æ”¹é€ èŠ±è´¹å°†è¿‘ä¸€å‘¨æ—¶é—´ï¼Œåº•å±‚æ¡†æ¶ç»“æ„é‡‡ç”¨<code>vue</code>ï¼Œé‡Œå±‚å†…å®¹é‡‡ç”¨<code>iframe</code>é“¾æ¥è€é¡¹ç›®é¡µé¢ï¼›</p>\n<h2 id=\"Start\"><a href=\"#Start\" class=\"headerlink\" title=\"Start\"></a>Start</h2><p>å¼€å§‹è¿›è¡Œå¯¹ç³»ç»ŸæŠ€æœ¯çš„å‡çº§ï¼Œå¤§è‡´å‡çº§çš„èŒƒå›´ï¼š</p>\n<ul>\n<li>ç™»å½•ï¼Œé‡ç½®å¯†ç é‡æ„ï¼Œæ‘’å¼ƒåŸæ¥<code>jquery</code>é¡µé¢</li>\n<li>è·¯ç”±ï¼Œæƒé™çš„é‡ç½®ï¼Œéœ€è¦åç«¯å¼€å‘äººå‘˜é…åˆï¼Œç°åœ¨å¸‚é¢ä¸Šçš„ä¸­åå°ç³»ç»Ÿçš„è·¯ç”±å’Œæƒé™åŸºæœ¬éƒ½æ˜¯åç«¯æ¥ç®¡ç†ï¼Œå¾ˆå°‘ä½¿ç”¨å‰ç«¯è·¯ç”±</li>\n<li>åŸºç¡€åº“ï¼Œæ–¹æ³•çš„ç¼–å†™ï¼Œå¯¹äºå¸¸ç”¨çš„æ–¹æ³•ï¼Œ<code>hooks</code>éœ€è¦ç»Ÿä¸€å°è£…ç®¡ç†</li>\n<li>å¸¸ç”¨æšä¸¾çš„å°è£…ï¼Œæ¥å£å®šä¹‰ï¼Œç±»å‹å®šä¹‰</li>\n<li>è¯·æ±‚æ‹¦æˆªï¼Œç›¸åº”çš„å°è£…ï¼›</li>\n</ul>\n<h3 id=\"ç¯å¢ƒçš„é…ç½®\"><a href=\"#ç¯å¢ƒçš„é…ç½®\" class=\"headerlink\" title=\"ç¯å¢ƒçš„é…ç½®\"></a>ç¯å¢ƒçš„é…ç½®</h3><p>å½“ç„¶å¯¹äºä¼ä¸šé¡¹ç›®ï¼Œå¤šç¯å¢ƒå·²ç»æ˜¯å¸¸è§çš„ï¼Œå¼€å‘ç¯å¢ƒï¼Œæµ‹è¯•ç¯å¢ƒï¼Œé¢„å‘å¸ƒç¯å¢ƒï¼Œçº¿ä¸Šç¯å¢ƒç­‰ç­‰ï¼›å¯¹äºè¿™äº›ç¯å¢ƒä¸€äº›è¯·æ±‚çš„åŸŸåï¼Œé…ç½®å‚æ•°å½“ç„¶ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™æ—¶å€™å°±å¯ä»¥åœ¨<code>.env</code>æ–‡ä»¶ä¸­é…ç½®ï¼Œå¤§æ¦‚é…ç½®é¡¹å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">VITE_APP_API_URL=<span class=\"string\">&#x27;http://www.wangxiaoze.wang&#x27;</span></span><br><span class=\"line\">VITE_APP_API_KEY=<span class=\"string\">&#x27;abc&#x27;</span></span><br><span class=\"line\">VITE_APP_APP_ID=<span class=\"string\">&#x27;123456&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># å½“ç„¶å¯¹äºiframeé¡µé¢éœ€è¦ç›¸å¯¹ç¯å¢ƒçš„åŸŸåé…ç½®</span></span><br><span class=\"line\">VITE_APP_IFRAME_HOST=<span class=\"string\">&#x27;http://www.wangxiaoze.wang&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"utils-hooks-ç­‰åŸºç¡€é…ç½®çš„å°è£…\"><a href=\"#utils-hooks-ç­‰åŸºç¡€é…ç½®çš„å°è£…\" class=\"headerlink\" title=\"utils, hooks ç­‰åŸºç¡€é…ç½®çš„å°è£…\"></a>utils, hooks ç­‰åŸºç¡€é…ç½®çš„å°è£…</h3><ol>\n<li><code>utils</code>åŸºç¡€çš„æ–¹æ³•ï¼Œæ­£åˆ™çš„å°è£…ç­‰ç­‰ï¼›</li>\n<li><code>hooks</code>çš„å°è£…ï¼Œå¯¹äºä¸€äº›å¸¸ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚<code>loading</code>ï¼Œ<code>message</code>ï¼Œ<code>dialog</code>ï¼Œ<code>confirm</code>ï¼Œ <code>loading</code>ç­‰æ–¹æ³•ï¼Œéœ€è¦ç»Ÿä¸€å°è£…ç®¡ç†ï¼›</li>\n<li><code>config</code>å¯¹ä¸€äº›ç³»ç»Ÿçº§çš„é…ç½®é¡¹ï¼Œå¦‚ï¼šä¸ƒç‰›çš„é…ç½®ï¼Œæ ‡é¢˜ï¼Œlogo çš„é…ç½®ç­‰ç­‰</li>\n<li><code>store-pinia</code>çš„é…ç½®</li>\n<li><code>axios</code>çš„å°è£…ï¼Œå¯¹äºè¯·æ±‚çš„æ‹¦æˆªï¼Œå“åº”çš„å°è£…ï¼Œè¯·æ±‚çš„å°è£…ç­‰ç­‰</li>\n<li><code>api</code>çš„å°è£…ï¼Œå¯¹äºä¸€äº›æ¥å£çš„å°è£…ï¼Œå¦‚ï¼šä¸ƒç‰›çš„å›¾ç‰‡ä¸Šä¼ ï¼Œä¸ƒç‰›çš„å›¾ç‰‡åˆ é™¤ï¼Œä¸ƒç‰›çš„å›¾ç‰‡åˆ—è¡¨ç­‰ç­‰</li>\n</ol>\n<h3 id=\"axios-api-çš„å°è£…\"><a href=\"#axios-api-çš„å°è£…\" class=\"headerlink\" title=\"axios, api çš„å°è£…\"></a>axios, api çš„å°è£…</h3><p>å¯¹äº<code>axios</code>çš„ä½¿ç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"attr\">instance</span>: <span class=\"title class_\">AxiosInstance</span> = axios.<span class=\"title function_\">create</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">baseURL</span>: <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"keyword\">import</span>.meta.env.VITE_APP_BASE_URL&#125;</span>`</span>,</span><br><span class=\"line\">\t<span class=\"attr\">timeout</span>: <span class=\"number\">60000</span>,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è¯·æ±‚æ‹¦æˆªå™¨</span></span><br><span class=\"line\">instance.<span class=\"property\">interceptors</span>.<span class=\"property\">request</span>.<span class=\"title function_\">use</span>(</span><br><span class=\"line\">\t<span class=\"function\">(<span class=\"params\"><span class=\"attr\">config</span>: <span class=\"title class_\">InternalAxiosRequestConfig</span></span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¿®æ”¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> config;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"params\">error</span> =&gt;</span> error</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å“åº”æ‹¦æˆªå™¨</span></span><br><span class=\"line\">instance.<span class=\"property\">interceptors</span>.<span class=\"property\">response</span>.<span class=\"title function_\">use</span>(</span><br><span class=\"line\">\t<span class=\"function\">(<span class=\"params\"><span class=\"attr\">response</span>: <span class=\"title class_\">AxiosResponse</span></span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¿®æ”¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> response.<span class=\"property\">data</span>;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"params\">error</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"title class_\">Promise</span>.<span class=\"title function_\">reject</span>(error.<span class=\"property\">response</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">IHttpResult</span>&lt;T&gt; &#123;</span><br><span class=\"line\">\t<span class=\"attr\">code</span>: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">\t<span class=\"attr\">message</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"attr\">data</span>: T;</span><br><span class=\"line\">\t<span class=\"attr\">success</span>: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ³›å‹T: è¿”å›æ¥å£å­—æ®µç±»å‹ æ³›å‹U: æ˜¯å‚æ•°çš„æ•°æ®ç±»å‹</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> httpServer = &#123;</span><br><span class=\"line\">\tget&lt;T = <span class=\"built_in\">any</span>, U = <span class=\"built_in\">any</span>&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, <span class=\"attr\">params</span>: U): <span class=\"title class_\">Promise</span>&lt;<span class=\"title class_\">IHttpResult</span>&lt;T&gt;&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> instance.<span class=\"title function_\">request</span>(<span class=\"title function_\">getParamsConfig</span>(url, <span class=\"string\">&quot;get&quot;</span>, params));</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tpost&lt;T = <span class=\"built_in\">any</span>, U = <span class=\"built_in\">any</span>&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, <span class=\"attr\">params</span>: U): <span class=\"title class_\">Promise</span>&lt;<span class=\"title class_\">IHttpResult</span>&lt;T&gt;&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> instance.<span class=\"title function_\">request</span>(<span class=\"title function_\">getParamsConfig</span>(url, <span class=\"string\">&quot;post&quot;</span>, params));</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tput&lt;T = <span class=\"built_in\">any</span>, U = <span class=\"built_in\">any</span>&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, <span class=\"attr\">params</span>: U): <span class=\"title class_\">Promise</span>&lt;<span class=\"title class_\">IHttpResult</span>&lt;T&gt;&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> instance.<span class=\"title function_\">request</span>(<span class=\"title function_\">getParamsConfig</span>(url, <span class=\"string\">&quot;put&quot;</span>, params));</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"keyword\">delete</span>&lt;T = <span class=\"built_in\">any</span>, U = <span class=\"built_in\">any</span>&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, <span class=\"attr\">params</span>: U): <span class=\"title class_\">Promise</span>&lt;<span class=\"title class_\">IHttpResult</span>&lt;T&gt;&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> instance.<span class=\"title function_\">request</span>(<span class=\"title function_\">getParamsConfig</span>(url, <span class=\"string\">&quot;delete&quot;</span>, params));</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tpostForQuery&lt;T = <span class=\"built_in\">any</span>, U = <span class=\"built_in\">any</span>&gt;(</span><br><span class=\"line\">\t\t<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">params</span>: U</span><br><span class=\"line\">\t): <span class=\"title class_\">Promise</span>&lt;<span class=\"title class_\">IHttpResult</span>&lt;T&gt;&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> instance.<span class=\"title function_\">request</span>(</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">getParamsConfig</span>(</span><br><span class=\"line\">\t\t\t\turl,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;post&quot;</span>,</span><br><span class=\"line\">\t\t\t\tqs.<span class=\"title function_\">stringify</span>(params, &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">arrayFormat</span>: <span class=\"string\">&quot;repeat&quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;)</span><br><span class=\"line\">\t\t\t)</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> &#123; instance <span class=\"keyword\">as</span> axios, httpServer &#125;;</span><br></pre></td></tr></table></figure>\n\n<p>ç³»ç»Ÿé‡‡ç”¨çš„æ˜¯<code>ts</code>,é‚£ä¹ˆå¯¹äº<code>api</code>çš„ç®¡ç†ä½¿ç”¨æšä¸¾æ•´ç†ï¼Œç›¸å…³<code>api</code>çš„é…ç½®å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">enum</span> <span class=\"title class_\">UsetApi</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸ƒç‰›å›¾ç‰‡ä¸Šä¼ </span></span><br><span class=\"line\">\t<span class=\"title class_\">UploadImage</span> = <span class=\"string\">&quot;/api/upload/image&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸ƒç‰›å›¾ç‰‡åˆ é™¤</span></span><br><span class=\"line\">\t<span class=\"title class_\">DeleteImage</span> = <span class=\"string\">&quot;/api/upload/delete&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸ƒç‰›å›¾ç‰‡åˆ—è¡¨</span></span><br><span class=\"line\">\t<span class=\"title class_\">ImageList</span> = <span class=\"string\">&quot;/api/upload/list&quot;</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; httpServer &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/http&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> getList&lt;T, U&gt;(<span class=\"attr\">data</span>: U) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> httpServer.<span class=\"property\">get</span>&lt;T&gt;(<span class=\"title class_\">UsetApi</span>.<span class=\"property\">ImageList</span>, data);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"iframe-å†…åµŒé¡µé¢ç¼“å­˜\"><a href=\"#iframe-å†…åµŒé¡µé¢ç¼“å­˜\" class=\"headerlink\" title=\"iframe å†…åµŒé¡µé¢ç¼“å­˜\"></a>iframe å†…åµŒé¡µé¢ç¼“å­˜</h3><p>åˆšå¼€å§‹ä½¿ç”¨<code>iframe</code>ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯<code>iframe</code>å†…åµŒé¡µé¢åˆ·æ–°åï¼Œ<code>iframe</code>ä¼šé‡æ–°åŠ è½½ï¼Œå¯¼è‡´é¡µé¢ä¼šé‡æ–°åˆ·æ–°ï¼Œiframe èµ„æºä¹Ÿä¼šé‡æ–°åŠ è½½ï¼Œä¼šé€ æˆæ€§èƒ½å½±å“ é‚£ä¹ˆå¦‚ä½•è§£å†³å‘¢ï¼Ÿ</p>\n<ul>\n<li>ä½¿ç”¨<code>v-show</code>è¿™æ ·å°±å¯ä»¥é¿å…åˆ·æ–°èµ„æºçš„é—®é¢˜</li>\n<li>å®šä½å°† iframe é¡µé¢å®šä½å¯è§†åŒºåŸŸä¹‹å¤–ï¼›</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;iframe</span><br><span class=\"line\">\tv-for=&quot;item in routes&quot;</span><br><span class=\"line\">\t:key=&quot;item.path&quot;</span><br><span class=\"line\">\tv-show=&quot;item.path === route.path&quot;</span><br><span class=\"line\">/&gt;</span><br></pre></td></tr></table></figure>\n\n<p>è™½ç„¶å‘ç°ä¸ä¼šå†æ¬¡è¯·æ±‚èµ„æºï¼Œåˆ·æ–°é¡µé¢ï¼Œä½†æ˜¯ä¼šå‘ç°ä¸€ä¸ªç»†èŠ‚é—®é¢˜ï¼Œé‚£å°±æ˜¯æ»šåŠ¨æ¡ä¸ä¼šå®šä½åˆ°ä¸Šæ¬¡çš„ä½ç½®ï¼Œè¿™æ ·ç”¨æˆ·é¢‘ç¹è·³è½¬é¡µé¢ï¼Œæ»šåŠ¨æ¡ä¸ä¼šå®šä½ï¼Œä¼šé€ æˆä¸€å®šçš„ä½¿ç”¨ä¸ä¾¿ï¼›</p>\n<p>å¦å¤–çš„ä¸€ä¸­æ–¹æ¡ˆå¯ä»¥è§£å†³æ­¤ç±»é—®é¢˜ï¼›</p>\n<h3 id=\"è€ç³»ç»Ÿçš„é¢„è§ˆå›¾ç‰‡ï¼Œæ‰“å¼€æ ‡ç­¾é¡µå…¼å®¹\"><a href=\"#è€ç³»ç»Ÿçš„é¢„è§ˆå›¾ç‰‡ï¼Œæ‰“å¼€æ ‡ç­¾é¡µå…¼å®¹\" class=\"headerlink\" title=\"è€ç³»ç»Ÿçš„é¢„è§ˆå›¾ç‰‡ï¼Œæ‰“å¼€æ ‡ç­¾é¡µå…¼å®¹\"></a>è€ç³»ç»Ÿçš„é¢„è§ˆå›¾ç‰‡ï¼Œæ‰“å¼€æ ‡ç­¾é¡µå…¼å®¹</h3><p>æç³»ç»Ÿçš„é¢„è§ˆå›¾ç‰‡ä¼šæ‰“å¼€æ–°çš„æ ‡ç­¾é¡µï¼Œä½†æ˜¯æ–°ç³»ç»Ÿè¦ä½¿ç”¨<code>element-plus</code>çš„é¢„è§ˆå›¾ç‰‡çš„æ ·å¼ï¼Œå½“ç„¶æ‰“å¼€æ ‡ç­¾é¡µä¹Ÿæ˜¯åŒæ ·é—®é¢˜ï¼›</p>\n<p>æƒ³è¦åŒæ—¶è§£å†³æ–°è€ç³»ç»Ÿçš„å…¼å®¹é—®é¢˜ï¼Œé‚£ä¹ˆå¯ä»¥å‚è€ƒä¸€ä¸‹æ–¹æ¡ˆï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è€ç³»ç»Ÿ</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">parent</span>.<span class=\"title function_\">postMessage</span>(</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">command</span>: <span class=\"string\">&quot;open&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">url</span>: url,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"string\">&quot;*&quot;</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ–°ç³»ç»Ÿ</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;message&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (e.<span class=\"property\">data</span>.<span class=\"property\">command</span> === <span class=\"string\">&quot;open&quot;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ ¹æ®è‡ªå·±çš„æƒ…å†µæ“ä½œé€»è¾‘</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// åˆ¤æ–­æ˜¯å¦æ˜¯å½“å‰é¡µé¢æ‰“å¼€</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç§»é™¤ï¼Œé¿å…å åŠ </span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">removeEventListener</span>(<span class=\"string\">&quot;message&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (e.<span class=\"property\">data</span>.<span class=\"property\">command</span> === <span class=\"string\">&quot;open&quot;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ ¹æ®è‡ªå·±çš„æƒ…å†µæ“ä½œé€»è¾‘</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// åˆ¤æ–­æ˜¯å¦æ˜¯å½“å‰é¡µé¢æ‰“å¼€</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>å½“ç„¶å›¾ç‰‡æˆ–è€…å…¶ä»–ä¹Ÿæ˜¯ç±»ä¼¼æ“ä½œï¼›</p>\n"},{"title":"å·¥ä½œå†…å®¹-é€‰é¡¹å¡loading","abbrlink":"337da9c4","date":"2024-07-08T01:05:01.000Z","_content":"\n# åœºæ™¯\n\n\n`é€‰é¡¹å¡`åˆ‡æ¢çš„å¸¸è§æ˜¯å¾ˆå¸¸è§çš„ï¼Œå°±æ¯”å¦‚è¯´ï¼šä¸åŒå•†å“ç§ç±»ï¼Œåˆ‡æ¢æ˜¾ç¤ºè¯¥å¯¹åº”çš„å•†å“ä¿¡æ¯ï¼›ä½†æ˜¯å¦‚æœåœ¨ä¸åšé¡µé¢ç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œæ˜¯æ¯æ¬¡åˆ‡æ¢æˆ–è€…ç‚¹å‡»çš„æ—¶å€™éƒ½ä¼šå»è¯·æ±‚æ¥å£çš„ï¼Œä½†æ˜¯å¯¹äºè¿™ä¸ªåˆ‡æ¢çš„æ—¶å€™æ— éå°±æ˜¯æ‹¿åˆ°å¯¹åº”çš„`id`è¯·æ±‚ï¼›\n\n\nä½†æ˜¯æœ‰æ²¡æœ‰ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ–¹æ¡ˆå‘¢ï¼Œä¸€ä¸ªåŠŸèƒ½é¡µé¢ï¼Œå±•ç¤ºçš„çŠ¶æ€è·Ÿåˆ«ä¸ºï¼šè¯·æ±‚æ—¶çš„`laoding`çŠ¶æ€ï¼Œè¯·æ±‚æˆåŠŸæ¸²æŸ“é¡µé¢çš„ç»“æœé¡µ(`success`)ï¼Œå› ä¸ºå…¶ä»–åŸå› å¯¼è‡´è¯·æ±‚å¤±è´¥çš„å¤±è´¥æ•ˆæœ(`error`)ï¼Œè¿˜è¦æœ‰ä¸€ä¸ª`é‡æ–°è¯·æ±‚æˆ–è€…åˆ·æ–°çš„åŠŸèƒ½`ï¼Œä½†è¿™ä¸ªåŠŸèƒ½å¯¹äº`h5`é¡µé¢æ¥è®²æ˜¯éå¸¸ä¸é”™çš„ä¸€ä¸ªä¼˜åŒ–æ–¹æ¡ˆï¼›\n\nå¯¹äºè¿™æ ·çš„åŠŸèƒ½ï¼Œå¸¸è§„çš„å†™æ³•å°±æ˜¯ï¼Œå†™ä¸€ä¸ªæ–¹æ³•ç”¨äºè¯·æ±‚æ•°æ®ï¼Œå¹¶ä¸”æ¥æ”¶ä¸€ä¸ª`id`çš„å‚æ•°ï¼Œæ‹¿åˆ°å‚æ•°å»è¯·æ±‚ï¼Œæ¯æ¬¡åˆ‡æ¢çš„æ—¶å€™é‡æ–°è°ƒç”¨è¯¥æ–¹æ³•ï¼›é¡µé¢ä¸­æ¸²æŸ“çš„è¯ï¼Œå°±ä¸‰ç§æƒ…å†µï¼Œå¤±è´¥çš„æƒ…å†µæ¸²æŸ“ä¸€ä¸ªæŒ‰é’®ï¼Œç”¨äºé‡æ–°è¯·æ±‚æˆ–è€…åˆ·æ–°ï¼›\n\nè™½ç„¶è¿™æ ·çš„æ–¹æ¡ˆæ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå¾®å°çš„é—®é¢˜ï¼Œå°±æ˜¯ä¸€ä¸ªé¡¹ç›®ä¸­æœ‰é‡å¤ç±»ä¼¼çš„åŠŸèƒ½ï¼Œå²‚ä¸æ˜¯éƒ½è¦é‡æ–°å†™ä¸€éï¼›\n\nå¯¹äºä¼ä¸šçº§é¡¹ç›®æ¥è®²ï¼Œ éœ€è¦å°è£…ç»Ÿä¸€ä¸€ä¸‹ï¼Œä¸ç„¶ç±»ä¼¼é¡µé¢ç±»ä¼¼åŠŸèƒ½ä»£ç å¤ªå¤šå¤ªå¤šäº†ï¼›åœ¨å¸¸è§„æ–¹æ¡ˆçš„å‡½æ•°ä¸Šè¿›è¡Œä¼˜åŒ–å³å¯ï¼›\n\n## Handler\n\nè§£æè¿‡ç¨‹å‚è€ƒä¸‹å›¾ï¼š\n![è§£æå›¾](https://wangxiaoze-view.github.io/picx-images-hosting/images/tabs_loading.png)\n\nè¿™é‡Œçš„æ¡ˆä¾‹é’ˆå¯¹äº`vue`æ¥è®²çš„ï¼Œå¦‚å›¾ï¼Œæ ¹æ®åˆ‡æ¢çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼›ä¼˜åŒ–çš„æ–¹æ¡ˆå…¶ä¸­å…³é”®çš„æ˜¯`å¯¹äºurlæˆ–è€…idä¾èµ–`çš„ç›‘å¬ï¼›è¿™é‡Œå¯ä½¿ç”¨`computed`,ä¸ºä»€ä¹ˆä¸åŒ`watch`å‘¢ï¼Œ`computed`æ˜¯ä¾èµ–ç¼“å­˜å€¼çš„å˜æ¢è¿›è¡Œæ›´æ–°çš„ï¼Œæ¶ˆè€—å°ï¼Œè§£æ`dom`å…ƒç´ åŠ è½½åç«‹é©¬æ‰§è¡Œçš„ï¼Œå†…éƒ¨ç¼“å­˜æœºåˆ¶å¤ç”¨ï¼Œæ•ˆç‡é«˜ï¼Œè°ƒè¯•æ–¹ä¾¿ï¼› è€Œ`watch`åœ¨é¦–æ¬¡åŠ è½½çš„æ—¶å€™é»˜è®¤æ˜¯ä¸è¿›è¡Œæ›´æ–°ï¼Œç”¨äºè§‚å¯Ÿ`vue`çš„æ•°æ®å˜åŠ¨ï¼Œç›‘å¬å€¼æ˜¯å¿…é¡»å­˜åœ¨çš„ï¼›\n\nåœ¨è§¦å‘æŸä¸€äº‹ä»¶åï¼Œå…ˆ `computed` å† `methods` å†åˆ° `watchï¼Œcomputed` è®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„ä¾èµ–è¿›è¡Œç¼“å­˜çš„\n\nå¯¹äº`url`è¿›è¡Œ`computed`å±æ€§ï¼Œå‘ç”Ÿå˜åŒ–è‡ªåŠ¨æ‰§è¡Œè¯·æ±‚å‡½æ•°ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½è°ƒç”¨æ–¹æ³•äº†ï¼›\n\nå¯¹äº`computed`å¦‚ä½•ç›‘å¬æ˜¯ä¸æ˜¯å°±æ˜¯æ›´æ–°äº†çš„ï¼Œé…åˆ`watchEffect`æ­é…ä½¿ç”¨ï¼Œ`watchEffect`æ˜¯ä¸€ä¸ªç›‘å¬å™¨ï¼Œä¼šè‡ªåŠ¨ç›‘å¬æ•°æ®ç±»å‹çš„å±æ€§ï¼Œä¸éœ€è¦å…·ä½“åˆ°æŸä¸ªå±æ€§ï¼Œä¸€æ—¦è¿è¡Œå°±ä¼šç«‹å³ç›‘å¬ï¼Œç»„ä»¶å¸è½½çš„æ—¶å€™ä¼šåœæ­¢ç›‘å¬ã€‚å¦‚ä¸‹ï¼š\n\n```js\nimport {computed, watchEffect} from 'vue'\n\ncont id = ref(1)\n\nconst changeId = () => id.value++;\n\nconst url = computed(() => 'https://api-xxxxx.com' + id.value);\n\nwatchEffect(() => {\n    console.log('watchEffect to url', url);\n})\n\n```\n\næ¯æ¬¡æ‰§è¡Œ`changeId`ï¼Œ `id`çš„ä¾èµ–å°±ä¼šè¿›è¡Œæ›´æ–°ï¼Œè€Œ`watchEffect`å¯ä»¥ç›‘å¬åˆ°`id` å’Œ`url`çš„æœ€æ–°å€¼ï¼›ä¸è¿‡`watchEffect`æ˜¯ä¸èƒ½è·å–ä¸Šä¸€æ¬¡çš„å€¼çš„ï¼Œ`watch`æ˜¯å¯ä»¥çš„ï¼›\n\næ¥ç€äº`url`å‚æ•°è¿›è¡Œå…¼å®¹åˆ¤æ–­ï¼Œå¦‚æœæ˜¯ä¸€ä¸ª`ref`ç±»å‹çš„å€¼ï¼Œè¿›è¡Œç›‘å¬`watchEffect`ï¼Œä¸æ˜¯çš„æƒ…å†µæ‰§è¡Œè‡ªèº«çš„è¯·æ±‚å‡½æ•°ï¼›å¦‚ä¸‹ï¼š\n\n```js\nexport function useFetch(url) {\n\tfunction doFetch() {\n\t\t// è¯·æ±‚apiæ¥å£...\n\t}\n\n\t// isRef: æ˜¯å¦æ˜¯refçš„å€¼ï¼›\n\tif (isRef(url)) {\n\t\twatchEffect(doFetch);\n\t} else {\n\t\tdoFetch();\n\t}\n}\n```\n\nå¯¹äºæˆåŠŸï¼Œå¤±è´¥ï¼ŒåŠ è½½çŠ¶æ€ä¹Ÿå¾ˆç®€å•ï¼Œå¦‚ä¸‹ï¼š\n\n```js\nexport function useFetch(url) {\n\t// æ•°æ®\n\tconst data = ref(null);\n\t// å¤±è´¥\n\tconst error = ref(null);\n\n\tasync function doFetch() {\n\t\tdata.value = null;\n\t\terror.value = null;\n\n\t\t// åä¸‹å…¼å®¹ï¼Œå¯èƒ½æ˜¯refçš„å€¼ï¼Œä¹Ÿå¯èƒ½æ˜¯æ™®é€šå€¼\n\t\t// unrefï¼š å¦‚æœå‚æ•°æ˜¯ refï¼Œåˆ™è¿”å›å†…éƒ¨å€¼ï¼Œå¦åˆ™è¿”å›å‚æ•°æœ¬èº«\n\t\tlet urlVal = unRef(url);\n\t\ttry {\n\t\t\tconst res = await fetch(urlVal);\n\t\t\tdata.value = res.json();\n\t\t} catch (err) {\n\t\t\terror.value = err;\n\t\t}\n\t\t// è¯·æ±‚apiæ¥å£...\n\t}\n\n\t// isRef: æ˜¯å¦æ˜¯refçš„å€¼ï¼›\n\tif (isRef(url)) {\n\t\twatchEffect(doFetch);\n\t} else {\n\t\tdoFetch();\n\t}\n\n\treturn { data, error, doFetch };\n}\n```\n\nè€Œå¯¹äºé¡µé¢çš„æ¸²æŸ“è¿›ç¨‹ç›´æ¥åˆ¤æ–­ï¼Œä¸è¿‡è¿™é‡Œå»ºè®®å°è£…ä¸€ä¸ªå…¬å…±ç»„ä»¶ï¼›\n\n```html\n<div v-if=\"error\">é”™è¯¯ï¼šxxxx</div>\n\n<div v-else-if=\"data\">æ•°æ®ï¼š xxxx</div>\n\n<div v-else>loading...</div>\n```\n","source":"_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/é€‰é¡¹å¡loading.md","raw":"---\ntitle: å·¥ä½œå†…å®¹-é€‰é¡¹å¡loading\nabbrlink: 337da9c4\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - å·¥ä½œå†…å®¹\n---\n\n# åœºæ™¯\n\n\n`é€‰é¡¹å¡`åˆ‡æ¢çš„å¸¸è§æ˜¯å¾ˆå¸¸è§çš„ï¼Œå°±æ¯”å¦‚è¯´ï¼šä¸åŒå•†å“ç§ç±»ï¼Œåˆ‡æ¢æ˜¾ç¤ºè¯¥å¯¹åº”çš„å•†å“ä¿¡æ¯ï¼›ä½†æ˜¯å¦‚æœåœ¨ä¸åšé¡µé¢ç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œæ˜¯æ¯æ¬¡åˆ‡æ¢æˆ–è€…ç‚¹å‡»çš„æ—¶å€™éƒ½ä¼šå»è¯·æ±‚æ¥å£çš„ï¼Œä½†æ˜¯å¯¹äºè¿™ä¸ªåˆ‡æ¢çš„æ—¶å€™æ— éå°±æ˜¯æ‹¿åˆ°å¯¹åº”çš„`id`è¯·æ±‚ï¼›\n\n\nä½†æ˜¯æœ‰æ²¡æœ‰ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ–¹æ¡ˆå‘¢ï¼Œä¸€ä¸ªåŠŸèƒ½é¡µé¢ï¼Œå±•ç¤ºçš„çŠ¶æ€è·Ÿåˆ«ä¸ºï¼šè¯·æ±‚æ—¶çš„`laoding`çŠ¶æ€ï¼Œè¯·æ±‚æˆåŠŸæ¸²æŸ“é¡µé¢çš„ç»“æœé¡µ(`success`)ï¼Œå› ä¸ºå…¶ä»–åŸå› å¯¼è‡´è¯·æ±‚å¤±è´¥çš„å¤±è´¥æ•ˆæœ(`error`)ï¼Œè¿˜è¦æœ‰ä¸€ä¸ª`é‡æ–°è¯·æ±‚æˆ–è€…åˆ·æ–°çš„åŠŸèƒ½`ï¼Œä½†è¿™ä¸ªåŠŸèƒ½å¯¹äº`h5`é¡µé¢æ¥è®²æ˜¯éå¸¸ä¸é”™çš„ä¸€ä¸ªä¼˜åŒ–æ–¹æ¡ˆï¼›\n\nå¯¹äºè¿™æ ·çš„åŠŸèƒ½ï¼Œå¸¸è§„çš„å†™æ³•å°±æ˜¯ï¼Œå†™ä¸€ä¸ªæ–¹æ³•ç”¨äºè¯·æ±‚æ•°æ®ï¼Œå¹¶ä¸”æ¥æ”¶ä¸€ä¸ª`id`çš„å‚æ•°ï¼Œæ‹¿åˆ°å‚æ•°å»è¯·æ±‚ï¼Œæ¯æ¬¡åˆ‡æ¢çš„æ—¶å€™é‡æ–°è°ƒç”¨è¯¥æ–¹æ³•ï¼›é¡µé¢ä¸­æ¸²æŸ“çš„è¯ï¼Œå°±ä¸‰ç§æƒ…å†µï¼Œå¤±è´¥çš„æƒ…å†µæ¸²æŸ“ä¸€ä¸ªæŒ‰é’®ï¼Œç”¨äºé‡æ–°è¯·æ±‚æˆ–è€…åˆ·æ–°ï¼›\n\nè™½ç„¶è¿™æ ·çš„æ–¹æ¡ˆæ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå¾®å°çš„é—®é¢˜ï¼Œå°±æ˜¯ä¸€ä¸ªé¡¹ç›®ä¸­æœ‰é‡å¤ç±»ä¼¼çš„åŠŸèƒ½ï¼Œå²‚ä¸æ˜¯éƒ½è¦é‡æ–°å†™ä¸€éï¼›\n\nå¯¹äºä¼ä¸šçº§é¡¹ç›®æ¥è®²ï¼Œ éœ€è¦å°è£…ç»Ÿä¸€ä¸€ä¸‹ï¼Œä¸ç„¶ç±»ä¼¼é¡µé¢ç±»ä¼¼åŠŸèƒ½ä»£ç å¤ªå¤šå¤ªå¤šäº†ï¼›åœ¨å¸¸è§„æ–¹æ¡ˆçš„å‡½æ•°ä¸Šè¿›è¡Œä¼˜åŒ–å³å¯ï¼›\n\n## Handler\n\nè§£æè¿‡ç¨‹å‚è€ƒä¸‹å›¾ï¼š\n![è§£æå›¾](https://wangxiaoze-view.github.io/picx-images-hosting/images/tabs_loading.png)\n\nè¿™é‡Œçš„æ¡ˆä¾‹é’ˆå¯¹äº`vue`æ¥è®²çš„ï¼Œå¦‚å›¾ï¼Œæ ¹æ®åˆ‡æ¢çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼›ä¼˜åŒ–çš„æ–¹æ¡ˆå…¶ä¸­å…³é”®çš„æ˜¯`å¯¹äºurlæˆ–è€…idä¾èµ–`çš„ç›‘å¬ï¼›è¿™é‡Œå¯ä½¿ç”¨`computed`,ä¸ºä»€ä¹ˆä¸åŒ`watch`å‘¢ï¼Œ`computed`æ˜¯ä¾èµ–ç¼“å­˜å€¼çš„å˜æ¢è¿›è¡Œæ›´æ–°çš„ï¼Œæ¶ˆè€—å°ï¼Œè§£æ`dom`å…ƒç´ åŠ è½½åç«‹é©¬æ‰§è¡Œçš„ï¼Œå†…éƒ¨ç¼“å­˜æœºåˆ¶å¤ç”¨ï¼Œæ•ˆç‡é«˜ï¼Œè°ƒè¯•æ–¹ä¾¿ï¼› è€Œ`watch`åœ¨é¦–æ¬¡åŠ è½½çš„æ—¶å€™é»˜è®¤æ˜¯ä¸è¿›è¡Œæ›´æ–°ï¼Œç”¨äºè§‚å¯Ÿ`vue`çš„æ•°æ®å˜åŠ¨ï¼Œç›‘å¬å€¼æ˜¯å¿…é¡»å­˜åœ¨çš„ï¼›\n\nåœ¨è§¦å‘æŸä¸€äº‹ä»¶åï¼Œå…ˆ `computed` å† `methods` å†åˆ° `watchï¼Œcomputed` è®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„ä¾èµ–è¿›è¡Œç¼“å­˜çš„\n\nå¯¹äº`url`è¿›è¡Œ`computed`å±æ€§ï¼Œå‘ç”Ÿå˜åŒ–è‡ªåŠ¨æ‰§è¡Œè¯·æ±‚å‡½æ•°ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½è°ƒç”¨æ–¹æ³•äº†ï¼›\n\nå¯¹äº`computed`å¦‚ä½•ç›‘å¬æ˜¯ä¸æ˜¯å°±æ˜¯æ›´æ–°äº†çš„ï¼Œé…åˆ`watchEffect`æ­é…ä½¿ç”¨ï¼Œ`watchEffect`æ˜¯ä¸€ä¸ªç›‘å¬å™¨ï¼Œä¼šè‡ªåŠ¨ç›‘å¬æ•°æ®ç±»å‹çš„å±æ€§ï¼Œä¸éœ€è¦å…·ä½“åˆ°æŸä¸ªå±æ€§ï¼Œä¸€æ—¦è¿è¡Œå°±ä¼šç«‹å³ç›‘å¬ï¼Œç»„ä»¶å¸è½½çš„æ—¶å€™ä¼šåœæ­¢ç›‘å¬ã€‚å¦‚ä¸‹ï¼š\n\n```js\nimport {computed, watchEffect} from 'vue'\n\ncont id = ref(1)\n\nconst changeId = () => id.value++;\n\nconst url = computed(() => 'https://api-xxxxx.com' + id.value);\n\nwatchEffect(() => {\n    console.log('watchEffect to url', url);\n})\n\n```\n\næ¯æ¬¡æ‰§è¡Œ`changeId`ï¼Œ `id`çš„ä¾èµ–å°±ä¼šè¿›è¡Œæ›´æ–°ï¼Œè€Œ`watchEffect`å¯ä»¥ç›‘å¬åˆ°`id` å’Œ`url`çš„æœ€æ–°å€¼ï¼›ä¸è¿‡`watchEffect`æ˜¯ä¸èƒ½è·å–ä¸Šä¸€æ¬¡çš„å€¼çš„ï¼Œ`watch`æ˜¯å¯ä»¥çš„ï¼›\n\næ¥ç€äº`url`å‚æ•°è¿›è¡Œå…¼å®¹åˆ¤æ–­ï¼Œå¦‚æœæ˜¯ä¸€ä¸ª`ref`ç±»å‹çš„å€¼ï¼Œè¿›è¡Œç›‘å¬`watchEffect`ï¼Œä¸æ˜¯çš„æƒ…å†µæ‰§è¡Œè‡ªèº«çš„è¯·æ±‚å‡½æ•°ï¼›å¦‚ä¸‹ï¼š\n\n```js\nexport function useFetch(url) {\n\tfunction doFetch() {\n\t\t// è¯·æ±‚apiæ¥å£...\n\t}\n\n\t// isRef: æ˜¯å¦æ˜¯refçš„å€¼ï¼›\n\tif (isRef(url)) {\n\t\twatchEffect(doFetch);\n\t} else {\n\t\tdoFetch();\n\t}\n}\n```\n\nå¯¹äºæˆåŠŸï¼Œå¤±è´¥ï¼ŒåŠ è½½çŠ¶æ€ä¹Ÿå¾ˆç®€å•ï¼Œå¦‚ä¸‹ï¼š\n\n```js\nexport function useFetch(url) {\n\t// æ•°æ®\n\tconst data = ref(null);\n\t// å¤±è´¥\n\tconst error = ref(null);\n\n\tasync function doFetch() {\n\t\tdata.value = null;\n\t\terror.value = null;\n\n\t\t// åä¸‹å…¼å®¹ï¼Œå¯èƒ½æ˜¯refçš„å€¼ï¼Œä¹Ÿå¯èƒ½æ˜¯æ™®é€šå€¼\n\t\t// unrefï¼š å¦‚æœå‚æ•°æ˜¯ refï¼Œåˆ™è¿”å›å†…éƒ¨å€¼ï¼Œå¦åˆ™è¿”å›å‚æ•°æœ¬èº«\n\t\tlet urlVal = unRef(url);\n\t\ttry {\n\t\t\tconst res = await fetch(urlVal);\n\t\t\tdata.value = res.json();\n\t\t} catch (err) {\n\t\t\terror.value = err;\n\t\t}\n\t\t// è¯·æ±‚apiæ¥å£...\n\t}\n\n\t// isRef: æ˜¯å¦æ˜¯refçš„å€¼ï¼›\n\tif (isRef(url)) {\n\t\twatchEffect(doFetch);\n\t} else {\n\t\tdoFetch();\n\t}\n\n\treturn { data, error, doFetch };\n}\n```\n\nè€Œå¯¹äºé¡µé¢çš„æ¸²æŸ“è¿›ç¨‹ç›´æ¥åˆ¤æ–­ï¼Œä¸è¿‡è¿™é‡Œå»ºè®®å°è£…ä¸€ä¸ªå…¬å…±ç»„ä»¶ï¼›\n\n```html\n<div v-if=\"error\">é”™è¯¯ï¼šxxxx</div>\n\n<div v-else-if=\"data\">æ•°æ®ï¼š xxxx</div>\n\n<div v-else>loading...</div>\n```\n","slug":"æ€»ç»“/é¡¹ç›®æ€»ç»“/é€‰é¡¹å¡loading","published":1,"updated":"2025-03-13T10:16:17.202Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iw001xfg9m5i2t6v89","content":"<h1 id=\"åœºæ™¯\"><a href=\"#åœºæ™¯\" class=\"headerlink\" title=\"åœºæ™¯\"></a>åœºæ™¯</h1><p><code>é€‰é¡¹å¡</code>åˆ‡æ¢çš„å¸¸è§æ˜¯å¾ˆå¸¸è§çš„ï¼Œå°±æ¯”å¦‚è¯´ï¼šä¸åŒå•†å“ç§ç±»ï¼Œåˆ‡æ¢æ˜¾ç¤ºè¯¥å¯¹åº”çš„å•†å“ä¿¡æ¯ï¼›ä½†æ˜¯å¦‚æœåœ¨ä¸åšé¡µé¢ç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œæ˜¯æ¯æ¬¡åˆ‡æ¢æˆ–è€…ç‚¹å‡»çš„æ—¶å€™éƒ½ä¼šå»è¯·æ±‚æ¥å£çš„ï¼Œä½†æ˜¯å¯¹äºè¿™ä¸ªåˆ‡æ¢çš„æ—¶å€™æ— éå°±æ˜¯æ‹¿åˆ°å¯¹åº”çš„<code>id</code>è¯·æ±‚ï¼›</p>\n<p>ä½†æ˜¯æœ‰æ²¡æœ‰ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ–¹æ¡ˆå‘¢ï¼Œä¸€ä¸ªåŠŸèƒ½é¡µé¢ï¼Œå±•ç¤ºçš„çŠ¶æ€è·Ÿåˆ«ä¸ºï¼šè¯·æ±‚æ—¶çš„<code>laoding</code>çŠ¶æ€ï¼Œè¯·æ±‚æˆåŠŸæ¸²æŸ“é¡µé¢çš„ç»“æœé¡µ(<code>success</code>)ï¼Œå› ä¸ºå…¶ä»–åŸå› å¯¼è‡´è¯·æ±‚å¤±è´¥çš„å¤±è´¥æ•ˆæœ(<code>error</code>)ï¼Œè¿˜è¦æœ‰ä¸€ä¸ª<code>é‡æ–°è¯·æ±‚æˆ–è€…åˆ·æ–°çš„åŠŸèƒ½</code>ï¼Œä½†è¿™ä¸ªåŠŸèƒ½å¯¹äº<code>h5</code>é¡µé¢æ¥è®²æ˜¯éå¸¸ä¸é”™çš„ä¸€ä¸ªä¼˜åŒ–æ–¹æ¡ˆï¼›</p>\n<p>å¯¹äºè¿™æ ·çš„åŠŸèƒ½ï¼Œå¸¸è§„çš„å†™æ³•å°±æ˜¯ï¼Œå†™ä¸€ä¸ªæ–¹æ³•ç”¨äºè¯·æ±‚æ•°æ®ï¼Œå¹¶ä¸”æ¥æ”¶ä¸€ä¸ª<code>id</code>çš„å‚æ•°ï¼Œæ‹¿åˆ°å‚æ•°å»è¯·æ±‚ï¼Œæ¯æ¬¡åˆ‡æ¢çš„æ—¶å€™é‡æ–°è°ƒç”¨è¯¥æ–¹æ³•ï¼›é¡µé¢ä¸­æ¸²æŸ“çš„è¯ï¼Œå°±ä¸‰ç§æƒ…å†µï¼Œå¤±è´¥çš„æƒ…å†µæ¸²æŸ“ä¸€ä¸ªæŒ‰é’®ï¼Œç”¨äºé‡æ–°è¯·æ±‚æˆ–è€…åˆ·æ–°ï¼›</p>\n<p>è™½ç„¶è¿™æ ·çš„æ–¹æ¡ˆæ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå¾®å°çš„é—®é¢˜ï¼Œå°±æ˜¯ä¸€ä¸ªé¡¹ç›®ä¸­æœ‰é‡å¤ç±»ä¼¼çš„åŠŸèƒ½ï¼Œå²‚ä¸æ˜¯éƒ½è¦é‡æ–°å†™ä¸€éï¼›</p>\n<p>å¯¹äºä¼ä¸šçº§é¡¹ç›®æ¥è®²ï¼Œ éœ€è¦å°è£…ç»Ÿä¸€ä¸€ä¸‹ï¼Œä¸ç„¶ç±»ä¼¼é¡µé¢ç±»ä¼¼åŠŸèƒ½ä»£ç å¤ªå¤šå¤ªå¤šäº†ï¼›åœ¨å¸¸è§„æ–¹æ¡ˆçš„å‡½æ•°ä¸Šè¿›è¡Œä¼˜åŒ–å³å¯ï¼›</p>\n<h2 id=\"Handler\"><a href=\"#Handler\" class=\"headerlink\" title=\"Handler\"></a>Handler</h2><p>è§£æè¿‡ç¨‹å‚è€ƒä¸‹å›¾ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/tabs_loading.png\" alt=\"è§£æå›¾\"></p>\n<p>è¿™é‡Œçš„æ¡ˆä¾‹é’ˆå¯¹äº<code>vue</code>æ¥è®²çš„ï¼Œå¦‚å›¾ï¼Œæ ¹æ®åˆ‡æ¢çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼›ä¼˜åŒ–çš„æ–¹æ¡ˆå…¶ä¸­å…³é”®çš„æ˜¯<code>å¯¹äºurlæˆ–è€…idä¾èµ–</code>çš„ç›‘å¬ï¼›è¿™é‡Œå¯ä½¿ç”¨<code>computed</code>,ä¸ºä»€ä¹ˆä¸åŒ<code>watch</code>å‘¢ï¼Œ<code>computed</code>æ˜¯ä¾èµ–ç¼“å­˜å€¼çš„å˜æ¢è¿›è¡Œæ›´æ–°çš„ï¼Œæ¶ˆè€—å°ï¼Œè§£æ<code>dom</code>å…ƒç´ åŠ è½½åç«‹é©¬æ‰§è¡Œçš„ï¼Œå†…éƒ¨ç¼“å­˜æœºåˆ¶å¤ç”¨ï¼Œæ•ˆç‡é«˜ï¼Œè°ƒè¯•æ–¹ä¾¿ï¼› è€Œ<code>watch</code>åœ¨é¦–æ¬¡åŠ è½½çš„æ—¶å€™é»˜è®¤æ˜¯ä¸è¿›è¡Œæ›´æ–°ï¼Œç”¨äºè§‚å¯Ÿ<code>vue</code>çš„æ•°æ®å˜åŠ¨ï¼Œç›‘å¬å€¼æ˜¯å¿…é¡»å­˜åœ¨çš„ï¼›</p>\n<p>åœ¨è§¦å‘æŸä¸€äº‹ä»¶åï¼Œå…ˆ <code>computed</code> å† <code>methods</code> å†åˆ° <code>watchï¼Œcomputed</code> è®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„ä¾èµ–è¿›è¡Œç¼“å­˜çš„</p>\n<p>å¯¹äº<code>url</code>è¿›è¡Œ<code>computed</code>å±æ€§ï¼Œå‘ç”Ÿå˜åŒ–è‡ªåŠ¨æ‰§è¡Œè¯·æ±‚å‡½æ•°ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½è°ƒç”¨æ–¹æ³•äº†ï¼›</p>\n<p>å¯¹äº<code>computed</code>å¦‚ä½•ç›‘å¬æ˜¯ä¸æ˜¯å°±æ˜¯æ›´æ–°äº†çš„ï¼Œé…åˆ<code>watchEffect</code>æ­é…ä½¿ç”¨ï¼Œ<code>watchEffect</code>æ˜¯ä¸€ä¸ªç›‘å¬å™¨ï¼Œä¼šè‡ªåŠ¨ç›‘å¬æ•°æ®ç±»å‹çš„å±æ€§ï¼Œä¸éœ€è¦å…·ä½“åˆ°æŸä¸ªå±æ€§ï¼Œä¸€æ—¦è¿è¡Œå°±ä¼šç«‹å³ç›‘å¬ï¼Œç»„ä»¶å¸è½½çš„æ—¶å€™ä¼šåœæ­¢ç›‘å¬ã€‚å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;computed, watchEffect&#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">cont id = <span class=\"title function_\">ref</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">changeId</span> = (<span class=\"params\"></span>) =&gt; id.<span class=\"property\">value</span>++;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> url = <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> <span class=\"string\">&#x27;https://api-xxxxx.com&#x27;</span> + id.<span class=\"property\">value</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">watchEffect</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;watchEffect to url&#x27;</span>, url);</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>æ¯æ¬¡æ‰§è¡Œ<code>changeId</code>ï¼Œ <code>id</code>çš„ä¾èµ–å°±ä¼šè¿›è¡Œæ›´æ–°ï¼Œè€Œ<code>watchEffect</code>å¯ä»¥ç›‘å¬åˆ°<code>id</code> å’Œ<code>url</code>çš„æœ€æ–°å€¼ï¼›ä¸è¿‡<code>watchEffect</code>æ˜¯ä¸èƒ½è·å–ä¸Šä¸€æ¬¡çš„å€¼çš„ï¼Œ<code>watch</code>æ˜¯å¯ä»¥çš„ï¼›</p>\n<p>æ¥ç€äº<code>url</code>å‚æ•°è¿›è¡Œå…¼å®¹åˆ¤æ–­ï¼Œå¦‚æœæ˜¯ä¸€ä¸ª<code>ref</code>ç±»å‹çš„å€¼ï¼Œè¿›è¡Œç›‘å¬<code>watchEffect</code>ï¼Œä¸æ˜¯çš„æƒ…å†µæ‰§è¡Œè‡ªèº«çš„è¯·æ±‚å‡½æ•°ï¼›å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">useFetch</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">function</span> <span class=\"title function_\">doFetch</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚apiæ¥å£...</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// isRef: æ˜¯å¦æ˜¯refçš„å€¼ï¼›</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"title function_\">isRef</span>(url)) &#123;</span><br><span class=\"line\">\t\t<span class=\"title function_\">watchEffect</span>(doFetch);</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"title function_\">doFetch</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¯¹äºæˆåŠŸï¼Œå¤±è´¥ï¼ŒåŠ è½½çŠ¶æ€ä¹Ÿå¾ˆç®€å•ï¼Œå¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">useFetch</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æ•°æ®</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> data = <span class=\"title function_\">ref</span>(<span class=\"literal\">null</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// å¤±è´¥</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> error = <span class=\"title function_\">ref</span>(<span class=\"literal\">null</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">doFetch</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\tdata.<span class=\"property\">value</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">\t\terror.<span class=\"property\">value</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// åä¸‹å…¼å®¹ï¼Œå¯èƒ½æ˜¯refçš„å€¼ï¼Œä¹Ÿå¯èƒ½æ˜¯æ™®é€šå€¼</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// unrefï¼š å¦‚æœå‚æ•°æ˜¯ refï¼Œåˆ™è¿”å›å†…éƒ¨å€¼ï¼Œå¦åˆ™è¿”å›å‚æ•°æœ¬èº«</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> urlVal = <span class=\"title function_\">unRef</span>(url);</span><br><span class=\"line\">\t\t<span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">const</span> res = <span class=\"keyword\">await</span> <span class=\"title function_\">fetch</span>(urlVal);</span><br><span class=\"line\">\t\t\tdata.<span class=\"property\">value</span> = res.<span class=\"title function_\">json</span>();</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">\t\t\terror.<span class=\"property\">value</span> = err;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚apiæ¥å£...</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// isRef: æ˜¯å¦æ˜¯refçš„å€¼ï¼›</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"title function_\">isRef</span>(url)) &#123;</span><br><span class=\"line\">\t\t<span class=\"title function_\">watchEffect</span>(doFetch);</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"title function_\">doFetch</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &#123; data, error, doFetch &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è€Œå¯¹äºé¡µé¢çš„æ¸²æŸ“è¿›ç¨‹ç›´æ¥åˆ¤æ–­ï¼Œä¸è¿‡è¿™é‡Œå»ºè®®å°è£…ä¸€ä¸ªå…¬å…±ç»„ä»¶ï¼›</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;error&quot;</span>&gt;</span>é”™è¯¯ï¼šxxxx<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-else-if</span>=<span class=\"string\">&quot;data&quot;</span>&gt;</span>æ•°æ®ï¼š xxxx<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-else</span>&gt;</span>loading...<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"åœºæ™¯\"><a href=\"#åœºæ™¯\" class=\"headerlink\" title=\"åœºæ™¯\"></a>åœºæ™¯</h1><p><code>é€‰é¡¹å¡</code>åˆ‡æ¢çš„å¸¸è§æ˜¯å¾ˆå¸¸è§çš„ï¼Œå°±æ¯”å¦‚è¯´ï¼šä¸åŒå•†å“ç§ç±»ï¼Œåˆ‡æ¢æ˜¾ç¤ºè¯¥å¯¹åº”çš„å•†å“ä¿¡æ¯ï¼›ä½†æ˜¯å¦‚æœåœ¨ä¸åšé¡µé¢ç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œæ˜¯æ¯æ¬¡åˆ‡æ¢æˆ–è€…ç‚¹å‡»çš„æ—¶å€™éƒ½ä¼šå»è¯·æ±‚æ¥å£çš„ï¼Œä½†æ˜¯å¯¹äºè¿™ä¸ªåˆ‡æ¢çš„æ—¶å€™æ— éå°±æ˜¯æ‹¿åˆ°å¯¹åº”çš„<code>id</code>è¯·æ±‚ï¼›</p>\n<p>ä½†æ˜¯æœ‰æ²¡æœ‰ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ–¹æ¡ˆå‘¢ï¼Œä¸€ä¸ªåŠŸèƒ½é¡µé¢ï¼Œå±•ç¤ºçš„çŠ¶æ€è·Ÿåˆ«ä¸ºï¼šè¯·æ±‚æ—¶çš„<code>laoding</code>çŠ¶æ€ï¼Œè¯·æ±‚æˆåŠŸæ¸²æŸ“é¡µé¢çš„ç»“æœé¡µ(<code>success</code>)ï¼Œå› ä¸ºå…¶ä»–åŸå› å¯¼è‡´è¯·æ±‚å¤±è´¥çš„å¤±è´¥æ•ˆæœ(<code>error</code>)ï¼Œè¿˜è¦æœ‰ä¸€ä¸ª<code>é‡æ–°è¯·æ±‚æˆ–è€…åˆ·æ–°çš„åŠŸèƒ½</code>ï¼Œä½†è¿™ä¸ªåŠŸèƒ½å¯¹äº<code>h5</code>é¡µé¢æ¥è®²æ˜¯éå¸¸ä¸é”™çš„ä¸€ä¸ªä¼˜åŒ–æ–¹æ¡ˆï¼›</p>\n<p>å¯¹äºè¿™æ ·çš„åŠŸèƒ½ï¼Œå¸¸è§„çš„å†™æ³•å°±æ˜¯ï¼Œå†™ä¸€ä¸ªæ–¹æ³•ç”¨äºè¯·æ±‚æ•°æ®ï¼Œå¹¶ä¸”æ¥æ”¶ä¸€ä¸ª<code>id</code>çš„å‚æ•°ï¼Œæ‹¿åˆ°å‚æ•°å»è¯·æ±‚ï¼Œæ¯æ¬¡åˆ‡æ¢çš„æ—¶å€™é‡æ–°è°ƒç”¨è¯¥æ–¹æ³•ï¼›é¡µé¢ä¸­æ¸²æŸ“çš„è¯ï¼Œå°±ä¸‰ç§æƒ…å†µï¼Œå¤±è´¥çš„æƒ…å†µæ¸²æŸ“ä¸€ä¸ªæŒ‰é’®ï¼Œç”¨äºé‡æ–°è¯·æ±‚æˆ–è€…åˆ·æ–°ï¼›</p>\n<p>è™½ç„¶è¿™æ ·çš„æ–¹æ¡ˆæ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå¾®å°çš„é—®é¢˜ï¼Œå°±æ˜¯ä¸€ä¸ªé¡¹ç›®ä¸­æœ‰é‡å¤ç±»ä¼¼çš„åŠŸèƒ½ï¼Œå²‚ä¸æ˜¯éƒ½è¦é‡æ–°å†™ä¸€éï¼›</p>\n<p>å¯¹äºä¼ä¸šçº§é¡¹ç›®æ¥è®²ï¼Œ éœ€è¦å°è£…ç»Ÿä¸€ä¸€ä¸‹ï¼Œä¸ç„¶ç±»ä¼¼é¡µé¢ç±»ä¼¼åŠŸèƒ½ä»£ç å¤ªå¤šå¤ªå¤šäº†ï¼›åœ¨å¸¸è§„æ–¹æ¡ˆçš„å‡½æ•°ä¸Šè¿›è¡Œä¼˜åŒ–å³å¯ï¼›</p>\n<h2 id=\"Handler\"><a href=\"#Handler\" class=\"headerlink\" title=\"Handler\"></a>Handler</h2><p>è§£æè¿‡ç¨‹å‚è€ƒä¸‹å›¾ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/tabs_loading.png\" alt=\"è§£æå›¾\"></p>\n<p>è¿™é‡Œçš„æ¡ˆä¾‹é’ˆå¯¹äº<code>vue</code>æ¥è®²çš„ï¼Œå¦‚å›¾ï¼Œæ ¹æ®åˆ‡æ¢çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼›ä¼˜åŒ–çš„æ–¹æ¡ˆå…¶ä¸­å…³é”®çš„æ˜¯<code>å¯¹äºurlæˆ–è€…idä¾èµ–</code>çš„ç›‘å¬ï¼›è¿™é‡Œå¯ä½¿ç”¨<code>computed</code>,ä¸ºä»€ä¹ˆä¸åŒ<code>watch</code>å‘¢ï¼Œ<code>computed</code>æ˜¯ä¾èµ–ç¼“å­˜å€¼çš„å˜æ¢è¿›è¡Œæ›´æ–°çš„ï¼Œæ¶ˆè€—å°ï¼Œè§£æ<code>dom</code>å…ƒç´ åŠ è½½åç«‹é©¬æ‰§è¡Œçš„ï¼Œå†…éƒ¨ç¼“å­˜æœºåˆ¶å¤ç”¨ï¼Œæ•ˆç‡é«˜ï¼Œè°ƒè¯•æ–¹ä¾¿ï¼› è€Œ<code>watch</code>åœ¨é¦–æ¬¡åŠ è½½çš„æ—¶å€™é»˜è®¤æ˜¯ä¸è¿›è¡Œæ›´æ–°ï¼Œç”¨äºè§‚å¯Ÿ<code>vue</code>çš„æ•°æ®å˜åŠ¨ï¼Œç›‘å¬å€¼æ˜¯å¿…é¡»å­˜åœ¨çš„ï¼›</p>\n<p>åœ¨è§¦å‘æŸä¸€äº‹ä»¶åï¼Œå…ˆ <code>computed</code> å† <code>methods</code> å†åˆ° <code>watchï¼Œcomputed</code> è®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„ä¾èµ–è¿›è¡Œç¼“å­˜çš„</p>\n<p>å¯¹äº<code>url</code>è¿›è¡Œ<code>computed</code>å±æ€§ï¼Œå‘ç”Ÿå˜åŒ–è‡ªåŠ¨æ‰§è¡Œè¯·æ±‚å‡½æ•°ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½è°ƒç”¨æ–¹æ³•äº†ï¼›</p>\n<p>å¯¹äº<code>computed</code>å¦‚ä½•ç›‘å¬æ˜¯ä¸æ˜¯å°±æ˜¯æ›´æ–°äº†çš„ï¼Œé…åˆ<code>watchEffect</code>æ­é…ä½¿ç”¨ï¼Œ<code>watchEffect</code>æ˜¯ä¸€ä¸ªç›‘å¬å™¨ï¼Œä¼šè‡ªåŠ¨ç›‘å¬æ•°æ®ç±»å‹çš„å±æ€§ï¼Œä¸éœ€è¦å…·ä½“åˆ°æŸä¸ªå±æ€§ï¼Œä¸€æ—¦è¿è¡Œå°±ä¼šç«‹å³ç›‘å¬ï¼Œç»„ä»¶å¸è½½çš„æ—¶å€™ä¼šåœæ­¢ç›‘å¬ã€‚å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;computed, watchEffect&#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">cont id = <span class=\"title function_\">ref</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">changeId</span> = (<span class=\"params\"></span>) =&gt; id.<span class=\"property\">value</span>++;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> url = <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> <span class=\"string\">&#x27;https://api-xxxxx.com&#x27;</span> + id.<span class=\"property\">value</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">watchEffect</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;watchEffect to url&#x27;</span>, url);</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>æ¯æ¬¡æ‰§è¡Œ<code>changeId</code>ï¼Œ <code>id</code>çš„ä¾èµ–å°±ä¼šè¿›è¡Œæ›´æ–°ï¼Œè€Œ<code>watchEffect</code>å¯ä»¥ç›‘å¬åˆ°<code>id</code> å’Œ<code>url</code>çš„æœ€æ–°å€¼ï¼›ä¸è¿‡<code>watchEffect</code>æ˜¯ä¸èƒ½è·å–ä¸Šä¸€æ¬¡çš„å€¼çš„ï¼Œ<code>watch</code>æ˜¯å¯ä»¥çš„ï¼›</p>\n<p>æ¥ç€äº<code>url</code>å‚æ•°è¿›è¡Œå…¼å®¹åˆ¤æ–­ï¼Œå¦‚æœæ˜¯ä¸€ä¸ª<code>ref</code>ç±»å‹çš„å€¼ï¼Œè¿›è¡Œç›‘å¬<code>watchEffect</code>ï¼Œä¸æ˜¯çš„æƒ…å†µæ‰§è¡Œè‡ªèº«çš„è¯·æ±‚å‡½æ•°ï¼›å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">useFetch</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">function</span> <span class=\"title function_\">doFetch</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚apiæ¥å£...</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// isRef: æ˜¯å¦æ˜¯refçš„å€¼ï¼›</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"title function_\">isRef</span>(url)) &#123;</span><br><span class=\"line\">\t\t<span class=\"title function_\">watchEffect</span>(doFetch);</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"title function_\">doFetch</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¯¹äºæˆåŠŸï¼Œå¤±è´¥ï¼ŒåŠ è½½çŠ¶æ€ä¹Ÿå¾ˆç®€å•ï¼Œå¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">useFetch</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æ•°æ®</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> data = <span class=\"title function_\">ref</span>(<span class=\"literal\">null</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// å¤±è´¥</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> error = <span class=\"title function_\">ref</span>(<span class=\"literal\">null</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">doFetch</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\tdata.<span class=\"property\">value</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">\t\terror.<span class=\"property\">value</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// åä¸‹å…¼å®¹ï¼Œå¯èƒ½æ˜¯refçš„å€¼ï¼Œä¹Ÿå¯èƒ½æ˜¯æ™®é€šå€¼</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// unrefï¼š å¦‚æœå‚æ•°æ˜¯ refï¼Œåˆ™è¿”å›å†…éƒ¨å€¼ï¼Œå¦åˆ™è¿”å›å‚æ•°æœ¬èº«</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> urlVal = <span class=\"title function_\">unRef</span>(url);</span><br><span class=\"line\">\t\t<span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">const</span> res = <span class=\"keyword\">await</span> <span class=\"title function_\">fetch</span>(urlVal);</span><br><span class=\"line\">\t\t\tdata.<span class=\"property\">value</span> = res.<span class=\"title function_\">json</span>();</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">\t\t\terror.<span class=\"property\">value</span> = err;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚apiæ¥å£...</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// isRef: æ˜¯å¦æ˜¯refçš„å€¼ï¼›</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"title function_\">isRef</span>(url)) &#123;</span><br><span class=\"line\">\t\t<span class=\"title function_\">watchEffect</span>(doFetch);</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"title function_\">doFetch</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &#123; data, error, doFetch &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è€Œå¯¹äºé¡µé¢çš„æ¸²æŸ“è¿›ç¨‹ç›´æ¥åˆ¤æ–­ï¼Œä¸è¿‡è¿™é‡Œå»ºè®®å°è£…ä¸€ä¸ªå…¬å…±ç»„ä»¶ï¼›</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;error&quot;</span>&gt;</span>é”™è¯¯ï¼šxxxx<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-else-if</span>=<span class=\"string\">&quot;data&quot;</span>&gt;</span>æ•°æ®ï¼š xxxx<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-else</span>&gt;</span>loading...<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n"},{"title":"å·¥ä½œå†…å®¹-é”®ç›˜å¼¹èµ·åº•éƒ¨è¢«é¡¶èµ·é—®é¢˜","abbrlink":"98f35a35","date":"2024-07-08T01:05:01.000Z","_content":"\nå¹³å¸¸åœ¨å¼€å‘`H5`çš„é¡µé¢æ—¶ï¼Œä¼šé‡åˆ°ä¸€ä¸ªå¾ˆå¸¸è§çš„é—®é¢˜ï¼Œå°±æ˜¯å½“è¾“å…¥æ¡†å¼¹å‡ºé”®ç›˜æ—¶ï¼Œåº•éƒ¨è¢«é¡¶èµ·ï¼Œå¯¼è‡´é¡µé¢æ˜¾ç¤ºä¸å…¨æˆ–è€…é¡µé¢æ ·å¼é”™è½ï¼›\n\nè¿™ä¸ªé—®é¢˜ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”±äº`input`æ ‡ç­¾èšç„¦ä¹‹åï¼Œé”®ç›˜å¼¹èµ·å¯¼è‡´çš„åº•éƒ¨æŒ‰é’®é¡¶ä¸Šå»äº†ï¼›\n\nä¸è¿‡åœ¨`IOS`ä¸Šï¼Œé»˜è®¤æ˜¯ä¸å¯¹å¯¼è‡´æŒ‰é’®é¡¶ä¸Šå»çš„ï¼Œä½†æ˜¯åœ¨`Android`ä¸Šï¼Œé»˜è®¤æ˜¯ä¼šé¡¶ä¸Šå»çš„ï¼›è¿™æ ·åœ¨æ··åˆå¼€å‘æˆ–è€…`H5`å°±è¦è§£å†³è¿™æ ·çš„ä¸€ä¸ªå…¼å®¹é—®é¢˜äº†ï¼›\n\nè¿™é‡Œæä¾›ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œæ•ˆæœçœ‹èµ·æ¥ä¹Ÿæ˜¯ä¸é”™çš„ï¼›\n\n```js\n// é»˜è®¤çš„å±å¹•é«˜åº¦\nconst docH = window.innerHeight;\n// å®æ—¶å±å¹•é«˜åº¦\nlet showH = window.innerHeight;\n// é»˜è®¤æ˜¾ç¤ºåº•éƒ¨æŒ‰é’®\n// let hideShow = true;\n\nconst bottom = document.getElementById(\"bottom\");\n\n// ç›‘å¬é¡µé¢é«˜åº¦çš„å˜åŒ–\nwindow.addEventListener(\"resize\", () => {\n\tshowH = window.innerHeight;\n\n\tif (docH - showH > 50) {\n\t\t// è¿™é‡Œç”¨vueçš„è¯ä½ å¯ä»¥ç›´æ¥æ§åˆ¶\n\t\t// hideShow = false;\n\t\tbottom.style.display = \"none\";\n\t} else {\n\t\t// hideShow = true;\n\t\tbottom.style.display = \"block\";\n\t}\n});\n```\n\næ•ˆæœé¢„è§ˆ:\n\nç„¶åä½ å°±ä¼šå‘ç°ï¼Œå½“é”®ç›˜å¼¹èµ·çš„æ—¶å€™åº•éƒ¨æŒ‰é’®å°±æ¶ˆå¤±ä¸è§äº†ï¼Œé”®ç›˜è½ä¸‹ä¹‹åæŒ‰é’®å°±å‡ºæ¥å“¦ï¼›\n\nè¿™ä¸ªæ–¹æ¡ˆåŸºæœ¬éƒ½å¯ä»¥è§£å†³å…¼å®¹é—®é¢˜å‘¢ï¼›\n","source":"_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/é”®ç›˜å¼¹èµ·åº•éƒ¨è¢«é¡¶èµ·é—®é¢˜.md","raw":"---\ntitle: å·¥ä½œå†…å®¹-é”®ç›˜å¼¹èµ·åº•éƒ¨è¢«é¡¶èµ·é—®é¢˜\nabbrlink: 98f35a35\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - å·¥ä½œå†…å®¹\n---\n\nå¹³å¸¸åœ¨å¼€å‘`H5`çš„é¡µé¢æ—¶ï¼Œä¼šé‡åˆ°ä¸€ä¸ªå¾ˆå¸¸è§çš„é—®é¢˜ï¼Œå°±æ˜¯å½“è¾“å…¥æ¡†å¼¹å‡ºé”®ç›˜æ—¶ï¼Œåº•éƒ¨è¢«é¡¶èµ·ï¼Œå¯¼è‡´é¡µé¢æ˜¾ç¤ºä¸å…¨æˆ–è€…é¡µé¢æ ·å¼é”™è½ï¼›\n\nè¿™ä¸ªé—®é¢˜ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”±äº`input`æ ‡ç­¾èšç„¦ä¹‹åï¼Œé”®ç›˜å¼¹èµ·å¯¼è‡´çš„åº•éƒ¨æŒ‰é’®é¡¶ä¸Šå»äº†ï¼›\n\nä¸è¿‡åœ¨`IOS`ä¸Šï¼Œé»˜è®¤æ˜¯ä¸å¯¹å¯¼è‡´æŒ‰é’®é¡¶ä¸Šå»çš„ï¼Œä½†æ˜¯åœ¨`Android`ä¸Šï¼Œé»˜è®¤æ˜¯ä¼šé¡¶ä¸Šå»çš„ï¼›è¿™æ ·åœ¨æ··åˆå¼€å‘æˆ–è€…`H5`å°±è¦è§£å†³è¿™æ ·çš„ä¸€ä¸ªå…¼å®¹é—®é¢˜äº†ï¼›\n\nè¿™é‡Œæä¾›ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œæ•ˆæœçœ‹èµ·æ¥ä¹Ÿæ˜¯ä¸é”™çš„ï¼›\n\n```js\n// é»˜è®¤çš„å±å¹•é«˜åº¦\nconst docH = window.innerHeight;\n// å®æ—¶å±å¹•é«˜åº¦\nlet showH = window.innerHeight;\n// é»˜è®¤æ˜¾ç¤ºåº•éƒ¨æŒ‰é’®\n// let hideShow = true;\n\nconst bottom = document.getElementById(\"bottom\");\n\n// ç›‘å¬é¡µé¢é«˜åº¦çš„å˜åŒ–\nwindow.addEventListener(\"resize\", () => {\n\tshowH = window.innerHeight;\n\n\tif (docH - showH > 50) {\n\t\t// è¿™é‡Œç”¨vueçš„è¯ä½ å¯ä»¥ç›´æ¥æ§åˆ¶\n\t\t// hideShow = false;\n\t\tbottom.style.display = \"none\";\n\t} else {\n\t\t// hideShow = true;\n\t\tbottom.style.display = \"block\";\n\t}\n});\n```\n\næ•ˆæœé¢„è§ˆ:\n\nç„¶åä½ å°±ä¼šå‘ç°ï¼Œå½“é”®ç›˜å¼¹èµ·çš„æ—¶å€™åº•éƒ¨æŒ‰é’®å°±æ¶ˆå¤±ä¸è§äº†ï¼Œé”®ç›˜è½ä¸‹ä¹‹åæŒ‰é’®å°±å‡ºæ¥å“¦ï¼›\n\nè¿™ä¸ªæ–¹æ¡ˆåŸºæœ¬éƒ½å¯ä»¥è§£å†³å…¼å®¹é—®é¢˜å‘¢ï¼›\n","slug":"æ€»ç»“/é¡¹ç›®æ€»ç»“/é”®ç›˜å¼¹èµ·åº•éƒ¨è¢«é¡¶èµ·é—®é¢˜","published":1,"updated":"2025-03-12T09:56:40.656Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iw0021fg9m1o0u1fty","content":"<p>å¹³å¸¸åœ¨å¼€å‘<code>H5</code>çš„é¡µé¢æ—¶ï¼Œä¼šé‡åˆ°ä¸€ä¸ªå¾ˆå¸¸è§çš„é—®é¢˜ï¼Œå°±æ˜¯å½“è¾“å…¥æ¡†å¼¹å‡ºé”®ç›˜æ—¶ï¼Œåº•éƒ¨è¢«é¡¶èµ·ï¼Œå¯¼è‡´é¡µé¢æ˜¾ç¤ºä¸å…¨æˆ–è€…é¡µé¢æ ·å¼é”™è½ï¼›</p>\n<p>è¿™ä¸ªé—®é¢˜ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”±äº<code>input</code>æ ‡ç­¾èšç„¦ä¹‹åï¼Œé”®ç›˜å¼¹èµ·å¯¼è‡´çš„åº•éƒ¨æŒ‰é’®é¡¶ä¸Šå»äº†ï¼›</p>\n<p>ä¸è¿‡åœ¨<code>IOS</code>ä¸Šï¼Œé»˜è®¤æ˜¯ä¸å¯¹å¯¼è‡´æŒ‰é’®é¡¶ä¸Šå»çš„ï¼Œä½†æ˜¯åœ¨<code>Android</code>ä¸Šï¼Œé»˜è®¤æ˜¯ä¼šé¡¶ä¸Šå»çš„ï¼›è¿™æ ·åœ¨æ··åˆå¼€å‘æˆ–è€…<code>H5</code>å°±è¦è§£å†³è¿™æ ·çš„ä¸€ä¸ªå…¼å®¹é—®é¢˜äº†ï¼›</p>\n<p>è¿™é‡Œæä¾›ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œæ•ˆæœçœ‹èµ·æ¥ä¹Ÿæ˜¯ä¸é”™çš„ï¼›</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// é»˜è®¤çš„å±å¹•é«˜åº¦</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> docH = <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span>;</span><br><span class=\"line\"><span class=\"comment\">// å®æ—¶å±å¹•é«˜åº¦</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> showH = <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span>;</span><br><span class=\"line\"><span class=\"comment\">// é»˜è®¤æ˜¾ç¤ºåº•éƒ¨æŒ‰é’®</span></span><br><span class=\"line\"><span class=\"comment\">// let hideShow = true;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> bottom = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;bottom&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç›‘å¬é¡µé¢é«˜åº¦çš„å˜åŒ–</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;resize&quot;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\tshowH = <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (docH - showH &gt; <span class=\"number\">50</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¿™é‡Œç”¨vueçš„è¯ä½ å¯ä»¥ç›´æ¥æ§åˆ¶</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// hideShow = false;</span></span><br><span class=\"line\">\t\tbottom.<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;none&quot;</span>;</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// hideShow = true;</span></span><br><span class=\"line\">\t\tbottom.<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;block&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœé¢„è§ˆ:</p>\n<p>ç„¶åä½ å°±ä¼šå‘ç°ï¼Œå½“é”®ç›˜å¼¹èµ·çš„æ—¶å€™åº•éƒ¨æŒ‰é’®å°±æ¶ˆå¤±ä¸è§äº†ï¼Œé”®ç›˜è½ä¸‹ä¹‹åæŒ‰é’®å°±å‡ºæ¥å“¦ï¼›</p>\n<p>è¿™ä¸ªæ–¹æ¡ˆåŸºæœ¬éƒ½å¯ä»¥è§£å†³å…¼å®¹é—®é¢˜å‘¢ï¼›</p>\n","excerpt":"","more":"<p>å¹³å¸¸åœ¨å¼€å‘<code>H5</code>çš„é¡µé¢æ—¶ï¼Œä¼šé‡åˆ°ä¸€ä¸ªå¾ˆå¸¸è§çš„é—®é¢˜ï¼Œå°±æ˜¯å½“è¾“å…¥æ¡†å¼¹å‡ºé”®ç›˜æ—¶ï¼Œåº•éƒ¨è¢«é¡¶èµ·ï¼Œå¯¼è‡´é¡µé¢æ˜¾ç¤ºä¸å…¨æˆ–è€…é¡µé¢æ ·å¼é”™è½ï¼›</p>\n<p>è¿™ä¸ªé—®é¢˜ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”±äº<code>input</code>æ ‡ç­¾èšç„¦ä¹‹åï¼Œé”®ç›˜å¼¹èµ·å¯¼è‡´çš„åº•éƒ¨æŒ‰é’®é¡¶ä¸Šå»äº†ï¼›</p>\n<p>ä¸è¿‡åœ¨<code>IOS</code>ä¸Šï¼Œé»˜è®¤æ˜¯ä¸å¯¹å¯¼è‡´æŒ‰é’®é¡¶ä¸Šå»çš„ï¼Œä½†æ˜¯åœ¨<code>Android</code>ä¸Šï¼Œé»˜è®¤æ˜¯ä¼šé¡¶ä¸Šå»çš„ï¼›è¿™æ ·åœ¨æ··åˆå¼€å‘æˆ–è€…<code>H5</code>å°±è¦è§£å†³è¿™æ ·çš„ä¸€ä¸ªå…¼å®¹é—®é¢˜äº†ï¼›</p>\n<p>è¿™é‡Œæä¾›ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œæ•ˆæœçœ‹èµ·æ¥ä¹Ÿæ˜¯ä¸é”™çš„ï¼›</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// é»˜è®¤çš„å±å¹•é«˜åº¦</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> docH = <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span>;</span><br><span class=\"line\"><span class=\"comment\">// å®æ—¶å±å¹•é«˜åº¦</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> showH = <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span>;</span><br><span class=\"line\"><span class=\"comment\">// é»˜è®¤æ˜¾ç¤ºåº•éƒ¨æŒ‰é’®</span></span><br><span class=\"line\"><span class=\"comment\">// let hideShow = true;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> bottom = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;bottom&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç›‘å¬é¡µé¢é«˜åº¦çš„å˜åŒ–</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;resize&quot;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\tshowH = <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (docH - showH &gt; <span class=\"number\">50</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¿™é‡Œç”¨vueçš„è¯ä½ å¯ä»¥ç›´æ¥æ§åˆ¶</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// hideShow = false;</span></span><br><span class=\"line\">\t\tbottom.<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;none&quot;</span>;</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// hideShow = true;</span></span><br><span class=\"line\">\t\tbottom.<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;block&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœé¢„è§ˆ:</p>\n<p>ç„¶åä½ å°±ä¼šå‘ç°ï¼Œå½“é”®ç›˜å¼¹èµ·çš„æ—¶å€™åº•éƒ¨æŒ‰é’®å°±æ¶ˆå¤±ä¸è§äº†ï¼Œé”®ç›˜è½ä¸‹ä¹‹åæŒ‰é’®å°±å‡ºæ¥å“¦ï¼›</p>\n<p>è¿™ä¸ªæ–¹æ¡ˆåŸºæœ¬éƒ½å¯ä»¥è§£å†³å…¼å®¹é—®é¢˜å‘¢ï¼›</p>\n"},{"title":"å·¥ä½œå†…å®¹-é˜²ç¯¡æ”¹æ°´å°","abbrlink":"5b79f283","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\nå¯¹äºæ°´å°åœ¨å„ä¸ªå¹³å°ç½‘ç«™å·²ç»æ˜¯å¾ˆå¸¸è§çš„åŠŸèƒ½ç‚¹äº†ï¼Œä½†æ˜¯å¯¹äºæ°´å°çš„ç†è§£ï¼Œæ— éå°±æ˜¯é‚£ä¹ˆå‡ ç§ï¼Œå…¶ä¸€ï¼šå¹³å°ä¸ºäº†æ•°æ®çš„å®‰å…¨æ€§ï¼Œåœ¨ç”¨æˆ·æˆªå›¾éœ€è¦æ¶µç›–æ°´å°é˜²æ­¢æ•°æ®ä¿¡æ¯æ³„éœ²é—®é¢˜ï¼Œå…¶äºŒï¼šç³»ç»Ÿåœ¨ç‰¹å®šçš„æƒ…å†µä¸‹äº¦æˆ–æ˜¯å±•ç¤ºåŠŸèƒ½çš„ç‰¹æ€§ä»è€Œç”Ÿæˆç‰¹æ®Šçš„æ°´å°æ–¹å¼ï¼Œä¾‹å¦‚ä¸Šä¼ å›¾ç‰‡éœ€è¦å¯¹å›¾ç‰‡è¿›è¡Œå¤„ç†ï¼Œæ°´å°éœ€è¦ä¸Šä¼ æ—¶é—´ï¼Œä¸Šä¼ è€…çš„ä¿¡æ¯ç­‰ç­‰ï¼›\n\nè™½ç„¶ï¼Œæ°´å°çš„åŠŸèƒ½å¹¶ä¸å¤æ‚ï¼Œä½†æ˜¯å¯¹äº`å¼€å‘è€…`æ¥è®²ï¼Œä¸€åˆ‡åŠŸèƒ½ç‚¹éƒ½æ˜¯ä¸ºäº†å®‰å…¨ï¼Œç¨³å®šè€ƒè™‘ï¼›å¯¹æ­¤ï¼Œåœ¨ç½‘é¡µé¡µé¢çš„æ˜¾ç¤ºæ˜¯ä¸æ˜¯æœ‰æ¼æ´é—®é¢˜ï¼Ÿæˆ–è€…è¯´æ°´å°æ˜¯å¦åœ¨ç‰¹å®šçš„æƒ…å†µä¸‹ä¼šéšè—æˆ–è€…åˆ é™¤ï¼Ÿæ¥ä¸‹æ¥å¯¹äºè¿™ä¸ªé—®é¢˜ä¼šå¤§è‡´è®²è§£ï¼š\n\n## æ°´å°çš„å®‰å…¨ï¼Ÿ\n\næ°´å°ä¸€èˆ¬æ˜¯ä¸ºäº†ä¿è¯æ•°æ®çš„å®‰å…¨æ€§ï¼Œä¾‹å¦‚æœ‰è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼šå…¬å¸è´¦æˆ·ç™»å½•çš„å¹³å°ç³»ç»Ÿï¼Œæ¯ä¸ªå¤§å¤§ç¬‘ç¬‘çš„é¡µé¢éƒ½éœ€è¦æ°´å°ï¼Œä½†æ˜¯æ°´å°æ·»åŠ äº†ç™»å½•äººçš„ä¿¡æ¯ï¼Œç™»å½•æ—¶é—´ç­‰ï¼Œå¦‚ï¼š`å¼ ä¸‰ 2023-05-27`ï¼Œä¸€å¼ åŒ…å«ä¸ªäººå§“åçš„æ°´å°å°±æ­¤ç”Ÿæˆï¼Œå¦‚æœæˆªå›¾åé¦ˆç”¨æˆ·æˆ–è€…è§£å†³äº§å“é—®é¢˜ï¼Œå°½å¯èƒ½çš„é¿å…æ•°æ®ä¿¡æ¯æ³„éœ²é—®é¢˜ï¼Œä½†æ˜¯å¯¹äºä¸ªåˆ«`å¼€å‘è€…`æ¥è®²ï¼Œæˆ‘æˆªå›¾ä¸è¦æ°´å°ä¿¡æ¯ï¼Œåªèƒ½åœ¨`æ§åˆ¶å°`æ‰¾åˆ°å¯¹åº”çš„`å…ƒç´ èŠ‚ç‚¹`è¿›è¡Œåˆ é™¤äºä¿®æ”¹ï¼›\n\nå¦‚æœè¿™æ—¶ä½ çš„æ°´å°ç”Ÿæˆæ–¹å¼æ²¡åšç›¸å¯¹çš„å®‰å…¨æ€§ï¼Œé‚£ä¹ˆå¤§å¤§é™ä½äº†æ•°æ®çš„å®‰å…¨æ€§ï¼›\n\n## æé«˜å®‰å…¨ï¼Ÿ\n\nå¯¹äºåˆ é™¤`å…ƒç´ èŠ‚ç‚¹æˆ–è€…å±æ€§`å»æ‰‹åŠ¨ä¿®æ”¹æ°´å°çš„æ–¹å¼ï¼Œä¸€èˆ¬æƒ…å†µä¸ä¼šæœ‰äººå»è¿™ä¹ˆæ“ä½œçš„ï¼Œä½†æ˜¯ä¸‡ä¸€å‘¢ï¼Œæ‰€ä»¥è¿™æ—¶çš„ä½ å°±éœ€è¦å¯¹æ°´å°æé«˜å®‰å…¨æ€§èƒ½ï¼›\n\né‚£ä¹ˆå¦‚ä½•çŸ¥é“å…ƒç´ è¿›è¡Œäº†ä¿®æ”¹æˆ–è€…åˆ é™¤å‘¢ï¼Ÿæˆ‘è¦æ€ä¹ˆç›‘å¬ï¼Œæˆ–è€…æœ‰ç°æˆçš„`api`å‘¢ï¼Ÿ\n\nè¿™é‡Œä¸å¾—ä¸è¯´`js`è¿˜æ˜¯å¾ˆå¼ºå¤§çš„ï¼Œ`MutationObserver`åœ¨`Mdn`ä¸Šçš„è§£é‡Šä¸ºï¼š`MutationObserver` æ¥å£æä¾›äº†ç›‘è§†å¯¹ DOM æ ‘æ‰€åšæ›´æ”¹çš„èƒ½åŠ›ã€‚å®ƒè¢«è®¾è®¡ä¸ºæ—§çš„ Mutation Events åŠŸèƒ½çš„æ›¿ä»£å“ï¼Œè¯¥åŠŸèƒ½æ˜¯ DOM3 Events è§„èŒƒçš„ä¸€éƒ¨åˆ†ã€‚\n\nå¤§è‡´æ„æ€è¯´ï¼Œè¯¥`api`ç›‘å¬äº†å¯¹`dom`æ ‘çš„ä¿®æ”¹ï¼Œå¦‚æœå…ƒç´ è¢«ä¿®æ”¹æˆ–è€…åˆ é™¤çš„æƒ…å†µï¼Œå°±ä¼šæ‰§è¡Œå†…ç½®çš„å›è°ƒå‡½æ•°ï¼Œè€Œä»è¿›è¡Œå¯¹åº”çš„é€»è¾‘ï¼›å¯å‚è€ƒä»¥ä¸‹ä»£ç ï¼š\n\n```js\n// åˆ›å»ºè§‚å¯Ÿå™¨ï¼Œå¦‚æœå¯¹åº”çš„èŠ‚ç‚¹æœ‰ä¿®æ”¹çš„è¿¹è±¡ï¼Œé‚£ä¹ˆå°±å¦‚å›è°ƒ\nconst observer = new MutationObserver(records => {});\n\n// é…ç½®å¼€å§‹è§‚å¯Ÿç›®æ ‡çš„èŠ‚ç‚¹ï¼Œ è§‚å¯Ÿå™¨çš„é…ç½®ï¼Œéœ€è¦è§‚å¯Ÿä»€ä¹ˆå˜åŠ¨\nobserver.observe(å…ƒç´ çš„èŠ‚ç‚¹, {\n\t// è·ŸèŠ‚ç‚¹çš„å±æ€§\n\tattributes: true,\n\t// è§‚å¯Ÿå­èŠ‚ç‚¹\n\tchildList: true,\n\t// è§‚å¯Ÿæ•´ä¸ªå­æ ‘\n\tsubtree: true,\n});\n\n// ä¹‹åï¼Œå¯åœæ­¢è§‚å¯Ÿ\nobserver.disconnect();\n```\n\nåˆ›å»ºäº†è§‚å¯Ÿå™¨ï¼Œé‚£ä¹ˆå¦‚æœæé«˜å®‰å…¨å‘¢ï¼Ÿ\n\nå¯ä»¥è¿™ä¹ˆç†è§£ï¼Œæˆ‘åœ¨è§‚å¯Ÿå™¨æ£€æµ‹åˆ°ä¿®æ”¹æˆ–è€…åˆ é™¤çš„æƒ…å†µï¼Œé‡æ–°ç”Ÿæˆæ°´å°å¹¶åœ¨å…ƒç´ æ·»åŠ ï¼›å°±ç›¸å½“äºç®¡ç”¨æˆ·æ˜¯ä»€ä¹ˆæ ·çš„æ“ä½œï¼Œåˆ é™¤æˆ–è€…ä¿®æ”¹éƒ½ä¼šåœ¨çŸ­æ—¶é—´å†…ç”Ÿæˆå¹¶é‡æ–°æ¸²æŸ“ï¼Œé‚£ä¹ˆæ°´å°çš„å®‰å…¨å°±ä¼šå¤§å¤§æé«˜ï¼›\n\nç°åœ¨è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åœ¨ä»€ä¹ˆæƒ…å†µä¸‹æ‰ä¼šé‡æ–°ç”Ÿæˆæ°´å°å‘¢ï¼Ÿ\n\n![æ°´å°é€»è¾‘](https://wangxiaoze-view.github.io/picx-images-hosting/images/temper_waterremark.png)\n\nè¿™é‡Œå¯å‚è€ƒè®¾è®¡æ¨¡å¼`è®¢é˜…å‘å¸ƒ`ï¼Œæœé›†å¯¹åº”çš„ä¾èµ–ï¼Œå¦‚æœæœ‰å°±å‘å¸ƒæ–°çš„èµ„æºï¼ŒåŠŸèƒ½ç‚¹ç±»ä¼¼äº`æ£€æµ‹ç½‘ç«™å‘å¸ƒç‰ˆæœ¬æ˜¯å¦æ›´æ–°`ï¼›å¯¹äº`vue3`å¦‚ä½•ç›‘å¬ä¾èµ–çš„å˜åŠ¨å‘¢ï¼Ÿ`watch`å’Œ`watchEffect`ä¹Ÿè®¸é€‚åˆä¸é”™çš„é€‰æ‹©ï¼Œä½†æ˜¯ä¿©è€…è¿˜æ˜¯æœ‰åŒºåˆ«çš„:\n\n- `wattch`å¿…é¡»è¦æœ‰ç›‘å¬çš„å¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥è·å–åˆ°ä¸Šä¸€æ¬¡çš„å˜åŒ–å€¼ï¼Œä½†æ˜¯åœ¨ä¸åšé…ç½®çš„æƒ…å†µä¸‹é¦–æ¬¡æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼›æ·»åŠ `immediate`ä»£è¡¨é¦–æ¬¡ä¼šè§¦å‘\n- `watchEffect`æ²¡æœ‰ç›‘å¬çš„å¯¹è±¡ï¼Œåªè¦ä½ å¯¹åº”çš„ä¾èµ–ç›¸åº”æ•°æ®æœ‰äº†å˜åŒ–ï¼Œé‚£ä¹ˆå°±ä¼šæ‰§è¡Œè¯¥å¯¹åº”çš„å›è°ƒï¼›é¦–æ¬¡ä¼šé»˜è®¤æ‰§è¡Œä¸€æ¬¡ï¼›\n\n```js\nconst count = ref(0);\n\n// æ¨¡æ‹Ÿçš„æ–¹æ³•\nconst addCount = () => count.value++;\n\nwatch(\n\t() => count.value,\n\t(val, oldVal) => {\n\t\t// val: æœ€æ–°å€¼ï¼Œ oldVal: ä¸Šä¸€æ¬¡çš„å€¼ï¼Œ é»˜è®¤é¦–æ¬¡ä¸æ‰§è¡Œ\n\t},\n\t{\n\t\timmediate: true, // é¦–æ¬¡æ‰§è¡Œ\n\t\tdeep: true, // æ·±åº¦ç›‘å¬\n\t}\n);\n\nwatchEffect(() => {\n\t// å¦‚æœæ‰§è¡ŒaddCount  å›è°ƒç”Ÿæ•ˆï¼Œæ‰§è¡Œç›¸å¯¹åº”çš„å›è°ƒé€»è¾‘ï¼› ä¸è¿‡æ˜¯æœ‰äº†å˜åŒ–æ‰ä¼šæ‰§è¡Œï¼Œé¦–æ¬¡ä¼šæ‰§è¡Œï¼›\n\tconsole.log(count.value);\n});\n```\n\nç›¸å¯¹äºæ‡’ç›‘å¬ï¼Œå¯¹åº”ä¾èµ–å˜åŒ–äº†æ‰ä¼šæ‰§è¡Œï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½ä¼šæ‰§è¡Œï¼Œç›¸å¯¹äºä»£ç çš„ç®€æ´`watchEffect`æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œåˆ°æ—¶å€™æ‰§è¡Œåœ¨è¿™é‡Œé‡æ–°ç”Ÿæˆæ°´å°å³å¯ï¼›å¤§è‡´çš„ä»£ç å¦‚ä¸‹ï¼š\n\n```js\n// parent ref, ç”Ÿæˆæ°´å°çˆ¶èŠ‚ç‚¹\nconst parentRef = ref();\n\n// uidï¼Œç”¨äºç›‘å¬ä¾èµ–ï¼Œé‡æ–°ç”Ÿæˆæ°´å°\nconst uId = ref(0);\n\n// bgï¼Œ useWateræ˜¯ç”Ÿæˆcanvasçš„æ–¹æ³•ï¼Œ\nconst bg = useWater(props);\n// baseï¼šcanvas base64ï¼Œ styleSize: canvasçš„å¤§å°\nconst { base, styleSize } = bg.value;\n\n// div: é‡æ–°ç”Ÿæˆçš„æ°´å°\nlet div;\nwatchEffect(() => {\n\t// æœé›†ä¾èµ–ï¼Œ å¦‚æœä¾èµ–æ›´æ–°ï¼Œé‚£ä¹ˆæ‰§è¡Œä¸‹é¢çš„ä»£ç \n\tuId.value;\n\tif (!parentRef.value) return;\n\tdiv && div.remove();\n\tdiv = document.createElement(\"div\");\n\tdiv.style.backgroundImage = `url(${base})`;\n\tdiv.style.backgroundSize = `${styleSize}px ${styleSize}px`;\n\tdiv.style.backgroundRepeat = \"repeat\";\n\tdiv.style.width = \"100%\";\n\tdiv.style.height = \"100%\";\n\tdiv.style.position = \"absolute\";\n\tdiv.style.inset = \"0\";\n\tparentRef.value.appendChild(div);\n});\n\n// åˆå§‹åŒ–è§‚å¯Ÿå™¨\nlet ob;\nonMounted(() => {\n\tob = new MutationObserver(records => {\n\t\tfor (const record of records) {\n\t\t\t// ç›‘å¬åˆ é™¤\n\t\t\tfor (const dom of record.removedNodes) {\n\t\t\t\tif (dom === div) {\n\t\t\t\t\treturn uId.value++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// ç›‘å¬ä¿®æ”¹å±æ€§\n\t\t\tif (record.target === div) {\n\t\t\t\treturn uId.value++;\n\t\t\t}\n\t\t}\n\t});\n\n\tob.observe(parentRef.value, {\n\t\tchildList: true, // èŠ‚ç‚¹çš„æ–°å¢ä¸åˆ é™¤\n\t\tattributes: true, // èŠ‚ç‚¹å±æ€§å€¼\n\t\tsubtree: true, // æ•´ä¸ªå­æ ‘\n\t});\n});\n\n// é¡µé¢åŠ è½½å®Œæ¯•ï¼Œå¸è½½è§‚å¯Ÿå™¨ï¼Œé˜²æ­¢å¯¹åº”çš„å†…å­˜æ³„éœ²\nonUnmounted(() => {\n\tob.disconnect();\n\t// æ¸…ç©ºï¼Œé¿å…å†…å­˜æ³„éœ²\n\tdiv = null;\n});\n```\n","source":"_posts/æ€»ç»“/é¡¹ç›®æ€»ç»“/é˜²ç¯¡æ”¹æ°´å°.md","raw":"---\ntitle: å·¥ä½œå†…å®¹-é˜²ç¯¡æ”¹æ°´å°\nabbrlink: 5b79f283\ndate: 2024-07-08 09:05:01\ncategories:\n  - æ€»ç»“\ntags:\n  - å·¥ä½œå†…å®¹\n---\n\n# èƒŒæ™¯\n\nå¯¹äºæ°´å°åœ¨å„ä¸ªå¹³å°ç½‘ç«™å·²ç»æ˜¯å¾ˆå¸¸è§çš„åŠŸèƒ½ç‚¹äº†ï¼Œä½†æ˜¯å¯¹äºæ°´å°çš„ç†è§£ï¼Œæ— éå°±æ˜¯é‚£ä¹ˆå‡ ç§ï¼Œå…¶ä¸€ï¼šå¹³å°ä¸ºäº†æ•°æ®çš„å®‰å…¨æ€§ï¼Œåœ¨ç”¨æˆ·æˆªå›¾éœ€è¦æ¶µç›–æ°´å°é˜²æ­¢æ•°æ®ä¿¡æ¯æ³„éœ²é—®é¢˜ï¼Œå…¶äºŒï¼šç³»ç»Ÿåœ¨ç‰¹å®šçš„æƒ…å†µä¸‹äº¦æˆ–æ˜¯å±•ç¤ºåŠŸèƒ½çš„ç‰¹æ€§ä»è€Œç”Ÿæˆç‰¹æ®Šçš„æ°´å°æ–¹å¼ï¼Œä¾‹å¦‚ä¸Šä¼ å›¾ç‰‡éœ€è¦å¯¹å›¾ç‰‡è¿›è¡Œå¤„ç†ï¼Œæ°´å°éœ€è¦ä¸Šä¼ æ—¶é—´ï¼Œä¸Šä¼ è€…çš„ä¿¡æ¯ç­‰ç­‰ï¼›\n\nè™½ç„¶ï¼Œæ°´å°çš„åŠŸèƒ½å¹¶ä¸å¤æ‚ï¼Œä½†æ˜¯å¯¹äº`å¼€å‘è€…`æ¥è®²ï¼Œä¸€åˆ‡åŠŸèƒ½ç‚¹éƒ½æ˜¯ä¸ºäº†å®‰å…¨ï¼Œç¨³å®šè€ƒè™‘ï¼›å¯¹æ­¤ï¼Œåœ¨ç½‘é¡µé¡µé¢çš„æ˜¾ç¤ºæ˜¯ä¸æ˜¯æœ‰æ¼æ´é—®é¢˜ï¼Ÿæˆ–è€…è¯´æ°´å°æ˜¯å¦åœ¨ç‰¹å®šçš„æƒ…å†µä¸‹ä¼šéšè—æˆ–è€…åˆ é™¤ï¼Ÿæ¥ä¸‹æ¥å¯¹äºè¿™ä¸ªé—®é¢˜ä¼šå¤§è‡´è®²è§£ï¼š\n\n## æ°´å°çš„å®‰å…¨ï¼Ÿ\n\næ°´å°ä¸€èˆ¬æ˜¯ä¸ºäº†ä¿è¯æ•°æ®çš„å®‰å…¨æ€§ï¼Œä¾‹å¦‚æœ‰è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼šå…¬å¸è´¦æˆ·ç™»å½•çš„å¹³å°ç³»ç»Ÿï¼Œæ¯ä¸ªå¤§å¤§ç¬‘ç¬‘çš„é¡µé¢éƒ½éœ€è¦æ°´å°ï¼Œä½†æ˜¯æ°´å°æ·»åŠ äº†ç™»å½•äººçš„ä¿¡æ¯ï¼Œç™»å½•æ—¶é—´ç­‰ï¼Œå¦‚ï¼š`å¼ ä¸‰ 2023-05-27`ï¼Œä¸€å¼ åŒ…å«ä¸ªäººå§“åçš„æ°´å°å°±æ­¤ç”Ÿæˆï¼Œå¦‚æœæˆªå›¾åé¦ˆç”¨æˆ·æˆ–è€…è§£å†³äº§å“é—®é¢˜ï¼Œå°½å¯èƒ½çš„é¿å…æ•°æ®ä¿¡æ¯æ³„éœ²é—®é¢˜ï¼Œä½†æ˜¯å¯¹äºä¸ªåˆ«`å¼€å‘è€…`æ¥è®²ï¼Œæˆ‘æˆªå›¾ä¸è¦æ°´å°ä¿¡æ¯ï¼Œåªèƒ½åœ¨`æ§åˆ¶å°`æ‰¾åˆ°å¯¹åº”çš„`å…ƒç´ èŠ‚ç‚¹`è¿›è¡Œåˆ é™¤äºä¿®æ”¹ï¼›\n\nå¦‚æœè¿™æ—¶ä½ çš„æ°´å°ç”Ÿæˆæ–¹å¼æ²¡åšç›¸å¯¹çš„å®‰å…¨æ€§ï¼Œé‚£ä¹ˆå¤§å¤§é™ä½äº†æ•°æ®çš„å®‰å…¨æ€§ï¼›\n\n## æé«˜å®‰å…¨ï¼Ÿ\n\nå¯¹äºåˆ é™¤`å…ƒç´ èŠ‚ç‚¹æˆ–è€…å±æ€§`å»æ‰‹åŠ¨ä¿®æ”¹æ°´å°çš„æ–¹å¼ï¼Œä¸€èˆ¬æƒ…å†µä¸ä¼šæœ‰äººå»è¿™ä¹ˆæ“ä½œçš„ï¼Œä½†æ˜¯ä¸‡ä¸€å‘¢ï¼Œæ‰€ä»¥è¿™æ—¶çš„ä½ å°±éœ€è¦å¯¹æ°´å°æé«˜å®‰å…¨æ€§èƒ½ï¼›\n\né‚£ä¹ˆå¦‚ä½•çŸ¥é“å…ƒç´ è¿›è¡Œäº†ä¿®æ”¹æˆ–è€…åˆ é™¤å‘¢ï¼Ÿæˆ‘è¦æ€ä¹ˆç›‘å¬ï¼Œæˆ–è€…æœ‰ç°æˆçš„`api`å‘¢ï¼Ÿ\n\nè¿™é‡Œä¸å¾—ä¸è¯´`js`è¿˜æ˜¯å¾ˆå¼ºå¤§çš„ï¼Œ`MutationObserver`åœ¨`Mdn`ä¸Šçš„è§£é‡Šä¸ºï¼š`MutationObserver` æ¥å£æä¾›äº†ç›‘è§†å¯¹ DOM æ ‘æ‰€åšæ›´æ”¹çš„èƒ½åŠ›ã€‚å®ƒè¢«è®¾è®¡ä¸ºæ—§çš„ Mutation Events åŠŸèƒ½çš„æ›¿ä»£å“ï¼Œè¯¥åŠŸèƒ½æ˜¯ DOM3 Events è§„èŒƒçš„ä¸€éƒ¨åˆ†ã€‚\n\nå¤§è‡´æ„æ€è¯´ï¼Œè¯¥`api`ç›‘å¬äº†å¯¹`dom`æ ‘çš„ä¿®æ”¹ï¼Œå¦‚æœå…ƒç´ è¢«ä¿®æ”¹æˆ–è€…åˆ é™¤çš„æƒ…å†µï¼Œå°±ä¼šæ‰§è¡Œå†…ç½®çš„å›è°ƒå‡½æ•°ï¼Œè€Œä»è¿›è¡Œå¯¹åº”çš„é€»è¾‘ï¼›å¯å‚è€ƒä»¥ä¸‹ä»£ç ï¼š\n\n```js\n// åˆ›å»ºè§‚å¯Ÿå™¨ï¼Œå¦‚æœå¯¹åº”çš„èŠ‚ç‚¹æœ‰ä¿®æ”¹çš„è¿¹è±¡ï¼Œé‚£ä¹ˆå°±å¦‚å›è°ƒ\nconst observer = new MutationObserver(records => {});\n\n// é…ç½®å¼€å§‹è§‚å¯Ÿç›®æ ‡çš„èŠ‚ç‚¹ï¼Œ è§‚å¯Ÿå™¨çš„é…ç½®ï¼Œéœ€è¦è§‚å¯Ÿä»€ä¹ˆå˜åŠ¨\nobserver.observe(å…ƒç´ çš„èŠ‚ç‚¹, {\n\t// è·ŸèŠ‚ç‚¹çš„å±æ€§\n\tattributes: true,\n\t// è§‚å¯Ÿå­èŠ‚ç‚¹\n\tchildList: true,\n\t// è§‚å¯Ÿæ•´ä¸ªå­æ ‘\n\tsubtree: true,\n});\n\n// ä¹‹åï¼Œå¯åœæ­¢è§‚å¯Ÿ\nobserver.disconnect();\n```\n\nåˆ›å»ºäº†è§‚å¯Ÿå™¨ï¼Œé‚£ä¹ˆå¦‚æœæé«˜å®‰å…¨å‘¢ï¼Ÿ\n\nå¯ä»¥è¿™ä¹ˆç†è§£ï¼Œæˆ‘åœ¨è§‚å¯Ÿå™¨æ£€æµ‹åˆ°ä¿®æ”¹æˆ–è€…åˆ é™¤çš„æƒ…å†µï¼Œé‡æ–°ç”Ÿæˆæ°´å°å¹¶åœ¨å…ƒç´ æ·»åŠ ï¼›å°±ç›¸å½“äºç®¡ç”¨æˆ·æ˜¯ä»€ä¹ˆæ ·çš„æ“ä½œï¼Œåˆ é™¤æˆ–è€…ä¿®æ”¹éƒ½ä¼šåœ¨çŸ­æ—¶é—´å†…ç”Ÿæˆå¹¶é‡æ–°æ¸²æŸ“ï¼Œé‚£ä¹ˆæ°´å°çš„å®‰å…¨å°±ä¼šå¤§å¤§æé«˜ï¼›\n\nç°åœ¨è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åœ¨ä»€ä¹ˆæƒ…å†µä¸‹æ‰ä¼šé‡æ–°ç”Ÿæˆæ°´å°å‘¢ï¼Ÿ\n\n![æ°´å°é€»è¾‘](https://wangxiaoze-view.github.io/picx-images-hosting/images/temper_waterremark.png)\n\nè¿™é‡Œå¯å‚è€ƒè®¾è®¡æ¨¡å¼`è®¢é˜…å‘å¸ƒ`ï¼Œæœé›†å¯¹åº”çš„ä¾èµ–ï¼Œå¦‚æœæœ‰å°±å‘å¸ƒæ–°çš„èµ„æºï¼ŒåŠŸèƒ½ç‚¹ç±»ä¼¼äº`æ£€æµ‹ç½‘ç«™å‘å¸ƒç‰ˆæœ¬æ˜¯å¦æ›´æ–°`ï¼›å¯¹äº`vue3`å¦‚ä½•ç›‘å¬ä¾èµ–çš„å˜åŠ¨å‘¢ï¼Ÿ`watch`å’Œ`watchEffect`ä¹Ÿè®¸é€‚åˆä¸é”™çš„é€‰æ‹©ï¼Œä½†æ˜¯ä¿©è€…è¿˜æ˜¯æœ‰åŒºåˆ«çš„:\n\n- `wattch`å¿…é¡»è¦æœ‰ç›‘å¬çš„å¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥è·å–åˆ°ä¸Šä¸€æ¬¡çš„å˜åŒ–å€¼ï¼Œä½†æ˜¯åœ¨ä¸åšé…ç½®çš„æƒ…å†µä¸‹é¦–æ¬¡æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼›æ·»åŠ `immediate`ä»£è¡¨é¦–æ¬¡ä¼šè§¦å‘\n- `watchEffect`æ²¡æœ‰ç›‘å¬çš„å¯¹è±¡ï¼Œåªè¦ä½ å¯¹åº”çš„ä¾èµ–ç›¸åº”æ•°æ®æœ‰äº†å˜åŒ–ï¼Œé‚£ä¹ˆå°±ä¼šæ‰§è¡Œè¯¥å¯¹åº”çš„å›è°ƒï¼›é¦–æ¬¡ä¼šé»˜è®¤æ‰§è¡Œä¸€æ¬¡ï¼›\n\n```js\nconst count = ref(0);\n\n// æ¨¡æ‹Ÿçš„æ–¹æ³•\nconst addCount = () => count.value++;\n\nwatch(\n\t() => count.value,\n\t(val, oldVal) => {\n\t\t// val: æœ€æ–°å€¼ï¼Œ oldVal: ä¸Šä¸€æ¬¡çš„å€¼ï¼Œ é»˜è®¤é¦–æ¬¡ä¸æ‰§è¡Œ\n\t},\n\t{\n\t\timmediate: true, // é¦–æ¬¡æ‰§è¡Œ\n\t\tdeep: true, // æ·±åº¦ç›‘å¬\n\t}\n);\n\nwatchEffect(() => {\n\t// å¦‚æœæ‰§è¡ŒaddCount  å›è°ƒç”Ÿæ•ˆï¼Œæ‰§è¡Œç›¸å¯¹åº”çš„å›è°ƒé€»è¾‘ï¼› ä¸è¿‡æ˜¯æœ‰äº†å˜åŒ–æ‰ä¼šæ‰§è¡Œï¼Œé¦–æ¬¡ä¼šæ‰§è¡Œï¼›\n\tconsole.log(count.value);\n});\n```\n\nç›¸å¯¹äºæ‡’ç›‘å¬ï¼Œå¯¹åº”ä¾èµ–å˜åŒ–äº†æ‰ä¼šæ‰§è¡Œï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½ä¼šæ‰§è¡Œï¼Œç›¸å¯¹äºä»£ç çš„ç®€æ´`watchEffect`æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œåˆ°æ—¶å€™æ‰§è¡Œåœ¨è¿™é‡Œé‡æ–°ç”Ÿæˆæ°´å°å³å¯ï¼›å¤§è‡´çš„ä»£ç å¦‚ä¸‹ï¼š\n\n```js\n// parent ref, ç”Ÿæˆæ°´å°çˆ¶èŠ‚ç‚¹\nconst parentRef = ref();\n\n// uidï¼Œç”¨äºç›‘å¬ä¾èµ–ï¼Œé‡æ–°ç”Ÿæˆæ°´å°\nconst uId = ref(0);\n\n// bgï¼Œ useWateræ˜¯ç”Ÿæˆcanvasçš„æ–¹æ³•ï¼Œ\nconst bg = useWater(props);\n// baseï¼šcanvas base64ï¼Œ styleSize: canvasçš„å¤§å°\nconst { base, styleSize } = bg.value;\n\n// div: é‡æ–°ç”Ÿæˆçš„æ°´å°\nlet div;\nwatchEffect(() => {\n\t// æœé›†ä¾èµ–ï¼Œ å¦‚æœä¾èµ–æ›´æ–°ï¼Œé‚£ä¹ˆæ‰§è¡Œä¸‹é¢çš„ä»£ç \n\tuId.value;\n\tif (!parentRef.value) return;\n\tdiv && div.remove();\n\tdiv = document.createElement(\"div\");\n\tdiv.style.backgroundImage = `url(${base})`;\n\tdiv.style.backgroundSize = `${styleSize}px ${styleSize}px`;\n\tdiv.style.backgroundRepeat = \"repeat\";\n\tdiv.style.width = \"100%\";\n\tdiv.style.height = \"100%\";\n\tdiv.style.position = \"absolute\";\n\tdiv.style.inset = \"0\";\n\tparentRef.value.appendChild(div);\n});\n\n// åˆå§‹åŒ–è§‚å¯Ÿå™¨\nlet ob;\nonMounted(() => {\n\tob = new MutationObserver(records => {\n\t\tfor (const record of records) {\n\t\t\t// ç›‘å¬åˆ é™¤\n\t\t\tfor (const dom of record.removedNodes) {\n\t\t\t\tif (dom === div) {\n\t\t\t\t\treturn uId.value++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// ç›‘å¬ä¿®æ”¹å±æ€§\n\t\t\tif (record.target === div) {\n\t\t\t\treturn uId.value++;\n\t\t\t}\n\t\t}\n\t});\n\n\tob.observe(parentRef.value, {\n\t\tchildList: true, // èŠ‚ç‚¹çš„æ–°å¢ä¸åˆ é™¤\n\t\tattributes: true, // èŠ‚ç‚¹å±æ€§å€¼\n\t\tsubtree: true, // æ•´ä¸ªå­æ ‘\n\t});\n});\n\n// é¡µé¢åŠ è½½å®Œæ¯•ï¼Œå¸è½½è§‚å¯Ÿå™¨ï¼Œé˜²æ­¢å¯¹åº”çš„å†…å­˜æ³„éœ²\nonUnmounted(() => {\n\tob.disconnect();\n\t// æ¸…ç©ºï¼Œé¿å…å†…å­˜æ³„éœ²\n\tdiv = null;\n});\n```\n","slug":"æ€»ç»“/é¡¹ç›®æ€»ç»“/é˜²ç¯¡æ”¹æ°´å°","published":1,"updated":"2025-03-13T10:16:16.975Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iw0023fg9mdnnh9fxk","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>å¯¹äºæ°´å°åœ¨å„ä¸ªå¹³å°ç½‘ç«™å·²ç»æ˜¯å¾ˆå¸¸è§çš„åŠŸèƒ½ç‚¹äº†ï¼Œä½†æ˜¯å¯¹äºæ°´å°çš„ç†è§£ï¼Œæ— éå°±æ˜¯é‚£ä¹ˆå‡ ç§ï¼Œå…¶ä¸€ï¼šå¹³å°ä¸ºäº†æ•°æ®çš„å®‰å…¨æ€§ï¼Œåœ¨ç”¨æˆ·æˆªå›¾éœ€è¦æ¶µç›–æ°´å°é˜²æ­¢æ•°æ®ä¿¡æ¯æ³„éœ²é—®é¢˜ï¼Œå…¶äºŒï¼šç³»ç»Ÿåœ¨ç‰¹å®šçš„æƒ…å†µä¸‹äº¦æˆ–æ˜¯å±•ç¤ºåŠŸèƒ½çš„ç‰¹æ€§ä»è€Œç”Ÿæˆç‰¹æ®Šçš„æ°´å°æ–¹å¼ï¼Œä¾‹å¦‚ä¸Šä¼ å›¾ç‰‡éœ€è¦å¯¹å›¾ç‰‡è¿›è¡Œå¤„ç†ï¼Œæ°´å°éœ€è¦ä¸Šä¼ æ—¶é—´ï¼Œä¸Šä¼ è€…çš„ä¿¡æ¯ç­‰ç­‰ï¼›</p>\n<p>è™½ç„¶ï¼Œæ°´å°çš„åŠŸèƒ½å¹¶ä¸å¤æ‚ï¼Œä½†æ˜¯å¯¹äº<code>å¼€å‘è€…</code>æ¥è®²ï¼Œä¸€åˆ‡åŠŸèƒ½ç‚¹éƒ½æ˜¯ä¸ºäº†å®‰å…¨ï¼Œç¨³å®šè€ƒè™‘ï¼›å¯¹æ­¤ï¼Œåœ¨ç½‘é¡µé¡µé¢çš„æ˜¾ç¤ºæ˜¯ä¸æ˜¯æœ‰æ¼æ´é—®é¢˜ï¼Ÿæˆ–è€…è¯´æ°´å°æ˜¯å¦åœ¨ç‰¹å®šçš„æƒ…å†µä¸‹ä¼šéšè—æˆ–è€…åˆ é™¤ï¼Ÿæ¥ä¸‹æ¥å¯¹äºè¿™ä¸ªé—®é¢˜ä¼šå¤§è‡´è®²è§£ï¼š</p>\n<h2 id=\"æ°´å°çš„å®‰å…¨ï¼Ÿ\"><a href=\"#æ°´å°çš„å®‰å…¨ï¼Ÿ\" class=\"headerlink\" title=\"æ°´å°çš„å®‰å…¨ï¼Ÿ\"></a>æ°´å°çš„å®‰å…¨ï¼Ÿ</h2><p>æ°´å°ä¸€èˆ¬æ˜¯ä¸ºäº†ä¿è¯æ•°æ®çš„å®‰å…¨æ€§ï¼Œä¾‹å¦‚æœ‰è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼šå…¬å¸è´¦æˆ·ç™»å½•çš„å¹³å°ç³»ç»Ÿï¼Œæ¯ä¸ªå¤§å¤§ç¬‘ç¬‘çš„é¡µé¢éƒ½éœ€è¦æ°´å°ï¼Œä½†æ˜¯æ°´å°æ·»åŠ äº†ç™»å½•äººçš„ä¿¡æ¯ï¼Œç™»å½•æ—¶é—´ç­‰ï¼Œå¦‚ï¼š<code>å¼ ä¸‰ 2023-05-27</code>ï¼Œä¸€å¼ åŒ…å«ä¸ªäººå§“åçš„æ°´å°å°±æ­¤ç”Ÿæˆï¼Œå¦‚æœæˆªå›¾åé¦ˆç”¨æˆ·æˆ–è€…è§£å†³äº§å“é—®é¢˜ï¼Œå°½å¯èƒ½çš„é¿å…æ•°æ®ä¿¡æ¯æ³„éœ²é—®é¢˜ï¼Œä½†æ˜¯å¯¹äºä¸ªåˆ«<code>å¼€å‘è€…</code>æ¥è®²ï¼Œæˆ‘æˆªå›¾ä¸è¦æ°´å°ä¿¡æ¯ï¼Œåªèƒ½åœ¨<code>æ§åˆ¶å°</code>æ‰¾åˆ°å¯¹åº”çš„<code>å…ƒç´ èŠ‚ç‚¹</code>è¿›è¡Œåˆ é™¤äºä¿®æ”¹ï¼›</p>\n<p>å¦‚æœè¿™æ—¶ä½ çš„æ°´å°ç”Ÿæˆæ–¹å¼æ²¡åšç›¸å¯¹çš„å®‰å…¨æ€§ï¼Œé‚£ä¹ˆå¤§å¤§é™ä½äº†æ•°æ®çš„å®‰å…¨æ€§ï¼›</p>\n<h2 id=\"æé«˜å®‰å…¨ï¼Ÿ\"><a href=\"#æé«˜å®‰å…¨ï¼Ÿ\" class=\"headerlink\" title=\"æé«˜å®‰å…¨ï¼Ÿ\"></a>æé«˜å®‰å…¨ï¼Ÿ</h2><p>å¯¹äºåˆ é™¤<code>å…ƒç´ èŠ‚ç‚¹æˆ–è€…å±æ€§</code>å»æ‰‹åŠ¨ä¿®æ”¹æ°´å°çš„æ–¹å¼ï¼Œä¸€èˆ¬æƒ…å†µä¸ä¼šæœ‰äººå»è¿™ä¹ˆæ“ä½œçš„ï¼Œä½†æ˜¯ä¸‡ä¸€å‘¢ï¼Œæ‰€ä»¥è¿™æ—¶çš„ä½ å°±éœ€è¦å¯¹æ°´å°æé«˜å®‰å…¨æ€§èƒ½ï¼›</p>\n<p>é‚£ä¹ˆå¦‚ä½•çŸ¥é“å…ƒç´ è¿›è¡Œäº†ä¿®æ”¹æˆ–è€…åˆ é™¤å‘¢ï¼Ÿæˆ‘è¦æ€ä¹ˆç›‘å¬ï¼Œæˆ–è€…æœ‰ç°æˆçš„<code>api</code>å‘¢ï¼Ÿ</p>\n<p>è¿™é‡Œä¸å¾—ä¸è¯´<code>js</code>è¿˜æ˜¯å¾ˆå¼ºå¤§çš„ï¼Œ<code>MutationObserver</code>åœ¨<code>Mdn</code>ä¸Šçš„è§£é‡Šä¸ºï¼š<code>MutationObserver</code> æ¥å£æä¾›äº†ç›‘è§†å¯¹ DOM æ ‘æ‰€åšæ›´æ”¹çš„èƒ½åŠ›ã€‚å®ƒè¢«è®¾è®¡ä¸ºæ—§çš„ Mutation Events åŠŸèƒ½çš„æ›¿ä»£å“ï¼Œè¯¥åŠŸèƒ½æ˜¯ DOM3 Events è§„èŒƒçš„ä¸€éƒ¨åˆ†ã€‚</p>\n<p>å¤§è‡´æ„æ€è¯´ï¼Œè¯¥<code>api</code>ç›‘å¬äº†å¯¹<code>dom</code>æ ‘çš„ä¿®æ”¹ï¼Œå¦‚æœå…ƒç´ è¢«ä¿®æ”¹æˆ–è€…åˆ é™¤çš„æƒ…å†µï¼Œå°±ä¼šæ‰§è¡Œå†…ç½®çš„å›è°ƒå‡½æ•°ï¼Œè€Œä»è¿›è¡Œå¯¹åº”çš„é€»è¾‘ï¼›å¯å‚è€ƒä»¥ä¸‹ä»£ç ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åˆ›å»ºè§‚å¯Ÿå™¨ï¼Œå¦‚æœå¯¹åº”çš„èŠ‚ç‚¹æœ‰ä¿®æ”¹çš„è¿¹è±¡ï¼Œé‚£ä¹ˆå°±å¦‚å›è°ƒ</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> observer = <span class=\"keyword\">new</span> <span class=\"title class_\">MutationObserver</span>(<span class=\"function\"><span class=\"params\">records</span> =&gt;</span> &#123;&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é…ç½®å¼€å§‹è§‚å¯Ÿç›®æ ‡çš„èŠ‚ç‚¹ï¼Œ è§‚å¯Ÿå™¨çš„é…ç½®ï¼Œéœ€è¦è§‚å¯Ÿä»€ä¹ˆå˜åŠ¨</span></span><br><span class=\"line\">observer.<span class=\"title function_\">observe</span>(å…ƒç´ çš„èŠ‚ç‚¹, &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// è·ŸèŠ‚ç‚¹çš„å±æ€§</span></span><br><span class=\"line\">\t<span class=\"attr\">attributes</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// è§‚å¯Ÿå­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"attr\">childList</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// è§‚å¯Ÿæ•´ä¸ªå­æ ‘</span></span><br><span class=\"line\">\t<span class=\"attr\">subtree</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä¹‹åï¼Œå¯åœæ­¢è§‚å¯Ÿ</span></span><br><span class=\"line\">observer.<span class=\"title function_\">disconnect</span>();</span><br></pre></td></tr></table></figure>\n\n<p>åˆ›å»ºäº†è§‚å¯Ÿå™¨ï¼Œé‚£ä¹ˆå¦‚æœæé«˜å®‰å…¨å‘¢ï¼Ÿ</p>\n<p>å¯ä»¥è¿™ä¹ˆç†è§£ï¼Œæˆ‘åœ¨è§‚å¯Ÿå™¨æ£€æµ‹åˆ°ä¿®æ”¹æˆ–è€…åˆ é™¤çš„æƒ…å†µï¼Œé‡æ–°ç”Ÿæˆæ°´å°å¹¶åœ¨å…ƒç´ æ·»åŠ ï¼›å°±ç›¸å½“äºç®¡ç”¨æˆ·æ˜¯ä»€ä¹ˆæ ·çš„æ“ä½œï¼Œåˆ é™¤æˆ–è€…ä¿®æ”¹éƒ½ä¼šåœ¨çŸ­æ—¶é—´å†…ç”Ÿæˆå¹¶é‡æ–°æ¸²æŸ“ï¼Œé‚£ä¹ˆæ°´å°çš„å®‰å…¨å°±ä¼šå¤§å¤§æé«˜ï¼›</p>\n<p>ç°åœ¨è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åœ¨ä»€ä¹ˆæƒ…å†µä¸‹æ‰ä¼šé‡æ–°ç”Ÿæˆæ°´å°å‘¢ï¼Ÿ</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/temper_waterremark.png\" alt=\"æ°´å°é€»è¾‘\"></p>\n<p>è¿™é‡Œå¯å‚è€ƒè®¾è®¡æ¨¡å¼<code>è®¢é˜…å‘å¸ƒ</code>ï¼Œæœé›†å¯¹åº”çš„ä¾èµ–ï¼Œå¦‚æœæœ‰å°±å‘å¸ƒæ–°çš„èµ„æºï¼ŒåŠŸèƒ½ç‚¹ç±»ä¼¼äº<code>æ£€æµ‹ç½‘ç«™å‘å¸ƒç‰ˆæœ¬æ˜¯å¦æ›´æ–°</code>ï¼›å¯¹äº<code>vue3</code>å¦‚ä½•ç›‘å¬ä¾èµ–çš„å˜åŠ¨å‘¢ï¼Ÿ<code>watch</code>å’Œ<code>watchEffect</code>ä¹Ÿè®¸é€‚åˆä¸é”™çš„é€‰æ‹©ï¼Œä½†æ˜¯ä¿©è€…è¿˜æ˜¯æœ‰åŒºåˆ«çš„:</p>\n<ul>\n<li><code>wattch</code>å¿…é¡»è¦æœ‰ç›‘å¬çš„å¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥è·å–åˆ°ä¸Šä¸€æ¬¡çš„å˜åŒ–å€¼ï¼Œä½†æ˜¯åœ¨ä¸åšé…ç½®çš„æƒ…å†µä¸‹é¦–æ¬¡æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼›æ·»åŠ <code>immediate</code>ä»£è¡¨é¦–æ¬¡ä¼šè§¦å‘</li>\n<li><code>watchEffect</code>æ²¡æœ‰ç›‘å¬çš„å¯¹è±¡ï¼Œåªè¦ä½ å¯¹åº”çš„ä¾èµ–ç›¸åº”æ•°æ®æœ‰äº†å˜åŒ–ï¼Œé‚£ä¹ˆå°±ä¼šæ‰§è¡Œè¯¥å¯¹åº”çš„å›è°ƒï¼›é¦–æ¬¡ä¼šé»˜è®¤æ‰§è¡Œä¸€æ¬¡ï¼›</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> count = <span class=\"title function_\">ref</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ¨¡æ‹Ÿçš„æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">addCount</span> = (<span class=\"params\"></span>) =&gt; count.<span class=\"property\">value</span>++;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">watch</span>(</span><br><span class=\"line\">\t<span class=\"function\">() =&gt;</span> count.<span class=\"property\">value</span>,</span><br><span class=\"line\">\t<span class=\"function\">(<span class=\"params\">val, oldVal</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// val: æœ€æ–°å€¼ï¼Œ oldVal: ä¸Šä¸€æ¬¡çš„å€¼ï¼Œ é»˜è®¤é¦–æ¬¡ä¸æ‰§è¡Œ</span></span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">immediate</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// é¦–æ¬¡æ‰§è¡Œ</span></span><br><span class=\"line\">\t\t<span class=\"attr\">deep</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// æ·±åº¦ç›‘å¬</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">watchEffect</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœæ‰§è¡ŒaddCount  å›è°ƒç”Ÿæ•ˆï¼Œæ‰§è¡Œç›¸å¯¹åº”çš„å›è°ƒé€»è¾‘ï¼› ä¸è¿‡æ˜¯æœ‰äº†å˜åŒ–æ‰ä¼šæ‰§è¡Œï¼Œé¦–æ¬¡ä¼šæ‰§è¡Œï¼›</span></span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(count.<span class=\"property\">value</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>ç›¸å¯¹äºæ‡’ç›‘å¬ï¼Œå¯¹åº”ä¾èµ–å˜åŒ–äº†æ‰ä¼šæ‰§è¡Œï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½ä¼šæ‰§è¡Œï¼Œç›¸å¯¹äºä»£ç çš„ç®€æ´<code>watchEffect</code>æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œåˆ°æ—¶å€™æ‰§è¡Œåœ¨è¿™é‡Œé‡æ–°ç”Ÿæˆæ°´å°å³å¯ï¼›å¤§è‡´çš„ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// parent ref, ç”Ÿæˆæ°´å°çˆ¶èŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> parentRef = <span class=\"title function_\">ref</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// uidï¼Œç”¨äºç›‘å¬ä¾èµ–ï¼Œé‡æ–°ç”Ÿæˆæ°´å°</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> uId = <span class=\"title function_\">ref</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bgï¼Œ useWateræ˜¯ç”Ÿæˆcanvasçš„æ–¹æ³•ï¼Œ</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> bg = <span class=\"title function_\">useWater</span>(props);</span><br><span class=\"line\"><span class=\"comment\">// baseï¼šcanvas base64ï¼Œ styleSize: canvasçš„å¤§å°</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; base, styleSize &#125; = bg.<span class=\"property\">value</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// div: é‡æ–°ç”Ÿæˆçš„æ°´å°</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> div;</span><br><span class=\"line\"><span class=\"title function_\">watchEffect</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æœé›†ä¾èµ–ï¼Œ å¦‚æœä¾èµ–æ›´æ–°ï¼Œé‚£ä¹ˆæ‰§è¡Œä¸‹é¢çš„ä»£ç </span></span><br><span class=\"line\">\tuId.<span class=\"property\">value</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!parentRef.<span class=\"property\">value</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">\tdiv &amp;&amp; div.<span class=\"title function_\">remove</span>();</span><br><span class=\"line\">\tdiv = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;div&quot;</span>);</span><br><span class=\"line\">\tdiv.<span class=\"property\">style</span>.<span class=\"property\">backgroundImage</span> = <span class=\"string\">`url(<span class=\"subst\">$&#123;base&#125;</span>)`</span>;</span><br><span class=\"line\">\tdiv.<span class=\"property\">style</span>.<span class=\"property\">backgroundSize</span> = <span class=\"string\">`<span class=\"subst\">$&#123;styleSize&#125;</span>px <span class=\"subst\">$&#123;styleSize&#125;</span>px`</span>;</span><br><span class=\"line\">\tdiv.<span class=\"property\">style</span>.<span class=\"property\">backgroundRepeat</span> = <span class=\"string\">&quot;repeat&quot;</span>;</span><br><span class=\"line\">\tdiv.<span class=\"property\">style</span>.<span class=\"property\">width</span> = <span class=\"string\">&quot;100%&quot;</span>;</span><br><span class=\"line\">\tdiv.<span class=\"property\">style</span>.<span class=\"property\">height</span> = <span class=\"string\">&quot;100%&quot;</span>;</span><br><span class=\"line\">\tdiv.<span class=\"property\">style</span>.<span class=\"property\">position</span> = <span class=\"string\">&quot;absolute&quot;</span>;</span><br><span class=\"line\">\tdiv.<span class=\"property\">style</span>.<span class=\"property\">inset</span> = <span class=\"string\">&quot;0&quot;</span>;</span><br><span class=\"line\">\tparentRef.<span class=\"property\">value</span>.<span class=\"title function_\">appendChild</span>(div);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆå§‹åŒ–è§‚å¯Ÿå™¨</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> ob;</span><br><span class=\"line\"><span class=\"title function_\">onMounted</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\tob = <span class=\"keyword\">new</span> <span class=\"title class_\">MutationObserver</span>(<span class=\"function\"><span class=\"params\">records</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> record <span class=\"keyword\">of</span> records) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// ç›‘å¬åˆ é™¤</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> dom <span class=\"keyword\">of</span> record.<span class=\"property\">removedNodes</span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (dom === div) &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">return</span> uId.<span class=\"property\">value</span>++;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// ç›‘å¬ä¿®æ”¹å±æ€§</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (record.<span class=\"property\">target</span> === div) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> uId.<span class=\"property\">value</span>++;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">\tob.<span class=\"title function_\">observe</span>(parentRef.<span class=\"property\">value</span>, &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">childList</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// èŠ‚ç‚¹çš„æ–°å¢ä¸åˆ é™¤</span></span><br><span class=\"line\">\t\t<span class=\"attr\">attributes</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// èŠ‚ç‚¹å±æ€§å€¼</span></span><br><span class=\"line\">\t\t<span class=\"attr\">subtree</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// æ•´ä¸ªå­æ ‘</span></span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¡µé¢åŠ è½½å®Œæ¯•ï¼Œå¸è½½è§‚å¯Ÿå™¨ï¼Œé˜²æ­¢å¯¹åº”çš„å†…å­˜æ³„éœ²</span></span><br><span class=\"line\"><span class=\"title function_\">onUnmounted</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\tob.<span class=\"title function_\">disconnect</span>();</span><br><span class=\"line\">\t<span class=\"comment\">// æ¸…ç©ºï¼Œé¿å…å†…å­˜æ³„éœ²</span></span><br><span class=\"line\">\tdiv = <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>å¯¹äºæ°´å°åœ¨å„ä¸ªå¹³å°ç½‘ç«™å·²ç»æ˜¯å¾ˆå¸¸è§çš„åŠŸèƒ½ç‚¹äº†ï¼Œä½†æ˜¯å¯¹äºæ°´å°çš„ç†è§£ï¼Œæ— éå°±æ˜¯é‚£ä¹ˆå‡ ç§ï¼Œå…¶ä¸€ï¼šå¹³å°ä¸ºäº†æ•°æ®çš„å®‰å…¨æ€§ï¼Œåœ¨ç”¨æˆ·æˆªå›¾éœ€è¦æ¶µç›–æ°´å°é˜²æ­¢æ•°æ®ä¿¡æ¯æ³„éœ²é—®é¢˜ï¼Œå…¶äºŒï¼šç³»ç»Ÿåœ¨ç‰¹å®šçš„æƒ…å†µä¸‹äº¦æˆ–æ˜¯å±•ç¤ºåŠŸèƒ½çš„ç‰¹æ€§ä»è€Œç”Ÿæˆç‰¹æ®Šçš„æ°´å°æ–¹å¼ï¼Œä¾‹å¦‚ä¸Šä¼ å›¾ç‰‡éœ€è¦å¯¹å›¾ç‰‡è¿›è¡Œå¤„ç†ï¼Œæ°´å°éœ€è¦ä¸Šä¼ æ—¶é—´ï¼Œä¸Šä¼ è€…çš„ä¿¡æ¯ç­‰ç­‰ï¼›</p>\n<p>è™½ç„¶ï¼Œæ°´å°çš„åŠŸèƒ½å¹¶ä¸å¤æ‚ï¼Œä½†æ˜¯å¯¹äº<code>å¼€å‘è€…</code>æ¥è®²ï¼Œä¸€åˆ‡åŠŸèƒ½ç‚¹éƒ½æ˜¯ä¸ºäº†å®‰å…¨ï¼Œç¨³å®šè€ƒè™‘ï¼›å¯¹æ­¤ï¼Œåœ¨ç½‘é¡µé¡µé¢çš„æ˜¾ç¤ºæ˜¯ä¸æ˜¯æœ‰æ¼æ´é—®é¢˜ï¼Ÿæˆ–è€…è¯´æ°´å°æ˜¯å¦åœ¨ç‰¹å®šçš„æƒ…å†µä¸‹ä¼šéšè—æˆ–è€…åˆ é™¤ï¼Ÿæ¥ä¸‹æ¥å¯¹äºè¿™ä¸ªé—®é¢˜ä¼šå¤§è‡´è®²è§£ï¼š</p>\n<h2 id=\"æ°´å°çš„å®‰å…¨ï¼Ÿ\"><a href=\"#æ°´å°çš„å®‰å…¨ï¼Ÿ\" class=\"headerlink\" title=\"æ°´å°çš„å®‰å…¨ï¼Ÿ\"></a>æ°´å°çš„å®‰å…¨ï¼Ÿ</h2><p>æ°´å°ä¸€èˆ¬æ˜¯ä¸ºäº†ä¿è¯æ•°æ®çš„å®‰å…¨æ€§ï¼Œä¾‹å¦‚æœ‰è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼šå…¬å¸è´¦æˆ·ç™»å½•çš„å¹³å°ç³»ç»Ÿï¼Œæ¯ä¸ªå¤§å¤§ç¬‘ç¬‘çš„é¡µé¢éƒ½éœ€è¦æ°´å°ï¼Œä½†æ˜¯æ°´å°æ·»åŠ äº†ç™»å½•äººçš„ä¿¡æ¯ï¼Œç™»å½•æ—¶é—´ç­‰ï¼Œå¦‚ï¼š<code>å¼ ä¸‰ 2023-05-27</code>ï¼Œä¸€å¼ åŒ…å«ä¸ªäººå§“åçš„æ°´å°å°±æ­¤ç”Ÿæˆï¼Œå¦‚æœæˆªå›¾åé¦ˆç”¨æˆ·æˆ–è€…è§£å†³äº§å“é—®é¢˜ï¼Œå°½å¯èƒ½çš„é¿å…æ•°æ®ä¿¡æ¯æ³„éœ²é—®é¢˜ï¼Œä½†æ˜¯å¯¹äºä¸ªåˆ«<code>å¼€å‘è€…</code>æ¥è®²ï¼Œæˆ‘æˆªå›¾ä¸è¦æ°´å°ä¿¡æ¯ï¼Œåªèƒ½åœ¨<code>æ§åˆ¶å°</code>æ‰¾åˆ°å¯¹åº”çš„<code>å…ƒç´ èŠ‚ç‚¹</code>è¿›è¡Œåˆ é™¤äºä¿®æ”¹ï¼›</p>\n<p>å¦‚æœè¿™æ—¶ä½ çš„æ°´å°ç”Ÿæˆæ–¹å¼æ²¡åšç›¸å¯¹çš„å®‰å…¨æ€§ï¼Œé‚£ä¹ˆå¤§å¤§é™ä½äº†æ•°æ®çš„å®‰å…¨æ€§ï¼›</p>\n<h2 id=\"æé«˜å®‰å…¨ï¼Ÿ\"><a href=\"#æé«˜å®‰å…¨ï¼Ÿ\" class=\"headerlink\" title=\"æé«˜å®‰å…¨ï¼Ÿ\"></a>æé«˜å®‰å…¨ï¼Ÿ</h2><p>å¯¹äºåˆ é™¤<code>å…ƒç´ èŠ‚ç‚¹æˆ–è€…å±æ€§</code>å»æ‰‹åŠ¨ä¿®æ”¹æ°´å°çš„æ–¹å¼ï¼Œä¸€èˆ¬æƒ…å†µä¸ä¼šæœ‰äººå»è¿™ä¹ˆæ“ä½œçš„ï¼Œä½†æ˜¯ä¸‡ä¸€å‘¢ï¼Œæ‰€ä»¥è¿™æ—¶çš„ä½ å°±éœ€è¦å¯¹æ°´å°æé«˜å®‰å…¨æ€§èƒ½ï¼›</p>\n<p>é‚£ä¹ˆå¦‚ä½•çŸ¥é“å…ƒç´ è¿›è¡Œäº†ä¿®æ”¹æˆ–è€…åˆ é™¤å‘¢ï¼Ÿæˆ‘è¦æ€ä¹ˆç›‘å¬ï¼Œæˆ–è€…æœ‰ç°æˆçš„<code>api</code>å‘¢ï¼Ÿ</p>\n<p>è¿™é‡Œä¸å¾—ä¸è¯´<code>js</code>è¿˜æ˜¯å¾ˆå¼ºå¤§çš„ï¼Œ<code>MutationObserver</code>åœ¨<code>Mdn</code>ä¸Šçš„è§£é‡Šä¸ºï¼š<code>MutationObserver</code> æ¥å£æä¾›äº†ç›‘è§†å¯¹ DOM æ ‘æ‰€åšæ›´æ”¹çš„èƒ½åŠ›ã€‚å®ƒè¢«è®¾è®¡ä¸ºæ—§çš„ Mutation Events åŠŸèƒ½çš„æ›¿ä»£å“ï¼Œè¯¥åŠŸèƒ½æ˜¯ DOM3 Events è§„èŒƒçš„ä¸€éƒ¨åˆ†ã€‚</p>\n<p>å¤§è‡´æ„æ€è¯´ï¼Œè¯¥<code>api</code>ç›‘å¬äº†å¯¹<code>dom</code>æ ‘çš„ä¿®æ”¹ï¼Œå¦‚æœå…ƒç´ è¢«ä¿®æ”¹æˆ–è€…åˆ é™¤çš„æƒ…å†µï¼Œå°±ä¼šæ‰§è¡Œå†…ç½®çš„å›è°ƒå‡½æ•°ï¼Œè€Œä»è¿›è¡Œå¯¹åº”çš„é€»è¾‘ï¼›å¯å‚è€ƒä»¥ä¸‹ä»£ç ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åˆ›å»ºè§‚å¯Ÿå™¨ï¼Œå¦‚æœå¯¹åº”çš„èŠ‚ç‚¹æœ‰ä¿®æ”¹çš„è¿¹è±¡ï¼Œé‚£ä¹ˆå°±å¦‚å›è°ƒ</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> observer = <span class=\"keyword\">new</span> <span class=\"title class_\">MutationObserver</span>(<span class=\"function\"><span class=\"params\">records</span> =&gt;</span> &#123;&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é…ç½®å¼€å§‹è§‚å¯Ÿç›®æ ‡çš„èŠ‚ç‚¹ï¼Œ è§‚å¯Ÿå™¨çš„é…ç½®ï¼Œéœ€è¦è§‚å¯Ÿä»€ä¹ˆå˜åŠ¨</span></span><br><span class=\"line\">observer.<span class=\"title function_\">observe</span>(å…ƒç´ çš„èŠ‚ç‚¹, &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// è·ŸèŠ‚ç‚¹çš„å±æ€§</span></span><br><span class=\"line\">\t<span class=\"attr\">attributes</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// è§‚å¯Ÿå­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"attr\">childList</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// è§‚å¯Ÿæ•´ä¸ªå­æ ‘</span></span><br><span class=\"line\">\t<span class=\"attr\">subtree</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä¹‹åï¼Œå¯åœæ­¢è§‚å¯Ÿ</span></span><br><span class=\"line\">observer.<span class=\"title function_\">disconnect</span>();</span><br></pre></td></tr></table></figure>\n\n<p>åˆ›å»ºäº†è§‚å¯Ÿå™¨ï¼Œé‚£ä¹ˆå¦‚æœæé«˜å®‰å…¨å‘¢ï¼Ÿ</p>\n<p>å¯ä»¥è¿™ä¹ˆç†è§£ï¼Œæˆ‘åœ¨è§‚å¯Ÿå™¨æ£€æµ‹åˆ°ä¿®æ”¹æˆ–è€…åˆ é™¤çš„æƒ…å†µï¼Œé‡æ–°ç”Ÿæˆæ°´å°å¹¶åœ¨å…ƒç´ æ·»åŠ ï¼›å°±ç›¸å½“äºç®¡ç”¨æˆ·æ˜¯ä»€ä¹ˆæ ·çš„æ“ä½œï¼Œåˆ é™¤æˆ–è€…ä¿®æ”¹éƒ½ä¼šåœ¨çŸ­æ—¶é—´å†…ç”Ÿæˆå¹¶é‡æ–°æ¸²æŸ“ï¼Œé‚£ä¹ˆæ°´å°çš„å®‰å…¨å°±ä¼šå¤§å¤§æé«˜ï¼›</p>\n<p>ç°åœ¨è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åœ¨ä»€ä¹ˆæƒ…å†µä¸‹æ‰ä¼šé‡æ–°ç”Ÿæˆæ°´å°å‘¢ï¼Ÿ</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/temper_waterremark.png\" alt=\"æ°´å°é€»è¾‘\"></p>\n<p>è¿™é‡Œå¯å‚è€ƒè®¾è®¡æ¨¡å¼<code>è®¢é˜…å‘å¸ƒ</code>ï¼Œæœé›†å¯¹åº”çš„ä¾èµ–ï¼Œå¦‚æœæœ‰å°±å‘å¸ƒæ–°çš„èµ„æºï¼ŒåŠŸèƒ½ç‚¹ç±»ä¼¼äº<code>æ£€æµ‹ç½‘ç«™å‘å¸ƒç‰ˆæœ¬æ˜¯å¦æ›´æ–°</code>ï¼›å¯¹äº<code>vue3</code>å¦‚ä½•ç›‘å¬ä¾èµ–çš„å˜åŠ¨å‘¢ï¼Ÿ<code>watch</code>å’Œ<code>watchEffect</code>ä¹Ÿè®¸é€‚åˆä¸é”™çš„é€‰æ‹©ï¼Œä½†æ˜¯ä¿©è€…è¿˜æ˜¯æœ‰åŒºåˆ«çš„:</p>\n<ul>\n<li><code>wattch</code>å¿…é¡»è¦æœ‰ç›‘å¬çš„å¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥è·å–åˆ°ä¸Šä¸€æ¬¡çš„å˜åŒ–å€¼ï¼Œä½†æ˜¯åœ¨ä¸åšé…ç½®çš„æƒ…å†µä¸‹é¦–æ¬¡æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼›æ·»åŠ <code>immediate</code>ä»£è¡¨é¦–æ¬¡ä¼šè§¦å‘</li>\n<li><code>watchEffect</code>æ²¡æœ‰ç›‘å¬çš„å¯¹è±¡ï¼Œåªè¦ä½ å¯¹åº”çš„ä¾èµ–ç›¸åº”æ•°æ®æœ‰äº†å˜åŒ–ï¼Œé‚£ä¹ˆå°±ä¼šæ‰§è¡Œè¯¥å¯¹åº”çš„å›è°ƒï¼›é¦–æ¬¡ä¼šé»˜è®¤æ‰§è¡Œä¸€æ¬¡ï¼›</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> count = <span class=\"title function_\">ref</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ¨¡æ‹Ÿçš„æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">addCount</span> = (<span class=\"params\"></span>) =&gt; count.<span class=\"property\">value</span>++;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">watch</span>(</span><br><span class=\"line\">\t<span class=\"function\">() =&gt;</span> count.<span class=\"property\">value</span>,</span><br><span class=\"line\">\t<span class=\"function\">(<span class=\"params\">val, oldVal</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// val: æœ€æ–°å€¼ï¼Œ oldVal: ä¸Šä¸€æ¬¡çš„å€¼ï¼Œ é»˜è®¤é¦–æ¬¡ä¸æ‰§è¡Œ</span></span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">immediate</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// é¦–æ¬¡æ‰§è¡Œ</span></span><br><span class=\"line\">\t\t<span class=\"attr\">deep</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// æ·±åº¦ç›‘å¬</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">watchEffect</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœæ‰§è¡ŒaddCount  å›è°ƒç”Ÿæ•ˆï¼Œæ‰§è¡Œç›¸å¯¹åº”çš„å›è°ƒé€»è¾‘ï¼› ä¸è¿‡æ˜¯æœ‰äº†å˜åŒ–æ‰ä¼šæ‰§è¡Œï¼Œé¦–æ¬¡ä¼šæ‰§è¡Œï¼›</span></span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(count.<span class=\"property\">value</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>ç›¸å¯¹äºæ‡’ç›‘å¬ï¼Œå¯¹åº”ä¾èµ–å˜åŒ–äº†æ‰ä¼šæ‰§è¡Œï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½ä¼šæ‰§è¡Œï¼Œç›¸å¯¹äºä»£ç çš„ç®€æ´<code>watchEffect</code>æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œåˆ°æ—¶å€™æ‰§è¡Œåœ¨è¿™é‡Œé‡æ–°ç”Ÿæˆæ°´å°å³å¯ï¼›å¤§è‡´çš„ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// parent ref, ç”Ÿæˆæ°´å°çˆ¶èŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> parentRef = <span class=\"title function_\">ref</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// uidï¼Œç”¨äºç›‘å¬ä¾èµ–ï¼Œé‡æ–°ç”Ÿæˆæ°´å°</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> uId = <span class=\"title function_\">ref</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bgï¼Œ useWateræ˜¯ç”Ÿæˆcanvasçš„æ–¹æ³•ï¼Œ</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> bg = <span class=\"title function_\">useWater</span>(props);</span><br><span class=\"line\"><span class=\"comment\">// baseï¼šcanvas base64ï¼Œ styleSize: canvasçš„å¤§å°</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; base, styleSize &#125; = bg.<span class=\"property\">value</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// div: é‡æ–°ç”Ÿæˆçš„æ°´å°</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> div;</span><br><span class=\"line\"><span class=\"title function_\">watchEffect</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æœé›†ä¾èµ–ï¼Œ å¦‚æœä¾èµ–æ›´æ–°ï¼Œé‚£ä¹ˆæ‰§è¡Œä¸‹é¢çš„ä»£ç </span></span><br><span class=\"line\">\tuId.<span class=\"property\">value</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!parentRef.<span class=\"property\">value</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">\tdiv &amp;&amp; div.<span class=\"title function_\">remove</span>();</span><br><span class=\"line\">\tdiv = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;div&quot;</span>);</span><br><span class=\"line\">\tdiv.<span class=\"property\">style</span>.<span class=\"property\">backgroundImage</span> = <span class=\"string\">`url(<span class=\"subst\">$&#123;base&#125;</span>)`</span>;</span><br><span class=\"line\">\tdiv.<span class=\"property\">style</span>.<span class=\"property\">backgroundSize</span> = <span class=\"string\">`<span class=\"subst\">$&#123;styleSize&#125;</span>px <span class=\"subst\">$&#123;styleSize&#125;</span>px`</span>;</span><br><span class=\"line\">\tdiv.<span class=\"property\">style</span>.<span class=\"property\">backgroundRepeat</span> = <span class=\"string\">&quot;repeat&quot;</span>;</span><br><span class=\"line\">\tdiv.<span class=\"property\">style</span>.<span class=\"property\">width</span> = <span class=\"string\">&quot;100%&quot;</span>;</span><br><span class=\"line\">\tdiv.<span class=\"property\">style</span>.<span class=\"property\">height</span> = <span class=\"string\">&quot;100%&quot;</span>;</span><br><span class=\"line\">\tdiv.<span class=\"property\">style</span>.<span class=\"property\">position</span> = <span class=\"string\">&quot;absolute&quot;</span>;</span><br><span class=\"line\">\tdiv.<span class=\"property\">style</span>.<span class=\"property\">inset</span> = <span class=\"string\">&quot;0&quot;</span>;</span><br><span class=\"line\">\tparentRef.<span class=\"property\">value</span>.<span class=\"title function_\">appendChild</span>(div);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆå§‹åŒ–è§‚å¯Ÿå™¨</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> ob;</span><br><span class=\"line\"><span class=\"title function_\">onMounted</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\tob = <span class=\"keyword\">new</span> <span class=\"title class_\">MutationObserver</span>(<span class=\"function\"><span class=\"params\">records</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> record <span class=\"keyword\">of</span> records) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// ç›‘å¬åˆ é™¤</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> dom <span class=\"keyword\">of</span> record.<span class=\"property\">removedNodes</span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (dom === div) &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">return</span> uId.<span class=\"property\">value</span>++;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// ç›‘å¬ä¿®æ”¹å±æ€§</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (record.<span class=\"property\">target</span> === div) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> uId.<span class=\"property\">value</span>++;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">\tob.<span class=\"title function_\">observe</span>(parentRef.<span class=\"property\">value</span>, &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">childList</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// èŠ‚ç‚¹çš„æ–°å¢ä¸åˆ é™¤</span></span><br><span class=\"line\">\t\t<span class=\"attr\">attributes</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// èŠ‚ç‚¹å±æ€§å€¼</span></span><br><span class=\"line\">\t\t<span class=\"attr\">subtree</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// æ•´ä¸ªå­æ ‘</span></span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¡µé¢åŠ è½½å®Œæ¯•ï¼Œå¸è½½è§‚å¯Ÿå™¨ï¼Œé˜²æ­¢å¯¹åº”çš„å†…å­˜æ³„éœ²</span></span><br><span class=\"line\"><span class=\"title function_\">onUnmounted</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\tob.<span class=\"title function_\">disconnect</span>();</span><br><span class=\"line\">\t<span class=\"comment\">// æ¸…ç©ºï¼Œé¿å…å†…å­˜æ³„éœ²</span></span><br><span class=\"line\">\tdiv = <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n"},{"title":"æˆ‘çš„é¡¹ç›®-temp-pro","abbrlink":"1fa3a704","date":"2024-10-08T01:05:01.000Z","_content":"\n# temp-pro\n\nè¿™æ˜¯ä¸€æ¬¾ç®€å•çš„å‰ç«¯è„šæ‰‹æ¶å·¥å…·ï¼Œå…¶ä¸­åŒ…å«å†…éƒ¨è„šæ‰‹æ¶ï¼›\n\nå¯ä»¥é€šè¿‡ `npm` å‘½ä»¤ä¸‹è½½ä¸åŒé¡¹ç›®ï¼ˆproject-templateï¼‰çš„æ¨¡æ¿çš„è„šæ‰‹æ¶ï¼Œä¸‹è½½é¡¹ç›®æ¨¡æ¿åˆ†ä¸º `pc, h5, node` ç­‰ç­‰ï¼›æå¤§èŠ‚çœé…ç½®é¡¹ç›®çš„æ—¶é—´ï¼›\n\n## èƒŒæ™¯\n\nåœ¨å¼€å‘ç±»ä¼¼ç›¸åŒæ€§è´¨çš„é¡¹ç›®ï¼Œå¤§éƒ¨åˆ†æƒ…å†µçš„æ“ä½œå°±æ˜¯å°†åŸæœ‰çš„é¡¹ç›®å†æ¬¡å¤åˆ¶ä¸€ä»½å‡ºæ¥ç„¶åè¿›è¡Œä¿®æ”¹æ•´ç†ï¼Œåœ¨æ·»åŠ è¿œç¨‹çš„ä»“åº“ï¼Œè¿™æ ·å°±ä¸€ä¸ªæ–°çš„é¡¹ç›®å°±å‡ºæ¥äº†ï¼›\n\nè™½ç„¶å¤§éƒ¨åˆ†äººè§‰å¾—å¤åˆ¶ç²˜è´´æ˜¯æ¯”è¾ƒå¿«çš„ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™äº›é‡å¤æ€§çš„æ“ä½œæ²¡å¿…è¦ï¼Œæ‰€ä»¥å°±å†™äº†è¿™ä¸ªå·¥å…·ï¼›\n\n## å¦‚ä½•ä½¿ç”¨\n\n1. å®‰è£…\n\nå®‰è£…æˆåŠŸä¹‹åï¼Œæ‚¨å¯ä»¥åœ¨æ§åˆ¶å°æ‰“å°`temp-pro -v`ï¼ŒæŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯, æˆ–è€…è¾“å…¥`temp-pro -help`\n\n```sh\nnpm i temp-pro\n```\n\n2. åˆ›å»ºå¯¹åº”çš„é¡¹ç›®\n\n```sh\ntemp-pro create <é¡¹ç›®åç§°>\n```\n\nå…³äºå…·ä½“çš„å±•ç¤ºæƒ…å†µï¼Œå¯ä»¥æŸ¥çœ‹ä¸‹å›¾ï¼š\n\n---\n\n![å›¾ç‰‡å±•ç¤º](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.51e0vc8itz.webp)\n","source":"_posts/æˆ‘çš„é¡¹ç›®/ä¸€é”®ä»£ç æ‹‰å–é¡¹ç›®æ¨¡æ¿/å¦‚ä½•ä½¿ç”¨.md","raw":"---\ntitle: æˆ‘çš„é¡¹ç›®-temp-pro\nabbrlink: 1fa3a704\ndate: 2024-10-08 09:05:01\ncategories:\n  - æˆ‘çš„é¡¹ç›®\ntags:\n  - é¡¹ç›®\n---\n\n# temp-pro\n\nè¿™æ˜¯ä¸€æ¬¾ç®€å•çš„å‰ç«¯è„šæ‰‹æ¶å·¥å…·ï¼Œå…¶ä¸­åŒ…å«å†…éƒ¨è„šæ‰‹æ¶ï¼›\n\nå¯ä»¥é€šè¿‡ `npm` å‘½ä»¤ä¸‹è½½ä¸åŒé¡¹ç›®ï¼ˆproject-templateï¼‰çš„æ¨¡æ¿çš„è„šæ‰‹æ¶ï¼Œä¸‹è½½é¡¹ç›®æ¨¡æ¿åˆ†ä¸º `pc, h5, node` ç­‰ç­‰ï¼›æå¤§èŠ‚çœé…ç½®é¡¹ç›®çš„æ—¶é—´ï¼›\n\n## èƒŒæ™¯\n\nåœ¨å¼€å‘ç±»ä¼¼ç›¸åŒæ€§è´¨çš„é¡¹ç›®ï¼Œå¤§éƒ¨åˆ†æƒ…å†µçš„æ“ä½œå°±æ˜¯å°†åŸæœ‰çš„é¡¹ç›®å†æ¬¡å¤åˆ¶ä¸€ä»½å‡ºæ¥ç„¶åè¿›è¡Œä¿®æ”¹æ•´ç†ï¼Œåœ¨æ·»åŠ è¿œç¨‹çš„ä»“åº“ï¼Œè¿™æ ·å°±ä¸€ä¸ªæ–°çš„é¡¹ç›®å°±å‡ºæ¥äº†ï¼›\n\nè™½ç„¶å¤§éƒ¨åˆ†äººè§‰å¾—å¤åˆ¶ç²˜è´´æ˜¯æ¯”è¾ƒå¿«çš„ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™äº›é‡å¤æ€§çš„æ“ä½œæ²¡å¿…è¦ï¼Œæ‰€ä»¥å°±å†™äº†è¿™ä¸ªå·¥å…·ï¼›\n\n## å¦‚ä½•ä½¿ç”¨\n\n1. å®‰è£…\n\nå®‰è£…æˆåŠŸä¹‹åï¼Œæ‚¨å¯ä»¥åœ¨æ§åˆ¶å°æ‰“å°`temp-pro -v`ï¼ŒæŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯, æˆ–è€…è¾“å…¥`temp-pro -help`\n\n```sh\nnpm i temp-pro\n```\n\n2. åˆ›å»ºå¯¹åº”çš„é¡¹ç›®\n\n```sh\ntemp-pro create <é¡¹ç›®åç§°>\n```\n\nå…³äºå…·ä½“çš„å±•ç¤ºæƒ…å†µï¼Œå¯ä»¥æŸ¥çœ‹ä¸‹å›¾ï¼š\n\n---\n\n![å›¾ç‰‡å±•ç¤º](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.51e0vc8itz.webp)\n","slug":"æˆ‘çš„é¡¹ç›®/ä¸€é”®ä»£ç æ‹‰å–é¡¹ç›®æ¨¡æ¿/å¦‚ä½•ä½¿ç”¨","published":1,"updated":"2025-03-13T10:16:16.502Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iw0027fg9mc2o15ynw","content":"<h1 id=\"temp-pro\"><a href=\"#temp-pro\" class=\"headerlink\" title=\"temp-pro\"></a>temp-pro</h1><p>è¿™æ˜¯ä¸€æ¬¾ç®€å•çš„å‰ç«¯è„šæ‰‹æ¶å·¥å…·ï¼Œå…¶ä¸­åŒ…å«å†…éƒ¨è„šæ‰‹æ¶ï¼›</p>\n<p>å¯ä»¥é€šè¿‡ <code>npm</code> å‘½ä»¤ä¸‹è½½ä¸åŒé¡¹ç›®ï¼ˆproject-templateï¼‰çš„æ¨¡æ¿çš„è„šæ‰‹æ¶ï¼Œä¸‹è½½é¡¹ç›®æ¨¡æ¿åˆ†ä¸º <code>pc, h5, node</code> ç­‰ç­‰ï¼›æå¤§èŠ‚çœé…ç½®é¡¹ç›®çš„æ—¶é—´ï¼›</p>\n<h2 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h2><p>åœ¨å¼€å‘ç±»ä¼¼ç›¸åŒæ€§è´¨çš„é¡¹ç›®ï¼Œå¤§éƒ¨åˆ†æƒ…å†µçš„æ“ä½œå°±æ˜¯å°†åŸæœ‰çš„é¡¹ç›®å†æ¬¡å¤åˆ¶ä¸€ä»½å‡ºæ¥ç„¶åè¿›è¡Œä¿®æ”¹æ•´ç†ï¼Œåœ¨æ·»åŠ è¿œç¨‹çš„ä»“åº“ï¼Œè¿™æ ·å°±ä¸€ä¸ªæ–°çš„é¡¹ç›®å°±å‡ºæ¥äº†ï¼›</p>\n<p>è™½ç„¶å¤§éƒ¨åˆ†äººè§‰å¾—å¤åˆ¶ç²˜è´´æ˜¯æ¯”è¾ƒå¿«çš„ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™äº›é‡å¤æ€§çš„æ“ä½œæ²¡å¿…è¦ï¼Œæ‰€ä»¥å°±å†™äº†è¿™ä¸ªå·¥å…·ï¼›</p>\n<h2 id=\"å¦‚ä½•ä½¿ç”¨\"><a href=\"#å¦‚ä½•ä½¿ç”¨\" class=\"headerlink\" title=\"å¦‚ä½•ä½¿ç”¨\"></a>å¦‚ä½•ä½¿ç”¨</h2><ol>\n<li>å®‰è£…</li>\n</ol>\n<p>å®‰è£…æˆåŠŸä¹‹åï¼Œæ‚¨å¯ä»¥åœ¨æ§åˆ¶å°æ‰“å°<code>temp-pro -v</code>ï¼ŒæŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯, æˆ–è€…è¾“å…¥<code>temp-pro -help</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i temp-pro</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>åˆ›å»ºå¯¹åº”çš„é¡¹ç›®</li>\n</ol>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">temp-pro create &lt;é¡¹ç›®åç§°&gt;</span><br></pre></td></tr></table></figure>\n\n<p>å…³äºå…·ä½“çš„å±•ç¤ºæƒ…å†µï¼Œå¯ä»¥æŸ¥çœ‹ä¸‹å›¾ï¼š</p>\n<hr>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.51e0vc8itz.webp\" alt=\"å›¾ç‰‡å±•ç¤º\"></p>\n","excerpt":"","more":"<h1 id=\"temp-pro\"><a href=\"#temp-pro\" class=\"headerlink\" title=\"temp-pro\"></a>temp-pro</h1><p>è¿™æ˜¯ä¸€æ¬¾ç®€å•çš„å‰ç«¯è„šæ‰‹æ¶å·¥å…·ï¼Œå…¶ä¸­åŒ…å«å†…éƒ¨è„šæ‰‹æ¶ï¼›</p>\n<p>å¯ä»¥é€šè¿‡ <code>npm</code> å‘½ä»¤ä¸‹è½½ä¸åŒé¡¹ç›®ï¼ˆproject-templateï¼‰çš„æ¨¡æ¿çš„è„šæ‰‹æ¶ï¼Œä¸‹è½½é¡¹ç›®æ¨¡æ¿åˆ†ä¸º <code>pc, h5, node</code> ç­‰ç­‰ï¼›æå¤§èŠ‚çœé…ç½®é¡¹ç›®çš„æ—¶é—´ï¼›</p>\n<h2 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h2><p>åœ¨å¼€å‘ç±»ä¼¼ç›¸åŒæ€§è´¨çš„é¡¹ç›®ï¼Œå¤§éƒ¨åˆ†æƒ…å†µçš„æ“ä½œå°±æ˜¯å°†åŸæœ‰çš„é¡¹ç›®å†æ¬¡å¤åˆ¶ä¸€ä»½å‡ºæ¥ç„¶åè¿›è¡Œä¿®æ”¹æ•´ç†ï¼Œåœ¨æ·»åŠ è¿œç¨‹çš„ä»“åº“ï¼Œè¿™æ ·å°±ä¸€ä¸ªæ–°çš„é¡¹ç›®å°±å‡ºæ¥äº†ï¼›</p>\n<p>è™½ç„¶å¤§éƒ¨åˆ†äººè§‰å¾—å¤åˆ¶ç²˜è´´æ˜¯æ¯”è¾ƒå¿«çš„ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™äº›é‡å¤æ€§çš„æ“ä½œæ²¡å¿…è¦ï¼Œæ‰€ä»¥å°±å†™äº†è¿™ä¸ªå·¥å…·ï¼›</p>\n<h2 id=\"å¦‚ä½•ä½¿ç”¨\"><a href=\"#å¦‚ä½•ä½¿ç”¨\" class=\"headerlink\" title=\"å¦‚ä½•ä½¿ç”¨\"></a>å¦‚ä½•ä½¿ç”¨</h2><ol>\n<li>å®‰è£…</li>\n</ol>\n<p>å®‰è£…æˆåŠŸä¹‹åï¼Œæ‚¨å¯ä»¥åœ¨æ§åˆ¶å°æ‰“å°<code>temp-pro -v</code>ï¼ŒæŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯, æˆ–è€…è¾“å…¥<code>temp-pro -help</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i temp-pro</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>åˆ›å»ºå¯¹åº”çš„é¡¹ç›®</li>\n</ol>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">temp-pro create &lt;é¡¹ç›®åç§°&gt;</span><br></pre></td></tr></table></figure>\n\n<p>å…³äºå…·ä½“çš„å±•ç¤ºæƒ…å†µï¼Œå¯ä»¥æŸ¥çœ‹ä¸‹å›¾ï¼š</p>\n<hr>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.51e0vc8itz.webp\" alt=\"å›¾ç‰‡å±•ç¤º\"></p>\n"},{"title":"æˆ‘çš„é¡¹ç›®-log-reportingV1","abbrlink":"59c233b4","date":"2024-10-08T01:05:01.000Z","_content":"\n# log-reporting - V1\n\næœ¬ç³»ç»Ÿçš„å¼€å‘ç›®çš„å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸ºäº†åœ¨éƒ¨åˆ†æƒ…å†µä¸‹æœé›†å‰ç«¯çš„å¼‚å¸¸æ—¥å¿—ï¼Œç”¨äºåˆ†æå¼‚å¸¸æƒ…å†µ; å¦‚ï¼šçº¿ä¸Šç¯å¢ƒçš„é¡¹ç›®æˆ‘ä»¬ä¼šå§ä¸€äº›æ—¥å¿—åˆ é™¤ï¼Œå¦‚æœå‰ç«¯æŠ¥é”™é‚£ä¹ˆæ—¥å¿—æ˜¯é¦–é€‰ï¼Œ è¿™æ ·çš„æƒ…å†µæˆ‘ä»¬ä¸çŸ¥é“æ˜¯å“ªé‡Œçš„æŠ¥é”™å¯¼è‡´é¡µé¢å´©æºƒçš„ï¼› é‚£ä¹ˆå¼€å‘è¿™æ¬¾å·¥å…·å¸¸è§„æƒ…å†µä¸‹èƒ½è§£å†³å¤§éƒ¨åˆ†çš„é—®é¢˜ï¼›\n\n## ğŸ”ˆ åœ°å€\n\n- [github åœ°å€](https://github.com/wangxiaoze-view/log-repeorting/tree/v1)\n- [npm åœ°å€](https://www.npmjs.com/package/log-reporting)\n\n## ğŸ”ˆ æ—¥å¿—æœé›†èŒƒå›´\n\n1. **èµ„æºï¼š** èµ„æºåœ°å€ä¸æ­£ç¡®æˆ–ä¸å­˜åœ¨å¯¼è‡´çš„èµ„æºå¼‚å¸¸\n2. **ä»£ç ï¼š** æœé›†æŠ¥é”™ä¿¡æ¯ï¼Œé¡µé¢çš„å´©æºƒç­‰ç­‰ï¼›\n3. **è¯·æ±‚ï¼š** è¯·æ±‚å‚æ•°é”™è¯¯ï¼Œè®¿é—®åœ°å€ä¸å­˜åœ¨ï¼Œå¼‚å¸¸æ‹¦æˆª\n4. **é¢å¤–æ·»åŠ åŠŸèƒ½ï¼š** æ”¯æŒå½•åˆ¶è‡ªå®šä¹‰æ—¶é—´çš„è§†é¢‘ï¼Œä½†æ˜¯æœ€å¤§æ—¶é—´ä¸èƒ½è¶…è¿‡ 1 åˆ†é’Ÿ;\n\n## ğŸ”ˆ å¦‚ä½•ä½¿ç”¨\n\n### ğŸ”ˆjs é¡¹ç›®å¼•å…¥\n\néœ€è¦å…‹éš†ä¸‹è½½è¯¥é¡¹ç›®, æ‰§è¡Œå‘½ä»¤ pnpm run buildï¼Œ ä¹‹åä¼šåœ¨æ ¹ç›®å½• dist æ–‡ä»¶ä¸‹çœ‹åˆ°æ‰“åŒ…çš„å¯¹åº”çš„æ–‡ä»¶ä¿¡æ¯; æ ¹æ®ä¸åŒå¹³å°å¼•å…¥å³å¯;\n\nä¸‹é¢ä»£ç ç¤ºä¾‹ä¸ºæµè§ˆå™¨çš„ä½¿ç”¨ï¼š\n\n```js\n<script src=\"dist/index.umd.js\"></script>\n\n<script>\n  logReporting.init({\n    // ä¸ŠæŠ¥åœ°å€\n    dsn: 'http://localhost:8888/postLog',\n    // æ˜¯å¦å¼€å¯è°ƒè¯•, æ§åˆ¶å°ä¼šæ‰“å°å‡ºæ—¥å¿—ä¿¡æ¯\n    debug: false,\n    // ä¸ŠæŠ¥æ–¹å¼ï¼šfetch sendBeacon\n    logMethod: 'fetch',\n    // é…ç½®å‚æ•°\n    config: {\n      // æ˜¯å¦å¼€å¯å½•åˆ¶, å¯ä»¥å½•åˆ¶æŠ¥é”™å‰20sçš„è§†é¢‘\n      isRecord: true,\n      // å½•åˆ¶çš„æ—¶é—´(20s), æœ€å¤§ä¸èƒ½è¶…è¿‡1åˆ†é’Ÿ\n      recordTime: 20 * 1000,\n      // é¡µé¢å‡†å¤‡å¥½ï¼Œæ˜¯å¦å°±ç«‹å³ç›‘å¬\n      watchReady: true,\n      // ç›‘å¬js\n      watchJsError: true,\n      // ç›‘å¬èµ„æºæŠ¥é”™\n      watchSource: true,\n      // ç›‘å¬è¯·æ±‚æŠ¥é”™\n      watchAxios: true,\n    }\n  })\n</script>\n```\n\n### ğŸ”ˆvue é¡¹ç›®å¼•å…¥\n\nåœ¨ `vue` ä¸­ä½¿ç”¨, `pnpm install log-reporting` å®‰è£…ä¾èµ–; åœ¨ `main.js` ä¸­å¼•å…¥\n\n```sh\nnpm i log-reporting\n```\n\n```js\nimport { logReporting } from \"log-reporting\";\nlogReporting.init({\n\t// ä¸ŠæŠ¥åœ°å€\n\tdsn: \"http://localhost:8888/postLog\",\n\t// æ˜¯å¦å¼€å¯è°ƒè¯•, æ§åˆ¶å°ä¼šæ‰“å°å‡ºæ—¥å¿—ä¿¡æ¯\n\tdebug: true,\n\t// ä¸ŠæŠ¥æ–¹å¼ï¼šfetch sendBeacon\n\tlogMethod: \"fetch\",\n\t// é…ç½®å‚æ•°\n\tconfig: {\n\t\t// æ˜¯å¦å¼€å¯å½•åˆ¶, å¯ä»¥å½•åˆ¶æŠ¥é”™å‰20sçš„è§†é¢‘\n\t\tisRecord: true,\n\t\t// å½•åˆ¶çš„æ—¶é—´(20s), æœ€å¤§ä¸èƒ½è¶…è¿‡1åˆ†é’Ÿ\n\t\trecordTime: 20 * 1000,\n\t\t// é¡µé¢å‡†å¤‡å¥½ï¼Œæ˜¯å¦å°±ç«‹å³ç›‘å¬\n\t\twatchReady: true,\n\t\t// ç›‘å¬js\n\t\twatchJsError: true,\n\t\t// ç›‘å¬èµ„æºæŠ¥é”™\n\t\twatchSource: true,\n\t\t// ç›‘å¬è¯·æ±‚æŠ¥é”™\n\t\twatchAxios: true,\n\t},\n});\n```\n\næ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€è¦å¼€å¯å¯¹åº”çš„é…ç½®ä¿¡æ¯;\n\n## ğŸ”ˆ æ³¨æ„äº‹é¡¹\n\n1. æ—¥å¿—ä¸ŠæŠ¥çš„æ–¹å¼æœ‰ä¿©ç§: `fetch` å’Œ `sendBeacon`;\n2. å¦‚æœè¦å¼€å¯å±å¹•å½•åˆ¶åŠŸèƒ½é‚£ä¹ˆå°±ä¸èƒ½ä½¿ç”¨`sendBeacon`,å¦‚æœæ‚¨ä½¿ç”¨`sendBeacon`å»ä¸ŠæŠ¥, é‚£ä¹ˆåœ¨å¤æ‚çš„é¡¹ç›®ç›®å‰å®ƒæ˜¯ä¸Šä¼ ä¸äº†çš„, å› ä¸ºä¼šæŠŠå½•åˆ¶çš„å…ƒç´ ä¿¡æ¯ä¹Ÿä¼šä¸Šä¼ ;è¿™é‡Œä½¿ç”¨äº†å¼€æº[rrweb](https://github.com/rrweb-io/rrweb)\n3. è¦æƒ³ä½¿ç”¨å½•åˆ¶è§†é¢‘ä¸Šä¼ , é‚£ä¹ˆè¯·ä½¿ç”¨`fetch`æ–¹å¼è¿›è¡Œä¸Šä¼ \n4. è§†é¢‘å½•åˆ¶çš„ä¿¡æ¯ä½¿ç”¨[lz-string](https://github.com/pieroxy/lz-string)è¿›è¡Œå‹ç¼©åŠ å¯†, å¦‚æœæ‚¨ä½¿ç”¨çš„æƒ…å†µ, è¯·åœ¨æœåŠ¡ç«¯æˆ–è€…å®¢æˆ·ç«¯å¯¹è¯¥æ•°æ®è¿›è¡Œè§£å‹è§£å¯†;å‹ç¼©å¯æŸ¥é˜…ä»£ç `/src/lib/send.ts 13è¡Œå·¦å³`, è§£å‹ä»£ç å¯æŸ¥é˜…`/example/index.html 110-118è¡Œå·¦å³`\n5. å¦‚æœæ‚¨æƒ³è¦ä½“éªŒæ•ˆæœï¼šé‚£ä¹ˆå¯ä»¥åœ¨`/example`ç›®å½•ä¸‹è¿›è¡Œ`pnpm install`ï¼Œä¹‹åæ‰§è¡Œ`app.js`ï¼Œä¹‹ååœ¨`/example/index.html` ç‚¹å‡»æŒ‰é’®æ¨¡æ‹ŸæŠ¥é”™æŠ¥é”™ï¼Œç­‰ä¸ŠæŠ¥æˆåŠŸä¹‹åå¯ä»¥ç‚¹å‡»`æ’­æ”¾æŒ‰é’®é¢„è§ˆå½•åˆ¶çš„è§†é¢‘`\n","source":"_posts/æˆ‘çš„é¡¹ç›®/æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶/v1.md","raw":"---\ntitle: æˆ‘çš„é¡¹ç›®-log-reportingV1\nabbrlink: 59c233b4\ndate: 2024-10-08 09:05:01\ncategories:\n  - æˆ‘çš„é¡¹ç›®\ntags:\n  - é¡¹ç›®\n---\n\n# log-reporting - V1\n\næœ¬ç³»ç»Ÿçš„å¼€å‘ç›®çš„å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸ºäº†åœ¨éƒ¨åˆ†æƒ…å†µä¸‹æœé›†å‰ç«¯çš„å¼‚å¸¸æ—¥å¿—ï¼Œç”¨äºåˆ†æå¼‚å¸¸æƒ…å†µ; å¦‚ï¼šçº¿ä¸Šç¯å¢ƒçš„é¡¹ç›®æˆ‘ä»¬ä¼šå§ä¸€äº›æ—¥å¿—åˆ é™¤ï¼Œå¦‚æœå‰ç«¯æŠ¥é”™é‚£ä¹ˆæ—¥å¿—æ˜¯é¦–é€‰ï¼Œ è¿™æ ·çš„æƒ…å†µæˆ‘ä»¬ä¸çŸ¥é“æ˜¯å“ªé‡Œçš„æŠ¥é”™å¯¼è‡´é¡µé¢å´©æºƒçš„ï¼› é‚£ä¹ˆå¼€å‘è¿™æ¬¾å·¥å…·å¸¸è§„æƒ…å†µä¸‹èƒ½è§£å†³å¤§éƒ¨åˆ†çš„é—®é¢˜ï¼›\n\n## ğŸ”ˆ åœ°å€\n\n- [github åœ°å€](https://github.com/wangxiaoze-view/log-repeorting/tree/v1)\n- [npm åœ°å€](https://www.npmjs.com/package/log-reporting)\n\n## ğŸ”ˆ æ—¥å¿—æœé›†èŒƒå›´\n\n1. **èµ„æºï¼š** èµ„æºåœ°å€ä¸æ­£ç¡®æˆ–ä¸å­˜åœ¨å¯¼è‡´çš„èµ„æºå¼‚å¸¸\n2. **ä»£ç ï¼š** æœé›†æŠ¥é”™ä¿¡æ¯ï¼Œé¡µé¢çš„å´©æºƒç­‰ç­‰ï¼›\n3. **è¯·æ±‚ï¼š** è¯·æ±‚å‚æ•°é”™è¯¯ï¼Œè®¿é—®åœ°å€ä¸å­˜åœ¨ï¼Œå¼‚å¸¸æ‹¦æˆª\n4. **é¢å¤–æ·»åŠ åŠŸèƒ½ï¼š** æ”¯æŒå½•åˆ¶è‡ªå®šä¹‰æ—¶é—´çš„è§†é¢‘ï¼Œä½†æ˜¯æœ€å¤§æ—¶é—´ä¸èƒ½è¶…è¿‡ 1 åˆ†é’Ÿ;\n\n## ğŸ”ˆ å¦‚ä½•ä½¿ç”¨\n\n### ğŸ”ˆjs é¡¹ç›®å¼•å…¥\n\néœ€è¦å…‹éš†ä¸‹è½½è¯¥é¡¹ç›®, æ‰§è¡Œå‘½ä»¤ pnpm run buildï¼Œ ä¹‹åä¼šåœ¨æ ¹ç›®å½• dist æ–‡ä»¶ä¸‹çœ‹åˆ°æ‰“åŒ…çš„å¯¹åº”çš„æ–‡ä»¶ä¿¡æ¯; æ ¹æ®ä¸åŒå¹³å°å¼•å…¥å³å¯;\n\nä¸‹é¢ä»£ç ç¤ºä¾‹ä¸ºæµè§ˆå™¨çš„ä½¿ç”¨ï¼š\n\n```js\n<script src=\"dist/index.umd.js\"></script>\n\n<script>\n  logReporting.init({\n    // ä¸ŠæŠ¥åœ°å€\n    dsn: 'http://localhost:8888/postLog',\n    // æ˜¯å¦å¼€å¯è°ƒè¯•, æ§åˆ¶å°ä¼šæ‰“å°å‡ºæ—¥å¿—ä¿¡æ¯\n    debug: false,\n    // ä¸ŠæŠ¥æ–¹å¼ï¼šfetch sendBeacon\n    logMethod: 'fetch',\n    // é…ç½®å‚æ•°\n    config: {\n      // æ˜¯å¦å¼€å¯å½•åˆ¶, å¯ä»¥å½•åˆ¶æŠ¥é”™å‰20sçš„è§†é¢‘\n      isRecord: true,\n      // å½•åˆ¶çš„æ—¶é—´(20s), æœ€å¤§ä¸èƒ½è¶…è¿‡1åˆ†é’Ÿ\n      recordTime: 20 * 1000,\n      // é¡µé¢å‡†å¤‡å¥½ï¼Œæ˜¯å¦å°±ç«‹å³ç›‘å¬\n      watchReady: true,\n      // ç›‘å¬js\n      watchJsError: true,\n      // ç›‘å¬èµ„æºæŠ¥é”™\n      watchSource: true,\n      // ç›‘å¬è¯·æ±‚æŠ¥é”™\n      watchAxios: true,\n    }\n  })\n</script>\n```\n\n### ğŸ”ˆvue é¡¹ç›®å¼•å…¥\n\nåœ¨ `vue` ä¸­ä½¿ç”¨, `pnpm install log-reporting` å®‰è£…ä¾èµ–; åœ¨ `main.js` ä¸­å¼•å…¥\n\n```sh\nnpm i log-reporting\n```\n\n```js\nimport { logReporting } from \"log-reporting\";\nlogReporting.init({\n\t// ä¸ŠæŠ¥åœ°å€\n\tdsn: \"http://localhost:8888/postLog\",\n\t// æ˜¯å¦å¼€å¯è°ƒè¯•, æ§åˆ¶å°ä¼šæ‰“å°å‡ºæ—¥å¿—ä¿¡æ¯\n\tdebug: true,\n\t// ä¸ŠæŠ¥æ–¹å¼ï¼šfetch sendBeacon\n\tlogMethod: \"fetch\",\n\t// é…ç½®å‚æ•°\n\tconfig: {\n\t\t// æ˜¯å¦å¼€å¯å½•åˆ¶, å¯ä»¥å½•åˆ¶æŠ¥é”™å‰20sçš„è§†é¢‘\n\t\tisRecord: true,\n\t\t// å½•åˆ¶çš„æ—¶é—´(20s), æœ€å¤§ä¸èƒ½è¶…è¿‡1åˆ†é’Ÿ\n\t\trecordTime: 20 * 1000,\n\t\t// é¡µé¢å‡†å¤‡å¥½ï¼Œæ˜¯å¦å°±ç«‹å³ç›‘å¬\n\t\twatchReady: true,\n\t\t// ç›‘å¬js\n\t\twatchJsError: true,\n\t\t// ç›‘å¬èµ„æºæŠ¥é”™\n\t\twatchSource: true,\n\t\t// ç›‘å¬è¯·æ±‚æŠ¥é”™\n\t\twatchAxios: true,\n\t},\n});\n```\n\næ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€è¦å¼€å¯å¯¹åº”çš„é…ç½®ä¿¡æ¯;\n\n## ğŸ”ˆ æ³¨æ„äº‹é¡¹\n\n1. æ—¥å¿—ä¸ŠæŠ¥çš„æ–¹å¼æœ‰ä¿©ç§: `fetch` å’Œ `sendBeacon`;\n2. å¦‚æœè¦å¼€å¯å±å¹•å½•åˆ¶åŠŸèƒ½é‚£ä¹ˆå°±ä¸èƒ½ä½¿ç”¨`sendBeacon`,å¦‚æœæ‚¨ä½¿ç”¨`sendBeacon`å»ä¸ŠæŠ¥, é‚£ä¹ˆåœ¨å¤æ‚çš„é¡¹ç›®ç›®å‰å®ƒæ˜¯ä¸Šä¼ ä¸äº†çš„, å› ä¸ºä¼šæŠŠå½•åˆ¶çš„å…ƒç´ ä¿¡æ¯ä¹Ÿä¼šä¸Šä¼ ;è¿™é‡Œä½¿ç”¨äº†å¼€æº[rrweb](https://github.com/rrweb-io/rrweb)\n3. è¦æƒ³ä½¿ç”¨å½•åˆ¶è§†é¢‘ä¸Šä¼ , é‚£ä¹ˆè¯·ä½¿ç”¨`fetch`æ–¹å¼è¿›è¡Œä¸Šä¼ \n4. è§†é¢‘å½•åˆ¶çš„ä¿¡æ¯ä½¿ç”¨[lz-string](https://github.com/pieroxy/lz-string)è¿›è¡Œå‹ç¼©åŠ å¯†, å¦‚æœæ‚¨ä½¿ç”¨çš„æƒ…å†µ, è¯·åœ¨æœåŠ¡ç«¯æˆ–è€…å®¢æˆ·ç«¯å¯¹è¯¥æ•°æ®è¿›è¡Œè§£å‹è§£å¯†;å‹ç¼©å¯æŸ¥é˜…ä»£ç `/src/lib/send.ts 13è¡Œå·¦å³`, è§£å‹ä»£ç å¯æŸ¥é˜…`/example/index.html 110-118è¡Œå·¦å³`\n5. å¦‚æœæ‚¨æƒ³è¦ä½“éªŒæ•ˆæœï¼šé‚£ä¹ˆå¯ä»¥åœ¨`/example`ç›®å½•ä¸‹è¿›è¡Œ`pnpm install`ï¼Œä¹‹åæ‰§è¡Œ`app.js`ï¼Œä¹‹ååœ¨`/example/index.html` ç‚¹å‡»æŒ‰é’®æ¨¡æ‹ŸæŠ¥é”™æŠ¥é”™ï¼Œç­‰ä¸ŠæŠ¥æˆåŠŸä¹‹åå¯ä»¥ç‚¹å‡»`æ’­æ”¾æŒ‰é’®é¢„è§ˆå½•åˆ¶çš„è§†é¢‘`\n","slug":"æˆ‘çš„é¡¹ç›®/æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶/v1","published":1,"updated":"2025-03-12T10:17:09.867Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iw0029fg9mej5c0er9","content":"<h1 id=\"log-reporting-V1\"><a href=\"#log-reporting-V1\" class=\"headerlink\" title=\"log-reporting - V1\"></a>log-reporting - V1</h1><p>æœ¬ç³»ç»Ÿçš„å¼€å‘ç›®çš„å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸ºäº†åœ¨éƒ¨åˆ†æƒ…å†µä¸‹æœé›†å‰ç«¯çš„å¼‚å¸¸æ—¥å¿—ï¼Œç”¨äºåˆ†æå¼‚å¸¸æƒ…å†µ; å¦‚ï¼šçº¿ä¸Šç¯å¢ƒçš„é¡¹ç›®æˆ‘ä»¬ä¼šå§ä¸€äº›æ—¥å¿—åˆ é™¤ï¼Œå¦‚æœå‰ç«¯æŠ¥é”™é‚£ä¹ˆæ—¥å¿—æ˜¯é¦–é€‰ï¼Œ è¿™æ ·çš„æƒ…å†µæˆ‘ä»¬ä¸çŸ¥é“æ˜¯å“ªé‡Œçš„æŠ¥é”™å¯¼è‡´é¡µé¢å´©æºƒçš„ï¼› é‚£ä¹ˆå¼€å‘è¿™æ¬¾å·¥å…·å¸¸è§„æƒ…å†µä¸‹èƒ½è§£å†³å¤§éƒ¨åˆ†çš„é—®é¢˜ï¼›</p>\n<h2 id=\"ğŸ”ˆ-åœ°å€\"><a href=\"#ğŸ”ˆ-åœ°å€\" class=\"headerlink\" title=\"ğŸ”ˆ åœ°å€\"></a>ğŸ”ˆ åœ°å€</h2><ul>\n<li><a href=\"https://github.com/wangxiaoze-view/log-repeorting/tree/v1\">github åœ°å€</a></li>\n<li><a href=\"https://www.npmjs.com/package/log-reporting\">npm åœ°å€</a></li>\n</ul>\n<h2 id=\"ğŸ”ˆ-æ—¥å¿—æœé›†èŒƒå›´\"><a href=\"#ğŸ”ˆ-æ—¥å¿—æœé›†èŒƒå›´\" class=\"headerlink\" title=\"ğŸ”ˆ æ—¥å¿—æœé›†èŒƒå›´\"></a>ğŸ”ˆ æ—¥å¿—æœé›†èŒƒå›´</h2><ol>\n<li><strong>èµ„æºï¼š</strong> èµ„æºåœ°å€ä¸æ­£ç¡®æˆ–ä¸å­˜åœ¨å¯¼è‡´çš„èµ„æºå¼‚å¸¸</li>\n<li><strong>ä»£ç ï¼š</strong> æœé›†æŠ¥é”™ä¿¡æ¯ï¼Œé¡µé¢çš„å´©æºƒç­‰ç­‰ï¼›</li>\n<li><strong>è¯·æ±‚ï¼š</strong> è¯·æ±‚å‚æ•°é”™è¯¯ï¼Œè®¿é—®åœ°å€ä¸å­˜åœ¨ï¼Œå¼‚å¸¸æ‹¦æˆª</li>\n<li><strong>é¢å¤–æ·»åŠ åŠŸèƒ½ï¼š</strong> æ”¯æŒå½•åˆ¶è‡ªå®šä¹‰æ—¶é—´çš„è§†é¢‘ï¼Œä½†æ˜¯æœ€å¤§æ—¶é—´ä¸èƒ½è¶…è¿‡ 1 åˆ†é’Ÿ;</li>\n</ol>\n<h2 id=\"ğŸ”ˆ-å¦‚ä½•ä½¿ç”¨\"><a href=\"#ğŸ”ˆ-å¦‚ä½•ä½¿ç”¨\" class=\"headerlink\" title=\"ğŸ”ˆ å¦‚ä½•ä½¿ç”¨\"></a>ğŸ”ˆ å¦‚ä½•ä½¿ç”¨</h2><h3 id=\"ğŸ”ˆjs-é¡¹ç›®å¼•å…¥\"><a href=\"#ğŸ”ˆjs-é¡¹ç›®å¼•å…¥\" class=\"headerlink\" title=\"ğŸ”ˆjs é¡¹ç›®å¼•å…¥\"></a>ğŸ”ˆjs é¡¹ç›®å¼•å…¥</h3><p>éœ€è¦å…‹éš†ä¸‹è½½è¯¥é¡¹ç›®, æ‰§è¡Œå‘½ä»¤ pnpm run buildï¼Œ ä¹‹åä¼šåœ¨æ ¹ç›®å½• dist æ–‡ä»¶ä¸‹çœ‹åˆ°æ‰“åŒ…çš„å¯¹åº”çš„æ–‡ä»¶ä¿¡æ¯; æ ¹æ®ä¸åŒå¹³å°å¼•å…¥å³å¯;</p>\n<p>ä¸‹é¢ä»£ç ç¤ºä¾‹ä¸ºæµè§ˆå™¨çš„ä½¿ç”¨ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=<span class=\"string\">&quot;dist/index.umd.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  logReporting.<span class=\"title function_\">init</span>(&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// ä¸ŠæŠ¥åœ°å€</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">dsn</span>: <span class=\"string\">&#x27;http://localhost:8888/postLog&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// æ˜¯å¦å¼€å¯è°ƒè¯•, æ§åˆ¶å°ä¼šæ‰“å°å‡ºæ—¥å¿—ä¿¡æ¯</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">debug</span>: <span class=\"literal\">false</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// ä¸ŠæŠ¥æ–¹å¼ï¼šfetch sendBeacon</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">logMethod</span>: <span class=\"string\">&#x27;fetch&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// é…ç½®å‚æ•°</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">config</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"comment\">// æ˜¯å¦å¼€å¯å½•åˆ¶, å¯ä»¥å½•åˆ¶æŠ¥é”™å‰20sçš„è§†é¢‘</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">isRecord</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"comment\">// å½•åˆ¶çš„æ—¶é—´(20s), æœ€å¤§ä¸èƒ½è¶…è¿‡1åˆ†é’Ÿ</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">recordTime</span>: <span class=\"number\">20</span> * <span class=\"number\">1000</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"comment\">// é¡µé¢å‡†å¤‡å¥½ï¼Œæ˜¯å¦å°±ç«‹å³ç›‘å¬</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">watchReady</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"comment\">// ç›‘å¬js</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">watchJsError</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"comment\">// ç›‘å¬èµ„æºæŠ¥é”™</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">watchSource</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"comment\">// ç›‘å¬è¯·æ±‚æŠ¥é”™</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">watchAxios</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ğŸ”ˆvue-é¡¹ç›®å¼•å…¥\"><a href=\"#ğŸ”ˆvue-é¡¹ç›®å¼•å…¥\" class=\"headerlink\" title=\"ğŸ”ˆvue é¡¹ç›®å¼•å…¥\"></a>ğŸ”ˆvue é¡¹ç›®å¼•å…¥</h3><p>åœ¨ <code>vue</code> ä¸­ä½¿ç”¨, <code>pnpm install log-reporting</code> å®‰è£…ä¾èµ–; åœ¨ <code>main.js</code> ä¸­å¼•å…¥</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i log-reporting</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; logReporting &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;log-reporting&quot;</span>;</span><br><span class=\"line\">logReporting.<span class=\"title function_\">init</span>(&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸ŠæŠ¥åœ°å€</span></span><br><span class=\"line\">\t<span class=\"attr\">dsn</span>: <span class=\"string\">&quot;http://localhost:8888/postLog&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// æ˜¯å¦å¼€å¯è°ƒè¯•, æ§åˆ¶å°ä¼šæ‰“å°å‡ºæ—¥å¿—ä¿¡æ¯</span></span><br><span class=\"line\">\t<span class=\"attr\">debug</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸ŠæŠ¥æ–¹å¼ï¼šfetch sendBeacon</span></span><br><span class=\"line\">\t<span class=\"attr\">logMethod</span>: <span class=\"string\">&quot;fetch&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// é…ç½®å‚æ•°</span></span><br><span class=\"line\">\t<span class=\"attr\">config</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ˜¯å¦å¼€å¯å½•åˆ¶, å¯ä»¥å½•åˆ¶æŠ¥é”™å‰20sçš„è§†é¢‘</span></span><br><span class=\"line\">\t\t<span class=\"attr\">isRecord</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// å½•åˆ¶çš„æ—¶é—´(20s), æœ€å¤§ä¸èƒ½è¶…è¿‡1åˆ†é’Ÿ</span></span><br><span class=\"line\">\t\t<span class=\"attr\">recordTime</span>: <span class=\"number\">20</span> * <span class=\"number\">1000</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// é¡µé¢å‡†å¤‡å¥½ï¼Œæ˜¯å¦å°±ç«‹å³ç›‘å¬</span></span><br><span class=\"line\">\t\t<span class=\"attr\">watchReady</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// ç›‘å¬js</span></span><br><span class=\"line\">\t\t<span class=\"attr\">watchJsError</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// ç›‘å¬èµ„æºæŠ¥é”™</span></span><br><span class=\"line\">\t\t<span class=\"attr\">watchSource</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// ç›‘å¬è¯·æ±‚æŠ¥é”™</span></span><br><span class=\"line\">\t\t<span class=\"attr\">watchAxios</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€è¦å¼€å¯å¯¹åº”çš„é…ç½®ä¿¡æ¯;</p>\n<h2 id=\"ğŸ”ˆ-æ³¨æ„äº‹é¡¹\"><a href=\"#ğŸ”ˆ-æ³¨æ„äº‹é¡¹\" class=\"headerlink\" title=\"ğŸ”ˆ æ³¨æ„äº‹é¡¹\"></a>ğŸ”ˆ æ³¨æ„äº‹é¡¹</h2><ol>\n<li>æ—¥å¿—ä¸ŠæŠ¥çš„æ–¹å¼æœ‰ä¿©ç§: <code>fetch</code> å’Œ <code>sendBeacon</code>;</li>\n<li>å¦‚æœè¦å¼€å¯å±å¹•å½•åˆ¶åŠŸèƒ½é‚£ä¹ˆå°±ä¸èƒ½ä½¿ç”¨<code>sendBeacon</code>,å¦‚æœæ‚¨ä½¿ç”¨<code>sendBeacon</code>å»ä¸ŠæŠ¥, é‚£ä¹ˆåœ¨å¤æ‚çš„é¡¹ç›®ç›®å‰å®ƒæ˜¯ä¸Šä¼ ä¸äº†çš„, å› ä¸ºä¼šæŠŠå½•åˆ¶çš„å…ƒç´ ä¿¡æ¯ä¹Ÿä¼šä¸Šä¼ ;è¿™é‡Œä½¿ç”¨äº†å¼€æº<a href=\"https://github.com/rrweb-io/rrweb\">rrweb</a></li>\n<li>è¦æƒ³ä½¿ç”¨å½•åˆ¶è§†é¢‘ä¸Šä¼ , é‚£ä¹ˆè¯·ä½¿ç”¨<code>fetch</code>æ–¹å¼è¿›è¡Œä¸Šä¼ </li>\n<li>è§†é¢‘å½•åˆ¶çš„ä¿¡æ¯ä½¿ç”¨<a href=\"https://github.com/pieroxy/lz-string\">lz-string</a>è¿›è¡Œå‹ç¼©åŠ å¯†, å¦‚æœæ‚¨ä½¿ç”¨çš„æƒ…å†µ, è¯·åœ¨æœåŠ¡ç«¯æˆ–è€…å®¢æˆ·ç«¯å¯¹è¯¥æ•°æ®è¿›è¡Œè§£å‹è§£å¯†;å‹ç¼©å¯æŸ¥é˜…ä»£ç <code>/src/lib/send.ts 13è¡Œå·¦å³</code>, è§£å‹ä»£ç å¯æŸ¥é˜…<code>/example/index.html 110-118è¡Œå·¦å³</code></li>\n<li>å¦‚æœæ‚¨æƒ³è¦ä½“éªŒæ•ˆæœï¼šé‚£ä¹ˆå¯ä»¥åœ¨<code>/example</code>ç›®å½•ä¸‹è¿›è¡Œ<code>pnpm install</code>ï¼Œä¹‹åæ‰§è¡Œ<code>app.js</code>ï¼Œä¹‹ååœ¨<code>/example/index.html</code> ç‚¹å‡»æŒ‰é’®æ¨¡æ‹ŸæŠ¥é”™æŠ¥é”™ï¼Œç­‰ä¸ŠæŠ¥æˆåŠŸä¹‹åå¯ä»¥ç‚¹å‡»<code>æ’­æ”¾æŒ‰é’®é¢„è§ˆå½•åˆ¶çš„è§†é¢‘</code></li>\n</ol>\n","excerpt":"","more":"<h1 id=\"log-reporting-V1\"><a href=\"#log-reporting-V1\" class=\"headerlink\" title=\"log-reporting - V1\"></a>log-reporting - V1</h1><p>æœ¬ç³»ç»Ÿçš„å¼€å‘ç›®çš„å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸ºäº†åœ¨éƒ¨åˆ†æƒ…å†µä¸‹æœé›†å‰ç«¯çš„å¼‚å¸¸æ—¥å¿—ï¼Œç”¨äºåˆ†æå¼‚å¸¸æƒ…å†µ; å¦‚ï¼šçº¿ä¸Šç¯å¢ƒçš„é¡¹ç›®æˆ‘ä»¬ä¼šå§ä¸€äº›æ—¥å¿—åˆ é™¤ï¼Œå¦‚æœå‰ç«¯æŠ¥é”™é‚£ä¹ˆæ—¥å¿—æ˜¯é¦–é€‰ï¼Œ è¿™æ ·çš„æƒ…å†µæˆ‘ä»¬ä¸çŸ¥é“æ˜¯å“ªé‡Œçš„æŠ¥é”™å¯¼è‡´é¡µé¢å´©æºƒçš„ï¼› é‚£ä¹ˆå¼€å‘è¿™æ¬¾å·¥å…·å¸¸è§„æƒ…å†µä¸‹èƒ½è§£å†³å¤§éƒ¨åˆ†çš„é—®é¢˜ï¼›</p>\n<h2 id=\"ğŸ”ˆ-åœ°å€\"><a href=\"#ğŸ”ˆ-åœ°å€\" class=\"headerlink\" title=\"ğŸ”ˆ åœ°å€\"></a>ğŸ”ˆ åœ°å€</h2><ul>\n<li><a href=\"https://github.com/wangxiaoze-view/log-repeorting/tree/v1\">github åœ°å€</a></li>\n<li><a href=\"https://www.npmjs.com/package/log-reporting\">npm åœ°å€</a></li>\n</ul>\n<h2 id=\"ğŸ”ˆ-æ—¥å¿—æœé›†èŒƒå›´\"><a href=\"#ğŸ”ˆ-æ—¥å¿—æœé›†èŒƒå›´\" class=\"headerlink\" title=\"ğŸ”ˆ æ—¥å¿—æœé›†èŒƒå›´\"></a>ğŸ”ˆ æ—¥å¿—æœé›†èŒƒå›´</h2><ol>\n<li><strong>èµ„æºï¼š</strong> èµ„æºåœ°å€ä¸æ­£ç¡®æˆ–ä¸å­˜åœ¨å¯¼è‡´çš„èµ„æºå¼‚å¸¸</li>\n<li><strong>ä»£ç ï¼š</strong> æœé›†æŠ¥é”™ä¿¡æ¯ï¼Œé¡µé¢çš„å´©æºƒç­‰ç­‰ï¼›</li>\n<li><strong>è¯·æ±‚ï¼š</strong> è¯·æ±‚å‚æ•°é”™è¯¯ï¼Œè®¿é—®åœ°å€ä¸å­˜åœ¨ï¼Œå¼‚å¸¸æ‹¦æˆª</li>\n<li><strong>é¢å¤–æ·»åŠ åŠŸèƒ½ï¼š</strong> æ”¯æŒå½•åˆ¶è‡ªå®šä¹‰æ—¶é—´çš„è§†é¢‘ï¼Œä½†æ˜¯æœ€å¤§æ—¶é—´ä¸èƒ½è¶…è¿‡ 1 åˆ†é’Ÿ;</li>\n</ol>\n<h2 id=\"ğŸ”ˆ-å¦‚ä½•ä½¿ç”¨\"><a href=\"#ğŸ”ˆ-å¦‚ä½•ä½¿ç”¨\" class=\"headerlink\" title=\"ğŸ”ˆ å¦‚ä½•ä½¿ç”¨\"></a>ğŸ”ˆ å¦‚ä½•ä½¿ç”¨</h2><h3 id=\"ğŸ”ˆjs-é¡¹ç›®å¼•å…¥\"><a href=\"#ğŸ”ˆjs-é¡¹ç›®å¼•å…¥\" class=\"headerlink\" title=\"ğŸ”ˆjs é¡¹ç›®å¼•å…¥\"></a>ğŸ”ˆjs é¡¹ç›®å¼•å…¥</h3><p>éœ€è¦å…‹éš†ä¸‹è½½è¯¥é¡¹ç›®, æ‰§è¡Œå‘½ä»¤ pnpm run buildï¼Œ ä¹‹åä¼šåœ¨æ ¹ç›®å½• dist æ–‡ä»¶ä¸‹çœ‹åˆ°æ‰“åŒ…çš„å¯¹åº”çš„æ–‡ä»¶ä¿¡æ¯; æ ¹æ®ä¸åŒå¹³å°å¼•å…¥å³å¯;</p>\n<p>ä¸‹é¢ä»£ç ç¤ºä¾‹ä¸ºæµè§ˆå™¨çš„ä½¿ç”¨ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=<span class=\"string\">&quot;dist/index.umd.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  logReporting.<span class=\"title function_\">init</span>(&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// ä¸ŠæŠ¥åœ°å€</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">dsn</span>: <span class=\"string\">&#x27;http://localhost:8888/postLog&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// æ˜¯å¦å¼€å¯è°ƒè¯•, æ§åˆ¶å°ä¼šæ‰“å°å‡ºæ—¥å¿—ä¿¡æ¯</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">debug</span>: <span class=\"literal\">false</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// ä¸ŠæŠ¥æ–¹å¼ï¼šfetch sendBeacon</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">logMethod</span>: <span class=\"string\">&#x27;fetch&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// é…ç½®å‚æ•°</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">config</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"comment\">// æ˜¯å¦å¼€å¯å½•åˆ¶, å¯ä»¥å½•åˆ¶æŠ¥é”™å‰20sçš„è§†é¢‘</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">isRecord</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"comment\">// å½•åˆ¶çš„æ—¶é—´(20s), æœ€å¤§ä¸èƒ½è¶…è¿‡1åˆ†é’Ÿ</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">recordTime</span>: <span class=\"number\">20</span> * <span class=\"number\">1000</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"comment\">// é¡µé¢å‡†å¤‡å¥½ï¼Œæ˜¯å¦å°±ç«‹å³ç›‘å¬</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">watchReady</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"comment\">// ç›‘å¬js</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">watchJsError</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"comment\">// ç›‘å¬èµ„æºæŠ¥é”™</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">watchSource</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"comment\">// ç›‘å¬è¯·æ±‚æŠ¥é”™</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">watchAxios</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ğŸ”ˆvue-é¡¹ç›®å¼•å…¥\"><a href=\"#ğŸ”ˆvue-é¡¹ç›®å¼•å…¥\" class=\"headerlink\" title=\"ğŸ”ˆvue é¡¹ç›®å¼•å…¥\"></a>ğŸ”ˆvue é¡¹ç›®å¼•å…¥</h3><p>åœ¨ <code>vue</code> ä¸­ä½¿ç”¨, <code>pnpm install log-reporting</code> å®‰è£…ä¾èµ–; åœ¨ <code>main.js</code> ä¸­å¼•å…¥</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i log-reporting</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; logReporting &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;log-reporting&quot;</span>;</span><br><span class=\"line\">logReporting.<span class=\"title function_\">init</span>(&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸ŠæŠ¥åœ°å€</span></span><br><span class=\"line\">\t<span class=\"attr\">dsn</span>: <span class=\"string\">&quot;http://localhost:8888/postLog&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// æ˜¯å¦å¼€å¯è°ƒè¯•, æ§åˆ¶å°ä¼šæ‰“å°å‡ºæ—¥å¿—ä¿¡æ¯</span></span><br><span class=\"line\">\t<span class=\"attr\">debug</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸ŠæŠ¥æ–¹å¼ï¼šfetch sendBeacon</span></span><br><span class=\"line\">\t<span class=\"attr\">logMethod</span>: <span class=\"string\">&quot;fetch&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// é…ç½®å‚æ•°</span></span><br><span class=\"line\">\t<span class=\"attr\">config</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ˜¯å¦å¼€å¯å½•åˆ¶, å¯ä»¥å½•åˆ¶æŠ¥é”™å‰20sçš„è§†é¢‘</span></span><br><span class=\"line\">\t\t<span class=\"attr\">isRecord</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// å½•åˆ¶çš„æ—¶é—´(20s), æœ€å¤§ä¸èƒ½è¶…è¿‡1åˆ†é’Ÿ</span></span><br><span class=\"line\">\t\t<span class=\"attr\">recordTime</span>: <span class=\"number\">20</span> * <span class=\"number\">1000</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// é¡µé¢å‡†å¤‡å¥½ï¼Œæ˜¯å¦å°±ç«‹å³ç›‘å¬</span></span><br><span class=\"line\">\t\t<span class=\"attr\">watchReady</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// ç›‘å¬js</span></span><br><span class=\"line\">\t\t<span class=\"attr\">watchJsError</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// ç›‘å¬èµ„æºæŠ¥é”™</span></span><br><span class=\"line\">\t\t<span class=\"attr\">watchSource</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// ç›‘å¬è¯·æ±‚æŠ¥é”™</span></span><br><span class=\"line\">\t\t<span class=\"attr\">watchAxios</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€è¦å¼€å¯å¯¹åº”çš„é…ç½®ä¿¡æ¯;</p>\n<h2 id=\"ğŸ”ˆ-æ³¨æ„äº‹é¡¹\"><a href=\"#ğŸ”ˆ-æ³¨æ„äº‹é¡¹\" class=\"headerlink\" title=\"ğŸ”ˆ æ³¨æ„äº‹é¡¹\"></a>ğŸ”ˆ æ³¨æ„äº‹é¡¹</h2><ol>\n<li>æ—¥å¿—ä¸ŠæŠ¥çš„æ–¹å¼æœ‰ä¿©ç§: <code>fetch</code> å’Œ <code>sendBeacon</code>;</li>\n<li>å¦‚æœè¦å¼€å¯å±å¹•å½•åˆ¶åŠŸèƒ½é‚£ä¹ˆå°±ä¸èƒ½ä½¿ç”¨<code>sendBeacon</code>,å¦‚æœæ‚¨ä½¿ç”¨<code>sendBeacon</code>å»ä¸ŠæŠ¥, é‚£ä¹ˆåœ¨å¤æ‚çš„é¡¹ç›®ç›®å‰å®ƒæ˜¯ä¸Šä¼ ä¸äº†çš„, å› ä¸ºä¼šæŠŠå½•åˆ¶çš„å…ƒç´ ä¿¡æ¯ä¹Ÿä¼šä¸Šä¼ ;è¿™é‡Œä½¿ç”¨äº†å¼€æº<a href=\"https://github.com/rrweb-io/rrweb\">rrweb</a></li>\n<li>è¦æƒ³ä½¿ç”¨å½•åˆ¶è§†é¢‘ä¸Šä¼ , é‚£ä¹ˆè¯·ä½¿ç”¨<code>fetch</code>æ–¹å¼è¿›è¡Œä¸Šä¼ </li>\n<li>è§†é¢‘å½•åˆ¶çš„ä¿¡æ¯ä½¿ç”¨<a href=\"https://github.com/pieroxy/lz-string\">lz-string</a>è¿›è¡Œå‹ç¼©åŠ å¯†, å¦‚æœæ‚¨ä½¿ç”¨çš„æƒ…å†µ, è¯·åœ¨æœåŠ¡ç«¯æˆ–è€…å®¢æˆ·ç«¯å¯¹è¯¥æ•°æ®è¿›è¡Œè§£å‹è§£å¯†;å‹ç¼©å¯æŸ¥é˜…ä»£ç <code>/src/lib/send.ts 13è¡Œå·¦å³</code>, è§£å‹ä»£ç å¯æŸ¥é˜…<code>/example/index.html 110-118è¡Œå·¦å³</code></li>\n<li>å¦‚æœæ‚¨æƒ³è¦ä½“éªŒæ•ˆæœï¼šé‚£ä¹ˆå¯ä»¥åœ¨<code>/example</code>ç›®å½•ä¸‹è¿›è¡Œ<code>pnpm install</code>ï¼Œä¹‹åæ‰§è¡Œ<code>app.js</code>ï¼Œä¹‹ååœ¨<code>/example/index.html</code> ç‚¹å‡»æŒ‰é’®æ¨¡æ‹ŸæŠ¥é”™æŠ¥é”™ï¼Œç­‰ä¸ŠæŠ¥æˆåŠŸä¹‹åå¯ä»¥ç‚¹å‡»<code>æ’­æ”¾æŒ‰é’®é¢„è§ˆå½•åˆ¶çš„è§†é¢‘</code></li>\n</ol>\n"},{"title":"æˆ‘çš„é¡¹ç›®-'@log-reporting/core - V2'","abbrlink":"7407fa48","date":"2024-10-08T01:05:01.000Z","_content":"\n# @log-reporting/core - V2\n\n**<font color=\"#ff0000\">å€¼å¾—æ³¨æ„: v2 ç‰ˆæœ¬çš„åŒ…ä¸ºâ€œ@log-reporting/coreâ€, è€Œ v1 ç‰ˆæœ¬çš„åŒ…ä¸ºâ€œlog-reportingâ€ï¼› å†™æ³•å‚æ•°ç­‰å®Œå…¨æ˜¯ä¸ä¸€æ ·çš„ï¼Œv2 ç‰ˆæœ¬ä¸ºå…¨æ–°ç‰ˆæœ¬</font>**\n\n**å½“ç„¶ï¼Œ v2 ç‰ˆæœ¬ç”±å†…ç½®çš„`types`ï¼Œ å¦‚æœæ‚¨çš„é¡¹ç›®å› ä¸ºå®‰è£…`@log-reporting/core`è€Œå¯¼è‡´`ts`ç±»å‹æŠ¥é”™ï¼Œé‚£å°±éœ€è¦æ‚¨å®‰è£…`@log-reporting/types`äº†ï¼Œè¿™æ ·å°±å¯ä»¥å®Œå…¨è§£å†³ç±»å‹æŠ¥é”™çš„é—®é¢˜ï¼›**\n\n**å½“å‰ç‰ˆæœ¬ä»…ä»…æ”¯æŒå®¢æˆ·ç«¯ä½¿ç”¨ï¼Œä¸æ”¯æŒåœ¨æœåŠ¡ç«¯ä½¿ç”¨**\n\n## ğŸ”ˆ åœ°å€\n\n- [github åœ°å€](https://github.com/wangxiaoze-view/log-repeorting/blob/main/packages/core/README.md)\n- [npm åœ°å€](https://www.npmjs.com/package/@log-reporting/core)\n\n## ğŸ”ˆ æ³¨æ„äº‹é¡¹\n\n> æœ¬ç³»ç»Ÿçš„å¼€å‘ç›®çš„å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸ºäº†åœ¨éƒ¨åˆ†æƒ…å†µä¸‹æœé›†å‰ç«¯çš„å¼‚å¸¸æ—¥å¿—ï¼Œç”¨äºåˆ†æå¼‚å¸¸æƒ…å†µ;\n> å¦‚ï¼šçº¿ä¸Šç¯å¢ƒçš„é¡¹ç›®æˆ‘ä»¬ä¼šå§ä¸€äº›æ—¥å¿—åˆ é™¤ï¼Œå¦‚æœå‰ç«¯æŠ¥é”™é‚£ä¹ˆæ—¥å¿—æ˜¯é¦–é€‰ï¼Œ è¿™æ ·çš„æƒ…å†µæˆ‘ä»¬ä¸çŸ¥é“æ˜¯å“ªé‡Œçš„æŠ¥é”™å¯¼è‡´é¡µé¢å´©æºƒçš„ï¼›\n> é‚£ä¹ˆå¼€å‘è¿™æ¬¾å·¥å…·å¸¸è§„æƒ…å†µä¸‹èƒ½è§£å†³å¤§éƒ¨åˆ†çš„é—®é¢˜ï¼›\n\nè¯¥ç‰ˆæœ¬ä¸ºå…¨æ–°ç‰ˆæœ¬, ä¸ä¹‹å‰çš„ç‰ˆæœ¬ä¼šæœ‰å¾ˆå¤§çš„åŒºåˆ«;\n\n## ğŸ”ˆ æ—¥å¿—æœé›†èŒƒå›´\n\n1. èµ„æºï¼šèµ„æºåœ°å€ä¸æ­£ç¡®æˆ–ä¸å­˜åœ¨å¯¼è‡´çš„èµ„æºå¼‚å¸¸\n2. ä»£ç ï¼šæœé›†æŠ¥é”™ä¿¡æ¯ï¼Œé¡µé¢çš„å´©æºƒç­‰ç­‰ï¼›\n3. è¯·æ±‚ï¼šæˆªè¯·æ±‚å‚æ•°é”™è¯¯ï¼Œè®¿é—®åœ°å€ä¸å­˜åœ¨ï¼Œå¼‚å¸¸æ‹¦\n4. é¢å¤–æ·»åŠ åŠŸèƒ½ï¼šæ”¯æŒå½•åˆ¶è‡ªå®šä¹‰æ—¶é—´çš„è§†é¢‘ï¼Œä½†æ˜¯æœ€å¤§æ—¶é—´ä¸èƒ½è¶…è¿‡ 1 åˆ†é’Ÿ;\n5. æ”¯æŒæ€§èƒ½ç›‘æ§, ç™½å±æ—¶é—´, é¡µé¢åŠ è½½æ—¶é—´ç­‰ç­‰; <Badge type=\"tip\" text=\"æ–°ç‰ˆæœ¬æ”¯æŒ\" />\n6. æ”¯æŒ`pv`é¡µé¢æµè§ˆ, éœ€è¦æ‰‹åŠ¨æäº¤; <Badge type=\"tip\" text=\"æ–°ç‰ˆæœ¬æ”¯æŒ\" />\n7. æ”¯æŒ`æ›å…‰`, éœ€è¦æ‰‹åŠ¨è®¾ç½®å¯¹åº”çš„å…ƒç´ (ä»…æ”¯æŒåœ¨å¯æ˜¯åŒºåŸŸå†…); <Badge type=\"tip\" text=\"æ–°ç‰ˆæœ¬æ”¯æŒ\" />\n\n## ğŸ”ˆ å¦‚ä½•ä½¿ç”¨\n\n### js é¡¹ç›®å¼•å…¥\n\néœ€è¦å…‹éš†ä¸‹è½½è¯¥é¡¹ç›®, æ‰§è¡Œå‘½ä»¤`pnpm run build`ï¼Œ ä¹‹åä¼šåœ¨æ ¹ç›®å½•`dist`æ–‡ä»¶ä¸‹çœ‹åˆ°æ‰“åŒ…çš„å¯¹åº”çš„æ–‡ä»¶ä¿¡æ¯; æ ¹æ®ä¸åŒå¹³å°å¼•å…¥å³å¯;\n\nä¸‹é¢ä»£ç ç¤ºä¾‹ä¸ºæµè§ˆå™¨çš„ä½¿ç”¨ï¼š\n\n```js\n<script src=\"dist/index.umd.js\"></script>\n\n<script>\n  logReportingCore.init({\n    // ä¸ŠæŠ¥åœ°å€\n    dsn: 'http://localhost:8888/postLog',\n    // æ˜¯å¦å¼€å¯è°ƒè¯•\n    isDebug: true,\n    // æ˜¯å¦æ•è·é”™è¯¯\n    isError: true,\n    // æ˜¯å¦æ•è·console.error\n    isConsoleError: true,\n    // æ˜¯å¦æ•è·æ€§èƒ½\n    isPerformance: true,\n    // æ˜¯å¦æ•è·èµ„æº\n    isResource: true,\n    // æ˜¯å¦æ•è·è¯·æ±‚\n    isXhr: true,\n    // å±å¹•å½•åˆ¶\n    record: {\n      open: true,\n      time: 10 * 1000\n    },\n    // åŠ å¯†æ–¹å¼\n    encryptMethod: 'base64',\n    // ä¸ŠæŠ¥æ–¹å¼\n    method: 'beacon',\n    // pvç»Ÿè®¡\n    isPv: true,\n    // æ›å…‰ç»Ÿè®¡\n    isExposure: true\n  })\n</script>\n```\n\n### vue é¡¹ç›®å¼•å…¥\n\nåœ¨`vue`ä¸­ä½¿ç”¨,\n`npm install @log-reporting/core` å®‰è£…ä¾èµ–\n\nåœ¨`main.js`ä¸­å¼•å…¥\n\n```js\nimport { init } from \"@log-reporting/core\";\ninit({});\n```\n\næ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€è¦å¼€å¯å¯¹åº”çš„é…ç½®ä¿¡æ¯;\n\n## ğŸ”ˆ å…³äº`pvç»Ÿè®¡`ä¸`æ›å…‰ç»Ÿè®¡`\n\nç›®å‰ä»…ä»…æ”¯æŒæ‰‹åŠ¨ä¸ŠæŠ¥ï¼›\n\n1. `pv`ç»Ÿè®¡ï¼š\n\n```js\nimport { lestenPv } from \"@log-reporting/core\";\nlestenPv({\n\t// ç»Ÿè®¡ä¿¡æ¯\n\tmessage: \"æµ‹è¯•\",\n\t// å…¶ä»–å‚æ•°éƒ½æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„\n\turl: \"localhost:8888/getLogData\",\n\tparams: { a: 123 },\n});\n\nexport interface IPv {\n\tmessage?: string;\n\t[k: string]: any;\n}\n```\n\n2. `æ›å…‰ç»Ÿè®¡`ï¼š\n\n```js\nimport { lestenExposure } from \"@log-reporting/core\";\nlestenExposure({\n\t// æ›å…‰å…ƒç´ \n\ttarget: document.querySelector(\"#btn10\"),\n\t// æ›å…‰ä¿¡æ¯\n\tmessage: \"æ›å…‰æŒ‰é’®\",\n\tthreshold: 0.5,\n\t// å…¶ä»–å‚æ•°\n\tparams: { a: 123 },\n});\n\nexport interface IExposure extends IPv {\n\tthreshold?: number;\n\ttarget?: any; // æ›å…‰çš„å…ƒç´ \n\tparams?: Record<string, any>;\n\ttime?: number;\n}\n```\n\n## ğŸ”ˆ å±å¹•å½•åˆ¶\n\nè¯¥ç‰ˆæœ¬ä¸­æœ‰å†…ç½®çš„`å±å¹•å½•åˆ¶`åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯ç›¸å¯¹äºé”™è¯¯æ—¥å¿—çš„æ“ä½œè§†é¢‘è®°å½•ï¼›\n\n### ä¸ºä»€ä¹ˆè¦æ·»åŠ è¿™ä¸ªåŠŸèƒ½ï¼Ÿ\n\nå› ä¸ºç›¸å¯¹äºæ—¥å¿—ä¸ŠæŠ¥ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨`çº¿ä¸Šç¯å¢ƒ`ä¸­èƒ½å¤Ÿè®°å½•ä¸€äº›æ“ä½œçš„è§†é¢‘ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½æ›´å¥½çš„äº†è§£ç”¨æˆ·çš„æ“ä½œæƒ…å†µï¼› ä½†æ˜¯ï¼Œç”±äº`æµè§ˆå™¨`æœ¬èº«å¯¹`å±å¹•å½•åˆ¶`çš„æ”¯æŒä¸æ˜¯å¾ˆå‹å¥½ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬è‡ªå·±å®ç°ï¼› æ‰€ä»¥ï¼Œæˆ‘ä»¬è‡ªå·±å®ç°äº†ä¸€ä¸ªç®€å•çš„`å±å¹•å½•åˆ¶`åŠŸèƒ½ï¼›\n\nå½“ç„¶ä¸»è¦æ˜¯å¼•å…¥äº†[rrweb](https://github.com/rrweb-io/rrweb)æ’ä»¶ï¼›\n\n### å±å¹•å½•åˆ¶çš„é…ç½®\n\n```json\n{\n  record: {\n    open: true, // æ˜¯å¦å¼€å¯å½•åˆ¶\n    time: 10 * 1000 // å½•åˆ¶æ—¶é—´ï¼Œ æœ€å¤§æ—¶é—´ä¸º1åˆ†é’Ÿ\n  }\n}\n```\n\n<font color=\"#ff0000\">è®©ç„¶å¦‚æœæ‚¨è§‰å¾—è¯¥åŠŸèƒ½å¯èƒ½æ¶‰åŠåˆ°éšç§æƒ…å†µï¼Œæ‚¨å¯ä»¥é€‰æ‹©å…³é—­ï¼Œè¿™æ ·çš„è¯è§†é¢‘ä¿¡æ¯ä¸ä¼šè¿›è¡Œä¸ŠæŠ¥</font>\n\n### è§†é¢‘ä¿¡æ¯çš„åŠ å¯†è§£å¯†\n\nä¸ºäº†ä¿è¯å®‰å…¨æ€§ä»¥åŠæ€§èƒ½ï¼Œè§†é¢‘ä¿¡æ¯æ˜¯åšäº† **å®‰å…¨åŠ å¯†** çš„ï¼Œæ‰€ä»¥æ‚¨éœ€è¦è§£å¯†æ‰èƒ½ä½¿ç”¨ï¼›\n\nç›®å‰åŠ å¯†çš„çš„æ–¹å¼åˆ†ä¸ºä¿©ä¸­ï¼š**lz** å’Œ **base64**\n\n- **åŠ å¯†ä½¿ç”¨ï¼š** `encryptFun(value: Record<string, any>, k?: string)`;\n  - è¯¥æ–¹æ³•æ˜¯å¯¹è±¡è¿›è¡ŒåŠ å¯†ï¼ŒåŠ å¯†åçš„æ•°æ®æ˜¯å­—ç¬¦ä¸², é»˜è®¤çš„åŠ å¯†\n  - k: å¯ä»¥æ˜¯å›ºå®šå€¼`snapshot`ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ï¼Œå½“`k`ä¸ºå…¶ä»–å€¼æ—¶ï¼Œé»˜è®¤åŠ å¯†æ–¹å¼ä¸º`base64`\n- **è§£å¯†ä½¿ç”¨ï¼š** `decryptionFun(value: string, k?: string)`\n  - è¯¥æ–¹æ³•æ˜¯è§£å¯†ï¼Œè§£å¯†åçš„æ•°æ®æ˜¯`object`\n  - å°†æ‚¨åŠ å¯†åç­‰åˆ°çš„å­—ç¬¦ä¸²ç»™åˆ°è¯¥æ–¹æ³•å³å¯ï¼›`k`çš„ä½œç”¨ç±»ä¼¼äºä¸Šé¢çš„`k`ï¼›\n\n### è§£å¯†ä¹‹åå±•ç¤ºå›æ”¾\n\n```js\nimport { decryptionFun } from \"@log-reporting/core\";\n// data: æ¨¡ä»¿åç«¯è¿”å›çš„æ•°æ®\nconst { reportInfo } = data;\n// å¯¹æ•°æ®è¿›è¡Œè§£å¯†\nconst videoData = decryptionFun(reportInfo.snapshot);\n// ä½¿ç”¨rrwebè¿›è¡Œå›æ”¾ï¼Œ å½“ç„¶æ˜¯éœ€è¦å®‰è£…rrwebæ’ä»¶\n// https://github.com/rrweb-io/rrweb/blob/master/README.zh_CN.md\nconst player = new rrweb.Replayer(JSON.parse(videoData));\n// è‡ªåŠ¨æ’­æ”¾\nplayer.play();\n```\n\n## ğŸ”ˆ é¢å¤–å¯¼å‡ºçš„æ–¹æ³•\n\n> è¿™äº›æ–¹æ³•ä¸æ˜¯ä¸»è¦æ ¸å¿ƒæ–¹æ³•ï¼Œä¸€èˆ¬æƒ…å†µæ²¡ä»€ä¹ˆç”¨ï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™å¯èƒ½éœ€è¦ç”¨åˆ°ï¼Œæ‰€ä»¥è¿™é‡Œå¯¼å‡ºå‡ºæ¥ï¼›\n\n```js\nimport { _global, _support } from \"@log-reporting/core\";\n```\n\n1. **\\_global:** å…¨å±€å¯¹è±¡ï¼Œå¯ä»¥ç†è§£ä¸º`window`\n2. **\\_supportï¼š** åŸºç¡€ä¿¡æ¯å‚æ•°\n\n## ğŸ”ˆ å…¶ä»–\n\n### @log-reortinging/types - ç±»å‹æ ¡éªŒ\n\n`@log-reporting/core`æœ‰å†…ç½®çš„ç±»å‹æ ¡éªŒï¼Œå¦‚æœæ‚¨çš„é¡¹ç›®æ˜¯`ts`æ­å»ºï¼Œé‚£ä¹ˆéœ€è¦å†æ¬¡å®‰è£…`@log-reporting/types`ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç±»å‹æŠ¥é”™ï¼Œå½“ç„¶ï¼Œæ‚¨ä¹Ÿå¯ä»¥è‡ªè¡Œå®šä¹‰ç±»å‹ï¼Œä½†æ˜¯éœ€è¦æ‚¨è‡ªè¡Œä¿è¯ç±»å‹æ˜¯å¦æ­£ç¡®ï¼›\n\nå¦‚æœæ‚¨å¼•å…¥æ­£ç¡®ä¹‹åï¼Œä¸éœ€è¦ç‰¹æ®Šä½¿ç”¨å°±å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†ï¼›æ‚¨ä¹Ÿå¯ä»¥ç‚¹å‡»å†…ç½®`api`å¯ä»¥æŸ¥çœ‹æºç ç¼–è¯‘è€Œæˆçš„`index.d.ts`ï¼›\n\n### @log-reporting/logger - æ—¥å¿—\n\n`@log-reporting/logger`æ²¡æœ‰å¤ªå¤§çš„ç”¨å¤„ï¼Œå°±æ˜¯ä¾èµ–äº`@log-reporting/core`é…ç½®ä¸­çš„`debuge`äº§ç”Ÿçš„ï¼Œä¹Ÿå°±æ˜¯åœ¨`console.log`çš„åŸºç¡€ä¸Šåšäº†ä¸€å±‚ç¾åŒ–æ•ˆæœï¼Œ å½“ç„¶æ‚¨ä¹Ÿæ˜¯å¯ä»¥å…³é—­çš„ï¼Œé…ç½®å®Œå…¨æ˜¯è‡ªå®šä¹‰çš„ï¼›\n","source":"_posts/æˆ‘çš„é¡¹ç›®/æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶/v2.md","raw":"---\ntitle: æˆ‘çš„é¡¹ç›®-'@log-reporting/core - V2'\nabbrlink: 7407fa48\ndate: 2024-10-08 09:05:01\ncategories:\n  - æˆ‘çš„é¡¹ç›®\ntags:\n  - é¡¹ç›®\n---\n\n# @log-reporting/core - V2\n\n**<font color=\"#ff0000\">å€¼å¾—æ³¨æ„: v2 ç‰ˆæœ¬çš„åŒ…ä¸ºâ€œ@log-reporting/coreâ€, è€Œ v1 ç‰ˆæœ¬çš„åŒ…ä¸ºâ€œlog-reportingâ€ï¼› å†™æ³•å‚æ•°ç­‰å®Œå…¨æ˜¯ä¸ä¸€æ ·çš„ï¼Œv2 ç‰ˆæœ¬ä¸ºå…¨æ–°ç‰ˆæœ¬</font>**\n\n**å½“ç„¶ï¼Œ v2 ç‰ˆæœ¬ç”±å†…ç½®çš„`types`ï¼Œ å¦‚æœæ‚¨çš„é¡¹ç›®å› ä¸ºå®‰è£…`@log-reporting/core`è€Œå¯¼è‡´`ts`ç±»å‹æŠ¥é”™ï¼Œé‚£å°±éœ€è¦æ‚¨å®‰è£…`@log-reporting/types`äº†ï¼Œè¿™æ ·å°±å¯ä»¥å®Œå…¨è§£å†³ç±»å‹æŠ¥é”™çš„é—®é¢˜ï¼›**\n\n**å½“å‰ç‰ˆæœ¬ä»…ä»…æ”¯æŒå®¢æˆ·ç«¯ä½¿ç”¨ï¼Œä¸æ”¯æŒåœ¨æœåŠ¡ç«¯ä½¿ç”¨**\n\n## ğŸ”ˆ åœ°å€\n\n- [github åœ°å€](https://github.com/wangxiaoze-view/log-repeorting/blob/main/packages/core/README.md)\n- [npm åœ°å€](https://www.npmjs.com/package/@log-reporting/core)\n\n## ğŸ”ˆ æ³¨æ„äº‹é¡¹\n\n> æœ¬ç³»ç»Ÿçš„å¼€å‘ç›®çš„å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸ºäº†åœ¨éƒ¨åˆ†æƒ…å†µä¸‹æœé›†å‰ç«¯çš„å¼‚å¸¸æ—¥å¿—ï¼Œç”¨äºåˆ†æå¼‚å¸¸æƒ…å†µ;\n> å¦‚ï¼šçº¿ä¸Šç¯å¢ƒçš„é¡¹ç›®æˆ‘ä»¬ä¼šå§ä¸€äº›æ—¥å¿—åˆ é™¤ï¼Œå¦‚æœå‰ç«¯æŠ¥é”™é‚£ä¹ˆæ—¥å¿—æ˜¯é¦–é€‰ï¼Œ è¿™æ ·çš„æƒ…å†µæˆ‘ä»¬ä¸çŸ¥é“æ˜¯å“ªé‡Œçš„æŠ¥é”™å¯¼è‡´é¡µé¢å´©æºƒçš„ï¼›\n> é‚£ä¹ˆå¼€å‘è¿™æ¬¾å·¥å…·å¸¸è§„æƒ…å†µä¸‹èƒ½è§£å†³å¤§éƒ¨åˆ†çš„é—®é¢˜ï¼›\n\nè¯¥ç‰ˆæœ¬ä¸ºå…¨æ–°ç‰ˆæœ¬, ä¸ä¹‹å‰çš„ç‰ˆæœ¬ä¼šæœ‰å¾ˆå¤§çš„åŒºåˆ«;\n\n## ğŸ”ˆ æ—¥å¿—æœé›†èŒƒå›´\n\n1. èµ„æºï¼šèµ„æºåœ°å€ä¸æ­£ç¡®æˆ–ä¸å­˜åœ¨å¯¼è‡´çš„èµ„æºå¼‚å¸¸\n2. ä»£ç ï¼šæœé›†æŠ¥é”™ä¿¡æ¯ï¼Œé¡µé¢çš„å´©æºƒç­‰ç­‰ï¼›\n3. è¯·æ±‚ï¼šæˆªè¯·æ±‚å‚æ•°é”™è¯¯ï¼Œè®¿é—®åœ°å€ä¸å­˜åœ¨ï¼Œå¼‚å¸¸æ‹¦\n4. é¢å¤–æ·»åŠ åŠŸèƒ½ï¼šæ”¯æŒå½•åˆ¶è‡ªå®šä¹‰æ—¶é—´çš„è§†é¢‘ï¼Œä½†æ˜¯æœ€å¤§æ—¶é—´ä¸èƒ½è¶…è¿‡ 1 åˆ†é’Ÿ;\n5. æ”¯æŒæ€§èƒ½ç›‘æ§, ç™½å±æ—¶é—´, é¡µé¢åŠ è½½æ—¶é—´ç­‰ç­‰; <Badge type=\"tip\" text=\"æ–°ç‰ˆæœ¬æ”¯æŒ\" />\n6. æ”¯æŒ`pv`é¡µé¢æµè§ˆ, éœ€è¦æ‰‹åŠ¨æäº¤; <Badge type=\"tip\" text=\"æ–°ç‰ˆæœ¬æ”¯æŒ\" />\n7. æ”¯æŒ`æ›å…‰`, éœ€è¦æ‰‹åŠ¨è®¾ç½®å¯¹åº”çš„å…ƒç´ (ä»…æ”¯æŒåœ¨å¯æ˜¯åŒºåŸŸå†…); <Badge type=\"tip\" text=\"æ–°ç‰ˆæœ¬æ”¯æŒ\" />\n\n## ğŸ”ˆ å¦‚ä½•ä½¿ç”¨\n\n### js é¡¹ç›®å¼•å…¥\n\néœ€è¦å…‹éš†ä¸‹è½½è¯¥é¡¹ç›®, æ‰§è¡Œå‘½ä»¤`pnpm run build`ï¼Œ ä¹‹åä¼šåœ¨æ ¹ç›®å½•`dist`æ–‡ä»¶ä¸‹çœ‹åˆ°æ‰“åŒ…çš„å¯¹åº”çš„æ–‡ä»¶ä¿¡æ¯; æ ¹æ®ä¸åŒå¹³å°å¼•å…¥å³å¯;\n\nä¸‹é¢ä»£ç ç¤ºä¾‹ä¸ºæµè§ˆå™¨çš„ä½¿ç”¨ï¼š\n\n```js\n<script src=\"dist/index.umd.js\"></script>\n\n<script>\n  logReportingCore.init({\n    // ä¸ŠæŠ¥åœ°å€\n    dsn: 'http://localhost:8888/postLog',\n    // æ˜¯å¦å¼€å¯è°ƒè¯•\n    isDebug: true,\n    // æ˜¯å¦æ•è·é”™è¯¯\n    isError: true,\n    // æ˜¯å¦æ•è·console.error\n    isConsoleError: true,\n    // æ˜¯å¦æ•è·æ€§èƒ½\n    isPerformance: true,\n    // æ˜¯å¦æ•è·èµ„æº\n    isResource: true,\n    // æ˜¯å¦æ•è·è¯·æ±‚\n    isXhr: true,\n    // å±å¹•å½•åˆ¶\n    record: {\n      open: true,\n      time: 10 * 1000\n    },\n    // åŠ å¯†æ–¹å¼\n    encryptMethod: 'base64',\n    // ä¸ŠæŠ¥æ–¹å¼\n    method: 'beacon',\n    // pvç»Ÿè®¡\n    isPv: true,\n    // æ›å…‰ç»Ÿè®¡\n    isExposure: true\n  })\n</script>\n```\n\n### vue é¡¹ç›®å¼•å…¥\n\nåœ¨`vue`ä¸­ä½¿ç”¨,\n`npm install @log-reporting/core` å®‰è£…ä¾èµ–\n\nåœ¨`main.js`ä¸­å¼•å…¥\n\n```js\nimport { init } from \"@log-reporting/core\";\ninit({});\n```\n\næ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€è¦å¼€å¯å¯¹åº”çš„é…ç½®ä¿¡æ¯;\n\n## ğŸ”ˆ å…³äº`pvç»Ÿè®¡`ä¸`æ›å…‰ç»Ÿè®¡`\n\nç›®å‰ä»…ä»…æ”¯æŒæ‰‹åŠ¨ä¸ŠæŠ¥ï¼›\n\n1. `pv`ç»Ÿè®¡ï¼š\n\n```js\nimport { lestenPv } from \"@log-reporting/core\";\nlestenPv({\n\t// ç»Ÿè®¡ä¿¡æ¯\n\tmessage: \"æµ‹è¯•\",\n\t// å…¶ä»–å‚æ•°éƒ½æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„\n\turl: \"localhost:8888/getLogData\",\n\tparams: { a: 123 },\n});\n\nexport interface IPv {\n\tmessage?: string;\n\t[k: string]: any;\n}\n```\n\n2. `æ›å…‰ç»Ÿè®¡`ï¼š\n\n```js\nimport { lestenExposure } from \"@log-reporting/core\";\nlestenExposure({\n\t// æ›å…‰å…ƒç´ \n\ttarget: document.querySelector(\"#btn10\"),\n\t// æ›å…‰ä¿¡æ¯\n\tmessage: \"æ›å…‰æŒ‰é’®\",\n\tthreshold: 0.5,\n\t// å…¶ä»–å‚æ•°\n\tparams: { a: 123 },\n});\n\nexport interface IExposure extends IPv {\n\tthreshold?: number;\n\ttarget?: any; // æ›å…‰çš„å…ƒç´ \n\tparams?: Record<string, any>;\n\ttime?: number;\n}\n```\n\n## ğŸ”ˆ å±å¹•å½•åˆ¶\n\nè¯¥ç‰ˆæœ¬ä¸­æœ‰å†…ç½®çš„`å±å¹•å½•åˆ¶`åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯ç›¸å¯¹äºé”™è¯¯æ—¥å¿—çš„æ“ä½œè§†é¢‘è®°å½•ï¼›\n\n### ä¸ºä»€ä¹ˆè¦æ·»åŠ è¿™ä¸ªåŠŸèƒ½ï¼Ÿ\n\nå› ä¸ºç›¸å¯¹äºæ—¥å¿—ä¸ŠæŠ¥ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨`çº¿ä¸Šç¯å¢ƒ`ä¸­èƒ½å¤Ÿè®°å½•ä¸€äº›æ“ä½œçš„è§†é¢‘ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½æ›´å¥½çš„äº†è§£ç”¨æˆ·çš„æ“ä½œæƒ…å†µï¼› ä½†æ˜¯ï¼Œç”±äº`æµè§ˆå™¨`æœ¬èº«å¯¹`å±å¹•å½•åˆ¶`çš„æ”¯æŒä¸æ˜¯å¾ˆå‹å¥½ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬è‡ªå·±å®ç°ï¼› æ‰€ä»¥ï¼Œæˆ‘ä»¬è‡ªå·±å®ç°äº†ä¸€ä¸ªç®€å•çš„`å±å¹•å½•åˆ¶`åŠŸèƒ½ï¼›\n\nå½“ç„¶ä¸»è¦æ˜¯å¼•å…¥äº†[rrweb](https://github.com/rrweb-io/rrweb)æ’ä»¶ï¼›\n\n### å±å¹•å½•åˆ¶çš„é…ç½®\n\n```json\n{\n  record: {\n    open: true, // æ˜¯å¦å¼€å¯å½•åˆ¶\n    time: 10 * 1000 // å½•åˆ¶æ—¶é—´ï¼Œ æœ€å¤§æ—¶é—´ä¸º1åˆ†é’Ÿ\n  }\n}\n```\n\n<font color=\"#ff0000\">è®©ç„¶å¦‚æœæ‚¨è§‰å¾—è¯¥åŠŸèƒ½å¯èƒ½æ¶‰åŠåˆ°éšç§æƒ…å†µï¼Œæ‚¨å¯ä»¥é€‰æ‹©å…³é—­ï¼Œè¿™æ ·çš„è¯è§†é¢‘ä¿¡æ¯ä¸ä¼šè¿›è¡Œä¸ŠæŠ¥</font>\n\n### è§†é¢‘ä¿¡æ¯çš„åŠ å¯†è§£å¯†\n\nä¸ºäº†ä¿è¯å®‰å…¨æ€§ä»¥åŠæ€§èƒ½ï¼Œè§†é¢‘ä¿¡æ¯æ˜¯åšäº† **å®‰å…¨åŠ å¯†** çš„ï¼Œæ‰€ä»¥æ‚¨éœ€è¦è§£å¯†æ‰èƒ½ä½¿ç”¨ï¼›\n\nç›®å‰åŠ å¯†çš„çš„æ–¹å¼åˆ†ä¸ºä¿©ä¸­ï¼š**lz** å’Œ **base64**\n\n- **åŠ å¯†ä½¿ç”¨ï¼š** `encryptFun(value: Record<string, any>, k?: string)`;\n  - è¯¥æ–¹æ³•æ˜¯å¯¹è±¡è¿›è¡ŒåŠ å¯†ï¼ŒåŠ å¯†åçš„æ•°æ®æ˜¯å­—ç¬¦ä¸², é»˜è®¤çš„åŠ å¯†\n  - k: å¯ä»¥æ˜¯å›ºå®šå€¼`snapshot`ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ï¼Œå½“`k`ä¸ºå…¶ä»–å€¼æ—¶ï¼Œé»˜è®¤åŠ å¯†æ–¹å¼ä¸º`base64`\n- **è§£å¯†ä½¿ç”¨ï¼š** `decryptionFun(value: string, k?: string)`\n  - è¯¥æ–¹æ³•æ˜¯è§£å¯†ï¼Œè§£å¯†åçš„æ•°æ®æ˜¯`object`\n  - å°†æ‚¨åŠ å¯†åç­‰åˆ°çš„å­—ç¬¦ä¸²ç»™åˆ°è¯¥æ–¹æ³•å³å¯ï¼›`k`çš„ä½œç”¨ç±»ä¼¼äºä¸Šé¢çš„`k`ï¼›\n\n### è§£å¯†ä¹‹åå±•ç¤ºå›æ”¾\n\n```js\nimport { decryptionFun } from \"@log-reporting/core\";\n// data: æ¨¡ä»¿åç«¯è¿”å›çš„æ•°æ®\nconst { reportInfo } = data;\n// å¯¹æ•°æ®è¿›è¡Œè§£å¯†\nconst videoData = decryptionFun(reportInfo.snapshot);\n// ä½¿ç”¨rrwebè¿›è¡Œå›æ”¾ï¼Œ å½“ç„¶æ˜¯éœ€è¦å®‰è£…rrwebæ’ä»¶\n// https://github.com/rrweb-io/rrweb/blob/master/README.zh_CN.md\nconst player = new rrweb.Replayer(JSON.parse(videoData));\n// è‡ªåŠ¨æ’­æ”¾\nplayer.play();\n```\n\n## ğŸ”ˆ é¢å¤–å¯¼å‡ºçš„æ–¹æ³•\n\n> è¿™äº›æ–¹æ³•ä¸æ˜¯ä¸»è¦æ ¸å¿ƒæ–¹æ³•ï¼Œä¸€èˆ¬æƒ…å†µæ²¡ä»€ä¹ˆç”¨ï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™å¯èƒ½éœ€è¦ç”¨åˆ°ï¼Œæ‰€ä»¥è¿™é‡Œå¯¼å‡ºå‡ºæ¥ï¼›\n\n```js\nimport { _global, _support } from \"@log-reporting/core\";\n```\n\n1. **\\_global:** å…¨å±€å¯¹è±¡ï¼Œå¯ä»¥ç†è§£ä¸º`window`\n2. **\\_supportï¼š** åŸºç¡€ä¿¡æ¯å‚æ•°\n\n## ğŸ”ˆ å…¶ä»–\n\n### @log-reortinging/types - ç±»å‹æ ¡éªŒ\n\n`@log-reporting/core`æœ‰å†…ç½®çš„ç±»å‹æ ¡éªŒï¼Œå¦‚æœæ‚¨çš„é¡¹ç›®æ˜¯`ts`æ­å»ºï¼Œé‚£ä¹ˆéœ€è¦å†æ¬¡å®‰è£…`@log-reporting/types`ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç±»å‹æŠ¥é”™ï¼Œå½“ç„¶ï¼Œæ‚¨ä¹Ÿå¯ä»¥è‡ªè¡Œå®šä¹‰ç±»å‹ï¼Œä½†æ˜¯éœ€è¦æ‚¨è‡ªè¡Œä¿è¯ç±»å‹æ˜¯å¦æ­£ç¡®ï¼›\n\nå¦‚æœæ‚¨å¼•å…¥æ­£ç¡®ä¹‹åï¼Œä¸éœ€è¦ç‰¹æ®Šä½¿ç”¨å°±å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†ï¼›æ‚¨ä¹Ÿå¯ä»¥ç‚¹å‡»å†…ç½®`api`å¯ä»¥æŸ¥çœ‹æºç ç¼–è¯‘è€Œæˆçš„`index.d.ts`ï¼›\n\n### @log-reporting/logger - æ—¥å¿—\n\n`@log-reporting/logger`æ²¡æœ‰å¤ªå¤§çš„ç”¨å¤„ï¼Œå°±æ˜¯ä¾èµ–äº`@log-reporting/core`é…ç½®ä¸­çš„`debuge`äº§ç”Ÿçš„ï¼Œä¹Ÿå°±æ˜¯åœ¨`console.log`çš„åŸºç¡€ä¸Šåšäº†ä¸€å±‚ç¾åŒ–æ•ˆæœï¼Œ å½“ç„¶æ‚¨ä¹Ÿæ˜¯å¯ä»¥å…³é—­çš„ï¼Œé…ç½®å®Œå…¨æ˜¯è‡ªå®šä¹‰çš„ï¼›\n","slug":"æˆ‘çš„é¡¹ç›®/æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶/v2","published":1,"updated":"2025-03-12T10:17:11.696Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0ix002dfg9m5iha2mrc","content":"<h1 id=\"log-reporting-core-V2\"><a href=\"#log-reporting-core-V2\" class=\"headerlink\" title=\"@log-reporting&#x2F;core - V2\"></a>@log-reporting&#x2F;core - V2</h1><p><strong><font color=\"#ff0000\">å€¼å¾—æ³¨æ„: v2 ç‰ˆæœ¬çš„åŒ…ä¸ºâ€œ@log-reporting&#x2F;coreâ€, è€Œ v1 ç‰ˆæœ¬çš„åŒ…ä¸ºâ€œlog-reportingâ€ï¼› å†™æ³•å‚æ•°ç­‰å®Œå…¨æ˜¯ä¸ä¸€æ ·çš„ï¼Œv2 ç‰ˆæœ¬ä¸ºå…¨æ–°ç‰ˆæœ¬</font></strong></p>\n<p><strong>å½“ç„¶ï¼Œ v2 ç‰ˆæœ¬ç”±å†…ç½®çš„<code>types</code>ï¼Œ å¦‚æœæ‚¨çš„é¡¹ç›®å› ä¸ºå®‰è£…<code>@log-reporting/core</code>è€Œå¯¼è‡´<code>ts</code>ç±»å‹æŠ¥é”™ï¼Œé‚£å°±éœ€è¦æ‚¨å®‰è£…<code>@log-reporting/types</code>äº†ï¼Œè¿™æ ·å°±å¯ä»¥å®Œå…¨è§£å†³ç±»å‹æŠ¥é”™çš„é—®é¢˜ï¼›</strong></p>\n<p><strong>å½“å‰ç‰ˆæœ¬ä»…ä»…æ”¯æŒå®¢æˆ·ç«¯ä½¿ç”¨ï¼Œä¸æ”¯æŒåœ¨æœåŠ¡ç«¯ä½¿ç”¨</strong></p>\n<h2 id=\"ğŸ”ˆ-åœ°å€\"><a href=\"#ğŸ”ˆ-åœ°å€\" class=\"headerlink\" title=\"ğŸ”ˆ åœ°å€\"></a>ğŸ”ˆ åœ°å€</h2><ul>\n<li><a href=\"https://github.com/wangxiaoze-view/log-repeorting/blob/main/packages/core/README.md\">github åœ°å€</a></li>\n<li><a href=\"https://www.npmjs.com/package/@log-reporting/core\">npm åœ°å€</a></li>\n</ul>\n<h2 id=\"ğŸ”ˆ-æ³¨æ„äº‹é¡¹\"><a href=\"#ğŸ”ˆ-æ³¨æ„äº‹é¡¹\" class=\"headerlink\" title=\"ğŸ”ˆ æ³¨æ„äº‹é¡¹\"></a>ğŸ”ˆ æ³¨æ„äº‹é¡¹</h2><blockquote>\n<p>æœ¬ç³»ç»Ÿçš„å¼€å‘ç›®çš„å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸ºäº†åœ¨éƒ¨åˆ†æƒ…å†µä¸‹æœé›†å‰ç«¯çš„å¼‚å¸¸æ—¥å¿—ï¼Œç”¨äºåˆ†æå¼‚å¸¸æƒ…å†µ;<br>å¦‚ï¼šçº¿ä¸Šç¯å¢ƒçš„é¡¹ç›®æˆ‘ä»¬ä¼šå§ä¸€äº›æ—¥å¿—åˆ é™¤ï¼Œå¦‚æœå‰ç«¯æŠ¥é”™é‚£ä¹ˆæ—¥å¿—æ˜¯é¦–é€‰ï¼Œ è¿™æ ·çš„æƒ…å†µæˆ‘ä»¬ä¸çŸ¥é“æ˜¯å“ªé‡Œçš„æŠ¥é”™å¯¼è‡´é¡µé¢å´©æºƒçš„ï¼›<br>é‚£ä¹ˆå¼€å‘è¿™æ¬¾å·¥å…·å¸¸è§„æƒ…å†µä¸‹èƒ½è§£å†³å¤§éƒ¨åˆ†çš„é—®é¢˜ï¼›</p>\n</blockquote>\n<p>è¯¥ç‰ˆæœ¬ä¸ºå…¨æ–°ç‰ˆæœ¬, ä¸ä¹‹å‰çš„ç‰ˆæœ¬ä¼šæœ‰å¾ˆå¤§çš„åŒºåˆ«;</p>\n<h2 id=\"ğŸ”ˆ-æ—¥å¿—æœé›†èŒƒå›´\"><a href=\"#ğŸ”ˆ-æ—¥å¿—æœé›†èŒƒå›´\" class=\"headerlink\" title=\"ğŸ”ˆ æ—¥å¿—æœé›†èŒƒå›´\"></a>ğŸ”ˆ æ—¥å¿—æœé›†èŒƒå›´</h2><ol>\n<li>èµ„æºï¼šèµ„æºåœ°å€ä¸æ­£ç¡®æˆ–ä¸å­˜åœ¨å¯¼è‡´çš„èµ„æºå¼‚å¸¸</li>\n<li>ä»£ç ï¼šæœé›†æŠ¥é”™ä¿¡æ¯ï¼Œé¡µé¢çš„å´©æºƒç­‰ç­‰ï¼›</li>\n<li>è¯·æ±‚ï¼šæˆªè¯·æ±‚å‚æ•°é”™è¯¯ï¼Œè®¿é—®åœ°å€ä¸å­˜åœ¨ï¼Œå¼‚å¸¸æ‹¦</li>\n<li>é¢å¤–æ·»åŠ åŠŸèƒ½ï¼šæ”¯æŒå½•åˆ¶è‡ªå®šä¹‰æ—¶é—´çš„è§†é¢‘ï¼Œä½†æ˜¯æœ€å¤§æ—¶é—´ä¸èƒ½è¶…è¿‡ 1 åˆ†é’Ÿ;</li>\n<li>æ”¯æŒæ€§èƒ½ç›‘æ§, ç™½å±æ—¶é—´, é¡µé¢åŠ è½½æ—¶é—´ç­‰ç­‰; <Badge type=\"tip\" text=\"æ–°ç‰ˆæœ¬æ”¯æŒ\" /></li>\n<li>æ”¯æŒ<code>pv</code>é¡µé¢æµè§ˆ, éœ€è¦æ‰‹åŠ¨æäº¤; <Badge type=\"tip\" text=\"æ–°ç‰ˆæœ¬æ”¯æŒ\" /></li>\n<li>æ”¯æŒ<code>æ›å…‰</code>, éœ€è¦æ‰‹åŠ¨è®¾ç½®å¯¹åº”çš„å…ƒç´ (ä»…æ”¯æŒåœ¨å¯æ˜¯åŒºåŸŸå†…); <Badge type=\"tip\" text=\"æ–°ç‰ˆæœ¬æ”¯æŒ\" /></li>\n</ol>\n<h2 id=\"ğŸ”ˆ-å¦‚ä½•ä½¿ç”¨\"><a href=\"#ğŸ”ˆ-å¦‚ä½•ä½¿ç”¨\" class=\"headerlink\" title=\"ğŸ”ˆ å¦‚ä½•ä½¿ç”¨\"></a>ğŸ”ˆ å¦‚ä½•ä½¿ç”¨</h2><h3 id=\"js-é¡¹ç›®å¼•å…¥\"><a href=\"#js-é¡¹ç›®å¼•å…¥\" class=\"headerlink\" title=\"js é¡¹ç›®å¼•å…¥\"></a>js é¡¹ç›®å¼•å…¥</h3><p>éœ€è¦å…‹éš†ä¸‹è½½è¯¥é¡¹ç›®, æ‰§è¡Œå‘½ä»¤<code>pnpm run build</code>ï¼Œ ä¹‹åä¼šåœ¨æ ¹ç›®å½•<code>dist</code>æ–‡ä»¶ä¸‹çœ‹åˆ°æ‰“åŒ…çš„å¯¹åº”çš„æ–‡ä»¶ä¿¡æ¯; æ ¹æ®ä¸åŒå¹³å°å¼•å…¥å³å¯;</p>\n<p>ä¸‹é¢ä»£ç ç¤ºä¾‹ä¸ºæµè§ˆå™¨çš„ä½¿ç”¨ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=<span class=\"string\">&quot;dist/index.umd.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  logReportingCore.<span class=\"title function_\">init</span>(&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// ä¸ŠæŠ¥åœ°å€</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">dsn</span>: <span class=\"string\">&#x27;http://localhost:8888/postLog&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// æ˜¯å¦å¼€å¯è°ƒè¯•</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">isDebug</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// æ˜¯å¦æ•è·é”™è¯¯</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">isError</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// æ˜¯å¦æ•è·console.error</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">isConsoleError</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// æ˜¯å¦æ•è·æ€§èƒ½</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">isPerformance</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// æ˜¯å¦æ•è·èµ„æº</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">isResource</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// æ˜¯å¦æ•è·è¯·æ±‚</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">isXhr</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// å±å¹•å½•åˆ¶</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">record</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">open</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">time</span>: <span class=\"number\">10</span> * <span class=\"number\">1000</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// åŠ å¯†æ–¹å¼</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">encryptMethod</span>: <span class=\"string\">&#x27;base64&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// ä¸ŠæŠ¥æ–¹å¼</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">method</span>: <span class=\"string\">&#x27;beacon&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// pvç»Ÿè®¡</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">isPv</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// æ›å…‰ç»Ÿè®¡</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">isExposure</span>: <span class=\"literal\">true</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"vue-é¡¹ç›®å¼•å…¥\"><a href=\"#vue-é¡¹ç›®å¼•å…¥\" class=\"headerlink\" title=\"vue é¡¹ç›®å¼•å…¥\"></a>vue é¡¹ç›®å¼•å…¥</h3><p>åœ¨<code>vue</code>ä¸­ä½¿ç”¨,<br><code>npm install @log-reporting/core</code> å®‰è£…ä¾èµ–</p>\n<p>åœ¨<code>main.js</code>ä¸­å¼•å…¥</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; init &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@log-reporting/core&quot;</span>;</span><br><span class=\"line\"><span class=\"title function_\">init</span>(&#123;&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€è¦å¼€å¯å¯¹åº”çš„é…ç½®ä¿¡æ¯;</p>\n<h2 id=\"ğŸ”ˆ-å…³äºpvç»Ÿè®¡ä¸æ›å…‰ç»Ÿè®¡\"><a href=\"#ğŸ”ˆ-å…³äºpvç»Ÿè®¡ä¸æ›å…‰ç»Ÿè®¡\" class=\"headerlink\" title=\"ğŸ”ˆ å…³äºpvç»Ÿè®¡ä¸æ›å…‰ç»Ÿè®¡\"></a>ğŸ”ˆ å…³äº<code>pvç»Ÿè®¡</code>ä¸<code>æ›å…‰ç»Ÿè®¡</code></h2><p>ç›®å‰ä»…ä»…æ”¯æŒæ‰‹åŠ¨ä¸ŠæŠ¥ï¼›</p>\n<ol>\n<li><code>pv</code>ç»Ÿè®¡ï¼š</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; lestenPv &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@log-reporting/core&quot;</span>;</span><br><span class=\"line\"><span class=\"title function_\">lestenPv</span>(&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// ç»Ÿè®¡ä¿¡æ¯</span></span><br><span class=\"line\">\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;æµ‹è¯•&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å…¶ä»–å‚æ•°éƒ½æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„</span></span><br><span class=\"line\">\t<span class=\"attr\">url</span>: <span class=\"string\">&quot;localhost:8888/getLogData&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">params</span>: &#123; <span class=\"attr\">a</span>: <span class=\"number\">123</span> &#125;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> interface <span class=\"title class_\">IPv</span> &#123;</span><br><span class=\"line\">\tmessage?: string;</span><br><span class=\"line\">\t[<span class=\"attr\">k</span>: string]: any;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li><code>æ›å…‰ç»Ÿè®¡</code>ï¼š</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; lestenExposure &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@log-reporting/core&quot;</span>;</span><br><span class=\"line\"><span class=\"title function_\">lestenExposure</span>(&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æ›å…‰å…ƒç´ </span></span><br><span class=\"line\">\t<span class=\"attr\">target</span>: <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;#btn10&quot;</span>),</span><br><span class=\"line\">\t<span class=\"comment\">// æ›å…‰ä¿¡æ¯</span></span><br><span class=\"line\">\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;æ›å…‰æŒ‰é’®&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">threshold</span>: <span class=\"number\">0.5</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å…¶ä»–å‚æ•°</span></span><br><span class=\"line\">\t<span class=\"attr\">params</span>: &#123; <span class=\"attr\">a</span>: <span class=\"number\">123</span> &#125;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> interface <span class=\"title class_\">IExposure</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">IPv</span> &#123;</span><br><span class=\"line\">\tthreshold?: number;</span><br><span class=\"line\">\ttarget?: any; <span class=\"comment\">// æ›å…‰çš„å…ƒç´ </span></span><br><span class=\"line\">\tparams?: <span class=\"title class_\">Record</span>&lt;string, any&gt;;</span><br><span class=\"line\">\ttime?: number;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ğŸ”ˆ-å±å¹•å½•åˆ¶\"><a href=\"#ğŸ”ˆ-å±å¹•å½•åˆ¶\" class=\"headerlink\" title=\"ğŸ”ˆ å±å¹•å½•åˆ¶\"></a>ğŸ”ˆ å±å¹•å½•åˆ¶</h2><p>è¯¥ç‰ˆæœ¬ä¸­æœ‰å†…ç½®çš„<code>å±å¹•å½•åˆ¶</code>åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯ç›¸å¯¹äºé”™è¯¯æ—¥å¿—çš„æ“ä½œè§†é¢‘è®°å½•ï¼›</p>\n<h3 id=\"ä¸ºä»€ä¹ˆè¦æ·»åŠ è¿™ä¸ªåŠŸèƒ½ï¼Ÿ\"><a href=\"#ä¸ºä»€ä¹ˆè¦æ·»åŠ è¿™ä¸ªåŠŸèƒ½ï¼Ÿ\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆè¦æ·»åŠ è¿™ä¸ªåŠŸèƒ½ï¼Ÿ\"></a>ä¸ºä»€ä¹ˆè¦æ·»åŠ è¿™ä¸ªåŠŸèƒ½ï¼Ÿ</h3><p>å› ä¸ºç›¸å¯¹äºæ—¥å¿—ä¸ŠæŠ¥ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨<code>çº¿ä¸Šç¯å¢ƒ</code>ä¸­èƒ½å¤Ÿè®°å½•ä¸€äº›æ“ä½œçš„è§†é¢‘ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½æ›´å¥½çš„äº†è§£ç”¨æˆ·çš„æ“ä½œæƒ…å†µï¼› ä½†æ˜¯ï¼Œç”±äº<code>æµè§ˆå™¨</code>æœ¬èº«å¯¹<code>å±å¹•å½•åˆ¶</code>çš„æ”¯æŒä¸æ˜¯å¾ˆå‹å¥½ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬è‡ªå·±å®ç°ï¼› æ‰€ä»¥ï¼Œæˆ‘ä»¬è‡ªå·±å®ç°äº†ä¸€ä¸ªç®€å•çš„<code>å±å¹•å½•åˆ¶</code>åŠŸèƒ½ï¼›</p>\n<p>å½“ç„¶ä¸»è¦æ˜¯å¼•å…¥äº†<a href=\"https://github.com/rrweb-io/rrweb\">rrweb</a>æ’ä»¶ï¼›</p>\n<h3 id=\"å±å¹•å½•åˆ¶çš„é…ç½®\"><a href=\"#å±å¹•å½•åˆ¶çš„é…ç½®\" class=\"headerlink\" title=\"å±å¹•å½•åˆ¶çš„é…ç½®\"></a>å±å¹•å½•åˆ¶çš„é…ç½®</h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  record<span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    open<span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span> <span class=\"comment\">// æ˜¯å¦å¼€å¯å½•åˆ¶</span></span><br><span class=\"line\">    time<span class=\"punctuation\">:</span> <span class=\"number\">10</span> * <span class=\"number\">1000</span> <span class=\"comment\">// å½•åˆ¶æ—¶é—´ï¼Œ æœ€å¤§æ—¶é—´ä¸º1åˆ†é’Ÿ</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><font color=\"#ff0000\">è®©ç„¶å¦‚æœæ‚¨è§‰å¾—è¯¥åŠŸèƒ½å¯èƒ½æ¶‰åŠåˆ°éšç§æƒ…å†µï¼Œæ‚¨å¯ä»¥é€‰æ‹©å…³é—­ï¼Œè¿™æ ·çš„è¯è§†é¢‘ä¿¡æ¯ä¸ä¼šè¿›è¡Œä¸ŠæŠ¥</font></p>\n<h3 id=\"è§†é¢‘ä¿¡æ¯çš„åŠ å¯†è§£å¯†\"><a href=\"#è§†é¢‘ä¿¡æ¯çš„åŠ å¯†è§£å¯†\" class=\"headerlink\" title=\"è§†é¢‘ä¿¡æ¯çš„åŠ å¯†è§£å¯†\"></a>è§†é¢‘ä¿¡æ¯çš„åŠ å¯†è§£å¯†</h3><p>ä¸ºäº†ä¿è¯å®‰å…¨æ€§ä»¥åŠæ€§èƒ½ï¼Œè§†é¢‘ä¿¡æ¯æ˜¯åšäº† <strong>å®‰å…¨åŠ å¯†</strong> çš„ï¼Œæ‰€ä»¥æ‚¨éœ€è¦è§£å¯†æ‰èƒ½ä½¿ç”¨ï¼›</p>\n<p>ç›®å‰åŠ å¯†çš„çš„æ–¹å¼åˆ†ä¸ºä¿©ä¸­ï¼š<strong>lz</strong> å’Œ <strong>base64</strong></p>\n<ul>\n<li><strong>åŠ å¯†ä½¿ç”¨ï¼š</strong> <code>encryptFun(value: Record&lt;string, any&gt;, k?: string)</code>;<ul>\n<li>è¯¥æ–¹æ³•æ˜¯å¯¹è±¡è¿›è¡ŒåŠ å¯†ï¼ŒåŠ å¯†åçš„æ•°æ®æ˜¯å­—ç¬¦ä¸², é»˜è®¤çš„åŠ å¯†</li>\n<li>k: å¯ä»¥æ˜¯å›ºå®šå€¼<code>snapshot</code>ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ï¼Œå½“<code>k</code>ä¸ºå…¶ä»–å€¼æ—¶ï¼Œé»˜è®¤åŠ å¯†æ–¹å¼ä¸º<code>base64</code></li>\n</ul>\n</li>\n<li><strong>è§£å¯†ä½¿ç”¨ï¼š</strong> <code>decryptionFun(value: string, k?: string)</code><ul>\n<li>è¯¥æ–¹æ³•æ˜¯è§£å¯†ï¼Œè§£å¯†åçš„æ•°æ®æ˜¯<code>object</code></li>\n<li>å°†æ‚¨åŠ å¯†åç­‰åˆ°çš„å­—ç¬¦ä¸²ç»™åˆ°è¯¥æ–¹æ³•å³å¯ï¼›<code>k</code>çš„ä½œç”¨ç±»ä¼¼äºä¸Šé¢çš„<code>k</code>ï¼›</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"è§£å¯†ä¹‹åå±•ç¤ºå›æ”¾\"><a href=\"#è§£å¯†ä¹‹åå±•ç¤ºå›æ”¾\" class=\"headerlink\" title=\"è§£å¯†ä¹‹åå±•ç¤ºå›æ”¾\"></a>è§£å¯†ä¹‹åå±•ç¤ºå›æ”¾</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; decryptionFun &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@log-reporting/core&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// data: æ¨¡ä»¿åç«¯è¿”å›çš„æ•°æ®</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; reportInfo &#125; = data;</span><br><span class=\"line\"><span class=\"comment\">// å¯¹æ•°æ®è¿›è¡Œè§£å¯†</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> videoData = <span class=\"title function_\">decryptionFun</span>(reportInfo.<span class=\"property\">snapshot</span>);</span><br><span class=\"line\"><span class=\"comment\">// ä½¿ç”¨rrwebè¿›è¡Œå›æ”¾ï¼Œ å½“ç„¶æ˜¯éœ€è¦å®‰è£…rrwebæ’ä»¶</span></span><br><span class=\"line\"><span class=\"comment\">// https://github.com/rrweb-io/rrweb/blob/master/README.zh_CN.md</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> player = <span class=\"keyword\">new</span> rrweb.<span class=\"title class_\">Replayer</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">parse</span>(videoData));</span><br><span class=\"line\"><span class=\"comment\">// è‡ªåŠ¨æ’­æ”¾</span></span><br><span class=\"line\">player.<span class=\"title function_\">play</span>();</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ğŸ”ˆ-é¢å¤–å¯¼å‡ºçš„æ–¹æ³•\"><a href=\"#ğŸ”ˆ-é¢å¤–å¯¼å‡ºçš„æ–¹æ³•\" class=\"headerlink\" title=\"ğŸ”ˆ é¢å¤–å¯¼å‡ºçš„æ–¹æ³•\"></a>ğŸ”ˆ é¢å¤–å¯¼å‡ºçš„æ–¹æ³•</h2><blockquote>\n<p>è¿™äº›æ–¹æ³•ä¸æ˜¯ä¸»è¦æ ¸å¿ƒæ–¹æ³•ï¼Œä¸€èˆ¬æƒ…å†µæ²¡ä»€ä¹ˆç”¨ï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™å¯èƒ½éœ€è¦ç”¨åˆ°ï¼Œæ‰€ä»¥è¿™é‡Œå¯¼å‡ºå‡ºæ¥ï¼›</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; _global, _support &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@log-reporting/core&quot;</span>;</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li><strong>_global:</strong> å…¨å±€å¯¹è±¡ï¼Œå¯ä»¥ç†è§£ä¸º<code>window</code></li>\n<li><strong>_supportï¼š</strong> åŸºç¡€ä¿¡æ¯å‚æ•°</li>\n</ol>\n<h2 id=\"ğŸ”ˆ-å…¶ä»–\"><a href=\"#ğŸ”ˆ-å…¶ä»–\" class=\"headerlink\" title=\"ğŸ”ˆ å…¶ä»–\"></a>ğŸ”ˆ å…¶ä»–</h2><h3 id=\"log-reortinging-types-ç±»å‹æ ¡éªŒ\"><a href=\"#log-reortinging-types-ç±»å‹æ ¡éªŒ\" class=\"headerlink\" title=\"@log-reortinging&#x2F;types - ç±»å‹æ ¡éªŒ\"></a>@log-reortinging&#x2F;types - ç±»å‹æ ¡éªŒ</h3><p><code>@log-reporting/core</code>æœ‰å†…ç½®çš„ç±»å‹æ ¡éªŒï¼Œå¦‚æœæ‚¨çš„é¡¹ç›®æ˜¯<code>ts</code>æ­å»ºï¼Œé‚£ä¹ˆéœ€è¦å†æ¬¡å®‰è£…<code>@log-reporting/types</code>ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç±»å‹æŠ¥é”™ï¼Œå½“ç„¶ï¼Œæ‚¨ä¹Ÿå¯ä»¥è‡ªè¡Œå®šä¹‰ç±»å‹ï¼Œä½†æ˜¯éœ€è¦æ‚¨è‡ªè¡Œä¿è¯ç±»å‹æ˜¯å¦æ­£ç¡®ï¼›</p>\n<p>å¦‚æœæ‚¨å¼•å…¥æ­£ç¡®ä¹‹åï¼Œä¸éœ€è¦ç‰¹æ®Šä½¿ç”¨å°±å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†ï¼›æ‚¨ä¹Ÿå¯ä»¥ç‚¹å‡»å†…ç½®<code>api</code>å¯ä»¥æŸ¥çœ‹æºç ç¼–è¯‘è€Œæˆçš„<code>index.d.ts</code>ï¼›</p>\n<h3 id=\"log-reporting-logger-æ—¥å¿—\"><a href=\"#log-reporting-logger-æ—¥å¿—\" class=\"headerlink\" title=\"@log-reporting&#x2F;logger - æ—¥å¿—\"></a>@log-reporting&#x2F;logger - æ—¥å¿—</h3><p><code>@log-reporting/logger</code>æ²¡æœ‰å¤ªå¤§çš„ç”¨å¤„ï¼Œå°±æ˜¯ä¾èµ–äº<code>@log-reporting/core</code>é…ç½®ä¸­çš„<code>debuge</code>äº§ç”Ÿçš„ï¼Œä¹Ÿå°±æ˜¯åœ¨<code>console.log</code>çš„åŸºç¡€ä¸Šåšäº†ä¸€å±‚ç¾åŒ–æ•ˆæœï¼Œ å½“ç„¶æ‚¨ä¹Ÿæ˜¯å¯ä»¥å…³é—­çš„ï¼Œé…ç½®å®Œå…¨æ˜¯è‡ªå®šä¹‰çš„ï¼›</p>\n","excerpt":"","more":"<h1 id=\"log-reporting-core-V2\"><a href=\"#log-reporting-core-V2\" class=\"headerlink\" title=\"@log-reporting&#x2F;core - V2\"></a>@log-reporting&#x2F;core - V2</h1><p><strong><font color=\"#ff0000\">å€¼å¾—æ³¨æ„: v2 ç‰ˆæœ¬çš„åŒ…ä¸ºâ€œ@log-reporting&#x2F;coreâ€, è€Œ v1 ç‰ˆæœ¬çš„åŒ…ä¸ºâ€œlog-reportingâ€ï¼› å†™æ³•å‚æ•°ç­‰å®Œå…¨æ˜¯ä¸ä¸€æ ·çš„ï¼Œv2 ç‰ˆæœ¬ä¸ºå…¨æ–°ç‰ˆæœ¬</font></strong></p>\n<p><strong>å½“ç„¶ï¼Œ v2 ç‰ˆæœ¬ç”±å†…ç½®çš„<code>types</code>ï¼Œ å¦‚æœæ‚¨çš„é¡¹ç›®å› ä¸ºå®‰è£…<code>@log-reporting/core</code>è€Œå¯¼è‡´<code>ts</code>ç±»å‹æŠ¥é”™ï¼Œé‚£å°±éœ€è¦æ‚¨å®‰è£…<code>@log-reporting/types</code>äº†ï¼Œè¿™æ ·å°±å¯ä»¥å®Œå…¨è§£å†³ç±»å‹æŠ¥é”™çš„é—®é¢˜ï¼›</strong></p>\n<p><strong>å½“å‰ç‰ˆæœ¬ä»…ä»…æ”¯æŒå®¢æˆ·ç«¯ä½¿ç”¨ï¼Œä¸æ”¯æŒåœ¨æœåŠ¡ç«¯ä½¿ç”¨</strong></p>\n<h2 id=\"ğŸ”ˆ-åœ°å€\"><a href=\"#ğŸ”ˆ-åœ°å€\" class=\"headerlink\" title=\"ğŸ”ˆ åœ°å€\"></a>ğŸ”ˆ åœ°å€</h2><ul>\n<li><a href=\"https://github.com/wangxiaoze-view/log-repeorting/blob/main/packages/core/README.md\">github åœ°å€</a></li>\n<li><a href=\"https://www.npmjs.com/package/@log-reporting/core\">npm åœ°å€</a></li>\n</ul>\n<h2 id=\"ğŸ”ˆ-æ³¨æ„äº‹é¡¹\"><a href=\"#ğŸ”ˆ-æ³¨æ„äº‹é¡¹\" class=\"headerlink\" title=\"ğŸ”ˆ æ³¨æ„äº‹é¡¹\"></a>ğŸ”ˆ æ³¨æ„äº‹é¡¹</h2><blockquote>\n<p>æœ¬ç³»ç»Ÿçš„å¼€å‘ç›®çš„å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸ºäº†åœ¨éƒ¨åˆ†æƒ…å†µä¸‹æœé›†å‰ç«¯çš„å¼‚å¸¸æ—¥å¿—ï¼Œç”¨äºåˆ†æå¼‚å¸¸æƒ…å†µ;<br>å¦‚ï¼šçº¿ä¸Šç¯å¢ƒçš„é¡¹ç›®æˆ‘ä»¬ä¼šå§ä¸€äº›æ—¥å¿—åˆ é™¤ï¼Œå¦‚æœå‰ç«¯æŠ¥é”™é‚£ä¹ˆæ—¥å¿—æ˜¯é¦–é€‰ï¼Œ è¿™æ ·çš„æƒ…å†µæˆ‘ä»¬ä¸çŸ¥é“æ˜¯å“ªé‡Œçš„æŠ¥é”™å¯¼è‡´é¡µé¢å´©æºƒçš„ï¼›<br>é‚£ä¹ˆå¼€å‘è¿™æ¬¾å·¥å…·å¸¸è§„æƒ…å†µä¸‹èƒ½è§£å†³å¤§éƒ¨åˆ†çš„é—®é¢˜ï¼›</p>\n</blockquote>\n<p>è¯¥ç‰ˆæœ¬ä¸ºå…¨æ–°ç‰ˆæœ¬, ä¸ä¹‹å‰çš„ç‰ˆæœ¬ä¼šæœ‰å¾ˆå¤§çš„åŒºåˆ«;</p>\n<h2 id=\"ğŸ”ˆ-æ—¥å¿—æœé›†èŒƒå›´\"><a href=\"#ğŸ”ˆ-æ—¥å¿—æœé›†èŒƒå›´\" class=\"headerlink\" title=\"ğŸ”ˆ æ—¥å¿—æœé›†èŒƒå›´\"></a>ğŸ”ˆ æ—¥å¿—æœé›†èŒƒå›´</h2><ol>\n<li>èµ„æºï¼šèµ„æºåœ°å€ä¸æ­£ç¡®æˆ–ä¸å­˜åœ¨å¯¼è‡´çš„èµ„æºå¼‚å¸¸</li>\n<li>ä»£ç ï¼šæœé›†æŠ¥é”™ä¿¡æ¯ï¼Œé¡µé¢çš„å´©æºƒç­‰ç­‰ï¼›</li>\n<li>è¯·æ±‚ï¼šæˆªè¯·æ±‚å‚æ•°é”™è¯¯ï¼Œè®¿é—®åœ°å€ä¸å­˜åœ¨ï¼Œå¼‚å¸¸æ‹¦</li>\n<li>é¢å¤–æ·»åŠ åŠŸèƒ½ï¼šæ”¯æŒå½•åˆ¶è‡ªå®šä¹‰æ—¶é—´çš„è§†é¢‘ï¼Œä½†æ˜¯æœ€å¤§æ—¶é—´ä¸èƒ½è¶…è¿‡ 1 åˆ†é’Ÿ;</li>\n<li>æ”¯æŒæ€§èƒ½ç›‘æ§, ç™½å±æ—¶é—´, é¡µé¢åŠ è½½æ—¶é—´ç­‰ç­‰; <Badge type=\"tip\" text=\"æ–°ç‰ˆæœ¬æ”¯æŒ\" /></li>\n<li>æ”¯æŒ<code>pv</code>é¡µé¢æµè§ˆ, éœ€è¦æ‰‹åŠ¨æäº¤; <Badge type=\"tip\" text=\"æ–°ç‰ˆæœ¬æ”¯æŒ\" /></li>\n<li>æ”¯æŒ<code>æ›å…‰</code>, éœ€è¦æ‰‹åŠ¨è®¾ç½®å¯¹åº”çš„å…ƒç´ (ä»…æ”¯æŒåœ¨å¯æ˜¯åŒºåŸŸå†…); <Badge type=\"tip\" text=\"æ–°ç‰ˆæœ¬æ”¯æŒ\" /></li>\n</ol>\n<h2 id=\"ğŸ”ˆ-å¦‚ä½•ä½¿ç”¨\"><a href=\"#ğŸ”ˆ-å¦‚ä½•ä½¿ç”¨\" class=\"headerlink\" title=\"ğŸ”ˆ å¦‚ä½•ä½¿ç”¨\"></a>ğŸ”ˆ å¦‚ä½•ä½¿ç”¨</h2><h3 id=\"js-é¡¹ç›®å¼•å…¥\"><a href=\"#js-é¡¹ç›®å¼•å…¥\" class=\"headerlink\" title=\"js é¡¹ç›®å¼•å…¥\"></a>js é¡¹ç›®å¼•å…¥</h3><p>éœ€è¦å…‹éš†ä¸‹è½½è¯¥é¡¹ç›®, æ‰§è¡Œå‘½ä»¤<code>pnpm run build</code>ï¼Œ ä¹‹åä¼šåœ¨æ ¹ç›®å½•<code>dist</code>æ–‡ä»¶ä¸‹çœ‹åˆ°æ‰“åŒ…çš„å¯¹åº”çš„æ–‡ä»¶ä¿¡æ¯; æ ¹æ®ä¸åŒå¹³å°å¼•å…¥å³å¯;</p>\n<p>ä¸‹é¢ä»£ç ç¤ºä¾‹ä¸ºæµè§ˆå™¨çš„ä½¿ç”¨ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=<span class=\"string\">&quot;dist/index.umd.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  logReportingCore.<span class=\"title function_\">init</span>(&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// ä¸ŠæŠ¥åœ°å€</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">dsn</span>: <span class=\"string\">&#x27;http://localhost:8888/postLog&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// æ˜¯å¦å¼€å¯è°ƒè¯•</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">isDebug</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// æ˜¯å¦æ•è·é”™è¯¯</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">isError</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// æ˜¯å¦æ•è·console.error</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">isConsoleError</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// æ˜¯å¦æ•è·æ€§èƒ½</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">isPerformance</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// æ˜¯å¦æ•è·èµ„æº</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">isResource</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// æ˜¯å¦æ•è·è¯·æ±‚</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">isXhr</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// å±å¹•å½•åˆ¶</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">record</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">open</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">time</span>: <span class=\"number\">10</span> * <span class=\"number\">1000</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// åŠ å¯†æ–¹å¼</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">encryptMethod</span>: <span class=\"string\">&#x27;base64&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// ä¸ŠæŠ¥æ–¹å¼</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">method</span>: <span class=\"string\">&#x27;beacon&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// pvç»Ÿè®¡</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">isPv</span>: <span class=\"literal\">true</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">// æ›å…‰ç»Ÿè®¡</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">isExposure</span>: <span class=\"literal\">true</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"vue-é¡¹ç›®å¼•å…¥\"><a href=\"#vue-é¡¹ç›®å¼•å…¥\" class=\"headerlink\" title=\"vue é¡¹ç›®å¼•å…¥\"></a>vue é¡¹ç›®å¼•å…¥</h3><p>åœ¨<code>vue</code>ä¸­ä½¿ç”¨,<br><code>npm install @log-reporting/core</code> å®‰è£…ä¾èµ–</p>\n<p>åœ¨<code>main.js</code>ä¸­å¼•å…¥</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; init &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@log-reporting/core&quot;</span>;</span><br><span class=\"line\"><span class=\"title function_\">init</span>(&#123;&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€è¦å¼€å¯å¯¹åº”çš„é…ç½®ä¿¡æ¯;</p>\n<h2 id=\"ğŸ”ˆ-å…³äºpvç»Ÿè®¡ä¸æ›å…‰ç»Ÿè®¡\"><a href=\"#ğŸ”ˆ-å…³äºpvç»Ÿè®¡ä¸æ›å…‰ç»Ÿè®¡\" class=\"headerlink\" title=\"ğŸ”ˆ å…³äºpvç»Ÿè®¡ä¸æ›å…‰ç»Ÿè®¡\"></a>ğŸ”ˆ å…³äº<code>pvç»Ÿè®¡</code>ä¸<code>æ›å…‰ç»Ÿè®¡</code></h2><p>ç›®å‰ä»…ä»…æ”¯æŒæ‰‹åŠ¨ä¸ŠæŠ¥ï¼›</p>\n<ol>\n<li><code>pv</code>ç»Ÿè®¡ï¼š</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; lestenPv &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@log-reporting/core&quot;</span>;</span><br><span class=\"line\"><span class=\"title function_\">lestenPv</span>(&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// ç»Ÿè®¡ä¿¡æ¯</span></span><br><span class=\"line\">\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;æµ‹è¯•&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å…¶ä»–å‚æ•°éƒ½æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„</span></span><br><span class=\"line\">\t<span class=\"attr\">url</span>: <span class=\"string\">&quot;localhost:8888/getLogData&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">params</span>: &#123; <span class=\"attr\">a</span>: <span class=\"number\">123</span> &#125;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> interface <span class=\"title class_\">IPv</span> &#123;</span><br><span class=\"line\">\tmessage?: string;</span><br><span class=\"line\">\t[<span class=\"attr\">k</span>: string]: any;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li><code>æ›å…‰ç»Ÿè®¡</code>ï¼š</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; lestenExposure &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@log-reporting/core&quot;</span>;</span><br><span class=\"line\"><span class=\"title function_\">lestenExposure</span>(&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æ›å…‰å…ƒç´ </span></span><br><span class=\"line\">\t<span class=\"attr\">target</span>: <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;#btn10&quot;</span>),</span><br><span class=\"line\">\t<span class=\"comment\">// æ›å…‰ä¿¡æ¯</span></span><br><span class=\"line\">\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;æ›å…‰æŒ‰é’®&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">threshold</span>: <span class=\"number\">0.5</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å…¶ä»–å‚æ•°</span></span><br><span class=\"line\">\t<span class=\"attr\">params</span>: &#123; <span class=\"attr\">a</span>: <span class=\"number\">123</span> &#125;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> interface <span class=\"title class_\">IExposure</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">IPv</span> &#123;</span><br><span class=\"line\">\tthreshold?: number;</span><br><span class=\"line\">\ttarget?: any; <span class=\"comment\">// æ›å…‰çš„å…ƒç´ </span></span><br><span class=\"line\">\tparams?: <span class=\"title class_\">Record</span>&lt;string, any&gt;;</span><br><span class=\"line\">\ttime?: number;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ğŸ”ˆ-å±å¹•å½•åˆ¶\"><a href=\"#ğŸ”ˆ-å±å¹•å½•åˆ¶\" class=\"headerlink\" title=\"ğŸ”ˆ å±å¹•å½•åˆ¶\"></a>ğŸ”ˆ å±å¹•å½•åˆ¶</h2><p>è¯¥ç‰ˆæœ¬ä¸­æœ‰å†…ç½®çš„<code>å±å¹•å½•åˆ¶</code>åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯ç›¸å¯¹äºé”™è¯¯æ—¥å¿—çš„æ“ä½œè§†é¢‘è®°å½•ï¼›</p>\n<h3 id=\"ä¸ºä»€ä¹ˆè¦æ·»åŠ è¿™ä¸ªåŠŸèƒ½ï¼Ÿ\"><a href=\"#ä¸ºä»€ä¹ˆè¦æ·»åŠ è¿™ä¸ªåŠŸèƒ½ï¼Ÿ\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆè¦æ·»åŠ è¿™ä¸ªåŠŸèƒ½ï¼Ÿ\"></a>ä¸ºä»€ä¹ˆè¦æ·»åŠ è¿™ä¸ªåŠŸèƒ½ï¼Ÿ</h3><p>å› ä¸ºç›¸å¯¹äºæ—¥å¿—ä¸ŠæŠ¥ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨<code>çº¿ä¸Šç¯å¢ƒ</code>ä¸­èƒ½å¤Ÿè®°å½•ä¸€äº›æ“ä½œçš„è§†é¢‘ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½æ›´å¥½çš„äº†è§£ç”¨æˆ·çš„æ“ä½œæƒ…å†µï¼› ä½†æ˜¯ï¼Œç”±äº<code>æµè§ˆå™¨</code>æœ¬èº«å¯¹<code>å±å¹•å½•åˆ¶</code>çš„æ”¯æŒä¸æ˜¯å¾ˆå‹å¥½ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬è‡ªå·±å®ç°ï¼› æ‰€ä»¥ï¼Œæˆ‘ä»¬è‡ªå·±å®ç°äº†ä¸€ä¸ªç®€å•çš„<code>å±å¹•å½•åˆ¶</code>åŠŸèƒ½ï¼›</p>\n<p>å½“ç„¶ä¸»è¦æ˜¯å¼•å…¥äº†<a href=\"https://github.com/rrweb-io/rrweb\">rrweb</a>æ’ä»¶ï¼›</p>\n<h3 id=\"å±å¹•å½•åˆ¶çš„é…ç½®\"><a href=\"#å±å¹•å½•åˆ¶çš„é…ç½®\" class=\"headerlink\" title=\"å±å¹•å½•åˆ¶çš„é…ç½®\"></a>å±å¹•å½•åˆ¶çš„é…ç½®</h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  record<span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    open<span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span> <span class=\"comment\">// æ˜¯å¦å¼€å¯å½•åˆ¶</span></span><br><span class=\"line\">    time<span class=\"punctuation\">:</span> <span class=\"number\">10</span> * <span class=\"number\">1000</span> <span class=\"comment\">// å½•åˆ¶æ—¶é—´ï¼Œ æœ€å¤§æ—¶é—´ä¸º1åˆ†é’Ÿ</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><font color=\"#ff0000\">è®©ç„¶å¦‚æœæ‚¨è§‰å¾—è¯¥åŠŸèƒ½å¯èƒ½æ¶‰åŠåˆ°éšç§æƒ…å†µï¼Œæ‚¨å¯ä»¥é€‰æ‹©å…³é—­ï¼Œè¿™æ ·çš„è¯è§†é¢‘ä¿¡æ¯ä¸ä¼šè¿›è¡Œä¸ŠæŠ¥</font></p>\n<h3 id=\"è§†é¢‘ä¿¡æ¯çš„åŠ å¯†è§£å¯†\"><a href=\"#è§†é¢‘ä¿¡æ¯çš„åŠ å¯†è§£å¯†\" class=\"headerlink\" title=\"è§†é¢‘ä¿¡æ¯çš„åŠ å¯†è§£å¯†\"></a>è§†é¢‘ä¿¡æ¯çš„åŠ å¯†è§£å¯†</h3><p>ä¸ºäº†ä¿è¯å®‰å…¨æ€§ä»¥åŠæ€§èƒ½ï¼Œè§†é¢‘ä¿¡æ¯æ˜¯åšäº† <strong>å®‰å…¨åŠ å¯†</strong> çš„ï¼Œæ‰€ä»¥æ‚¨éœ€è¦è§£å¯†æ‰èƒ½ä½¿ç”¨ï¼›</p>\n<p>ç›®å‰åŠ å¯†çš„çš„æ–¹å¼åˆ†ä¸ºä¿©ä¸­ï¼š<strong>lz</strong> å’Œ <strong>base64</strong></p>\n<ul>\n<li><strong>åŠ å¯†ä½¿ç”¨ï¼š</strong> <code>encryptFun(value: Record&lt;string, any&gt;, k?: string)</code>;<ul>\n<li>è¯¥æ–¹æ³•æ˜¯å¯¹è±¡è¿›è¡ŒåŠ å¯†ï¼ŒåŠ å¯†åçš„æ•°æ®æ˜¯å­—ç¬¦ä¸², é»˜è®¤çš„åŠ å¯†</li>\n<li>k: å¯ä»¥æ˜¯å›ºå®šå€¼<code>snapshot</code>ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ï¼Œå½“<code>k</code>ä¸ºå…¶ä»–å€¼æ—¶ï¼Œé»˜è®¤åŠ å¯†æ–¹å¼ä¸º<code>base64</code></li>\n</ul>\n</li>\n<li><strong>è§£å¯†ä½¿ç”¨ï¼š</strong> <code>decryptionFun(value: string, k?: string)</code><ul>\n<li>è¯¥æ–¹æ³•æ˜¯è§£å¯†ï¼Œè§£å¯†åçš„æ•°æ®æ˜¯<code>object</code></li>\n<li>å°†æ‚¨åŠ å¯†åç­‰åˆ°çš„å­—ç¬¦ä¸²ç»™åˆ°è¯¥æ–¹æ³•å³å¯ï¼›<code>k</code>çš„ä½œç”¨ç±»ä¼¼äºä¸Šé¢çš„<code>k</code>ï¼›</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"è§£å¯†ä¹‹åå±•ç¤ºå›æ”¾\"><a href=\"#è§£å¯†ä¹‹åå±•ç¤ºå›æ”¾\" class=\"headerlink\" title=\"è§£å¯†ä¹‹åå±•ç¤ºå›æ”¾\"></a>è§£å¯†ä¹‹åå±•ç¤ºå›æ”¾</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; decryptionFun &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@log-reporting/core&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// data: æ¨¡ä»¿åç«¯è¿”å›çš„æ•°æ®</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; reportInfo &#125; = data;</span><br><span class=\"line\"><span class=\"comment\">// å¯¹æ•°æ®è¿›è¡Œè§£å¯†</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> videoData = <span class=\"title function_\">decryptionFun</span>(reportInfo.<span class=\"property\">snapshot</span>);</span><br><span class=\"line\"><span class=\"comment\">// ä½¿ç”¨rrwebè¿›è¡Œå›æ”¾ï¼Œ å½“ç„¶æ˜¯éœ€è¦å®‰è£…rrwebæ’ä»¶</span></span><br><span class=\"line\"><span class=\"comment\">// https://github.com/rrweb-io/rrweb/blob/master/README.zh_CN.md</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> player = <span class=\"keyword\">new</span> rrweb.<span class=\"title class_\">Replayer</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">parse</span>(videoData));</span><br><span class=\"line\"><span class=\"comment\">// è‡ªåŠ¨æ’­æ”¾</span></span><br><span class=\"line\">player.<span class=\"title function_\">play</span>();</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ğŸ”ˆ-é¢å¤–å¯¼å‡ºçš„æ–¹æ³•\"><a href=\"#ğŸ”ˆ-é¢å¤–å¯¼å‡ºçš„æ–¹æ³•\" class=\"headerlink\" title=\"ğŸ”ˆ é¢å¤–å¯¼å‡ºçš„æ–¹æ³•\"></a>ğŸ”ˆ é¢å¤–å¯¼å‡ºçš„æ–¹æ³•</h2><blockquote>\n<p>è¿™äº›æ–¹æ³•ä¸æ˜¯ä¸»è¦æ ¸å¿ƒæ–¹æ³•ï¼Œä¸€èˆ¬æƒ…å†µæ²¡ä»€ä¹ˆç”¨ï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™å¯èƒ½éœ€è¦ç”¨åˆ°ï¼Œæ‰€ä»¥è¿™é‡Œå¯¼å‡ºå‡ºæ¥ï¼›</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; _global, _support &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@log-reporting/core&quot;</span>;</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li><strong>_global:</strong> å…¨å±€å¯¹è±¡ï¼Œå¯ä»¥ç†è§£ä¸º<code>window</code></li>\n<li><strong>_supportï¼š</strong> åŸºç¡€ä¿¡æ¯å‚æ•°</li>\n</ol>\n<h2 id=\"ğŸ”ˆ-å…¶ä»–\"><a href=\"#ğŸ”ˆ-å…¶ä»–\" class=\"headerlink\" title=\"ğŸ”ˆ å…¶ä»–\"></a>ğŸ”ˆ å…¶ä»–</h2><h3 id=\"log-reortinging-types-ç±»å‹æ ¡éªŒ\"><a href=\"#log-reortinging-types-ç±»å‹æ ¡éªŒ\" class=\"headerlink\" title=\"@log-reortinging&#x2F;types - ç±»å‹æ ¡éªŒ\"></a>@log-reortinging&#x2F;types - ç±»å‹æ ¡éªŒ</h3><p><code>@log-reporting/core</code>æœ‰å†…ç½®çš„ç±»å‹æ ¡éªŒï¼Œå¦‚æœæ‚¨çš„é¡¹ç›®æ˜¯<code>ts</code>æ­å»ºï¼Œé‚£ä¹ˆéœ€è¦å†æ¬¡å®‰è£…<code>@log-reporting/types</code>ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç±»å‹æŠ¥é”™ï¼Œå½“ç„¶ï¼Œæ‚¨ä¹Ÿå¯ä»¥è‡ªè¡Œå®šä¹‰ç±»å‹ï¼Œä½†æ˜¯éœ€è¦æ‚¨è‡ªè¡Œä¿è¯ç±»å‹æ˜¯å¦æ­£ç¡®ï¼›</p>\n<p>å¦‚æœæ‚¨å¼•å…¥æ­£ç¡®ä¹‹åï¼Œä¸éœ€è¦ç‰¹æ®Šä½¿ç”¨å°±å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†ï¼›æ‚¨ä¹Ÿå¯ä»¥ç‚¹å‡»å†…ç½®<code>api</code>å¯ä»¥æŸ¥çœ‹æºç ç¼–è¯‘è€Œæˆçš„<code>index.d.ts</code>ï¼›</p>\n<h3 id=\"log-reporting-logger-æ—¥å¿—\"><a href=\"#log-reporting-logger-æ—¥å¿—\" class=\"headerlink\" title=\"@log-reporting&#x2F;logger - æ—¥å¿—\"></a>@log-reporting&#x2F;logger - æ—¥å¿—</h3><p><code>@log-reporting/logger</code>æ²¡æœ‰å¤ªå¤§çš„ç”¨å¤„ï¼Œå°±æ˜¯ä¾èµ–äº<code>@log-reporting/core</code>é…ç½®ä¸­çš„<code>debuge</code>äº§ç”Ÿçš„ï¼Œä¹Ÿå°±æ˜¯åœ¨<code>console.log</code>çš„åŸºç¡€ä¸Šåšäº†ä¸€å±‚ç¾åŒ–æ•ˆæœï¼Œ å½“ç„¶æ‚¨ä¹Ÿæ˜¯å¯ä»¥å…³é—­çš„ï¼Œé…ç½®å®Œå…¨æ˜¯è‡ªå®šä¹‰çš„ï¼›</p>\n"},{"title":"æˆ‘çš„é¡¹ç›®-æ¡Œé¢ç«¯é¡¹ç›®å¸¸è§é—®é¢˜","abbrlink":"e7823bf2","date":"2024-10-08T01:05:01.000Z","_content":"\n# å¸¸è§é—®é¢˜\n\n## node é¡µé¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰å¦‚å›¾\n\n> é‚£ä¹ˆæ£€æµ‹åˆ°æ‚¨è¿˜æœªé…ç½®å¯¹åº”çš„ç¯å¢ƒå˜é‡ï¼Œéœ€æ‰‹åŠ¨é…ç½®ï¼› [ç¯å¢ƒé…ç½®](/personal/dev-tools/env.html)\n\n![install](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.67xcldj0yr.webp)\n\n## åˆ‡æ¢é•œåƒæºæœªæ›´æ–°\n\n### windows\n\né¦–å…ˆç¡®è®¤ä»¥ä¸‹ `C:\\Users\\Administrator` ä¸‹æœ‰æ²¡æœ‰ `.npmrc` æ–‡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œè¯·åˆ é™¤ `C:\\Users\\Administrator` ä¸‹çš„ `.npmrc` æ–‡ä»¶ï¼Œç„¶åé‡å¯ `node` é¡µé¢ï¼Œå³å¯æ›´æ–°é•œåƒæºã€‚\n\n### mac/linux\n\næŸ¥çœ‹æ ¹ç›®å½•ï¼Œ `.npmrc` æ–‡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œè¯·åˆ é™¤ `.npmrc` æ–‡ä»¶ï¼Œç„¶åé‡å¯ `node` é¡µé¢ï¼Œå³å¯æ›´æ–°é•œåƒæºã€‚`\n\nåˆ‡æ¢ä¹‹åéœ€è¦é‡å¯è½¯ä»¶ï¼›\n\n## è½¯ä»¶æ‰“å¼€é¡µé¢é—ªé€€\n\nè½¯ä»¶ç‰ˆæœ¬æœ‰é—®é¢˜ï¼Œå¯å¸è½½ä¹‹ååœ¨é‡æ–°å®‰è£…ï¼›å¦‚æœè¿˜æ˜¯ä¸€æ ·ï¼Œé‚£ä¹ˆè¯·æäº¤ [issues](https://github.com/wangxiaoze-view/dev-tools/issues)\n","source":"_posts/æˆ‘çš„é¡¹ç›®/æ¡Œé¢ç«¯å¼€å‘å·¥å…·/å¸¸è§é—®é¢˜.md","raw":"---\ntitle: æˆ‘çš„é¡¹ç›®-æ¡Œé¢ç«¯é¡¹ç›®å¸¸è§é—®é¢˜\nabbrlink: e7823bf2\ndate: 2024-10-08 09:05:01\ncategories:\n  - æˆ‘çš„é¡¹ç›®\ntags:\n  - é¡¹ç›®\n---\n\n# å¸¸è§é—®é¢˜\n\n## node é¡µé¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰å¦‚å›¾\n\n> é‚£ä¹ˆæ£€æµ‹åˆ°æ‚¨è¿˜æœªé…ç½®å¯¹åº”çš„ç¯å¢ƒå˜é‡ï¼Œéœ€æ‰‹åŠ¨é…ç½®ï¼› [ç¯å¢ƒé…ç½®](/personal/dev-tools/env.html)\n\n![install](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.67xcldj0yr.webp)\n\n## åˆ‡æ¢é•œåƒæºæœªæ›´æ–°\n\n### windows\n\né¦–å…ˆç¡®è®¤ä»¥ä¸‹ `C:\\Users\\Administrator` ä¸‹æœ‰æ²¡æœ‰ `.npmrc` æ–‡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œè¯·åˆ é™¤ `C:\\Users\\Administrator` ä¸‹çš„ `.npmrc` æ–‡ä»¶ï¼Œç„¶åé‡å¯ `node` é¡µé¢ï¼Œå³å¯æ›´æ–°é•œåƒæºã€‚\n\n### mac/linux\n\næŸ¥çœ‹æ ¹ç›®å½•ï¼Œ `.npmrc` æ–‡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œè¯·åˆ é™¤ `.npmrc` æ–‡ä»¶ï¼Œç„¶åé‡å¯ `node` é¡µé¢ï¼Œå³å¯æ›´æ–°é•œåƒæºã€‚`\n\nåˆ‡æ¢ä¹‹åéœ€è¦é‡å¯è½¯ä»¶ï¼›\n\n## è½¯ä»¶æ‰“å¼€é¡µé¢é—ªé€€\n\nè½¯ä»¶ç‰ˆæœ¬æœ‰é—®é¢˜ï¼Œå¯å¸è½½ä¹‹ååœ¨é‡æ–°å®‰è£…ï¼›å¦‚æœè¿˜æ˜¯ä¸€æ ·ï¼Œé‚£ä¹ˆè¯·æäº¤ [issues](https://github.com/wangxiaoze-view/dev-tools/issues)\n","slug":"æˆ‘çš„é¡¹ç›®/æ¡Œé¢ç«¯å¼€å‘å·¥å…·/å¸¸è§é—®é¢˜","published":1,"updated":"2025-03-13T10:16:16.180Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0ix002gfg9m904u44au","content":"<h1 id=\"å¸¸è§é—®é¢˜\"><a href=\"#å¸¸è§é—®é¢˜\" class=\"headerlink\" title=\"å¸¸è§é—®é¢˜\"></a>å¸¸è§é—®é¢˜</h1><h2 id=\"node-é¡µé¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰å¦‚å›¾\"><a href=\"#node-é¡µé¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰å¦‚å›¾\" class=\"headerlink\" title=\"node é¡µé¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰å¦‚å›¾\"></a>node é¡µé¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰å¦‚å›¾</h2><blockquote>\n<p>é‚£ä¹ˆæ£€æµ‹åˆ°æ‚¨è¿˜æœªé…ç½®å¯¹åº”çš„ç¯å¢ƒå˜é‡ï¼Œéœ€æ‰‹åŠ¨é…ç½®ï¼› <a href=\"/personal/dev-tools/env.html\">ç¯å¢ƒé…ç½®</a></p>\n</blockquote>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.67xcldj0yr.webp\" alt=\"install\"></p>\n<h2 id=\"åˆ‡æ¢é•œåƒæºæœªæ›´æ–°\"><a href=\"#åˆ‡æ¢é•œåƒæºæœªæ›´æ–°\" class=\"headerlink\" title=\"åˆ‡æ¢é•œåƒæºæœªæ›´æ–°\"></a>åˆ‡æ¢é•œåƒæºæœªæ›´æ–°</h2><h3 id=\"windows\"><a href=\"#windows\" class=\"headerlink\" title=\"windows\"></a>windows</h3><p>é¦–å…ˆç¡®è®¤ä»¥ä¸‹ <code>C:\\Users\\Administrator</code> ä¸‹æœ‰æ²¡æœ‰ <code>.npmrc</code> æ–‡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œè¯·åˆ é™¤ <code>C:\\Users\\Administrator</code> ä¸‹çš„ <code>.npmrc</code> æ–‡ä»¶ï¼Œç„¶åé‡å¯ <code>node</code> é¡µé¢ï¼Œå³å¯æ›´æ–°é•œåƒæºã€‚</p>\n<h3 id=\"mac-linux\"><a href=\"#mac-linux\" class=\"headerlink\" title=\"mac&#x2F;linux\"></a>mac&#x2F;linux</h3><p>æŸ¥çœ‹æ ¹ç›®å½•ï¼Œ <code>.npmrc</code> æ–‡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œè¯·åˆ é™¤ <code>.npmrc</code> æ–‡ä»¶ï¼Œç„¶åé‡å¯ <code>node</code> é¡µé¢ï¼Œå³å¯æ›´æ–°é•œåƒæºã€‚&#96;</p>\n<p>åˆ‡æ¢ä¹‹åéœ€è¦é‡å¯è½¯ä»¶ï¼›</p>\n<h2 id=\"è½¯ä»¶æ‰“å¼€é¡µé¢é—ªé€€\"><a href=\"#è½¯ä»¶æ‰“å¼€é¡µé¢é—ªé€€\" class=\"headerlink\" title=\"è½¯ä»¶æ‰“å¼€é¡µé¢é—ªé€€\"></a>è½¯ä»¶æ‰“å¼€é¡µé¢é—ªé€€</h2><p>è½¯ä»¶ç‰ˆæœ¬æœ‰é—®é¢˜ï¼Œå¯å¸è½½ä¹‹ååœ¨é‡æ–°å®‰è£…ï¼›å¦‚æœè¿˜æ˜¯ä¸€æ ·ï¼Œé‚£ä¹ˆè¯·æäº¤ <a href=\"https://github.com/wangxiaoze-view/dev-tools/issues\">issues</a></p>\n","excerpt":"","more":"<h1 id=\"å¸¸è§é—®é¢˜\"><a href=\"#å¸¸è§é—®é¢˜\" class=\"headerlink\" title=\"å¸¸è§é—®é¢˜\"></a>å¸¸è§é—®é¢˜</h1><h2 id=\"node-é¡µé¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰å¦‚å›¾\"><a href=\"#node-é¡µé¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰å¦‚å›¾\" class=\"headerlink\" title=\"node é¡µé¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰å¦‚å›¾\"></a>node é¡µé¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰å¦‚å›¾</h2><blockquote>\n<p>é‚£ä¹ˆæ£€æµ‹åˆ°æ‚¨è¿˜æœªé…ç½®å¯¹åº”çš„ç¯å¢ƒå˜é‡ï¼Œéœ€æ‰‹åŠ¨é…ç½®ï¼› <a href=\"/personal/dev-tools/env.html\">ç¯å¢ƒé…ç½®</a></p>\n</blockquote>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.67xcldj0yr.webp\" alt=\"install\"></p>\n<h2 id=\"åˆ‡æ¢é•œåƒæºæœªæ›´æ–°\"><a href=\"#åˆ‡æ¢é•œåƒæºæœªæ›´æ–°\" class=\"headerlink\" title=\"åˆ‡æ¢é•œåƒæºæœªæ›´æ–°\"></a>åˆ‡æ¢é•œåƒæºæœªæ›´æ–°</h2><h3 id=\"windows\"><a href=\"#windows\" class=\"headerlink\" title=\"windows\"></a>windows</h3><p>é¦–å…ˆç¡®è®¤ä»¥ä¸‹ <code>C:\\Users\\Administrator</code> ä¸‹æœ‰æ²¡æœ‰ <code>.npmrc</code> æ–‡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œè¯·åˆ é™¤ <code>C:\\Users\\Administrator</code> ä¸‹çš„ <code>.npmrc</code> æ–‡ä»¶ï¼Œç„¶åé‡å¯ <code>node</code> é¡µé¢ï¼Œå³å¯æ›´æ–°é•œåƒæºã€‚</p>\n<h3 id=\"mac-linux\"><a href=\"#mac-linux\" class=\"headerlink\" title=\"mac&#x2F;linux\"></a>mac&#x2F;linux</h3><p>æŸ¥çœ‹æ ¹ç›®å½•ï¼Œ <code>.npmrc</code> æ–‡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œè¯·åˆ é™¤ <code>.npmrc</code> æ–‡ä»¶ï¼Œç„¶åé‡å¯ <code>node</code> é¡µé¢ï¼Œå³å¯æ›´æ–°é•œåƒæºã€‚&#96;</p>\n<p>åˆ‡æ¢ä¹‹åéœ€è¦é‡å¯è½¯ä»¶ï¼›</p>\n<h2 id=\"è½¯ä»¶æ‰“å¼€é¡µé¢é—ªé€€\"><a href=\"#è½¯ä»¶æ‰“å¼€é¡µé¢é—ªé€€\" class=\"headerlink\" title=\"è½¯ä»¶æ‰“å¼€é¡µé¢é—ªé€€\"></a>è½¯ä»¶æ‰“å¼€é¡µé¢é—ªé€€</h2><p>è½¯ä»¶ç‰ˆæœ¬æœ‰é—®é¢˜ï¼Œå¯å¸è½½ä¹‹ååœ¨é‡æ–°å®‰è£…ï¼›å¦‚æœè¿˜æ˜¯ä¸€æ ·ï¼Œé‚£ä¹ˆè¯·æäº¤ <a href=\"https://github.com/wangxiaoze-view/dev-tools/issues\">issues</a></p>\n"},{"title":"æˆ‘çš„é¡¹ç›®-æ¡Œé¢ç«¯é¡¹ç›®ç¯å¢ƒé…ç½®","abbrlink":"80fd3486","date":"2024-10-08T01:05:01.000Z","_content":"# ç¯å¢ƒé…ç½®\n\n\nç›®å‰è¯¥è½¯ä»¶è¿˜åšä¸åˆ°ä¸€ä½“åŒ–æ“ä½œï¼Œæœ‰äº›ç¯å¢ƒéœ€è¦æ‰‹åŠ¨é…ç½®ï¼›ä¸»è¦éœ€è¦é…ç½®çš„æ˜¯ node ç›¸å…³ç¯å¢ƒå˜é‡\n\n\n## è‡ªåŠ¨å®‰è£…\n\n![install](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.67xcldj0yr.webp)\n\nå¦‚æœæ‚¨è¿˜æœªå®‰è£…`fnm`, é‚£ä¹ˆæ‚¨å¯ä»¥ç‚¹å‡»æŒ‰é’®å°±è¡Œå®‰è£…ï¼Œç‚¹å‡»ä¹‹åä¼šè‡ªåŠ¨è¿›è¡Œå®‰è£…ï¼Œå¦‚æœæ‚¨å®‰è£…å¤±è´¥äº†ï¼Œé‚£ä¹ˆéœ€è¦æ‰‹åŠ¨å®‰è£…ï¼Œå…·ä½“å®‰è£…æ–¹æ³•å¯ä»¥å‚è€ƒ[**fnm**](https://github.com/Schniz/fnm)\n\n![install](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2vemr051xe.webp)\n\n## æ‰‹åŠ¨å®‰è£…\n\nå¦‚æœæ‚¨æ‰§è¡Œè¿™ä¸€æ­¥ï¼Œé‚£ä¹ˆæ‚¨åº”è¯¥æ˜¯è‡ªåŠ¨å®‰è£…å¤±è´¥äº†ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦æ‰§è¡Œä»¥ä¸‹å‡ ä¸ªæ­¥éª¤å³å¯ï¼›\n\nå¦‚æœæ‚¨æ˜¯`mac/linux`é‚£ä¹ˆè¯·æŸ¥çœ‹[è¿™é‡Œ](https://github.com/Schniz/fnm/blob/master/README.md#installation)\n\n### ä¸‹è½½ fnm\n\næ‚¨å¯ä»¥åœ¨ç‚¹å‡»[ä¸‹è½½](https://github.com/Schniz/fnm/releases/tag/v1.37.1)ä¸‹è½½ä¸åŒå¹³å°ç‰ˆæœ¬ï¼›\n\nä¸‹è½½æˆåŠŸä¹‹åå°†å…¶è§£å‹æ”¾åœ¨`d`ç›˜ï¼ˆåªè¦ä¸æ˜¯`c`ç›˜å³å¯ï¼‰æŸä¸ªç›®å½•ä¸‹ï¼ˆä¸èƒ½ä¸ºä¸­æ–‡ï¼‰ï¼Œå¦‚ï¼š`D:\\tools\\fnm`\n\nè¿™ä¸ªæ—¶å€™æ‚¨éœ€è¦é…ç½®å¯¹åº”çš„ç¯å¢ƒå˜é‡\n\nåœ¨ç³»ç»Ÿå˜é‡æ·»åŠ \n\n```bash\n# FNM_DIR ä¸ºå˜é‡å   D:\\tools\\fnm\\nodeä¸ºå˜é‡å€¼  ä»¥ä¸‹ä¹Ÿæ˜¯ä¸€æ ·çš„\nFNM_DIR: D:\\tools\\fnm\\node\nFNM_NODE_DIST_MIRRORs: D:\\tools\\fnm\\node\n```\n\nè¿™ä¸ªæ—¶å€™éœ€è¦æ‰‹åŠ¨é‡å¯`cmd`æˆ–è€…`vscode`, è¾“å…¥å‘½ä»¤`fnm -v`å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œé‚£ä¹ˆè¯´æ˜å®‰è£…æˆåŠŸï¼Œå¯ä»¥ç»§ç»­å¾€ä¸‹èµ°ï¼›\n\næƒ³è¦å®‰è£… node åªéœ€è¦æ‰§è¡Œ `fnm install ç‰ˆæœ¬`ï¼Œå¦‚ï¼š`fnm install 16.13.0`ï¼› `fnm`çš„ä½¿ç”¨æ–¹å¼å’Œ`nvm`çš„ä½¿ç”¨æ–¹å¼ä¸€æ ·ï¼›\n\nå®‰è£… node æˆåŠŸä¹‹åï¼Œæ‚¨å¯ä»¥`node -v npm -v`æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼› å¦‚æœå‡ºç°`node ä¸æ˜¯å†…éƒ¨å‘½ä»¤`é‚£ä¹ˆä½ éœ€è¦é…ç½®`node`ç¯å¢ƒï¼›\n\nåœ¨ç³»ç»Ÿå˜é‡æ·»åŠ \n\n```bash\n# åˆ›å»º node ç›®å½•ï¼Œaliases\\defaultå°±æ˜¯ä½ å½“å‰ä½¿ç”¨çš„nodeç‰ˆæœ¬\nNODE_PATH: D:\\tools\\fnm\\node\\aliases\\default\n```\n\nè¿™ä¸ªæ—¶å€™éœ€è¦æ‰‹åŠ¨é‡å¯`cmd`æˆ–è€…`vscode`, è¾“å…¥å‘½ä»¤`node -v`å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œé‚£ä¹ˆè¯´æ˜å®‰è£…æˆåŠŸï¼›\n\n---\n\nåˆ°è¿™é‡Œä¸ºæ­¢ï¼Œå¤§æ¦‚çš„ç¯å¢ƒé…ç½®å°±å®Œæˆäº†ï¼›\n","source":"_posts/æˆ‘çš„é¡¹ç›®/æ¡Œé¢ç«¯å¼€å‘å·¥å…·/ç¯å¢ƒé…ç½®.md","raw":"---\ntitle:  æˆ‘çš„é¡¹ç›®-æ¡Œé¢ç«¯é¡¹ç›®ç¯å¢ƒé…ç½®\nabbrlink: 80fd3486\ndate: 2024-10-08 09:05:01\ncategories:\n  - æˆ‘çš„é¡¹ç›®\ntags:\n  - é¡¹ç›®\n---\n# ç¯å¢ƒé…ç½®\n\n\nç›®å‰è¯¥è½¯ä»¶è¿˜åšä¸åˆ°ä¸€ä½“åŒ–æ“ä½œï¼Œæœ‰äº›ç¯å¢ƒéœ€è¦æ‰‹åŠ¨é…ç½®ï¼›ä¸»è¦éœ€è¦é…ç½®çš„æ˜¯ node ç›¸å…³ç¯å¢ƒå˜é‡\n\n\n## è‡ªåŠ¨å®‰è£…\n\n![install](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.67xcldj0yr.webp)\n\nå¦‚æœæ‚¨è¿˜æœªå®‰è£…`fnm`, é‚£ä¹ˆæ‚¨å¯ä»¥ç‚¹å‡»æŒ‰é’®å°±è¡Œå®‰è£…ï¼Œç‚¹å‡»ä¹‹åä¼šè‡ªåŠ¨è¿›è¡Œå®‰è£…ï¼Œå¦‚æœæ‚¨å®‰è£…å¤±è´¥äº†ï¼Œé‚£ä¹ˆéœ€è¦æ‰‹åŠ¨å®‰è£…ï¼Œå…·ä½“å®‰è£…æ–¹æ³•å¯ä»¥å‚è€ƒ[**fnm**](https://github.com/Schniz/fnm)\n\n![install](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2vemr051xe.webp)\n\n## æ‰‹åŠ¨å®‰è£…\n\nå¦‚æœæ‚¨æ‰§è¡Œè¿™ä¸€æ­¥ï¼Œé‚£ä¹ˆæ‚¨åº”è¯¥æ˜¯è‡ªåŠ¨å®‰è£…å¤±è´¥äº†ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦æ‰§è¡Œä»¥ä¸‹å‡ ä¸ªæ­¥éª¤å³å¯ï¼›\n\nå¦‚æœæ‚¨æ˜¯`mac/linux`é‚£ä¹ˆè¯·æŸ¥çœ‹[è¿™é‡Œ](https://github.com/Schniz/fnm/blob/master/README.md#installation)\n\n### ä¸‹è½½ fnm\n\næ‚¨å¯ä»¥åœ¨ç‚¹å‡»[ä¸‹è½½](https://github.com/Schniz/fnm/releases/tag/v1.37.1)ä¸‹è½½ä¸åŒå¹³å°ç‰ˆæœ¬ï¼›\n\nä¸‹è½½æˆåŠŸä¹‹åå°†å…¶è§£å‹æ”¾åœ¨`d`ç›˜ï¼ˆåªè¦ä¸æ˜¯`c`ç›˜å³å¯ï¼‰æŸä¸ªç›®å½•ä¸‹ï¼ˆä¸èƒ½ä¸ºä¸­æ–‡ï¼‰ï¼Œå¦‚ï¼š`D:\\tools\\fnm`\n\nè¿™ä¸ªæ—¶å€™æ‚¨éœ€è¦é…ç½®å¯¹åº”çš„ç¯å¢ƒå˜é‡\n\nåœ¨ç³»ç»Ÿå˜é‡æ·»åŠ \n\n```bash\n# FNM_DIR ä¸ºå˜é‡å   D:\\tools\\fnm\\nodeä¸ºå˜é‡å€¼  ä»¥ä¸‹ä¹Ÿæ˜¯ä¸€æ ·çš„\nFNM_DIR: D:\\tools\\fnm\\node\nFNM_NODE_DIST_MIRRORs: D:\\tools\\fnm\\node\n```\n\nè¿™ä¸ªæ—¶å€™éœ€è¦æ‰‹åŠ¨é‡å¯`cmd`æˆ–è€…`vscode`, è¾“å…¥å‘½ä»¤`fnm -v`å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œé‚£ä¹ˆè¯´æ˜å®‰è£…æˆåŠŸï¼Œå¯ä»¥ç»§ç»­å¾€ä¸‹èµ°ï¼›\n\næƒ³è¦å®‰è£… node åªéœ€è¦æ‰§è¡Œ `fnm install ç‰ˆæœ¬`ï¼Œå¦‚ï¼š`fnm install 16.13.0`ï¼› `fnm`çš„ä½¿ç”¨æ–¹å¼å’Œ`nvm`çš„ä½¿ç”¨æ–¹å¼ä¸€æ ·ï¼›\n\nå®‰è£… node æˆåŠŸä¹‹åï¼Œæ‚¨å¯ä»¥`node -v npm -v`æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼› å¦‚æœå‡ºç°`node ä¸æ˜¯å†…éƒ¨å‘½ä»¤`é‚£ä¹ˆä½ éœ€è¦é…ç½®`node`ç¯å¢ƒï¼›\n\nåœ¨ç³»ç»Ÿå˜é‡æ·»åŠ \n\n```bash\n# åˆ›å»º node ç›®å½•ï¼Œaliases\\defaultå°±æ˜¯ä½ å½“å‰ä½¿ç”¨çš„nodeç‰ˆæœ¬\nNODE_PATH: D:\\tools\\fnm\\node\\aliases\\default\n```\n\nè¿™ä¸ªæ—¶å€™éœ€è¦æ‰‹åŠ¨é‡å¯`cmd`æˆ–è€…`vscode`, è¾“å…¥å‘½ä»¤`node -v`å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œé‚£ä¹ˆè¯´æ˜å®‰è£…æˆåŠŸï¼›\n\n---\n\nåˆ°è¿™é‡Œä¸ºæ­¢ï¼Œå¤§æ¦‚çš„ç¯å¢ƒé…ç½®å°±å®Œæˆäº†ï¼›\n","slug":"æˆ‘çš„é¡¹ç›®/æ¡Œé¢ç«¯å¼€å‘å·¥å…·/ç¯å¢ƒé…ç½®","published":1,"updated":"2025-03-13T10:16:16.325Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0ix002kfg9m01lzgtgg","content":"<h1 id=\"ç¯å¢ƒé…ç½®\"><a href=\"#ç¯å¢ƒé…ç½®\" class=\"headerlink\" title=\"ç¯å¢ƒé…ç½®\"></a>ç¯å¢ƒé…ç½®</h1><p>ç›®å‰è¯¥è½¯ä»¶è¿˜åšä¸åˆ°ä¸€ä½“åŒ–æ“ä½œï¼Œæœ‰äº›ç¯å¢ƒéœ€è¦æ‰‹åŠ¨é…ç½®ï¼›ä¸»è¦éœ€è¦é…ç½®çš„æ˜¯ node ç›¸å…³ç¯å¢ƒå˜é‡</p>\n<h2 id=\"è‡ªåŠ¨å®‰è£…\"><a href=\"#è‡ªåŠ¨å®‰è£…\" class=\"headerlink\" title=\"è‡ªåŠ¨å®‰è£…\"></a>è‡ªåŠ¨å®‰è£…</h2><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.67xcldj0yr.webp\" alt=\"install\"></p>\n<p>å¦‚æœæ‚¨è¿˜æœªå®‰è£…<code>fnm</code>, é‚£ä¹ˆæ‚¨å¯ä»¥ç‚¹å‡»æŒ‰é’®å°±è¡Œå®‰è£…ï¼Œç‚¹å‡»ä¹‹åä¼šè‡ªåŠ¨è¿›è¡Œå®‰è£…ï¼Œå¦‚æœæ‚¨å®‰è£…å¤±è´¥äº†ï¼Œé‚£ä¹ˆéœ€è¦æ‰‹åŠ¨å®‰è£…ï¼Œå…·ä½“å®‰è£…æ–¹æ³•å¯ä»¥å‚è€ƒ<a href=\"https://github.com/Schniz/fnm\"><strong>fnm</strong></a></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2vemr051xe.webp\" alt=\"install\"></p>\n<h2 id=\"æ‰‹åŠ¨å®‰è£…\"><a href=\"#æ‰‹åŠ¨å®‰è£…\" class=\"headerlink\" title=\"æ‰‹åŠ¨å®‰è£…\"></a>æ‰‹åŠ¨å®‰è£…</h2><p>å¦‚æœæ‚¨æ‰§è¡Œè¿™ä¸€æ­¥ï¼Œé‚£ä¹ˆæ‚¨åº”è¯¥æ˜¯è‡ªåŠ¨å®‰è£…å¤±è´¥äº†ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦æ‰§è¡Œä»¥ä¸‹å‡ ä¸ªæ­¥éª¤å³å¯ï¼›</p>\n<p>å¦‚æœæ‚¨æ˜¯<code>mac/linux</code>é‚£ä¹ˆè¯·æŸ¥çœ‹<a href=\"https://github.com/Schniz/fnm/blob/master/README.md#installation\">è¿™é‡Œ</a></p>\n<h3 id=\"ä¸‹è½½-fnm\"><a href=\"#ä¸‹è½½-fnm\" class=\"headerlink\" title=\"ä¸‹è½½ fnm\"></a>ä¸‹è½½ fnm</h3><p>æ‚¨å¯ä»¥åœ¨ç‚¹å‡»<a href=\"https://github.com/Schniz/fnm/releases/tag/v1.37.1\">ä¸‹è½½</a>ä¸‹è½½ä¸åŒå¹³å°ç‰ˆæœ¬ï¼›</p>\n<p>ä¸‹è½½æˆåŠŸä¹‹åå°†å…¶è§£å‹æ”¾åœ¨<code>d</code>ç›˜ï¼ˆåªè¦ä¸æ˜¯<code>c</code>ç›˜å³å¯ï¼‰æŸä¸ªç›®å½•ä¸‹ï¼ˆä¸èƒ½ä¸ºä¸­æ–‡ï¼‰ï¼Œå¦‚ï¼š<code>D:\\tools\\fnm</code></p>\n<p>è¿™ä¸ªæ—¶å€™æ‚¨éœ€è¦é…ç½®å¯¹åº”çš„ç¯å¢ƒå˜é‡</p>\n<p>åœ¨ç³»ç»Ÿå˜é‡æ·»åŠ </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># FNM_DIR ä¸ºå˜é‡å   D:\\tools\\fnm\\nodeä¸ºå˜é‡å€¼  ä»¥ä¸‹ä¹Ÿæ˜¯ä¸€æ ·çš„</span></span><br><span class=\"line\">FNM_DIR: D:\\tools\\fnm\\node</span><br><span class=\"line\">FNM_NODE_DIST_MIRRORs: D:\\tools\\fnm\\node</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸ªæ—¶å€™éœ€è¦æ‰‹åŠ¨é‡å¯<code>cmd</code>æˆ–è€…<code>vscode</code>, è¾“å…¥å‘½ä»¤<code>fnm -v</code>å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œé‚£ä¹ˆè¯´æ˜å®‰è£…æˆåŠŸï¼Œå¯ä»¥ç»§ç»­å¾€ä¸‹èµ°ï¼›</p>\n<p>æƒ³è¦å®‰è£… node åªéœ€è¦æ‰§è¡Œ <code>fnm install ç‰ˆæœ¬</code>ï¼Œå¦‚ï¼š<code>fnm install 16.13.0</code>ï¼› <code>fnm</code>çš„ä½¿ç”¨æ–¹å¼å’Œ<code>nvm</code>çš„ä½¿ç”¨æ–¹å¼ä¸€æ ·ï¼›</p>\n<p>å®‰è£… node æˆåŠŸä¹‹åï¼Œæ‚¨å¯ä»¥<code>node -v npm -v</code>æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼› å¦‚æœå‡ºç°<code>node ä¸æ˜¯å†…éƒ¨å‘½ä»¤</code>é‚£ä¹ˆä½ éœ€è¦é…ç½®<code>node</code>ç¯å¢ƒï¼›</p>\n<p>åœ¨ç³»ç»Ÿå˜é‡æ·»åŠ </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># åˆ›å»º node ç›®å½•ï¼Œaliases\\defaultå°±æ˜¯ä½ å½“å‰ä½¿ç”¨çš„nodeç‰ˆæœ¬</span></span><br><span class=\"line\">NODE_PATH: D:\\tools\\fnm\\node\\aliases\\default</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸ªæ—¶å€™éœ€è¦æ‰‹åŠ¨é‡å¯<code>cmd</code>æˆ–è€…<code>vscode</code>, è¾“å…¥å‘½ä»¤<code>node -v</code>å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œé‚£ä¹ˆè¯´æ˜å®‰è£…æˆåŠŸï¼›</p>\n<hr>\n<p>åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œå¤§æ¦‚çš„ç¯å¢ƒé…ç½®å°±å®Œæˆäº†ï¼›</p>\n","excerpt":"","more":"<h1 id=\"ç¯å¢ƒé…ç½®\"><a href=\"#ç¯å¢ƒé…ç½®\" class=\"headerlink\" title=\"ç¯å¢ƒé…ç½®\"></a>ç¯å¢ƒé…ç½®</h1><p>ç›®å‰è¯¥è½¯ä»¶è¿˜åšä¸åˆ°ä¸€ä½“åŒ–æ“ä½œï¼Œæœ‰äº›ç¯å¢ƒéœ€è¦æ‰‹åŠ¨é…ç½®ï¼›ä¸»è¦éœ€è¦é…ç½®çš„æ˜¯ node ç›¸å…³ç¯å¢ƒå˜é‡</p>\n<h2 id=\"è‡ªåŠ¨å®‰è£…\"><a href=\"#è‡ªåŠ¨å®‰è£…\" class=\"headerlink\" title=\"è‡ªåŠ¨å®‰è£…\"></a>è‡ªåŠ¨å®‰è£…</h2><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.67xcldj0yr.webp\" alt=\"install\"></p>\n<p>å¦‚æœæ‚¨è¿˜æœªå®‰è£…<code>fnm</code>, é‚£ä¹ˆæ‚¨å¯ä»¥ç‚¹å‡»æŒ‰é’®å°±è¡Œå®‰è£…ï¼Œç‚¹å‡»ä¹‹åä¼šè‡ªåŠ¨è¿›è¡Œå®‰è£…ï¼Œå¦‚æœæ‚¨å®‰è£…å¤±è´¥äº†ï¼Œé‚£ä¹ˆéœ€è¦æ‰‹åŠ¨å®‰è£…ï¼Œå…·ä½“å®‰è£…æ–¹æ³•å¯ä»¥å‚è€ƒ<a href=\"https://github.com/Schniz/fnm\"><strong>fnm</strong></a></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2vemr051xe.webp\" alt=\"install\"></p>\n<h2 id=\"æ‰‹åŠ¨å®‰è£…\"><a href=\"#æ‰‹åŠ¨å®‰è£…\" class=\"headerlink\" title=\"æ‰‹åŠ¨å®‰è£…\"></a>æ‰‹åŠ¨å®‰è£…</h2><p>å¦‚æœæ‚¨æ‰§è¡Œè¿™ä¸€æ­¥ï¼Œé‚£ä¹ˆæ‚¨åº”è¯¥æ˜¯è‡ªåŠ¨å®‰è£…å¤±è´¥äº†ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦æ‰§è¡Œä»¥ä¸‹å‡ ä¸ªæ­¥éª¤å³å¯ï¼›</p>\n<p>å¦‚æœæ‚¨æ˜¯<code>mac/linux</code>é‚£ä¹ˆè¯·æŸ¥çœ‹<a href=\"https://github.com/Schniz/fnm/blob/master/README.md#installation\">è¿™é‡Œ</a></p>\n<h3 id=\"ä¸‹è½½-fnm\"><a href=\"#ä¸‹è½½-fnm\" class=\"headerlink\" title=\"ä¸‹è½½ fnm\"></a>ä¸‹è½½ fnm</h3><p>æ‚¨å¯ä»¥åœ¨ç‚¹å‡»<a href=\"https://github.com/Schniz/fnm/releases/tag/v1.37.1\">ä¸‹è½½</a>ä¸‹è½½ä¸åŒå¹³å°ç‰ˆæœ¬ï¼›</p>\n<p>ä¸‹è½½æˆåŠŸä¹‹åå°†å…¶è§£å‹æ”¾åœ¨<code>d</code>ç›˜ï¼ˆåªè¦ä¸æ˜¯<code>c</code>ç›˜å³å¯ï¼‰æŸä¸ªç›®å½•ä¸‹ï¼ˆä¸èƒ½ä¸ºä¸­æ–‡ï¼‰ï¼Œå¦‚ï¼š<code>D:\\tools\\fnm</code></p>\n<p>è¿™ä¸ªæ—¶å€™æ‚¨éœ€è¦é…ç½®å¯¹åº”çš„ç¯å¢ƒå˜é‡</p>\n<p>åœ¨ç³»ç»Ÿå˜é‡æ·»åŠ </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># FNM_DIR ä¸ºå˜é‡å   D:\\tools\\fnm\\nodeä¸ºå˜é‡å€¼  ä»¥ä¸‹ä¹Ÿæ˜¯ä¸€æ ·çš„</span></span><br><span class=\"line\">FNM_DIR: D:\\tools\\fnm\\node</span><br><span class=\"line\">FNM_NODE_DIST_MIRRORs: D:\\tools\\fnm\\node</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸ªæ—¶å€™éœ€è¦æ‰‹åŠ¨é‡å¯<code>cmd</code>æˆ–è€…<code>vscode</code>, è¾“å…¥å‘½ä»¤<code>fnm -v</code>å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œé‚£ä¹ˆè¯´æ˜å®‰è£…æˆåŠŸï¼Œå¯ä»¥ç»§ç»­å¾€ä¸‹èµ°ï¼›</p>\n<p>æƒ³è¦å®‰è£… node åªéœ€è¦æ‰§è¡Œ <code>fnm install ç‰ˆæœ¬</code>ï¼Œå¦‚ï¼š<code>fnm install 16.13.0</code>ï¼› <code>fnm</code>çš„ä½¿ç”¨æ–¹å¼å’Œ<code>nvm</code>çš„ä½¿ç”¨æ–¹å¼ä¸€æ ·ï¼›</p>\n<p>å®‰è£… node æˆåŠŸä¹‹åï¼Œæ‚¨å¯ä»¥<code>node -v npm -v</code>æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼› å¦‚æœå‡ºç°<code>node ä¸æ˜¯å†…éƒ¨å‘½ä»¤</code>é‚£ä¹ˆä½ éœ€è¦é…ç½®<code>node</code>ç¯å¢ƒï¼›</p>\n<p>åœ¨ç³»ç»Ÿå˜é‡æ·»åŠ </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># åˆ›å»º node ç›®å½•ï¼Œaliases\\defaultå°±æ˜¯ä½ å½“å‰ä½¿ç”¨çš„nodeç‰ˆæœ¬</span></span><br><span class=\"line\">NODE_PATH: D:\\tools\\fnm\\node\\aliases\\default</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸ªæ—¶å€™éœ€è¦æ‰‹åŠ¨é‡å¯<code>cmd</code>æˆ–è€…<code>vscode</code>, è¾“å…¥å‘½ä»¤<code>node -v</code>å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œé‚£ä¹ˆè¯´æ˜å®‰è£…æˆåŠŸï¼›</p>\n<hr>\n<p>åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œå¤§æ¦‚çš„ç¯å¢ƒé…ç½®å°±å®Œæˆäº†ï¼›</p>\n"},{"title":"æˆ‘çš„é¡¹ç›®-æ¡Œé¢ç«¯é¡¹ç›®ä»‹ç»","abbrlink":"3fdfc9bb","date":"2024-10-08T01:05:01.000Z","_content":"# dev-tools\n\nè¯¥é¡¹ç›®æ˜¯æ˜¯`rust + vue`å¼€å‘çš„æ¡Œé¢ç«¯é¡¹ç›®ï¼Œæ˜¯å‰ç«¯å¯è§†åŒ–å¼€å‘å·¥å…·ï¼Œå½“ç„¶æ­¤å¼€å‘å·¥å…·ä¸åŒäºå¹³å¸¸çš„å¼€å‘å·¥å…·ï¼Œæ˜¯æœ‰åˆ©äºè‡ªå·±çš„ä¸€æ¬¾å·¥å…·ï¼›\n\n<font color=\"#ff0000\">ç›®å‰å±äºæµ‹è¯•é˜¶æ®µï¼Œæœ‰äº›é—®é¢˜è¿˜æœªå‘ç°ï¼›</font>\n\n## èƒŒæ™¯\n\nåœ¨å¼€å‘ä¸­ï¼Œæˆ‘æ›¾ç»æœ‰ä¸ªç–‘é—®ï¼Œå°±æ˜¯ä¸è®ºåœ¨`linux` è¿˜æ˜¯`docker`çš„å¼€å‘ç¯å¢ƒä¸‹ï¼Œå®ƒéƒ½æ˜¯æœ‰ä¸“å±çš„å¯è§†åŒ–é¢æ¿çš„ï¼Œæ¯”å¦‚`å®å¡”ï¼Œ1panel, dockeræ¡Œé¢ç«¯`ç­‰ç­‰ï¼›å°±å¥½æ¯”è¯´æ‚¨å¦‚æœä¸æ¸…æ¥šæ“ä½œå‘½ä»¤ï¼Œ é‚£ä¹ˆæ‚¨å°±å¯ä»¥ä½¿ç”¨é¢æ¿çš„ç®€å•æ“ä½œï¼›\n\nåœ¨è¿™æ ·çš„æƒ³æ³•ä¸‹ï¼Œ äºæ˜¯æˆ‘å°±ç®€å•çš„å¼€å‘ï¼Œä¹‹å‰çš„ä¸€ä¸ªç‰ˆæœ¬æ˜¯`electron + vue`çš„å¼€å‘ï¼Œä½†æ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°çš„é—®é¢˜å¤ªå¤šå¤ªå¤šäº†ï¼Œ`electron`æ“ä½œçš„æ˜¯`node`ï¼›äºæ˜¯å°±å¼€å‘äº†ä¸€åŠï¼› ä¸è®ºæ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè¿˜æ˜¯æœ€åçš„æ‰“åŒ…éƒ¨ç½²å…¶ä½“ç§¯éƒ½æ˜¯å¾ˆå¤§çš„ï¼›ç®€å•çš„è¯´å°±æ˜¯åº•å±‚ç”¨çš„æ˜¯`electron`ï¼Œå…¶å¤–å±‚å°±æ˜¯`webview`é¡µé¢ï¼Œä¸åšä¼˜åŒ–çš„æƒ…å†µä¸‹ä½“ç§¯å¾ˆå¤§ï¼›ä¸€ä¸ªç®€å•çš„å·¥å…·æ€»ä¸æ˜¯å‡ åå…†çš„å¤§å°å§ï¼Œä¸åˆé€‚ï¼›\n\näºæ˜¯å°±ç®€å•çš„æ¥è§¦äº†`rust`,\n\n## ä¸‹è½½åœ°å€\n\n- [**mac ç³»ç»Ÿå®‰è£…**](https://wangxiaoze-view.github.io/picx-images-hosting/app/dev-tools/0.0.1/dev-tools_0.0.1_aarch64.dmg)\n- [**windows ç³»ç»Ÿå®‰è£…**](https://wangxiaoze-view.github.io/picx-images-hosting/app/dev-tools/0.0.1/dev-tools_0.0.1_x64-setup.exe)\n\n## å¼€å‘è¿›åº¦\n\n### <Badge type=\"info\" text=\"å·²å®Œæˆ\" />\n\n- åŸºç¡€é¡µé¢åŠŸèƒ½å·²å®Œæˆ;\n- ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½å·²å®Œæˆï¼›\n- git é…ç½®åŠŸèƒ½å·²å®Œæˆï¼›\n- node ç®¡ç†åŠŸèƒ½å·²å®Œæˆï¼›\n- æ—¥å¿—æ‰“å°ï¼Œä»£ç ä¼˜åŒ–\n- æ“ä½œç³»ç»Ÿçš„å…œåº•\n\n## æœ‰å“ªäº›åŠŸèƒ½\n\n1. **æ¬¢è¿é¡µï¼š** ä»‹ç»æœ¬æ¬¾è½¯ä»¶çš„ä½œç”¨ï¼Œä»¥åŠç®€å•ä»‹ç»ï¼›\n2. **é¦–é¡µï¼š** æ¶µç›–å‰ç«¯å¸¸ç”¨çš„å¼€å‘å·¥å…·\n3. **Node ç®¡ç†ï¼š** å¯è§†åŒ–çš„ node ç®¡ç†ï¼Œå¯ä»¥æŸ¥çœ‹ node çš„ç‰ˆæœ¬ï¼Œä»¥åŠå®‰è£…å¸è½½ nodeï¼›åŒæ—¶ä¹Ÿå¯æ“ä½œ npm ä¸‹è½½çš„å…¨å±€åŒ…ï¼›\n4. **Git é…ç½®ï¼š** å…¨å±€çš„ git é…ç½®\n\n## äº®ç‚¹æœ‰å“ªäº›\n\n1. å¦‚æœæ‚¨æƒ³è¦åˆ‡æ¢ node ç‰ˆæœ¬ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œ`nvm use 16.14.0`æˆ–è€…`fnm use 16.14.0`ï¼›ä½†æ˜¯æ‚¨æƒ³è¦åœ¨å¯è§†åŒ–ç•Œé¢ä¸Šåˆ‡æ¢ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦åœ¨ç›¸å¯¹åº”çš„ç•Œé¢è¿›è¡Œæ“ä½œï¼›\n2. æ‚¨ä¸éœ€è¦ä½ç‰ˆæœ¬çš„ nodeï¼Œå› ä¸ºæ‚¨åªéœ€è¦åœ¨`node`çš„ç‰ˆæœ¬ä¸Šè¿›è¡Œæ“ä½œï¼›å½“ç„¶æºå¸¦äº†å®‰è£…ä¾èµ–çš„åŠŸèƒ½ï¼Œæ‚¨å¯ä»¥å¯¹äºå…¨å±€ä¾èµ–è¿›è¡Œç®¡ç†\n\n## å›¾ç‰‡\n\n![æ¬¢è¿é¡µé¢](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.3k7wazx9ha.webp)\n\n![é¦–é¡µ](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.lyl6vzj1.webp)\n\n![Nodeç®¡ç†](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.4n7llvv3zq.webp)\n\n![å®‰è£…Node](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.231r98vwy8.webp)\n\n![å·²ç»å®‰è£…çš„Node](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.6pne9xv39s.webp)\n\n![é•œåƒæº](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.32humf03cq.webp)\n\n![å®‰è£…å…¨å±€åŒ…](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.5fkh3mew3s.webp)\n\n![git](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7sn3ktth5u.webp)\n\n![ä¸»é¢˜è®¾ç½®](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.lyl71441.webp)\n\n![èœå•æ¨¡å¼](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2rv0t9ntpo.webp)\n","source":"_posts/æˆ‘çš„é¡¹ç›®/æ¡Œé¢ç«¯å¼€å‘å·¥å…·/é¡¹ç›®ä»‹ç».md","raw":"---\ntitle: æˆ‘çš„é¡¹ç›®-æ¡Œé¢ç«¯é¡¹ç›®ä»‹ç»\nabbrlink: 3fdfc9bb\ndate: 2024-10-08 09:05:01\ncategories:\n  - æˆ‘çš„é¡¹ç›®\ntags:\n  - é¡¹ç›®\n---\n# dev-tools\n\nè¯¥é¡¹ç›®æ˜¯æ˜¯`rust + vue`å¼€å‘çš„æ¡Œé¢ç«¯é¡¹ç›®ï¼Œæ˜¯å‰ç«¯å¯è§†åŒ–å¼€å‘å·¥å…·ï¼Œå½“ç„¶æ­¤å¼€å‘å·¥å…·ä¸åŒäºå¹³å¸¸çš„å¼€å‘å·¥å…·ï¼Œæ˜¯æœ‰åˆ©äºè‡ªå·±çš„ä¸€æ¬¾å·¥å…·ï¼›\n\n<font color=\"#ff0000\">ç›®å‰å±äºæµ‹è¯•é˜¶æ®µï¼Œæœ‰äº›é—®é¢˜è¿˜æœªå‘ç°ï¼›</font>\n\n## èƒŒæ™¯\n\nåœ¨å¼€å‘ä¸­ï¼Œæˆ‘æ›¾ç»æœ‰ä¸ªç–‘é—®ï¼Œå°±æ˜¯ä¸è®ºåœ¨`linux` è¿˜æ˜¯`docker`çš„å¼€å‘ç¯å¢ƒä¸‹ï¼Œå®ƒéƒ½æ˜¯æœ‰ä¸“å±çš„å¯è§†åŒ–é¢æ¿çš„ï¼Œæ¯”å¦‚`å®å¡”ï¼Œ1panel, dockeræ¡Œé¢ç«¯`ç­‰ç­‰ï¼›å°±å¥½æ¯”è¯´æ‚¨å¦‚æœä¸æ¸…æ¥šæ“ä½œå‘½ä»¤ï¼Œ é‚£ä¹ˆæ‚¨å°±å¯ä»¥ä½¿ç”¨é¢æ¿çš„ç®€å•æ“ä½œï¼›\n\nåœ¨è¿™æ ·çš„æƒ³æ³•ä¸‹ï¼Œ äºæ˜¯æˆ‘å°±ç®€å•çš„å¼€å‘ï¼Œä¹‹å‰çš„ä¸€ä¸ªç‰ˆæœ¬æ˜¯`electron + vue`çš„å¼€å‘ï¼Œä½†æ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°çš„é—®é¢˜å¤ªå¤šå¤ªå¤šäº†ï¼Œ`electron`æ“ä½œçš„æ˜¯`node`ï¼›äºæ˜¯å°±å¼€å‘äº†ä¸€åŠï¼› ä¸è®ºæ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè¿˜æ˜¯æœ€åçš„æ‰“åŒ…éƒ¨ç½²å…¶ä½“ç§¯éƒ½æ˜¯å¾ˆå¤§çš„ï¼›ç®€å•çš„è¯´å°±æ˜¯åº•å±‚ç”¨çš„æ˜¯`electron`ï¼Œå…¶å¤–å±‚å°±æ˜¯`webview`é¡µé¢ï¼Œä¸åšä¼˜åŒ–çš„æƒ…å†µä¸‹ä½“ç§¯å¾ˆå¤§ï¼›ä¸€ä¸ªç®€å•çš„å·¥å…·æ€»ä¸æ˜¯å‡ åå…†çš„å¤§å°å§ï¼Œä¸åˆé€‚ï¼›\n\näºæ˜¯å°±ç®€å•çš„æ¥è§¦äº†`rust`,\n\n## ä¸‹è½½åœ°å€\n\n- [**mac ç³»ç»Ÿå®‰è£…**](https://wangxiaoze-view.github.io/picx-images-hosting/app/dev-tools/0.0.1/dev-tools_0.0.1_aarch64.dmg)\n- [**windows ç³»ç»Ÿå®‰è£…**](https://wangxiaoze-view.github.io/picx-images-hosting/app/dev-tools/0.0.1/dev-tools_0.0.1_x64-setup.exe)\n\n## å¼€å‘è¿›åº¦\n\n### <Badge type=\"info\" text=\"å·²å®Œæˆ\" />\n\n- åŸºç¡€é¡µé¢åŠŸèƒ½å·²å®Œæˆ;\n- ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½å·²å®Œæˆï¼›\n- git é…ç½®åŠŸèƒ½å·²å®Œæˆï¼›\n- node ç®¡ç†åŠŸèƒ½å·²å®Œæˆï¼›\n- æ—¥å¿—æ‰“å°ï¼Œä»£ç ä¼˜åŒ–\n- æ“ä½œç³»ç»Ÿçš„å…œåº•\n\n## æœ‰å“ªäº›åŠŸèƒ½\n\n1. **æ¬¢è¿é¡µï¼š** ä»‹ç»æœ¬æ¬¾è½¯ä»¶çš„ä½œç”¨ï¼Œä»¥åŠç®€å•ä»‹ç»ï¼›\n2. **é¦–é¡µï¼š** æ¶µç›–å‰ç«¯å¸¸ç”¨çš„å¼€å‘å·¥å…·\n3. **Node ç®¡ç†ï¼š** å¯è§†åŒ–çš„ node ç®¡ç†ï¼Œå¯ä»¥æŸ¥çœ‹ node çš„ç‰ˆæœ¬ï¼Œä»¥åŠå®‰è£…å¸è½½ nodeï¼›åŒæ—¶ä¹Ÿå¯æ“ä½œ npm ä¸‹è½½çš„å…¨å±€åŒ…ï¼›\n4. **Git é…ç½®ï¼š** å…¨å±€çš„ git é…ç½®\n\n## äº®ç‚¹æœ‰å“ªäº›\n\n1. å¦‚æœæ‚¨æƒ³è¦åˆ‡æ¢ node ç‰ˆæœ¬ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œ`nvm use 16.14.0`æˆ–è€…`fnm use 16.14.0`ï¼›ä½†æ˜¯æ‚¨æƒ³è¦åœ¨å¯è§†åŒ–ç•Œé¢ä¸Šåˆ‡æ¢ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦åœ¨ç›¸å¯¹åº”çš„ç•Œé¢è¿›è¡Œæ“ä½œï¼›\n2. æ‚¨ä¸éœ€è¦ä½ç‰ˆæœ¬çš„ nodeï¼Œå› ä¸ºæ‚¨åªéœ€è¦åœ¨`node`çš„ç‰ˆæœ¬ä¸Šè¿›è¡Œæ“ä½œï¼›å½“ç„¶æºå¸¦äº†å®‰è£…ä¾èµ–çš„åŠŸèƒ½ï¼Œæ‚¨å¯ä»¥å¯¹äºå…¨å±€ä¾èµ–è¿›è¡Œç®¡ç†\n\n## å›¾ç‰‡\n\n![æ¬¢è¿é¡µé¢](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.3k7wazx9ha.webp)\n\n![é¦–é¡µ](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.lyl6vzj1.webp)\n\n![Nodeç®¡ç†](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.4n7llvv3zq.webp)\n\n![å®‰è£…Node](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.231r98vwy8.webp)\n\n![å·²ç»å®‰è£…çš„Node](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.6pne9xv39s.webp)\n\n![é•œåƒæº](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.32humf03cq.webp)\n\n![å®‰è£…å…¨å±€åŒ…](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.5fkh3mew3s.webp)\n\n![git](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7sn3ktth5u.webp)\n\n![ä¸»é¢˜è®¾ç½®](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.lyl71441.webp)\n\n![èœå•æ¨¡å¼](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2rv0t9ntpo.webp)\n","slug":"æˆ‘çš„é¡¹ç›®/æ¡Œé¢ç«¯å¼€å‘å·¥å…·/é¡¹ç›®ä»‹ç»","published":1,"updated":"2025-03-13T10:16:16.395Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0ix002nfg9masalcsu2","content":"<h1 id=\"dev-tools\"><a href=\"#dev-tools\" class=\"headerlink\" title=\"dev-tools\"></a>dev-tools</h1><p>è¯¥é¡¹ç›®æ˜¯æ˜¯<code>rust + vue</code>å¼€å‘çš„æ¡Œé¢ç«¯é¡¹ç›®ï¼Œæ˜¯å‰ç«¯å¯è§†åŒ–å¼€å‘å·¥å…·ï¼Œå½“ç„¶æ­¤å¼€å‘å·¥å…·ä¸åŒäºå¹³å¸¸çš„å¼€å‘å·¥å…·ï¼Œæ˜¯æœ‰åˆ©äºè‡ªå·±çš„ä¸€æ¬¾å·¥å…·ï¼›</p>\n<p><font color=\"#ff0000\">ç›®å‰å±äºæµ‹è¯•é˜¶æ®µï¼Œæœ‰äº›é—®é¢˜è¿˜æœªå‘ç°ï¼›</font></p>\n<h2 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h2><p>åœ¨å¼€å‘ä¸­ï¼Œæˆ‘æ›¾ç»æœ‰ä¸ªç–‘é—®ï¼Œå°±æ˜¯ä¸è®ºåœ¨<code>linux</code> è¿˜æ˜¯<code>docker</code>çš„å¼€å‘ç¯å¢ƒä¸‹ï¼Œå®ƒéƒ½æ˜¯æœ‰ä¸“å±çš„å¯è§†åŒ–é¢æ¿çš„ï¼Œæ¯”å¦‚<code>å®å¡”ï¼Œ1panel, dockeræ¡Œé¢ç«¯</code>ç­‰ç­‰ï¼›å°±å¥½æ¯”è¯´æ‚¨å¦‚æœä¸æ¸…æ¥šæ“ä½œå‘½ä»¤ï¼Œ é‚£ä¹ˆæ‚¨å°±å¯ä»¥ä½¿ç”¨é¢æ¿çš„ç®€å•æ“ä½œï¼›</p>\n<p>åœ¨è¿™æ ·çš„æƒ³æ³•ä¸‹ï¼Œ äºæ˜¯æˆ‘å°±ç®€å•çš„å¼€å‘ï¼Œä¹‹å‰çš„ä¸€ä¸ªç‰ˆæœ¬æ˜¯<code>electron + vue</code>çš„å¼€å‘ï¼Œä½†æ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°çš„é—®é¢˜å¤ªå¤šå¤ªå¤šäº†ï¼Œ<code>electron</code>æ“ä½œçš„æ˜¯<code>node</code>ï¼›äºæ˜¯å°±å¼€å‘äº†ä¸€åŠï¼› ä¸è®ºæ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè¿˜æ˜¯æœ€åçš„æ‰“åŒ…éƒ¨ç½²å…¶ä½“ç§¯éƒ½æ˜¯å¾ˆå¤§çš„ï¼›ç®€å•çš„è¯´å°±æ˜¯åº•å±‚ç”¨çš„æ˜¯<code>electron</code>ï¼Œå…¶å¤–å±‚å°±æ˜¯<code>webview</code>é¡µé¢ï¼Œä¸åšä¼˜åŒ–çš„æƒ…å†µä¸‹ä½“ç§¯å¾ˆå¤§ï¼›ä¸€ä¸ªç®€å•çš„å·¥å…·æ€»ä¸æ˜¯å‡ åå…†çš„å¤§å°å§ï¼Œä¸åˆé€‚ï¼›</p>\n<p>äºæ˜¯å°±ç®€å•çš„æ¥è§¦äº†<code>rust</code>,</p>\n<h2 id=\"ä¸‹è½½åœ°å€\"><a href=\"#ä¸‹è½½åœ°å€\" class=\"headerlink\" title=\"ä¸‹è½½åœ°å€\"></a>ä¸‹è½½åœ°å€</h2><ul>\n<li><a href=\"https://wangxiaoze-view.github.io/picx-images-hosting/app/dev-tools/0.0.1/dev-tools_0.0.1_aarch64.dmg\"><strong>mac ç³»ç»Ÿå®‰è£…</strong></a></li>\n<li><a href=\"https://wangxiaoze-view.github.io/picx-images-hosting/app/dev-tools/0.0.1/dev-tools_0.0.1_x64-setup.exe\"><strong>windows ç³»ç»Ÿå®‰è£…</strong></a></li>\n</ul>\n<h2 id=\"å¼€å‘è¿›åº¦\"><a href=\"#å¼€å‘è¿›åº¦\" class=\"headerlink\" title=\"å¼€å‘è¿›åº¦\"></a>å¼€å‘è¿›åº¦</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><Badge type=\"info\" text=\"å·²å®Œæˆ\" /></h3><ul>\n<li>åŸºç¡€é¡µé¢åŠŸèƒ½å·²å®Œæˆ;</li>\n<li>ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½å·²å®Œæˆï¼›</li>\n<li>git é…ç½®åŠŸèƒ½å·²å®Œæˆï¼›</li>\n<li>node ç®¡ç†åŠŸèƒ½å·²å®Œæˆï¼›</li>\n<li>æ—¥å¿—æ‰“å°ï¼Œä»£ç ä¼˜åŒ–</li>\n<li>æ“ä½œç³»ç»Ÿçš„å…œåº•</li>\n</ul>\n<h2 id=\"æœ‰å“ªäº›åŠŸèƒ½\"><a href=\"#æœ‰å“ªäº›åŠŸèƒ½\" class=\"headerlink\" title=\"æœ‰å“ªäº›åŠŸèƒ½\"></a>æœ‰å“ªäº›åŠŸèƒ½</h2><ol>\n<li><strong>æ¬¢è¿é¡µï¼š</strong> ä»‹ç»æœ¬æ¬¾è½¯ä»¶çš„ä½œç”¨ï¼Œä»¥åŠç®€å•ä»‹ç»ï¼›</li>\n<li><strong>é¦–é¡µï¼š</strong> æ¶µç›–å‰ç«¯å¸¸ç”¨çš„å¼€å‘å·¥å…·</li>\n<li><strong>Node ç®¡ç†ï¼š</strong> å¯è§†åŒ–çš„ node ç®¡ç†ï¼Œå¯ä»¥æŸ¥çœ‹ node çš„ç‰ˆæœ¬ï¼Œä»¥åŠå®‰è£…å¸è½½ nodeï¼›åŒæ—¶ä¹Ÿå¯æ“ä½œ npm ä¸‹è½½çš„å…¨å±€åŒ…ï¼›</li>\n<li><strong>Git é…ç½®ï¼š</strong> å…¨å±€çš„ git é…ç½®</li>\n</ol>\n<h2 id=\"äº®ç‚¹æœ‰å“ªäº›\"><a href=\"#äº®ç‚¹æœ‰å“ªäº›\" class=\"headerlink\" title=\"äº®ç‚¹æœ‰å“ªäº›\"></a>äº®ç‚¹æœ‰å“ªäº›</h2><ol>\n<li>å¦‚æœæ‚¨æƒ³è¦åˆ‡æ¢ node ç‰ˆæœ¬ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œ<code>nvm use 16.14.0</code>æˆ–è€…<code>fnm use 16.14.0</code>ï¼›ä½†æ˜¯æ‚¨æƒ³è¦åœ¨å¯è§†åŒ–ç•Œé¢ä¸Šåˆ‡æ¢ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦åœ¨ç›¸å¯¹åº”çš„ç•Œé¢è¿›è¡Œæ“ä½œï¼›</li>\n<li>æ‚¨ä¸éœ€è¦ä½ç‰ˆæœ¬çš„ nodeï¼Œå› ä¸ºæ‚¨åªéœ€è¦åœ¨<code>node</code>çš„ç‰ˆæœ¬ä¸Šè¿›è¡Œæ“ä½œï¼›å½“ç„¶æºå¸¦äº†å®‰è£…ä¾èµ–çš„åŠŸèƒ½ï¼Œæ‚¨å¯ä»¥å¯¹äºå…¨å±€ä¾èµ–è¿›è¡Œç®¡ç†</li>\n</ol>\n<h2 id=\"å›¾ç‰‡\"><a href=\"#å›¾ç‰‡\" class=\"headerlink\" title=\"å›¾ç‰‡\"></a>å›¾ç‰‡</h2><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.3k7wazx9ha.webp\" alt=\"æ¬¢è¿é¡µé¢\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.lyl6vzj1.webp\" alt=\"é¦–é¡µ\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.4n7llvv3zq.webp\" alt=\"Nodeç®¡ç†\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.231r98vwy8.webp\" alt=\"å®‰è£…Node\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.6pne9xv39s.webp\" alt=\"å·²ç»å®‰è£…çš„Node\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.32humf03cq.webp\" alt=\"é•œåƒæº\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.5fkh3mew3s.webp\" alt=\"å®‰è£…å…¨å±€åŒ…\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7sn3ktth5u.webp\" alt=\"git\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.lyl71441.webp\" alt=\"ä¸»é¢˜è®¾ç½®\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2rv0t9ntpo.webp\" alt=\"èœå•æ¨¡å¼\"></p>\n","excerpt":"","more":"<h1 id=\"dev-tools\"><a href=\"#dev-tools\" class=\"headerlink\" title=\"dev-tools\"></a>dev-tools</h1><p>è¯¥é¡¹ç›®æ˜¯æ˜¯<code>rust + vue</code>å¼€å‘çš„æ¡Œé¢ç«¯é¡¹ç›®ï¼Œæ˜¯å‰ç«¯å¯è§†åŒ–å¼€å‘å·¥å…·ï¼Œå½“ç„¶æ­¤å¼€å‘å·¥å…·ä¸åŒäºå¹³å¸¸çš„å¼€å‘å·¥å…·ï¼Œæ˜¯æœ‰åˆ©äºè‡ªå·±çš„ä¸€æ¬¾å·¥å…·ï¼›</p>\n<p><font color=\"#ff0000\">ç›®å‰å±äºæµ‹è¯•é˜¶æ®µï¼Œæœ‰äº›é—®é¢˜è¿˜æœªå‘ç°ï¼›</font></p>\n<h2 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h2><p>åœ¨å¼€å‘ä¸­ï¼Œæˆ‘æ›¾ç»æœ‰ä¸ªç–‘é—®ï¼Œå°±æ˜¯ä¸è®ºåœ¨<code>linux</code> è¿˜æ˜¯<code>docker</code>çš„å¼€å‘ç¯å¢ƒä¸‹ï¼Œå®ƒéƒ½æ˜¯æœ‰ä¸“å±çš„å¯è§†åŒ–é¢æ¿çš„ï¼Œæ¯”å¦‚<code>å®å¡”ï¼Œ1panel, dockeræ¡Œé¢ç«¯</code>ç­‰ç­‰ï¼›å°±å¥½æ¯”è¯´æ‚¨å¦‚æœä¸æ¸…æ¥šæ“ä½œå‘½ä»¤ï¼Œ é‚£ä¹ˆæ‚¨å°±å¯ä»¥ä½¿ç”¨é¢æ¿çš„ç®€å•æ“ä½œï¼›</p>\n<p>åœ¨è¿™æ ·çš„æƒ³æ³•ä¸‹ï¼Œ äºæ˜¯æˆ‘å°±ç®€å•çš„å¼€å‘ï¼Œä¹‹å‰çš„ä¸€ä¸ªç‰ˆæœ¬æ˜¯<code>electron + vue</code>çš„å¼€å‘ï¼Œä½†æ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°çš„é—®é¢˜å¤ªå¤šå¤ªå¤šäº†ï¼Œ<code>electron</code>æ“ä½œçš„æ˜¯<code>node</code>ï¼›äºæ˜¯å°±å¼€å‘äº†ä¸€åŠï¼› ä¸è®ºæ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè¿˜æ˜¯æœ€åçš„æ‰“åŒ…éƒ¨ç½²å…¶ä½“ç§¯éƒ½æ˜¯å¾ˆå¤§çš„ï¼›ç®€å•çš„è¯´å°±æ˜¯åº•å±‚ç”¨çš„æ˜¯<code>electron</code>ï¼Œå…¶å¤–å±‚å°±æ˜¯<code>webview</code>é¡µé¢ï¼Œä¸åšä¼˜åŒ–çš„æƒ…å†µä¸‹ä½“ç§¯å¾ˆå¤§ï¼›ä¸€ä¸ªç®€å•çš„å·¥å…·æ€»ä¸æ˜¯å‡ åå…†çš„å¤§å°å§ï¼Œä¸åˆé€‚ï¼›</p>\n<p>äºæ˜¯å°±ç®€å•çš„æ¥è§¦äº†<code>rust</code>,</p>\n<h2 id=\"ä¸‹è½½åœ°å€\"><a href=\"#ä¸‹è½½åœ°å€\" class=\"headerlink\" title=\"ä¸‹è½½åœ°å€\"></a>ä¸‹è½½åœ°å€</h2><ul>\n<li><a href=\"https://wangxiaoze-view.github.io/picx-images-hosting/app/dev-tools/0.0.1/dev-tools_0.0.1_aarch64.dmg\"><strong>mac ç³»ç»Ÿå®‰è£…</strong></a></li>\n<li><a href=\"https://wangxiaoze-view.github.io/picx-images-hosting/app/dev-tools/0.0.1/dev-tools_0.0.1_x64-setup.exe\"><strong>windows ç³»ç»Ÿå®‰è£…</strong></a></li>\n</ul>\n<h2 id=\"å¼€å‘è¿›åº¦\"><a href=\"#å¼€å‘è¿›åº¦\" class=\"headerlink\" title=\"å¼€å‘è¿›åº¦\"></a>å¼€å‘è¿›åº¦</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><Badge type=\"info\" text=\"å·²å®Œæˆ\" /></h3><ul>\n<li>åŸºç¡€é¡µé¢åŠŸèƒ½å·²å®Œæˆ;</li>\n<li>ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½å·²å®Œæˆï¼›</li>\n<li>git é…ç½®åŠŸèƒ½å·²å®Œæˆï¼›</li>\n<li>node ç®¡ç†åŠŸèƒ½å·²å®Œæˆï¼›</li>\n<li>æ—¥å¿—æ‰“å°ï¼Œä»£ç ä¼˜åŒ–</li>\n<li>æ“ä½œç³»ç»Ÿçš„å…œåº•</li>\n</ul>\n<h2 id=\"æœ‰å“ªäº›åŠŸèƒ½\"><a href=\"#æœ‰å“ªäº›åŠŸèƒ½\" class=\"headerlink\" title=\"æœ‰å“ªäº›åŠŸèƒ½\"></a>æœ‰å“ªäº›åŠŸèƒ½</h2><ol>\n<li><strong>æ¬¢è¿é¡µï¼š</strong> ä»‹ç»æœ¬æ¬¾è½¯ä»¶çš„ä½œç”¨ï¼Œä»¥åŠç®€å•ä»‹ç»ï¼›</li>\n<li><strong>é¦–é¡µï¼š</strong> æ¶µç›–å‰ç«¯å¸¸ç”¨çš„å¼€å‘å·¥å…·</li>\n<li><strong>Node ç®¡ç†ï¼š</strong> å¯è§†åŒ–çš„ node ç®¡ç†ï¼Œå¯ä»¥æŸ¥çœ‹ node çš„ç‰ˆæœ¬ï¼Œä»¥åŠå®‰è£…å¸è½½ nodeï¼›åŒæ—¶ä¹Ÿå¯æ“ä½œ npm ä¸‹è½½çš„å…¨å±€åŒ…ï¼›</li>\n<li><strong>Git é…ç½®ï¼š</strong> å…¨å±€çš„ git é…ç½®</li>\n</ol>\n<h2 id=\"äº®ç‚¹æœ‰å“ªäº›\"><a href=\"#äº®ç‚¹æœ‰å“ªäº›\" class=\"headerlink\" title=\"äº®ç‚¹æœ‰å“ªäº›\"></a>äº®ç‚¹æœ‰å“ªäº›</h2><ol>\n<li>å¦‚æœæ‚¨æƒ³è¦åˆ‡æ¢ node ç‰ˆæœ¬ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œ<code>nvm use 16.14.0</code>æˆ–è€…<code>fnm use 16.14.0</code>ï¼›ä½†æ˜¯æ‚¨æƒ³è¦åœ¨å¯è§†åŒ–ç•Œé¢ä¸Šåˆ‡æ¢ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦åœ¨ç›¸å¯¹åº”çš„ç•Œé¢è¿›è¡Œæ“ä½œï¼›</li>\n<li>æ‚¨ä¸éœ€è¦ä½ç‰ˆæœ¬çš„ nodeï¼Œå› ä¸ºæ‚¨åªéœ€è¦åœ¨<code>node</code>çš„ç‰ˆæœ¬ä¸Šè¿›è¡Œæ“ä½œï¼›å½“ç„¶æºå¸¦äº†å®‰è£…ä¾èµ–çš„åŠŸèƒ½ï¼Œæ‚¨å¯ä»¥å¯¹äºå…¨å±€ä¾èµ–è¿›è¡Œç®¡ç†</li>\n</ol>\n<h2 id=\"å›¾ç‰‡\"><a href=\"#å›¾ç‰‡\" class=\"headerlink\" title=\"å›¾ç‰‡\"></a>å›¾ç‰‡</h2><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.3k7wazx9ha.webp\" alt=\"æ¬¢è¿é¡µé¢\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.lyl6vzj1.webp\" alt=\"é¦–é¡µ\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.4n7llvv3zq.webp\" alt=\"Nodeç®¡ç†\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.231r98vwy8.webp\" alt=\"å®‰è£…Node\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.6pne9xv39s.webp\" alt=\"å·²ç»å®‰è£…çš„Node\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.32humf03cq.webp\" alt=\"é•œåƒæº\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.5fkh3mew3s.webp\" alt=\"å®‰è£…å…¨å±€åŒ…\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7sn3ktth5u.webp\" alt=\"git\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.lyl71441.webp\" alt=\"ä¸»é¢˜è®¾ç½®\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2rv0t9ntpo.webp\" alt=\"èœå•æ¨¡å¼\"></p>\n"},{"title":"Html-åŸºç¡€æ ‡ç­¾","abbrlink":"7d66def0","date":"2023-03-12T03:20:38.000Z","_content":"\n# ä»‹ç»\n\n{% note info simple %}\n**HTML æ˜¯åˆ›å»ºç½‘é¡µçš„æ ‡å‡†æ ‡è®°è¯­è¨€ã€‚**\n{% endnote %}\n- `HTML` è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€;\n- `HTML` æ˜¯åˆ›å»ºç½‘é¡µçš„æ ‡å‡†æ ‡è®°æ ‡ç­¾è¯­è¨€;\n- `HTML` æè¿°ç½‘é¡µçš„ç»“æ„;\n- `HTML` ç”±ä¸€ç³»åˆ—å…ƒç´ ç»„æˆ;\n- `HTML` å…ƒç´ å‘Šè¯‰æµè§ˆå™¨å¦‚ä½•æ˜¾ç¤ºå†…å®¹;\n- `HTML` å…ƒç´ æ ‡è®°å†…å®¹ç‰‡æ®µï¼Œä¾‹å¦‚â€œè¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜â€ã€â€œè¿™æ˜¯ä¸€ä¸ªæ®µè½â€ã€â€œè¿™æ˜¯ä¸€ä¸ªé“¾æ¥â€ç­‰ç­‰ã€‚\n\n## åˆ›å»ºä¸€ä¸ªç®€å•çš„ HTML æ–‡ä»¶\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<title>Page Title</title>\n\t\t<meta charset=\"UTF-8\" />\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\t\t<style></style>\n\t</head>\n\t<body>\n\t\t<div id=\"app\"></div>\n\t\t<script></script>\n\t</body>\n</html>\n```\n\n### ä»£ç è§£é‡Š\n\n- å£°æ˜ `<!DOCTYPE html>` å®šä¹‰æ­¤æ–‡æ¡£æ˜¯ HTML5 æ–‡æ¡£\n- è¯¥ `<html>` å…ƒç´ æ˜¯ HTML é¡µé¢çš„æ ¹å…ƒç´ \n- è¯¥ `<head>` å…ƒç´ åŒ…å«æœ‰å…³ HTML é¡µé¢çš„å…ƒä¿¡æ¯\n- è¯¥ `<title>` å…ƒç´ æŒ‡å®š HTML é¡µé¢çš„æ ‡é¢˜ï¼ˆæ˜¾ç¤ºåœ¨æµè§ˆå™¨çš„æ ‡é¢˜æ æˆ–é¡µé¢çš„é€‰é¡¹å¡ä¸­ï¼‰\n- å…ƒç´  `<body>` å®šä¹‰æ–‡æ¡£çš„ä¸»ä½“ï¼Œæ˜¯æ‰€æœ‰å¯è§å†…å®¹çš„å®¹å™¨ï¼Œä¾‹å¦‚æ ‡é¢˜ã€æ®µè½ã€å›¾åƒã€è¶…é“¾æ¥ã€è¡¨æ ¼ã€åˆ—è¡¨ç­‰ã€‚\n- `<script>` å®šä¹‰äº¤äº’é€»è¾‘ä¸»é¢˜ä»£ç \n- `<style>` å…ƒç´ æ ·å¼ä¸»é¢˜\n\n### å…ƒç´ \n\n`å…ƒç´ `å°±æ˜¯ä¸€å¥—æ ‡è®°æ ‡ç­¾è¯­è¨€(å¼€å§‹æ ‡ç­¾ï¼Œç»“æŸæ ‡ç­¾)ï¼Œä¾‹å¦‚ï¼š`<div>`ã€`<p>`ã€`<a>`ã€`<img />`ã€`<script>`ã€`<style>`ã€`<title>`ã€`<meta>`ã€`<body>`ã€`<head>`ã€`<html>`ç­‰ã€‚\n\n```html\n<!-- <p> å¼€å§‹æ ‡ç­¾ -->\n<!-- </p> ç»“æŸæ ‡ç­¾ -->\n<p>è¿™æ˜¯ä¸€æ®µæ–‡æœ¬</p>\n```\n\n---\n\næ¥ä¸‹æ¥ï¼Œå°†å¸¦æ‚¨è®¤è¯†`å…ƒç´ æ ‡ç­¾`...\n\n## æ ‡é¢˜ `H1-H6`\n\n`HTML` æ ‡é¢˜æ˜¯æ‚¨æƒ³è¦åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºçš„æ ‡é¢˜æˆ–å‰¯æ ‡é¢˜ã€‚\n\nå¸¸å¸¸ç”¨äºç½‘é¡µçš„æ ‡é¢˜å±•ç¤ºï¼Œæ ‡é¢˜åˆ†ä¸º `1-6`ï¼Œç„¶è€Œæƒé‡æ˜¯ä¸ä¸€æ ·çš„ï¼Œå„æœ‰ä¸ªçš„ç”¨æ³•ï¼› `<h1></h1>`å®šä¹‰æœ€ä¸ºé‡è¦çš„æ ‡é¢˜ï¼Œä¹Ÿæ˜¯æƒé‡æœ€é«˜çš„ï¼Œè€Œ `<h6></h6>`å®šä¹‰æœ€ä¸é‡è¦çš„æ ‡é¢˜ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æƒé‡æœ€å°çš„ã€‚\n\n### ç”¨æ³•\n\n```html\n<h1>æ ‡é¢˜1</h1>\n<h2>æ ‡é¢˜2</h2>\n<h3>æ ‡é¢˜3</h3>\n<h4>æ ‡é¢˜4</h4>\n<h5>æ ‡é¢˜5</h5>\n<h6>æ ‡é¢˜6</h6>\n```\n\n{% note warning simple %}\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼š\n\næµè§ˆå™¨ä¼šåœ¨æ ‡é¢˜çš„å‰åæ·»åŠ ä¸€äº›é—´è·ï¼ˆç©ºç™½è·ç¦»ï¼‰ï¼›åŒæ—¶ä»…ä»…æœ€ä½œä¸ºé¢˜ï¼Œä¸å»ºè®®ç”¨æ ‡é¢˜å°†æ–‡æœ¬**åŠ ç²—æˆ–è€…æ”¾å¤§**ï¼›å› ä¸ºæµè§ˆå™¨é»˜è®¤çš„æ ·å¼å·²ç»è¶³å¤Ÿï¼Œå½“ç„¶æƒé‡ä¸å¤ªä¸€æ ·ï¼Œå¯¼è‡´çš„å­—ä½“å¤§å°ä¹Ÿæ˜¯ä¸ç”¨çš„ï¼Œå½“ç„¶æ–‡æœ¬åŠ ç²—**æ˜¯é»˜è®¤çš„**ï¼›\n{% endnote %}\n\n## æ®µè½ `P`\n\n{% note info simple %}\næ®µè½æ ‡ç­¾æ˜¯æœ€å¸¸ç”¨çš„æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬åˆ†æˆæ®µè½ï¼Œæ®µè½ä¹‹é—´ç”¨ `<p></p>` æ ‡ç­¾åŒ…è£¹èµ·æ¥ã€‚æ–°è¡Œå¼€å§‹ï¼Œå¹¶ä¸”é€šå¸¸æ˜¯ä¸€å—æ–‡æœ¬ã€‚ç»å¸¸ç”¨äºæ–‡ç« çš„å±•ç¤ºï¼›\n\nåŒæ ·ï¼Œæ®µè½æ€»æ˜¯ä»æ–°è¡Œå¼€å§‹ï¼Œå¹¶ä¸”æµè§ˆå™¨ä¼šè‡ªåŠ¨åœ¨æ®µè½å‰åæ·»åŠ ä¸€äº›ç©ºç™½ï¼ˆè¾¹è·ï¼‰ã€‚\n{% endnote %}\n\n\n### ç”¨æ³•\n\n```html\n<p>This is a paragraph.</p>\n<p>This is another paragraph.</p>\n```\n\nå½“ç„¶ï¼Œ`P`æ ‡ç­¾åœ¨ç½‘é¡µä¸­ï¼Œä¼šè‡ªåŠ¨åˆ é™¤å¤šä½™çš„ç©ºè¡Œä¸ç©ºæ ¼ï¼›\n\n### æ°´å¹³è§„åˆ™ `hr`\n\næ°´å¹³è§„åˆ™æ ‡ç­¾ï¼Œç”¨äºåœ¨ç½‘é¡µä¸­æ·»åŠ æ°´å¹³åˆ†å‰²çº¿ï¼Œä¾‹å¦‚ï¼š\n\n```html\n<p>è¿™æ—¶ä¸€æ®µå†…å®¹</p>\n<hr />\n<p>è¿™æ—¶ä¸€æ®µå†…å®¹</p>\n<hr />\n```\n\nè¯¥`<hr>`æ ‡ç­¾ä¸ºç©ºæ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ²¡æœ‰ç»“æŸæ ‡ç­¾ã€‚\n\n### æ¢è¡Œç¬¦ `br`\n\nbr æ ‡ç­¾ï¼Œç”¨äºåœ¨ç½‘é¡µä¸­æ·»åŠ æ¢è¡Œç¬¦ï¼Œä¾‹å¦‚ï¼š\n\n```html\n<p>è¿™æ˜¯ç¬¬ä¸€è¡Œ</p>\n<br />\n<p>è¿™æ˜¯ç¬¬äºŒè¡Œ</p>\n<br />\n<p>è¿™æ˜¯ç¬¬ä¸‰è¡Œ</p>\n<br />\n```\n\nè¯¥`<br>`æ ‡ç­¾ä¸ºç©ºæ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ²¡æœ‰ç»“æŸæ ‡ç­¾ã€‚\n\n## æ ¼å¼åŒ–æ ‡ç­¾\n\n### å«ä¹‰\n\n1. `b`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ç²—ä½“**ï¼Œä¾‹å¦‚ï¼š\n2. `i`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**æ–œä½“**ï¼Œä¾‹å¦‚ï¼š\n3. `u`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ä¸‹åˆ’çº¿**ï¼Œä¾‹å¦‚ï¼š\n4. `s`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**åˆ é™¤çº¿**ï¼Œä¾‹å¦‚ï¼š\n5. `em`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**æ–œä½“**ï¼Œä¾‹å¦‚ï¼š\n6. `strong`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ç²—ä½“**ï¼Œä¾‹å¦‚ï¼š\n7. `mark`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**æ ‡è®°**ï¼Œä¾‹å¦‚ï¼š\n8. `del`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**åˆ é™¤çº¿**ï¼Œä¾‹å¦‚ï¼š\n9. `ins`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ä¸‹åˆ’çº¿**ï¼Œä¾‹å¦‚ï¼š\n10. `sub`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ä¸‹æ ‡**ï¼Œä¾‹å¦‚ï¼š\n11. `sup`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ä¸Šæ ‡**ï¼Œä¾‹å¦‚ï¼š\n12. `abbr`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ç¼©å†™**ï¼Œä¾‹å¦‚ï¼š\n13. `code`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ä»£ç **ï¼Œä¾‹å¦‚ï¼š\n14. `kbd`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**é”®ç›˜**ï¼Œä¾‹å¦‚ï¼š\n15. `var`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**å˜é‡**ï¼Œä¾‹å¦‚ï¼š\n16. `samp`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ç¤ºä¾‹**ï¼Œä¾‹å¦‚ï¼š\n17. `cite`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**å¼•ç”¨**ï¼Œä¾‹å¦‚ï¼š\n18. `dfn`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**å®šä¹‰**ï¼Œä¾‹å¦‚ï¼š\n19. `q`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**å¼•ç”¨**ï¼Œä¾‹å¦‚ï¼š\n20. `blockquote`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**å¼•ç”¨**ï¼Œä¾‹å¦‚ï¼š\n21. `address`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**åœ°å€**ï¼Œä¾‹å¦‚ï¼š\n22. `pre`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**é¢„æ ¼å¼æ–‡æœ¬**ï¼Œä¾‹å¦‚ï¼š\n23. `small`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**å°å·**ï¼Œä¾‹å¦‚ï¼š\n\n### æ¡ˆä¾‹\n\n```html\n<p><b>ç²—ä½“</b></p>\n<p><strong>ç²—ä½“</strong></p>\n<p><em>æ–œä½“</em></p>\n<p><i>æ–œä½“</i></p>\n<p><u>ä¸‹åˆ’çº¿</u></p>\n<p><ins>ä¸‹åˆ’çº¿</ins></p>\n<p><s>åˆ é™¤çº¿</s></p>\n<p><del>åˆ é™¤çº¿</del></p>\n<p><mark>æ ‡è®°</mark></p>\n<p><sub>ä¸‹æ ‡</sub></p>\n<p><sup>ä¸Šæ ‡</sup></p>\n<p><small>å°å·</small></p>\n<p><abbr title=\"Hyper Text Markup Language\">HTML</abbr></p>\n<p><code>ä»£ç </code></p>\n<p><kbd>é”®ç›˜</kbd></p>\n<p><var>å˜é‡</var></p>\n<p><samp>ç¤ºä¾‹</samp></p>\n<p><cite>å¼•ç”¨</cite></p>\n<p><dfn>å®šä¹‰</dfn></p>\n<p><q>å¼•ç”¨</q></p>\n<p><blockquote>å¼•ç”¨</blockquote></p>\n<p><cite>å¼•ç”¨</cite></p>\n<p><address>åœ°å€</address></p>\n<p><ins>å¼•ç”¨</ins></p>\n<p><del>å¼•ç”¨</del></p>\n<p><s>å¼•ç”¨</s></p>\n<p><s>å¼•ç”¨</s></p>\n<pre>\n  My Bonnie lies over the ocean.\n</pre>\n```\n\n## é“¾æ¥æ ‡ç­¾\n\né“¾æ¥æ ‡ç­¾ï¼Œç”¨äºåœ¨ç½‘é¡µä¸­æ·»åŠ è¶…é“¾æ¥ï¼Œä¾‹å¦‚ï¼š\n\n### ç”¨æ³•\n\n```html\n<a href=\"https://www.baidu.com\">ç™¾åº¦</a>\n<a href=\"https://www.baidu.com\" target=\"_blank\">ç™¾åº¦</a>\n<a href=\"https://www.baidu.com\" target=\"_self\">ç™¾åº¦</a>\n<a href=\"https://www.baidu.com\" target=\"_parent\">ç™¾åº¦</a>\n<a href=\"https://www.baidu.com\" target=\"_top\">ç™¾åº¦</a>\n```\n\n**å‡ ä¹æ‰€æœ‰ç½‘é¡µä¸Šéƒ½æœ‰é“¾æ¥ã€‚é“¾æ¥å…è®¸ç”¨æˆ·é€šè¿‡ç‚¹å‡»ä»ä¸€ä¸ªé¡µé¢åˆ°å¦ä¸€ä¸ªé¡µé¢ã€‚æ‚¨å¯ä»¥å•å‡»é“¾æ¥å¹¶è·³è½¬åˆ°å¦ä¸€ä¸ªæ–‡æ¡£ã€‚å½“å°†é¼ æ ‡ç§»åˆ°é“¾æ¥ä¸Šæ—¶ï¼Œé¼ æ ‡ç®­å¤´ä¼šå˜æˆä¸€åªå°æ‰‹ã€‚**\n\n{% note warning simple %}\næ³¨æ„ï¼šé“¾æ¥ä¸ä¸€å®šæ˜¯æ–‡æœ¬ã€‚é“¾æ¥å¯ä»¥æ˜¯å›¾åƒæˆ–ä»»ä½•å…¶ä»– HTML å…ƒç´ ï¼\n{% endnote %}\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œé“¾æ¥åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­éƒ½ä¼šæ˜¾ç¤ºå¦‚ä¸‹å†…å®¹ï¼š\n\n- æœªè®¿é—®çš„é“¾æ¥å¸¦æœ‰ä¸‹åˆ’çº¿å’Œè“è‰²\n- å·²è®¿é—®çš„é“¾æ¥å¸¦æœ‰ä¸‹åˆ’çº¿å’Œç´«è‰²\n- æ´»åŠ¨é“¾æ¥å¸¦æœ‰ä¸‹åˆ’çº¿å’Œçº¢è‰²\n- å½“ç„¶å¯ä»¥ä½¿ç”¨ CSS è®¾ç½®é“¾æ¥æ ·å¼ï¼Œä»¥è·å¾—å¦ä¸€ç§å¤–è§‚ï¼\n\n### å±æ€§\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œé“¾æ¥çš„é¡µé¢å°†æ˜¾ç¤ºåœ¨å½“å‰æµè§ˆå™¨çª—å£ä¸­ã€‚è¦æ›´æ”¹æ­¤è®¾ç½®ï¼Œæ‚¨å¿…é¡»ä¸ºé“¾æ¥æŒ‡å®šå¦ä¸€ä¸ªç›®æ ‡ã€‚\nè¯¥`target`å±æ€§æŒ‡å®šåœ¨ä½•å¤„æ‰“å¼€é“¾æ¥çš„æ–‡æ¡£ã€‚\n\n- \\_self- é»˜è®¤ã€‚åœ¨å•å‡»çš„åŒä¸€çª—å£/é€‰é¡¹å¡ä¸­æ‰“å¼€æ–‡æ¡£\n- \\_blank- åœ¨æ–°çª—å£æˆ–é€‰é¡¹å¡ä¸­æ‰“å¼€æ–‡æ¡£\n- \\_parent- åœ¨çˆ¶æ¡†æ¶ä¸­æ‰“å¼€æ–‡æ¡£\n- \\_top- åœ¨çª—å£ä¸­æ‰“å¼€æ•´ä¸ªæ–‡æ¡£\n\n### å…¶ä»–ç”¨æ³•\n\né”šç‚¹æ ‡ç­¾ï¼Œç”¨äºåœ¨ç½‘é¡µä¸­æ·»åŠ é”šç‚¹ï¼Œä¾‹å¦‚ï¼š\n\n```html\n<!-- é”šç‚¹æ ‡ç­¾ -->\n<a name=\"top\"></a>\n<a href=\"#top\">å›åˆ°é¡¶éƒ¨</a>\n<!-- å¸¸è§„ç”¨æ³• -->\n<a href=\"https://www.baidu.com\">ç™¾åº¦</a>\n<a href=\"https://www.baidu.com\" target=\"_blank\">ç™¾åº¦</a>\n<a href=\"https://www.baidu.com\" target=\"_self\">ç™¾åº¦</a>\n<a href=\"https://www.baidu.com\" target=\"_parent\">ç™¾åº¦</a>\n<a href=\"https://www.baidu.com\" target=\"_top\">ç™¾åº¦</a>\n<!-- ç”µå­é‚®ä»¶ -->\n<a href=\"mailto:admin@example.com\">å‘é€ç”µå­é‚®ä»¶</a>\n<!-- æ‹¨æ‰“ç”µè¯ -->\n<a href=\"tel:+1-555-555-5555\">æ‹¨æ‰“ç”µè¯</a>\n<!-- äº‹ä»¶è§¦å‘ -->\n<a href=\"javascript:void(0);\" onclick=\"alert('Hello World!');\">ç‚¹å‡»æˆ‘</a>\n<a href=\"https://www.baidu.com\" onclick=\"return confirm('ç¡®å®šè¦è®¿é—®ç™¾åº¦å—ï¼Ÿ');\">\n\tç™¾åº¦\n</a>\n```\n\n## å›¾åƒ\n\nä½¿ç”¨`<img/>`å¯ä»¥åœ¨ç½‘é¡µä¸­åµŒå…¥å›¾ç‰‡ï¼Œå›¾åƒä¸€èˆ¬æœ‰ä¿©ä¸ªå¿…å¡«çš„å‚æ•°\n\n- srcï¼šå›¾ç‰‡åœ°å€, å¯ä»¥æ˜¯æœ¬åœ°åœ°å€ä¹Ÿå¯ä»¥æ˜¯ç½‘ç»œèµ„æº\n- altï¼šå›¾ç‰‡æè¿°ï¼Œå›¾ç‰‡çš„æè¿°ï¼Œå½“å›¾ç‰‡ä¸å­˜åœ¨çš„æ—¶å€™ä¼šæ˜¾ç¤º\n\nå›¾åƒè¿˜æ”¯æŒå®½åº¦å’Œé«˜åº¦\n\n```html\n<img src=\"xxxx\" alt=\"\" width=\"100\" height=\"100\" />\n```\n\nä¸è¿‡ä¸å»ºè®®è¿™æ ·å»å†™å®½åº¦å’Œé«˜åº¦ï¼Œ å› ä¸ºå›¾ç‰‡åŠ è½½çš„æ—¶å€™ï¼Œä¼šæ ¹æ®å®½åº¦å’Œé«˜åº¦å»è®¡ç®—å›¾ç‰‡çš„å®½é«˜ï¼Œå¯¼è‡´å›¾ç‰‡åŠ è½½æ—¶é—´è¿‡é•¿ã€‚\nå¯ä»¥ä½¿ç”¨ CSS æ¥è®¾ç½®å›¾ç‰‡çš„å®½åº¦å’Œé«˜åº¦ï¼Œä¾‹å¦‚ï¼š\n\n```css\nimg {\n\twidth: 100px;\n\theight: 100px;\n\tobject-fit: cover;\n}\n```\n\n## è¡¨æ ¼\n\nè¯¦ç»†ä»‹ç»è¯·çœ‹æ–‡æ¡£ï¼š[åˆ—è¡¨](https://www.w3schools.com/html/html_tables.asp)\n\n```html\n<table>\n\t<!-- å®šä¹‰è¡¨æ ¼æ ‡é¢˜ -->\n\t<caption>\n\t\tMonthly savings\n\t</caption>\n\t<!-- è§„å®šè¡¨ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—çš„ç»„ä»¥è¿›è¡Œæ ¼å¼åŒ– -->\n\t<colgroup>\n\t\t<col />\n\t\t<col />\n\t\t<col />\n\t</colgroup>\n\t<!-- å°†è¡¨å¤´å†…å®¹åˆ†ç»„åˆ°è¡¨ä¸­ -->\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Person 1</th>\n\t\t\t<th>Person 2</th>\n\t\t\t<th>Person 3</th>\n\t\t</tr>\n\t</thead>\n\t<!-- å°†æ­£æ–‡å†…å®¹åˆ†ç»„åˆ°è¡¨æ ¼ä¸­ -->\n\t<tbody>\n\t\t<tr>\n\t\t\t<td>Emil</td>\n\t\t\t<td>Tobias</td>\n\t\t\t<td>Linus</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>16</td>\n\t\t\t<td>14</td>\n\t\t\t<td>10</td>\n\t\t</tr>\n\t</tbody>\n\t<!-- å°†é¡µè„šå†…å®¹åˆ†ç»„åˆ°è¡¨æ ¼ä¸­ -->\n\t<tfoot></tfoot>\n</table>\n```\n\n## åˆ—è¡¨\n\nè¯¦ç»†ä»‹ç»è¯·çœ‹æ–‡æ¡£ï¼š[åˆ—è¡¨](https://www.w3schools.com/html/html_lists.asp)\n\n```html\n<ol>\n\t<li>Coffee</li>\n\t<li>Tea</li>\n</ol>\n\n<ul>\n\t<li>Coffee</li>\n\t<li>Tea</li>\n</ul>\n\n<dl>\n\t<dt>Coffee</dt>\n\t<dd>- black hot drink</dd>\n\t<dt>Milk</dt>\n\t<dd>- white cold drink</dd>\n</dl>\n```\n","source":"_posts/æŠ€èƒ½å°å†Œ/html/index.md","raw":"---\ntitle: Html-åŸºç¡€æ ‡ç­¾\nabbrlink: 7d66def0\ndate: 2023-03-12 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Html \n---\n\n# ä»‹ç»\n\n{% note info simple %}\n**HTML æ˜¯åˆ›å»ºç½‘é¡µçš„æ ‡å‡†æ ‡è®°è¯­è¨€ã€‚**\n{% endnote %}\n- `HTML` è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€;\n- `HTML` æ˜¯åˆ›å»ºç½‘é¡µçš„æ ‡å‡†æ ‡è®°æ ‡ç­¾è¯­è¨€;\n- `HTML` æè¿°ç½‘é¡µçš„ç»“æ„;\n- `HTML` ç”±ä¸€ç³»åˆ—å…ƒç´ ç»„æˆ;\n- `HTML` å…ƒç´ å‘Šè¯‰æµè§ˆå™¨å¦‚ä½•æ˜¾ç¤ºå†…å®¹;\n- `HTML` å…ƒç´ æ ‡è®°å†…å®¹ç‰‡æ®µï¼Œä¾‹å¦‚â€œè¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜â€ã€â€œè¿™æ˜¯ä¸€ä¸ªæ®µè½â€ã€â€œè¿™æ˜¯ä¸€ä¸ªé“¾æ¥â€ç­‰ç­‰ã€‚\n\n## åˆ›å»ºä¸€ä¸ªç®€å•çš„ HTML æ–‡ä»¶\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<title>Page Title</title>\n\t\t<meta charset=\"UTF-8\" />\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\t\t<style></style>\n\t</head>\n\t<body>\n\t\t<div id=\"app\"></div>\n\t\t<script></script>\n\t</body>\n</html>\n```\n\n### ä»£ç è§£é‡Š\n\n- å£°æ˜ `<!DOCTYPE html>` å®šä¹‰æ­¤æ–‡æ¡£æ˜¯ HTML5 æ–‡æ¡£\n- è¯¥ `<html>` å…ƒç´ æ˜¯ HTML é¡µé¢çš„æ ¹å…ƒç´ \n- è¯¥ `<head>` å…ƒç´ åŒ…å«æœ‰å…³ HTML é¡µé¢çš„å…ƒä¿¡æ¯\n- è¯¥ `<title>` å…ƒç´ æŒ‡å®š HTML é¡µé¢çš„æ ‡é¢˜ï¼ˆæ˜¾ç¤ºåœ¨æµè§ˆå™¨çš„æ ‡é¢˜æ æˆ–é¡µé¢çš„é€‰é¡¹å¡ä¸­ï¼‰\n- å…ƒç´  `<body>` å®šä¹‰æ–‡æ¡£çš„ä¸»ä½“ï¼Œæ˜¯æ‰€æœ‰å¯è§å†…å®¹çš„å®¹å™¨ï¼Œä¾‹å¦‚æ ‡é¢˜ã€æ®µè½ã€å›¾åƒã€è¶…é“¾æ¥ã€è¡¨æ ¼ã€åˆ—è¡¨ç­‰ã€‚\n- `<script>` å®šä¹‰äº¤äº’é€»è¾‘ä¸»é¢˜ä»£ç \n- `<style>` å…ƒç´ æ ·å¼ä¸»é¢˜\n\n### å…ƒç´ \n\n`å…ƒç´ `å°±æ˜¯ä¸€å¥—æ ‡è®°æ ‡ç­¾è¯­è¨€(å¼€å§‹æ ‡ç­¾ï¼Œç»“æŸæ ‡ç­¾)ï¼Œä¾‹å¦‚ï¼š`<div>`ã€`<p>`ã€`<a>`ã€`<img />`ã€`<script>`ã€`<style>`ã€`<title>`ã€`<meta>`ã€`<body>`ã€`<head>`ã€`<html>`ç­‰ã€‚\n\n```html\n<!-- <p> å¼€å§‹æ ‡ç­¾ -->\n<!-- </p> ç»“æŸæ ‡ç­¾ -->\n<p>è¿™æ˜¯ä¸€æ®µæ–‡æœ¬</p>\n```\n\n---\n\næ¥ä¸‹æ¥ï¼Œå°†å¸¦æ‚¨è®¤è¯†`å…ƒç´ æ ‡ç­¾`...\n\n## æ ‡é¢˜ `H1-H6`\n\n`HTML` æ ‡é¢˜æ˜¯æ‚¨æƒ³è¦åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºçš„æ ‡é¢˜æˆ–å‰¯æ ‡é¢˜ã€‚\n\nå¸¸å¸¸ç”¨äºç½‘é¡µçš„æ ‡é¢˜å±•ç¤ºï¼Œæ ‡é¢˜åˆ†ä¸º `1-6`ï¼Œç„¶è€Œæƒé‡æ˜¯ä¸ä¸€æ ·çš„ï¼Œå„æœ‰ä¸ªçš„ç”¨æ³•ï¼› `<h1></h1>`å®šä¹‰æœ€ä¸ºé‡è¦çš„æ ‡é¢˜ï¼Œä¹Ÿæ˜¯æƒé‡æœ€é«˜çš„ï¼Œè€Œ `<h6></h6>`å®šä¹‰æœ€ä¸é‡è¦çš„æ ‡é¢˜ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æƒé‡æœ€å°çš„ã€‚\n\n### ç”¨æ³•\n\n```html\n<h1>æ ‡é¢˜1</h1>\n<h2>æ ‡é¢˜2</h2>\n<h3>æ ‡é¢˜3</h3>\n<h4>æ ‡é¢˜4</h4>\n<h5>æ ‡é¢˜5</h5>\n<h6>æ ‡é¢˜6</h6>\n```\n\n{% note warning simple %}\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼š\n\næµè§ˆå™¨ä¼šåœ¨æ ‡é¢˜çš„å‰åæ·»åŠ ä¸€äº›é—´è·ï¼ˆç©ºç™½è·ç¦»ï¼‰ï¼›åŒæ—¶ä»…ä»…æœ€ä½œä¸ºé¢˜ï¼Œä¸å»ºè®®ç”¨æ ‡é¢˜å°†æ–‡æœ¬**åŠ ç²—æˆ–è€…æ”¾å¤§**ï¼›å› ä¸ºæµè§ˆå™¨é»˜è®¤çš„æ ·å¼å·²ç»è¶³å¤Ÿï¼Œå½“ç„¶æƒé‡ä¸å¤ªä¸€æ ·ï¼Œå¯¼è‡´çš„å­—ä½“å¤§å°ä¹Ÿæ˜¯ä¸ç”¨çš„ï¼Œå½“ç„¶æ–‡æœ¬åŠ ç²—**æ˜¯é»˜è®¤çš„**ï¼›\n{% endnote %}\n\n## æ®µè½ `P`\n\n{% note info simple %}\næ®µè½æ ‡ç­¾æ˜¯æœ€å¸¸ç”¨çš„æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬åˆ†æˆæ®µè½ï¼Œæ®µè½ä¹‹é—´ç”¨ `<p></p>` æ ‡ç­¾åŒ…è£¹èµ·æ¥ã€‚æ–°è¡Œå¼€å§‹ï¼Œå¹¶ä¸”é€šå¸¸æ˜¯ä¸€å—æ–‡æœ¬ã€‚ç»å¸¸ç”¨äºæ–‡ç« çš„å±•ç¤ºï¼›\n\nåŒæ ·ï¼Œæ®µè½æ€»æ˜¯ä»æ–°è¡Œå¼€å§‹ï¼Œå¹¶ä¸”æµè§ˆå™¨ä¼šè‡ªåŠ¨åœ¨æ®µè½å‰åæ·»åŠ ä¸€äº›ç©ºç™½ï¼ˆè¾¹è·ï¼‰ã€‚\n{% endnote %}\n\n\n### ç”¨æ³•\n\n```html\n<p>This is a paragraph.</p>\n<p>This is another paragraph.</p>\n```\n\nå½“ç„¶ï¼Œ`P`æ ‡ç­¾åœ¨ç½‘é¡µä¸­ï¼Œä¼šè‡ªåŠ¨åˆ é™¤å¤šä½™çš„ç©ºè¡Œä¸ç©ºæ ¼ï¼›\n\n### æ°´å¹³è§„åˆ™ `hr`\n\næ°´å¹³è§„åˆ™æ ‡ç­¾ï¼Œç”¨äºåœ¨ç½‘é¡µä¸­æ·»åŠ æ°´å¹³åˆ†å‰²çº¿ï¼Œä¾‹å¦‚ï¼š\n\n```html\n<p>è¿™æ—¶ä¸€æ®µå†…å®¹</p>\n<hr />\n<p>è¿™æ—¶ä¸€æ®µå†…å®¹</p>\n<hr />\n```\n\nè¯¥`<hr>`æ ‡ç­¾ä¸ºç©ºæ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ²¡æœ‰ç»“æŸæ ‡ç­¾ã€‚\n\n### æ¢è¡Œç¬¦ `br`\n\nbr æ ‡ç­¾ï¼Œç”¨äºåœ¨ç½‘é¡µä¸­æ·»åŠ æ¢è¡Œç¬¦ï¼Œä¾‹å¦‚ï¼š\n\n```html\n<p>è¿™æ˜¯ç¬¬ä¸€è¡Œ</p>\n<br />\n<p>è¿™æ˜¯ç¬¬äºŒè¡Œ</p>\n<br />\n<p>è¿™æ˜¯ç¬¬ä¸‰è¡Œ</p>\n<br />\n```\n\nè¯¥`<br>`æ ‡ç­¾ä¸ºç©ºæ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ²¡æœ‰ç»“æŸæ ‡ç­¾ã€‚\n\n## æ ¼å¼åŒ–æ ‡ç­¾\n\n### å«ä¹‰\n\n1. `b`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ç²—ä½“**ï¼Œä¾‹å¦‚ï¼š\n2. `i`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**æ–œä½“**ï¼Œä¾‹å¦‚ï¼š\n3. `u`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ä¸‹åˆ’çº¿**ï¼Œä¾‹å¦‚ï¼š\n4. `s`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**åˆ é™¤çº¿**ï¼Œä¾‹å¦‚ï¼š\n5. `em`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**æ–œä½“**ï¼Œä¾‹å¦‚ï¼š\n6. `strong`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ç²—ä½“**ï¼Œä¾‹å¦‚ï¼š\n7. `mark`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**æ ‡è®°**ï¼Œä¾‹å¦‚ï¼š\n8. `del`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**åˆ é™¤çº¿**ï¼Œä¾‹å¦‚ï¼š\n9. `ins`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ä¸‹åˆ’çº¿**ï¼Œä¾‹å¦‚ï¼š\n10. `sub`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ä¸‹æ ‡**ï¼Œä¾‹å¦‚ï¼š\n11. `sup`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ä¸Šæ ‡**ï¼Œä¾‹å¦‚ï¼š\n12. `abbr`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ç¼©å†™**ï¼Œä¾‹å¦‚ï¼š\n13. `code`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ä»£ç **ï¼Œä¾‹å¦‚ï¼š\n14. `kbd`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**é”®ç›˜**ï¼Œä¾‹å¦‚ï¼š\n15. `var`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**å˜é‡**ï¼Œä¾‹å¦‚ï¼š\n16. `samp`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**ç¤ºä¾‹**ï¼Œä¾‹å¦‚ï¼š\n17. `cite`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**å¼•ç”¨**ï¼Œä¾‹å¦‚ï¼š\n18. `dfn`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**å®šä¹‰**ï¼Œä¾‹å¦‚ï¼š\n19. `q`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**å¼•ç”¨**ï¼Œä¾‹å¦‚ï¼š\n20. `blockquote`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**å¼•ç”¨**ï¼Œä¾‹å¦‚ï¼š\n21. `address`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**åœ°å€**ï¼Œä¾‹å¦‚ï¼š\n22. `pre`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**é¢„æ ¼å¼æ–‡æœ¬**ï¼Œä¾‹å¦‚ï¼š\n23. `small`æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º**å°å·**ï¼Œä¾‹å¦‚ï¼š\n\n### æ¡ˆä¾‹\n\n```html\n<p><b>ç²—ä½“</b></p>\n<p><strong>ç²—ä½“</strong></p>\n<p><em>æ–œä½“</em></p>\n<p><i>æ–œä½“</i></p>\n<p><u>ä¸‹åˆ’çº¿</u></p>\n<p><ins>ä¸‹åˆ’çº¿</ins></p>\n<p><s>åˆ é™¤çº¿</s></p>\n<p><del>åˆ é™¤çº¿</del></p>\n<p><mark>æ ‡è®°</mark></p>\n<p><sub>ä¸‹æ ‡</sub></p>\n<p><sup>ä¸Šæ ‡</sup></p>\n<p><small>å°å·</small></p>\n<p><abbr title=\"Hyper Text Markup Language\">HTML</abbr></p>\n<p><code>ä»£ç </code></p>\n<p><kbd>é”®ç›˜</kbd></p>\n<p><var>å˜é‡</var></p>\n<p><samp>ç¤ºä¾‹</samp></p>\n<p><cite>å¼•ç”¨</cite></p>\n<p><dfn>å®šä¹‰</dfn></p>\n<p><q>å¼•ç”¨</q></p>\n<p><blockquote>å¼•ç”¨</blockquote></p>\n<p><cite>å¼•ç”¨</cite></p>\n<p><address>åœ°å€</address></p>\n<p><ins>å¼•ç”¨</ins></p>\n<p><del>å¼•ç”¨</del></p>\n<p><s>å¼•ç”¨</s></p>\n<p><s>å¼•ç”¨</s></p>\n<pre>\n  My Bonnie lies over the ocean.\n</pre>\n```\n\n## é“¾æ¥æ ‡ç­¾\n\né“¾æ¥æ ‡ç­¾ï¼Œç”¨äºåœ¨ç½‘é¡µä¸­æ·»åŠ è¶…é“¾æ¥ï¼Œä¾‹å¦‚ï¼š\n\n### ç”¨æ³•\n\n```html\n<a href=\"https://www.baidu.com\">ç™¾åº¦</a>\n<a href=\"https://www.baidu.com\" target=\"_blank\">ç™¾åº¦</a>\n<a href=\"https://www.baidu.com\" target=\"_self\">ç™¾åº¦</a>\n<a href=\"https://www.baidu.com\" target=\"_parent\">ç™¾åº¦</a>\n<a href=\"https://www.baidu.com\" target=\"_top\">ç™¾åº¦</a>\n```\n\n**å‡ ä¹æ‰€æœ‰ç½‘é¡µä¸Šéƒ½æœ‰é“¾æ¥ã€‚é“¾æ¥å…è®¸ç”¨æˆ·é€šè¿‡ç‚¹å‡»ä»ä¸€ä¸ªé¡µé¢åˆ°å¦ä¸€ä¸ªé¡µé¢ã€‚æ‚¨å¯ä»¥å•å‡»é“¾æ¥å¹¶è·³è½¬åˆ°å¦ä¸€ä¸ªæ–‡æ¡£ã€‚å½“å°†é¼ æ ‡ç§»åˆ°é“¾æ¥ä¸Šæ—¶ï¼Œé¼ æ ‡ç®­å¤´ä¼šå˜æˆä¸€åªå°æ‰‹ã€‚**\n\n{% note warning simple %}\næ³¨æ„ï¼šé“¾æ¥ä¸ä¸€å®šæ˜¯æ–‡æœ¬ã€‚é“¾æ¥å¯ä»¥æ˜¯å›¾åƒæˆ–ä»»ä½•å…¶ä»– HTML å…ƒç´ ï¼\n{% endnote %}\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œé“¾æ¥åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­éƒ½ä¼šæ˜¾ç¤ºå¦‚ä¸‹å†…å®¹ï¼š\n\n- æœªè®¿é—®çš„é“¾æ¥å¸¦æœ‰ä¸‹åˆ’çº¿å’Œè“è‰²\n- å·²è®¿é—®çš„é“¾æ¥å¸¦æœ‰ä¸‹åˆ’çº¿å’Œç´«è‰²\n- æ´»åŠ¨é“¾æ¥å¸¦æœ‰ä¸‹åˆ’çº¿å’Œçº¢è‰²\n- å½“ç„¶å¯ä»¥ä½¿ç”¨ CSS è®¾ç½®é“¾æ¥æ ·å¼ï¼Œä»¥è·å¾—å¦ä¸€ç§å¤–è§‚ï¼\n\n### å±æ€§\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œé“¾æ¥çš„é¡µé¢å°†æ˜¾ç¤ºåœ¨å½“å‰æµè§ˆå™¨çª—å£ä¸­ã€‚è¦æ›´æ”¹æ­¤è®¾ç½®ï¼Œæ‚¨å¿…é¡»ä¸ºé“¾æ¥æŒ‡å®šå¦ä¸€ä¸ªç›®æ ‡ã€‚\nè¯¥`target`å±æ€§æŒ‡å®šåœ¨ä½•å¤„æ‰“å¼€é“¾æ¥çš„æ–‡æ¡£ã€‚\n\n- \\_self- é»˜è®¤ã€‚åœ¨å•å‡»çš„åŒä¸€çª—å£/é€‰é¡¹å¡ä¸­æ‰“å¼€æ–‡æ¡£\n- \\_blank- åœ¨æ–°çª—å£æˆ–é€‰é¡¹å¡ä¸­æ‰“å¼€æ–‡æ¡£\n- \\_parent- åœ¨çˆ¶æ¡†æ¶ä¸­æ‰“å¼€æ–‡æ¡£\n- \\_top- åœ¨çª—å£ä¸­æ‰“å¼€æ•´ä¸ªæ–‡æ¡£\n\n### å…¶ä»–ç”¨æ³•\n\né”šç‚¹æ ‡ç­¾ï¼Œç”¨äºåœ¨ç½‘é¡µä¸­æ·»åŠ é”šç‚¹ï¼Œä¾‹å¦‚ï¼š\n\n```html\n<!-- é”šç‚¹æ ‡ç­¾ -->\n<a name=\"top\"></a>\n<a href=\"#top\">å›åˆ°é¡¶éƒ¨</a>\n<!-- å¸¸è§„ç”¨æ³• -->\n<a href=\"https://www.baidu.com\">ç™¾åº¦</a>\n<a href=\"https://www.baidu.com\" target=\"_blank\">ç™¾åº¦</a>\n<a href=\"https://www.baidu.com\" target=\"_self\">ç™¾åº¦</a>\n<a href=\"https://www.baidu.com\" target=\"_parent\">ç™¾åº¦</a>\n<a href=\"https://www.baidu.com\" target=\"_top\">ç™¾åº¦</a>\n<!-- ç”µå­é‚®ä»¶ -->\n<a href=\"mailto:admin@example.com\">å‘é€ç”µå­é‚®ä»¶</a>\n<!-- æ‹¨æ‰“ç”µè¯ -->\n<a href=\"tel:+1-555-555-5555\">æ‹¨æ‰“ç”µè¯</a>\n<!-- äº‹ä»¶è§¦å‘ -->\n<a href=\"javascript:void(0);\" onclick=\"alert('Hello World!');\">ç‚¹å‡»æˆ‘</a>\n<a href=\"https://www.baidu.com\" onclick=\"return confirm('ç¡®å®šè¦è®¿é—®ç™¾åº¦å—ï¼Ÿ');\">\n\tç™¾åº¦\n</a>\n```\n\n## å›¾åƒ\n\nä½¿ç”¨`<img/>`å¯ä»¥åœ¨ç½‘é¡µä¸­åµŒå…¥å›¾ç‰‡ï¼Œå›¾åƒä¸€èˆ¬æœ‰ä¿©ä¸ªå¿…å¡«çš„å‚æ•°\n\n- srcï¼šå›¾ç‰‡åœ°å€, å¯ä»¥æ˜¯æœ¬åœ°åœ°å€ä¹Ÿå¯ä»¥æ˜¯ç½‘ç»œèµ„æº\n- altï¼šå›¾ç‰‡æè¿°ï¼Œå›¾ç‰‡çš„æè¿°ï¼Œå½“å›¾ç‰‡ä¸å­˜åœ¨çš„æ—¶å€™ä¼šæ˜¾ç¤º\n\nå›¾åƒè¿˜æ”¯æŒå®½åº¦å’Œé«˜åº¦\n\n```html\n<img src=\"xxxx\" alt=\"\" width=\"100\" height=\"100\" />\n```\n\nä¸è¿‡ä¸å»ºè®®è¿™æ ·å»å†™å®½åº¦å’Œé«˜åº¦ï¼Œ å› ä¸ºå›¾ç‰‡åŠ è½½çš„æ—¶å€™ï¼Œä¼šæ ¹æ®å®½åº¦å’Œé«˜åº¦å»è®¡ç®—å›¾ç‰‡çš„å®½é«˜ï¼Œå¯¼è‡´å›¾ç‰‡åŠ è½½æ—¶é—´è¿‡é•¿ã€‚\nå¯ä»¥ä½¿ç”¨ CSS æ¥è®¾ç½®å›¾ç‰‡çš„å®½åº¦å’Œé«˜åº¦ï¼Œä¾‹å¦‚ï¼š\n\n```css\nimg {\n\twidth: 100px;\n\theight: 100px;\n\tobject-fit: cover;\n}\n```\n\n## è¡¨æ ¼\n\nè¯¦ç»†ä»‹ç»è¯·çœ‹æ–‡æ¡£ï¼š[åˆ—è¡¨](https://www.w3schools.com/html/html_tables.asp)\n\n```html\n<table>\n\t<!-- å®šä¹‰è¡¨æ ¼æ ‡é¢˜ -->\n\t<caption>\n\t\tMonthly savings\n\t</caption>\n\t<!-- è§„å®šè¡¨ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—çš„ç»„ä»¥è¿›è¡Œæ ¼å¼åŒ– -->\n\t<colgroup>\n\t\t<col />\n\t\t<col />\n\t\t<col />\n\t</colgroup>\n\t<!-- å°†è¡¨å¤´å†…å®¹åˆ†ç»„åˆ°è¡¨ä¸­ -->\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Person 1</th>\n\t\t\t<th>Person 2</th>\n\t\t\t<th>Person 3</th>\n\t\t</tr>\n\t</thead>\n\t<!-- å°†æ­£æ–‡å†…å®¹åˆ†ç»„åˆ°è¡¨æ ¼ä¸­ -->\n\t<tbody>\n\t\t<tr>\n\t\t\t<td>Emil</td>\n\t\t\t<td>Tobias</td>\n\t\t\t<td>Linus</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>16</td>\n\t\t\t<td>14</td>\n\t\t\t<td>10</td>\n\t\t</tr>\n\t</tbody>\n\t<!-- å°†é¡µè„šå†…å®¹åˆ†ç»„åˆ°è¡¨æ ¼ä¸­ -->\n\t<tfoot></tfoot>\n</table>\n```\n\n## åˆ—è¡¨\n\nè¯¦ç»†ä»‹ç»è¯·çœ‹æ–‡æ¡£ï¼š[åˆ—è¡¨](https://www.w3schools.com/html/html_lists.asp)\n\n```html\n<ol>\n\t<li>Coffee</li>\n\t<li>Tea</li>\n</ol>\n\n<ul>\n\t<li>Coffee</li>\n\t<li>Tea</li>\n</ul>\n\n<dl>\n\t<dt>Coffee</dt>\n\t<dd>- black hot drink</dd>\n\t<dt>Milk</dt>\n\t<dd>- white cold drink</dd>\n</dl>\n```\n","slug":"æŠ€èƒ½å°å†Œ/html/index","published":1,"updated":"2025-03-12T09:08:48.737Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0ix002rfg9mb7ed7kjo","content":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><div class=\"note info simple\"><p><strong>HTML æ˜¯åˆ›å»ºç½‘é¡µçš„æ ‡å‡†æ ‡è®°è¯­è¨€ã€‚</strong></p>\n</div>\n<ul>\n<li><code>HTML</code> è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€;</li>\n<li><code>HTML</code> æ˜¯åˆ›å»ºç½‘é¡µçš„æ ‡å‡†æ ‡è®°æ ‡ç­¾è¯­è¨€;</li>\n<li><code>HTML</code> æè¿°ç½‘é¡µçš„ç»“æ„;</li>\n<li><code>HTML</code> ç”±ä¸€ç³»åˆ—å…ƒç´ ç»„æˆ;</li>\n<li><code>HTML</code> å…ƒç´ å‘Šè¯‰æµè§ˆå™¨å¦‚ä½•æ˜¾ç¤ºå†…å®¹;</li>\n<li><code>HTML</code> å…ƒç´ æ ‡è®°å†…å®¹ç‰‡æ®µï¼Œä¾‹å¦‚â€œè¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜â€ã€â€œè¿™æ˜¯ä¸€ä¸ªæ®µè½â€ã€â€œè¿™æ˜¯ä¸€ä¸ªé“¾æ¥â€ç­‰ç­‰ã€‚</li>\n</ul>\n<h2 id=\"åˆ›å»ºä¸€ä¸ªç®€å•çš„-HTML-æ–‡ä»¶\"><a href=\"#åˆ›å»ºä¸€ä¸ªç®€å•çš„-HTML-æ–‡ä»¶\" class=\"headerlink\" title=\"åˆ›å»ºä¸€ä¸ªç®€å•çš„ HTML æ–‡ä»¶\"></a>åˆ›å»ºä¸€ä¸ªç®€å•çš„ HTML æ–‡ä»¶</h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Page Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä»£ç è§£é‡Š\"><a href=\"#ä»£ç è§£é‡Š\" class=\"headerlink\" title=\"ä»£ç è§£é‡Š\"></a>ä»£ç è§£é‡Š</h3><ul>\n<li>å£°æ˜ <code>&lt;!DOCTYPE html&gt;</code> å®šä¹‰æ­¤æ–‡æ¡£æ˜¯ HTML5 æ–‡æ¡£</li>\n<li>è¯¥ <code>&lt;html&gt;</code> å…ƒç´ æ˜¯ HTML é¡µé¢çš„æ ¹å…ƒç´ </li>\n<li>è¯¥ <code>&lt;head&gt;</code> å…ƒç´ åŒ…å«æœ‰å…³ HTML é¡µé¢çš„å…ƒä¿¡æ¯</li>\n<li>è¯¥ <code>&lt;title&gt;</code> å…ƒç´ æŒ‡å®š HTML é¡µé¢çš„æ ‡é¢˜ï¼ˆæ˜¾ç¤ºåœ¨æµè§ˆå™¨çš„æ ‡é¢˜æ æˆ–é¡µé¢çš„é€‰é¡¹å¡ä¸­ï¼‰</li>\n<li>å…ƒç´  <code>&lt;body&gt;</code> å®šä¹‰æ–‡æ¡£çš„ä¸»ä½“ï¼Œæ˜¯æ‰€æœ‰å¯è§å†…å®¹çš„å®¹å™¨ï¼Œä¾‹å¦‚æ ‡é¢˜ã€æ®µè½ã€å›¾åƒã€è¶…é“¾æ¥ã€è¡¨æ ¼ã€åˆ—è¡¨ç­‰ã€‚</li>\n<li><code>&lt;script&gt;</code> å®šä¹‰äº¤äº’é€»è¾‘ä¸»é¢˜ä»£ç </li>\n<li><code>&lt;style&gt;</code> å…ƒç´ æ ·å¼ä¸»é¢˜</li>\n</ul>\n<h3 id=\"å…ƒç´ \"><a href=\"#å…ƒç´ \" class=\"headerlink\" title=\"å…ƒç´ \"></a>å…ƒç´ </h3><p><code>å…ƒç´ </code>å°±æ˜¯ä¸€å¥—æ ‡è®°æ ‡ç­¾è¯­è¨€(å¼€å§‹æ ‡ç­¾ï¼Œç»“æŸæ ‡ç­¾)ï¼Œä¾‹å¦‚ï¼š<code>&lt;div&gt;</code>ã€<code>&lt;p&gt;</code>ã€<code>&lt;a&gt;</code>ã€<code>&lt;img /&gt;</code>ã€<code>&lt;script&gt;</code>ã€<code>&lt;style&gt;</code>ã€<code>&lt;title&gt;</code>ã€<code>&lt;meta&gt;</code>ã€<code>&lt;body&gt;</code>ã€<code>&lt;head&gt;</code>ã€<code>&lt;html&gt;</code>ç­‰ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- &lt;p&gt; å¼€å§‹æ ‡ç­¾ --&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- &lt;/p&gt; ç»“æŸæ ‡ç­¾ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>è¿™æ˜¯ä¸€æ®µæ–‡æœ¬<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<hr>\n<p>æ¥ä¸‹æ¥ï¼Œå°†å¸¦æ‚¨è®¤è¯†<code>å…ƒç´ æ ‡ç­¾</code>â€¦</p>\n<h2 id=\"æ ‡é¢˜-H1-H6\"><a href=\"#æ ‡é¢˜-H1-H6\" class=\"headerlink\" title=\"æ ‡é¢˜ H1-H6\"></a>æ ‡é¢˜ <code>H1-H6</code></h2><p><code>HTML</code> æ ‡é¢˜æ˜¯æ‚¨æƒ³è¦åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºçš„æ ‡é¢˜æˆ–å‰¯æ ‡é¢˜ã€‚</p>\n<p>å¸¸å¸¸ç”¨äºç½‘é¡µçš„æ ‡é¢˜å±•ç¤ºï¼Œæ ‡é¢˜åˆ†ä¸º <code>1-6</code>ï¼Œç„¶è€Œæƒé‡æ˜¯ä¸ä¸€æ ·çš„ï¼Œå„æœ‰ä¸ªçš„ç”¨æ³•ï¼› <code>&lt;h1&gt;&lt;/h1&gt;</code>å®šä¹‰æœ€ä¸ºé‡è¦çš„æ ‡é¢˜ï¼Œä¹Ÿæ˜¯æƒé‡æœ€é«˜çš„ï¼Œè€Œ <code>&lt;h6&gt;&lt;/h6&gt;</code>å®šä¹‰æœ€ä¸é‡è¦çš„æ ‡é¢˜ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æƒé‡æœ€å°çš„ã€‚</p>\n<h3 id=\"ç”¨æ³•\"><a href=\"#ç”¨æ³•\" class=\"headerlink\" title=\"ç”¨æ³•\"></a>ç”¨æ³•</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>æ ‡é¢˜1<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>æ ‡é¢˜2<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>æ ‡é¢˜3<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h4</span>&gt;</span>æ ‡é¢˜4<span class=\"tag\">&lt;/<span class=\"name\">h4</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h5</span>&gt;</span>æ ‡é¢˜5<span class=\"tag\">&lt;/<span class=\"name\">h5</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h6</span>&gt;</span>æ ‡é¢˜6<span class=\"tag\">&lt;/<span class=\"name\">h6</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<div class=\"note warning simple\"><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š</p>\n<p>æµè§ˆå™¨ä¼šåœ¨æ ‡é¢˜çš„å‰åæ·»åŠ ä¸€äº›é—´è·ï¼ˆç©ºç™½è·ç¦»ï¼‰ï¼›åŒæ—¶ä»…ä»…æœ€ä½œä¸ºé¢˜ï¼Œä¸å»ºè®®ç”¨æ ‡é¢˜å°†æ–‡æœ¬<strong>åŠ ç²—æˆ–è€…æ”¾å¤§</strong>ï¼›å› ä¸ºæµè§ˆå™¨é»˜è®¤çš„æ ·å¼å·²ç»è¶³å¤Ÿï¼Œå½“ç„¶æƒé‡ä¸å¤ªä¸€æ ·ï¼Œå¯¼è‡´çš„å­—ä½“å¤§å°ä¹Ÿæ˜¯ä¸ç”¨çš„ï¼Œå½“ç„¶æ–‡æœ¬åŠ ç²—<strong>æ˜¯é»˜è®¤çš„</strong>ï¼›</p>\n</div>\n\n<h2 id=\"æ®µè½-P\"><a href=\"#æ®µè½-P\" class=\"headerlink\" title=\"æ®µè½ P\"></a>æ®µè½ <code>P</code></h2><div class=\"note info simple\"><p>æ®µè½æ ‡ç­¾æ˜¯æœ€å¸¸ç”¨çš„æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬åˆ†æˆæ®µè½ï¼Œæ®µè½ä¹‹é—´ç”¨ <code>&lt;p&gt;&lt;/p&gt;</code> æ ‡ç­¾åŒ…è£¹èµ·æ¥ã€‚æ–°è¡Œå¼€å§‹ï¼Œå¹¶ä¸”é€šå¸¸æ˜¯ä¸€å—æ–‡æœ¬ã€‚ç»å¸¸ç”¨äºæ–‡ç« çš„å±•ç¤ºï¼›</p>\n<p>åŒæ ·ï¼Œæ®µè½æ€»æ˜¯ä»æ–°è¡Œå¼€å§‹ï¼Œå¹¶ä¸”æµè§ˆå™¨ä¼šè‡ªåŠ¨åœ¨æ®µè½å‰åæ·»åŠ ä¸€äº›ç©ºç™½ï¼ˆè¾¹è·ï¼‰ã€‚</p>\n</div>\n\n\n<h3 id=\"ç”¨æ³•-1\"><a href=\"#ç”¨æ³•-1\" class=\"headerlink\" title=\"ç”¨æ³•\"></a>ç”¨æ³•</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>This is a paragraph.<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>This is another paragraph.<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>å½“ç„¶ï¼Œ<code>P</code>æ ‡ç­¾åœ¨ç½‘é¡µä¸­ï¼Œä¼šè‡ªåŠ¨åˆ é™¤å¤šä½™çš„ç©ºè¡Œä¸ç©ºæ ¼ï¼›</p>\n<h3 id=\"æ°´å¹³è§„åˆ™-hr\"><a href=\"#æ°´å¹³è§„åˆ™-hr\" class=\"headerlink\" title=\"æ°´å¹³è§„åˆ™ hr\"></a>æ°´å¹³è§„åˆ™ <code>hr</code></h3><p>æ°´å¹³è§„åˆ™æ ‡ç­¾ï¼Œç”¨äºåœ¨ç½‘é¡µä¸­æ·»åŠ æ°´å¹³åˆ†å‰²çº¿ï¼Œä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>è¿™æ—¶ä¸€æ®µå†…å®¹<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">hr</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>è¿™æ—¶ä¸€æ®µå†…å®¹<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">hr</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>è¯¥<code>&lt;hr&gt;</code>æ ‡ç­¾ä¸ºç©ºæ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ²¡æœ‰ç»“æŸæ ‡ç­¾ã€‚</p>\n<h3 id=\"æ¢è¡Œç¬¦-br\"><a href=\"#æ¢è¡Œç¬¦-br\" class=\"headerlink\" title=\"æ¢è¡Œç¬¦ br\"></a>æ¢è¡Œç¬¦ <code>br</code></h3><p>br æ ‡ç­¾ï¼Œç”¨äºåœ¨ç½‘é¡µä¸­æ·»åŠ æ¢è¡Œç¬¦ï¼Œä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>è¿™æ˜¯ç¬¬ä¸€è¡Œ<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>è¿™æ˜¯ç¬¬äºŒè¡Œ<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>è¿™æ˜¯ç¬¬ä¸‰è¡Œ<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>è¯¥<code>&lt;br&gt;</code>æ ‡ç­¾ä¸ºç©ºæ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ²¡æœ‰ç»“æŸæ ‡ç­¾ã€‚</p>\n<h2 id=\"æ ¼å¼åŒ–æ ‡ç­¾\"><a href=\"#æ ¼å¼åŒ–æ ‡ç­¾\" class=\"headerlink\" title=\"æ ¼å¼åŒ–æ ‡ç­¾\"></a>æ ¼å¼åŒ–æ ‡ç­¾</h2><h3 id=\"å«ä¹‰\"><a href=\"#å«ä¹‰\" class=\"headerlink\" title=\"å«ä¹‰\"></a>å«ä¹‰</h3><ol>\n<li><code>b</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ç²—ä½“</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>i</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>æ–œä½“</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>u</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ä¸‹åˆ’çº¿</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>s</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>åˆ é™¤çº¿</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>em</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>æ–œä½“</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>strong</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ç²—ä½“</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>mark</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>æ ‡è®°</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>del</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>åˆ é™¤çº¿</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>ins</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ä¸‹åˆ’çº¿</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>sub</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ä¸‹æ ‡</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>sup</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ä¸Šæ ‡</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>abbr</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ç¼©å†™</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>code</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ä»£ç </strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>kbd</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>é”®ç›˜</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>var</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>å˜é‡</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>samp</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ç¤ºä¾‹</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>cite</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>å¼•ç”¨</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>dfn</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>å®šä¹‰</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>q</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>å¼•ç”¨</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>blockquote</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>å¼•ç”¨</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>address</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>åœ°å€</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>pre</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>é¢„æ ¼å¼æ–‡æœ¬</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>small</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>å°å·</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n</ol>\n<h3 id=\"æ¡ˆä¾‹\"><a href=\"#æ¡ˆä¾‹\" class=\"headerlink\" title=\"æ¡ˆä¾‹\"></a>æ¡ˆä¾‹</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">b</span>&gt;</span>ç²—ä½“<span class=\"tag\">&lt;/<span class=\"name\">b</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>ç²—ä½“<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">em</span>&gt;</span>æ–œä½“<span class=\"tag\">&lt;/<span class=\"name\">em</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">i</span>&gt;</span>æ–œä½“<span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">u</span>&gt;</span>ä¸‹åˆ’çº¿<span class=\"tag\">&lt;/<span class=\"name\">u</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">ins</span>&gt;</span>ä¸‹åˆ’çº¿<span class=\"tag\">&lt;/<span class=\"name\">ins</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">s</span>&gt;</span>åˆ é™¤çº¿<span class=\"tag\">&lt;/<span class=\"name\">s</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">del</span>&gt;</span>åˆ é™¤çº¿<span class=\"tag\">&lt;/<span class=\"name\">del</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">mark</span>&gt;</span>æ ‡è®°<span class=\"tag\">&lt;/<span class=\"name\">mark</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">sub</span>&gt;</span>ä¸‹æ ‡<span class=\"tag\">&lt;/<span class=\"name\">sub</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">sup</span>&gt;</span>ä¸Šæ ‡<span class=\"tag\">&lt;/<span class=\"name\">sup</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">small</span>&gt;</span>å°å·<span class=\"tag\">&lt;/<span class=\"name\">small</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">abbr</span> <span class=\"attr\">title</span>=<span class=\"string\">&quot;Hyper Text Markup Language&quot;</span>&gt;</span>HTML<span class=\"tag\">&lt;/<span class=\"name\">abbr</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">code</span>&gt;</span>ä»£ç <span class=\"tag\">&lt;/<span class=\"name\">code</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">kbd</span>&gt;</span>é”®ç›˜<span class=\"tag\">&lt;/<span class=\"name\">kbd</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">var</span>&gt;</span>å˜é‡<span class=\"tag\">&lt;/<span class=\"name\">var</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">samp</span>&gt;</span>ç¤ºä¾‹<span class=\"tag\">&lt;/<span class=\"name\">samp</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">cite</span>&gt;</span>å¼•ç”¨<span class=\"tag\">&lt;/<span class=\"name\">cite</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">dfn</span>&gt;</span>å®šä¹‰<span class=\"tag\">&lt;/<span class=\"name\">dfn</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">q</span>&gt;</span>å¼•ç”¨<span class=\"tag\">&lt;/<span class=\"name\">q</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">blockquote</span>&gt;</span>å¼•ç”¨<span class=\"tag\">&lt;/<span class=\"name\">blockquote</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">cite</span>&gt;</span>å¼•ç”¨<span class=\"tag\">&lt;/<span class=\"name\">cite</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>åœ°å€<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">ins</span>&gt;</span>å¼•ç”¨<span class=\"tag\">&lt;/<span class=\"name\">ins</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">del</span>&gt;</span>å¼•ç”¨<span class=\"tag\">&lt;/<span class=\"name\">del</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">s</span>&gt;</span>å¼•ç”¨<span class=\"tag\">&lt;/<span class=\"name\">s</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">s</span>&gt;</span>å¼•ç”¨<span class=\"tag\">&lt;/<span class=\"name\">s</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">pre</span>&gt;</span></span><br><span class=\"line\">  My Bonnie lies over the ocean.</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">pre</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"é“¾æ¥æ ‡ç­¾\"><a href=\"#é“¾æ¥æ ‡ç­¾\" class=\"headerlink\" title=\"é“¾æ¥æ ‡ç­¾\"></a>é“¾æ¥æ ‡ç­¾</h2><p>é“¾æ¥æ ‡ç­¾ï¼Œç”¨äºåœ¨ç½‘é¡µä¸­æ·»åŠ è¶…é“¾æ¥ï¼Œä¾‹å¦‚ï¼š</p>\n<h3 id=\"ç”¨æ³•-2\"><a href=\"#ç”¨æ³•-2\" class=\"headerlink\" title=\"ç”¨æ³•\"></a>ç”¨æ³•</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_blank&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_self&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_parent&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_top&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>å‡ ä¹æ‰€æœ‰ç½‘é¡µä¸Šéƒ½æœ‰é“¾æ¥ã€‚é“¾æ¥å…è®¸ç”¨æˆ·é€šè¿‡ç‚¹å‡»ä»ä¸€ä¸ªé¡µé¢åˆ°å¦ä¸€ä¸ªé¡µé¢ã€‚æ‚¨å¯ä»¥å•å‡»é“¾æ¥å¹¶è·³è½¬åˆ°å¦ä¸€ä¸ªæ–‡æ¡£ã€‚å½“å°†é¼ æ ‡ç§»åˆ°é“¾æ¥ä¸Šæ—¶ï¼Œé¼ æ ‡ç®­å¤´ä¼šå˜æˆä¸€åªå°æ‰‹ã€‚</strong></p>\n<div class=\"note warning simple\"><p>æ³¨æ„ï¼šé“¾æ¥ä¸ä¸€å®šæ˜¯æ–‡æœ¬ã€‚é“¾æ¥å¯ä»¥æ˜¯å›¾åƒæˆ–ä»»ä½•å…¶ä»– HTML å…ƒç´ ï¼</p>\n</div>\n\n<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œé“¾æ¥åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­éƒ½ä¼šæ˜¾ç¤ºå¦‚ä¸‹å†…å®¹ï¼š</p>\n<ul>\n<li>æœªè®¿é—®çš„é“¾æ¥å¸¦æœ‰ä¸‹åˆ’çº¿å’Œè“è‰²</li>\n<li>å·²è®¿é—®çš„é“¾æ¥å¸¦æœ‰ä¸‹åˆ’çº¿å’Œç´«è‰²</li>\n<li>æ´»åŠ¨é“¾æ¥å¸¦æœ‰ä¸‹åˆ’çº¿å’Œçº¢è‰²</li>\n<li>å½“ç„¶å¯ä»¥ä½¿ç”¨ CSS è®¾ç½®é“¾æ¥æ ·å¼ï¼Œä»¥è·å¾—å¦ä¸€ç§å¤–è§‚ï¼</li>\n</ul>\n<h3 id=\"å±æ€§\"><a href=\"#å±æ€§\" class=\"headerlink\" title=\"å±æ€§\"></a>å±æ€§</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œé“¾æ¥çš„é¡µé¢å°†æ˜¾ç¤ºåœ¨å½“å‰æµè§ˆå™¨çª—å£ä¸­ã€‚è¦æ›´æ”¹æ­¤è®¾ç½®ï¼Œæ‚¨å¿…é¡»ä¸ºé“¾æ¥æŒ‡å®šå¦ä¸€ä¸ªç›®æ ‡ã€‚<br>è¯¥<code>target</code>å±æ€§æŒ‡å®šåœ¨ä½•å¤„æ‰“å¼€é“¾æ¥çš„æ–‡æ¡£ã€‚</p>\n<ul>\n<li>_self- é»˜è®¤ã€‚åœ¨å•å‡»çš„åŒä¸€çª—å£&#x2F;é€‰é¡¹å¡ä¸­æ‰“å¼€æ–‡æ¡£</li>\n<li>_blank- åœ¨æ–°çª—å£æˆ–é€‰é¡¹å¡ä¸­æ‰“å¼€æ–‡æ¡£</li>\n<li>_parent- åœ¨çˆ¶æ¡†æ¶ä¸­æ‰“å¼€æ–‡æ¡£</li>\n<li>_top- åœ¨çª—å£ä¸­æ‰“å¼€æ•´ä¸ªæ–‡æ¡£</li>\n</ul>\n<h3 id=\"å…¶ä»–ç”¨æ³•\"><a href=\"#å…¶ä»–ç”¨æ³•\" class=\"headerlink\" title=\"å…¶ä»–ç”¨æ³•\"></a>å…¶ä»–ç”¨æ³•</h3><p>é”šç‚¹æ ‡ç­¾ï¼Œç”¨äºåœ¨ç½‘é¡µä¸­æ·»åŠ é”šç‚¹ï¼Œä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- é”šç‚¹æ ‡ç­¾ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;top&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;#top&quot;</span>&gt;</span>å›åˆ°é¡¶éƒ¨<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- å¸¸è§„ç”¨æ³• --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_blank&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_self&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_parent&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_top&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- ç”µå­é‚®ä»¶ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;mailto:admin@example.com&quot;</span>&gt;</span>å‘é€ç”µå­é‚®ä»¶<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- æ‹¨æ‰“ç”µè¯ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;tel:+1-555-555-5555&quot;</span>&gt;</span>æ‹¨æ‰“ç”µè¯<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- äº‹ä»¶è§¦å‘ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:void(0);&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;alert(&#x27;Hello World!&#x27;);&quot;</span>&gt;</span>ç‚¹å‡»æˆ‘<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;return confirm(&#x27;ç¡®å®šè¦è®¿é—®ç™¾åº¦å—ï¼Ÿ&#x27;);&quot;</span>&gt;</span></span><br><span class=\"line\">\tç™¾åº¦</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å›¾åƒ\"><a href=\"#å›¾åƒ\" class=\"headerlink\" title=\"å›¾åƒ\"></a>å›¾åƒ</h2><p>ä½¿ç”¨<code>&lt;img/&gt;</code>å¯ä»¥åœ¨ç½‘é¡µä¸­åµŒå…¥å›¾ç‰‡ï¼Œå›¾åƒä¸€èˆ¬æœ‰ä¿©ä¸ªå¿…å¡«çš„å‚æ•°</p>\n<ul>\n<li>srcï¼šå›¾ç‰‡åœ°å€, å¯ä»¥æ˜¯æœ¬åœ°åœ°å€ä¹Ÿå¯ä»¥æ˜¯ç½‘ç»œèµ„æº</li>\n<li>altï¼šå›¾ç‰‡æè¿°ï¼Œå›¾ç‰‡çš„æè¿°ï¼Œå½“å›¾ç‰‡ä¸å­˜åœ¨çš„æ—¶å€™ä¼šæ˜¾ç¤º</li>\n</ul>\n<p>å›¾åƒè¿˜æ”¯æŒå®½åº¦å’Œé«˜åº¦</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;xxxx&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">width</span>=<span class=\"string\">&quot;100&quot;</span> <span class=\"attr\">height</span>=<span class=\"string\">&quot;100&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸è¿‡ä¸å»ºè®®è¿™æ ·å»å†™å®½åº¦å’Œé«˜åº¦ï¼Œ å› ä¸ºå›¾ç‰‡åŠ è½½çš„æ—¶å€™ï¼Œä¼šæ ¹æ®å®½åº¦å’Œé«˜åº¦å»è®¡ç®—å›¾ç‰‡çš„å®½é«˜ï¼Œå¯¼è‡´å›¾ç‰‡åŠ è½½æ—¶é—´è¿‡é•¿ã€‚<br>å¯ä»¥ä½¿ç”¨ CSS æ¥è®¾ç½®å›¾ç‰‡çš„å®½åº¦å’Œé«˜åº¦ï¼Œä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">img</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">object-fit</span>: cover;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"è¡¨æ ¼\"><a href=\"#è¡¨æ ¼\" class=\"headerlink\" title=\"è¡¨æ ¼\"></a>è¡¨æ ¼</h2><p>è¯¦ç»†ä»‹ç»è¯·çœ‹æ–‡æ¡£ï¼š<a href=\"https://www.w3schools.com/html/html_tables.asp\">åˆ—è¡¨</a></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- å®šä¹‰è¡¨æ ¼æ ‡é¢˜ --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">caption</span>&gt;</span></span><br><span class=\"line\">\t\tMonthly savings</span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">caption</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- è§„å®šè¡¨ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—çš„ç»„ä»¥è¿›è¡Œæ ¼å¼åŒ– --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">colgroup</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">col</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">col</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">col</span> /&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">colgroup</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- å°†è¡¨å¤´å†…å®¹åˆ†ç»„åˆ°è¡¨ä¸­ --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">thead</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>Person 1<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>Person 2<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>Person 3<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">thead</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- å°†æ­£æ–‡å†…å®¹åˆ†ç»„åˆ°è¡¨æ ¼ä¸­ --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">tbody</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>Emil<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>Tobias<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>Linus<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>16<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>14<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">tbody</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- å°†é¡µè„šå†…å®¹åˆ†ç»„åˆ°è¡¨æ ¼ä¸­ --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">tfoot</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">tfoot</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åˆ—è¡¨\"><a href=\"#åˆ—è¡¨\" class=\"headerlink\" title=\"åˆ—è¡¨\"></a>åˆ—è¡¨</h2><p>è¯¦ç»†ä»‹ç»è¯·çœ‹æ–‡æ¡£ï¼š<a href=\"https://www.w3schools.com/html/html_lists.asp\">åˆ—è¡¨</a></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ol</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>Coffee<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>Tea<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ol</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>Coffee<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>Tea<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dl</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">dt</span>&gt;</span>Coffee<span class=\"tag\">&lt;/<span class=\"name\">dt</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">dd</span>&gt;</span>- black hot drink<span class=\"tag\">&lt;/<span class=\"name\">dd</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">dt</span>&gt;</span>Milk<span class=\"tag\">&lt;/<span class=\"name\">dt</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">dd</span>&gt;</span>- white cold drink<span class=\"tag\">&lt;/<span class=\"name\">dd</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dl</span>&gt;</span></span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><div class=\"note info simple\"><p><strong>HTML æ˜¯åˆ›å»ºç½‘é¡µçš„æ ‡å‡†æ ‡è®°è¯­è¨€ã€‚</strong></p>\n</div>\n<ul>\n<li><code>HTML</code> è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€;</li>\n<li><code>HTML</code> æ˜¯åˆ›å»ºç½‘é¡µçš„æ ‡å‡†æ ‡è®°æ ‡ç­¾è¯­è¨€;</li>\n<li><code>HTML</code> æè¿°ç½‘é¡µçš„ç»“æ„;</li>\n<li><code>HTML</code> ç”±ä¸€ç³»åˆ—å…ƒç´ ç»„æˆ;</li>\n<li><code>HTML</code> å…ƒç´ å‘Šè¯‰æµè§ˆå™¨å¦‚ä½•æ˜¾ç¤ºå†…å®¹;</li>\n<li><code>HTML</code> å…ƒç´ æ ‡è®°å†…å®¹ç‰‡æ®µï¼Œä¾‹å¦‚â€œè¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜â€ã€â€œè¿™æ˜¯ä¸€ä¸ªæ®µè½â€ã€â€œè¿™æ˜¯ä¸€ä¸ªé“¾æ¥â€ç­‰ç­‰ã€‚</li>\n</ul>\n<h2 id=\"åˆ›å»ºä¸€ä¸ªç®€å•çš„-HTML-æ–‡ä»¶\"><a href=\"#åˆ›å»ºä¸€ä¸ªç®€å•çš„-HTML-æ–‡ä»¶\" class=\"headerlink\" title=\"åˆ›å»ºä¸€ä¸ªç®€å•çš„ HTML æ–‡ä»¶\"></a>åˆ›å»ºä¸€ä¸ªç®€å•çš„ HTML æ–‡ä»¶</h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Page Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä»£ç è§£é‡Š\"><a href=\"#ä»£ç è§£é‡Š\" class=\"headerlink\" title=\"ä»£ç è§£é‡Š\"></a>ä»£ç è§£é‡Š</h3><ul>\n<li>å£°æ˜ <code>&lt;!DOCTYPE html&gt;</code> å®šä¹‰æ­¤æ–‡æ¡£æ˜¯ HTML5 æ–‡æ¡£</li>\n<li>è¯¥ <code>&lt;html&gt;</code> å…ƒç´ æ˜¯ HTML é¡µé¢çš„æ ¹å…ƒç´ </li>\n<li>è¯¥ <code>&lt;head&gt;</code> å…ƒç´ åŒ…å«æœ‰å…³ HTML é¡µé¢çš„å…ƒä¿¡æ¯</li>\n<li>è¯¥ <code>&lt;title&gt;</code> å…ƒç´ æŒ‡å®š HTML é¡µé¢çš„æ ‡é¢˜ï¼ˆæ˜¾ç¤ºåœ¨æµè§ˆå™¨çš„æ ‡é¢˜æ æˆ–é¡µé¢çš„é€‰é¡¹å¡ä¸­ï¼‰</li>\n<li>å…ƒç´  <code>&lt;body&gt;</code> å®šä¹‰æ–‡æ¡£çš„ä¸»ä½“ï¼Œæ˜¯æ‰€æœ‰å¯è§å†…å®¹çš„å®¹å™¨ï¼Œä¾‹å¦‚æ ‡é¢˜ã€æ®µè½ã€å›¾åƒã€è¶…é“¾æ¥ã€è¡¨æ ¼ã€åˆ—è¡¨ç­‰ã€‚</li>\n<li><code>&lt;script&gt;</code> å®šä¹‰äº¤äº’é€»è¾‘ä¸»é¢˜ä»£ç </li>\n<li><code>&lt;style&gt;</code> å…ƒç´ æ ·å¼ä¸»é¢˜</li>\n</ul>\n<h3 id=\"å…ƒç´ \"><a href=\"#å…ƒç´ \" class=\"headerlink\" title=\"å…ƒç´ \"></a>å…ƒç´ </h3><p><code>å…ƒç´ </code>å°±æ˜¯ä¸€å¥—æ ‡è®°æ ‡ç­¾è¯­è¨€(å¼€å§‹æ ‡ç­¾ï¼Œç»“æŸæ ‡ç­¾)ï¼Œä¾‹å¦‚ï¼š<code>&lt;div&gt;</code>ã€<code>&lt;p&gt;</code>ã€<code>&lt;a&gt;</code>ã€<code>&lt;img /&gt;</code>ã€<code>&lt;script&gt;</code>ã€<code>&lt;style&gt;</code>ã€<code>&lt;title&gt;</code>ã€<code>&lt;meta&gt;</code>ã€<code>&lt;body&gt;</code>ã€<code>&lt;head&gt;</code>ã€<code>&lt;html&gt;</code>ç­‰ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- &lt;p&gt; å¼€å§‹æ ‡ç­¾ --&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- &lt;/p&gt; ç»“æŸæ ‡ç­¾ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>è¿™æ˜¯ä¸€æ®µæ–‡æœ¬<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<hr>\n<p>æ¥ä¸‹æ¥ï¼Œå°†å¸¦æ‚¨è®¤è¯†<code>å…ƒç´ æ ‡ç­¾</code>â€¦</p>\n<h2 id=\"æ ‡é¢˜-H1-H6\"><a href=\"#æ ‡é¢˜-H1-H6\" class=\"headerlink\" title=\"æ ‡é¢˜ H1-H6\"></a>æ ‡é¢˜ <code>H1-H6</code></h2><p><code>HTML</code> æ ‡é¢˜æ˜¯æ‚¨æƒ³è¦åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºçš„æ ‡é¢˜æˆ–å‰¯æ ‡é¢˜ã€‚</p>\n<p>å¸¸å¸¸ç”¨äºç½‘é¡µçš„æ ‡é¢˜å±•ç¤ºï¼Œæ ‡é¢˜åˆ†ä¸º <code>1-6</code>ï¼Œç„¶è€Œæƒé‡æ˜¯ä¸ä¸€æ ·çš„ï¼Œå„æœ‰ä¸ªçš„ç”¨æ³•ï¼› <code>&lt;h1&gt;&lt;/h1&gt;</code>å®šä¹‰æœ€ä¸ºé‡è¦çš„æ ‡é¢˜ï¼Œä¹Ÿæ˜¯æƒé‡æœ€é«˜çš„ï¼Œè€Œ <code>&lt;h6&gt;&lt;/h6&gt;</code>å®šä¹‰æœ€ä¸é‡è¦çš„æ ‡é¢˜ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æƒé‡æœ€å°çš„ã€‚</p>\n<h3 id=\"ç”¨æ³•\"><a href=\"#ç”¨æ³•\" class=\"headerlink\" title=\"ç”¨æ³•\"></a>ç”¨æ³•</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>æ ‡é¢˜1<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>æ ‡é¢˜2<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>æ ‡é¢˜3<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h4</span>&gt;</span>æ ‡é¢˜4<span class=\"tag\">&lt;/<span class=\"name\">h4</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h5</span>&gt;</span>æ ‡é¢˜5<span class=\"tag\">&lt;/<span class=\"name\">h5</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h6</span>&gt;</span>æ ‡é¢˜6<span class=\"tag\">&lt;/<span class=\"name\">h6</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<div class=\"note warning simple\"><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š</p>\n<p>æµè§ˆå™¨ä¼šåœ¨æ ‡é¢˜çš„å‰åæ·»åŠ ä¸€äº›é—´è·ï¼ˆç©ºç™½è·ç¦»ï¼‰ï¼›åŒæ—¶ä»…ä»…æœ€ä½œä¸ºé¢˜ï¼Œä¸å»ºè®®ç”¨æ ‡é¢˜å°†æ–‡æœ¬<strong>åŠ ç²—æˆ–è€…æ”¾å¤§</strong>ï¼›å› ä¸ºæµè§ˆå™¨é»˜è®¤çš„æ ·å¼å·²ç»è¶³å¤Ÿï¼Œå½“ç„¶æƒé‡ä¸å¤ªä¸€æ ·ï¼Œå¯¼è‡´çš„å­—ä½“å¤§å°ä¹Ÿæ˜¯ä¸ç”¨çš„ï¼Œå½“ç„¶æ–‡æœ¬åŠ ç²—<strong>æ˜¯é»˜è®¤çš„</strong>ï¼›</p>\n</div>\n\n<h2 id=\"æ®µè½-P\"><a href=\"#æ®µè½-P\" class=\"headerlink\" title=\"æ®µè½ P\"></a>æ®µè½ <code>P</code></h2><div class=\"note info simple\"><p>æ®µè½æ ‡ç­¾æ˜¯æœ€å¸¸ç”¨çš„æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬åˆ†æˆæ®µè½ï¼Œæ®µè½ä¹‹é—´ç”¨ <code>&lt;p&gt;&lt;/p&gt;</code> æ ‡ç­¾åŒ…è£¹èµ·æ¥ã€‚æ–°è¡Œå¼€å§‹ï¼Œå¹¶ä¸”é€šå¸¸æ˜¯ä¸€å—æ–‡æœ¬ã€‚ç»å¸¸ç”¨äºæ–‡ç« çš„å±•ç¤ºï¼›</p>\n<p>åŒæ ·ï¼Œæ®µè½æ€»æ˜¯ä»æ–°è¡Œå¼€å§‹ï¼Œå¹¶ä¸”æµè§ˆå™¨ä¼šè‡ªåŠ¨åœ¨æ®µè½å‰åæ·»åŠ ä¸€äº›ç©ºç™½ï¼ˆè¾¹è·ï¼‰ã€‚</p>\n</div>\n\n\n<h3 id=\"ç”¨æ³•-1\"><a href=\"#ç”¨æ³•-1\" class=\"headerlink\" title=\"ç”¨æ³•\"></a>ç”¨æ³•</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>This is a paragraph.<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>This is another paragraph.<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>å½“ç„¶ï¼Œ<code>P</code>æ ‡ç­¾åœ¨ç½‘é¡µä¸­ï¼Œä¼šè‡ªåŠ¨åˆ é™¤å¤šä½™çš„ç©ºè¡Œä¸ç©ºæ ¼ï¼›</p>\n<h3 id=\"æ°´å¹³è§„åˆ™-hr\"><a href=\"#æ°´å¹³è§„åˆ™-hr\" class=\"headerlink\" title=\"æ°´å¹³è§„åˆ™ hr\"></a>æ°´å¹³è§„åˆ™ <code>hr</code></h3><p>æ°´å¹³è§„åˆ™æ ‡ç­¾ï¼Œç”¨äºåœ¨ç½‘é¡µä¸­æ·»åŠ æ°´å¹³åˆ†å‰²çº¿ï¼Œä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>è¿™æ—¶ä¸€æ®µå†…å®¹<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">hr</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>è¿™æ—¶ä¸€æ®µå†…å®¹<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">hr</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>è¯¥<code>&lt;hr&gt;</code>æ ‡ç­¾ä¸ºç©ºæ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ²¡æœ‰ç»“æŸæ ‡ç­¾ã€‚</p>\n<h3 id=\"æ¢è¡Œç¬¦-br\"><a href=\"#æ¢è¡Œç¬¦-br\" class=\"headerlink\" title=\"æ¢è¡Œç¬¦ br\"></a>æ¢è¡Œç¬¦ <code>br</code></h3><p>br æ ‡ç­¾ï¼Œç”¨äºåœ¨ç½‘é¡µä¸­æ·»åŠ æ¢è¡Œç¬¦ï¼Œä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>è¿™æ˜¯ç¬¬ä¸€è¡Œ<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>è¿™æ˜¯ç¬¬äºŒè¡Œ<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>è¿™æ˜¯ç¬¬ä¸‰è¡Œ<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>è¯¥<code>&lt;br&gt;</code>æ ‡ç­¾ä¸ºç©ºæ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ²¡æœ‰ç»“æŸæ ‡ç­¾ã€‚</p>\n<h2 id=\"æ ¼å¼åŒ–æ ‡ç­¾\"><a href=\"#æ ¼å¼åŒ–æ ‡ç­¾\" class=\"headerlink\" title=\"æ ¼å¼åŒ–æ ‡ç­¾\"></a>æ ¼å¼åŒ–æ ‡ç­¾</h2><h3 id=\"å«ä¹‰\"><a href=\"#å«ä¹‰\" class=\"headerlink\" title=\"å«ä¹‰\"></a>å«ä¹‰</h3><ol>\n<li><code>b</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ç²—ä½“</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>i</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>æ–œä½“</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>u</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ä¸‹åˆ’çº¿</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>s</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>åˆ é™¤çº¿</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>em</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>æ–œä½“</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>strong</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ç²—ä½“</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>mark</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>æ ‡è®°</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>del</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>åˆ é™¤çº¿</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>ins</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ä¸‹åˆ’çº¿</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>sub</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ä¸‹æ ‡</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>sup</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ä¸Šæ ‡</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>abbr</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ç¼©å†™</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>code</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ä»£ç </strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>kbd</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>é”®ç›˜</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>var</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>å˜é‡</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>samp</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>ç¤ºä¾‹</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>cite</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>å¼•ç”¨</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>dfn</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>å®šä¹‰</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>q</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>å¼•ç”¨</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>blockquote</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>å¼•ç”¨</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>address</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>åœ°å€</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>pre</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>é¢„æ ¼å¼æ–‡æœ¬</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n<li><code>small</code>æ ‡ç­¾ï¼Œç”¨äºå°†æ–‡æœ¬æ ‡è®°ä¸º<strong>å°å·</strong>ï¼Œä¾‹å¦‚ï¼š</li>\n</ol>\n<h3 id=\"æ¡ˆä¾‹\"><a href=\"#æ¡ˆä¾‹\" class=\"headerlink\" title=\"æ¡ˆä¾‹\"></a>æ¡ˆä¾‹</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">b</span>&gt;</span>ç²—ä½“<span class=\"tag\">&lt;/<span class=\"name\">b</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>ç²—ä½“<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">em</span>&gt;</span>æ–œä½“<span class=\"tag\">&lt;/<span class=\"name\">em</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">i</span>&gt;</span>æ–œä½“<span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">u</span>&gt;</span>ä¸‹åˆ’çº¿<span class=\"tag\">&lt;/<span class=\"name\">u</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">ins</span>&gt;</span>ä¸‹åˆ’çº¿<span class=\"tag\">&lt;/<span class=\"name\">ins</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">s</span>&gt;</span>åˆ é™¤çº¿<span class=\"tag\">&lt;/<span class=\"name\">s</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">del</span>&gt;</span>åˆ é™¤çº¿<span class=\"tag\">&lt;/<span class=\"name\">del</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">mark</span>&gt;</span>æ ‡è®°<span class=\"tag\">&lt;/<span class=\"name\">mark</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">sub</span>&gt;</span>ä¸‹æ ‡<span class=\"tag\">&lt;/<span class=\"name\">sub</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">sup</span>&gt;</span>ä¸Šæ ‡<span class=\"tag\">&lt;/<span class=\"name\">sup</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">small</span>&gt;</span>å°å·<span class=\"tag\">&lt;/<span class=\"name\">small</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">abbr</span> <span class=\"attr\">title</span>=<span class=\"string\">&quot;Hyper Text Markup Language&quot;</span>&gt;</span>HTML<span class=\"tag\">&lt;/<span class=\"name\">abbr</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">code</span>&gt;</span>ä»£ç <span class=\"tag\">&lt;/<span class=\"name\">code</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">kbd</span>&gt;</span>é”®ç›˜<span class=\"tag\">&lt;/<span class=\"name\">kbd</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">var</span>&gt;</span>å˜é‡<span class=\"tag\">&lt;/<span class=\"name\">var</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">samp</span>&gt;</span>ç¤ºä¾‹<span class=\"tag\">&lt;/<span class=\"name\">samp</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">cite</span>&gt;</span>å¼•ç”¨<span class=\"tag\">&lt;/<span class=\"name\">cite</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">dfn</span>&gt;</span>å®šä¹‰<span class=\"tag\">&lt;/<span class=\"name\">dfn</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">q</span>&gt;</span>å¼•ç”¨<span class=\"tag\">&lt;/<span class=\"name\">q</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">blockquote</span>&gt;</span>å¼•ç”¨<span class=\"tag\">&lt;/<span class=\"name\">blockquote</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">cite</span>&gt;</span>å¼•ç”¨<span class=\"tag\">&lt;/<span class=\"name\">cite</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">address</span>&gt;</span>åœ°å€<span class=\"tag\">&lt;/<span class=\"name\">address</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">ins</span>&gt;</span>å¼•ç”¨<span class=\"tag\">&lt;/<span class=\"name\">ins</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">del</span>&gt;</span>å¼•ç”¨<span class=\"tag\">&lt;/<span class=\"name\">del</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">s</span>&gt;</span>å¼•ç”¨<span class=\"tag\">&lt;/<span class=\"name\">s</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">s</span>&gt;</span>å¼•ç”¨<span class=\"tag\">&lt;/<span class=\"name\">s</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">pre</span>&gt;</span></span><br><span class=\"line\">  My Bonnie lies over the ocean.</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">pre</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"é“¾æ¥æ ‡ç­¾\"><a href=\"#é“¾æ¥æ ‡ç­¾\" class=\"headerlink\" title=\"é“¾æ¥æ ‡ç­¾\"></a>é“¾æ¥æ ‡ç­¾</h2><p>é“¾æ¥æ ‡ç­¾ï¼Œç”¨äºåœ¨ç½‘é¡µä¸­æ·»åŠ è¶…é“¾æ¥ï¼Œä¾‹å¦‚ï¼š</p>\n<h3 id=\"ç”¨æ³•-2\"><a href=\"#ç”¨æ³•-2\" class=\"headerlink\" title=\"ç”¨æ³•\"></a>ç”¨æ³•</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_blank&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_self&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_parent&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_top&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>å‡ ä¹æ‰€æœ‰ç½‘é¡µä¸Šéƒ½æœ‰é“¾æ¥ã€‚é“¾æ¥å…è®¸ç”¨æˆ·é€šè¿‡ç‚¹å‡»ä»ä¸€ä¸ªé¡µé¢åˆ°å¦ä¸€ä¸ªé¡µé¢ã€‚æ‚¨å¯ä»¥å•å‡»é“¾æ¥å¹¶è·³è½¬åˆ°å¦ä¸€ä¸ªæ–‡æ¡£ã€‚å½“å°†é¼ æ ‡ç§»åˆ°é“¾æ¥ä¸Šæ—¶ï¼Œé¼ æ ‡ç®­å¤´ä¼šå˜æˆä¸€åªå°æ‰‹ã€‚</strong></p>\n<div class=\"note warning simple\"><p>æ³¨æ„ï¼šé“¾æ¥ä¸ä¸€å®šæ˜¯æ–‡æœ¬ã€‚é“¾æ¥å¯ä»¥æ˜¯å›¾åƒæˆ–ä»»ä½•å…¶ä»– HTML å…ƒç´ ï¼</p>\n</div>\n\n<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œé“¾æ¥åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­éƒ½ä¼šæ˜¾ç¤ºå¦‚ä¸‹å†…å®¹ï¼š</p>\n<ul>\n<li>æœªè®¿é—®çš„é“¾æ¥å¸¦æœ‰ä¸‹åˆ’çº¿å’Œè“è‰²</li>\n<li>å·²è®¿é—®çš„é“¾æ¥å¸¦æœ‰ä¸‹åˆ’çº¿å’Œç´«è‰²</li>\n<li>æ´»åŠ¨é“¾æ¥å¸¦æœ‰ä¸‹åˆ’çº¿å’Œçº¢è‰²</li>\n<li>å½“ç„¶å¯ä»¥ä½¿ç”¨ CSS è®¾ç½®é“¾æ¥æ ·å¼ï¼Œä»¥è·å¾—å¦ä¸€ç§å¤–è§‚ï¼</li>\n</ul>\n<h3 id=\"å±æ€§\"><a href=\"#å±æ€§\" class=\"headerlink\" title=\"å±æ€§\"></a>å±æ€§</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œé“¾æ¥çš„é¡µé¢å°†æ˜¾ç¤ºåœ¨å½“å‰æµè§ˆå™¨çª—å£ä¸­ã€‚è¦æ›´æ”¹æ­¤è®¾ç½®ï¼Œæ‚¨å¿…é¡»ä¸ºé“¾æ¥æŒ‡å®šå¦ä¸€ä¸ªç›®æ ‡ã€‚<br>è¯¥<code>target</code>å±æ€§æŒ‡å®šåœ¨ä½•å¤„æ‰“å¼€é“¾æ¥çš„æ–‡æ¡£ã€‚</p>\n<ul>\n<li>_self- é»˜è®¤ã€‚åœ¨å•å‡»çš„åŒä¸€çª—å£&#x2F;é€‰é¡¹å¡ä¸­æ‰“å¼€æ–‡æ¡£</li>\n<li>_blank- åœ¨æ–°çª—å£æˆ–é€‰é¡¹å¡ä¸­æ‰“å¼€æ–‡æ¡£</li>\n<li>_parent- åœ¨çˆ¶æ¡†æ¶ä¸­æ‰“å¼€æ–‡æ¡£</li>\n<li>_top- åœ¨çª—å£ä¸­æ‰“å¼€æ•´ä¸ªæ–‡æ¡£</li>\n</ul>\n<h3 id=\"å…¶ä»–ç”¨æ³•\"><a href=\"#å…¶ä»–ç”¨æ³•\" class=\"headerlink\" title=\"å…¶ä»–ç”¨æ³•\"></a>å…¶ä»–ç”¨æ³•</h3><p>é”šç‚¹æ ‡ç­¾ï¼Œç”¨äºåœ¨ç½‘é¡µä¸­æ·»åŠ é”šç‚¹ï¼Œä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- é”šç‚¹æ ‡ç­¾ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;top&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;#top&quot;</span>&gt;</span>å›åˆ°é¡¶éƒ¨<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- å¸¸è§„ç”¨æ³• --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_blank&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_self&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_parent&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_top&quot;</span>&gt;</span>ç™¾åº¦<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- ç”µå­é‚®ä»¶ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;mailto:admin@example.com&quot;</span>&gt;</span>å‘é€ç”µå­é‚®ä»¶<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- æ‹¨æ‰“ç”µè¯ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;tel:+1-555-555-5555&quot;</span>&gt;</span>æ‹¨æ‰“ç”µè¯<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- äº‹ä»¶è§¦å‘ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:void(0);&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;alert(&#x27;Hello World!&#x27;);&quot;</span>&gt;</span>ç‚¹å‡»æˆ‘<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://www.baidu.com&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;return confirm(&#x27;ç¡®å®šè¦è®¿é—®ç™¾åº¦å—ï¼Ÿ&#x27;);&quot;</span>&gt;</span></span><br><span class=\"line\">\tç™¾åº¦</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å›¾åƒ\"><a href=\"#å›¾åƒ\" class=\"headerlink\" title=\"å›¾åƒ\"></a>å›¾åƒ</h2><p>ä½¿ç”¨<code>&lt;img/&gt;</code>å¯ä»¥åœ¨ç½‘é¡µä¸­åµŒå…¥å›¾ç‰‡ï¼Œå›¾åƒä¸€èˆ¬æœ‰ä¿©ä¸ªå¿…å¡«çš„å‚æ•°</p>\n<ul>\n<li>srcï¼šå›¾ç‰‡åœ°å€, å¯ä»¥æ˜¯æœ¬åœ°åœ°å€ä¹Ÿå¯ä»¥æ˜¯ç½‘ç»œèµ„æº</li>\n<li>altï¼šå›¾ç‰‡æè¿°ï¼Œå›¾ç‰‡çš„æè¿°ï¼Œå½“å›¾ç‰‡ä¸å­˜åœ¨çš„æ—¶å€™ä¼šæ˜¾ç¤º</li>\n</ul>\n<p>å›¾åƒè¿˜æ”¯æŒå®½åº¦å’Œé«˜åº¦</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;xxxx&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">width</span>=<span class=\"string\">&quot;100&quot;</span> <span class=\"attr\">height</span>=<span class=\"string\">&quot;100&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸è¿‡ä¸å»ºè®®è¿™æ ·å»å†™å®½åº¦å’Œé«˜åº¦ï¼Œ å› ä¸ºå›¾ç‰‡åŠ è½½çš„æ—¶å€™ï¼Œä¼šæ ¹æ®å®½åº¦å’Œé«˜åº¦å»è®¡ç®—å›¾ç‰‡çš„å®½é«˜ï¼Œå¯¼è‡´å›¾ç‰‡åŠ è½½æ—¶é—´è¿‡é•¿ã€‚<br>å¯ä»¥ä½¿ç”¨ CSS æ¥è®¾ç½®å›¾ç‰‡çš„å®½åº¦å’Œé«˜åº¦ï¼Œä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">img</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">object-fit</span>: cover;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"è¡¨æ ¼\"><a href=\"#è¡¨æ ¼\" class=\"headerlink\" title=\"è¡¨æ ¼\"></a>è¡¨æ ¼</h2><p>è¯¦ç»†ä»‹ç»è¯·çœ‹æ–‡æ¡£ï¼š<a href=\"https://www.w3schools.com/html/html_tables.asp\">åˆ—è¡¨</a></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- å®šä¹‰è¡¨æ ¼æ ‡é¢˜ --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">caption</span>&gt;</span></span><br><span class=\"line\">\t\tMonthly savings</span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">caption</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- è§„å®šè¡¨ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—çš„ç»„ä»¥è¿›è¡Œæ ¼å¼åŒ– --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">colgroup</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">col</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">col</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">col</span> /&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">colgroup</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- å°†è¡¨å¤´å†…å®¹åˆ†ç»„åˆ°è¡¨ä¸­ --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">thead</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>Person 1<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>Person 2<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>Person 3<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">thead</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- å°†æ­£æ–‡å†…å®¹åˆ†ç»„åˆ°è¡¨æ ¼ä¸­ --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">tbody</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>Emil<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>Tobias<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>Linus<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>16<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>14<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">tbody</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- å°†é¡µè„šå†…å®¹åˆ†ç»„åˆ°è¡¨æ ¼ä¸­ --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">tfoot</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">tfoot</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åˆ—è¡¨\"><a href=\"#åˆ—è¡¨\" class=\"headerlink\" title=\"åˆ—è¡¨\"></a>åˆ—è¡¨</h2><p>è¯¦ç»†ä»‹ç»è¯·çœ‹æ–‡æ¡£ï¼š<a href=\"https://www.w3schools.com/html/html_lists.asp\">åˆ—è¡¨</a></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ol</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>Coffee<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>Tea<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ol</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>Coffee<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>Tea<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dl</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">dt</span>&gt;</span>Coffee<span class=\"tag\">&lt;/<span class=\"name\">dt</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">dd</span>&gt;</span>- black hot drink<span class=\"tag\">&lt;/<span class=\"name\">dd</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">dt</span>&gt;</span>Milk<span class=\"tag\">&lt;/<span class=\"name\">dt</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">dd</span>&gt;</span>- white cold drink<span class=\"tag\">&lt;/<span class=\"name\">dd</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dl</span>&gt;</span></span><br></pre></td></tr></table></figure>\n"},{"title":"Nest-JWTæˆæƒ","abbrlink":"dedb482b","date":"2024-11-08T01:05:01.000Z","_content":"\n# ä»‹ç»\n\nèº«ä»½éªŒè¯æ˜¯å¤§å¤šæ•°åº”ç”¨çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚æœ‰è®¸å¤šä¸åŒçš„æ–¹æ³•å’Œç­–ç•¥æ¥å¤„ç†èº«ä»½éªŒè¯ã€‚ä»»ä½•é¡¹ç›®æ‰€é‡‡ç”¨çš„æ–¹æ³•éƒ½å–å†³äºå…¶ç‰¹å®šçš„åº”ç”¨éœ€æ±‚ã€‚æœ¬ç« ä»‹ç»äº†å‡ ç§å¯ä»¥é€‚åº”å„ç§ä¸åŒè¦æ±‚çš„èº«ä»½éªŒè¯æ–¹æ³•ã€‚\n\nè®©æˆ‘ä»¬å……å®æˆ‘ä»¬çš„è¦æ±‚ã€‚å¯¹äºæ­¤ç”¨ä¾‹ï¼Œå®¢æˆ·ç«¯å°†é¦–å…ˆä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œèº«ä»½éªŒè¯ã€‚ä¸€æ—¦é€šè¿‡èº«ä»½éªŒè¯ï¼ŒæœåŠ¡å™¨å°†å‘é€ä¸€ä¸ª `JWT`ï¼Œè¯¥ `JWT` å¯ä»¥åœ¨åç»­è¯·æ±‚çš„æˆæƒæ ‡å¤´ä¸­ä½œä¸º ä¸è®°åä»¤ç‰Œ å‘é€ä»¥è¯æ˜èº«ä»½éªŒè¯ã€‚æˆ‘ä»¬è¿˜å°†åˆ›å»ºä¸€ä¸ªä»…ä¾›åŒ…å«æœ‰æ•ˆ `JWT` çš„è¯·æ±‚è®¿é—®çš„å—ä¿æŠ¤è·¯ç”±ã€‚\n\næˆ‘ä»¬å°†ä»ç¬¬ä¸€ä¸ªè¦æ±‚å¼€å§‹ï¼šéªŒè¯ç”¨æˆ·ã€‚ç„¶åæˆ‘ä»¬å°†é€šè¿‡å‘å¸ƒ `JWT` æ¥æ‰©å±•å®ƒã€‚æœ€åï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå—ä¿æŠ¤çš„è·¯ç”±æ¥æ£€æŸ¥è¯·æ±‚ä¸­çš„æœ‰æ•ˆ `JWTã€‚`\n\n## JWT ä»¤ç‰Œ\n\né¦–å…ˆå®‰è£…ä¾èµ–:\n\n```ts\npnpm add --save @nestjs/jwt\n\n```\n\nå®‰è£…æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åœ¨`auth.module.ts`ä¸­æ³¨å†Œï¼š\n\n```ts\nimport { Module } from '@nestjs/common';\nimport { JwtModule } from '@nestjs/jwt';\n\n@Module({\n  imports: [\n    // æ·»åŠ è¿™ä¸€è¡Œ\n    JwtModule.register({\n      global: true,\n      secret: \"xxxxxxxxxxxxxxxx\",\n      signOptions: { expiresIn: '60s' },\n    }),\n  ],\n})\n```\n\n::: warning æ³¨æ„\n`secret` å½“ç„¶ä½ å¯ä»¥æ·»åŠ åœ¨ç¯å¢ƒå˜é‡ä¸­, å¦‚æœæ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­å†™æ³•å¦‚ä¸‹ï¼š\n:::\n\n```ts\nimport { ConfigService } from '@nestjs/config';\n@Module({\n  imports: [\n    // æ·»åŠ è¿™ä¸€è¡Œ\n    JwtModule.registerAsync({\n      useFactory: async (configService: ConfigService) => {\n        return {\n          secret: configService.get<string>('JWT_SECRET'),\n          signOptions: {\n            expiresIn: configService.get<string>('JWT_EXPIRES_IN'),\n          },\n        };\n      },\n      inject: [ConfigService],\n    }),\n  ],\n})\n```\n\n## é€šè¡Œè¯/èº«ä»½éªŒè¯\n\nèº«ä»½éªŒè¯ç”¨çš„ç¬¬ä¸‰æ–¹`@nestjs/passport`, å¯ä»¥çœ‹æ–‡æ¡£[é€šè¡Œè¯æ•´åˆ](https://nest.nodejs.cn/security/authentication#%E9%80%9A%E8%A1%8C%E8%AF%81%E6%95%B4%E5%90%88)\n\n```ts\nimport { ExtractJwt, Strategy } from \"passport-jwt\";\nimport { PassportStrategy } from \"@nestjs/passport\";\nimport { Injectable } from \"@nestjs/common\";\nimport { Payload } from \"./auth.interface\";\nimport { Request } from \"express\";\nimport { AuthService } from \"./auth.service\";\n\n@Injectable()\nexport class JwtStrategy extends PassportStrategy(Strategy) {\n\tconstructor(private readonly authService: AuthService) {\n\t\tsuper({\n\t\t\tjwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n\t\t\tignoreExpiration: false,\n\t\t\tsecretOrKey: process.env.JWT_SECRET,\n\t\t\tpassReqToCallback: true,\n\t\t});\n\t}\n\n\t// èº«ä»½æ ¡éªŒå™¨\n\tasync validate(request: Request, payload: Payload) {\n\t\tconst authorization = request.headers.authorization || \"\";\n\t\tconst token = authorization.slice(7);\n\t\t// è¿™ä¸€æ­¥æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘æ¥å†™ï¼Œæˆ‘è¿™é‡Œæ˜¯è¯»å–redisçš„tokenä½œä¸ºæ¯”è¾ƒ\n\t\tconst user = await this.authService.validateToken(payload, token);\n\t\treturn user || { userId: payload.userId };\n\t}\n}\n```\n\n```ts\nexport class AuthService {\n\t// éªŒè¯tokenæ˜¯å¦å¤±æ•ˆ\n\tasync validateToken(payload: Payload, resToken: string) {\n\t\tconst token = await this.cacheService.get(\n\t\t\t`${REDIS_TOKEN_KEY}${payload.userId}`\n\t\t);\n\t\tif (resToken !== token)\n\t\t\tthrow new ApiException(\"ç™»å½•çŠ¶æ€å·²è¿‡æœŸ\", HttpStatusCode.FORBIDDEN);\n\t\t// å­˜åœ¨è¯»å–ç¼“å­˜\n\t\tconst userString = await this.cacheService.get(\n\t\t\t`${REDIS_USER_INFO_KEY}${payload.userId}`\n\t\t);\n\t\treturn userString ? JSON.parse(userString) : null;\n\t}\n}\n```\n\næœ€åå°†è¿™ä¸ª`module`æŒ‚è½½åœ¨`app.module.ts`ä¸­ï¼š\n\n```ts\n@Module({\n  imports: [AuthModule],\n  controllers: [],\n  providers: [],\n  exports: [],\n})\n```\n","source":"_posts/æŠ€èƒ½å°å†Œ/Nest/jwtæˆæƒ.md","raw":"---\ntitle: Nest-JWTæˆæƒ\nabbrlink: dedb482b\ndate: 2024-11-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Nest\n---\n\n# ä»‹ç»\n\nèº«ä»½éªŒè¯æ˜¯å¤§å¤šæ•°åº”ç”¨çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚æœ‰è®¸å¤šä¸åŒçš„æ–¹æ³•å’Œç­–ç•¥æ¥å¤„ç†èº«ä»½éªŒè¯ã€‚ä»»ä½•é¡¹ç›®æ‰€é‡‡ç”¨çš„æ–¹æ³•éƒ½å–å†³äºå…¶ç‰¹å®šçš„åº”ç”¨éœ€æ±‚ã€‚æœ¬ç« ä»‹ç»äº†å‡ ç§å¯ä»¥é€‚åº”å„ç§ä¸åŒè¦æ±‚çš„èº«ä»½éªŒè¯æ–¹æ³•ã€‚\n\nè®©æˆ‘ä»¬å……å®æˆ‘ä»¬çš„è¦æ±‚ã€‚å¯¹äºæ­¤ç”¨ä¾‹ï¼Œå®¢æˆ·ç«¯å°†é¦–å…ˆä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œèº«ä»½éªŒè¯ã€‚ä¸€æ—¦é€šè¿‡èº«ä»½éªŒè¯ï¼ŒæœåŠ¡å™¨å°†å‘é€ä¸€ä¸ª `JWT`ï¼Œè¯¥ `JWT` å¯ä»¥åœ¨åç»­è¯·æ±‚çš„æˆæƒæ ‡å¤´ä¸­ä½œä¸º ä¸è®°åä»¤ç‰Œ å‘é€ä»¥è¯æ˜èº«ä»½éªŒè¯ã€‚æˆ‘ä»¬è¿˜å°†åˆ›å»ºä¸€ä¸ªä»…ä¾›åŒ…å«æœ‰æ•ˆ `JWT` çš„è¯·æ±‚è®¿é—®çš„å—ä¿æŠ¤è·¯ç”±ã€‚\n\næˆ‘ä»¬å°†ä»ç¬¬ä¸€ä¸ªè¦æ±‚å¼€å§‹ï¼šéªŒè¯ç”¨æˆ·ã€‚ç„¶åæˆ‘ä»¬å°†é€šè¿‡å‘å¸ƒ `JWT` æ¥æ‰©å±•å®ƒã€‚æœ€åï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå—ä¿æŠ¤çš„è·¯ç”±æ¥æ£€æŸ¥è¯·æ±‚ä¸­çš„æœ‰æ•ˆ `JWTã€‚`\n\n## JWT ä»¤ç‰Œ\n\né¦–å…ˆå®‰è£…ä¾èµ–:\n\n```ts\npnpm add --save @nestjs/jwt\n\n```\n\nå®‰è£…æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åœ¨`auth.module.ts`ä¸­æ³¨å†Œï¼š\n\n```ts\nimport { Module } from '@nestjs/common';\nimport { JwtModule } from '@nestjs/jwt';\n\n@Module({\n  imports: [\n    // æ·»åŠ è¿™ä¸€è¡Œ\n    JwtModule.register({\n      global: true,\n      secret: \"xxxxxxxxxxxxxxxx\",\n      signOptions: { expiresIn: '60s' },\n    }),\n  ],\n})\n```\n\n::: warning æ³¨æ„\n`secret` å½“ç„¶ä½ å¯ä»¥æ·»åŠ åœ¨ç¯å¢ƒå˜é‡ä¸­, å¦‚æœæ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­å†™æ³•å¦‚ä¸‹ï¼š\n:::\n\n```ts\nimport { ConfigService } from '@nestjs/config';\n@Module({\n  imports: [\n    // æ·»åŠ è¿™ä¸€è¡Œ\n    JwtModule.registerAsync({\n      useFactory: async (configService: ConfigService) => {\n        return {\n          secret: configService.get<string>('JWT_SECRET'),\n          signOptions: {\n            expiresIn: configService.get<string>('JWT_EXPIRES_IN'),\n          },\n        };\n      },\n      inject: [ConfigService],\n    }),\n  ],\n})\n```\n\n## é€šè¡Œè¯/èº«ä»½éªŒè¯\n\nèº«ä»½éªŒè¯ç”¨çš„ç¬¬ä¸‰æ–¹`@nestjs/passport`, å¯ä»¥çœ‹æ–‡æ¡£[é€šè¡Œè¯æ•´åˆ](https://nest.nodejs.cn/security/authentication#%E9%80%9A%E8%A1%8C%E8%AF%81%E6%95%B4%E5%90%88)\n\n```ts\nimport { ExtractJwt, Strategy } from \"passport-jwt\";\nimport { PassportStrategy } from \"@nestjs/passport\";\nimport { Injectable } from \"@nestjs/common\";\nimport { Payload } from \"./auth.interface\";\nimport { Request } from \"express\";\nimport { AuthService } from \"./auth.service\";\n\n@Injectable()\nexport class JwtStrategy extends PassportStrategy(Strategy) {\n\tconstructor(private readonly authService: AuthService) {\n\t\tsuper({\n\t\t\tjwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n\t\t\tignoreExpiration: false,\n\t\t\tsecretOrKey: process.env.JWT_SECRET,\n\t\t\tpassReqToCallback: true,\n\t\t});\n\t}\n\n\t// èº«ä»½æ ¡éªŒå™¨\n\tasync validate(request: Request, payload: Payload) {\n\t\tconst authorization = request.headers.authorization || \"\";\n\t\tconst token = authorization.slice(7);\n\t\t// è¿™ä¸€æ­¥æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘æ¥å†™ï¼Œæˆ‘è¿™é‡Œæ˜¯è¯»å–redisçš„tokenä½œä¸ºæ¯”è¾ƒ\n\t\tconst user = await this.authService.validateToken(payload, token);\n\t\treturn user || { userId: payload.userId };\n\t}\n}\n```\n\n```ts\nexport class AuthService {\n\t// éªŒè¯tokenæ˜¯å¦å¤±æ•ˆ\n\tasync validateToken(payload: Payload, resToken: string) {\n\t\tconst token = await this.cacheService.get(\n\t\t\t`${REDIS_TOKEN_KEY}${payload.userId}`\n\t\t);\n\t\tif (resToken !== token)\n\t\t\tthrow new ApiException(\"ç™»å½•çŠ¶æ€å·²è¿‡æœŸ\", HttpStatusCode.FORBIDDEN);\n\t\t// å­˜åœ¨è¯»å–ç¼“å­˜\n\t\tconst userString = await this.cacheService.get(\n\t\t\t`${REDIS_USER_INFO_KEY}${payload.userId}`\n\t\t);\n\t\treturn userString ? JSON.parse(userString) : null;\n\t}\n}\n```\n\næœ€åå°†è¿™ä¸ª`module`æŒ‚è½½åœ¨`app.module.ts`ä¸­ï¼š\n\n```ts\n@Module({\n  imports: [AuthModule],\n  controllers: [],\n  providers: [],\n  exports: [],\n})\n```\n","slug":"æŠ€èƒ½å°å†Œ/Nest/jwtæˆæƒ","published":1,"updated":"2025-03-12T09:44:56.211Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iy002ufg9mbgar81lv","content":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>èº«ä»½éªŒè¯æ˜¯å¤§å¤šæ•°åº”ç”¨çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚æœ‰è®¸å¤šä¸åŒçš„æ–¹æ³•å’Œç­–ç•¥æ¥å¤„ç†èº«ä»½éªŒè¯ã€‚ä»»ä½•é¡¹ç›®æ‰€é‡‡ç”¨çš„æ–¹æ³•éƒ½å–å†³äºå…¶ç‰¹å®šçš„åº”ç”¨éœ€æ±‚ã€‚æœ¬ç« ä»‹ç»äº†å‡ ç§å¯ä»¥é€‚åº”å„ç§ä¸åŒè¦æ±‚çš„èº«ä»½éªŒè¯æ–¹æ³•ã€‚</p>\n<p>è®©æˆ‘ä»¬å……å®æˆ‘ä»¬çš„è¦æ±‚ã€‚å¯¹äºæ­¤ç”¨ä¾‹ï¼Œå®¢æˆ·ç«¯å°†é¦–å…ˆä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œèº«ä»½éªŒè¯ã€‚ä¸€æ—¦é€šè¿‡èº«ä»½éªŒè¯ï¼ŒæœåŠ¡å™¨å°†å‘é€ä¸€ä¸ª <code>JWT</code>ï¼Œè¯¥ <code>JWT</code> å¯ä»¥åœ¨åç»­è¯·æ±‚çš„æˆæƒæ ‡å¤´ä¸­ä½œä¸º ä¸è®°åä»¤ç‰Œ å‘é€ä»¥è¯æ˜èº«ä»½éªŒè¯ã€‚æˆ‘ä»¬è¿˜å°†åˆ›å»ºä¸€ä¸ªä»…ä¾›åŒ…å«æœ‰æ•ˆ <code>JWT</code> çš„è¯·æ±‚è®¿é—®çš„å—ä¿æŠ¤è·¯ç”±ã€‚</p>\n<p>æˆ‘ä»¬å°†ä»ç¬¬ä¸€ä¸ªè¦æ±‚å¼€å§‹ï¼šéªŒè¯ç”¨æˆ·ã€‚ç„¶åæˆ‘ä»¬å°†é€šè¿‡å‘å¸ƒ <code>JWT</code> æ¥æ‰©å±•å®ƒã€‚æœ€åï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå—ä¿æŠ¤çš„è·¯ç”±æ¥æ£€æŸ¥è¯·æ±‚ä¸­çš„æœ‰æ•ˆ <code>JWTã€‚</code></p>\n<h2 id=\"JWT-ä»¤ç‰Œ\"><a href=\"#JWT-ä»¤ç‰Œ\" class=\"headerlink\" title=\"JWT ä»¤ç‰Œ\"></a>JWT ä»¤ç‰Œ</h2><p>é¦–å…ˆå®‰è£…ä¾èµ–:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add --save <span class=\"meta\">@nestjs</span>/jwt</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>å®‰è£…æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åœ¨<code>auth.module.ts</code>ä¸­æ³¨å†Œï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Module</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@nestjs/common&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">JwtModule</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@nestjs/jwt&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// æ·»åŠ è¿™ä¸€è¡Œ</span></span><br><span class=\"line\">    <span class=\"title class_\">JwtModule</span>.<span class=\"title function_\">register</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">global</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">secret</span>: <span class=\"string\">&quot;xxxxxxxxxxxxxxxx&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">signOptions</span>: &#123; <span class=\"attr\">expiresIn</span>: <span class=\"string\">&#x27;60s&#x27;</span> &#125;,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>::: warning æ³¨æ„<br><code>secret</code> å½“ç„¶ä½ å¯ä»¥æ·»åŠ åœ¨ç¯å¢ƒå˜é‡ä¸­, å¦‚æœæ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­å†™æ³•å¦‚ä¸‹ï¼š<br>:::</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ConfigService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@nestjs/config&#x27;</span>;</span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// æ·»åŠ è¿™ä¸€è¡Œ</span></span><br><span class=\"line\">    <span class=\"title class_\">JwtModule</span>.<span class=\"title function_\">registerAsync</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">useFactory</span>: <span class=\"title function_\">async</span> (<span class=\"attr\">configService</span>: <span class=\"title class_\">ConfigService</span>) =&gt; &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">          <span class=\"attr\">secret</span>: configService.<span class=\"property\">get</span>&lt;<span class=\"built_in\">string</span>&gt;(<span class=\"string\">&#x27;JWT_SECRET&#x27;</span>),</span><br><span class=\"line\">          <span class=\"attr\">signOptions</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">expiresIn</span>: configService.<span class=\"property\">get</span>&lt;<span class=\"built_in\">string</span>&gt;(<span class=\"string\">&#x27;JWT_EXPIRES_IN&#x27;</span>),</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">inject</span>: [<span class=\"title class_\">ConfigService</span>],</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"é€šè¡Œè¯-èº«ä»½éªŒè¯\"><a href=\"#é€šè¡Œè¯-èº«ä»½éªŒè¯\" class=\"headerlink\" title=\"é€šè¡Œè¯&#x2F;èº«ä»½éªŒè¯\"></a>é€šè¡Œè¯&#x2F;èº«ä»½éªŒè¯</h2><p>èº«ä»½éªŒè¯ç”¨çš„ç¬¬ä¸‰æ–¹<code>@nestjs/passport</code>, å¯ä»¥çœ‹æ–‡æ¡£<a href=\"https://nest.nodejs.cn/security/authentication#%E9%80%9A%E8%A1%8C%E8%AF%81%E6%95%B4%E5%90%88\">é€šè¡Œè¯æ•´åˆ</a></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ExtractJwt</span>, <span class=\"title class_\">Strategy</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;passport-jwt&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">PassportStrategy</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/passport&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Injectable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Payload</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./auth.interface&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Request</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;express&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">AuthService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./auth.service&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">JwtStrategy</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">PassportStrategy</span>(<span class=\"title class_\">Strategy</span>) &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">authService</span>: <span class=\"title class_\">AuthService</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">super</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">jwtFromRequest</span>: <span class=\"title class_\">ExtractJwt</span>.<span class=\"title function_\">fromAuthHeaderAsBearerToken</span>(),</span><br><span class=\"line\">\t\t\t<span class=\"attr\">ignoreExpiration</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">secretOrKey</span>: process.<span class=\"property\">env</span>.<span class=\"property\">JWT_SECRET</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">passReqToCallback</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// èº«ä»½æ ¡éªŒå™¨</span></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">validate</span>(<span class=\"params\"><span class=\"attr\">request</span>: <span class=\"title class_\">Request</span>, <span class=\"attr\">payload</span>: <span class=\"title class_\">Payload</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> authorization = request.<span class=\"property\">headers</span>.<span class=\"property\">authorization</span> || <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> token = authorization.<span class=\"title function_\">slice</span>(<span class=\"number\">7</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¿™ä¸€æ­¥æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘æ¥å†™ï¼Œæˆ‘è¿™é‡Œæ˜¯è¯»å–redisçš„tokenä½œä¸ºæ¯”è¾ƒ</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> user = <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">authService</span>.<span class=\"title function_\">validateToken</span>(payload, token);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> user || &#123; <span class=\"attr\">userId</span>: payload.<span class=\"property\">userId</span> &#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AuthService</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// éªŒè¯tokenæ˜¯å¦å¤±æ•ˆ</span></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">validateToken</span>(<span class=\"params\"><span class=\"attr\">payload</span>: <span class=\"title class_\">Payload</span>, <span class=\"attr\">resToken</span>: <span class=\"built_in\">string</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> token = <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">cacheService</span>.<span class=\"title function_\">get</span>(</span><br><span class=\"line\">\t\t\t<span class=\"string\">`<span class=\"subst\">$&#123;REDIS_TOKEN_KEY&#125;</span><span class=\"subst\">$&#123;payload.userId&#125;</span>`</span></span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (resToken !== token)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ApiException</span>(<span class=\"string\">&quot;ç™»å½•çŠ¶æ€å·²è¿‡æœŸ&quot;</span>, <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">FORBIDDEN</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">// å­˜åœ¨è¯»å–ç¼“å­˜</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> userString = <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">cacheService</span>.<span class=\"title function_\">get</span>(</span><br><span class=\"line\">\t\t\t<span class=\"string\">`<span class=\"subst\">$&#123;REDIS_USER_INFO_KEY&#125;</span><span class=\"subst\">$&#123;payload.userId&#125;</span>`</span></span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> userString ? <span class=\"title class_\">JSON</span>.<span class=\"title function_\">parse</span>(userString) : <span class=\"literal\">null</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æœ€åå°†è¿™ä¸ª<code>module</code>æŒ‚è½½åœ¨<code>app.module.ts</code>ä¸­ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [<span class=\"title class_\">AuthModule</span>],</span><br><span class=\"line\">  <span class=\"attr\">controllers</span>: [],</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [],</span><br><span class=\"line\">  <span class=\"attr\">exports</span>: [],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>èº«ä»½éªŒè¯æ˜¯å¤§å¤šæ•°åº”ç”¨çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚æœ‰è®¸å¤šä¸åŒçš„æ–¹æ³•å’Œç­–ç•¥æ¥å¤„ç†èº«ä»½éªŒè¯ã€‚ä»»ä½•é¡¹ç›®æ‰€é‡‡ç”¨çš„æ–¹æ³•éƒ½å–å†³äºå…¶ç‰¹å®šçš„åº”ç”¨éœ€æ±‚ã€‚æœ¬ç« ä»‹ç»äº†å‡ ç§å¯ä»¥é€‚åº”å„ç§ä¸åŒè¦æ±‚çš„èº«ä»½éªŒè¯æ–¹æ³•ã€‚</p>\n<p>è®©æˆ‘ä»¬å……å®æˆ‘ä»¬çš„è¦æ±‚ã€‚å¯¹äºæ­¤ç”¨ä¾‹ï¼Œå®¢æˆ·ç«¯å°†é¦–å…ˆä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œèº«ä»½éªŒè¯ã€‚ä¸€æ—¦é€šè¿‡èº«ä»½éªŒè¯ï¼ŒæœåŠ¡å™¨å°†å‘é€ä¸€ä¸ª <code>JWT</code>ï¼Œè¯¥ <code>JWT</code> å¯ä»¥åœ¨åç»­è¯·æ±‚çš„æˆæƒæ ‡å¤´ä¸­ä½œä¸º ä¸è®°åä»¤ç‰Œ å‘é€ä»¥è¯æ˜èº«ä»½éªŒè¯ã€‚æˆ‘ä»¬è¿˜å°†åˆ›å»ºä¸€ä¸ªä»…ä¾›åŒ…å«æœ‰æ•ˆ <code>JWT</code> çš„è¯·æ±‚è®¿é—®çš„å—ä¿æŠ¤è·¯ç”±ã€‚</p>\n<p>æˆ‘ä»¬å°†ä»ç¬¬ä¸€ä¸ªè¦æ±‚å¼€å§‹ï¼šéªŒè¯ç”¨æˆ·ã€‚ç„¶åæˆ‘ä»¬å°†é€šè¿‡å‘å¸ƒ <code>JWT</code> æ¥æ‰©å±•å®ƒã€‚æœ€åï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå—ä¿æŠ¤çš„è·¯ç”±æ¥æ£€æŸ¥è¯·æ±‚ä¸­çš„æœ‰æ•ˆ <code>JWTã€‚</code></p>\n<h2 id=\"JWT-ä»¤ç‰Œ\"><a href=\"#JWT-ä»¤ç‰Œ\" class=\"headerlink\" title=\"JWT ä»¤ç‰Œ\"></a>JWT ä»¤ç‰Œ</h2><p>é¦–å…ˆå®‰è£…ä¾èµ–:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add --save <span class=\"meta\">@nestjs</span>/jwt</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>å®‰è£…æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åœ¨<code>auth.module.ts</code>ä¸­æ³¨å†Œï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Module</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@nestjs/common&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">JwtModule</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@nestjs/jwt&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// æ·»åŠ è¿™ä¸€è¡Œ</span></span><br><span class=\"line\">    <span class=\"title class_\">JwtModule</span>.<span class=\"title function_\">register</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">global</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">secret</span>: <span class=\"string\">&quot;xxxxxxxxxxxxxxxx&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">signOptions</span>: &#123; <span class=\"attr\">expiresIn</span>: <span class=\"string\">&#x27;60s&#x27;</span> &#125;,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>::: warning æ³¨æ„<br><code>secret</code> å½“ç„¶ä½ å¯ä»¥æ·»åŠ åœ¨ç¯å¢ƒå˜é‡ä¸­, å¦‚æœæ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­å†™æ³•å¦‚ä¸‹ï¼š<br>:::</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ConfigService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@nestjs/config&#x27;</span>;</span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// æ·»åŠ è¿™ä¸€è¡Œ</span></span><br><span class=\"line\">    <span class=\"title class_\">JwtModule</span>.<span class=\"title function_\">registerAsync</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">useFactory</span>: <span class=\"title function_\">async</span> (<span class=\"attr\">configService</span>: <span class=\"title class_\">ConfigService</span>) =&gt; &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">          <span class=\"attr\">secret</span>: configService.<span class=\"property\">get</span>&lt;<span class=\"built_in\">string</span>&gt;(<span class=\"string\">&#x27;JWT_SECRET&#x27;</span>),</span><br><span class=\"line\">          <span class=\"attr\">signOptions</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">expiresIn</span>: configService.<span class=\"property\">get</span>&lt;<span class=\"built_in\">string</span>&gt;(<span class=\"string\">&#x27;JWT_EXPIRES_IN&#x27;</span>),</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">inject</span>: [<span class=\"title class_\">ConfigService</span>],</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"é€šè¡Œè¯-èº«ä»½éªŒè¯\"><a href=\"#é€šè¡Œè¯-èº«ä»½éªŒè¯\" class=\"headerlink\" title=\"é€šè¡Œè¯&#x2F;èº«ä»½éªŒè¯\"></a>é€šè¡Œè¯&#x2F;èº«ä»½éªŒè¯</h2><p>èº«ä»½éªŒè¯ç”¨çš„ç¬¬ä¸‰æ–¹<code>@nestjs/passport</code>, å¯ä»¥çœ‹æ–‡æ¡£<a href=\"https://nest.nodejs.cn/security/authentication#%E9%80%9A%E8%A1%8C%E8%AF%81%E6%95%B4%E5%90%88\">é€šè¡Œè¯æ•´åˆ</a></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ExtractJwt</span>, <span class=\"title class_\">Strategy</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;passport-jwt&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">PassportStrategy</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/passport&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Injectable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Payload</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./auth.interface&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Request</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;express&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">AuthService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./auth.service&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">JwtStrategy</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">PassportStrategy</span>(<span class=\"title class_\">Strategy</span>) &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">authService</span>: <span class=\"title class_\">AuthService</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">super</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">jwtFromRequest</span>: <span class=\"title class_\">ExtractJwt</span>.<span class=\"title function_\">fromAuthHeaderAsBearerToken</span>(),</span><br><span class=\"line\">\t\t\t<span class=\"attr\">ignoreExpiration</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">secretOrKey</span>: process.<span class=\"property\">env</span>.<span class=\"property\">JWT_SECRET</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">passReqToCallback</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// èº«ä»½æ ¡éªŒå™¨</span></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">validate</span>(<span class=\"params\"><span class=\"attr\">request</span>: <span class=\"title class_\">Request</span>, <span class=\"attr\">payload</span>: <span class=\"title class_\">Payload</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> authorization = request.<span class=\"property\">headers</span>.<span class=\"property\">authorization</span> || <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> token = authorization.<span class=\"title function_\">slice</span>(<span class=\"number\">7</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¿™ä¸€æ­¥æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘æ¥å†™ï¼Œæˆ‘è¿™é‡Œæ˜¯è¯»å–redisçš„tokenä½œä¸ºæ¯”è¾ƒ</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> user = <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">authService</span>.<span class=\"title function_\">validateToken</span>(payload, token);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> user || &#123; <span class=\"attr\">userId</span>: payload.<span class=\"property\">userId</span> &#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AuthService</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// éªŒè¯tokenæ˜¯å¦å¤±æ•ˆ</span></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">validateToken</span>(<span class=\"params\"><span class=\"attr\">payload</span>: <span class=\"title class_\">Payload</span>, <span class=\"attr\">resToken</span>: <span class=\"built_in\">string</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> token = <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">cacheService</span>.<span class=\"title function_\">get</span>(</span><br><span class=\"line\">\t\t\t<span class=\"string\">`<span class=\"subst\">$&#123;REDIS_TOKEN_KEY&#125;</span><span class=\"subst\">$&#123;payload.userId&#125;</span>`</span></span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (resToken !== token)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ApiException</span>(<span class=\"string\">&quot;ç™»å½•çŠ¶æ€å·²è¿‡æœŸ&quot;</span>, <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">FORBIDDEN</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">// å­˜åœ¨è¯»å–ç¼“å­˜</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> userString = <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">cacheService</span>.<span class=\"title function_\">get</span>(</span><br><span class=\"line\">\t\t\t<span class=\"string\">`<span class=\"subst\">$&#123;REDIS_USER_INFO_KEY&#125;</span><span class=\"subst\">$&#123;payload.userId&#125;</span>`</span></span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> userString ? <span class=\"title class_\">JSON</span>.<span class=\"title function_\">parse</span>(userString) : <span class=\"literal\">null</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æœ€åå°†è¿™ä¸ª<code>module</code>æŒ‚è½½åœ¨<code>app.module.ts</code>ä¸­ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [<span class=\"title class_\">AuthModule</span>],</span><br><span class=\"line\">  <span class=\"attr\">controllers</span>: [],</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [],</span><br><span class=\"line\">  <span class=\"attr\">exports</span>: [],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n"},{"title":"Nest-ä¸­é—´ä»¶","abbrlink":"e919cac4","date":"2024-11-08T01:05:01.000Z","_content":"\n# Nest ä¸­é—´ä»¶\n\n> ä¸­é—´ä»¶å®åœ¨è·¯ç”±å¤„ç†ç¨‹åºä¹‹å‰è°ƒç”¨çš„å‡½æ•°ï¼›åŒæ—¶å¯ä»¥è®¿é—®è¯·æ±‚å’Œå“åº”å¯¹è±¡ï¼Œä»¥åŠç¨‹åºè¯·æ±‚å“åº”å‘¨æœŸä¸­çš„`next()`ä¸­é—´å‡½æ•°ï¼›\n>\n> ç®€å•ç†è§£å°±æ˜¯ï¼šå‰ç«¯è·¯ç”±å®ˆå«ï¼Œåšæ‹¦æˆªå¤„ç†ï¼›\n\nå¸¸è§çš„ä¸­é—´ä»¶ä½¿ç”¨æ–¹å¼å¤§è‡´ä¸ºï¼š`class, å‡½æ•°`\n\n## ä½¿ç”¨\n\nä½¿ç”¨`cli`å‘½ä»¤è‡ªåŠ¨ç”Ÿæˆä¸­é—´ä»¶æ¨¡æ¿ï¼š`nest g mi logger`\n\n```ts\nimport { Injectable, NestMiddleware } from \"@nestjs/common\";\nimport { NextFunction, Request, Response } from \"express\";\n\n@Injectable()\nexport class LoggerMiddleware implements NestMiddleware {\n\tuse(req: Request, res: Response, next: NextFunction) {\n\t\tconsole.log(req.baseUrl);\n\t\tconsole.log(`Request received at ${new Date()}`);\n\t\tnext();\n\t}\n}\n\nexport const loggerMiddleware = (\n\treq: Request,\n\tres: Response,\n\tnext: NextFunction\n) => {\n\tconsole.log(req.baseUrl);\n\tconsole.log(`Request received at ${new Date()}`);\n\tnext();\n};\n\n// app.module.ts\nexport class AppModule implements NestModule {\n\tconfigure(consumer: MiddlewareConsumer) {\n\t\t// classå’Œå‡½æ•°ä¸­é—´ä»¶\n\t\tconsumer.apply(LoggerMiddleware, loggerMiddleware).forRoutes(\"/a\", \"/b\");\n\t}\n}\n\n// main.ts\nasync function bootstrap() {\n\tconst app = await NestFactory.create(AppModule);\n\tawait app.listen(3000);\n\t// å…¨å±€ä¸­é—´ä»¶\n\tapp.use(loggerMiddleware);\n}\n```\n\n## è·¨åŸŸæ¡ˆä¾‹\n\n```ts\nimport { Injectable, NestMiddleware } from \"@nestjs/common\";\n\n@Injectable()\nexport class CorsMiddleware implements NestMiddleware {\n\tuse(req: any, res: any, next: any) {\n\t\tconst allowedOrigin = process.env.CORS_ORIGIN ?? \"*\";\n\t\tres.setHeader(\"Access-Control-Allow-Origin\", allowedOrigin);\n\t\tres.setHeader(\n\t\t\t\"Access-Control-Allow-Methods\",\n\t\t\t\"GET,HEAD,PUT,PATCH,POST,DELETE\"\n\t\t);\n\t\tres.setHeader(\n\t\t\t\"Access-Control-Allow-Headers\",\n\t\t\t\"Content-Type,Authorization, Content-Length, X-Requested-With\"\n\t\t);\n\t\tnext();\n\t}\n}\n\n// app.module.ts\nexport class AppModule implements NestModule {\n\tconfigure(consumer: MiddlewareConsumer) {\n\t\t// è®¾ç½®ä¸­é—´ä»¶\n\t\tconsumer.apply(CorsMiddleware).forRoutes(\"*\");\n\t}\n}\n```\n","source":"_posts/æŠ€èƒ½å°å†Œ/Nest/ä¸­é—´ä»¶.md","raw":"---\ntitle: Nest-ä¸­é—´ä»¶\nabbrlink: e919cac4\ndate: 2024-11-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Nest\n---\n\n# Nest ä¸­é—´ä»¶\n\n> ä¸­é—´ä»¶å®åœ¨è·¯ç”±å¤„ç†ç¨‹åºä¹‹å‰è°ƒç”¨çš„å‡½æ•°ï¼›åŒæ—¶å¯ä»¥è®¿é—®è¯·æ±‚å’Œå“åº”å¯¹è±¡ï¼Œä»¥åŠç¨‹åºè¯·æ±‚å“åº”å‘¨æœŸä¸­çš„`next()`ä¸­é—´å‡½æ•°ï¼›\n>\n> ç®€å•ç†è§£å°±æ˜¯ï¼šå‰ç«¯è·¯ç”±å®ˆå«ï¼Œåšæ‹¦æˆªå¤„ç†ï¼›\n\nå¸¸è§çš„ä¸­é—´ä»¶ä½¿ç”¨æ–¹å¼å¤§è‡´ä¸ºï¼š`class, å‡½æ•°`\n\n## ä½¿ç”¨\n\nä½¿ç”¨`cli`å‘½ä»¤è‡ªåŠ¨ç”Ÿæˆä¸­é—´ä»¶æ¨¡æ¿ï¼š`nest g mi logger`\n\n```ts\nimport { Injectable, NestMiddleware } from \"@nestjs/common\";\nimport { NextFunction, Request, Response } from \"express\";\n\n@Injectable()\nexport class LoggerMiddleware implements NestMiddleware {\n\tuse(req: Request, res: Response, next: NextFunction) {\n\t\tconsole.log(req.baseUrl);\n\t\tconsole.log(`Request received at ${new Date()}`);\n\t\tnext();\n\t}\n}\n\nexport const loggerMiddleware = (\n\treq: Request,\n\tres: Response,\n\tnext: NextFunction\n) => {\n\tconsole.log(req.baseUrl);\n\tconsole.log(`Request received at ${new Date()}`);\n\tnext();\n};\n\n// app.module.ts\nexport class AppModule implements NestModule {\n\tconfigure(consumer: MiddlewareConsumer) {\n\t\t// classå’Œå‡½æ•°ä¸­é—´ä»¶\n\t\tconsumer.apply(LoggerMiddleware, loggerMiddleware).forRoutes(\"/a\", \"/b\");\n\t}\n}\n\n// main.ts\nasync function bootstrap() {\n\tconst app = await NestFactory.create(AppModule);\n\tawait app.listen(3000);\n\t// å…¨å±€ä¸­é—´ä»¶\n\tapp.use(loggerMiddleware);\n}\n```\n\n## è·¨åŸŸæ¡ˆä¾‹\n\n```ts\nimport { Injectable, NestMiddleware } from \"@nestjs/common\";\n\n@Injectable()\nexport class CorsMiddleware implements NestMiddleware {\n\tuse(req: any, res: any, next: any) {\n\t\tconst allowedOrigin = process.env.CORS_ORIGIN ?? \"*\";\n\t\tres.setHeader(\"Access-Control-Allow-Origin\", allowedOrigin);\n\t\tres.setHeader(\n\t\t\t\"Access-Control-Allow-Methods\",\n\t\t\t\"GET,HEAD,PUT,PATCH,POST,DELETE\"\n\t\t);\n\t\tres.setHeader(\n\t\t\t\"Access-Control-Allow-Headers\",\n\t\t\t\"Content-Type,Authorization, Content-Length, X-Requested-With\"\n\t\t);\n\t\tnext();\n\t}\n}\n\n// app.module.ts\nexport class AppModule implements NestModule {\n\tconfigure(consumer: MiddlewareConsumer) {\n\t\t// è®¾ç½®ä¸­é—´ä»¶\n\t\tconsumer.apply(CorsMiddleware).forRoutes(\"*\");\n\t}\n}\n```\n","slug":"æŠ€èƒ½å°å†Œ/Nest/ä¸­é—´ä»¶","published":1,"updated":"2025-03-12T09:44:53.011Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iy002zfg9m2bk52pd1","content":"<h1 id=\"Nest-ä¸­é—´ä»¶\"><a href=\"#Nest-ä¸­é—´ä»¶\" class=\"headerlink\" title=\"Nest ä¸­é—´ä»¶\"></a>Nest ä¸­é—´ä»¶</h1><blockquote>\n<p>ä¸­é—´ä»¶å®åœ¨è·¯ç”±å¤„ç†ç¨‹åºä¹‹å‰è°ƒç”¨çš„å‡½æ•°ï¼›åŒæ—¶å¯ä»¥è®¿é—®è¯·æ±‚å’Œå“åº”å¯¹è±¡ï¼Œä»¥åŠç¨‹åºè¯·æ±‚å“åº”å‘¨æœŸä¸­çš„<code>next()</code>ä¸­é—´å‡½æ•°ï¼›</p>\n<p>ç®€å•ç†è§£å°±æ˜¯ï¼šå‰ç«¯è·¯ç”±å®ˆå«ï¼Œåšæ‹¦æˆªå¤„ç†ï¼›</p>\n</blockquote>\n<p>å¸¸è§çš„ä¸­é—´ä»¶ä½¿ç”¨æ–¹å¼å¤§è‡´ä¸ºï¼š<code>class, å‡½æ•°</code></p>\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><p>ä½¿ç”¨<code>cli</code>å‘½ä»¤è‡ªåŠ¨ç”Ÿæˆä¸­é—´ä»¶æ¨¡æ¿ï¼š<code>nest g mi logger</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Injectable</span>, <span class=\"title class_\">NestMiddleware</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">NextFunction</span>, <span class=\"title class_\">Request</span>, <span class=\"title class_\">Response</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;express&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">LoggerMiddleware</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">NestMiddleware</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">use</span>(<span class=\"params\"><span class=\"attr\">req</span>: <span class=\"title class_\">Request</span>, <span class=\"attr\">res</span>: <span class=\"title class_\">Response</span>, <span class=\"attr\">next</span>: <span class=\"title class_\">NextFunction</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(req.<span class=\"property\">baseUrl</span>);</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`Request received at <span class=\"subst\">$&#123;<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>()&#125;</span>`</span>);</span><br><span class=\"line\">\t\t<span class=\"title function_\">next</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">loggerMiddleware</span> = (<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">\t<span class=\"attr\">req</span>: <span class=\"title class_\">Request</span>,</span></span><br><span class=\"line\"><span class=\"params\">\t<span class=\"attr\">res</span>: <span class=\"title class_\">Response</span>,</span></span><br><span class=\"line\"><span class=\"params\">\t<span class=\"attr\">next</span>: <span class=\"title class_\">NextFunction</span></span></span><br><span class=\"line\"><span class=\"params\"></span>) =&gt; &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(req.<span class=\"property\">baseUrl</span>);</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`Request received at <span class=\"subst\">$&#123;<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>()&#125;</span>`</span>);</span><br><span class=\"line\">\t<span class=\"title function_\">next</span>();</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// app.module.ts</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AppModule</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">NestModule</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">configure</span>(<span class=\"params\"><span class=\"attr\">consumer</span>: <span class=\"title class_\">MiddlewareConsumer</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// classå’Œå‡½æ•°ä¸­é—´ä»¶</span></span><br><span class=\"line\">\t\tconsumer.<span class=\"title function_\">apply</span>(<span class=\"title class_\">LoggerMiddleware</span>, loggerMiddleware).<span class=\"title function_\">forRoutes</span>(<span class=\"string\">&quot;/a&quot;</span>, <span class=\"string\">&quot;/b&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// main.ts</span></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">bootstrap</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> app = <span class=\"keyword\">await</span> <span class=\"title class_\">NestFactory</span>.<span class=\"title function_\">create</span>(<span class=\"title class_\">AppModule</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">await</span> app.<span class=\"title function_\">listen</span>(<span class=\"number\">3000</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// å…¨å±€ä¸­é—´ä»¶</span></span><br><span class=\"line\">\tapp.<span class=\"title function_\">use</span>(loggerMiddleware);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"è·¨åŸŸæ¡ˆä¾‹\"><a href=\"#è·¨åŸŸæ¡ˆä¾‹\" class=\"headerlink\" title=\"è·¨åŸŸæ¡ˆä¾‹\"></a>è·¨åŸŸæ¡ˆä¾‹</h2><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Injectable</span>, <span class=\"title class_\">NestMiddleware</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">CorsMiddleware</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">NestMiddleware</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">use</span>(<span class=\"params\"><span class=\"attr\">req</span>: <span class=\"built_in\">any</span>, <span class=\"attr\">res</span>: <span class=\"built_in\">any</span>, <span class=\"attr\">next</span>: <span class=\"built_in\">any</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> allowedOrigin = process.<span class=\"property\">env</span>.<span class=\"property\">CORS_ORIGIN</span> ?? <span class=\"string\">&quot;*&quot;</span>;</span><br><span class=\"line\">\t\tres.<span class=\"title function_\">setHeader</span>(<span class=\"string\">&quot;Access-Control-Allow-Origin&quot;</span>, allowedOrigin);</span><br><span class=\"line\">\t\tres.<span class=\"title function_\">setHeader</span>(</span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;Access-Control-Allow-Methods&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;GET,HEAD,PUT,PATCH,POST,DELETE&quot;</span></span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\tres.<span class=\"title function_\">setHeader</span>(</span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;Access-Control-Allow-Headers&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;Content-Type,Authorization, Content-Length, X-Requested-With&quot;</span></span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\t<span class=\"title function_\">next</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// app.module.ts</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AppModule</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">NestModule</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">configure</span>(<span class=\"params\"><span class=\"attr\">consumer</span>: <span class=\"title class_\">MiddlewareConsumer</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è®¾ç½®ä¸­é—´ä»¶</span></span><br><span class=\"line\">\t\tconsumer.<span class=\"title function_\">apply</span>(<span class=\"title class_\">CorsMiddleware</span>).<span class=\"title function_\">forRoutes</span>(<span class=\"string\">&quot;*&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"Nest-ä¸­é—´ä»¶\"><a href=\"#Nest-ä¸­é—´ä»¶\" class=\"headerlink\" title=\"Nest ä¸­é—´ä»¶\"></a>Nest ä¸­é—´ä»¶</h1><blockquote>\n<p>ä¸­é—´ä»¶å®åœ¨è·¯ç”±å¤„ç†ç¨‹åºä¹‹å‰è°ƒç”¨çš„å‡½æ•°ï¼›åŒæ—¶å¯ä»¥è®¿é—®è¯·æ±‚å’Œå“åº”å¯¹è±¡ï¼Œä»¥åŠç¨‹åºè¯·æ±‚å“åº”å‘¨æœŸä¸­çš„<code>next()</code>ä¸­é—´å‡½æ•°ï¼›</p>\n<p>ç®€å•ç†è§£å°±æ˜¯ï¼šå‰ç«¯è·¯ç”±å®ˆå«ï¼Œåšæ‹¦æˆªå¤„ç†ï¼›</p>\n</blockquote>\n<p>å¸¸è§çš„ä¸­é—´ä»¶ä½¿ç”¨æ–¹å¼å¤§è‡´ä¸ºï¼š<code>class, å‡½æ•°</code></p>\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><p>ä½¿ç”¨<code>cli</code>å‘½ä»¤è‡ªåŠ¨ç”Ÿæˆä¸­é—´ä»¶æ¨¡æ¿ï¼š<code>nest g mi logger</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Injectable</span>, <span class=\"title class_\">NestMiddleware</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">NextFunction</span>, <span class=\"title class_\">Request</span>, <span class=\"title class_\">Response</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;express&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">LoggerMiddleware</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">NestMiddleware</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">use</span>(<span class=\"params\"><span class=\"attr\">req</span>: <span class=\"title class_\">Request</span>, <span class=\"attr\">res</span>: <span class=\"title class_\">Response</span>, <span class=\"attr\">next</span>: <span class=\"title class_\">NextFunction</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(req.<span class=\"property\">baseUrl</span>);</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`Request received at <span class=\"subst\">$&#123;<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>()&#125;</span>`</span>);</span><br><span class=\"line\">\t\t<span class=\"title function_\">next</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">loggerMiddleware</span> = (<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">\t<span class=\"attr\">req</span>: <span class=\"title class_\">Request</span>,</span></span><br><span class=\"line\"><span class=\"params\">\t<span class=\"attr\">res</span>: <span class=\"title class_\">Response</span>,</span></span><br><span class=\"line\"><span class=\"params\">\t<span class=\"attr\">next</span>: <span class=\"title class_\">NextFunction</span></span></span><br><span class=\"line\"><span class=\"params\"></span>) =&gt; &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(req.<span class=\"property\">baseUrl</span>);</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`Request received at <span class=\"subst\">$&#123;<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>()&#125;</span>`</span>);</span><br><span class=\"line\">\t<span class=\"title function_\">next</span>();</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// app.module.ts</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AppModule</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">NestModule</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">configure</span>(<span class=\"params\"><span class=\"attr\">consumer</span>: <span class=\"title class_\">MiddlewareConsumer</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// classå’Œå‡½æ•°ä¸­é—´ä»¶</span></span><br><span class=\"line\">\t\tconsumer.<span class=\"title function_\">apply</span>(<span class=\"title class_\">LoggerMiddleware</span>, loggerMiddleware).<span class=\"title function_\">forRoutes</span>(<span class=\"string\">&quot;/a&quot;</span>, <span class=\"string\">&quot;/b&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// main.ts</span></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">bootstrap</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> app = <span class=\"keyword\">await</span> <span class=\"title class_\">NestFactory</span>.<span class=\"title function_\">create</span>(<span class=\"title class_\">AppModule</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">await</span> app.<span class=\"title function_\">listen</span>(<span class=\"number\">3000</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// å…¨å±€ä¸­é—´ä»¶</span></span><br><span class=\"line\">\tapp.<span class=\"title function_\">use</span>(loggerMiddleware);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"è·¨åŸŸæ¡ˆä¾‹\"><a href=\"#è·¨åŸŸæ¡ˆä¾‹\" class=\"headerlink\" title=\"è·¨åŸŸæ¡ˆä¾‹\"></a>è·¨åŸŸæ¡ˆä¾‹</h2><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Injectable</span>, <span class=\"title class_\">NestMiddleware</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">CorsMiddleware</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">NestMiddleware</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">use</span>(<span class=\"params\"><span class=\"attr\">req</span>: <span class=\"built_in\">any</span>, <span class=\"attr\">res</span>: <span class=\"built_in\">any</span>, <span class=\"attr\">next</span>: <span class=\"built_in\">any</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> allowedOrigin = process.<span class=\"property\">env</span>.<span class=\"property\">CORS_ORIGIN</span> ?? <span class=\"string\">&quot;*&quot;</span>;</span><br><span class=\"line\">\t\tres.<span class=\"title function_\">setHeader</span>(<span class=\"string\">&quot;Access-Control-Allow-Origin&quot;</span>, allowedOrigin);</span><br><span class=\"line\">\t\tres.<span class=\"title function_\">setHeader</span>(</span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;Access-Control-Allow-Methods&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;GET,HEAD,PUT,PATCH,POST,DELETE&quot;</span></span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\tres.<span class=\"title function_\">setHeader</span>(</span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;Access-Control-Allow-Headers&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;Content-Type,Authorization, Content-Length, X-Requested-With&quot;</span></span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\t<span class=\"title function_\">next</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// app.module.ts</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AppModule</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">NestModule</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">configure</span>(<span class=\"params\"><span class=\"attr\">consumer</span>: <span class=\"title class_\">MiddlewareConsumer</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è®¾ç½®ä¸­é—´ä»¶</span></span><br><span class=\"line\">\t\tconsumer.<span class=\"title function_\">apply</span>(<span class=\"title class_\">CorsMiddleware</span>).<span class=\"title function_\">forRoutes</span>(<span class=\"string\">&quot;*&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"Nest-å…¥æ‰‹Demo","abbrlink":"89a2365c","date":"2024-11-08T01:05:01.000Z","_content":"\nç®€å•äº†è§£ä¸€äº›`Nest`ï¼Œç»“åˆä¹‹å‰æˆ‘å¼€å‘çš„ä¸€ä¸ªå°å·¥å…·æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶ï¼Œåšä¸€ä¸ªå°åº”ç”¨;\n\nè¿™ä¸ªåº”ç”¨æ˜¯ä»€ä¹ˆ? æœ‰è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼Œæˆ‘åœ¨`web`é¡µé¢ä½¿ç”¨äº†`æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶`ï¼Œä½†æ˜¯æ’ä»¶çš„`dsn`åœ°å€æ˜¯æ²¡æœ‰çš„ï¼Œè¿™ä¸ªåœ°å€éœ€è¦åç«¯çš„ä¸€ä¸ªæ¥å£åœ°å€ï¼Œé‚£æˆ‘ä»¬ç”¨`Nest`æ¨¡å¼ä¸€ä¸‹è¿™ä¸ªæ¥å£åœ°å€ï¼›\n\næ¥ä¸‹æ¥ï¼Œå®è·µä¸€ä¸‹ï¼š\n\n## åˆå§‹åŒ–é¡¹ç›®\n\né¦–å…ˆï¼Œå»[å®˜ç½‘](https://docs.nestjs.com/)æ‰¾ä¸€ä¸‹å®‰è£…å‘½ä»¤\n\n```shell\nnpm i -g @nestjs/cli\nnest new project-name\n```\n\nå®‰è£…æˆåŠŸä¹‹åï¼Œæ‰€æœ‰çš„ä»£ç éƒ½æ˜¯`ts`ç¼–å†™çš„; å…³äºé¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œå¯ä»¥å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://docs.nestjs.com/first-steps)æœ‰å…·ä½“è¯´æ˜;\n\næˆ‘ä»¬æ‰¾åˆ°å…¥å£æ–‡ä»¶ï¼š`main.ts`, å…¶ä¸­`bootstrap()`å°±æ˜¯å¯åŠ¨å‡½æ•°äº†ï¼›\n\n```ts\nasync function bootstrap() {\n\t// è¿™é‡Œä½¿ç”¨çš„æ˜¯Express, å¯ä»¥ä½¿ç”¨Fastify\n\tconst app = await NestFactory.create<NestExpressApplication>(AppModule, {\n\t\t// å¦‚æœä¸ŠæŠ¥æ–¹å¼ä½¿ç”¨sendBeaconï¼Œ é‚£ä¹ˆå°±éœ€è¦å¯¹è¯·æ±‚å¤´è®¾ç½®ç›¸å…³å‚æ•°\n\t\t// å¦‚æœä¸ŠæŠ¥æ–¹å¼ä½¿ç”¨fetch, é‚£ä¹ˆå°±ä¸éœ€è¦è®¾ç½®ç›¸å…³å‚æ•°\n\t\trawBody: true,\n\t});\n\t// æ ¹æ®è¯·æ±‚çš„Content-Typeæ¥è§£æè¯·æ±‚ä½“, å¦‚æœæ˜¯ sendBeacon é‚£ä¹ˆéœ€è¦è®¾ç½®ç›¸å…³å‚æ•°\n\tapp.useBodyParser(\"text\");\n\n\t// è®¾ç½®è·¨åŸŸ\n\tapp.enableCors({\n\t\torigin: \"*\",\n\t\tcredentials: true,\n\t\tmethods: \"GET,HEAD,PUT,PATCH,POST,DELETE\",\n\t\tpreflightContinue: false,\n\t\toptionsSuccessStatus: 204,\n\t});\n\n\t// è®¾ç½®å‰ç¼€, å¯ä»¥è®¾ç½®ä¹Ÿå¯ä»¥ä¸è®¾ç½® è¿™é‡Œä¸è®¾ç½®\n\t// app.setGlobalPrefix(\"/api/v1\");\n\n\tawait app.listen(3000);\n}\n\nbootstrap();\n```\n\nä¿®æ”¹ä¹‹åï¼Œæ‰§è¡Œå‘½ä»¤`npm run start`å°±å¯ä»¥äº†ï¼Œä¸è¿‡è¿™é‡Œå¯ä»¥ä½¿ç”¨`npm run start:dev`,åªæœ‰æ–‡ä»¶å˜åŠ¨äº†æœåŠ¡å°±ä¼šé‡æ–°å¯åŠ¨ï¼›å°±ä¸éœ€è¦æ¯æ¬¡ä¿®æ”¹ä¹‹ååœ¨é‡å¯ï¼›\n\n## å®ç°æ·»åŠ åŠŸèƒ½\n\n### æ•°æ®åº“\n\næ·»åŠ æ•°æ®è‚¯å®šéœ€è¦æ•°æ®åº“å“‡ï¼Œé‚£æˆ‘ä»¬å…ˆæ·»åŠ ä¸‹è½½æ•°æ®åº“æ’ä»¶ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„`Mongoose,mongodb`ï¼› å…·ä½“å¯æŸ¥çœ‹[Nest Mongo](https://docs.nestjs.com/techniques/mongodb)\n\nå…³äºæœ¬åœ°å¦‚ä½•å®‰è£…`mongodb`ä»¥åŠå¦‚ä½•ä½¿ç”¨ï¼Œå¯æŸ¥çœ‹åŸºç¡€æ–‡æ¡£[MongoDb æ•™ç¨‹](https://www.runoob.com/mongodb/mongodb-tutorial.html)\n\n```shell\nnpm i --save @nestjs/mongoose mongoose\n```\n\nç„¶ååœ¨`app.module.ts`ä¸­æ·»åŠ é…ç½®\n\n```ts\nimport { MongooseModule } from '@nestjs/mongoose';\n@Module({\n  imports: [\n    // åªéœ€è¦åœ¨ imports åŠ å…¥è¿™ä¸€è¡Œå³å¯;\n    MongooseModule.forRoot('mongodb://localhost/nest'),\n  ]\n}\n```\n\n**ä¿å­˜ä¹‹åé‡æ–°å¯åŠ¨ï¼Œå¦‚æœå‡ºç°æ•°æ®åº“ä¸€ç›´å°è¯•é“¾æ¥é‚£ä¹ˆè¯´æ˜ä½ æœ¬åœ°æ²¡æœ‰æ­£ç¡®å®‰è£…`mongoose`æœåŠ¡,æˆ–è€…æ‚¨çš„æ•°æ®åº“é“¾æ¥å¯èƒ½ä¸æ­£ç¡®;**\n\n### æ·»åŠ ä¸€ä¸ªæ—¥å¿—æ¨¡å—\n\nè¦æƒ³æ·»åŠ ä¸€ä¸ªæ—¥å¿—æ¨¡å—ï¼Œä½ å¯ä»¥æ‰‹åŠ¨åœ¨`src`ç›®å½•ä¸‹æ·»åŠ ç›®å½•ä¸º`logs`çš„æ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹ä¸‹æ·»åŠ å¯¹åº”çš„æ–‡ä»¶ï¼›\n\nä¸è¿‡æˆ‘ä¸å»ºè®®ä½ æ‰‹åŠ¨æ·»åŠ ï¼Œä¸ä»…éº»çƒ¦ï¼Œè€Œä¸”ä¹Ÿä¸å¥½ç®¡ç†ï¼›\n\nå¯ä»¥é€šè¿‡å‘½ä»¤`nest` å»æ·»åŠ ï¼›æƒ³è¦çŸ¥é“å‘½ä»¤æœ‰å“ªäº›ï¼Œå¯ä»¥åœ¨`shell`å·¥å…·ä¸­è¾“å…¥`nest`ç„¶åå›è½¦ï¼›\n\nç„¶åä½¿ç”¨å‘½ä»¤`nest g name dirFile`;\n\næˆ‘ä»¬ç›´æ¥ä½¿ç”¨`nest g resource logs`, å›è½¦é€‰æ‹©å¯¹åº”çš„`Apiæ¨¡å¼`, ä¹‹åå°±ä¼šç”Ÿæˆä¸€ä¸ªå®Œæ•´æ¨¡å—çš„ç›®å½•äº†ï¼›ä½¿ç”¨å‘½ä»¤æ·»åŠ è¿˜ä¼šè‡ªåŠ¨åœ¨`app.modules.ts`æ·»åŠ å¯¹åº”çš„æ¨¡å—å“¦~\n\nåˆ›å»ºå®Œä¹‹åï¼Œå°±å¯ä»¥åœ¨`src`ç›®å½•ä¸‹æ‰¾åˆ°ä½ çš„æ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶äº†\n\n### åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨\n\nåœ¨`logs.controller.ts`ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨æ¥æ·»åŠ `logs`æ•°æ®\n\n```ts\n// è¯·æ±‚çš„å‰ç¼€ï¼šhttps://xxx.com/logs\n@Controller(\"logs\")\nexport class LogsController {\n\t// è¿™é‡Œçš„LogsServiceå°±æ˜¯æœåŠ¡å±‚æ–‡ä»¶ logs.service.tsä¸­çš„ç±»\n\tconstructor(private readonly logsService: LogsService) {}\n\t// https://xxx.com/logs/setLog\n\t@Post(\"setLog\")\n\t// createLogDto å°±æ˜¯å‰ç«¯ç»™åç«¯çš„å­—æ®µ\n\tcreate(@Body() createLogDto: CreateLogDto) {\n\t\treturn this.logsService.create(createLogDto);\n\t}\n}\n```\n\næ¥ç€æˆ‘ä»¬æ·»åŠ æ•°æ®åº“éœ€è¦çš„å­—æ®µä»¥åŠæ•°æ®è¡¨;\n\n### æ·»åŠ æ•°æ®è¡¨ä»¥åŠå¯¹åº”è¡¨ç»“æ„\n\n```ts\nimport { Prop, Schema, SchemaFactory } from \"@nestjs/mongoose\";\nimport { HydratedDocument } from \"mongoose\";\n\nexport type LogDocument = HydratedDocument<Log>;\n\n@Schema()\nexport class Log {\n\t@Prop()\n\tname: string;\n\t@Prop()\n\turl: string;\n\t@Prop()\n\t// åˆ›å»ºæ—¶é—´\n\tcreatedAt: Date;\n\t// æ›´æ–°æ—¶é—´\n\tupdatedAt: Date;\n\t// ...\n}\nexport const LogSchema = SchemaFactory.createForClass(Log);\n```\n\nå¤§æ¦‚çš„æ•°æ®è¡¨ç»“æ„å°±å®šå¥½äº†ï¼›\n\næˆ‘ä»¬åœ¨`logs.module.ts`å¼•å…¥æˆ‘ä»¬åˆ›å»ºçš„è¡¨\n\n```ts\n// è¿™ä¸ªæ˜¯ä½ å®é™…åˆ›å»ºæ•°æ®è¡¨çš„åœ°å€ï¼Œ LogSchemaå°±æ˜¯ä½ å¯¼å‡ºçš„è¡¨\nimport { LogSchema } from \"./schemas/log.schema\";\n@Module({\n  imports: [\n    MongooseModule.forFeature([\n      {\n        name: \"Log\",\n        schema: LogSchema,\n      }\n    ])\n  ]\n}\n```\n\n### æ·»åŠ æœåŠ¡å±‚\n\nåœ¨`logs.service.ts`ä¸­æ·»åŠ ä¸€ä¸ª`create`æ–¹æ³•\n\n```ts\ninterface CreateLogDto {\n\tname: string;\n\turl: string;\n}\n\n@Injectable()\nexport class LogsService {\n\tconstructor(\n\t\t// è¿™é‡Œæ˜¯ç”¨åˆ°äº†æ•°æ®åº“ è¿™é‡Œçš„ @InjectModel(\"Log\") Logè¦ä¸ªä¸Šé¢çš„ MongooseModule.forFeature ä¸­çš„nameä¿æŒä¸€è‡´;\n\t\t//  Model<Log> ä¸­Logå°±æ˜¯ä½ åˆ°å¤„çš„è¡¨ç»“æ„ class Log{}\n\t\t@InjectModel(\"Log\") private readonly logModel: Model<Log>\n\t) {}\n\n\t// è¿™ä¸ªæ–¹æ³•å°±æ˜¯ logs.controller.ts ä¸­ä½¿ç”¨çš„ this.logsService.create\n\t// CreateLogDto è¿™ä¸ªæ˜¯ä¸ºäº†æ£€éªŒå‚æ•°çš„ï¼Œ ä¹Ÿå°±æ˜¯æ¥å£ interface ä½ è‡ªå·±å¯ä»¥è‡ªå®šä¹‰\n\tcreate(createLogDto: CreateLogDto) {\n\t\t// è¿™é‡Œä½¿ç”¨ Model<Log> çš„ create æ–¹æ³•ï¼Œå…·ä½“mongodbå¦‚ä½•è‡ªè¡Œç™¾åº¦\n\t\treturn this.logModel.create(createLogDto);\n\t}\n}\n```\n\n## ä½¿ç”¨\n\nå¯ä»¥ä½¿ç”¨`postman`æˆ–è€…`apipost`æˆ–è€…`apifox`æµ‹è¯•ï¼› å…·ä½“å·¥å…·å¦‚ä½•ä½¿ç”¨ï¼Œè‡ªè¡Œç™¾åº¦å®˜ç½‘;\n\næ·»åŠ ä¸€ä¸ª`post`æ¥å£ï¼Œæ¥å£åœ°å€å°±æ˜¯`localhost:3000/logs/setLog`, å‚æ•°å°±æ˜¯ä¸Šé¢è‡ªå®šä¹‰çš„æ¥å£`interface CreateLogDto`ï¼Œ ç„¶åç‚¹å‡»å‘é€å°±å¯ä»¥äº†;\n\né‚£ä¹ˆä¸€ä¸ªå°åº”ç”¨å°±åŸºæœ¬å®Œæˆäº†;\n","source":"_posts/æŠ€èƒ½å°å†Œ/Nest/å…¥æ‰‹Demo.md","raw":"---\ntitle: Nest-å…¥æ‰‹Demo\nabbrlink: 89a2365c\ndate: 2024-11-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Nest\n---\n\nç®€å•äº†è§£ä¸€äº›`Nest`ï¼Œç»“åˆä¹‹å‰æˆ‘å¼€å‘çš„ä¸€ä¸ªå°å·¥å…·æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶ï¼Œåšä¸€ä¸ªå°åº”ç”¨;\n\nè¿™ä¸ªåº”ç”¨æ˜¯ä»€ä¹ˆ? æœ‰è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼Œæˆ‘åœ¨`web`é¡µé¢ä½¿ç”¨äº†`æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶`ï¼Œä½†æ˜¯æ’ä»¶çš„`dsn`åœ°å€æ˜¯æ²¡æœ‰çš„ï¼Œè¿™ä¸ªåœ°å€éœ€è¦åç«¯çš„ä¸€ä¸ªæ¥å£åœ°å€ï¼Œé‚£æˆ‘ä»¬ç”¨`Nest`æ¨¡å¼ä¸€ä¸‹è¿™ä¸ªæ¥å£åœ°å€ï¼›\n\næ¥ä¸‹æ¥ï¼Œå®è·µä¸€ä¸‹ï¼š\n\n## åˆå§‹åŒ–é¡¹ç›®\n\né¦–å…ˆï¼Œå»[å®˜ç½‘](https://docs.nestjs.com/)æ‰¾ä¸€ä¸‹å®‰è£…å‘½ä»¤\n\n```shell\nnpm i -g @nestjs/cli\nnest new project-name\n```\n\nå®‰è£…æˆåŠŸä¹‹åï¼Œæ‰€æœ‰çš„ä»£ç éƒ½æ˜¯`ts`ç¼–å†™çš„; å…³äºé¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œå¯ä»¥å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://docs.nestjs.com/first-steps)æœ‰å…·ä½“è¯´æ˜;\n\næˆ‘ä»¬æ‰¾åˆ°å…¥å£æ–‡ä»¶ï¼š`main.ts`, å…¶ä¸­`bootstrap()`å°±æ˜¯å¯åŠ¨å‡½æ•°äº†ï¼›\n\n```ts\nasync function bootstrap() {\n\t// è¿™é‡Œä½¿ç”¨çš„æ˜¯Express, å¯ä»¥ä½¿ç”¨Fastify\n\tconst app = await NestFactory.create<NestExpressApplication>(AppModule, {\n\t\t// å¦‚æœä¸ŠæŠ¥æ–¹å¼ä½¿ç”¨sendBeaconï¼Œ é‚£ä¹ˆå°±éœ€è¦å¯¹è¯·æ±‚å¤´è®¾ç½®ç›¸å…³å‚æ•°\n\t\t// å¦‚æœä¸ŠæŠ¥æ–¹å¼ä½¿ç”¨fetch, é‚£ä¹ˆå°±ä¸éœ€è¦è®¾ç½®ç›¸å…³å‚æ•°\n\t\trawBody: true,\n\t});\n\t// æ ¹æ®è¯·æ±‚çš„Content-Typeæ¥è§£æè¯·æ±‚ä½“, å¦‚æœæ˜¯ sendBeacon é‚£ä¹ˆéœ€è¦è®¾ç½®ç›¸å…³å‚æ•°\n\tapp.useBodyParser(\"text\");\n\n\t// è®¾ç½®è·¨åŸŸ\n\tapp.enableCors({\n\t\torigin: \"*\",\n\t\tcredentials: true,\n\t\tmethods: \"GET,HEAD,PUT,PATCH,POST,DELETE\",\n\t\tpreflightContinue: false,\n\t\toptionsSuccessStatus: 204,\n\t});\n\n\t// è®¾ç½®å‰ç¼€, å¯ä»¥è®¾ç½®ä¹Ÿå¯ä»¥ä¸è®¾ç½® è¿™é‡Œä¸è®¾ç½®\n\t// app.setGlobalPrefix(\"/api/v1\");\n\n\tawait app.listen(3000);\n}\n\nbootstrap();\n```\n\nä¿®æ”¹ä¹‹åï¼Œæ‰§è¡Œå‘½ä»¤`npm run start`å°±å¯ä»¥äº†ï¼Œä¸è¿‡è¿™é‡Œå¯ä»¥ä½¿ç”¨`npm run start:dev`,åªæœ‰æ–‡ä»¶å˜åŠ¨äº†æœåŠ¡å°±ä¼šé‡æ–°å¯åŠ¨ï¼›å°±ä¸éœ€è¦æ¯æ¬¡ä¿®æ”¹ä¹‹ååœ¨é‡å¯ï¼›\n\n## å®ç°æ·»åŠ åŠŸèƒ½\n\n### æ•°æ®åº“\n\næ·»åŠ æ•°æ®è‚¯å®šéœ€è¦æ•°æ®åº“å“‡ï¼Œé‚£æˆ‘ä»¬å…ˆæ·»åŠ ä¸‹è½½æ•°æ®åº“æ’ä»¶ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„`Mongoose,mongodb`ï¼› å…·ä½“å¯æŸ¥çœ‹[Nest Mongo](https://docs.nestjs.com/techniques/mongodb)\n\nå…³äºæœ¬åœ°å¦‚ä½•å®‰è£…`mongodb`ä»¥åŠå¦‚ä½•ä½¿ç”¨ï¼Œå¯æŸ¥çœ‹åŸºç¡€æ–‡æ¡£[MongoDb æ•™ç¨‹](https://www.runoob.com/mongodb/mongodb-tutorial.html)\n\n```shell\nnpm i --save @nestjs/mongoose mongoose\n```\n\nç„¶ååœ¨`app.module.ts`ä¸­æ·»åŠ é…ç½®\n\n```ts\nimport { MongooseModule } from '@nestjs/mongoose';\n@Module({\n  imports: [\n    // åªéœ€è¦åœ¨ imports åŠ å…¥è¿™ä¸€è¡Œå³å¯;\n    MongooseModule.forRoot('mongodb://localhost/nest'),\n  ]\n}\n```\n\n**ä¿å­˜ä¹‹åé‡æ–°å¯åŠ¨ï¼Œå¦‚æœå‡ºç°æ•°æ®åº“ä¸€ç›´å°è¯•é“¾æ¥é‚£ä¹ˆè¯´æ˜ä½ æœ¬åœ°æ²¡æœ‰æ­£ç¡®å®‰è£…`mongoose`æœåŠ¡,æˆ–è€…æ‚¨çš„æ•°æ®åº“é“¾æ¥å¯èƒ½ä¸æ­£ç¡®;**\n\n### æ·»åŠ ä¸€ä¸ªæ—¥å¿—æ¨¡å—\n\nè¦æƒ³æ·»åŠ ä¸€ä¸ªæ—¥å¿—æ¨¡å—ï¼Œä½ å¯ä»¥æ‰‹åŠ¨åœ¨`src`ç›®å½•ä¸‹æ·»åŠ ç›®å½•ä¸º`logs`çš„æ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹ä¸‹æ·»åŠ å¯¹åº”çš„æ–‡ä»¶ï¼›\n\nä¸è¿‡æˆ‘ä¸å»ºè®®ä½ æ‰‹åŠ¨æ·»åŠ ï¼Œä¸ä»…éº»çƒ¦ï¼Œè€Œä¸”ä¹Ÿä¸å¥½ç®¡ç†ï¼›\n\nå¯ä»¥é€šè¿‡å‘½ä»¤`nest` å»æ·»åŠ ï¼›æƒ³è¦çŸ¥é“å‘½ä»¤æœ‰å“ªäº›ï¼Œå¯ä»¥åœ¨`shell`å·¥å…·ä¸­è¾“å…¥`nest`ç„¶åå›è½¦ï¼›\n\nç„¶åä½¿ç”¨å‘½ä»¤`nest g name dirFile`;\n\næˆ‘ä»¬ç›´æ¥ä½¿ç”¨`nest g resource logs`, å›è½¦é€‰æ‹©å¯¹åº”çš„`Apiæ¨¡å¼`, ä¹‹åå°±ä¼šç”Ÿæˆä¸€ä¸ªå®Œæ•´æ¨¡å—çš„ç›®å½•äº†ï¼›ä½¿ç”¨å‘½ä»¤æ·»åŠ è¿˜ä¼šè‡ªåŠ¨åœ¨`app.modules.ts`æ·»åŠ å¯¹åº”çš„æ¨¡å—å“¦~\n\nåˆ›å»ºå®Œä¹‹åï¼Œå°±å¯ä»¥åœ¨`src`ç›®å½•ä¸‹æ‰¾åˆ°ä½ çš„æ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶äº†\n\n### åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨\n\nåœ¨`logs.controller.ts`ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨æ¥æ·»åŠ `logs`æ•°æ®\n\n```ts\n// è¯·æ±‚çš„å‰ç¼€ï¼šhttps://xxx.com/logs\n@Controller(\"logs\")\nexport class LogsController {\n\t// è¿™é‡Œçš„LogsServiceå°±æ˜¯æœåŠ¡å±‚æ–‡ä»¶ logs.service.tsä¸­çš„ç±»\n\tconstructor(private readonly logsService: LogsService) {}\n\t// https://xxx.com/logs/setLog\n\t@Post(\"setLog\")\n\t// createLogDto å°±æ˜¯å‰ç«¯ç»™åç«¯çš„å­—æ®µ\n\tcreate(@Body() createLogDto: CreateLogDto) {\n\t\treturn this.logsService.create(createLogDto);\n\t}\n}\n```\n\næ¥ç€æˆ‘ä»¬æ·»åŠ æ•°æ®åº“éœ€è¦çš„å­—æ®µä»¥åŠæ•°æ®è¡¨;\n\n### æ·»åŠ æ•°æ®è¡¨ä»¥åŠå¯¹åº”è¡¨ç»“æ„\n\n```ts\nimport { Prop, Schema, SchemaFactory } from \"@nestjs/mongoose\";\nimport { HydratedDocument } from \"mongoose\";\n\nexport type LogDocument = HydratedDocument<Log>;\n\n@Schema()\nexport class Log {\n\t@Prop()\n\tname: string;\n\t@Prop()\n\turl: string;\n\t@Prop()\n\t// åˆ›å»ºæ—¶é—´\n\tcreatedAt: Date;\n\t// æ›´æ–°æ—¶é—´\n\tupdatedAt: Date;\n\t// ...\n}\nexport const LogSchema = SchemaFactory.createForClass(Log);\n```\n\nå¤§æ¦‚çš„æ•°æ®è¡¨ç»“æ„å°±å®šå¥½äº†ï¼›\n\næˆ‘ä»¬åœ¨`logs.module.ts`å¼•å…¥æˆ‘ä»¬åˆ›å»ºçš„è¡¨\n\n```ts\n// è¿™ä¸ªæ˜¯ä½ å®é™…åˆ›å»ºæ•°æ®è¡¨çš„åœ°å€ï¼Œ LogSchemaå°±æ˜¯ä½ å¯¼å‡ºçš„è¡¨\nimport { LogSchema } from \"./schemas/log.schema\";\n@Module({\n  imports: [\n    MongooseModule.forFeature([\n      {\n        name: \"Log\",\n        schema: LogSchema,\n      }\n    ])\n  ]\n}\n```\n\n### æ·»åŠ æœåŠ¡å±‚\n\nåœ¨`logs.service.ts`ä¸­æ·»åŠ ä¸€ä¸ª`create`æ–¹æ³•\n\n```ts\ninterface CreateLogDto {\n\tname: string;\n\turl: string;\n}\n\n@Injectable()\nexport class LogsService {\n\tconstructor(\n\t\t// è¿™é‡Œæ˜¯ç”¨åˆ°äº†æ•°æ®åº“ è¿™é‡Œçš„ @InjectModel(\"Log\") Logè¦ä¸ªä¸Šé¢çš„ MongooseModule.forFeature ä¸­çš„nameä¿æŒä¸€è‡´;\n\t\t//  Model<Log> ä¸­Logå°±æ˜¯ä½ åˆ°å¤„çš„è¡¨ç»“æ„ class Log{}\n\t\t@InjectModel(\"Log\") private readonly logModel: Model<Log>\n\t) {}\n\n\t// è¿™ä¸ªæ–¹æ³•å°±æ˜¯ logs.controller.ts ä¸­ä½¿ç”¨çš„ this.logsService.create\n\t// CreateLogDto è¿™ä¸ªæ˜¯ä¸ºäº†æ£€éªŒå‚æ•°çš„ï¼Œ ä¹Ÿå°±æ˜¯æ¥å£ interface ä½ è‡ªå·±å¯ä»¥è‡ªå®šä¹‰\n\tcreate(createLogDto: CreateLogDto) {\n\t\t// è¿™é‡Œä½¿ç”¨ Model<Log> çš„ create æ–¹æ³•ï¼Œå…·ä½“mongodbå¦‚ä½•è‡ªè¡Œç™¾åº¦\n\t\treturn this.logModel.create(createLogDto);\n\t}\n}\n```\n\n## ä½¿ç”¨\n\nå¯ä»¥ä½¿ç”¨`postman`æˆ–è€…`apipost`æˆ–è€…`apifox`æµ‹è¯•ï¼› å…·ä½“å·¥å…·å¦‚ä½•ä½¿ç”¨ï¼Œè‡ªè¡Œç™¾åº¦å®˜ç½‘;\n\næ·»åŠ ä¸€ä¸ª`post`æ¥å£ï¼Œæ¥å£åœ°å€å°±æ˜¯`localhost:3000/logs/setLog`, å‚æ•°å°±æ˜¯ä¸Šé¢è‡ªå®šä¹‰çš„æ¥å£`interface CreateLogDto`ï¼Œ ç„¶åç‚¹å‡»å‘é€å°±å¯ä»¥äº†;\n\né‚£ä¹ˆä¸€ä¸ªå°åº”ç”¨å°±åŸºæœ¬å®Œæˆäº†;\n","slug":"æŠ€èƒ½å°å†Œ/Nest/å…¥æ‰‹Demo","published":1,"updated":"2025-03-13T06:58:51.114Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iy0032fg9mao6ifol9","content":"<p>ç®€å•äº†è§£ä¸€äº›<code>Nest</code>ï¼Œç»“åˆä¹‹å‰æˆ‘å¼€å‘çš„ä¸€ä¸ªå°å·¥å…·æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶ï¼Œåšä¸€ä¸ªå°åº”ç”¨;</p>\n<p>è¿™ä¸ªåº”ç”¨æ˜¯ä»€ä¹ˆ? æœ‰è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼Œæˆ‘åœ¨<code>web</code>é¡µé¢ä½¿ç”¨äº†<code>æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶</code>ï¼Œä½†æ˜¯æ’ä»¶çš„<code>dsn</code>åœ°å€æ˜¯æ²¡æœ‰çš„ï¼Œè¿™ä¸ªåœ°å€éœ€è¦åç«¯çš„ä¸€ä¸ªæ¥å£åœ°å€ï¼Œé‚£æˆ‘ä»¬ç”¨<code>Nest</code>æ¨¡å¼ä¸€ä¸‹è¿™ä¸ªæ¥å£åœ°å€ï¼›</p>\n<p>æ¥ä¸‹æ¥ï¼Œå®è·µä¸€ä¸‹ï¼š</p>\n<h2 id=\"åˆå§‹åŒ–é¡¹ç›®\"><a href=\"#åˆå§‹åŒ–é¡¹ç›®\" class=\"headerlink\" title=\"åˆå§‹åŒ–é¡¹ç›®\"></a>åˆå§‹åŒ–é¡¹ç›®</h2><p>é¦–å…ˆï¼Œå»<a href=\"https://docs.nestjs.com/\">å®˜ç½‘</a>æ‰¾ä¸€ä¸‹å®‰è£…å‘½ä»¤</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -g @nestjs/cli</span><br><span class=\"line\">nest new project-name</span><br></pre></td></tr></table></figure>\n\n<p>å®‰è£…æˆåŠŸä¹‹åï¼Œæ‰€æœ‰çš„ä»£ç éƒ½æ˜¯<code>ts</code>ç¼–å†™çš„; å…³äºé¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œå¯ä»¥å‚è€ƒ<a href=\"https://docs.nestjs.com/first-steps\">å®˜æ–¹æ–‡æ¡£</a>æœ‰å…·ä½“è¯´æ˜;</p>\n<p>æˆ‘ä»¬æ‰¾åˆ°å…¥å£æ–‡ä»¶ï¼š<code>main.ts</code>, å…¶ä¸­<code>bootstrap()</code>å°±æ˜¯å¯åŠ¨å‡½æ•°äº†ï¼›</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">bootstrap</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// è¿™é‡Œä½¿ç”¨çš„æ˜¯Express, å¯ä»¥ä½¿ç”¨Fastify</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> app = <span class=\"keyword\">await</span> <span class=\"title class_\">NestFactory</span>.<span class=\"property\">create</span>&lt;<span class=\"title class_\">NestExpressApplication</span>&gt;(<span class=\"title class_\">AppModule</span>, &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœä¸ŠæŠ¥æ–¹å¼ä½¿ç”¨sendBeaconï¼Œ é‚£ä¹ˆå°±éœ€è¦å¯¹è¯·æ±‚å¤´è®¾ç½®ç›¸å…³å‚æ•°</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœä¸ŠæŠ¥æ–¹å¼ä½¿ç”¨fetch, é‚£ä¹ˆå°±ä¸éœ€è¦è®¾ç½®ç›¸å…³å‚æ•°</span></span><br><span class=\"line\">\t\t<span class=\"attr\">rawBody</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">\t<span class=\"comment\">// æ ¹æ®è¯·æ±‚çš„Content-Typeæ¥è§£æè¯·æ±‚ä½“, å¦‚æœæ˜¯ sendBeacon é‚£ä¹ˆéœ€è¦è®¾ç½®ç›¸å…³å‚æ•°</span></span><br><span class=\"line\">\tapp.<span class=\"title function_\">useBodyParser</span>(<span class=\"string\">&quot;text&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è®¾ç½®è·¨åŸŸ</span></span><br><span class=\"line\">\tapp.<span class=\"title function_\">enableCors</span>(&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">origin</span>: <span class=\"string\">&quot;*&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">credentials</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">methods</span>: <span class=\"string\">&quot;GET,HEAD,PUT,PATCH,POST,DELETE&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">preflightContinue</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">optionsSuccessStatus</span>: <span class=\"number\">204</span>,</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è®¾ç½®å‰ç¼€, å¯ä»¥è®¾ç½®ä¹Ÿå¯ä»¥ä¸è®¾ç½® è¿™é‡Œä¸è®¾ç½®</span></span><br><span class=\"line\">\t<span class=\"comment\">// app.setGlobalPrefix(&quot;/api/v1&quot;);</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">await</span> app.<span class=\"title function_\">listen</span>(<span class=\"number\">3000</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">bootstrap</span>();</span><br></pre></td></tr></table></figure>\n\n<p>ä¿®æ”¹ä¹‹åï¼Œæ‰§è¡Œå‘½ä»¤<code>npm run start</code>å°±å¯ä»¥äº†ï¼Œä¸è¿‡è¿™é‡Œå¯ä»¥ä½¿ç”¨<code>npm run start:dev</code>,åªæœ‰æ–‡ä»¶å˜åŠ¨äº†æœåŠ¡å°±ä¼šé‡æ–°å¯åŠ¨ï¼›å°±ä¸éœ€è¦æ¯æ¬¡ä¿®æ”¹ä¹‹ååœ¨é‡å¯ï¼›</p>\n<h2 id=\"å®ç°æ·»åŠ åŠŸèƒ½\"><a href=\"#å®ç°æ·»åŠ åŠŸèƒ½\" class=\"headerlink\" title=\"å®ç°æ·»åŠ åŠŸèƒ½\"></a>å®ç°æ·»åŠ åŠŸèƒ½</h2><h3 id=\"æ•°æ®åº“\"><a href=\"#æ•°æ®åº“\" class=\"headerlink\" title=\"æ•°æ®åº“\"></a>æ•°æ®åº“</h3><p>æ·»åŠ æ•°æ®è‚¯å®šéœ€è¦æ•°æ®åº“å“‡ï¼Œé‚£æˆ‘ä»¬å…ˆæ·»åŠ ä¸‹è½½æ•°æ®åº“æ’ä»¶ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„<code>Mongoose,mongodb</code>ï¼› å…·ä½“å¯æŸ¥çœ‹<a href=\"https://docs.nestjs.com/techniques/mongodb\">Nest Mongo</a></p>\n<p>å…³äºæœ¬åœ°å¦‚ä½•å®‰è£…<code>mongodb</code>ä»¥åŠå¦‚ä½•ä½¿ç”¨ï¼Œå¯æŸ¥çœ‹åŸºç¡€æ–‡æ¡£<a href=\"https://www.runoob.com/mongodb/mongodb-tutorial.html\">MongoDb æ•™ç¨‹</a></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i --save @nestjs/mongoose mongoose</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶ååœ¨<code>app.module.ts</code>ä¸­æ·»åŠ é…ç½®</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">MongooseModule</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@nestjs/mongoose&#x27;</span>;</span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// åªéœ€è¦åœ¨ imports åŠ å…¥è¿™ä¸€è¡Œå³å¯;</span></span><br><span class=\"line\">    <span class=\"title class_\">MongooseModule</span>.<span class=\"title function_\">forRoot</span>(<span class=\"string\">&#x27;mongodb://localhost/nest&#x27;</span>),</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>ä¿å­˜ä¹‹åé‡æ–°å¯åŠ¨ï¼Œå¦‚æœå‡ºç°æ•°æ®åº“ä¸€ç›´å°è¯•é“¾æ¥é‚£ä¹ˆè¯´æ˜ä½ æœ¬åœ°æ²¡æœ‰æ­£ç¡®å®‰è£…<code>mongoose</code>æœåŠ¡,æˆ–è€…æ‚¨çš„æ•°æ®åº“é“¾æ¥å¯èƒ½ä¸æ­£ç¡®;</strong></p>\n<h3 id=\"æ·»åŠ ä¸€ä¸ªæ—¥å¿—æ¨¡å—\"><a href=\"#æ·»åŠ ä¸€ä¸ªæ—¥å¿—æ¨¡å—\" class=\"headerlink\" title=\"æ·»åŠ ä¸€ä¸ªæ—¥å¿—æ¨¡å—\"></a>æ·»åŠ ä¸€ä¸ªæ—¥å¿—æ¨¡å—</h3><p>è¦æƒ³æ·»åŠ ä¸€ä¸ªæ—¥å¿—æ¨¡å—ï¼Œä½ å¯ä»¥æ‰‹åŠ¨åœ¨<code>src</code>ç›®å½•ä¸‹æ·»åŠ ç›®å½•ä¸º<code>logs</code>çš„æ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹ä¸‹æ·»åŠ å¯¹åº”çš„æ–‡ä»¶ï¼›</p>\n<p>ä¸è¿‡æˆ‘ä¸å»ºè®®ä½ æ‰‹åŠ¨æ·»åŠ ï¼Œä¸ä»…éº»çƒ¦ï¼Œè€Œä¸”ä¹Ÿä¸å¥½ç®¡ç†ï¼›</p>\n<p>å¯ä»¥é€šè¿‡å‘½ä»¤<code>nest</code> å»æ·»åŠ ï¼›æƒ³è¦çŸ¥é“å‘½ä»¤æœ‰å“ªäº›ï¼Œå¯ä»¥åœ¨<code>shell</code>å·¥å…·ä¸­è¾“å…¥<code>nest</code>ç„¶åå›è½¦ï¼›</p>\n<p>ç„¶åä½¿ç”¨å‘½ä»¤<code>nest g name dirFile</code>;</p>\n<p>æˆ‘ä»¬ç›´æ¥ä½¿ç”¨<code>nest g resource logs</code>, å›è½¦é€‰æ‹©å¯¹åº”çš„<code>Apiæ¨¡å¼</code>, ä¹‹åå°±ä¼šç”Ÿæˆä¸€ä¸ªå®Œæ•´æ¨¡å—çš„ç›®å½•äº†ï¼›ä½¿ç”¨å‘½ä»¤æ·»åŠ è¿˜ä¼šè‡ªåŠ¨åœ¨<code>app.modules.ts</code>æ·»åŠ å¯¹åº”çš„æ¨¡å—å“¦~</p>\n<p>åˆ›å»ºå®Œä¹‹åï¼Œå°±å¯ä»¥åœ¨<code>src</code>ç›®å½•ä¸‹æ‰¾åˆ°ä½ çš„æ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶äº†</p>\n<h3 id=\"åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨\"><a href=\"#åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨\" class=\"headerlink\" title=\"åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨\"></a>åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨</h3><p>åœ¨<code>logs.controller.ts</code>ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨æ¥æ·»åŠ <code>logs</code>æ•°æ®</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è¯·æ±‚çš„å‰ç¼€ï¼šhttps://xxx.com/logs</span></span><br><span class=\"line\"><span class=\"meta\">@Controller</span>(<span class=\"string\">&quot;logs&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">LogsController</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// è¿™é‡Œçš„LogsServiceå°±æ˜¯æœåŠ¡å±‚æ–‡ä»¶ logs.service.tsä¸­çš„ç±»</span></span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">logsService</span>: <span class=\"title class_\">LogsService</span></span>) &#123;&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// https://xxx.com/logs/setLog</span></span><br><span class=\"line\">\t<span class=\"meta\">@Post</span>(<span class=\"string\">&quot;setLog&quot;</span>)</span><br><span class=\"line\">\t<span class=\"comment\">// createLogDto å°±æ˜¯å‰ç«¯ç»™åç«¯çš„å­—æ®µ</span></span><br><span class=\"line\">\t<span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"meta\">@Body</span>() <span class=\"attr\">createLogDto</span>: <span class=\"title class_\">CreateLogDto</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">logsService</span>.<span class=\"title function_\">create</span>(createLogDto);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ¥ç€æˆ‘ä»¬æ·»åŠ æ•°æ®åº“éœ€è¦çš„å­—æ®µä»¥åŠæ•°æ®è¡¨;</p>\n<h3 id=\"æ·»åŠ æ•°æ®è¡¨ä»¥åŠå¯¹åº”è¡¨ç»“æ„\"><a href=\"#æ·»åŠ æ•°æ®è¡¨ä»¥åŠå¯¹åº”è¡¨ç»“æ„\" class=\"headerlink\" title=\"æ·»åŠ æ•°æ®è¡¨ä»¥åŠå¯¹åº”è¡¨ç»“æ„\"></a>æ·»åŠ æ•°æ®è¡¨ä»¥åŠå¯¹åº”è¡¨ç»“æ„</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Prop</span>, <span class=\"title class_\">Schema</span>, <span class=\"title class_\">SchemaFactory</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/mongoose&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HydratedDocument</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;mongoose&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">type</span> <span class=\"title class_\">LogDocument</span> = <span class=\"title class_\">HydratedDocument</span>&lt;<span class=\"title class_\">Log</span>&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Schema</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Log</span> &#123;</span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">name</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"comment\">// åˆ›å»ºæ—¶é—´</span></span><br><span class=\"line\">\t<span class=\"attr\">createdAt</span>: <span class=\"title class_\">Date</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// æ›´æ–°æ—¶é—´</span></span><br><span class=\"line\">\t<span class=\"attr\">updatedAt</span>: <span class=\"title class_\">Date</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">LogSchema</span> = <span class=\"title class_\">SchemaFactory</span>.<span class=\"title function_\">createForClass</span>(<span class=\"title class_\">Log</span>);</span><br></pre></td></tr></table></figure>\n\n<p>å¤§æ¦‚çš„æ•°æ®è¡¨ç»“æ„å°±å®šå¥½äº†ï¼›</p>\n<p>æˆ‘ä»¬åœ¨<code>logs.module.ts</code>å¼•å…¥æˆ‘ä»¬åˆ›å»ºçš„è¡¨</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è¿™ä¸ªæ˜¯ä½ å®é™…åˆ›å»ºæ•°æ®è¡¨çš„åœ°å€ï¼Œ LogSchemaå°±æ˜¯ä½ å¯¼å‡ºçš„è¡¨</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">LogSchema</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./schemas/log.schema&quot;</span>;</span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [</span><br><span class=\"line\">    <span class=\"title class_\">MongooseModule</span>.<span class=\"title function_\">forFeature</span>([</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">name</span>: <span class=\"string\">&quot;Log&quot;</span>,</span><br><span class=\"line\">        <span class=\"attr\">schema</span>: <span class=\"title class_\">LogSchema</span>,</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ])</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ·»åŠ æœåŠ¡å±‚\"><a href=\"#æ·»åŠ æœåŠ¡å±‚\" class=\"headerlink\" title=\"æ·»åŠ æœåŠ¡å±‚\"></a>æ·»åŠ æœåŠ¡å±‚</h3><p>åœ¨<code>logs.service.ts</code>ä¸­æ·»åŠ ä¸€ä¸ª<code>create</code>æ–¹æ³•</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">CreateLogDto</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">name</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">LogsService</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"comment\">// è¿™é‡Œæ˜¯ç”¨åˆ°äº†æ•°æ®åº“ è¿™é‡Œçš„ @InjectModel(&quot;Log&quot;) Logè¦ä¸ªä¸Šé¢çš„ MongooseModule.forFeature ä¸­çš„nameä¿æŒä¸€è‡´;</span></span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"comment\">//  Model&lt;Log&gt; ä¸­Logå°±æ˜¯ä½ åˆ°å¤„çš„è¡¨ç»“æ„ class Log&#123;&#125;</span></span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"meta\">@InjectModel</span>(<span class=\"string\">&quot;Log&quot;</span>) <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">logModel</span>: <span class=\"title class_\">Model</span>&lt;<span class=\"title class_\">Log</span>&gt;</span></span><br><span class=\"line\"><span class=\"params\">\t</span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¿™ä¸ªæ–¹æ³•å°±æ˜¯ logs.controller.ts ä¸­ä½¿ç”¨çš„ this.logsService.create</span></span><br><span class=\"line\">\t<span class=\"comment\">// CreateLogDto è¿™ä¸ªæ˜¯ä¸ºäº†æ£€éªŒå‚æ•°çš„ï¼Œ ä¹Ÿå°±æ˜¯æ¥å£ interface ä½ è‡ªå·±å¯ä»¥è‡ªå®šä¹‰</span></span><br><span class=\"line\">\t<span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"attr\">createLogDto</span>: <span class=\"title class_\">CreateLogDto</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¿™é‡Œä½¿ç”¨ Model&lt;Log&gt; çš„ create æ–¹æ³•ï¼Œå…·ä½“mongodbå¦‚ä½•è‡ªè¡Œç™¾åº¦</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">logModel</span>.<span class=\"title function_\">create</span>(createLogDto);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><p>å¯ä»¥ä½¿ç”¨<code>postman</code>æˆ–è€…<code>apipost</code>æˆ–è€…<code>apifox</code>æµ‹è¯•ï¼› å…·ä½“å·¥å…·å¦‚ä½•ä½¿ç”¨ï¼Œè‡ªè¡Œç™¾åº¦å®˜ç½‘;</p>\n<p>æ·»åŠ ä¸€ä¸ª<code>post</code>æ¥å£ï¼Œæ¥å£åœ°å€å°±æ˜¯<code>localhost:3000/logs/setLog</code>, å‚æ•°å°±æ˜¯ä¸Šé¢è‡ªå®šä¹‰çš„æ¥å£<code>interface CreateLogDto</code>ï¼Œ ç„¶åç‚¹å‡»å‘é€å°±å¯ä»¥äº†;</p>\n<p>é‚£ä¹ˆä¸€ä¸ªå°åº”ç”¨å°±åŸºæœ¬å®Œæˆäº†;</p>\n","excerpt":"","more":"<p>ç®€å•äº†è§£ä¸€äº›<code>Nest</code>ï¼Œç»“åˆä¹‹å‰æˆ‘å¼€å‘çš„ä¸€ä¸ªå°å·¥å…·æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶ï¼Œåšä¸€ä¸ªå°åº”ç”¨;</p>\n<p>è¿™ä¸ªåº”ç”¨æ˜¯ä»€ä¹ˆ? æœ‰è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼Œæˆ‘åœ¨<code>web</code>é¡µé¢ä½¿ç”¨äº†<code>æ—¥å¿—ä¸ŠæŠ¥æ’ä»¶</code>ï¼Œä½†æ˜¯æ’ä»¶çš„<code>dsn</code>åœ°å€æ˜¯æ²¡æœ‰çš„ï¼Œè¿™ä¸ªåœ°å€éœ€è¦åç«¯çš„ä¸€ä¸ªæ¥å£åœ°å€ï¼Œé‚£æˆ‘ä»¬ç”¨<code>Nest</code>æ¨¡å¼ä¸€ä¸‹è¿™ä¸ªæ¥å£åœ°å€ï¼›</p>\n<p>æ¥ä¸‹æ¥ï¼Œå®è·µä¸€ä¸‹ï¼š</p>\n<h2 id=\"åˆå§‹åŒ–é¡¹ç›®\"><a href=\"#åˆå§‹åŒ–é¡¹ç›®\" class=\"headerlink\" title=\"åˆå§‹åŒ–é¡¹ç›®\"></a>åˆå§‹åŒ–é¡¹ç›®</h2><p>é¦–å…ˆï¼Œå»<a href=\"https://docs.nestjs.com/\">å®˜ç½‘</a>æ‰¾ä¸€ä¸‹å®‰è£…å‘½ä»¤</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -g @nestjs/cli</span><br><span class=\"line\">nest new project-name</span><br></pre></td></tr></table></figure>\n\n<p>å®‰è£…æˆåŠŸä¹‹åï¼Œæ‰€æœ‰çš„ä»£ç éƒ½æ˜¯<code>ts</code>ç¼–å†™çš„; å…³äºé¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œå¯ä»¥å‚è€ƒ<a href=\"https://docs.nestjs.com/first-steps\">å®˜æ–¹æ–‡æ¡£</a>æœ‰å…·ä½“è¯´æ˜;</p>\n<p>æˆ‘ä»¬æ‰¾åˆ°å…¥å£æ–‡ä»¶ï¼š<code>main.ts</code>, å…¶ä¸­<code>bootstrap()</code>å°±æ˜¯å¯åŠ¨å‡½æ•°äº†ï¼›</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">bootstrap</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// è¿™é‡Œä½¿ç”¨çš„æ˜¯Express, å¯ä»¥ä½¿ç”¨Fastify</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> app = <span class=\"keyword\">await</span> <span class=\"title class_\">NestFactory</span>.<span class=\"property\">create</span>&lt;<span class=\"title class_\">NestExpressApplication</span>&gt;(<span class=\"title class_\">AppModule</span>, &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœä¸ŠæŠ¥æ–¹å¼ä½¿ç”¨sendBeaconï¼Œ é‚£ä¹ˆå°±éœ€è¦å¯¹è¯·æ±‚å¤´è®¾ç½®ç›¸å…³å‚æ•°</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœä¸ŠæŠ¥æ–¹å¼ä½¿ç”¨fetch, é‚£ä¹ˆå°±ä¸éœ€è¦è®¾ç½®ç›¸å…³å‚æ•°</span></span><br><span class=\"line\">\t\t<span class=\"attr\">rawBody</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">\t<span class=\"comment\">// æ ¹æ®è¯·æ±‚çš„Content-Typeæ¥è§£æè¯·æ±‚ä½“, å¦‚æœæ˜¯ sendBeacon é‚£ä¹ˆéœ€è¦è®¾ç½®ç›¸å…³å‚æ•°</span></span><br><span class=\"line\">\tapp.<span class=\"title function_\">useBodyParser</span>(<span class=\"string\">&quot;text&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è®¾ç½®è·¨åŸŸ</span></span><br><span class=\"line\">\tapp.<span class=\"title function_\">enableCors</span>(&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">origin</span>: <span class=\"string\">&quot;*&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">credentials</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">methods</span>: <span class=\"string\">&quot;GET,HEAD,PUT,PATCH,POST,DELETE&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">preflightContinue</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">optionsSuccessStatus</span>: <span class=\"number\">204</span>,</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è®¾ç½®å‰ç¼€, å¯ä»¥è®¾ç½®ä¹Ÿå¯ä»¥ä¸è®¾ç½® è¿™é‡Œä¸è®¾ç½®</span></span><br><span class=\"line\">\t<span class=\"comment\">// app.setGlobalPrefix(&quot;/api/v1&quot;);</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">await</span> app.<span class=\"title function_\">listen</span>(<span class=\"number\">3000</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">bootstrap</span>();</span><br></pre></td></tr></table></figure>\n\n<p>ä¿®æ”¹ä¹‹åï¼Œæ‰§è¡Œå‘½ä»¤<code>npm run start</code>å°±å¯ä»¥äº†ï¼Œä¸è¿‡è¿™é‡Œå¯ä»¥ä½¿ç”¨<code>npm run start:dev</code>,åªæœ‰æ–‡ä»¶å˜åŠ¨äº†æœåŠ¡å°±ä¼šé‡æ–°å¯åŠ¨ï¼›å°±ä¸éœ€è¦æ¯æ¬¡ä¿®æ”¹ä¹‹ååœ¨é‡å¯ï¼›</p>\n<h2 id=\"å®ç°æ·»åŠ åŠŸèƒ½\"><a href=\"#å®ç°æ·»åŠ åŠŸèƒ½\" class=\"headerlink\" title=\"å®ç°æ·»åŠ åŠŸèƒ½\"></a>å®ç°æ·»åŠ åŠŸèƒ½</h2><h3 id=\"æ•°æ®åº“\"><a href=\"#æ•°æ®åº“\" class=\"headerlink\" title=\"æ•°æ®åº“\"></a>æ•°æ®åº“</h3><p>æ·»åŠ æ•°æ®è‚¯å®šéœ€è¦æ•°æ®åº“å“‡ï¼Œé‚£æˆ‘ä»¬å…ˆæ·»åŠ ä¸‹è½½æ•°æ®åº“æ’ä»¶ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„<code>Mongoose,mongodb</code>ï¼› å…·ä½“å¯æŸ¥çœ‹<a href=\"https://docs.nestjs.com/techniques/mongodb\">Nest Mongo</a></p>\n<p>å…³äºæœ¬åœ°å¦‚ä½•å®‰è£…<code>mongodb</code>ä»¥åŠå¦‚ä½•ä½¿ç”¨ï¼Œå¯æŸ¥çœ‹åŸºç¡€æ–‡æ¡£<a href=\"https://www.runoob.com/mongodb/mongodb-tutorial.html\">MongoDb æ•™ç¨‹</a></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i --save @nestjs/mongoose mongoose</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶ååœ¨<code>app.module.ts</code>ä¸­æ·»åŠ é…ç½®</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">MongooseModule</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@nestjs/mongoose&#x27;</span>;</span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// åªéœ€è¦åœ¨ imports åŠ å…¥è¿™ä¸€è¡Œå³å¯;</span></span><br><span class=\"line\">    <span class=\"title class_\">MongooseModule</span>.<span class=\"title function_\">forRoot</span>(<span class=\"string\">&#x27;mongodb://localhost/nest&#x27;</span>),</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>ä¿å­˜ä¹‹åé‡æ–°å¯åŠ¨ï¼Œå¦‚æœå‡ºç°æ•°æ®åº“ä¸€ç›´å°è¯•é“¾æ¥é‚£ä¹ˆè¯´æ˜ä½ æœ¬åœ°æ²¡æœ‰æ­£ç¡®å®‰è£…<code>mongoose</code>æœåŠ¡,æˆ–è€…æ‚¨çš„æ•°æ®åº“é“¾æ¥å¯èƒ½ä¸æ­£ç¡®;</strong></p>\n<h3 id=\"æ·»åŠ ä¸€ä¸ªæ—¥å¿—æ¨¡å—\"><a href=\"#æ·»åŠ ä¸€ä¸ªæ—¥å¿—æ¨¡å—\" class=\"headerlink\" title=\"æ·»åŠ ä¸€ä¸ªæ—¥å¿—æ¨¡å—\"></a>æ·»åŠ ä¸€ä¸ªæ—¥å¿—æ¨¡å—</h3><p>è¦æƒ³æ·»åŠ ä¸€ä¸ªæ—¥å¿—æ¨¡å—ï¼Œä½ å¯ä»¥æ‰‹åŠ¨åœ¨<code>src</code>ç›®å½•ä¸‹æ·»åŠ ç›®å½•ä¸º<code>logs</code>çš„æ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹ä¸‹æ·»åŠ å¯¹åº”çš„æ–‡ä»¶ï¼›</p>\n<p>ä¸è¿‡æˆ‘ä¸å»ºè®®ä½ æ‰‹åŠ¨æ·»åŠ ï¼Œä¸ä»…éº»çƒ¦ï¼Œè€Œä¸”ä¹Ÿä¸å¥½ç®¡ç†ï¼›</p>\n<p>å¯ä»¥é€šè¿‡å‘½ä»¤<code>nest</code> å»æ·»åŠ ï¼›æƒ³è¦çŸ¥é“å‘½ä»¤æœ‰å“ªäº›ï¼Œå¯ä»¥åœ¨<code>shell</code>å·¥å…·ä¸­è¾“å…¥<code>nest</code>ç„¶åå›è½¦ï¼›</p>\n<p>ç„¶åä½¿ç”¨å‘½ä»¤<code>nest g name dirFile</code>;</p>\n<p>æˆ‘ä»¬ç›´æ¥ä½¿ç”¨<code>nest g resource logs</code>, å›è½¦é€‰æ‹©å¯¹åº”çš„<code>Apiæ¨¡å¼</code>, ä¹‹åå°±ä¼šç”Ÿæˆä¸€ä¸ªå®Œæ•´æ¨¡å—çš„ç›®å½•äº†ï¼›ä½¿ç”¨å‘½ä»¤æ·»åŠ è¿˜ä¼šè‡ªåŠ¨åœ¨<code>app.modules.ts</code>æ·»åŠ å¯¹åº”çš„æ¨¡å—å“¦~</p>\n<p>åˆ›å»ºå®Œä¹‹åï¼Œå°±å¯ä»¥åœ¨<code>src</code>ç›®å½•ä¸‹æ‰¾åˆ°ä½ çš„æ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶äº†</p>\n<h3 id=\"åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨\"><a href=\"#åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨\" class=\"headerlink\" title=\"åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨\"></a>åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨</h3><p>åœ¨<code>logs.controller.ts</code>ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨æ¥æ·»åŠ <code>logs</code>æ•°æ®</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è¯·æ±‚çš„å‰ç¼€ï¼šhttps://xxx.com/logs</span></span><br><span class=\"line\"><span class=\"meta\">@Controller</span>(<span class=\"string\">&quot;logs&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">LogsController</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// è¿™é‡Œçš„LogsServiceå°±æ˜¯æœåŠ¡å±‚æ–‡ä»¶ logs.service.tsä¸­çš„ç±»</span></span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">logsService</span>: <span class=\"title class_\">LogsService</span></span>) &#123;&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// https://xxx.com/logs/setLog</span></span><br><span class=\"line\">\t<span class=\"meta\">@Post</span>(<span class=\"string\">&quot;setLog&quot;</span>)</span><br><span class=\"line\">\t<span class=\"comment\">// createLogDto å°±æ˜¯å‰ç«¯ç»™åç«¯çš„å­—æ®µ</span></span><br><span class=\"line\">\t<span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"meta\">@Body</span>() <span class=\"attr\">createLogDto</span>: <span class=\"title class_\">CreateLogDto</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">logsService</span>.<span class=\"title function_\">create</span>(createLogDto);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ¥ç€æˆ‘ä»¬æ·»åŠ æ•°æ®åº“éœ€è¦çš„å­—æ®µä»¥åŠæ•°æ®è¡¨;</p>\n<h3 id=\"æ·»åŠ æ•°æ®è¡¨ä»¥åŠå¯¹åº”è¡¨ç»“æ„\"><a href=\"#æ·»åŠ æ•°æ®è¡¨ä»¥åŠå¯¹åº”è¡¨ç»“æ„\" class=\"headerlink\" title=\"æ·»åŠ æ•°æ®è¡¨ä»¥åŠå¯¹åº”è¡¨ç»“æ„\"></a>æ·»åŠ æ•°æ®è¡¨ä»¥åŠå¯¹åº”è¡¨ç»“æ„</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Prop</span>, <span class=\"title class_\">Schema</span>, <span class=\"title class_\">SchemaFactory</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/mongoose&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HydratedDocument</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;mongoose&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">type</span> <span class=\"title class_\">LogDocument</span> = <span class=\"title class_\">HydratedDocument</span>&lt;<span class=\"title class_\">Log</span>&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Schema</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Log</span> &#123;</span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">name</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"comment\">// åˆ›å»ºæ—¶é—´</span></span><br><span class=\"line\">\t<span class=\"attr\">createdAt</span>: <span class=\"title class_\">Date</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// æ›´æ–°æ—¶é—´</span></span><br><span class=\"line\">\t<span class=\"attr\">updatedAt</span>: <span class=\"title class_\">Date</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">LogSchema</span> = <span class=\"title class_\">SchemaFactory</span>.<span class=\"title function_\">createForClass</span>(<span class=\"title class_\">Log</span>);</span><br></pre></td></tr></table></figure>\n\n<p>å¤§æ¦‚çš„æ•°æ®è¡¨ç»“æ„å°±å®šå¥½äº†ï¼›</p>\n<p>æˆ‘ä»¬åœ¨<code>logs.module.ts</code>å¼•å…¥æˆ‘ä»¬åˆ›å»ºçš„è¡¨</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è¿™ä¸ªæ˜¯ä½ å®é™…åˆ›å»ºæ•°æ®è¡¨çš„åœ°å€ï¼Œ LogSchemaå°±æ˜¯ä½ å¯¼å‡ºçš„è¡¨</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">LogSchema</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./schemas/log.schema&quot;</span>;</span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [</span><br><span class=\"line\">    <span class=\"title class_\">MongooseModule</span>.<span class=\"title function_\">forFeature</span>([</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">name</span>: <span class=\"string\">&quot;Log&quot;</span>,</span><br><span class=\"line\">        <span class=\"attr\">schema</span>: <span class=\"title class_\">LogSchema</span>,</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ])</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ·»åŠ æœåŠ¡å±‚\"><a href=\"#æ·»åŠ æœåŠ¡å±‚\" class=\"headerlink\" title=\"æ·»åŠ æœåŠ¡å±‚\"></a>æ·»åŠ æœåŠ¡å±‚</h3><p>åœ¨<code>logs.service.ts</code>ä¸­æ·»åŠ ä¸€ä¸ª<code>create</code>æ–¹æ³•</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">CreateLogDto</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">name</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">LogsService</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"comment\">// è¿™é‡Œæ˜¯ç”¨åˆ°äº†æ•°æ®åº“ è¿™é‡Œçš„ @InjectModel(&quot;Log&quot;) Logè¦ä¸ªä¸Šé¢çš„ MongooseModule.forFeature ä¸­çš„nameä¿æŒä¸€è‡´;</span></span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"comment\">//  Model&lt;Log&gt; ä¸­Logå°±æ˜¯ä½ åˆ°å¤„çš„è¡¨ç»“æ„ class Log&#123;&#125;</span></span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"meta\">@InjectModel</span>(<span class=\"string\">&quot;Log&quot;</span>) <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">logModel</span>: <span class=\"title class_\">Model</span>&lt;<span class=\"title class_\">Log</span>&gt;</span></span><br><span class=\"line\"><span class=\"params\">\t</span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¿™ä¸ªæ–¹æ³•å°±æ˜¯ logs.controller.ts ä¸­ä½¿ç”¨çš„ this.logsService.create</span></span><br><span class=\"line\">\t<span class=\"comment\">// CreateLogDto è¿™ä¸ªæ˜¯ä¸ºäº†æ£€éªŒå‚æ•°çš„ï¼Œ ä¹Ÿå°±æ˜¯æ¥å£ interface ä½ è‡ªå·±å¯ä»¥è‡ªå®šä¹‰</span></span><br><span class=\"line\">\t<span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"attr\">createLogDto</span>: <span class=\"title class_\">CreateLogDto</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¿™é‡Œä½¿ç”¨ Model&lt;Log&gt; çš„ create æ–¹æ³•ï¼Œå…·ä½“mongodbå¦‚ä½•è‡ªè¡Œç™¾åº¦</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">logModel</span>.<span class=\"title function_\">create</span>(createLogDto);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><p>å¯ä»¥ä½¿ç”¨<code>postman</code>æˆ–è€…<code>apipost</code>æˆ–è€…<code>apifox</code>æµ‹è¯•ï¼› å…·ä½“å·¥å…·å¦‚ä½•ä½¿ç”¨ï¼Œè‡ªè¡Œç™¾åº¦å®˜ç½‘;</p>\n<p>æ·»åŠ ä¸€ä¸ª<code>post</code>æ¥å£ï¼Œæ¥å£åœ°å€å°±æ˜¯<code>localhost:3000/logs/setLog</code>, å‚æ•°å°±æ˜¯ä¸Šé¢è‡ªå®šä¹‰çš„æ¥å£<code>interface CreateLogDto</code>ï¼Œ ç„¶åç‚¹å‡»å‘é€å°±å¯ä»¥äº†;</p>\n<p>é‚£ä¹ˆä¸€ä¸ªå°åº”ç”¨å°±åŸºæœ¬å®Œæˆäº†;</p>\n"},{"title":"Nest-å…¶ä»–é…ç½®","abbrlink":"d5350a55","date":"2024-11-08T01:05:01.000Z","_content":"\nå½“ç„¶è¿˜æœ‰å¾ˆå¤š`nest`çš„é…ç½®ï¼Œé˜Ÿåˆ—ï¼Œä»»åŠ¡è°ƒåº¦ï¼Œç¼“å­˜ï¼ŒéªŒè¯ç­‰ï¼Œè¿™é‡Œåªä»‹ç»æœ€å¸¸ç”¨çš„ã€‚\n\n## éªŒè¯\n\n[æ–‡æ¡£](https://docs.nestjs.com/techniques/validation#using-the-built-in-validationpipe)\n\n**ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œåç«¯æ·»åŠ ç”¨æˆ·åŠŸèƒ½ï¼Œè‚¯å®šæœ‰å¾ˆå¤šå­—æ®µæ˜¯å¿…å¡«çš„ï¼Œé‚£ä¸èƒ½æ¯ä¸ªå­—æ®µéƒ½å»æ ¡éªŒå§ï¼Œé‚£ä¹ˆè¿™ä¸€åŠŸèƒ½çš„åˆ¤æ–­å°±å¾ˆå¤šå¾ˆå¤šäº†ï¼Œå¹¶ä¸”åé¢ç»´æŠ¤èµ·æ¥ç›¸å½“éº»çƒ¦ï¼Œ ä¸ºäº†è§£å†³è¿™ä¸€éº»çƒ¦é‚£ä¹ˆåˆšå¥½å¯ä»¥ä½¿ç”¨å†…ç½®çš„æ ¡éªŒ**\n\n```sh\npnpm add  class-validator class-transformer\n```\n\n### æ³¨å†Œ\n\nåœ¨ `app.module.ts`ä¸­:\n\n```ts\nimport { Module, ValidationPipe } from '@nestjs/common';\n@Module({\n  providers: [\n    provide: APP_PIPE,\n      useValue: new ValidationPipe({\n        transform: true, // è‡ªåŠ¨å°†è¯·æ±‚ä½“è½¬æ¢ä¸º DTO ç±»å‹\n        whitelist: true, // å¿½ç•¥æœªå®šä¹‰çš„å±æ€§\n        forbidNonWhitelisted: true, // ç¦æ­¢æœªçŸ¥å­—æ®µ\n      }),\n  ],\n})\n```\n\n### ä½¿ç”¨\n\n```ts\nimport { IsEmail, IsNotEmpty } from \"class-validator\";\n\nexport class CreateUserDto {\n\t@IsEmail()\n\temail: string;\n\n\t@IsNotEmpty({ message: \"å¯†ç ä¸èƒ½ä¸ºç©º\" })\n\tpassword: string;\n}\n```\n\n```ts\nimport { Body } from \"@nestjs/common\";\n@Controller()\nexport class AppController {\n\tconstructor(private readonly appService: AppService) {}\n\n\t@Post(\"/create\")\n\tcreate(@Body() user: CreateUserDto) {\n\t\treturn \"success\";\n\t}\n}\n```\n\nè¿™æ ·å°±é¿å…äº†å¤§é‡çš„åˆ¤æ–­äº†ï¼›\n\n## é€Ÿç‡é™åˆ¶\n\n[æ–‡æ¡£](https://nest.nodejs.cn/security/rate-limiting)\n\nä¿æŠ¤åº”ç”¨å…å—æš´åŠ›æ”»å‡»çš„å¸¸ç”¨æŠ€æœ¯æ˜¯é™é€Ÿã€‚é¦–å…ˆï¼Œä½ éœ€è¦å®‰è£… @nestjs/throttler åŒ…ã€‚\n\n### å®‰è£…\n\n```sh\npnpm add @nestjs/throttler\n```\n\n### ä½¿ç”¨\n\nå®‰è£…å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ `forRoot` æˆ– `forRootAsync` æ–¹æ³•å°† `ThrottlerModule` é…ç½®ä¸ºä»»ä½•å…¶ä»– `Nest` åŒ…ã€‚\n\n```ts\n@Module({\n\timports: [\n\t\tThrottlerModule.forRoot([\n\t\t\t{\n\t\t\t\tttl: 60000,\n\t\t\t\tlimit: 10,\n\t\t\t},\n\t\t]),\n\t],\n})\nexport class AppModule {}\n```\n\n## ä»»åŠ¡è°ƒåº¦\n\n[æ–‡æ¡£](https://nest.nodejs.cn/techniques/task-scheduling)\n\n> ä»»åŠ¡è°ƒåº¦å…è®¸ä½ å®‰æ’ä»»æ„ä»£ç ï¼ˆæ–¹æ³•/å‡½æ•°ï¼‰åœ¨å›ºå®šæ—¥æœŸ/æ—¶é—´ã€é‡å¤é—´éš”æˆ–åœ¨æŒ‡å®šé—´éš”åæ‰§è¡Œä¸€æ¬¡\n\n### å®‰è£…\n\n```ts\npnpm add @nestjs/schedule\n```\n\n### ä½¿ç”¨\n\n```ts\nimport { Module } from \"@nestjs/common\";\nimport { ScheduleModule } from \"@nestjs/schedule\";\n\n@Module({\n\timports: [ScheduleModule.forRoot()],\n})\nexport class AppModule {}\n```\n\n### å®šæ—¶ä»»åŠ¡\n\n```ts\nimport { Injectable, Logger } from \"@nestjs/common\";\nimport { Cron } from \"@nestjs/schedule\";\n\n@Injectable()\nexport class TasksService {\n\tprivate readonly logger = new Logger(TasksService.name);\n\n\t@Cron(\"45 * * * * *\")\n\thandleCron() {\n\t\tthis.logger.debug(\"Called when the current second is 45\");\n\t}\n}\n```\n","source":"_posts/æŠ€èƒ½å°å†Œ/Nest/å…¶ä»–é…ç½®.md","raw":"---\ntitle: Nest-å…¶ä»–é…ç½®\nabbrlink: d5350a55\ndate: 2024-11-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Nest\n---\n\nå½“ç„¶è¿˜æœ‰å¾ˆå¤š`nest`çš„é…ç½®ï¼Œé˜Ÿåˆ—ï¼Œä»»åŠ¡è°ƒåº¦ï¼Œç¼“å­˜ï¼ŒéªŒè¯ç­‰ï¼Œè¿™é‡Œåªä»‹ç»æœ€å¸¸ç”¨çš„ã€‚\n\n## éªŒè¯\n\n[æ–‡æ¡£](https://docs.nestjs.com/techniques/validation#using-the-built-in-validationpipe)\n\n**ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œåç«¯æ·»åŠ ç”¨æˆ·åŠŸèƒ½ï¼Œè‚¯å®šæœ‰å¾ˆå¤šå­—æ®µæ˜¯å¿…å¡«çš„ï¼Œé‚£ä¸èƒ½æ¯ä¸ªå­—æ®µéƒ½å»æ ¡éªŒå§ï¼Œé‚£ä¹ˆè¿™ä¸€åŠŸèƒ½çš„åˆ¤æ–­å°±å¾ˆå¤šå¾ˆå¤šäº†ï¼Œå¹¶ä¸”åé¢ç»´æŠ¤èµ·æ¥ç›¸å½“éº»çƒ¦ï¼Œ ä¸ºäº†è§£å†³è¿™ä¸€éº»çƒ¦é‚£ä¹ˆåˆšå¥½å¯ä»¥ä½¿ç”¨å†…ç½®çš„æ ¡éªŒ**\n\n```sh\npnpm add  class-validator class-transformer\n```\n\n### æ³¨å†Œ\n\nåœ¨ `app.module.ts`ä¸­:\n\n```ts\nimport { Module, ValidationPipe } from '@nestjs/common';\n@Module({\n  providers: [\n    provide: APP_PIPE,\n      useValue: new ValidationPipe({\n        transform: true, // è‡ªåŠ¨å°†è¯·æ±‚ä½“è½¬æ¢ä¸º DTO ç±»å‹\n        whitelist: true, // å¿½ç•¥æœªå®šä¹‰çš„å±æ€§\n        forbidNonWhitelisted: true, // ç¦æ­¢æœªçŸ¥å­—æ®µ\n      }),\n  ],\n})\n```\n\n### ä½¿ç”¨\n\n```ts\nimport { IsEmail, IsNotEmpty } from \"class-validator\";\n\nexport class CreateUserDto {\n\t@IsEmail()\n\temail: string;\n\n\t@IsNotEmpty({ message: \"å¯†ç ä¸èƒ½ä¸ºç©º\" })\n\tpassword: string;\n}\n```\n\n```ts\nimport { Body } from \"@nestjs/common\";\n@Controller()\nexport class AppController {\n\tconstructor(private readonly appService: AppService) {}\n\n\t@Post(\"/create\")\n\tcreate(@Body() user: CreateUserDto) {\n\t\treturn \"success\";\n\t}\n}\n```\n\nè¿™æ ·å°±é¿å…äº†å¤§é‡çš„åˆ¤æ–­äº†ï¼›\n\n## é€Ÿç‡é™åˆ¶\n\n[æ–‡æ¡£](https://nest.nodejs.cn/security/rate-limiting)\n\nä¿æŠ¤åº”ç”¨å…å—æš´åŠ›æ”»å‡»çš„å¸¸ç”¨æŠ€æœ¯æ˜¯é™é€Ÿã€‚é¦–å…ˆï¼Œä½ éœ€è¦å®‰è£… @nestjs/throttler åŒ…ã€‚\n\n### å®‰è£…\n\n```sh\npnpm add @nestjs/throttler\n```\n\n### ä½¿ç”¨\n\nå®‰è£…å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ `forRoot` æˆ– `forRootAsync` æ–¹æ³•å°† `ThrottlerModule` é…ç½®ä¸ºä»»ä½•å…¶ä»– `Nest` åŒ…ã€‚\n\n```ts\n@Module({\n\timports: [\n\t\tThrottlerModule.forRoot([\n\t\t\t{\n\t\t\t\tttl: 60000,\n\t\t\t\tlimit: 10,\n\t\t\t},\n\t\t]),\n\t],\n})\nexport class AppModule {}\n```\n\n## ä»»åŠ¡è°ƒåº¦\n\n[æ–‡æ¡£](https://nest.nodejs.cn/techniques/task-scheduling)\n\n> ä»»åŠ¡è°ƒåº¦å…è®¸ä½ å®‰æ’ä»»æ„ä»£ç ï¼ˆæ–¹æ³•/å‡½æ•°ï¼‰åœ¨å›ºå®šæ—¥æœŸ/æ—¶é—´ã€é‡å¤é—´éš”æˆ–åœ¨æŒ‡å®šé—´éš”åæ‰§è¡Œä¸€æ¬¡\n\n### å®‰è£…\n\n```ts\npnpm add @nestjs/schedule\n```\n\n### ä½¿ç”¨\n\n```ts\nimport { Module } from \"@nestjs/common\";\nimport { ScheduleModule } from \"@nestjs/schedule\";\n\n@Module({\n\timports: [ScheduleModule.forRoot()],\n})\nexport class AppModule {}\n```\n\n### å®šæ—¶ä»»åŠ¡\n\n```ts\nimport { Injectable, Logger } from \"@nestjs/common\";\nimport { Cron } from \"@nestjs/schedule\";\n\n@Injectable()\nexport class TasksService {\n\tprivate readonly logger = new Logger(TasksService.name);\n\n\t@Cron(\"45 * * * * *\")\n\thandleCron() {\n\t\tthis.logger.debug(\"Called when the current second is 45\");\n\t}\n}\n```\n","slug":"æŠ€èƒ½å°å†Œ/Nest/å…¶ä»–é…ç½®","published":1,"updated":"2025-03-12T09:44:37.826Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iy0036fg9m1rgz3cgn","content":"<p>å½“ç„¶è¿˜æœ‰å¾ˆå¤š<code>nest</code>çš„é…ç½®ï¼Œé˜Ÿåˆ—ï¼Œä»»åŠ¡è°ƒåº¦ï¼Œç¼“å­˜ï¼ŒéªŒè¯ç­‰ï¼Œè¿™é‡Œåªä»‹ç»æœ€å¸¸ç”¨çš„ã€‚</p>\n<h2 id=\"éªŒè¯\"><a href=\"#éªŒè¯\" class=\"headerlink\" title=\"éªŒè¯\"></a>éªŒè¯</h2><p><a href=\"https://docs.nestjs.com/techniques/validation#using-the-built-in-validationpipe\">æ–‡æ¡£</a></p>\n<p><strong>ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œåç«¯æ·»åŠ ç”¨æˆ·åŠŸèƒ½ï¼Œè‚¯å®šæœ‰å¾ˆå¤šå­—æ®µæ˜¯å¿…å¡«çš„ï¼Œé‚£ä¸èƒ½æ¯ä¸ªå­—æ®µéƒ½å»æ ¡éªŒå§ï¼Œé‚£ä¹ˆè¿™ä¸€åŠŸèƒ½çš„åˆ¤æ–­å°±å¾ˆå¤šå¾ˆå¤šäº†ï¼Œå¹¶ä¸”åé¢ç»´æŠ¤èµ·æ¥ç›¸å½“éº»çƒ¦ï¼Œ ä¸ºäº†è§£å†³è¿™ä¸€éº»çƒ¦é‚£ä¹ˆåˆšå¥½å¯ä»¥ä½¿ç”¨å†…ç½®çš„æ ¡éªŒ</strong></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add  class-validator class-transformer</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ³¨å†Œ\"><a href=\"#æ³¨å†Œ\" class=\"headerlink\" title=\"æ³¨å†Œ\"></a>æ³¨å†Œ</h3><p>åœ¨ <code>app.module.ts</code>ä¸­:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Module</span>, <span class=\"title class_\">ValidationPipe</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@nestjs/common&#x27;</span>;</span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [</span><br><span class=\"line\">    <span class=\"attr\">provide</span>: <span class=\"variable constant_\">APP_PIPE</span>,</span><br><span class=\"line\">      <span class=\"attr\">useValue</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">ValidationPipe</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">transform</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// è‡ªåŠ¨å°†è¯·æ±‚ä½“è½¬æ¢ä¸º DTO ç±»å‹</span></span><br><span class=\"line\">        <span class=\"attr\">whitelist</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// å¿½ç•¥æœªå®šä¹‰çš„å±æ€§</span></span><br><span class=\"line\">        <span class=\"attr\">forbidNonWhitelisted</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// ç¦æ­¢æœªçŸ¥å­—æ®µ</span></span><br><span class=\"line\">      &#125;),</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">IsEmail</span>, <span class=\"title class_\">IsNotEmpty</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;class-validator&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">CreateUserDto</span> &#123;</span><br><span class=\"line\">\t<span class=\"meta\">@IsEmail</span>()</span><br><span class=\"line\">\t<span class=\"attr\">email</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@IsNotEmpty</span>(&#123; <span class=\"attr\">message</span>: <span class=\"string\">&quot;å¯†ç ä¸èƒ½ä¸ºç©º&quot;</span> &#125;)</span><br><span class=\"line\">\t<span class=\"attr\">password</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Body</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"meta\">@Controller</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AppController</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">appService</span>: <span class=\"title class_\">AppService</span></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Post</span>(<span class=\"string\">&quot;/create&quot;</span>)</span><br><span class=\"line\">\t<span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"meta\">@Body</span>() <span class=\"attr\">user</span>: <span class=\"title class_\">CreateUserDto</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;success&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·å°±é¿å…äº†å¤§é‡çš„åˆ¤æ–­äº†ï¼›</p>\n<h2 id=\"é€Ÿç‡é™åˆ¶\"><a href=\"#é€Ÿç‡é™åˆ¶\" class=\"headerlink\" title=\"é€Ÿç‡é™åˆ¶\"></a>é€Ÿç‡é™åˆ¶</h2><p><a href=\"https://nest.nodejs.cn/security/rate-limiting\">æ–‡æ¡£</a></p>\n<p>ä¿æŠ¤åº”ç”¨å…å—æš´åŠ›æ”»å‡»çš„å¸¸ç”¨æŠ€æœ¯æ˜¯é™é€Ÿã€‚é¦–å…ˆï¼Œä½ éœ€è¦å®‰è£… @nestjs&#x2F;throttler åŒ…ã€‚</p>\n<h3 id=\"å®‰è£…\"><a href=\"#å®‰è£…\" class=\"headerlink\" title=\"å®‰è£…\"></a>å®‰è£…</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add @nestjs/throttler</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä½¿ç”¨-1\"><a href=\"#ä½¿ç”¨-1\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h3><p>å®‰è£…å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ <code>forRoot</code> æˆ– <code>forRootAsync</code> æ–¹æ³•å°† <code>ThrottlerModule</code> é…ç½®ä¸ºä»»ä½•å…¶ä»– <code>Nest</code> åŒ…ã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">imports</span>: [</span><br><span class=\"line\">\t\t<span class=\"title class_\">ThrottlerModule</span>.<span class=\"title function_\">forRoot</span>([</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">ttl</span>: <span class=\"number\">60000</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">limit</span>: <span class=\"number\">10</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t]),</span><br><span class=\"line\">\t],</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AppModule</span> &#123;&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä»»åŠ¡è°ƒåº¦\"><a href=\"#ä»»åŠ¡è°ƒåº¦\" class=\"headerlink\" title=\"ä»»åŠ¡è°ƒåº¦\"></a>ä»»åŠ¡è°ƒåº¦</h2><p><a href=\"https://nest.nodejs.cn/techniques/task-scheduling\">æ–‡æ¡£</a></p>\n<blockquote>\n<p>ä»»åŠ¡è°ƒåº¦å…è®¸ä½ å®‰æ’ä»»æ„ä»£ç ï¼ˆæ–¹æ³•&#x2F;å‡½æ•°ï¼‰åœ¨å›ºå®šæ—¥æœŸ&#x2F;æ—¶é—´ã€é‡å¤é—´éš”æˆ–åœ¨æŒ‡å®šé—´éš”åæ‰§è¡Œä¸€æ¬¡</p>\n</blockquote>\n<h3 id=\"å®‰è£…-1\"><a href=\"#å®‰è£…-1\" class=\"headerlink\" title=\"å®‰è£…\"></a>å®‰è£…</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add <span class=\"meta\">@nestjs</span>/schedule</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä½¿ç”¨-2\"><a href=\"#ä½¿ç”¨-2\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Module</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ScheduleModule</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/schedule&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">imports</span>: [<span class=\"title class_\">ScheduleModule</span>.<span class=\"title function_\">forRoot</span>()],</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AppModule</span> &#123;&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å®šæ—¶ä»»åŠ¡\"><a href=\"#å®šæ—¶ä»»åŠ¡\" class=\"headerlink\" title=\"å®šæ—¶ä»»åŠ¡\"></a>å®šæ—¶ä»»åŠ¡</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Injectable</span>, <span class=\"title class_\">Logger</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Cron</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/schedule&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TasksService</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> logger = <span class=\"keyword\">new</span> <span class=\"title class_\">Logger</span>(<span class=\"title class_\">TasksService</span>.<span class=\"property\">name</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Cron</span>(<span class=\"string\">&quot;45 * * * * *&quot;</span>)</span><br><span class=\"line\">\t<span class=\"title function_\">handleCron</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">logger</span>.<span class=\"title function_\">debug</span>(<span class=\"string\">&quot;Called when the current second is 45&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<p>å½“ç„¶è¿˜æœ‰å¾ˆå¤š<code>nest</code>çš„é…ç½®ï¼Œé˜Ÿåˆ—ï¼Œä»»åŠ¡è°ƒåº¦ï¼Œç¼“å­˜ï¼ŒéªŒè¯ç­‰ï¼Œè¿™é‡Œåªä»‹ç»æœ€å¸¸ç”¨çš„ã€‚</p>\n<h2 id=\"éªŒè¯\"><a href=\"#éªŒè¯\" class=\"headerlink\" title=\"éªŒè¯\"></a>éªŒè¯</h2><p><a href=\"https://docs.nestjs.com/techniques/validation#using-the-built-in-validationpipe\">æ–‡æ¡£</a></p>\n<p><strong>ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œåç«¯æ·»åŠ ç”¨æˆ·åŠŸèƒ½ï¼Œè‚¯å®šæœ‰å¾ˆå¤šå­—æ®µæ˜¯å¿…å¡«çš„ï¼Œé‚£ä¸èƒ½æ¯ä¸ªå­—æ®µéƒ½å»æ ¡éªŒå§ï¼Œé‚£ä¹ˆè¿™ä¸€åŠŸèƒ½çš„åˆ¤æ–­å°±å¾ˆå¤šå¾ˆå¤šäº†ï¼Œå¹¶ä¸”åé¢ç»´æŠ¤èµ·æ¥ç›¸å½“éº»çƒ¦ï¼Œ ä¸ºäº†è§£å†³è¿™ä¸€éº»çƒ¦é‚£ä¹ˆåˆšå¥½å¯ä»¥ä½¿ç”¨å†…ç½®çš„æ ¡éªŒ</strong></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add  class-validator class-transformer</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ³¨å†Œ\"><a href=\"#æ³¨å†Œ\" class=\"headerlink\" title=\"æ³¨å†Œ\"></a>æ³¨å†Œ</h3><p>åœ¨ <code>app.module.ts</code>ä¸­:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Module</span>, <span class=\"title class_\">ValidationPipe</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@nestjs/common&#x27;</span>;</span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [</span><br><span class=\"line\">    <span class=\"attr\">provide</span>: <span class=\"variable constant_\">APP_PIPE</span>,</span><br><span class=\"line\">      <span class=\"attr\">useValue</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">ValidationPipe</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">transform</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// è‡ªåŠ¨å°†è¯·æ±‚ä½“è½¬æ¢ä¸º DTO ç±»å‹</span></span><br><span class=\"line\">        <span class=\"attr\">whitelist</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// å¿½ç•¥æœªå®šä¹‰çš„å±æ€§</span></span><br><span class=\"line\">        <span class=\"attr\">forbidNonWhitelisted</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// ç¦æ­¢æœªçŸ¥å­—æ®µ</span></span><br><span class=\"line\">      &#125;),</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">IsEmail</span>, <span class=\"title class_\">IsNotEmpty</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;class-validator&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">CreateUserDto</span> &#123;</span><br><span class=\"line\">\t<span class=\"meta\">@IsEmail</span>()</span><br><span class=\"line\">\t<span class=\"attr\">email</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@IsNotEmpty</span>(&#123; <span class=\"attr\">message</span>: <span class=\"string\">&quot;å¯†ç ä¸èƒ½ä¸ºç©º&quot;</span> &#125;)</span><br><span class=\"line\">\t<span class=\"attr\">password</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Body</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"meta\">@Controller</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AppController</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">appService</span>: <span class=\"title class_\">AppService</span></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Post</span>(<span class=\"string\">&quot;/create&quot;</span>)</span><br><span class=\"line\">\t<span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"meta\">@Body</span>() <span class=\"attr\">user</span>: <span class=\"title class_\">CreateUserDto</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;success&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·å°±é¿å…äº†å¤§é‡çš„åˆ¤æ–­äº†ï¼›</p>\n<h2 id=\"é€Ÿç‡é™åˆ¶\"><a href=\"#é€Ÿç‡é™åˆ¶\" class=\"headerlink\" title=\"é€Ÿç‡é™åˆ¶\"></a>é€Ÿç‡é™åˆ¶</h2><p><a href=\"https://nest.nodejs.cn/security/rate-limiting\">æ–‡æ¡£</a></p>\n<p>ä¿æŠ¤åº”ç”¨å…å—æš´åŠ›æ”»å‡»çš„å¸¸ç”¨æŠ€æœ¯æ˜¯é™é€Ÿã€‚é¦–å…ˆï¼Œä½ éœ€è¦å®‰è£… @nestjs&#x2F;throttler åŒ…ã€‚</p>\n<h3 id=\"å®‰è£…\"><a href=\"#å®‰è£…\" class=\"headerlink\" title=\"å®‰è£…\"></a>å®‰è£…</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add @nestjs/throttler</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä½¿ç”¨-1\"><a href=\"#ä½¿ç”¨-1\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h3><p>å®‰è£…å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ <code>forRoot</code> æˆ– <code>forRootAsync</code> æ–¹æ³•å°† <code>ThrottlerModule</code> é…ç½®ä¸ºä»»ä½•å…¶ä»– <code>Nest</code> åŒ…ã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">imports</span>: [</span><br><span class=\"line\">\t\t<span class=\"title class_\">ThrottlerModule</span>.<span class=\"title function_\">forRoot</span>([</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">ttl</span>: <span class=\"number\">60000</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">limit</span>: <span class=\"number\">10</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t]),</span><br><span class=\"line\">\t],</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AppModule</span> &#123;&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä»»åŠ¡è°ƒåº¦\"><a href=\"#ä»»åŠ¡è°ƒåº¦\" class=\"headerlink\" title=\"ä»»åŠ¡è°ƒåº¦\"></a>ä»»åŠ¡è°ƒåº¦</h2><p><a href=\"https://nest.nodejs.cn/techniques/task-scheduling\">æ–‡æ¡£</a></p>\n<blockquote>\n<p>ä»»åŠ¡è°ƒåº¦å…è®¸ä½ å®‰æ’ä»»æ„ä»£ç ï¼ˆæ–¹æ³•&#x2F;å‡½æ•°ï¼‰åœ¨å›ºå®šæ—¥æœŸ&#x2F;æ—¶é—´ã€é‡å¤é—´éš”æˆ–åœ¨æŒ‡å®šé—´éš”åæ‰§è¡Œä¸€æ¬¡</p>\n</blockquote>\n<h3 id=\"å®‰è£…-1\"><a href=\"#å®‰è£…-1\" class=\"headerlink\" title=\"å®‰è£…\"></a>å®‰è£…</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add <span class=\"meta\">@nestjs</span>/schedule</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä½¿ç”¨-2\"><a href=\"#ä½¿ç”¨-2\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Module</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ScheduleModule</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/schedule&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">imports</span>: [<span class=\"title class_\">ScheduleModule</span>.<span class=\"title function_\">forRoot</span>()],</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AppModule</span> &#123;&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å®šæ—¶ä»»åŠ¡\"><a href=\"#å®šæ—¶ä»»åŠ¡\" class=\"headerlink\" title=\"å®šæ—¶ä»»åŠ¡\"></a>å®šæ—¶ä»»åŠ¡</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Injectable</span>, <span class=\"title class_\">Logger</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Cron</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/schedule&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TasksService</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> logger = <span class=\"keyword\">new</span> <span class=\"title class_\">Logger</span>(<span class=\"title class_\">TasksService</span>.<span class=\"property\">name</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Cron</span>(<span class=\"string\">&quot;45 * * * * *&quot;</span>)</span><br><span class=\"line\">\t<span class=\"title function_\">handleCron</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">logger</span>.<span class=\"title function_\">debug</span>(<span class=\"string\">&quot;Called when the current second is 45&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"Nest-åˆè¯† Nest","abbrlink":"7dbeaed2","date":"2024-11-08T01:05:01.000Z","_content":"\n`Nest`æ˜¯ä»€ä¹ˆï¼Ÿ`Nest`æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºé«˜æ•ˆä¸”å¯ä¼¸ç¼©çš„æœåŠ¡ç«¯åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚æ˜æ˜éƒ½å·²ç»æœ‰äº†`node`ä¸ºä»€ä¹ˆè¿˜è¦æå…¶ä»–çš„å‘¢ï¼Ÿ\n\nèµ·åˆ`Node`æ˜¯ä½œä¸ºæœåŠ¡ç«¯åº”ç”¨çš„ï¼Œæœ€ç†Ÿæ‚‰çš„ä¸€ä¸ªé¡¹ç›®å°±æ˜¯`Nodeç¤¾åŒº`ï¼Œå®ƒçš„æºç å°±æ˜¯ç”¨çš„`Node + mongodb`ï¼Œå¯ä»¥è¯´`Node`å°±æ˜¯`Nodeç¤¾åŒº`çš„çµé­‚ã€‚\n\n`Nodeç¤¾åŒº`ä¹Ÿæ˜¯åœ¨`node`ä¸Šæ˜™èŠ±ä¸€ç°ï¼Œä¹Ÿæ˜¯æŠŠ`Node`å‘æŒ¥åˆ°äº†æœ€å¤§çš„æè‡´ï¼›\n\nä½†æ˜¯è¯´äº†è¿™ä¹ˆå¤šï¼Œä¸ºä»€ä¹ˆè¦å’Œ`Nest`è”ç³»åˆ°ä¸€èµ·å‘¢ï¼Ÿ\n\n1. é¦–å…ˆï¼Œ`Nest`æ˜¯åœ¨`Node, Express`åŸºç¡€ä¸Šæ‰©å±•çš„ï¼ŒåŠŸèƒ½è¦æ¯”åŸæœ‰çš„ä¸°å¯Œçš„å¾ˆå¤šï¼›\n2. `Nest`ä½œä¸ºå‰ç«¯ä¸­çš„åç«¯ï¼Œä½†æ˜¯è¯­æ³•ä¸Šé¢è‚¯å®šè¦ç±»ä¼¼äºçº¯åç«¯ï¼Œå€¼å¾—ä¸€æçš„æ˜¯`Nest`æ˜¯`ts`å¼€å‘çš„ï¼Œé‚£ä¹ˆåœ¨å®šä¹‰æ¥å£å‚æ•°çš„æ—¶å€™ï¼Œ`Nest`æä¾›äº†`DTO`çš„æ¦‚å¿µï¼Œ`DTO`æ˜¯`Data Transfer Object`çš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯æ•°æ®ä¼ è¾“å¯¹è±¡ï¼›\n3. `Nest`åœ¨ä½¿ç”¨æ•°æ®åº“çš„æ—¶å€™ï¼Œ`Nest`æä¾›äº†`TypeORM`çš„æ¦‚å¿µï¼Œ`TypeORM`æ˜¯`TypeScript`çš„`ORM`æ¡†æ¶ï¼Œ`TypeORM`æ˜¯`Node`ä¸­éå¸¸æµè¡Œçš„`ORM`æ¡†æ¶ï¼Œ`Nest`ä½¿ç”¨`TypeORM`ä½œä¸ºé»˜è®¤çš„`ORM`æ¡†æ¶ï¼Œ`Nest`æä¾›äº†`TypeORM`çš„å°è£…ï¼Œä½¿å¾—`Nest`çš„`ORM`æ“ä½œæ›´åŠ ç®€å•ï¼›\n4. `Nest`æ˜¯ä¸ºäº†æ„å»ºé«˜æ•ˆå¯æ‰©å±•çš„ Nodejs æœåŠ¡ç«¯çš„åº”ç”¨æ¡†æ¶ï¼Œå†…ç½®å®Œå…¨æ”¯æŒ tsï¼›\n5. `Nest` æ¡†æ¶åº•å±‚ HTTP å¹³å°é»˜è®¤æ˜¯åŸºäº Express å®ç°çš„ï¼Œæ‰€ä»¥æ— éœ€æ‹…å¿ƒç¬¬ä¸‰æ–¹åº“çš„ç¼ºå¤±ã€‚ Nest æ—¨åœ¨æˆä¸ºä¸€ä¸ªä¸å¹³å°æ— å…³çš„æ¡†æ¶ã€‚ é€šè¿‡å¹³å°ï¼Œå¯ä»¥åˆ›å»ºå¯é‡ç”¨çš„é€»è¾‘éƒ¨ä»¶ï¼Œå¼€å‘äººå‘˜å¯ä»¥åˆ©ç”¨è¿™äº›éƒ¨ä»¶æ¥è·¨è¶Šå¤šç§ä¸åŒç±»å‹çš„åº”ç”¨ç¨‹åºã€‚ nest ç›®å‰æœ‰ä¸¤ä¸ªæ”¯æŒå¼€ç®±å³ç”¨çš„ HTTP å¹³å°ï¼šexpress å’Œ fastify å¯ä»¥åœ¨é¡¹ç›®ä¸­ç›´æ¥å¼•å…¥ã€‚\n\næ—¢ç„¶é€‰æ‹©`Nest`ä½œä¸ºæœåŠ¡ç«¯çš„å¼€å‘è¯­è¨€ï¼Œé‚£ä¹ˆå°±è¦ç®€å•çš„å­¦ä¹ å…¶åŸºç¡€çŸ¥è¯†ï¼›å¥½åœ¨ä¹‹å‰æ¥è§¦è¿‡`Node`å¼€å‘ç»éªŒï¼Œé‚£ä¸Šæ‰‹å®è·µå°±å¯ä»¥äº†ï¼›\n\nå…³äºå¦‚ä½•åˆ›å»ºé¡¹ç›®ï¼Œå‘½ä»¤è¡Œå°±åœ¨è¿™é‡Œä¸ä»‹ç»äº†ï¼›åƒå‰ç«¯çš„å‘½ä»¤è¡ŒåŸºæœ¬éƒ½æ˜¯ä¸€è‡´çš„ï¼›\n\né¡¹ç›®æ–‡ä»¶çš„ä»‹ç»åœ¨å®˜ç½‘æŸ¥é˜…ï¼› [Nest](https://nestjs.com/)\n\n## å…¥å£æ–‡ä»¶ä»¥åŠé¡¹ç›®å¯åŠ¨\n\næœ‰ä¸€ä¸ªé¡¹ç›®å…¥å£æ–‡ä»¶ï¼Œmain.tsï¼›é€šè¿‡å†…ç½®å‘½ä»¤åˆ›å»ºä¸€ä¸ªç«¯å£ 3000 çš„æœåŠ¡ï¼Œè€Œå¼•å…¥çš„ module æ–‡ä»¶æŒ‡å‘å¯¹äºé¡¹ç›®æ–‡ä»¶çš„ module æ–‡ä»¶ï¼›å¦‚ä¸‹ä»£ç \n\n```ts\nimport { Module } from \"@nestjs/common\";\nimport { AppController, UserController } from \"./app.controller\";\n// è¿™é‡Œæ˜¯æˆ‘è‡ªå®šä¹‰å†™äº†ä¸€ä¸ªç®€å•çš„æ§åˆ¶å™¨\nimport { UserService } from \"./app.user\";\nimport { AppService } from \"./app.service\";\n\n@Module({\n\timports: [],\n\t// å¼•å…¥controlleræ§åˆ¶å™¨\n\tcontrollers: [AppController, UserController],\n\t// å¼•å…¥æŒ‡å‘controlleræ§åˆ¶å™¨çš„æ–¹æ³•\n\tproviders: [AppService, UserService],\n})\n// å¯¼å‡º æ–¹ä¾¿åœ¨main.js è°ƒç”¨\nexport class AppModule {}\n```\n\nä¸Šé¢ä»£ç ä¸­å¼•å…¥çš„æ¨¡å—æ˜¯ä»¥æ•°ç»„çš„å½¢å¼å­˜åœ¨çš„ï¼Œå¯ä»¥å¼•å…¥ä¸åŒçš„æ§åˆ¶å™¨ï¼›\n\nå½“ç„¶æˆ‘ä»¬åœ¨æ–°å»ºä¸€ä¸ªæ–°çš„æ§åˆ¶å™¨ï¼Œç›®çš„æ˜¯ä¸ºäº†æŸ¥è¯¢æ•°æ®åº“é‡Œçš„ç”¨æˆ·ä¿¡æ¯ï¼›\n\n```ts\n// app.controller.ts\n@Controller(\"user\")\nexport class UserController {\n\t// æŒ‡å‘çš„UserServiceç±»\n\tconstructor(private readonly userService: UserService) {}\n\n\t@Get(\"findOne\")\n\t// è¿™ä¸ªæ¥å£éœ€è¦æ¥å—çš„å‚æ•°\n\tfindUser(@Query() query: any) {\n\t\treturn this.userService.findAll(query.id);\n\t}\n}\n\n// app.user.ts\nimport { Injectable } from \"@nestjs/common\";\n\n@Injectable()\nexport class UserService {\n\t// æ¥å—id\n\tfindAll(sid: string): string {\n\t\tconsole.log(sid);\n\t\tif (sid === \"123456\") {\n\t\t\treturn \"123456\";\n\t\t}\n\n\t\treturn \"not 123456\";\n\t}\n}\n```\n\nç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œ åæœŸç­‰ç”¨åˆ°çœŸæ­£å¼€å‘çš„æ—¶å€™å…·ä½“è¯´æ˜ï¼› ä»…ä»…åšä¸€ä¸ªæ–‡æ¡£è®°å½•çœ‹æ³•ï¼›\n\nä¹‹åçš„æ–‡ç« ï¼Œæˆ‘å°†ä¼šæ€»ç»“ä¸€äº›`Nest`çš„æ¦‚å¿µï¼Œä»¥åŠä¸€äº›`Nest`çš„å®è·µï¼›\n\n- `Nest`è¿‡æ»¤å™¨ï¼Œå°†ä¸€äº›é”™è¯¯æ‹¦æˆªç»Ÿä¸€è¿”å›ç»“æœ\n- `Nest`ç®¡é“ï¼Œå°†ä¸€äº›å‚æ•°æ‹¦æˆªç»Ÿä¸€è¿”å›ç»“æœ, ç»Ÿä¸€å¤„ç†å‚æ•°;\n- `æ•°æ®åº“å‚æ•°`æ‹¦æˆªï¼Œæ‘’å¼ƒä¹‹å‰ä¼ ç»Ÿçš„`if`åˆ¤æ–­ï¼›\n- ç™»å½•ï¼Œæƒé™æ‹¦æˆª\n","source":"_posts/æŠ€èƒ½å°å†Œ/Nest/åˆè¯†.md","raw":"---\ntitle: Nest-åˆè¯† Nest\nabbrlink: 7dbeaed2\ndate: 2024-11-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Nest\n---\n\n`Nest`æ˜¯ä»€ä¹ˆï¼Ÿ`Nest`æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºé«˜æ•ˆä¸”å¯ä¼¸ç¼©çš„æœåŠ¡ç«¯åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚æ˜æ˜éƒ½å·²ç»æœ‰äº†`node`ä¸ºä»€ä¹ˆè¿˜è¦æå…¶ä»–çš„å‘¢ï¼Ÿ\n\nèµ·åˆ`Node`æ˜¯ä½œä¸ºæœåŠ¡ç«¯åº”ç”¨çš„ï¼Œæœ€ç†Ÿæ‚‰çš„ä¸€ä¸ªé¡¹ç›®å°±æ˜¯`Nodeç¤¾åŒº`ï¼Œå®ƒçš„æºç å°±æ˜¯ç”¨çš„`Node + mongodb`ï¼Œå¯ä»¥è¯´`Node`å°±æ˜¯`Nodeç¤¾åŒº`çš„çµé­‚ã€‚\n\n`Nodeç¤¾åŒº`ä¹Ÿæ˜¯åœ¨`node`ä¸Šæ˜™èŠ±ä¸€ç°ï¼Œä¹Ÿæ˜¯æŠŠ`Node`å‘æŒ¥åˆ°äº†æœ€å¤§çš„æè‡´ï¼›\n\nä½†æ˜¯è¯´äº†è¿™ä¹ˆå¤šï¼Œä¸ºä»€ä¹ˆè¦å’Œ`Nest`è”ç³»åˆ°ä¸€èµ·å‘¢ï¼Ÿ\n\n1. é¦–å…ˆï¼Œ`Nest`æ˜¯åœ¨`Node, Express`åŸºç¡€ä¸Šæ‰©å±•çš„ï¼ŒåŠŸèƒ½è¦æ¯”åŸæœ‰çš„ä¸°å¯Œçš„å¾ˆå¤šï¼›\n2. `Nest`ä½œä¸ºå‰ç«¯ä¸­çš„åç«¯ï¼Œä½†æ˜¯è¯­æ³•ä¸Šé¢è‚¯å®šè¦ç±»ä¼¼äºçº¯åç«¯ï¼Œå€¼å¾—ä¸€æçš„æ˜¯`Nest`æ˜¯`ts`å¼€å‘çš„ï¼Œé‚£ä¹ˆåœ¨å®šä¹‰æ¥å£å‚æ•°çš„æ—¶å€™ï¼Œ`Nest`æä¾›äº†`DTO`çš„æ¦‚å¿µï¼Œ`DTO`æ˜¯`Data Transfer Object`çš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯æ•°æ®ä¼ è¾“å¯¹è±¡ï¼›\n3. `Nest`åœ¨ä½¿ç”¨æ•°æ®åº“çš„æ—¶å€™ï¼Œ`Nest`æä¾›äº†`TypeORM`çš„æ¦‚å¿µï¼Œ`TypeORM`æ˜¯`TypeScript`çš„`ORM`æ¡†æ¶ï¼Œ`TypeORM`æ˜¯`Node`ä¸­éå¸¸æµè¡Œçš„`ORM`æ¡†æ¶ï¼Œ`Nest`ä½¿ç”¨`TypeORM`ä½œä¸ºé»˜è®¤çš„`ORM`æ¡†æ¶ï¼Œ`Nest`æä¾›äº†`TypeORM`çš„å°è£…ï¼Œä½¿å¾—`Nest`çš„`ORM`æ“ä½œæ›´åŠ ç®€å•ï¼›\n4. `Nest`æ˜¯ä¸ºäº†æ„å»ºé«˜æ•ˆå¯æ‰©å±•çš„ Nodejs æœåŠ¡ç«¯çš„åº”ç”¨æ¡†æ¶ï¼Œå†…ç½®å®Œå…¨æ”¯æŒ tsï¼›\n5. `Nest` æ¡†æ¶åº•å±‚ HTTP å¹³å°é»˜è®¤æ˜¯åŸºäº Express å®ç°çš„ï¼Œæ‰€ä»¥æ— éœ€æ‹…å¿ƒç¬¬ä¸‰æ–¹åº“çš„ç¼ºå¤±ã€‚ Nest æ—¨åœ¨æˆä¸ºä¸€ä¸ªä¸å¹³å°æ— å…³çš„æ¡†æ¶ã€‚ é€šè¿‡å¹³å°ï¼Œå¯ä»¥åˆ›å»ºå¯é‡ç”¨çš„é€»è¾‘éƒ¨ä»¶ï¼Œå¼€å‘äººå‘˜å¯ä»¥åˆ©ç”¨è¿™äº›éƒ¨ä»¶æ¥è·¨è¶Šå¤šç§ä¸åŒç±»å‹çš„åº”ç”¨ç¨‹åºã€‚ nest ç›®å‰æœ‰ä¸¤ä¸ªæ”¯æŒå¼€ç®±å³ç”¨çš„ HTTP å¹³å°ï¼šexpress å’Œ fastify å¯ä»¥åœ¨é¡¹ç›®ä¸­ç›´æ¥å¼•å…¥ã€‚\n\næ—¢ç„¶é€‰æ‹©`Nest`ä½œä¸ºæœåŠ¡ç«¯çš„å¼€å‘è¯­è¨€ï¼Œé‚£ä¹ˆå°±è¦ç®€å•çš„å­¦ä¹ å…¶åŸºç¡€çŸ¥è¯†ï¼›å¥½åœ¨ä¹‹å‰æ¥è§¦è¿‡`Node`å¼€å‘ç»éªŒï¼Œé‚£ä¸Šæ‰‹å®è·µå°±å¯ä»¥äº†ï¼›\n\nå…³äºå¦‚ä½•åˆ›å»ºé¡¹ç›®ï¼Œå‘½ä»¤è¡Œå°±åœ¨è¿™é‡Œä¸ä»‹ç»äº†ï¼›åƒå‰ç«¯çš„å‘½ä»¤è¡ŒåŸºæœ¬éƒ½æ˜¯ä¸€è‡´çš„ï¼›\n\né¡¹ç›®æ–‡ä»¶çš„ä»‹ç»åœ¨å®˜ç½‘æŸ¥é˜…ï¼› [Nest](https://nestjs.com/)\n\n## å…¥å£æ–‡ä»¶ä»¥åŠé¡¹ç›®å¯åŠ¨\n\næœ‰ä¸€ä¸ªé¡¹ç›®å…¥å£æ–‡ä»¶ï¼Œmain.tsï¼›é€šè¿‡å†…ç½®å‘½ä»¤åˆ›å»ºä¸€ä¸ªç«¯å£ 3000 çš„æœåŠ¡ï¼Œè€Œå¼•å…¥çš„ module æ–‡ä»¶æŒ‡å‘å¯¹äºé¡¹ç›®æ–‡ä»¶çš„ module æ–‡ä»¶ï¼›å¦‚ä¸‹ä»£ç \n\n```ts\nimport { Module } from \"@nestjs/common\";\nimport { AppController, UserController } from \"./app.controller\";\n// è¿™é‡Œæ˜¯æˆ‘è‡ªå®šä¹‰å†™äº†ä¸€ä¸ªç®€å•çš„æ§åˆ¶å™¨\nimport { UserService } from \"./app.user\";\nimport { AppService } from \"./app.service\";\n\n@Module({\n\timports: [],\n\t// å¼•å…¥controlleræ§åˆ¶å™¨\n\tcontrollers: [AppController, UserController],\n\t// å¼•å…¥æŒ‡å‘controlleræ§åˆ¶å™¨çš„æ–¹æ³•\n\tproviders: [AppService, UserService],\n})\n// å¯¼å‡º æ–¹ä¾¿åœ¨main.js è°ƒç”¨\nexport class AppModule {}\n```\n\nä¸Šé¢ä»£ç ä¸­å¼•å…¥çš„æ¨¡å—æ˜¯ä»¥æ•°ç»„çš„å½¢å¼å­˜åœ¨çš„ï¼Œå¯ä»¥å¼•å…¥ä¸åŒçš„æ§åˆ¶å™¨ï¼›\n\nå½“ç„¶æˆ‘ä»¬åœ¨æ–°å»ºä¸€ä¸ªæ–°çš„æ§åˆ¶å™¨ï¼Œç›®çš„æ˜¯ä¸ºäº†æŸ¥è¯¢æ•°æ®åº“é‡Œçš„ç”¨æˆ·ä¿¡æ¯ï¼›\n\n```ts\n// app.controller.ts\n@Controller(\"user\")\nexport class UserController {\n\t// æŒ‡å‘çš„UserServiceç±»\n\tconstructor(private readonly userService: UserService) {}\n\n\t@Get(\"findOne\")\n\t// è¿™ä¸ªæ¥å£éœ€è¦æ¥å—çš„å‚æ•°\n\tfindUser(@Query() query: any) {\n\t\treturn this.userService.findAll(query.id);\n\t}\n}\n\n// app.user.ts\nimport { Injectable } from \"@nestjs/common\";\n\n@Injectable()\nexport class UserService {\n\t// æ¥å—id\n\tfindAll(sid: string): string {\n\t\tconsole.log(sid);\n\t\tif (sid === \"123456\") {\n\t\t\treturn \"123456\";\n\t\t}\n\n\t\treturn \"not 123456\";\n\t}\n}\n```\n\nç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œ åæœŸç­‰ç”¨åˆ°çœŸæ­£å¼€å‘çš„æ—¶å€™å…·ä½“è¯´æ˜ï¼› ä»…ä»…åšä¸€ä¸ªæ–‡æ¡£è®°å½•çœ‹æ³•ï¼›\n\nä¹‹åçš„æ–‡ç« ï¼Œæˆ‘å°†ä¼šæ€»ç»“ä¸€äº›`Nest`çš„æ¦‚å¿µï¼Œä»¥åŠä¸€äº›`Nest`çš„å®è·µï¼›\n\n- `Nest`è¿‡æ»¤å™¨ï¼Œå°†ä¸€äº›é”™è¯¯æ‹¦æˆªç»Ÿä¸€è¿”å›ç»“æœ\n- `Nest`ç®¡é“ï¼Œå°†ä¸€äº›å‚æ•°æ‹¦æˆªç»Ÿä¸€è¿”å›ç»“æœ, ç»Ÿä¸€å¤„ç†å‚æ•°;\n- `æ•°æ®åº“å‚æ•°`æ‹¦æˆªï¼Œæ‘’å¼ƒä¹‹å‰ä¼ ç»Ÿçš„`if`åˆ¤æ–­ï¼›\n- ç™»å½•ï¼Œæƒé™æ‹¦æˆª\n","slug":"æŠ€èƒ½å°å†Œ/Nest/åˆè¯†","published":1,"updated":"2025-03-12T09:44:25.558Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iy003afg9mdo05f5oh","content":"<p><code>Nest</code>æ˜¯ä»€ä¹ˆï¼Ÿ<code>Nest</code>æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºé«˜æ•ˆä¸”å¯ä¼¸ç¼©çš„æœåŠ¡ç«¯åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚æ˜æ˜éƒ½å·²ç»æœ‰äº†<code>node</code>ä¸ºä»€ä¹ˆè¿˜è¦æå…¶ä»–çš„å‘¢ï¼Ÿ</p>\n<p>èµ·åˆ<code>Node</code>æ˜¯ä½œä¸ºæœåŠ¡ç«¯åº”ç”¨çš„ï¼Œæœ€ç†Ÿæ‚‰çš„ä¸€ä¸ªé¡¹ç›®å°±æ˜¯<code>Nodeç¤¾åŒº</code>ï¼Œå®ƒçš„æºç å°±æ˜¯ç”¨çš„<code>Node + mongodb</code>ï¼Œå¯ä»¥è¯´<code>Node</code>å°±æ˜¯<code>Nodeç¤¾åŒº</code>çš„çµé­‚ã€‚</p>\n<p><code>Nodeç¤¾åŒº</code>ä¹Ÿæ˜¯åœ¨<code>node</code>ä¸Šæ˜™èŠ±ä¸€ç°ï¼Œä¹Ÿæ˜¯æŠŠ<code>Node</code>å‘æŒ¥åˆ°äº†æœ€å¤§çš„æè‡´ï¼›</p>\n<p>ä½†æ˜¯è¯´äº†è¿™ä¹ˆå¤šï¼Œä¸ºä»€ä¹ˆè¦å’Œ<code>Nest</code>è”ç³»åˆ°ä¸€èµ·å‘¢ï¼Ÿ</p>\n<ol>\n<li>é¦–å…ˆï¼Œ<code>Nest</code>æ˜¯åœ¨<code>Node, Express</code>åŸºç¡€ä¸Šæ‰©å±•çš„ï¼ŒåŠŸèƒ½è¦æ¯”åŸæœ‰çš„ä¸°å¯Œçš„å¾ˆå¤šï¼›</li>\n<li><code>Nest</code>ä½œä¸ºå‰ç«¯ä¸­çš„åç«¯ï¼Œä½†æ˜¯è¯­æ³•ä¸Šé¢è‚¯å®šè¦ç±»ä¼¼äºçº¯åç«¯ï¼Œå€¼å¾—ä¸€æçš„æ˜¯<code>Nest</code>æ˜¯<code>ts</code>å¼€å‘çš„ï¼Œé‚£ä¹ˆåœ¨å®šä¹‰æ¥å£å‚æ•°çš„æ—¶å€™ï¼Œ<code>Nest</code>æä¾›äº†<code>DTO</code>çš„æ¦‚å¿µï¼Œ<code>DTO</code>æ˜¯<code>Data Transfer Object</code>çš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯æ•°æ®ä¼ è¾“å¯¹è±¡ï¼›</li>\n<li><code>Nest</code>åœ¨ä½¿ç”¨æ•°æ®åº“çš„æ—¶å€™ï¼Œ<code>Nest</code>æä¾›äº†<code>TypeORM</code>çš„æ¦‚å¿µï¼Œ<code>TypeORM</code>æ˜¯<code>TypeScript</code>çš„<code>ORM</code>æ¡†æ¶ï¼Œ<code>TypeORM</code>æ˜¯<code>Node</code>ä¸­éå¸¸æµè¡Œçš„<code>ORM</code>æ¡†æ¶ï¼Œ<code>Nest</code>ä½¿ç”¨<code>TypeORM</code>ä½œä¸ºé»˜è®¤çš„<code>ORM</code>æ¡†æ¶ï¼Œ<code>Nest</code>æä¾›äº†<code>TypeORM</code>çš„å°è£…ï¼Œä½¿å¾—<code>Nest</code>çš„<code>ORM</code>æ“ä½œæ›´åŠ ç®€å•ï¼›</li>\n<li><code>Nest</code>æ˜¯ä¸ºäº†æ„å»ºé«˜æ•ˆå¯æ‰©å±•çš„ Nodejs æœåŠ¡ç«¯çš„åº”ç”¨æ¡†æ¶ï¼Œå†…ç½®å®Œå…¨æ”¯æŒ tsï¼›</li>\n<li><code>Nest</code> æ¡†æ¶åº•å±‚ HTTP å¹³å°é»˜è®¤æ˜¯åŸºäº Express å®ç°çš„ï¼Œæ‰€ä»¥æ— éœ€æ‹…å¿ƒç¬¬ä¸‰æ–¹åº“çš„ç¼ºå¤±ã€‚ Nest æ—¨åœ¨æˆä¸ºä¸€ä¸ªä¸å¹³å°æ— å…³çš„æ¡†æ¶ã€‚ é€šè¿‡å¹³å°ï¼Œå¯ä»¥åˆ›å»ºå¯é‡ç”¨çš„é€»è¾‘éƒ¨ä»¶ï¼Œå¼€å‘äººå‘˜å¯ä»¥åˆ©ç”¨è¿™äº›éƒ¨ä»¶æ¥è·¨è¶Šå¤šç§ä¸åŒç±»å‹çš„åº”ç”¨ç¨‹åºã€‚ nest ç›®å‰æœ‰ä¸¤ä¸ªæ”¯æŒå¼€ç®±å³ç”¨çš„ HTTP å¹³å°ï¼šexpress å’Œ fastify å¯ä»¥åœ¨é¡¹ç›®ä¸­ç›´æ¥å¼•å…¥ã€‚</li>\n</ol>\n<p>æ—¢ç„¶é€‰æ‹©<code>Nest</code>ä½œä¸ºæœåŠ¡ç«¯çš„å¼€å‘è¯­è¨€ï¼Œé‚£ä¹ˆå°±è¦ç®€å•çš„å­¦ä¹ å…¶åŸºç¡€çŸ¥è¯†ï¼›å¥½åœ¨ä¹‹å‰æ¥è§¦è¿‡<code>Node</code>å¼€å‘ç»éªŒï¼Œé‚£ä¸Šæ‰‹å®è·µå°±å¯ä»¥äº†ï¼›</p>\n<p>å…³äºå¦‚ä½•åˆ›å»ºé¡¹ç›®ï¼Œå‘½ä»¤è¡Œå°±åœ¨è¿™é‡Œä¸ä»‹ç»äº†ï¼›åƒå‰ç«¯çš„å‘½ä»¤è¡ŒåŸºæœ¬éƒ½æ˜¯ä¸€è‡´çš„ï¼›</p>\n<p>é¡¹ç›®æ–‡ä»¶çš„ä»‹ç»åœ¨å®˜ç½‘æŸ¥é˜…ï¼› <a href=\"https://nestjs.com/\">Nest</a></p>\n<h2 id=\"å…¥å£æ–‡ä»¶ä»¥åŠé¡¹ç›®å¯åŠ¨\"><a href=\"#å…¥å£æ–‡ä»¶ä»¥åŠé¡¹ç›®å¯åŠ¨\" class=\"headerlink\" title=\"å…¥å£æ–‡ä»¶ä»¥åŠé¡¹ç›®å¯åŠ¨\"></a>å…¥å£æ–‡ä»¶ä»¥åŠé¡¹ç›®å¯åŠ¨</h2><p>æœ‰ä¸€ä¸ªé¡¹ç›®å…¥å£æ–‡ä»¶ï¼Œmain.tsï¼›é€šè¿‡å†…ç½®å‘½ä»¤åˆ›å»ºä¸€ä¸ªç«¯å£ 3000 çš„æœåŠ¡ï¼Œè€Œå¼•å…¥çš„ module æ–‡ä»¶æŒ‡å‘å¯¹äºé¡¹ç›®æ–‡ä»¶çš„ module æ–‡ä»¶ï¼›å¦‚ä¸‹ä»£ç </p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Module</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">AppController</span>, <span class=\"title class_\">UserController</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./app.controller&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// è¿™é‡Œæ˜¯æˆ‘è‡ªå®šä¹‰å†™äº†ä¸€ä¸ªç®€å•çš„æ§åˆ¶å™¨</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">UserService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./app.user&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">AppService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./app.service&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">imports</span>: [],</span><br><span class=\"line\">\t<span class=\"comment\">// å¼•å…¥controlleræ§åˆ¶å™¨</span></span><br><span class=\"line\">\t<span class=\"attr\">controllers</span>: [<span class=\"title class_\">AppController</span>, <span class=\"title class_\">UserController</span>],</span><br><span class=\"line\">\t<span class=\"comment\">// å¼•å…¥æŒ‡å‘controlleræ§åˆ¶å™¨çš„æ–¹æ³•</span></span><br><span class=\"line\">\t<span class=\"attr\">providers</span>: [<span class=\"title class_\">AppService</span>, <span class=\"title class_\">UserService</span>],</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">// å¯¼å‡º æ–¹ä¾¿åœ¨main.js è°ƒç”¨</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AppModule</span> &#123;&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢ä»£ç ä¸­å¼•å…¥çš„æ¨¡å—æ˜¯ä»¥æ•°ç»„çš„å½¢å¼å­˜åœ¨çš„ï¼Œå¯ä»¥å¼•å…¥ä¸åŒçš„æ§åˆ¶å™¨ï¼›</p>\n<p>å½“ç„¶æˆ‘ä»¬åœ¨æ–°å»ºä¸€ä¸ªæ–°çš„æ§åˆ¶å™¨ï¼Œç›®çš„æ˜¯ä¸ºäº†æŸ¥è¯¢æ•°æ®åº“é‡Œçš„ç”¨æˆ·ä¿¡æ¯ï¼›</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// app.controller.ts</span></span><br><span class=\"line\"><span class=\"meta\">@Controller</span>(<span class=\"string\">&quot;user&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserController</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æŒ‡å‘çš„UserServiceç±»</span></span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">userService</span>: <span class=\"title class_\">UserService</span></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Get</span>(<span class=\"string\">&quot;findOne&quot;</span>)</span><br><span class=\"line\">\t<span class=\"comment\">// è¿™ä¸ªæ¥å£éœ€è¦æ¥å—çš„å‚æ•°</span></span><br><span class=\"line\">\t<span class=\"title function_\">findUser</span>(<span class=\"params\"><span class=\"meta\">@Query</span>() <span class=\"attr\">query</span>: <span class=\"built_in\">any</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">userService</span>.<span class=\"title function_\">findAll</span>(query.<span class=\"property\">id</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// app.user.ts</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Injectable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserService</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æ¥å—id</span></span><br><span class=\"line\">\t<span class=\"title function_\">findAll</span>(<span class=\"attr\">sid</span>: <span class=\"built_in\">string</span>): <span class=\"built_in\">string</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(sid);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (sid === <span class=\"string\">&quot;123456&quot;</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;123456&quot;</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;not 123456&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œ åæœŸç­‰ç”¨åˆ°çœŸæ­£å¼€å‘çš„æ—¶å€™å…·ä½“è¯´æ˜ï¼› ä»…ä»…åšä¸€ä¸ªæ–‡æ¡£è®°å½•çœ‹æ³•ï¼›</p>\n<p>ä¹‹åçš„æ–‡ç« ï¼Œæˆ‘å°†ä¼šæ€»ç»“ä¸€äº›<code>Nest</code>çš„æ¦‚å¿µï¼Œä»¥åŠä¸€äº›<code>Nest</code>çš„å®è·µï¼›</p>\n<ul>\n<li><code>Nest</code>è¿‡æ»¤å™¨ï¼Œå°†ä¸€äº›é”™è¯¯æ‹¦æˆªç»Ÿä¸€è¿”å›ç»“æœ</li>\n<li><code>Nest</code>ç®¡é“ï¼Œå°†ä¸€äº›å‚æ•°æ‹¦æˆªç»Ÿä¸€è¿”å›ç»“æœ, ç»Ÿä¸€å¤„ç†å‚æ•°;</li>\n<li><code>æ•°æ®åº“å‚æ•°</code>æ‹¦æˆªï¼Œæ‘’å¼ƒä¹‹å‰ä¼ ç»Ÿçš„<code>if</code>åˆ¤æ–­ï¼›</li>\n<li>ç™»å½•ï¼Œæƒé™æ‹¦æˆª</li>\n</ul>\n","excerpt":"","more":"<p><code>Nest</code>æ˜¯ä»€ä¹ˆï¼Ÿ<code>Nest</code>æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºé«˜æ•ˆä¸”å¯ä¼¸ç¼©çš„æœåŠ¡ç«¯åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚æ˜æ˜éƒ½å·²ç»æœ‰äº†<code>node</code>ä¸ºä»€ä¹ˆè¿˜è¦æå…¶ä»–çš„å‘¢ï¼Ÿ</p>\n<p>èµ·åˆ<code>Node</code>æ˜¯ä½œä¸ºæœåŠ¡ç«¯åº”ç”¨çš„ï¼Œæœ€ç†Ÿæ‚‰çš„ä¸€ä¸ªé¡¹ç›®å°±æ˜¯<code>Nodeç¤¾åŒº</code>ï¼Œå®ƒçš„æºç å°±æ˜¯ç”¨çš„<code>Node + mongodb</code>ï¼Œå¯ä»¥è¯´<code>Node</code>å°±æ˜¯<code>Nodeç¤¾åŒº</code>çš„çµé­‚ã€‚</p>\n<p><code>Nodeç¤¾åŒº</code>ä¹Ÿæ˜¯åœ¨<code>node</code>ä¸Šæ˜™èŠ±ä¸€ç°ï¼Œä¹Ÿæ˜¯æŠŠ<code>Node</code>å‘æŒ¥åˆ°äº†æœ€å¤§çš„æè‡´ï¼›</p>\n<p>ä½†æ˜¯è¯´äº†è¿™ä¹ˆå¤šï¼Œä¸ºä»€ä¹ˆè¦å’Œ<code>Nest</code>è”ç³»åˆ°ä¸€èµ·å‘¢ï¼Ÿ</p>\n<ol>\n<li>é¦–å…ˆï¼Œ<code>Nest</code>æ˜¯åœ¨<code>Node, Express</code>åŸºç¡€ä¸Šæ‰©å±•çš„ï¼ŒåŠŸèƒ½è¦æ¯”åŸæœ‰çš„ä¸°å¯Œçš„å¾ˆå¤šï¼›</li>\n<li><code>Nest</code>ä½œä¸ºå‰ç«¯ä¸­çš„åç«¯ï¼Œä½†æ˜¯è¯­æ³•ä¸Šé¢è‚¯å®šè¦ç±»ä¼¼äºçº¯åç«¯ï¼Œå€¼å¾—ä¸€æçš„æ˜¯<code>Nest</code>æ˜¯<code>ts</code>å¼€å‘çš„ï¼Œé‚£ä¹ˆåœ¨å®šä¹‰æ¥å£å‚æ•°çš„æ—¶å€™ï¼Œ<code>Nest</code>æä¾›äº†<code>DTO</code>çš„æ¦‚å¿µï¼Œ<code>DTO</code>æ˜¯<code>Data Transfer Object</code>çš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯æ•°æ®ä¼ è¾“å¯¹è±¡ï¼›</li>\n<li><code>Nest</code>åœ¨ä½¿ç”¨æ•°æ®åº“çš„æ—¶å€™ï¼Œ<code>Nest</code>æä¾›äº†<code>TypeORM</code>çš„æ¦‚å¿µï¼Œ<code>TypeORM</code>æ˜¯<code>TypeScript</code>çš„<code>ORM</code>æ¡†æ¶ï¼Œ<code>TypeORM</code>æ˜¯<code>Node</code>ä¸­éå¸¸æµè¡Œçš„<code>ORM</code>æ¡†æ¶ï¼Œ<code>Nest</code>ä½¿ç”¨<code>TypeORM</code>ä½œä¸ºé»˜è®¤çš„<code>ORM</code>æ¡†æ¶ï¼Œ<code>Nest</code>æä¾›äº†<code>TypeORM</code>çš„å°è£…ï¼Œä½¿å¾—<code>Nest</code>çš„<code>ORM</code>æ“ä½œæ›´åŠ ç®€å•ï¼›</li>\n<li><code>Nest</code>æ˜¯ä¸ºäº†æ„å»ºé«˜æ•ˆå¯æ‰©å±•çš„ Nodejs æœåŠ¡ç«¯çš„åº”ç”¨æ¡†æ¶ï¼Œå†…ç½®å®Œå…¨æ”¯æŒ tsï¼›</li>\n<li><code>Nest</code> æ¡†æ¶åº•å±‚ HTTP å¹³å°é»˜è®¤æ˜¯åŸºäº Express å®ç°çš„ï¼Œæ‰€ä»¥æ— éœ€æ‹…å¿ƒç¬¬ä¸‰æ–¹åº“çš„ç¼ºå¤±ã€‚ Nest æ—¨åœ¨æˆä¸ºä¸€ä¸ªä¸å¹³å°æ— å…³çš„æ¡†æ¶ã€‚ é€šè¿‡å¹³å°ï¼Œå¯ä»¥åˆ›å»ºå¯é‡ç”¨çš„é€»è¾‘éƒ¨ä»¶ï¼Œå¼€å‘äººå‘˜å¯ä»¥åˆ©ç”¨è¿™äº›éƒ¨ä»¶æ¥è·¨è¶Šå¤šç§ä¸åŒç±»å‹çš„åº”ç”¨ç¨‹åºã€‚ nest ç›®å‰æœ‰ä¸¤ä¸ªæ”¯æŒå¼€ç®±å³ç”¨çš„ HTTP å¹³å°ï¼šexpress å’Œ fastify å¯ä»¥åœ¨é¡¹ç›®ä¸­ç›´æ¥å¼•å…¥ã€‚</li>\n</ol>\n<p>æ—¢ç„¶é€‰æ‹©<code>Nest</code>ä½œä¸ºæœåŠ¡ç«¯çš„å¼€å‘è¯­è¨€ï¼Œé‚£ä¹ˆå°±è¦ç®€å•çš„å­¦ä¹ å…¶åŸºç¡€çŸ¥è¯†ï¼›å¥½åœ¨ä¹‹å‰æ¥è§¦è¿‡<code>Node</code>å¼€å‘ç»éªŒï¼Œé‚£ä¸Šæ‰‹å®è·µå°±å¯ä»¥äº†ï¼›</p>\n<p>å…³äºå¦‚ä½•åˆ›å»ºé¡¹ç›®ï¼Œå‘½ä»¤è¡Œå°±åœ¨è¿™é‡Œä¸ä»‹ç»äº†ï¼›åƒå‰ç«¯çš„å‘½ä»¤è¡ŒåŸºæœ¬éƒ½æ˜¯ä¸€è‡´çš„ï¼›</p>\n<p>é¡¹ç›®æ–‡ä»¶çš„ä»‹ç»åœ¨å®˜ç½‘æŸ¥é˜…ï¼› <a href=\"https://nestjs.com/\">Nest</a></p>\n<h2 id=\"å…¥å£æ–‡ä»¶ä»¥åŠé¡¹ç›®å¯åŠ¨\"><a href=\"#å…¥å£æ–‡ä»¶ä»¥åŠé¡¹ç›®å¯åŠ¨\" class=\"headerlink\" title=\"å…¥å£æ–‡ä»¶ä»¥åŠé¡¹ç›®å¯åŠ¨\"></a>å…¥å£æ–‡ä»¶ä»¥åŠé¡¹ç›®å¯åŠ¨</h2><p>æœ‰ä¸€ä¸ªé¡¹ç›®å…¥å£æ–‡ä»¶ï¼Œmain.tsï¼›é€šè¿‡å†…ç½®å‘½ä»¤åˆ›å»ºä¸€ä¸ªç«¯å£ 3000 çš„æœåŠ¡ï¼Œè€Œå¼•å…¥çš„ module æ–‡ä»¶æŒ‡å‘å¯¹äºé¡¹ç›®æ–‡ä»¶çš„ module æ–‡ä»¶ï¼›å¦‚ä¸‹ä»£ç </p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Module</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">AppController</span>, <span class=\"title class_\">UserController</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./app.controller&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// è¿™é‡Œæ˜¯æˆ‘è‡ªå®šä¹‰å†™äº†ä¸€ä¸ªç®€å•çš„æ§åˆ¶å™¨</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">UserService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./app.user&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">AppService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./app.service&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">imports</span>: [],</span><br><span class=\"line\">\t<span class=\"comment\">// å¼•å…¥controlleræ§åˆ¶å™¨</span></span><br><span class=\"line\">\t<span class=\"attr\">controllers</span>: [<span class=\"title class_\">AppController</span>, <span class=\"title class_\">UserController</span>],</span><br><span class=\"line\">\t<span class=\"comment\">// å¼•å…¥æŒ‡å‘controlleræ§åˆ¶å™¨çš„æ–¹æ³•</span></span><br><span class=\"line\">\t<span class=\"attr\">providers</span>: [<span class=\"title class_\">AppService</span>, <span class=\"title class_\">UserService</span>],</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">// å¯¼å‡º æ–¹ä¾¿åœ¨main.js è°ƒç”¨</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AppModule</span> &#123;&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢ä»£ç ä¸­å¼•å…¥çš„æ¨¡å—æ˜¯ä»¥æ•°ç»„çš„å½¢å¼å­˜åœ¨çš„ï¼Œå¯ä»¥å¼•å…¥ä¸åŒçš„æ§åˆ¶å™¨ï¼›</p>\n<p>å½“ç„¶æˆ‘ä»¬åœ¨æ–°å»ºä¸€ä¸ªæ–°çš„æ§åˆ¶å™¨ï¼Œç›®çš„æ˜¯ä¸ºäº†æŸ¥è¯¢æ•°æ®åº“é‡Œçš„ç”¨æˆ·ä¿¡æ¯ï¼›</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// app.controller.ts</span></span><br><span class=\"line\"><span class=\"meta\">@Controller</span>(<span class=\"string\">&quot;user&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserController</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æŒ‡å‘çš„UserServiceç±»</span></span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">userService</span>: <span class=\"title class_\">UserService</span></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Get</span>(<span class=\"string\">&quot;findOne&quot;</span>)</span><br><span class=\"line\">\t<span class=\"comment\">// è¿™ä¸ªæ¥å£éœ€è¦æ¥å—çš„å‚æ•°</span></span><br><span class=\"line\">\t<span class=\"title function_\">findUser</span>(<span class=\"params\"><span class=\"meta\">@Query</span>() <span class=\"attr\">query</span>: <span class=\"built_in\">any</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">userService</span>.<span class=\"title function_\">findAll</span>(query.<span class=\"property\">id</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// app.user.ts</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Injectable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserService</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æ¥å—id</span></span><br><span class=\"line\">\t<span class=\"title function_\">findAll</span>(<span class=\"attr\">sid</span>: <span class=\"built_in\">string</span>): <span class=\"built_in\">string</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(sid);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (sid === <span class=\"string\">&quot;123456&quot;</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;123456&quot;</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;not 123456&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œ åæœŸç­‰ç”¨åˆ°çœŸæ­£å¼€å‘çš„æ—¶å€™å…·ä½“è¯´æ˜ï¼› ä»…ä»…åšä¸€ä¸ªæ–‡æ¡£è®°å½•çœ‹æ³•ï¼›</p>\n<p>ä¹‹åçš„æ–‡ç« ï¼Œæˆ‘å°†ä¼šæ€»ç»“ä¸€äº›<code>Nest</code>çš„æ¦‚å¿µï¼Œä»¥åŠä¸€äº›<code>Nest</code>çš„å®è·µï¼›</p>\n<ul>\n<li><code>Nest</code>è¿‡æ»¤å™¨ï¼Œå°†ä¸€äº›é”™è¯¯æ‹¦æˆªç»Ÿä¸€è¿”å›ç»“æœ</li>\n<li><code>Nest</code>ç®¡é“ï¼Œå°†ä¸€äº›å‚æ•°æ‹¦æˆªç»Ÿä¸€è¿”å›ç»“æœ, ç»Ÿä¸€å¤„ç†å‚æ•°;</li>\n<li><code>æ•°æ®åº“å‚æ•°</code>æ‹¦æˆªï¼Œæ‘’å¼ƒä¹‹å‰ä¼ ç»Ÿçš„<code>if</code>åˆ¤æ–­ï¼›</li>\n<li>ç™»å½•ï¼Œæƒé™æ‹¦æˆª</li>\n</ul>\n"},{"title":"Nest-åŠ è½½ç¯å¢ƒæ–‡ä»¶","abbrlink":"b080c454","date":"2024-11-08T01:05:01.000Z","_content":"\n# ä»‹ç»\n\nå‰ä¿©ç¯‡è®²è§£äº†å¿«é€Ÿå…¥é—¨`nest`ï¼Œæ¥ä¸‹æ¥å¤§è‡´ä»‹ç»ä¸€ä¸‹`nest`é¡¹ç›®å¦‚ä½•è¿›è¡Œæ”¹é€ ï¼›\n\né¡¹ç›®ä¸­ä¸€èˆ¬éƒ½ä¼šç”¨åˆ°`ä¸­é—´ä»¶ï¼Œæ‹¦æˆªå™¨ï¼Œå‚æ•°ç®¡é“æ ¡éªŒç­‰ç­‰`ï¼Œæ¥ä¸‹æ¥åˆ†å¤šä¸ªæ–¹å‘å¤§è‡´ä»‹ç»è¿™äº›å¦‚ä½•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ï¼›\n\n\n## é¡¹ç›®æ”¹é€ \n\nç±»ä¼¼äº`vue`é¡¹ç›®ï¼Œæœ‰ä¸€äº›æˆç†Ÿçš„æ–¹æ¡ˆå»ç®¡ç†ä½ çš„é¡¹ç›®ï¼Œ`æäº¤è§„èŒƒï¼Œä»£ç é£æ ¼ï¼Œä»£ç è§„èŒƒï¼Œç¯å¢ƒå˜é‡ç­‰ç­‰`ï¼›æ”¹é€ çš„èŒƒå›´å¤§è‡´åˆ†ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š\n\n- ä¸åŒçš„ç¯å¢ƒå˜é‡ï¼Œè®¾ç½®å¯¹åº”ä¸åŒçš„å€¼\n- è®¾ç½®è·¨åŸŸå·²ç»å¢å¼º`http`å·¥å…·ï¼Œè®¾ç½®å…¨å±€çš„è®¿é—®å‰ç¼€ï¼›\n- [`swaggeræ–‡æ¡£`](https://swagger.io/)ç”Ÿäº§æ–‡æ¡£ï¼Œä¸å†éœ€è¦è‡ªå·±ç¼–å†™å…·ä½“çš„æ–‡æ¡£è¯´æ˜ï¼›\n- `ä¸­é—´ä»¶ï¼Œæ‹¦æˆªå™¨ï¼Œå®šæ—¶ä»»åŠ¡ç­‰ç­‰`ï¼›\n\n## åŠ è½½ä¸åŒçš„ç¯å¢ƒæ–‡ä»¶\n\nè¿™é‡Œæœ‰ä¿©ç§çš„æ–¹æ¡ˆå¯ä»¥å®ç°ï¼Œ`dotenv`å’Œ`@nestjs/config`\n\né¦–å…ˆéœ€è¦è®¾ç½®ç¯å¢ƒï¼Œæ ¹æ®å˜é‡åŒºåˆ†æ˜¯å¼€å‘ç¯å¢ƒè¿˜æ˜¯ç”Ÿäº§ç¯å¢ƒï¼›\n\n`pnpm add -D cross-env`å®‰è£…`cross-env`ï¼Œç„¶åå†`package.json`ä¸­æ‰¾åˆ°`scripts`, ä¿®æ”¹`start`å¯åŠ¨å‘½ä»¤ï¼š\n\n```json\n{\n\t\"scripts\": {\n\t\t\"start\": \"cross-env NODE_ENV=development nest start\",\n\t\t\"start:dev\": \"cross-env NODE_ENV=development nest start --watch\",\n\t\t\"start:debug\": \"cross-env NODE_ENV=development nest start --debug --watch\"\n\t}\n}\n```\n\n### dotenv\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ `.env.development`å’Œ`.env.production`ï¼›\n\nåœ¨`main.ts`ä¸­æ·»åŠ å¦‚ä¸‹ï¼š\n\n```ts\nimport * as dotenv from \"dotenv\";\nconst { NODE_ENV } = process.env;\nconst envFile = `.env${NODE_ENV ? `.${NODE_ENV}` : \".production\"}`;\ndotenv.config({ path: envFile });\n```\n\nè¿™æ ·å°±å¯ä»¥ä½¿ç”¨`process.env.XXXX`äº†\n\n### @nestjs/config\n\nå¦‚æœä½¿ç”¨è¿™ç§æ–¹æ¡ˆï¼Œé‚£ä¹ˆå°±éœ€è¦å¼•å…¥`pnpm add @nestjs/config`\n\n```ts\nimport { ConfigModule } from \"@nestjs/config\";\n@Module({\n  imports: [\n    // åŠ è½½ç¯å¢ƒé…ç½®æ–‡ä»¶\n    ConfigModule.forRoot({\n      isGlobal: true,\n      envFilePath:\n        process.env.NODE_ENV === 'development'\n          ? '.env.development'\n          : '.env.production',\n    }),\n  ]\n})\n```\n\nä¸è¿‡è¿™éœ€è¦åœ¨`app.modules.ts`ä¸­æ·»åŠ ï¼›\n","source":"_posts/æŠ€èƒ½å°å†Œ/Nest/åŠ è½½ç¯å¢ƒæ–‡ä»¶.md","raw":"---\ntitle: Nest-åŠ è½½ç¯å¢ƒæ–‡ä»¶\nabbrlink: b080c454\ndate: 2024-11-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Nest\n---\n\n# ä»‹ç»\n\nå‰ä¿©ç¯‡è®²è§£äº†å¿«é€Ÿå…¥é—¨`nest`ï¼Œæ¥ä¸‹æ¥å¤§è‡´ä»‹ç»ä¸€ä¸‹`nest`é¡¹ç›®å¦‚ä½•è¿›è¡Œæ”¹é€ ï¼›\n\né¡¹ç›®ä¸­ä¸€èˆ¬éƒ½ä¼šç”¨åˆ°`ä¸­é—´ä»¶ï¼Œæ‹¦æˆªå™¨ï¼Œå‚æ•°ç®¡é“æ ¡éªŒç­‰ç­‰`ï¼Œæ¥ä¸‹æ¥åˆ†å¤šä¸ªæ–¹å‘å¤§è‡´ä»‹ç»è¿™äº›å¦‚ä½•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ï¼›\n\n\n## é¡¹ç›®æ”¹é€ \n\nç±»ä¼¼äº`vue`é¡¹ç›®ï¼Œæœ‰ä¸€äº›æˆç†Ÿçš„æ–¹æ¡ˆå»ç®¡ç†ä½ çš„é¡¹ç›®ï¼Œ`æäº¤è§„èŒƒï¼Œä»£ç é£æ ¼ï¼Œä»£ç è§„èŒƒï¼Œç¯å¢ƒå˜é‡ç­‰ç­‰`ï¼›æ”¹é€ çš„èŒƒå›´å¤§è‡´åˆ†ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š\n\n- ä¸åŒçš„ç¯å¢ƒå˜é‡ï¼Œè®¾ç½®å¯¹åº”ä¸åŒçš„å€¼\n- è®¾ç½®è·¨åŸŸå·²ç»å¢å¼º`http`å·¥å…·ï¼Œè®¾ç½®å…¨å±€çš„è®¿é—®å‰ç¼€ï¼›\n- [`swaggeræ–‡æ¡£`](https://swagger.io/)ç”Ÿäº§æ–‡æ¡£ï¼Œä¸å†éœ€è¦è‡ªå·±ç¼–å†™å…·ä½“çš„æ–‡æ¡£è¯´æ˜ï¼›\n- `ä¸­é—´ä»¶ï¼Œæ‹¦æˆªå™¨ï¼Œå®šæ—¶ä»»åŠ¡ç­‰ç­‰`ï¼›\n\n## åŠ è½½ä¸åŒçš„ç¯å¢ƒæ–‡ä»¶\n\nè¿™é‡Œæœ‰ä¿©ç§çš„æ–¹æ¡ˆå¯ä»¥å®ç°ï¼Œ`dotenv`å’Œ`@nestjs/config`\n\né¦–å…ˆéœ€è¦è®¾ç½®ç¯å¢ƒï¼Œæ ¹æ®å˜é‡åŒºåˆ†æ˜¯å¼€å‘ç¯å¢ƒè¿˜æ˜¯ç”Ÿäº§ç¯å¢ƒï¼›\n\n`pnpm add -D cross-env`å®‰è£…`cross-env`ï¼Œç„¶åå†`package.json`ä¸­æ‰¾åˆ°`scripts`, ä¿®æ”¹`start`å¯åŠ¨å‘½ä»¤ï¼š\n\n```json\n{\n\t\"scripts\": {\n\t\t\"start\": \"cross-env NODE_ENV=development nest start\",\n\t\t\"start:dev\": \"cross-env NODE_ENV=development nest start --watch\",\n\t\t\"start:debug\": \"cross-env NODE_ENV=development nest start --debug --watch\"\n\t}\n}\n```\n\n### dotenv\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ `.env.development`å’Œ`.env.production`ï¼›\n\nåœ¨`main.ts`ä¸­æ·»åŠ å¦‚ä¸‹ï¼š\n\n```ts\nimport * as dotenv from \"dotenv\";\nconst { NODE_ENV } = process.env;\nconst envFile = `.env${NODE_ENV ? `.${NODE_ENV}` : \".production\"}`;\ndotenv.config({ path: envFile });\n```\n\nè¿™æ ·å°±å¯ä»¥ä½¿ç”¨`process.env.XXXX`äº†\n\n### @nestjs/config\n\nå¦‚æœä½¿ç”¨è¿™ç§æ–¹æ¡ˆï¼Œé‚£ä¹ˆå°±éœ€è¦å¼•å…¥`pnpm add @nestjs/config`\n\n```ts\nimport { ConfigModule } from \"@nestjs/config\";\n@Module({\n  imports: [\n    // åŠ è½½ç¯å¢ƒé…ç½®æ–‡ä»¶\n    ConfigModule.forRoot({\n      isGlobal: true,\n      envFilePath:\n        process.env.NODE_ENV === 'development'\n          ? '.env.development'\n          : '.env.production',\n    }),\n  ]\n})\n```\n\nä¸è¿‡è¿™éœ€è¦åœ¨`app.modules.ts`ä¸­æ·»åŠ ï¼›\n","slug":"æŠ€èƒ½å°å†Œ/Nest/åŠ è½½ç¯å¢ƒæ–‡ä»¶","published":1,"updated":"2025-03-12T09:44:28.274Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iz003efg9m9x4zareg","content":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>å‰ä¿©ç¯‡è®²è§£äº†å¿«é€Ÿå…¥é—¨<code>nest</code>ï¼Œæ¥ä¸‹æ¥å¤§è‡´ä»‹ç»ä¸€ä¸‹<code>nest</code>é¡¹ç›®å¦‚ä½•è¿›è¡Œæ”¹é€ ï¼›</p>\n<p>é¡¹ç›®ä¸­ä¸€èˆ¬éƒ½ä¼šç”¨åˆ°<code>ä¸­é—´ä»¶ï¼Œæ‹¦æˆªå™¨ï¼Œå‚æ•°ç®¡é“æ ¡éªŒç­‰ç­‰</code>ï¼Œæ¥ä¸‹æ¥åˆ†å¤šä¸ªæ–¹å‘å¤§è‡´ä»‹ç»è¿™äº›å¦‚ä½•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ï¼›</p>\n<h2 id=\"é¡¹ç›®æ”¹é€ \"><a href=\"#é¡¹ç›®æ”¹é€ \" class=\"headerlink\" title=\"é¡¹ç›®æ”¹é€ \"></a>é¡¹ç›®æ”¹é€ </h2><p>ç±»ä¼¼äº<code>vue</code>é¡¹ç›®ï¼Œæœ‰ä¸€äº›æˆç†Ÿçš„æ–¹æ¡ˆå»ç®¡ç†ä½ çš„é¡¹ç›®ï¼Œ<code>æäº¤è§„èŒƒï¼Œä»£ç é£æ ¼ï¼Œä»£ç è§„èŒƒï¼Œç¯å¢ƒå˜é‡ç­‰ç­‰</code>ï¼›æ”¹é€ çš„èŒƒå›´å¤§è‡´åˆ†ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š</p>\n<ul>\n<li>ä¸åŒçš„ç¯å¢ƒå˜é‡ï¼Œè®¾ç½®å¯¹åº”ä¸åŒçš„å€¼</li>\n<li>è®¾ç½®è·¨åŸŸå·²ç»å¢å¼º<code>http</code>å·¥å…·ï¼Œè®¾ç½®å…¨å±€çš„è®¿é—®å‰ç¼€ï¼›</li>\n<li><a href=\"https://swagger.io/\"><code>swaggeræ–‡æ¡£</code></a>ç”Ÿäº§æ–‡æ¡£ï¼Œä¸å†éœ€è¦è‡ªå·±ç¼–å†™å…·ä½“çš„æ–‡æ¡£è¯´æ˜ï¼›</li>\n<li><code>ä¸­é—´ä»¶ï¼Œæ‹¦æˆªå™¨ï¼Œå®šæ—¶ä»»åŠ¡ç­‰ç­‰</code>ï¼›</li>\n</ul>\n<h2 id=\"åŠ è½½ä¸åŒçš„ç¯å¢ƒæ–‡ä»¶\"><a href=\"#åŠ è½½ä¸åŒçš„ç¯å¢ƒæ–‡ä»¶\" class=\"headerlink\" title=\"åŠ è½½ä¸åŒçš„ç¯å¢ƒæ–‡ä»¶\"></a>åŠ è½½ä¸åŒçš„ç¯å¢ƒæ–‡ä»¶</h2><p>è¿™é‡Œæœ‰ä¿©ç§çš„æ–¹æ¡ˆå¯ä»¥å®ç°ï¼Œ<code>dotenv</code>å’Œ<code>@nestjs/config</code></p>\n<p>é¦–å…ˆéœ€è¦è®¾ç½®ç¯å¢ƒï¼Œæ ¹æ®å˜é‡åŒºåˆ†æ˜¯å¼€å‘ç¯å¢ƒè¿˜æ˜¯ç”Ÿäº§ç¯å¢ƒï¼›</p>\n<p><code>pnpm add -D cross-env</code>å®‰è£…<code>cross-env</code>ï¼Œç„¶åå†<code>package.json</code>ä¸­æ‰¾åˆ°<code>scripts</code>, ä¿®æ”¹<code>start</code>å¯åŠ¨å‘½ä»¤ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;start&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env NODE_ENV=development nest start&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;start:dev&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env NODE_ENV=development nest start --watch&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;start:debug&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env NODE_ENV=development nest start --debug --watch&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"dotenv\"><a href=\"#dotenv\" class=\"headerlink\" title=\"dotenv\"></a>dotenv</h3><p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ <code>.env.development</code>å’Œ<code>.env.production</code>ï¼›</p>\n<p>åœ¨<code>main.ts</code>ä¸­æ·»åŠ å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> dotenv <span class=\"keyword\">from</span> <span class=\"string\">&quot;dotenv&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"variable constant_\">NODE_ENV</span> &#125; = process.<span class=\"property\">env</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> envFile = <span class=\"string\">`.env<span class=\"subst\">$&#123;NODE_ENV ? <span class=\"string\">`.<span class=\"subst\">$&#123;NODE_ENV&#125;</span>`</span> : <span class=\"string\">&quot;.production&quot;</span>&#125;</span>`</span>;</span><br><span class=\"line\">dotenv.<span class=\"title function_\">config</span>(&#123; <span class=\"attr\">path</span>: envFile &#125;);</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·å°±å¯ä»¥ä½¿ç”¨<code>process.env.XXXX</code>äº†</p>\n<h3 id=\"nestjs-config\"><a href=\"#nestjs-config\" class=\"headerlink\" title=\"@nestjs&#x2F;config\"></a>@nestjs&#x2F;config</h3><p>å¦‚æœä½¿ç”¨è¿™ç§æ–¹æ¡ˆï¼Œé‚£ä¹ˆå°±éœ€è¦å¼•å…¥<code>pnpm add @nestjs/config</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ConfigModule</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/config&quot;</span>;</span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// åŠ è½½ç¯å¢ƒé…ç½®æ–‡ä»¶</span></span><br><span class=\"line\">    <span class=\"title class_\">ConfigModule</span>.<span class=\"title function_\">forRoot</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">isGlobal</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">envFilePath</span>:</span><br><span class=\"line\">        process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&#x27;development&#x27;</span></span><br><span class=\"line\">          ? <span class=\"string\">&#x27;.env.development&#x27;</span></span><br><span class=\"line\">          : <span class=\"string\">&#x27;.env.production&#x27;</span>,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>ä¸è¿‡è¿™éœ€è¦åœ¨<code>app.modules.ts</code>ä¸­æ·»åŠ ï¼›</p>\n","excerpt":"","more":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>å‰ä¿©ç¯‡è®²è§£äº†å¿«é€Ÿå…¥é—¨<code>nest</code>ï¼Œæ¥ä¸‹æ¥å¤§è‡´ä»‹ç»ä¸€ä¸‹<code>nest</code>é¡¹ç›®å¦‚ä½•è¿›è¡Œæ”¹é€ ï¼›</p>\n<p>é¡¹ç›®ä¸­ä¸€èˆ¬éƒ½ä¼šç”¨åˆ°<code>ä¸­é—´ä»¶ï¼Œæ‹¦æˆªå™¨ï¼Œå‚æ•°ç®¡é“æ ¡éªŒç­‰ç­‰</code>ï¼Œæ¥ä¸‹æ¥åˆ†å¤šä¸ªæ–¹å‘å¤§è‡´ä»‹ç»è¿™äº›å¦‚ä½•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ï¼›</p>\n<h2 id=\"é¡¹ç›®æ”¹é€ \"><a href=\"#é¡¹ç›®æ”¹é€ \" class=\"headerlink\" title=\"é¡¹ç›®æ”¹é€ \"></a>é¡¹ç›®æ”¹é€ </h2><p>ç±»ä¼¼äº<code>vue</code>é¡¹ç›®ï¼Œæœ‰ä¸€äº›æˆç†Ÿçš„æ–¹æ¡ˆå»ç®¡ç†ä½ çš„é¡¹ç›®ï¼Œ<code>æäº¤è§„èŒƒï¼Œä»£ç é£æ ¼ï¼Œä»£ç è§„èŒƒï¼Œç¯å¢ƒå˜é‡ç­‰ç­‰</code>ï¼›æ”¹é€ çš„èŒƒå›´å¤§è‡´åˆ†ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š</p>\n<ul>\n<li>ä¸åŒçš„ç¯å¢ƒå˜é‡ï¼Œè®¾ç½®å¯¹åº”ä¸åŒçš„å€¼</li>\n<li>è®¾ç½®è·¨åŸŸå·²ç»å¢å¼º<code>http</code>å·¥å…·ï¼Œè®¾ç½®å…¨å±€çš„è®¿é—®å‰ç¼€ï¼›</li>\n<li><a href=\"https://swagger.io/\"><code>swaggeræ–‡æ¡£</code></a>ç”Ÿäº§æ–‡æ¡£ï¼Œä¸å†éœ€è¦è‡ªå·±ç¼–å†™å…·ä½“çš„æ–‡æ¡£è¯´æ˜ï¼›</li>\n<li><code>ä¸­é—´ä»¶ï¼Œæ‹¦æˆªå™¨ï¼Œå®šæ—¶ä»»åŠ¡ç­‰ç­‰</code>ï¼›</li>\n</ul>\n<h2 id=\"åŠ è½½ä¸åŒçš„ç¯å¢ƒæ–‡ä»¶\"><a href=\"#åŠ è½½ä¸åŒçš„ç¯å¢ƒæ–‡ä»¶\" class=\"headerlink\" title=\"åŠ è½½ä¸åŒçš„ç¯å¢ƒæ–‡ä»¶\"></a>åŠ è½½ä¸åŒçš„ç¯å¢ƒæ–‡ä»¶</h2><p>è¿™é‡Œæœ‰ä¿©ç§çš„æ–¹æ¡ˆå¯ä»¥å®ç°ï¼Œ<code>dotenv</code>å’Œ<code>@nestjs/config</code></p>\n<p>é¦–å…ˆéœ€è¦è®¾ç½®ç¯å¢ƒï¼Œæ ¹æ®å˜é‡åŒºåˆ†æ˜¯å¼€å‘ç¯å¢ƒè¿˜æ˜¯ç”Ÿäº§ç¯å¢ƒï¼›</p>\n<p><code>pnpm add -D cross-env</code>å®‰è£…<code>cross-env</code>ï¼Œç„¶åå†<code>package.json</code>ä¸­æ‰¾åˆ°<code>scripts</code>, ä¿®æ”¹<code>start</code>å¯åŠ¨å‘½ä»¤ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;start&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env NODE_ENV=development nest start&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;start:dev&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env NODE_ENV=development nest start --watch&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;start:debug&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env NODE_ENV=development nest start --debug --watch&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"dotenv\"><a href=\"#dotenv\" class=\"headerlink\" title=\"dotenv\"></a>dotenv</h3><p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ <code>.env.development</code>å’Œ<code>.env.production</code>ï¼›</p>\n<p>åœ¨<code>main.ts</code>ä¸­æ·»åŠ å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> dotenv <span class=\"keyword\">from</span> <span class=\"string\">&quot;dotenv&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"variable constant_\">NODE_ENV</span> &#125; = process.<span class=\"property\">env</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> envFile = <span class=\"string\">`.env<span class=\"subst\">$&#123;NODE_ENV ? <span class=\"string\">`.<span class=\"subst\">$&#123;NODE_ENV&#125;</span>`</span> : <span class=\"string\">&quot;.production&quot;</span>&#125;</span>`</span>;</span><br><span class=\"line\">dotenv.<span class=\"title function_\">config</span>(&#123; <span class=\"attr\">path</span>: envFile &#125;);</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·å°±å¯ä»¥ä½¿ç”¨<code>process.env.XXXX</code>äº†</p>\n<h3 id=\"nestjs-config\"><a href=\"#nestjs-config\" class=\"headerlink\" title=\"@nestjs&#x2F;config\"></a>@nestjs&#x2F;config</h3><p>å¦‚æœä½¿ç”¨è¿™ç§æ–¹æ¡ˆï¼Œé‚£ä¹ˆå°±éœ€è¦å¼•å…¥<code>pnpm add @nestjs/config</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ConfigModule</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/config&quot;</span>;</span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// åŠ è½½ç¯å¢ƒé…ç½®æ–‡ä»¶</span></span><br><span class=\"line\">    <span class=\"title class_\">ConfigModule</span>.<span class=\"title function_\">forRoot</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">isGlobal</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">envFilePath</span>:</span><br><span class=\"line\">        process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&#x27;development&#x27;</span></span><br><span class=\"line\">          ? <span class=\"string\">&#x27;.env.development&#x27;</span></span><br><span class=\"line\">          : <span class=\"string\">&#x27;.env.production&#x27;</span>,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>ä¸è¿‡è¿™éœ€è¦åœ¨<code>app.modules.ts</code>ä¸­æ·»åŠ ï¼›</p>\n"},{"title":"Nest-å¼‚å¸¸è¿‡æ»¤å™¨","abbrlink":"f3f9f66e","date":"2024-11-08T01:05:01.000Z","_content":"\n# ä»‹ç»\n\n> Nest å¸¦æœ‰ä¸€ä¸ªå†…ç½®çš„å¼‚å¸¸å±‚ï¼Œè´Ÿè´£å¤„ç†åº”ç”¨ä¸­æ‰€æœ‰æœªå¤„ç†çš„å¼‚å¸¸ã€‚å½“ä½ çš„åº”ç”¨ä»£ç æœªå¤„ç†å¼‚å¸¸æ—¶ï¼Œè¯¥å±‚ä¼šæ•è·è¯¥å¼‚å¸¸ï¼Œç„¶åè‡ªåŠ¨å‘é€é€‚å½“çš„ç”¨æˆ·å‹å¥½å“åº”ã€‚\n>\n> å¼€ç®±å³ç”¨ï¼Œæ­¤æ“ä½œç”±å†…ç½®çš„å…¨å±€å¼‚å¸¸è¿‡æ»¤å™¨æ‰§è¡Œï¼Œè¯¥è¿‡æ»¤å™¨å¤„ç† HttpException ç±»å‹ï¼ˆåŠå…¶å­ç±»ï¼‰çš„å¼‚å¸¸ã€‚å½“å¼‚å¸¸æ— æ³•è¯†åˆ«æ—¶ï¼ˆæ—¢ä¸æ˜¯ HttpException ä¹Ÿä¸æ˜¯ç»§æ‰¿è‡ª HttpException çš„ç±»ï¼‰ï¼Œå†…ç½®å¼‚å¸¸è¿‡æ»¤å™¨ä¼šç”Ÿæˆä»¥ä¸‹é»˜è®¤ JSON å“åº”ï¼š\n\n```json\n{\n\t\"statusCode\": 500,\n\t\"message\": \"Internal server error\"\n}\n```\n\n## å†…ç½®å¼‚å¸¸\n\nä¾‹å¦‚ï¼Œåœ¨ `CatsController` ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª `findAll()` æ–¹æ³•ï¼ˆä¸€ä¸ª GET è·¯ç”±å¤„ç†ç¨‹åºï¼‰ã€‚å‡è®¾æ­¤è·¯ç”±å¤„ç†ç¨‹åºå‡ºäºæŸç§åŸå› æŠ›å‡ºå¼‚å¸¸ã€‚ä¸ºäº†è¯æ˜è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†ç¡¬ç¼–ç å¦‚ä¸‹ï¼š\n\n```ts\n@Get()\nasync findAll() {\n  throw new HttpException('Forbidden', HttpStatus.FORBIDDEN);\n}\n```\n\n`HttpException`å‚æ•°è¯´æ˜:\n\n- `response` å‚æ•°å®šä¹‰ JSON å“åº”ä¸»ä½“ã€‚å®ƒå¯ä»¥æ˜¯ `string æˆ– object`ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚\n- `status` å‚æ•°å®šä¹‰äº† [HTTP çŠ¶æ€ä»£ç ](https://web.nodejs.cn/en-us/docs/web/http/status/)ã€‚\n- é»˜è®¤æƒ…å†µä¸‹ï¼ŒJSON å“åº”ä¸»ä½“åŒ…å«ä¸¤ä¸ªå±æ€§ï¼š\n  - `statusCode`ï¼šé»˜è®¤ä¸º `status` å‚æ•°ä¸­æä¾›çš„ `HTTP` çŠ¶æ€ä»£ç \n  - `message`ï¼šåŸºäº `status` çš„ `HTTP` é”™è¯¯çš„ç®€çŸ­æè¿°\n\n## è‡ªå®šä¹‰å¼‚å¸¸\n\n```ts\n// å¸¸ç”¨çš„çŠ¶æ€æšä¸¾\nexport enum HttpStatusCode {\n\t// 2xx çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚å·²æˆåŠŸå¤„ç†\n\tOK = 200, // è¯·æ±‚æˆåŠŸ\n\tCREATED = 201, // è¯·æ±‚å·²æˆåŠŸåˆ›å»ºæ–°çš„èµ„æº\n\tACCEPTED = 202, // è¯·æ±‚å·²ç»æ¥å—ï¼Œä½†æœªå¤„ç†å®Œæˆ\n\tNO_CONTENT = 204, // æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹\n\tPARTIAL_CONTENT = 206, // æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†éƒ¨åˆ†èŒƒå›´è¯·æ±‚\n\n\t// 3xx çŠ¶æ€ç è¡¨ç¤ºé‡å®šå‘\n\tMULTIPLE_CHOICES = 300, // è¯·æ±‚çš„ç›®æ ‡æœ‰å¤šä¸ªé‡å®šå‘åœ°å€\n\tMOVED_PERMANENTLY = 301, // è¯·æ±‚çš„èµ„æºå·²è¢«æ°¸ä¹…ç§»åŠ¨åˆ°æ–°çš„URI\n\tFOUND = 302, // è¯·æ±‚çš„èµ„æºä¸´æ—¶ç§»åŠ¨åˆ°æ–°çš„URI\n\tSEE_OTHER = 303, // ä¸´æ—¶é‡å®šå‘ï¼Œä¸”åº”ä½¿ç”¨GETæ–¹æ³•è·å–æ–°çš„URI\n\tNOT_MODIFIED = 304, // è‡ªä¸Šæ¬¡è¯·æ±‚ä»¥æ¥ï¼Œè¯·æ±‚çš„èµ„æºæœªä¿®æ”¹\n\tUSE_PROXY = 305, // è®¿é—®èµ„æºåº”é€šè¿‡ä»£ç†è¿›è¡Œ\n\tTEMPORARY_REDIRECT = 307, // ä¸´æ—¶é‡å®šå‘\n\tPERMANENT_REDIRECT = 308, // æ°¸ä¹…é‡å®šå‘\n\n\t// 4xx çŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯é”™è¯¯\n\tBAD_REQUEST = 400, // è¯·æ±‚çš„è¯­æ³•é”™è¯¯æˆ–è¯·æ±‚æ— æ³•ç†è§£\n\tUNAUTHORIZED = 401, // æœªæˆæƒè®¿é—®\n\tPAYMENT_REQUIRED = 402, // æš‚æœªä½¿ç”¨ï¼Œä¿ç•™ç»™å°†æ¥å¯èƒ½çš„éœ€æ±‚\n\tFORBIDDEN = 403, // å®¢æˆ·ç«¯æ²¡æœ‰è¶³å¤Ÿçš„æƒé™è®¿é—®è¯·æ±‚çš„èµ„æº\n\tNOT_FOUND = 404, // æœªæ‰¾åˆ°è¯·æ±‚çš„èµ„æº\n\tMETHOD_NOT_ALLOWED = 405, // ä¸å…è®¸ä½¿ç”¨æ­¤æ–¹æ³•è¯·æ±‚èµ„æº\n\tNOT_ACCEPTABLE = 406, // æ— æ³•ä½¿ç”¨è¯·æ±‚çš„å†…å®¹ç‰¹æ€§å“åº”è¯·æ±‚\n\tPROXY_AUTHENTICATION_REQUIRED = 407, // é€šè¿‡ä»£ç†æœåŠ¡å™¨è®¿é—®èµ„æºéœ€è¦è¿›è¡Œä»£ç†è®¤è¯\n\tREQUEST_TIMEOUT = 408, // è¯·æ±‚è¶…æ—¶\n\tCONFLICT = 409, // è¯·æ±‚çš„èµ„æºå­˜åœ¨å†²çª\n\n\t// æ›´å¤šçš„4xxçŠ¶æ€ç ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯é”™è¯¯\n\tGONE = 410, // ä¹‹å‰å¯ç”¨çš„èµ„æºç°å·²ä¸å¯ç”¨ï¼Œä¸”å°†æ¥ä¹Ÿä¸ä¼šå¯ç”¨\n\tLENGTH_REQUIRED = 411, // æœåŠ¡å™¨æ‹’ç»åœ¨æ²¡æœ‰å®šä¹‰Content-Lengthå¤´çš„æƒ…å†µä¸‹æ¥å—è¯·æ±‚\n\tPRECONDITION_FAILED = 412, // è¯·æ±‚å¤´ä¸­ç»™å‡ºçš„æ¡ä»¶ä¸æ»¡è¶³\n\tPAYLOAD_TOO_LARGE = 413, // è¯·æ±‚çš„å®ä½“å¤ªå¤§\n\tURI_TOO_LONG = 414, // è¯·æ±‚çš„URIå¤ªé•¿\n\tUNSUPPORTED_MEDIA_TYPE = 415, // è¯·æ±‚çš„åª’ä½“ç±»å‹ä¸å—æ”¯æŒ\n\tRANGE_NOT_SATISFIABLE = 416, // è¯·æ±‚çš„èŒƒå›´æ— æ•ˆ\n\tEXPECTATION_FAILED = 417, // æœåŠ¡å™¨æ— æ³•æ»¡è¶³æœŸæœ›å¤´å­—æ®µçš„è¦æ±‚\n\n\tUNPROCESSABLE_ENTITY = 422, // è¯·æ±‚çš„å®ä½“ä¸å¯å¤„ç†ä½†å¯èƒ½æ˜¯æœ‰æ•ˆçš„\n\tTOO_MANY_REQUESTS = 429, // å‘èµ·çš„è¯·æ±‚å¤ªå¤šï¼Œå¤ªé¢‘ç¹\n\n\t// 5xx çŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨é”™è¯¯\n\tINTERNAL_SERVER_ERROR = 500, // æœåŠ¡å™¨å‘ç”Ÿå†…éƒ¨é”™è¯¯\n\tNOT_IMPLEMENTED = 501, // æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚çš„æ–¹æ³•\n\tBAD_GATEWAY = 502, // æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°æ— æ•ˆå“åº”\n\tSERVICE_UNAVAILABLE = 503, // æœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼ˆç”±äºä¸´æ—¶è¿‡è½½æˆ–ç»´æŠ¤ï¼‰\n\tGATEWAY_TIMEOUT = 504, // æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚\n\tHTTP_VERSION_NOT_SUPPORTED = 505, // æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚ä½¿ç”¨çš„HTTPç‰ˆæœ¬\n\n\t// è¡¨ç¤ºæœªçŸ¥çš„çŠ¶æ€ç \n\tUNKNOWN = 999,\n}\n\nimport { HttpException } from \"@nestjs/common\";\nimport { HttpStatusCode } from \"../enum/http.enum\";\n\nexport class ApiException extends HttpException {\n\tprivate errCode: number;\n\tconstructor(\n\t\tmsg: string | Record<string, any>,\n\t\terrCode: HttpStatusCode = HttpStatusCode.OK\n\t) {\n\t\tswitch (errCode) {\n\t\t\t// æ²¡æœ‰æƒé™è®¿é—®\n\t\t\tcase HttpStatusCode.UNAUTHORIZED:\n\t\t\t\tsuper(msg, HttpStatusCode.OK);\n\t\t\t\tthis.errCode = HttpStatusCode.UNAUTHORIZED;\n\t\t\t\tbreak;\n\t\t\t// ç™»å½•å¤±æ•ˆ\n\t\t\tcase HttpStatusCode.FORBIDDEN:\n\t\t\t\tsuper(msg, HttpStatusCode.OK);\n\t\t\t\tthis.errCode = HttpStatusCode.FORBIDDEN;\n\t\t\t\tbreak;\n\t\t\t// èµ„æºä¸å­˜åœ¨ï¼Œ éªŒè¯ç ï¼Œæ¥å£åœ°å€ï¼Œå›¾ç‰‡èµ„æºç­‰ç­‰\n\t\t\tcase HttpStatusCode.NOT_FOUND:\n\t\t\t\tsuper(msg, HttpStatusCode.OK);\n\t\t\t\tthis.errCode = HttpStatusCode.NOT_FOUND;\n\t\t\t\tbreak;\n\t\t\t// å…¶ä»–å½’äºæœåŠ¡å™¨å†…éƒ¨é”™è¯¯\n\t\t\tdefault:\n\t\t\t\tsuper(msg, errCode ?? HttpStatusCode.OK);\n\t\t\t\tthis.errCode = HttpStatusCode.INTERNAL_SERVER_ERROR;\n\t\t}\n\t}\n\tgetErrCode(): number {\n\t\treturn this.errCode;\n\t}\n}\n```\n\n## å¼‚å¸¸è¿‡æ»¤å™¨\n\nå…·ä½“æ“ä½œå¯æŸ¥çœ‹[æ–‡æ¡£](https://nest.nodejs.cn/exception-filters#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8)\n\n```ts\nimport {\n\tArgumentsHost,\n\tCatch,\n\tExceptionFilter,\n\tHttpException,\n\tHttpStatus,\n} from \"@nestjs/common\";\nimport { ApiException } from \"../exception/api.exception\";\nimport { HttpResult } from \"../class/result.class\";\n\n@Catch()\nexport class AllExceptionFilter<T> implements ExceptionFilter {\n\tcatch(exception: T, host: ArgumentsHost) {\n\t\tconst ctx = host.switchToHttp();\n\t\tconst response = ctx.getResponse();\n\t\tconst { status, result } = this.errorResult(exception);\n\t\tresponse.header(\"Content-Type\", \"application/json; charset=utf-8\");\n\t\tresponse.status(status).json(result);\n\t}\n\n\terrorResult(exception: unknown) {\n\t\tconst status =\n\t\t\texception instanceof HttpException\n\t\t\t\t? exception.getStatus()\n\t\t\t\t: HttpStatus.INTERNAL_SERVER_ERROR;\n\n\t\tconst code =\n\t\t\texception instanceof ApiException\n\t\t\t\t? (exception as ApiException).getErrCode()\n\t\t\t\t: status;\n\n\t\tlet message: string;\n\t\tif (exception instanceof HttpException) {\n\t\t\tconst response = exception.getResponse();\n\t\t\tmessage = (response as any).message ?? response;\n\t\t} else {\n\t\t\tmessage = `${exception}`;\n\t\t}\n\n\t\tconst getMsg = message;\n\t\t// ä½¿ç”¨ValidationPipeå¯èƒ½ä¼šè¿”å›æ•°ç»„\n\t\tif (Array.isArray(message)) {\n\t\t\tmessage = getMsg[0];\n\t\t} else {\n\t\t\tmessage = getMsg;\n\t\t}\n\n\t\treturn {\n\t\t\tstatus: ![200, 500, 401].includes(status) ? 200 : status,\n\t\t\tresult: HttpResult.error(message, code),\n\t\t};\n\t}\n}\n```\n\n```ts\nexport class HttpResult {\n\treadonly message: string;\n\treadonly status: number;\n\treadonly timestamp: string = new Date().toISOString();\n\treadonly context: unknown;\n\tconstructor(\n\t\tcontext?: unknown,\n\t\tmessage: string = \"success\",\n\t\tstatus: number = 200\n\t) {\n\t\tthis.context = context;\n\t\tthis.message = message;\n\t\tthis.status = status;\n\t}\n\n\tstatic success(context: unknown, message = \"æ“ä½œæˆåŠŸ\") {\n\t\treturn new HttpResult(context, message, 200);\n\t}\n\n\tstatic error(message = \"æ“ä½œå¤±è´¥\", status = 500) {\n\t\treturn new HttpResult(null, message, status);\n\t}\n}\n```\n\n### ä½¿ç”¨\n\nåœ¨`app.module.ts`ä¸­\n\n```ts\n@Module({\n  imports: [],\n  providers: [\n    {\n      provide: APP_FILTER,\n      useClass: AllExceptionFilter,\n    },\n  ]\n})\n```\n","source":"_posts/æŠ€èƒ½å°å†Œ/Nest/å¼‚å¸¸è¿‡æ»¤å™¨.md","raw":"---\ntitle: Nest-å¼‚å¸¸è¿‡æ»¤å™¨\nabbrlink: f3f9f66e\ndate: 2024-11-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Nest\n---\n\n# ä»‹ç»\n\n> Nest å¸¦æœ‰ä¸€ä¸ªå†…ç½®çš„å¼‚å¸¸å±‚ï¼Œè´Ÿè´£å¤„ç†åº”ç”¨ä¸­æ‰€æœ‰æœªå¤„ç†çš„å¼‚å¸¸ã€‚å½“ä½ çš„åº”ç”¨ä»£ç æœªå¤„ç†å¼‚å¸¸æ—¶ï¼Œè¯¥å±‚ä¼šæ•è·è¯¥å¼‚å¸¸ï¼Œç„¶åè‡ªåŠ¨å‘é€é€‚å½“çš„ç”¨æˆ·å‹å¥½å“åº”ã€‚\n>\n> å¼€ç®±å³ç”¨ï¼Œæ­¤æ“ä½œç”±å†…ç½®çš„å…¨å±€å¼‚å¸¸è¿‡æ»¤å™¨æ‰§è¡Œï¼Œè¯¥è¿‡æ»¤å™¨å¤„ç† HttpException ç±»å‹ï¼ˆåŠå…¶å­ç±»ï¼‰çš„å¼‚å¸¸ã€‚å½“å¼‚å¸¸æ— æ³•è¯†åˆ«æ—¶ï¼ˆæ—¢ä¸æ˜¯ HttpException ä¹Ÿä¸æ˜¯ç»§æ‰¿è‡ª HttpException çš„ç±»ï¼‰ï¼Œå†…ç½®å¼‚å¸¸è¿‡æ»¤å™¨ä¼šç”Ÿæˆä»¥ä¸‹é»˜è®¤ JSON å“åº”ï¼š\n\n```json\n{\n\t\"statusCode\": 500,\n\t\"message\": \"Internal server error\"\n}\n```\n\n## å†…ç½®å¼‚å¸¸\n\nä¾‹å¦‚ï¼Œåœ¨ `CatsController` ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª `findAll()` æ–¹æ³•ï¼ˆä¸€ä¸ª GET è·¯ç”±å¤„ç†ç¨‹åºï¼‰ã€‚å‡è®¾æ­¤è·¯ç”±å¤„ç†ç¨‹åºå‡ºäºæŸç§åŸå› æŠ›å‡ºå¼‚å¸¸ã€‚ä¸ºäº†è¯æ˜è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†ç¡¬ç¼–ç å¦‚ä¸‹ï¼š\n\n```ts\n@Get()\nasync findAll() {\n  throw new HttpException('Forbidden', HttpStatus.FORBIDDEN);\n}\n```\n\n`HttpException`å‚æ•°è¯´æ˜:\n\n- `response` å‚æ•°å®šä¹‰ JSON å“åº”ä¸»ä½“ã€‚å®ƒå¯ä»¥æ˜¯ `string æˆ– object`ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚\n- `status` å‚æ•°å®šä¹‰äº† [HTTP çŠ¶æ€ä»£ç ](https://web.nodejs.cn/en-us/docs/web/http/status/)ã€‚\n- é»˜è®¤æƒ…å†µä¸‹ï¼ŒJSON å“åº”ä¸»ä½“åŒ…å«ä¸¤ä¸ªå±æ€§ï¼š\n  - `statusCode`ï¼šé»˜è®¤ä¸º `status` å‚æ•°ä¸­æä¾›çš„ `HTTP` çŠ¶æ€ä»£ç \n  - `message`ï¼šåŸºäº `status` çš„ `HTTP` é”™è¯¯çš„ç®€çŸ­æè¿°\n\n## è‡ªå®šä¹‰å¼‚å¸¸\n\n```ts\n// å¸¸ç”¨çš„çŠ¶æ€æšä¸¾\nexport enum HttpStatusCode {\n\t// 2xx çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚å·²æˆåŠŸå¤„ç†\n\tOK = 200, // è¯·æ±‚æˆåŠŸ\n\tCREATED = 201, // è¯·æ±‚å·²æˆåŠŸåˆ›å»ºæ–°çš„èµ„æº\n\tACCEPTED = 202, // è¯·æ±‚å·²ç»æ¥å—ï¼Œä½†æœªå¤„ç†å®Œæˆ\n\tNO_CONTENT = 204, // æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹\n\tPARTIAL_CONTENT = 206, // æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†éƒ¨åˆ†èŒƒå›´è¯·æ±‚\n\n\t// 3xx çŠ¶æ€ç è¡¨ç¤ºé‡å®šå‘\n\tMULTIPLE_CHOICES = 300, // è¯·æ±‚çš„ç›®æ ‡æœ‰å¤šä¸ªé‡å®šå‘åœ°å€\n\tMOVED_PERMANENTLY = 301, // è¯·æ±‚çš„èµ„æºå·²è¢«æ°¸ä¹…ç§»åŠ¨åˆ°æ–°çš„URI\n\tFOUND = 302, // è¯·æ±‚çš„èµ„æºä¸´æ—¶ç§»åŠ¨åˆ°æ–°çš„URI\n\tSEE_OTHER = 303, // ä¸´æ—¶é‡å®šå‘ï¼Œä¸”åº”ä½¿ç”¨GETæ–¹æ³•è·å–æ–°çš„URI\n\tNOT_MODIFIED = 304, // è‡ªä¸Šæ¬¡è¯·æ±‚ä»¥æ¥ï¼Œè¯·æ±‚çš„èµ„æºæœªä¿®æ”¹\n\tUSE_PROXY = 305, // è®¿é—®èµ„æºåº”é€šè¿‡ä»£ç†è¿›è¡Œ\n\tTEMPORARY_REDIRECT = 307, // ä¸´æ—¶é‡å®šå‘\n\tPERMANENT_REDIRECT = 308, // æ°¸ä¹…é‡å®šå‘\n\n\t// 4xx çŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯é”™è¯¯\n\tBAD_REQUEST = 400, // è¯·æ±‚çš„è¯­æ³•é”™è¯¯æˆ–è¯·æ±‚æ— æ³•ç†è§£\n\tUNAUTHORIZED = 401, // æœªæˆæƒè®¿é—®\n\tPAYMENT_REQUIRED = 402, // æš‚æœªä½¿ç”¨ï¼Œä¿ç•™ç»™å°†æ¥å¯èƒ½çš„éœ€æ±‚\n\tFORBIDDEN = 403, // å®¢æˆ·ç«¯æ²¡æœ‰è¶³å¤Ÿçš„æƒé™è®¿é—®è¯·æ±‚çš„èµ„æº\n\tNOT_FOUND = 404, // æœªæ‰¾åˆ°è¯·æ±‚çš„èµ„æº\n\tMETHOD_NOT_ALLOWED = 405, // ä¸å…è®¸ä½¿ç”¨æ­¤æ–¹æ³•è¯·æ±‚èµ„æº\n\tNOT_ACCEPTABLE = 406, // æ— æ³•ä½¿ç”¨è¯·æ±‚çš„å†…å®¹ç‰¹æ€§å“åº”è¯·æ±‚\n\tPROXY_AUTHENTICATION_REQUIRED = 407, // é€šè¿‡ä»£ç†æœåŠ¡å™¨è®¿é—®èµ„æºéœ€è¦è¿›è¡Œä»£ç†è®¤è¯\n\tREQUEST_TIMEOUT = 408, // è¯·æ±‚è¶…æ—¶\n\tCONFLICT = 409, // è¯·æ±‚çš„èµ„æºå­˜åœ¨å†²çª\n\n\t// æ›´å¤šçš„4xxçŠ¶æ€ç ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯é”™è¯¯\n\tGONE = 410, // ä¹‹å‰å¯ç”¨çš„èµ„æºç°å·²ä¸å¯ç”¨ï¼Œä¸”å°†æ¥ä¹Ÿä¸ä¼šå¯ç”¨\n\tLENGTH_REQUIRED = 411, // æœåŠ¡å™¨æ‹’ç»åœ¨æ²¡æœ‰å®šä¹‰Content-Lengthå¤´çš„æƒ…å†µä¸‹æ¥å—è¯·æ±‚\n\tPRECONDITION_FAILED = 412, // è¯·æ±‚å¤´ä¸­ç»™å‡ºçš„æ¡ä»¶ä¸æ»¡è¶³\n\tPAYLOAD_TOO_LARGE = 413, // è¯·æ±‚çš„å®ä½“å¤ªå¤§\n\tURI_TOO_LONG = 414, // è¯·æ±‚çš„URIå¤ªé•¿\n\tUNSUPPORTED_MEDIA_TYPE = 415, // è¯·æ±‚çš„åª’ä½“ç±»å‹ä¸å—æ”¯æŒ\n\tRANGE_NOT_SATISFIABLE = 416, // è¯·æ±‚çš„èŒƒå›´æ— æ•ˆ\n\tEXPECTATION_FAILED = 417, // æœåŠ¡å™¨æ— æ³•æ»¡è¶³æœŸæœ›å¤´å­—æ®µçš„è¦æ±‚\n\n\tUNPROCESSABLE_ENTITY = 422, // è¯·æ±‚çš„å®ä½“ä¸å¯å¤„ç†ä½†å¯èƒ½æ˜¯æœ‰æ•ˆçš„\n\tTOO_MANY_REQUESTS = 429, // å‘èµ·çš„è¯·æ±‚å¤ªå¤šï¼Œå¤ªé¢‘ç¹\n\n\t// 5xx çŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨é”™è¯¯\n\tINTERNAL_SERVER_ERROR = 500, // æœåŠ¡å™¨å‘ç”Ÿå†…éƒ¨é”™è¯¯\n\tNOT_IMPLEMENTED = 501, // æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚çš„æ–¹æ³•\n\tBAD_GATEWAY = 502, // æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°æ— æ•ˆå“åº”\n\tSERVICE_UNAVAILABLE = 503, // æœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼ˆç”±äºä¸´æ—¶è¿‡è½½æˆ–ç»´æŠ¤ï¼‰\n\tGATEWAY_TIMEOUT = 504, // æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚\n\tHTTP_VERSION_NOT_SUPPORTED = 505, // æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚ä½¿ç”¨çš„HTTPç‰ˆæœ¬\n\n\t// è¡¨ç¤ºæœªçŸ¥çš„çŠ¶æ€ç \n\tUNKNOWN = 999,\n}\n\nimport { HttpException } from \"@nestjs/common\";\nimport { HttpStatusCode } from \"../enum/http.enum\";\n\nexport class ApiException extends HttpException {\n\tprivate errCode: number;\n\tconstructor(\n\t\tmsg: string | Record<string, any>,\n\t\terrCode: HttpStatusCode = HttpStatusCode.OK\n\t) {\n\t\tswitch (errCode) {\n\t\t\t// æ²¡æœ‰æƒé™è®¿é—®\n\t\t\tcase HttpStatusCode.UNAUTHORIZED:\n\t\t\t\tsuper(msg, HttpStatusCode.OK);\n\t\t\t\tthis.errCode = HttpStatusCode.UNAUTHORIZED;\n\t\t\t\tbreak;\n\t\t\t// ç™»å½•å¤±æ•ˆ\n\t\t\tcase HttpStatusCode.FORBIDDEN:\n\t\t\t\tsuper(msg, HttpStatusCode.OK);\n\t\t\t\tthis.errCode = HttpStatusCode.FORBIDDEN;\n\t\t\t\tbreak;\n\t\t\t// èµ„æºä¸å­˜åœ¨ï¼Œ éªŒè¯ç ï¼Œæ¥å£åœ°å€ï¼Œå›¾ç‰‡èµ„æºç­‰ç­‰\n\t\t\tcase HttpStatusCode.NOT_FOUND:\n\t\t\t\tsuper(msg, HttpStatusCode.OK);\n\t\t\t\tthis.errCode = HttpStatusCode.NOT_FOUND;\n\t\t\t\tbreak;\n\t\t\t// å…¶ä»–å½’äºæœåŠ¡å™¨å†…éƒ¨é”™è¯¯\n\t\t\tdefault:\n\t\t\t\tsuper(msg, errCode ?? HttpStatusCode.OK);\n\t\t\t\tthis.errCode = HttpStatusCode.INTERNAL_SERVER_ERROR;\n\t\t}\n\t}\n\tgetErrCode(): number {\n\t\treturn this.errCode;\n\t}\n}\n```\n\n## å¼‚å¸¸è¿‡æ»¤å™¨\n\nå…·ä½“æ“ä½œå¯æŸ¥çœ‹[æ–‡æ¡£](https://nest.nodejs.cn/exception-filters#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8)\n\n```ts\nimport {\n\tArgumentsHost,\n\tCatch,\n\tExceptionFilter,\n\tHttpException,\n\tHttpStatus,\n} from \"@nestjs/common\";\nimport { ApiException } from \"../exception/api.exception\";\nimport { HttpResult } from \"../class/result.class\";\n\n@Catch()\nexport class AllExceptionFilter<T> implements ExceptionFilter {\n\tcatch(exception: T, host: ArgumentsHost) {\n\t\tconst ctx = host.switchToHttp();\n\t\tconst response = ctx.getResponse();\n\t\tconst { status, result } = this.errorResult(exception);\n\t\tresponse.header(\"Content-Type\", \"application/json; charset=utf-8\");\n\t\tresponse.status(status).json(result);\n\t}\n\n\terrorResult(exception: unknown) {\n\t\tconst status =\n\t\t\texception instanceof HttpException\n\t\t\t\t? exception.getStatus()\n\t\t\t\t: HttpStatus.INTERNAL_SERVER_ERROR;\n\n\t\tconst code =\n\t\t\texception instanceof ApiException\n\t\t\t\t? (exception as ApiException).getErrCode()\n\t\t\t\t: status;\n\n\t\tlet message: string;\n\t\tif (exception instanceof HttpException) {\n\t\t\tconst response = exception.getResponse();\n\t\t\tmessage = (response as any).message ?? response;\n\t\t} else {\n\t\t\tmessage = `${exception}`;\n\t\t}\n\n\t\tconst getMsg = message;\n\t\t// ä½¿ç”¨ValidationPipeå¯èƒ½ä¼šè¿”å›æ•°ç»„\n\t\tif (Array.isArray(message)) {\n\t\t\tmessage = getMsg[0];\n\t\t} else {\n\t\t\tmessage = getMsg;\n\t\t}\n\n\t\treturn {\n\t\t\tstatus: ![200, 500, 401].includes(status) ? 200 : status,\n\t\t\tresult: HttpResult.error(message, code),\n\t\t};\n\t}\n}\n```\n\n```ts\nexport class HttpResult {\n\treadonly message: string;\n\treadonly status: number;\n\treadonly timestamp: string = new Date().toISOString();\n\treadonly context: unknown;\n\tconstructor(\n\t\tcontext?: unknown,\n\t\tmessage: string = \"success\",\n\t\tstatus: number = 200\n\t) {\n\t\tthis.context = context;\n\t\tthis.message = message;\n\t\tthis.status = status;\n\t}\n\n\tstatic success(context: unknown, message = \"æ“ä½œæˆåŠŸ\") {\n\t\treturn new HttpResult(context, message, 200);\n\t}\n\n\tstatic error(message = \"æ“ä½œå¤±è´¥\", status = 500) {\n\t\treturn new HttpResult(null, message, status);\n\t}\n}\n```\n\n### ä½¿ç”¨\n\nåœ¨`app.module.ts`ä¸­\n\n```ts\n@Module({\n  imports: [],\n  providers: [\n    {\n      provide: APP_FILTER,\n      useClass: AllExceptionFilter,\n    },\n  ]\n})\n```\n","slug":"æŠ€èƒ½å°å†Œ/Nest/å¼‚å¸¸è¿‡æ»¤å™¨","published":1,"updated":"2025-03-12T09:44:47.937Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iz003ifg9m498l9j1d","content":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><blockquote>\n<p>Nest å¸¦æœ‰ä¸€ä¸ªå†…ç½®çš„å¼‚å¸¸å±‚ï¼Œè´Ÿè´£å¤„ç†åº”ç”¨ä¸­æ‰€æœ‰æœªå¤„ç†çš„å¼‚å¸¸ã€‚å½“ä½ çš„åº”ç”¨ä»£ç æœªå¤„ç†å¼‚å¸¸æ—¶ï¼Œè¯¥å±‚ä¼šæ•è·è¯¥å¼‚å¸¸ï¼Œç„¶åè‡ªåŠ¨å‘é€é€‚å½“çš„ç”¨æˆ·å‹å¥½å“åº”ã€‚</p>\n<p>å¼€ç®±å³ç”¨ï¼Œæ­¤æ“ä½œç”±å†…ç½®çš„å…¨å±€å¼‚å¸¸è¿‡æ»¤å™¨æ‰§è¡Œï¼Œè¯¥è¿‡æ»¤å™¨å¤„ç† HttpException ç±»å‹ï¼ˆåŠå…¶å­ç±»ï¼‰çš„å¼‚å¸¸ã€‚å½“å¼‚å¸¸æ— æ³•è¯†åˆ«æ—¶ï¼ˆæ—¢ä¸æ˜¯ HttpException ä¹Ÿä¸æ˜¯ç»§æ‰¿è‡ª HttpException çš„ç±»ï¼‰ï¼Œå†…ç½®å¼‚å¸¸è¿‡æ»¤å™¨ä¼šç”Ÿæˆä»¥ä¸‹é»˜è®¤ JSON å“åº”ï¼š</p>\n</blockquote>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;statusCode&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">500</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;message&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Internal server error&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å†…ç½®å¼‚å¸¸\"><a href=\"#å†…ç½®å¼‚å¸¸\" class=\"headerlink\" title=\"å†…ç½®å¼‚å¸¸\"></a>å†…ç½®å¼‚å¸¸</h2><p>ä¾‹å¦‚ï¼Œåœ¨ <code>CatsController</code> ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª <code>findAll()</code> æ–¹æ³•ï¼ˆä¸€ä¸ª GET è·¯ç”±å¤„ç†ç¨‹åºï¼‰ã€‚å‡è®¾æ­¤è·¯ç”±å¤„ç†ç¨‹åºå‡ºäºæŸç§åŸå› æŠ›å‡ºå¼‚å¸¸ã€‚ä¸ºäº†è¯æ˜è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†ç¡¬ç¼–ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Get</span>()</span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"title function_\">findAll</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">HttpException</span>(<span class=\"string\">&#x27;Forbidden&#x27;</span>, <span class=\"title class_\">HttpStatus</span>.<span class=\"property\">FORBIDDEN</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>HttpException</code>å‚æ•°è¯´æ˜:</p>\n<ul>\n<li><code>response</code> å‚æ•°å®šä¹‰ JSON å“åº”ä¸»ä½“ã€‚å®ƒå¯ä»¥æ˜¯ <code>string æˆ– object</code>ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚</li>\n<li><code>status</code> å‚æ•°å®šä¹‰äº† <a href=\"https://web.nodejs.cn/en-us/docs/web/http/status/\">HTTP çŠ¶æ€ä»£ç </a>ã€‚</li>\n<li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒJSON å“åº”ä¸»ä½“åŒ…å«ä¸¤ä¸ªå±æ€§ï¼š<ul>\n<li><code>statusCode</code>ï¼šé»˜è®¤ä¸º <code>status</code> å‚æ•°ä¸­æä¾›çš„ <code>HTTP</code> çŠ¶æ€ä»£ç </li>\n<li><code>message</code>ï¼šåŸºäº <code>status</code> çš„ <code>HTTP</code> é”™è¯¯çš„ç®€çŸ­æè¿°</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"è‡ªå®šä¹‰å¼‚å¸¸\"><a href=\"#è‡ªå®šä¹‰å¼‚å¸¸\" class=\"headerlink\" title=\"è‡ªå®šä¹‰å¼‚å¸¸\"></a>è‡ªå®šä¹‰å¼‚å¸¸</h2><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å¸¸ç”¨çš„çŠ¶æ€æšä¸¾</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">HttpStatusCode</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 2xx çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚å·²æˆåŠŸå¤„ç†</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">OK</span> = <span class=\"number\">200</span>, <span class=\"comment\">// è¯·æ±‚æˆåŠŸ</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">CREATED</span> = <span class=\"number\">201</span>, <span class=\"comment\">// è¯·æ±‚å·²æˆåŠŸåˆ›å»ºæ–°çš„èµ„æº</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">ACCEPTED</span> = <span class=\"number\">202</span>, <span class=\"comment\">// è¯·æ±‚å·²ç»æ¥å—ï¼Œä½†æœªå¤„ç†å®Œæˆ</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">NO_CONTENT</span> = <span class=\"number\">204</span>, <span class=\"comment\">// æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">PARTIAL_CONTENT</span> = <span class=\"number\">206</span>, <span class=\"comment\">// æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†éƒ¨åˆ†èŒƒå›´è¯·æ±‚</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// 3xx çŠ¶æ€ç è¡¨ç¤ºé‡å®šå‘</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">MULTIPLE_CHOICES</span> = <span class=\"number\">300</span>, <span class=\"comment\">// è¯·æ±‚çš„ç›®æ ‡æœ‰å¤šä¸ªé‡å®šå‘åœ°å€</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">MOVED_PERMANENTLY</span> = <span class=\"number\">301</span>, <span class=\"comment\">// è¯·æ±‚çš„èµ„æºå·²è¢«æ°¸ä¹…ç§»åŠ¨åˆ°æ–°çš„URI</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">FOUND</span> = <span class=\"number\">302</span>, <span class=\"comment\">// è¯·æ±‚çš„èµ„æºä¸´æ—¶ç§»åŠ¨åˆ°æ–°çš„URI</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">SEE_OTHER</span> = <span class=\"number\">303</span>, <span class=\"comment\">// ä¸´æ—¶é‡å®šå‘ï¼Œä¸”åº”ä½¿ç”¨GETæ–¹æ³•è·å–æ–°çš„URI</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">NOT_MODIFIED</span> = <span class=\"number\">304</span>, <span class=\"comment\">// è‡ªä¸Šæ¬¡è¯·æ±‚ä»¥æ¥ï¼Œè¯·æ±‚çš„èµ„æºæœªä¿®æ”¹</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">USE_PROXY</span> = <span class=\"number\">305</span>, <span class=\"comment\">// è®¿é—®èµ„æºåº”é€šè¿‡ä»£ç†è¿›è¡Œ</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">TEMPORARY_REDIRECT</span> = <span class=\"number\">307</span>, <span class=\"comment\">// ä¸´æ—¶é‡å®šå‘</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">PERMANENT_REDIRECT</span> = <span class=\"number\">308</span>, <span class=\"comment\">// æ°¸ä¹…é‡å®šå‘</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// 4xx çŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯é”™è¯¯</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">BAD_REQUEST</span> = <span class=\"number\">400</span>, <span class=\"comment\">// è¯·æ±‚çš„è¯­æ³•é”™è¯¯æˆ–è¯·æ±‚æ— æ³•ç†è§£</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">UNAUTHORIZED</span> = <span class=\"number\">401</span>, <span class=\"comment\">// æœªæˆæƒè®¿é—®</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">PAYMENT_REQUIRED</span> = <span class=\"number\">402</span>, <span class=\"comment\">// æš‚æœªä½¿ç”¨ï¼Œä¿ç•™ç»™å°†æ¥å¯èƒ½çš„éœ€æ±‚</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">FORBIDDEN</span> = <span class=\"number\">403</span>, <span class=\"comment\">// å®¢æˆ·ç«¯æ²¡æœ‰è¶³å¤Ÿçš„æƒé™è®¿é—®è¯·æ±‚çš„èµ„æº</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">NOT_FOUND</span> = <span class=\"number\">404</span>, <span class=\"comment\">// æœªæ‰¾åˆ°è¯·æ±‚çš„èµ„æº</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">METHOD_NOT_ALLOWED</span> = <span class=\"number\">405</span>, <span class=\"comment\">// ä¸å…è®¸ä½¿ç”¨æ­¤æ–¹æ³•è¯·æ±‚èµ„æº</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">NOT_ACCEPTABLE</span> = <span class=\"number\">406</span>, <span class=\"comment\">// æ— æ³•ä½¿ç”¨è¯·æ±‚çš„å†…å®¹ç‰¹æ€§å“åº”è¯·æ±‚</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">PROXY_AUTHENTICATION_REQUIRED</span> = <span class=\"number\">407</span>, <span class=\"comment\">// é€šè¿‡ä»£ç†æœåŠ¡å™¨è®¿é—®èµ„æºéœ€è¦è¿›è¡Œä»£ç†è®¤è¯</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">REQUEST_TIMEOUT</span> = <span class=\"number\">408</span>, <span class=\"comment\">// è¯·æ±‚è¶…æ—¶</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">CONFLICT</span> = <span class=\"number\">409</span>, <span class=\"comment\">// è¯·æ±‚çš„èµ„æºå­˜åœ¨å†²çª</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ›´å¤šçš„4xxçŠ¶æ€ç ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯é”™è¯¯</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">GONE</span> = <span class=\"number\">410</span>, <span class=\"comment\">// ä¹‹å‰å¯ç”¨çš„èµ„æºç°å·²ä¸å¯ç”¨ï¼Œä¸”å°†æ¥ä¹Ÿä¸ä¼šå¯ç”¨</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">LENGTH_REQUIRED</span> = <span class=\"number\">411</span>, <span class=\"comment\">// æœåŠ¡å™¨æ‹’ç»åœ¨æ²¡æœ‰å®šä¹‰Content-Lengthå¤´çš„æƒ…å†µä¸‹æ¥å—è¯·æ±‚</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">PRECONDITION_FAILED</span> = <span class=\"number\">412</span>, <span class=\"comment\">// è¯·æ±‚å¤´ä¸­ç»™å‡ºçš„æ¡ä»¶ä¸æ»¡è¶³</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">PAYLOAD_TOO_LARGE</span> = <span class=\"number\">413</span>, <span class=\"comment\">// è¯·æ±‚çš„å®ä½“å¤ªå¤§</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">URI_TOO_LONG</span> = <span class=\"number\">414</span>, <span class=\"comment\">// è¯·æ±‚çš„URIå¤ªé•¿</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">UNSUPPORTED_MEDIA_TYPE</span> = <span class=\"number\">415</span>, <span class=\"comment\">// è¯·æ±‚çš„åª’ä½“ç±»å‹ä¸å—æ”¯æŒ</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">RANGE_NOT_SATISFIABLE</span> = <span class=\"number\">416</span>, <span class=\"comment\">// è¯·æ±‚çš„èŒƒå›´æ— æ•ˆ</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">EXPECTATION_FAILED</span> = <span class=\"number\">417</span>, <span class=\"comment\">// æœåŠ¡å™¨æ— æ³•æ»¡è¶³æœŸæœ›å¤´å­—æ®µçš„è¦æ±‚</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"variable constant_\">UNPROCESSABLE_ENTITY</span> = <span class=\"number\">422</span>, <span class=\"comment\">// è¯·æ±‚çš„å®ä½“ä¸å¯å¤„ç†ä½†å¯èƒ½æ˜¯æœ‰æ•ˆçš„</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">TOO_MANY_REQUESTS</span> = <span class=\"number\">429</span>, <span class=\"comment\">// å‘èµ·çš„è¯·æ±‚å¤ªå¤šï¼Œå¤ªé¢‘ç¹</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// 5xx çŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨é”™è¯¯</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">INTERNAL_SERVER_ERROR</span> = <span class=\"number\">500</span>, <span class=\"comment\">// æœåŠ¡å™¨å‘ç”Ÿå†…éƒ¨é”™è¯¯</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">NOT_IMPLEMENTED</span> = <span class=\"number\">501</span>, <span class=\"comment\">// æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚çš„æ–¹æ³•</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">BAD_GATEWAY</span> = <span class=\"number\">502</span>, <span class=\"comment\">// æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°æ— æ•ˆå“åº”</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">SERVICE_UNAVAILABLE</span> = <span class=\"number\">503</span>, <span class=\"comment\">// æœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼ˆç”±äºä¸´æ—¶è¿‡è½½æˆ–ç»´æŠ¤ï¼‰</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">GATEWAY_TIMEOUT</span> = <span class=\"number\">504</span>, <span class=\"comment\">// æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">HTTP_VERSION_NOT_SUPPORTED</span> = <span class=\"number\">505</span>, <span class=\"comment\">// æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚ä½¿ç”¨çš„HTTPç‰ˆæœ¬</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¡¨ç¤ºæœªçŸ¥çš„çŠ¶æ€ç </span></span><br><span class=\"line\">\t<span class=\"variable constant_\">UNKNOWN</span> = <span class=\"number\">999</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HttpException</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HttpStatusCode</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/http.enum&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ApiException</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">HttpException</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"attr\">errCode</span>: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"attr\">msg</span>: <span class=\"built_in\">string</span> | <span class=\"title class_\">Record</span>&lt;<span class=\"built_in\">string</span>, <span class=\"built_in\">any</span>&gt;,</span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"attr\">errCode</span>: <span class=\"title class_\">HttpStatusCode</span> = <span class=\"title class_\">HttpStatusCode</span>.OK</span></span><br><span class=\"line\"><span class=\"params\">\t</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">switch</span> (errCode) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ²¡æœ‰æƒé™è®¿é—®</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">UNAUTHORIZED</span>:</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">super</span>(msg, <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">OK</span>);</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">errCode</span> = <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">UNAUTHORIZED</span>;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// ç™»å½•å¤±æ•ˆ</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">FORBIDDEN</span>:</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">super</span>(msg, <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">OK</span>);</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">errCode</span> = <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">FORBIDDEN</span>;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// èµ„æºä¸å­˜åœ¨ï¼Œ éªŒè¯ç ï¼Œæ¥å£åœ°å€ï¼Œå›¾ç‰‡èµ„æºç­‰ç­‰</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">NOT_FOUND</span>:</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">super</span>(msg, <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">OK</span>);</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">errCode</span> = <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">NOT_FOUND</span>;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å…¶ä»–å½’äºæœåŠ¡å™¨å†…éƒ¨é”™è¯¯</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">default</span>:</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">super</span>(msg, errCode ?? <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">OK</span>);</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">errCode</span> = <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">INTERNAL_SERVER_ERROR</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"title function_\">getErrCode</span>(): <span class=\"built_in\">number</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">errCode</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å¼‚å¸¸è¿‡æ»¤å™¨\"><a href=\"#å¼‚å¸¸è¿‡æ»¤å™¨\" class=\"headerlink\" title=\"å¼‚å¸¸è¿‡æ»¤å™¨\"></a>å¼‚å¸¸è¿‡æ»¤å™¨</h2><p>å…·ä½“æ“ä½œå¯æŸ¥çœ‹<a href=\"https://nest.nodejs.cn/exception-filters#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8\">æ–‡æ¡£</a></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">\t<span class=\"title class_\">ArgumentsHost</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">Catch</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">ExceptionFilter</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">HttpException</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">HttpStatus</span>,</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ApiException</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../exception/api.exception&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HttpResult</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../class/result.class&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Catch</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AllExceptionFilter</span>&lt;T&gt; <span class=\"keyword\">implements</span> <span class=\"title class_\">ExceptionFilter</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">catch</span>(<span class=\"attr\">exception</span>: T, <span class=\"attr\">host</span>: <span class=\"title class_\">ArgumentsHost</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> ctx = host.<span class=\"title function_\">switchToHttp</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> response = ctx.<span class=\"title function_\">getResponse</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> &#123; status, result &#125; = <span class=\"variable language_\">this</span>.<span class=\"title function_\">errorResult</span>(exception);</span><br><span class=\"line\">\t\tresponse.<span class=\"title function_\">header</span>(<span class=\"string\">&quot;Content-Type&quot;</span>, <span class=\"string\">&quot;application/json; charset=utf-8&quot;</span>);</span><br><span class=\"line\">\t\tresponse.<span class=\"title function_\">status</span>(status).<span class=\"title function_\">json</span>(result);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"title function_\">errorResult</span>(<span class=\"params\"><span class=\"attr\">exception</span>: <span class=\"built_in\">unknown</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> status =</span><br><span class=\"line\">\t\t\texception <span class=\"keyword\">instanceof</span> <span class=\"title class_\">HttpException</span></span><br><span class=\"line\">\t\t\t\t? exception.<span class=\"title function_\">getStatus</span>()</span><br><span class=\"line\">\t\t\t\t: <span class=\"title class_\">HttpStatus</span>.<span class=\"property\">INTERNAL_SERVER_ERROR</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> code =</span><br><span class=\"line\">\t\t\texception <span class=\"keyword\">instanceof</span> <span class=\"title class_\">ApiException</span></span><br><span class=\"line\">\t\t\t\t? (exception <span class=\"keyword\">as</span> <span class=\"title class_\">ApiException</span>).<span class=\"title function_\">getErrCode</span>()</span><br><span class=\"line\">\t\t\t\t: status;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> <span class=\"attr\">message</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (exception <span class=\"keyword\">instanceof</span> <span class=\"title class_\">HttpException</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">const</span> response = exception.<span class=\"title function_\">getResponse</span>();</span><br><span class=\"line\">\t\t\tmessage = (response <span class=\"keyword\">as</span> <span class=\"built_in\">any</span>).<span class=\"property\">message</span> ?? response;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tmessage = <span class=\"string\">`<span class=\"subst\">$&#123;exception&#125;</span>`</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> getMsg = message;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä½¿ç”¨ValidationPipeå¯èƒ½ä¼šè¿”å›æ•°ç»„</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(message)) &#123;</span><br><span class=\"line\">\t\t\tmessage = getMsg[<span class=\"number\">0</span>];</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tmessage = getMsg;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">status</span>: ![<span class=\"number\">200</span>, <span class=\"number\">500</span>, <span class=\"number\">401</span>].<span class=\"title function_\">includes</span>(status) ? <span class=\"number\">200</span> : status,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">result</span>: <span class=\"title class_\">HttpResult</span>.<span class=\"title function_\">error</span>(message, code),</span><br><span class=\"line\">\t\t&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">HttpResult</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">readonly</span> <span class=\"attr\">message</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">readonly</span> <span class=\"attr\">status</span>: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">readonly</span> <span class=\"attr\">timestamp</span>: <span class=\"built_in\">string</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">toISOString</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">readonly</span> <span class=\"attr\">context</span>: <span class=\"built_in\">unknown</span>;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"attr\">context</span>?: <span class=\"built_in\">unknown</span>,</span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"attr\">message</span>: <span class=\"built_in\">string</span> = <span class=\"string\">&quot;success&quot;</span>,</span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"attr\">status</span>: <span class=\"built_in\">number</span> = <span class=\"number\">200</span></span></span><br><span class=\"line\"><span class=\"params\">\t</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">context</span> = context;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">message</span> = message;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">status</span> = status;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">static</span> <span class=\"title function_\">success</span>(<span class=\"params\"><span class=\"attr\">context</span>: <span class=\"built_in\">unknown</span>, message = <span class=\"string\">&quot;æ“ä½œæˆåŠŸ&quot;</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">HttpResult</span>(context, message, <span class=\"number\">200</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">static</span> <span class=\"title function_\">error</span>(<span class=\"params\">message = <span class=\"string\">&quot;æ“ä½œå¤±è´¥&quot;</span>, status = <span class=\"number\">500</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">HttpResult</span>(<span class=\"literal\">null</span>, message, status);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h3><p>åœ¨<code>app.module.ts</code>ä¸­</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [],</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">provide</span>: <span class=\"variable constant_\">APP_FILTER</span>,</span><br><span class=\"line\">      <span class=\"attr\">useClass</span>: <span class=\"title class_\">AllExceptionFilter</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><blockquote>\n<p>Nest å¸¦æœ‰ä¸€ä¸ªå†…ç½®çš„å¼‚å¸¸å±‚ï¼Œè´Ÿè´£å¤„ç†åº”ç”¨ä¸­æ‰€æœ‰æœªå¤„ç†çš„å¼‚å¸¸ã€‚å½“ä½ çš„åº”ç”¨ä»£ç æœªå¤„ç†å¼‚å¸¸æ—¶ï¼Œè¯¥å±‚ä¼šæ•è·è¯¥å¼‚å¸¸ï¼Œç„¶åè‡ªåŠ¨å‘é€é€‚å½“çš„ç”¨æˆ·å‹å¥½å“åº”ã€‚</p>\n<p>å¼€ç®±å³ç”¨ï¼Œæ­¤æ“ä½œç”±å†…ç½®çš„å…¨å±€å¼‚å¸¸è¿‡æ»¤å™¨æ‰§è¡Œï¼Œè¯¥è¿‡æ»¤å™¨å¤„ç† HttpException ç±»å‹ï¼ˆåŠå…¶å­ç±»ï¼‰çš„å¼‚å¸¸ã€‚å½“å¼‚å¸¸æ— æ³•è¯†åˆ«æ—¶ï¼ˆæ—¢ä¸æ˜¯ HttpException ä¹Ÿä¸æ˜¯ç»§æ‰¿è‡ª HttpException çš„ç±»ï¼‰ï¼Œå†…ç½®å¼‚å¸¸è¿‡æ»¤å™¨ä¼šç”Ÿæˆä»¥ä¸‹é»˜è®¤ JSON å“åº”ï¼š</p>\n</blockquote>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;statusCode&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">500</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;message&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Internal server error&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å†…ç½®å¼‚å¸¸\"><a href=\"#å†…ç½®å¼‚å¸¸\" class=\"headerlink\" title=\"å†…ç½®å¼‚å¸¸\"></a>å†…ç½®å¼‚å¸¸</h2><p>ä¾‹å¦‚ï¼Œåœ¨ <code>CatsController</code> ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª <code>findAll()</code> æ–¹æ³•ï¼ˆä¸€ä¸ª GET è·¯ç”±å¤„ç†ç¨‹åºï¼‰ã€‚å‡è®¾æ­¤è·¯ç”±å¤„ç†ç¨‹åºå‡ºäºæŸç§åŸå› æŠ›å‡ºå¼‚å¸¸ã€‚ä¸ºäº†è¯æ˜è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†ç¡¬ç¼–ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Get</span>()</span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"title function_\">findAll</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">HttpException</span>(<span class=\"string\">&#x27;Forbidden&#x27;</span>, <span class=\"title class_\">HttpStatus</span>.<span class=\"property\">FORBIDDEN</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>HttpException</code>å‚æ•°è¯´æ˜:</p>\n<ul>\n<li><code>response</code> å‚æ•°å®šä¹‰ JSON å“åº”ä¸»ä½“ã€‚å®ƒå¯ä»¥æ˜¯ <code>string æˆ– object</code>ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚</li>\n<li><code>status</code> å‚æ•°å®šä¹‰äº† <a href=\"https://web.nodejs.cn/en-us/docs/web/http/status/\">HTTP çŠ¶æ€ä»£ç </a>ã€‚</li>\n<li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒJSON å“åº”ä¸»ä½“åŒ…å«ä¸¤ä¸ªå±æ€§ï¼š<ul>\n<li><code>statusCode</code>ï¼šé»˜è®¤ä¸º <code>status</code> å‚æ•°ä¸­æä¾›çš„ <code>HTTP</code> çŠ¶æ€ä»£ç </li>\n<li><code>message</code>ï¼šåŸºäº <code>status</code> çš„ <code>HTTP</code> é”™è¯¯çš„ç®€çŸ­æè¿°</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"è‡ªå®šä¹‰å¼‚å¸¸\"><a href=\"#è‡ªå®šä¹‰å¼‚å¸¸\" class=\"headerlink\" title=\"è‡ªå®šä¹‰å¼‚å¸¸\"></a>è‡ªå®šä¹‰å¼‚å¸¸</h2><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å¸¸ç”¨çš„çŠ¶æ€æšä¸¾</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">HttpStatusCode</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 2xx çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚å·²æˆåŠŸå¤„ç†</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">OK</span> = <span class=\"number\">200</span>, <span class=\"comment\">// è¯·æ±‚æˆåŠŸ</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">CREATED</span> = <span class=\"number\">201</span>, <span class=\"comment\">// è¯·æ±‚å·²æˆåŠŸåˆ›å»ºæ–°çš„èµ„æº</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">ACCEPTED</span> = <span class=\"number\">202</span>, <span class=\"comment\">// è¯·æ±‚å·²ç»æ¥å—ï¼Œä½†æœªå¤„ç†å®Œæˆ</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">NO_CONTENT</span> = <span class=\"number\">204</span>, <span class=\"comment\">// æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">PARTIAL_CONTENT</span> = <span class=\"number\">206</span>, <span class=\"comment\">// æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†éƒ¨åˆ†èŒƒå›´è¯·æ±‚</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// 3xx çŠ¶æ€ç è¡¨ç¤ºé‡å®šå‘</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">MULTIPLE_CHOICES</span> = <span class=\"number\">300</span>, <span class=\"comment\">// è¯·æ±‚çš„ç›®æ ‡æœ‰å¤šä¸ªé‡å®šå‘åœ°å€</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">MOVED_PERMANENTLY</span> = <span class=\"number\">301</span>, <span class=\"comment\">// è¯·æ±‚çš„èµ„æºå·²è¢«æ°¸ä¹…ç§»åŠ¨åˆ°æ–°çš„URI</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">FOUND</span> = <span class=\"number\">302</span>, <span class=\"comment\">// è¯·æ±‚çš„èµ„æºä¸´æ—¶ç§»åŠ¨åˆ°æ–°çš„URI</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">SEE_OTHER</span> = <span class=\"number\">303</span>, <span class=\"comment\">// ä¸´æ—¶é‡å®šå‘ï¼Œä¸”åº”ä½¿ç”¨GETæ–¹æ³•è·å–æ–°çš„URI</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">NOT_MODIFIED</span> = <span class=\"number\">304</span>, <span class=\"comment\">// è‡ªä¸Šæ¬¡è¯·æ±‚ä»¥æ¥ï¼Œè¯·æ±‚çš„èµ„æºæœªä¿®æ”¹</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">USE_PROXY</span> = <span class=\"number\">305</span>, <span class=\"comment\">// è®¿é—®èµ„æºåº”é€šè¿‡ä»£ç†è¿›è¡Œ</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">TEMPORARY_REDIRECT</span> = <span class=\"number\">307</span>, <span class=\"comment\">// ä¸´æ—¶é‡å®šå‘</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">PERMANENT_REDIRECT</span> = <span class=\"number\">308</span>, <span class=\"comment\">// æ°¸ä¹…é‡å®šå‘</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// 4xx çŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯é”™è¯¯</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">BAD_REQUEST</span> = <span class=\"number\">400</span>, <span class=\"comment\">// è¯·æ±‚çš„è¯­æ³•é”™è¯¯æˆ–è¯·æ±‚æ— æ³•ç†è§£</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">UNAUTHORIZED</span> = <span class=\"number\">401</span>, <span class=\"comment\">// æœªæˆæƒè®¿é—®</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">PAYMENT_REQUIRED</span> = <span class=\"number\">402</span>, <span class=\"comment\">// æš‚æœªä½¿ç”¨ï¼Œä¿ç•™ç»™å°†æ¥å¯èƒ½çš„éœ€æ±‚</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">FORBIDDEN</span> = <span class=\"number\">403</span>, <span class=\"comment\">// å®¢æˆ·ç«¯æ²¡æœ‰è¶³å¤Ÿçš„æƒé™è®¿é—®è¯·æ±‚çš„èµ„æº</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">NOT_FOUND</span> = <span class=\"number\">404</span>, <span class=\"comment\">// æœªæ‰¾åˆ°è¯·æ±‚çš„èµ„æº</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">METHOD_NOT_ALLOWED</span> = <span class=\"number\">405</span>, <span class=\"comment\">// ä¸å…è®¸ä½¿ç”¨æ­¤æ–¹æ³•è¯·æ±‚èµ„æº</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">NOT_ACCEPTABLE</span> = <span class=\"number\">406</span>, <span class=\"comment\">// æ— æ³•ä½¿ç”¨è¯·æ±‚çš„å†…å®¹ç‰¹æ€§å“åº”è¯·æ±‚</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">PROXY_AUTHENTICATION_REQUIRED</span> = <span class=\"number\">407</span>, <span class=\"comment\">// é€šè¿‡ä»£ç†æœåŠ¡å™¨è®¿é—®èµ„æºéœ€è¦è¿›è¡Œä»£ç†è®¤è¯</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">REQUEST_TIMEOUT</span> = <span class=\"number\">408</span>, <span class=\"comment\">// è¯·æ±‚è¶…æ—¶</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">CONFLICT</span> = <span class=\"number\">409</span>, <span class=\"comment\">// è¯·æ±‚çš„èµ„æºå­˜åœ¨å†²çª</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ›´å¤šçš„4xxçŠ¶æ€ç ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯é”™è¯¯</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">GONE</span> = <span class=\"number\">410</span>, <span class=\"comment\">// ä¹‹å‰å¯ç”¨çš„èµ„æºç°å·²ä¸å¯ç”¨ï¼Œä¸”å°†æ¥ä¹Ÿä¸ä¼šå¯ç”¨</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">LENGTH_REQUIRED</span> = <span class=\"number\">411</span>, <span class=\"comment\">// æœåŠ¡å™¨æ‹’ç»åœ¨æ²¡æœ‰å®šä¹‰Content-Lengthå¤´çš„æƒ…å†µä¸‹æ¥å—è¯·æ±‚</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">PRECONDITION_FAILED</span> = <span class=\"number\">412</span>, <span class=\"comment\">// è¯·æ±‚å¤´ä¸­ç»™å‡ºçš„æ¡ä»¶ä¸æ»¡è¶³</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">PAYLOAD_TOO_LARGE</span> = <span class=\"number\">413</span>, <span class=\"comment\">// è¯·æ±‚çš„å®ä½“å¤ªå¤§</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">URI_TOO_LONG</span> = <span class=\"number\">414</span>, <span class=\"comment\">// è¯·æ±‚çš„URIå¤ªé•¿</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">UNSUPPORTED_MEDIA_TYPE</span> = <span class=\"number\">415</span>, <span class=\"comment\">// è¯·æ±‚çš„åª’ä½“ç±»å‹ä¸å—æ”¯æŒ</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">RANGE_NOT_SATISFIABLE</span> = <span class=\"number\">416</span>, <span class=\"comment\">// è¯·æ±‚çš„èŒƒå›´æ— æ•ˆ</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">EXPECTATION_FAILED</span> = <span class=\"number\">417</span>, <span class=\"comment\">// æœåŠ¡å™¨æ— æ³•æ»¡è¶³æœŸæœ›å¤´å­—æ®µçš„è¦æ±‚</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"variable constant_\">UNPROCESSABLE_ENTITY</span> = <span class=\"number\">422</span>, <span class=\"comment\">// è¯·æ±‚çš„å®ä½“ä¸å¯å¤„ç†ä½†å¯èƒ½æ˜¯æœ‰æ•ˆçš„</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">TOO_MANY_REQUESTS</span> = <span class=\"number\">429</span>, <span class=\"comment\">// å‘èµ·çš„è¯·æ±‚å¤ªå¤šï¼Œå¤ªé¢‘ç¹</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// 5xx çŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨é”™è¯¯</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">INTERNAL_SERVER_ERROR</span> = <span class=\"number\">500</span>, <span class=\"comment\">// æœåŠ¡å™¨å‘ç”Ÿå†…éƒ¨é”™è¯¯</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">NOT_IMPLEMENTED</span> = <span class=\"number\">501</span>, <span class=\"comment\">// æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚çš„æ–¹æ³•</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">BAD_GATEWAY</span> = <span class=\"number\">502</span>, <span class=\"comment\">// æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°æ— æ•ˆå“åº”</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">SERVICE_UNAVAILABLE</span> = <span class=\"number\">503</span>, <span class=\"comment\">// æœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼ˆç”±äºä¸´æ—¶è¿‡è½½æˆ–ç»´æŠ¤ï¼‰</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">GATEWAY_TIMEOUT</span> = <span class=\"number\">504</span>, <span class=\"comment\">// æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">HTTP_VERSION_NOT_SUPPORTED</span> = <span class=\"number\">505</span>, <span class=\"comment\">// æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚ä½¿ç”¨çš„HTTPç‰ˆæœ¬</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¡¨ç¤ºæœªçŸ¥çš„çŠ¶æ€ç </span></span><br><span class=\"line\">\t<span class=\"variable constant_\">UNKNOWN</span> = <span class=\"number\">999</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HttpException</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HttpStatusCode</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/http.enum&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ApiException</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">HttpException</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"attr\">errCode</span>: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"attr\">msg</span>: <span class=\"built_in\">string</span> | <span class=\"title class_\">Record</span>&lt;<span class=\"built_in\">string</span>, <span class=\"built_in\">any</span>&gt;,</span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"attr\">errCode</span>: <span class=\"title class_\">HttpStatusCode</span> = <span class=\"title class_\">HttpStatusCode</span>.OK</span></span><br><span class=\"line\"><span class=\"params\">\t</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">switch</span> (errCode) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ²¡æœ‰æƒé™è®¿é—®</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">UNAUTHORIZED</span>:</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">super</span>(msg, <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">OK</span>);</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">errCode</span> = <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">UNAUTHORIZED</span>;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// ç™»å½•å¤±æ•ˆ</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">FORBIDDEN</span>:</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">super</span>(msg, <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">OK</span>);</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">errCode</span> = <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">FORBIDDEN</span>;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// èµ„æºä¸å­˜åœ¨ï¼Œ éªŒè¯ç ï¼Œæ¥å£åœ°å€ï¼Œå›¾ç‰‡èµ„æºç­‰ç­‰</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">NOT_FOUND</span>:</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">super</span>(msg, <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">OK</span>);</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">errCode</span> = <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">NOT_FOUND</span>;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å…¶ä»–å½’äºæœåŠ¡å™¨å†…éƒ¨é”™è¯¯</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">default</span>:</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">super</span>(msg, errCode ?? <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">OK</span>);</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">errCode</span> = <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">INTERNAL_SERVER_ERROR</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"title function_\">getErrCode</span>(): <span class=\"built_in\">number</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">errCode</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å¼‚å¸¸è¿‡æ»¤å™¨\"><a href=\"#å¼‚å¸¸è¿‡æ»¤å™¨\" class=\"headerlink\" title=\"å¼‚å¸¸è¿‡æ»¤å™¨\"></a>å¼‚å¸¸è¿‡æ»¤å™¨</h2><p>å…·ä½“æ“ä½œå¯æŸ¥çœ‹<a href=\"https://nest.nodejs.cn/exception-filters#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8\">æ–‡æ¡£</a></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">\t<span class=\"title class_\">ArgumentsHost</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">Catch</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">ExceptionFilter</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">HttpException</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">HttpStatus</span>,</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ApiException</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../exception/api.exception&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HttpResult</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../class/result.class&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Catch</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AllExceptionFilter</span>&lt;T&gt; <span class=\"keyword\">implements</span> <span class=\"title class_\">ExceptionFilter</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">catch</span>(<span class=\"attr\">exception</span>: T, <span class=\"attr\">host</span>: <span class=\"title class_\">ArgumentsHost</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> ctx = host.<span class=\"title function_\">switchToHttp</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> response = ctx.<span class=\"title function_\">getResponse</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> &#123; status, result &#125; = <span class=\"variable language_\">this</span>.<span class=\"title function_\">errorResult</span>(exception);</span><br><span class=\"line\">\t\tresponse.<span class=\"title function_\">header</span>(<span class=\"string\">&quot;Content-Type&quot;</span>, <span class=\"string\">&quot;application/json; charset=utf-8&quot;</span>);</span><br><span class=\"line\">\t\tresponse.<span class=\"title function_\">status</span>(status).<span class=\"title function_\">json</span>(result);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"title function_\">errorResult</span>(<span class=\"params\"><span class=\"attr\">exception</span>: <span class=\"built_in\">unknown</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> status =</span><br><span class=\"line\">\t\t\texception <span class=\"keyword\">instanceof</span> <span class=\"title class_\">HttpException</span></span><br><span class=\"line\">\t\t\t\t? exception.<span class=\"title function_\">getStatus</span>()</span><br><span class=\"line\">\t\t\t\t: <span class=\"title class_\">HttpStatus</span>.<span class=\"property\">INTERNAL_SERVER_ERROR</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> code =</span><br><span class=\"line\">\t\t\texception <span class=\"keyword\">instanceof</span> <span class=\"title class_\">ApiException</span></span><br><span class=\"line\">\t\t\t\t? (exception <span class=\"keyword\">as</span> <span class=\"title class_\">ApiException</span>).<span class=\"title function_\">getErrCode</span>()</span><br><span class=\"line\">\t\t\t\t: status;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> <span class=\"attr\">message</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (exception <span class=\"keyword\">instanceof</span> <span class=\"title class_\">HttpException</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">const</span> response = exception.<span class=\"title function_\">getResponse</span>();</span><br><span class=\"line\">\t\t\tmessage = (response <span class=\"keyword\">as</span> <span class=\"built_in\">any</span>).<span class=\"property\">message</span> ?? response;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tmessage = <span class=\"string\">`<span class=\"subst\">$&#123;exception&#125;</span>`</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> getMsg = message;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä½¿ç”¨ValidationPipeå¯èƒ½ä¼šè¿”å›æ•°ç»„</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(message)) &#123;</span><br><span class=\"line\">\t\t\tmessage = getMsg[<span class=\"number\">0</span>];</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tmessage = getMsg;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">status</span>: ![<span class=\"number\">200</span>, <span class=\"number\">500</span>, <span class=\"number\">401</span>].<span class=\"title function_\">includes</span>(status) ? <span class=\"number\">200</span> : status,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">result</span>: <span class=\"title class_\">HttpResult</span>.<span class=\"title function_\">error</span>(message, code),</span><br><span class=\"line\">\t\t&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">HttpResult</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">readonly</span> <span class=\"attr\">message</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">readonly</span> <span class=\"attr\">status</span>: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">readonly</span> <span class=\"attr\">timestamp</span>: <span class=\"built_in\">string</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">toISOString</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">readonly</span> <span class=\"attr\">context</span>: <span class=\"built_in\">unknown</span>;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"attr\">context</span>?: <span class=\"built_in\">unknown</span>,</span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"attr\">message</span>: <span class=\"built_in\">string</span> = <span class=\"string\">&quot;success&quot;</span>,</span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"attr\">status</span>: <span class=\"built_in\">number</span> = <span class=\"number\">200</span></span></span><br><span class=\"line\"><span class=\"params\">\t</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">context</span> = context;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">message</span> = message;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">status</span> = status;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">static</span> <span class=\"title function_\">success</span>(<span class=\"params\"><span class=\"attr\">context</span>: <span class=\"built_in\">unknown</span>, message = <span class=\"string\">&quot;æ“ä½œæˆåŠŸ&quot;</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">HttpResult</span>(context, message, <span class=\"number\">200</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">static</span> <span class=\"title function_\">error</span>(<span class=\"params\">message = <span class=\"string\">&quot;æ“ä½œå¤±è´¥&quot;</span>, status = <span class=\"number\">500</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">HttpResult</span>(<span class=\"literal\">null</span>, message, status);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h3><p>åœ¨<code>app.module.ts</code>ä¸­</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [],</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">provide</span>: <span class=\"variable constant_\">APP_FILTER</span>,</span><br><span class=\"line\">      <span class=\"attr\">useClass</span>: <span class=\"title class_\">AllExceptionFilter</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n"},{"title":"Nest-æ‹¦æˆªå™¨","abbrlink":"31f56178","date":"2024-11-08T01:05:01.000Z","_content":"\n# ä»‹ç»\n\næ‹¦æˆªå™¨æ˜¯ç”¨ `@Injectable()` è£…é¥°å™¨æ³¨é‡Šå¹¶å®ç° `NestInterceptor` æ¥å£çš„ç±»ã€‚\n\næ‹¦æˆªå™¨å…·æœ‰ä¸€ç»„æœ‰ç”¨çš„åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½çš„çµæ„Ÿæ¥è‡ª é¢å‘æ–¹é¢ç¼–ç¨‹ (AOP) æŠ€æœ¯ã€‚å®ƒä»¬å¯ä»¥ï¼š\n\n- åœ¨æ–¹æ³•æ‰§è¡Œä¹‹å‰/ä¹‹åç»‘å®šé¢å¤–çš„é€»è¾‘\n- è½¬æ¢å‡½æ•°è¿”å›çš„ç»“æœ\n- è½¬æ¢å‡½æ•°æŠ›å‡ºçš„å¼‚å¸¸\n- æ‰©å±•åŸºæœ¬åŠŸèƒ½è¡Œä¸º\n- æ ¹æ®ç‰¹å®šæ¡ä»¶å®Œå…¨è¦†ç›–å‡½æ•°ï¼ˆä¾‹å¦‚ï¼Œå‡ºäºç¼“å­˜ç›®çš„ï¼‰\n\nåœ¨æ—¥å¸¸æ¥å£è°ƒè¯•ä¸­ï¼Œæ€»ä¼šçœ‹åˆ°åç«¯è¿”å›çš„æ•°æ®æ ¼å¼éƒ½æ˜¯ä¸€è‡´çš„ï¼Œä¾‹å¦‚ï¼š\n\n```json\n{\n\t\"success\": true,\n\t\"message\": \"æ“ä½œæˆåŠŸ\",\n\t\"context\": {},\n\t\"code\": 200\n}\n```\n\næ¥ä¸‹æ¥æˆ‘ä¼šæåˆ°ä¿©ä¸ªæ¡ˆä¾‹ï¼Œä¸€ä¸ªæ˜¯æ¥å£è¿”å›æ‹¦æˆªï¼Œä¸€ä¸ªæ˜¯æ¥å£æ—¥å¿—è®°å½•\n\n## æ¥å£è°ƒç”¨è®°å½•\n\n### è‡ªå®šä¹‰å…ƒæ•°æ®\n\n```ts\nimport { SetMetadata } from \"@nestjs/common\";\nimport { LOG_KEY_METADATA } from \"../constants/metadata.constant\";\nimport { BusinessTypeEnum, LogProductEnum } from \"../enum/log.enum\";\n\nexport class LogOption {\n\tprojectCode: LogProductEnum;\n\ttitle: string;\n\tbusinessType?: BusinessTypeEnum = BusinessTypeEnum.OTHER;\n}\nexport const Log = (logOption: LogOption) => {\n\treturn SetMetadata(\n\t\tLOG_KEY_METADATA,\n\t\tObject.assign(new LogOption(), logOption)\n\t);\n};\n```\n\n### è¡¨ç»“æ„\n\n```ts\nimport { Prop, Schema, SchemaFactory } from \"@nestjs/mongoose\";\nimport { DeviceSysCodeEnum } from \"src/common/enum/device.enum\";\nimport {\n\tBusinessTypeEnum,\n\tLogProductEnum,\n\tLogStatusEnum,\n} from \"src/common/enum/log.enum\";\n\nexport const LOG_MODEL_NAME = \"db_logs\";\n\n@Schema()\nexport class Log_Schema {\n\t// æ¨¡å—æ ‡é¢˜\n\t@Prop()\n\ttitle: string;\n\n\t// ä¸šåŠ¡ç±»å‹, æ·»åŠ è¿˜æ˜¯ä¿®æ”¹\n\t@Prop({ default: BusinessTypeEnum.OTHER })\n\tbusinessType: number;\n\n\t// è¯·æ±‚å¹³å°code\n\t@Prop({ default: DeviceSysCodeEnum.OTHER })\n\tplatformCode: string;\n\n\t// é¡¹ç›®code\n\t@Prop({ default: LogProductEnum.OTHER })\n\tprojectCode: number;\n\n\t// è¯·æ±‚æ–¹æ³•\n\t@Prop()\n\tmethod: string;\n\n\t// è¯·æ±‚å‚æ•°\n\t@Prop()\n\trequestParam: string;\n\n\t// è¯·æ±‚ç”¨æˆ·\n\t@Prop()\n\toperateUser: string;\n\n\t// è¯·æ±‚ç”¨æˆ·id\n\t@Prop()\n\toperateUserId: string;\n\n\t// è¯·æ±‚ip\n\t@Prop()\n\tip: string;\n\n\t// è¯·æ±‚çš„åœ°å€\n\t@Prop()\n\taddress: string;\n\n\t// è¯·æ±‚çš„çŠ¶æ€\n\t@Prop({ default: LogStatusEnum.SUCCESS })\n\tstatus: number;\n\n\t// è¯·æ±‚å¼‚å¸¸åŸå› \n\t@Prop()\n\terrorMsg: string;\n\n\t// è¯·æ±‚åœ°å€\n\t@Prop()\n\turl: string;\n\n\t// æ“ä½œæ—¶é—´\n\t@Prop()\n\tcreateTime: string;\n}\n\nexport const LogSchema = SchemaFactory.createForClass(Log_Schema);\n```\n\n### æ¶‰åŠåˆ°çš„æšä¸¾\n\n```ts\nexport enum LogProductEnum {\n\t// å…¶ä»–\n\tOTHER = 0,\n\t// åå°\n\tADMIN = 1,\n\t// å•†å®¶\n\tMERCHANT = 2,\n\t// å…¨å±€\n\tGLOBAL = 3,\n}\n\nexport enum BusinessTypeEnum {\n\t// å…¶å®ƒ\n\tOTHER = 0,\n\t// æ–°å¢\n\tINSERT = 1,\n\t// ä¿®æ”¹\n\tUPDATE = 2,\n\t// åˆ é™¤\n\tDELETE = 3,\n\t// æŸ¥è¯¢\n\tSELECT = 4,\n\t// æˆæƒ\n\tGRANT = 5,\n\t// å¯¼å‡º\n\tEXPORT = 6,\n\t// å¯¼å…¥\n\tIMPORT = 7,\n}\n\nexport enum LogStatusEnum {\n\t// æˆåŠŸ\n\tSUCCESS = 0,\n\t// å¤±è´¥\n\tFAIL = 1,\n}\n\nexport enum DeviceSysCodeEnum {\n\t// h5\n\tH5 = \"H5\",\n\t// pc\n\tPC = \"PC\",\n\t// ç§»åŠ¨ç«¯\n\tMOBILE = \"MOBILE\",\n\t// å°ç¨‹åº\n\tMINI_PROGRAM = \"MINI_PROGRAM\",\n\t// å…¶ä»–\n\tOTHER = \"OTHER\",\n}\n```\n\n```ts\nimport {\n\tCallHandler,\n\tExecutionContext,\n\tInjectable,\n\tNestInterceptor,\n\tStreamableFile,\n} from \"@nestjs/common\";\nimport { Reflector } from \"@nestjs/core\";\nimport { Observable, tap } from \"rxjs\";\nimport { CommonService } from \"src/shared/common/common.service\";\nimport { LOG_KEY_METADATA } from \"../constants/metadata.constant\";\nimport { LogOption } from \"../decorator/log.decorator\";\nimport { HttpResult } from \"../class/result.class\";\nimport { DeviceSysCodeEnum } from \"../enum/device.enum\";\nimport { LogStatusEnum } from \"../enum/log.enum\";\nimport { AllExceptionFilter } from \"../filter/all-exception.filter\";\nimport { LogService } from \"src/shared/log/log.service\";\nimport { Log_Schema } from \"src/shared/log/schemas/log.schema\";\nimport { HttpStatusCode } from \"../enum/http.enum\";\n\n@Injectable()\nexport class LogInterceptor implements NestInterceptor {\n\tconstructor(\n\t\tprivate readonly reflector: Reflector,\n\t\tprivate readonly commonService: CommonService,\n\t\tprivate readonly logService: LogService\n\t) {}\n\tintercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n\t\treturn next.handle().pipe(\n\t\t\ttap({\n\t\t\t\tnext: data => {\n\t\t\t\t\treturn this.log(context, data);\n\t\t\t\t},\n\t\t\t\terror: error => {\n\t\t\t\t\tconst allExceptionFilter = new AllExceptionFilter();\n\t\t\t\t\tconst { result } = allExceptionFilter.errorResult(error);\n\t\t\t\t\treturn this.log(context, result);\n\t\t\t\t},\n\t\t\t})\n\t\t);\n\t}\n\n\tasync log(context: ExecutionContext, data: HttpResult) {\n\t\tconst logOption = this.reflector.get<LogOption>(\n\t\t\t// å¯ä»¥çœ‹ä¸Šä¸€ç« è·¯ç”±å®ˆå«\n\t\t\tLOG_KEY_METADATA,\n\t\t\tcontext.getHandler()\n\t\t);\n\t\tif (!logOption) return true;\n\t\tconst request = context.switchToHttp().getRequest();\n\t\tconst method = request.method.toUpperCase();\n\t\tconst logDto = new Log_Schema();\n\t\t// æ¨¡å—æ ‡é¢˜\n\t\tlogDto.title = logOption.title;\n\t\t// ä¸šåŠ¡ç±»å‹\n\t\tlogDto.businessType = logOption.businessType;\n\t\t// è¯·æ±‚å¹³å°code\n\t\tlogDto.platformCode =\n\t\t\trequest.headers[\"platformCode\"] ?? DeviceSysCodeEnum.OTHER;\n\t\t// é¡¹ç›®code\n\t\tlogDto.projectCode = logOption.projectCode;\n\t\t// è¯·æ±‚æ–¹å¼\n\t\tlogDto.method = method;\n\t\t// è¯·æ±‚å‚æ•°\n\t\tlogDto.requestParam = JSON.stringify({\n\t\t\tparams: request.params,\n\t\t\tquery: request.query,\n\t\t\tbody: request.body,\n\t\t});\n\t\t// è¯·æ±‚åœ°å€\n\t\tlogDto.url = request.url;\n\t\t// è¯·æ±‚ç”¨æˆ·\n\t\tlogDto.operateUser = request?.user?.username ?? \"\";\n\t\t// è¯·æ±‚ç”¨æˆ·id\n\t\tlogDto.operateUserId = request?.user?._id ?? \"\";\n\t\t// è¯·æ±‚ip\n\t\tlogDto.ip = this.commonService.getIp(request);\n\t\t// è¯·æ±‚çš„åœ°å€\n\t\tlogDto.address = await this.commonService.getLocation(logDto.ip);\n\t\t// æ“ä½œæ—¶é—´\n\t\tlogDto.createTime = this.commonService.formatDate();\n\t\t// æˆåŠŸçš„è¯·æ±‚\n\t\tif (\n\t\t\t(data && data.status === HttpStatusCode.OK) ||\n\t\t\tdata instanceof StreamableFile\n\t\t) {\n\t\t\t//å¦‚æœæ˜¯æµï¼Œéƒ½ç®—æˆåŠŸ\n\t\t\tlogDto.status = LogStatusEnum.SUCCESS;\n\t\t} else {\n\t\t\t//å¤±è´¥çš„è¯·æ±‚\n\t\t\tlogDto.status = LogStatusEnum.FAIL;\n\t\t\tlogDto.errorMsg = data && data.message;\n\t\t}\n\t\t// è¿™é‡Œè‡ªå·±å†™ï¼Œå°±æ˜¯å°†è¿™æ¡æ•°æ®æ·»åŠ åˆ°æ•°æ®åº“\n\t\tawait this.logService.create(logDto);\n\t}\n}\n```\n\n### æ³¨å†Œ\n\nåœ¨ `app.module.ts`ä¸­:\n\n```ts\n@Module({\n  providers: [\n    {\n      provide: APP_INTERCEPTOR,\n      useClass: LogInterceptor,\n    },\n  ],\n})\n```\n\n### æ§åˆ¶å±‚ä½¿ç”¨\n\n```ts\nimport { Controller, Post, Body, Get, Request } from \"@nestjs/common\";\nexport class UserController {\n\tconstructor() {}\n\n\t// æ·»åŠ è¿™ä¸€è¡Œä»£ç \n\t@Log({\n\t\ttitle: \"æ·»åŠ ç”¨æˆ·\",\n\t\tprojectCode: LogProductEnum.ADMIN,\n\t})\n\t@Post(\"create\")\n\tasync create(@Body() body: { username: string; password: string }) {\n\t\treturn \"success\";\n\t}\n}\n```\n\n## æ‹¦æˆªå™¨\n\n### æ‹¦æˆªå™¨ä»£ç \n\n```ts\nimport {\n\tCallHandler,\n\tExecutionContext,\n\tInjectable,\n\tNestInterceptor,\n} from \"@nestjs/common\";\nimport { map, Observable, tap } from \"rxjs\";\nimport { HttpResult } from \"../class/result.class\";\n\n@Injectable()\nexport class InterceptorInterceptor implements NestInterceptor {\n\tintercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n\t\tconst request = context.switchToHttp().getRequest();\n\t\treturn next.handle().pipe(\n\t\t\ttap(() => {\n\t\t\t\tconsole.log(request);\n\t\t\t}),\n\t\t\tmap(data => {\n\t\t\t\treturn HttpResult.success(\n\t\t\t\t\tdata?.context ?? data,\n\t\t\t\t\tdata?.message ?? \"æ“ä½œæˆåŠŸ\"\n\t\t\t\t);\n\t\t\t})\n\t\t);\n\t}\n}\n```\n\n### æ³¨å†Œ\n\nåœ¨ `app.module.ts`ä¸­:\n\n```ts\n@Module({\n  providers: [\n    {\n      provide: APP_INTERCEPTOR,\n      useClass: InterceptorInterceptor,\n    },\n  ],\n})\n```\n\n---\n\n## æ³¨æ„\n\n1. [`LOG_KEY_METADATA` åœ¨è¿™é‡Œ](/brochure/nest/base/canActive.html#å¸¸é‡æ–‡ä»¶)\n2. [`AllExceptionFilter` åœ¨è¿™é‡Œ](/brochure/nest/base/exceptionFilter.html#å¼‚å¸¸è¿‡æ»¤å™¨)\n3. [`HttpResult` åœ¨è¿™é‡Œ](/brochure/nest/base/exceptionFilter.html#å¼‚å¸¸è¿‡æ»¤å™¨)\n","source":"_posts/æŠ€èƒ½å°å†Œ/Nest/æ‹¦æˆªå™¨.md","raw":"---\ntitle: Nest-æ‹¦æˆªå™¨\nabbrlink: 31f56178\ndate: 2024-11-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Nest\n---\n\n# ä»‹ç»\n\næ‹¦æˆªå™¨æ˜¯ç”¨ `@Injectable()` è£…é¥°å™¨æ³¨é‡Šå¹¶å®ç° `NestInterceptor` æ¥å£çš„ç±»ã€‚\n\næ‹¦æˆªå™¨å…·æœ‰ä¸€ç»„æœ‰ç”¨çš„åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½çš„çµæ„Ÿæ¥è‡ª é¢å‘æ–¹é¢ç¼–ç¨‹ (AOP) æŠ€æœ¯ã€‚å®ƒä»¬å¯ä»¥ï¼š\n\n- åœ¨æ–¹æ³•æ‰§è¡Œä¹‹å‰/ä¹‹åç»‘å®šé¢å¤–çš„é€»è¾‘\n- è½¬æ¢å‡½æ•°è¿”å›çš„ç»“æœ\n- è½¬æ¢å‡½æ•°æŠ›å‡ºçš„å¼‚å¸¸\n- æ‰©å±•åŸºæœ¬åŠŸèƒ½è¡Œä¸º\n- æ ¹æ®ç‰¹å®šæ¡ä»¶å®Œå…¨è¦†ç›–å‡½æ•°ï¼ˆä¾‹å¦‚ï¼Œå‡ºäºç¼“å­˜ç›®çš„ï¼‰\n\nåœ¨æ—¥å¸¸æ¥å£è°ƒè¯•ä¸­ï¼Œæ€»ä¼šçœ‹åˆ°åç«¯è¿”å›çš„æ•°æ®æ ¼å¼éƒ½æ˜¯ä¸€è‡´çš„ï¼Œä¾‹å¦‚ï¼š\n\n```json\n{\n\t\"success\": true,\n\t\"message\": \"æ“ä½œæˆåŠŸ\",\n\t\"context\": {},\n\t\"code\": 200\n}\n```\n\næ¥ä¸‹æ¥æˆ‘ä¼šæåˆ°ä¿©ä¸ªæ¡ˆä¾‹ï¼Œä¸€ä¸ªæ˜¯æ¥å£è¿”å›æ‹¦æˆªï¼Œä¸€ä¸ªæ˜¯æ¥å£æ—¥å¿—è®°å½•\n\n## æ¥å£è°ƒç”¨è®°å½•\n\n### è‡ªå®šä¹‰å…ƒæ•°æ®\n\n```ts\nimport { SetMetadata } from \"@nestjs/common\";\nimport { LOG_KEY_METADATA } from \"../constants/metadata.constant\";\nimport { BusinessTypeEnum, LogProductEnum } from \"../enum/log.enum\";\n\nexport class LogOption {\n\tprojectCode: LogProductEnum;\n\ttitle: string;\n\tbusinessType?: BusinessTypeEnum = BusinessTypeEnum.OTHER;\n}\nexport const Log = (logOption: LogOption) => {\n\treturn SetMetadata(\n\t\tLOG_KEY_METADATA,\n\t\tObject.assign(new LogOption(), logOption)\n\t);\n};\n```\n\n### è¡¨ç»“æ„\n\n```ts\nimport { Prop, Schema, SchemaFactory } from \"@nestjs/mongoose\";\nimport { DeviceSysCodeEnum } from \"src/common/enum/device.enum\";\nimport {\n\tBusinessTypeEnum,\n\tLogProductEnum,\n\tLogStatusEnum,\n} from \"src/common/enum/log.enum\";\n\nexport const LOG_MODEL_NAME = \"db_logs\";\n\n@Schema()\nexport class Log_Schema {\n\t// æ¨¡å—æ ‡é¢˜\n\t@Prop()\n\ttitle: string;\n\n\t// ä¸šåŠ¡ç±»å‹, æ·»åŠ è¿˜æ˜¯ä¿®æ”¹\n\t@Prop({ default: BusinessTypeEnum.OTHER })\n\tbusinessType: number;\n\n\t// è¯·æ±‚å¹³å°code\n\t@Prop({ default: DeviceSysCodeEnum.OTHER })\n\tplatformCode: string;\n\n\t// é¡¹ç›®code\n\t@Prop({ default: LogProductEnum.OTHER })\n\tprojectCode: number;\n\n\t// è¯·æ±‚æ–¹æ³•\n\t@Prop()\n\tmethod: string;\n\n\t// è¯·æ±‚å‚æ•°\n\t@Prop()\n\trequestParam: string;\n\n\t// è¯·æ±‚ç”¨æˆ·\n\t@Prop()\n\toperateUser: string;\n\n\t// è¯·æ±‚ç”¨æˆ·id\n\t@Prop()\n\toperateUserId: string;\n\n\t// è¯·æ±‚ip\n\t@Prop()\n\tip: string;\n\n\t// è¯·æ±‚çš„åœ°å€\n\t@Prop()\n\taddress: string;\n\n\t// è¯·æ±‚çš„çŠ¶æ€\n\t@Prop({ default: LogStatusEnum.SUCCESS })\n\tstatus: number;\n\n\t// è¯·æ±‚å¼‚å¸¸åŸå› \n\t@Prop()\n\terrorMsg: string;\n\n\t// è¯·æ±‚åœ°å€\n\t@Prop()\n\turl: string;\n\n\t// æ“ä½œæ—¶é—´\n\t@Prop()\n\tcreateTime: string;\n}\n\nexport const LogSchema = SchemaFactory.createForClass(Log_Schema);\n```\n\n### æ¶‰åŠåˆ°çš„æšä¸¾\n\n```ts\nexport enum LogProductEnum {\n\t// å…¶ä»–\n\tOTHER = 0,\n\t// åå°\n\tADMIN = 1,\n\t// å•†å®¶\n\tMERCHANT = 2,\n\t// å…¨å±€\n\tGLOBAL = 3,\n}\n\nexport enum BusinessTypeEnum {\n\t// å…¶å®ƒ\n\tOTHER = 0,\n\t// æ–°å¢\n\tINSERT = 1,\n\t// ä¿®æ”¹\n\tUPDATE = 2,\n\t// åˆ é™¤\n\tDELETE = 3,\n\t// æŸ¥è¯¢\n\tSELECT = 4,\n\t// æˆæƒ\n\tGRANT = 5,\n\t// å¯¼å‡º\n\tEXPORT = 6,\n\t// å¯¼å…¥\n\tIMPORT = 7,\n}\n\nexport enum LogStatusEnum {\n\t// æˆåŠŸ\n\tSUCCESS = 0,\n\t// å¤±è´¥\n\tFAIL = 1,\n}\n\nexport enum DeviceSysCodeEnum {\n\t// h5\n\tH5 = \"H5\",\n\t// pc\n\tPC = \"PC\",\n\t// ç§»åŠ¨ç«¯\n\tMOBILE = \"MOBILE\",\n\t// å°ç¨‹åº\n\tMINI_PROGRAM = \"MINI_PROGRAM\",\n\t// å…¶ä»–\n\tOTHER = \"OTHER\",\n}\n```\n\n```ts\nimport {\n\tCallHandler,\n\tExecutionContext,\n\tInjectable,\n\tNestInterceptor,\n\tStreamableFile,\n} from \"@nestjs/common\";\nimport { Reflector } from \"@nestjs/core\";\nimport { Observable, tap } from \"rxjs\";\nimport { CommonService } from \"src/shared/common/common.service\";\nimport { LOG_KEY_METADATA } from \"../constants/metadata.constant\";\nimport { LogOption } from \"../decorator/log.decorator\";\nimport { HttpResult } from \"../class/result.class\";\nimport { DeviceSysCodeEnum } from \"../enum/device.enum\";\nimport { LogStatusEnum } from \"../enum/log.enum\";\nimport { AllExceptionFilter } from \"../filter/all-exception.filter\";\nimport { LogService } from \"src/shared/log/log.service\";\nimport { Log_Schema } from \"src/shared/log/schemas/log.schema\";\nimport { HttpStatusCode } from \"../enum/http.enum\";\n\n@Injectable()\nexport class LogInterceptor implements NestInterceptor {\n\tconstructor(\n\t\tprivate readonly reflector: Reflector,\n\t\tprivate readonly commonService: CommonService,\n\t\tprivate readonly logService: LogService\n\t) {}\n\tintercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n\t\treturn next.handle().pipe(\n\t\t\ttap({\n\t\t\t\tnext: data => {\n\t\t\t\t\treturn this.log(context, data);\n\t\t\t\t},\n\t\t\t\terror: error => {\n\t\t\t\t\tconst allExceptionFilter = new AllExceptionFilter();\n\t\t\t\t\tconst { result } = allExceptionFilter.errorResult(error);\n\t\t\t\t\treturn this.log(context, result);\n\t\t\t\t},\n\t\t\t})\n\t\t);\n\t}\n\n\tasync log(context: ExecutionContext, data: HttpResult) {\n\t\tconst logOption = this.reflector.get<LogOption>(\n\t\t\t// å¯ä»¥çœ‹ä¸Šä¸€ç« è·¯ç”±å®ˆå«\n\t\t\tLOG_KEY_METADATA,\n\t\t\tcontext.getHandler()\n\t\t);\n\t\tif (!logOption) return true;\n\t\tconst request = context.switchToHttp().getRequest();\n\t\tconst method = request.method.toUpperCase();\n\t\tconst logDto = new Log_Schema();\n\t\t// æ¨¡å—æ ‡é¢˜\n\t\tlogDto.title = logOption.title;\n\t\t// ä¸šåŠ¡ç±»å‹\n\t\tlogDto.businessType = logOption.businessType;\n\t\t// è¯·æ±‚å¹³å°code\n\t\tlogDto.platformCode =\n\t\t\trequest.headers[\"platformCode\"] ?? DeviceSysCodeEnum.OTHER;\n\t\t// é¡¹ç›®code\n\t\tlogDto.projectCode = logOption.projectCode;\n\t\t// è¯·æ±‚æ–¹å¼\n\t\tlogDto.method = method;\n\t\t// è¯·æ±‚å‚æ•°\n\t\tlogDto.requestParam = JSON.stringify({\n\t\t\tparams: request.params,\n\t\t\tquery: request.query,\n\t\t\tbody: request.body,\n\t\t});\n\t\t// è¯·æ±‚åœ°å€\n\t\tlogDto.url = request.url;\n\t\t// è¯·æ±‚ç”¨æˆ·\n\t\tlogDto.operateUser = request?.user?.username ?? \"\";\n\t\t// è¯·æ±‚ç”¨æˆ·id\n\t\tlogDto.operateUserId = request?.user?._id ?? \"\";\n\t\t// è¯·æ±‚ip\n\t\tlogDto.ip = this.commonService.getIp(request);\n\t\t// è¯·æ±‚çš„åœ°å€\n\t\tlogDto.address = await this.commonService.getLocation(logDto.ip);\n\t\t// æ“ä½œæ—¶é—´\n\t\tlogDto.createTime = this.commonService.formatDate();\n\t\t// æˆåŠŸçš„è¯·æ±‚\n\t\tif (\n\t\t\t(data && data.status === HttpStatusCode.OK) ||\n\t\t\tdata instanceof StreamableFile\n\t\t) {\n\t\t\t//å¦‚æœæ˜¯æµï¼Œéƒ½ç®—æˆåŠŸ\n\t\t\tlogDto.status = LogStatusEnum.SUCCESS;\n\t\t} else {\n\t\t\t//å¤±è´¥çš„è¯·æ±‚\n\t\t\tlogDto.status = LogStatusEnum.FAIL;\n\t\t\tlogDto.errorMsg = data && data.message;\n\t\t}\n\t\t// è¿™é‡Œè‡ªå·±å†™ï¼Œå°±æ˜¯å°†è¿™æ¡æ•°æ®æ·»åŠ åˆ°æ•°æ®åº“\n\t\tawait this.logService.create(logDto);\n\t}\n}\n```\n\n### æ³¨å†Œ\n\nåœ¨ `app.module.ts`ä¸­:\n\n```ts\n@Module({\n  providers: [\n    {\n      provide: APP_INTERCEPTOR,\n      useClass: LogInterceptor,\n    },\n  ],\n})\n```\n\n### æ§åˆ¶å±‚ä½¿ç”¨\n\n```ts\nimport { Controller, Post, Body, Get, Request } from \"@nestjs/common\";\nexport class UserController {\n\tconstructor() {}\n\n\t// æ·»åŠ è¿™ä¸€è¡Œä»£ç \n\t@Log({\n\t\ttitle: \"æ·»åŠ ç”¨æˆ·\",\n\t\tprojectCode: LogProductEnum.ADMIN,\n\t})\n\t@Post(\"create\")\n\tasync create(@Body() body: { username: string; password: string }) {\n\t\treturn \"success\";\n\t}\n}\n```\n\n## æ‹¦æˆªå™¨\n\n### æ‹¦æˆªå™¨ä»£ç \n\n```ts\nimport {\n\tCallHandler,\n\tExecutionContext,\n\tInjectable,\n\tNestInterceptor,\n} from \"@nestjs/common\";\nimport { map, Observable, tap } from \"rxjs\";\nimport { HttpResult } from \"../class/result.class\";\n\n@Injectable()\nexport class InterceptorInterceptor implements NestInterceptor {\n\tintercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n\t\tconst request = context.switchToHttp().getRequest();\n\t\treturn next.handle().pipe(\n\t\t\ttap(() => {\n\t\t\t\tconsole.log(request);\n\t\t\t}),\n\t\t\tmap(data => {\n\t\t\t\treturn HttpResult.success(\n\t\t\t\t\tdata?.context ?? data,\n\t\t\t\t\tdata?.message ?? \"æ“ä½œæˆåŠŸ\"\n\t\t\t\t);\n\t\t\t})\n\t\t);\n\t}\n}\n```\n\n### æ³¨å†Œ\n\nåœ¨ `app.module.ts`ä¸­:\n\n```ts\n@Module({\n  providers: [\n    {\n      provide: APP_INTERCEPTOR,\n      useClass: InterceptorInterceptor,\n    },\n  ],\n})\n```\n\n---\n\n## æ³¨æ„\n\n1. [`LOG_KEY_METADATA` åœ¨è¿™é‡Œ](/brochure/nest/base/canActive.html#å¸¸é‡æ–‡ä»¶)\n2. [`AllExceptionFilter` åœ¨è¿™é‡Œ](/brochure/nest/base/exceptionFilter.html#å¼‚å¸¸è¿‡æ»¤å™¨)\n3. [`HttpResult` åœ¨è¿™é‡Œ](/brochure/nest/base/exceptionFilter.html#å¼‚å¸¸è¿‡æ»¤å™¨)\n","slug":"æŠ€èƒ½å°å†Œ/Nest/æ‹¦æˆªå™¨","published":1,"updated":"2025-03-12T09:44:30.928Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iz003lfg9mc0xf3pui","content":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>æ‹¦æˆªå™¨æ˜¯ç”¨ <code>@Injectable()</code> è£…é¥°å™¨æ³¨é‡Šå¹¶å®ç° <code>NestInterceptor</code> æ¥å£çš„ç±»ã€‚</p>\n<p>æ‹¦æˆªå™¨å…·æœ‰ä¸€ç»„æœ‰ç”¨çš„åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½çš„çµæ„Ÿæ¥è‡ª é¢å‘æ–¹é¢ç¼–ç¨‹ (AOP) æŠ€æœ¯ã€‚å®ƒä»¬å¯ä»¥ï¼š</p>\n<ul>\n<li>åœ¨æ–¹æ³•æ‰§è¡Œä¹‹å‰&#x2F;ä¹‹åç»‘å®šé¢å¤–çš„é€»è¾‘</li>\n<li>è½¬æ¢å‡½æ•°è¿”å›çš„ç»“æœ</li>\n<li>è½¬æ¢å‡½æ•°æŠ›å‡ºçš„å¼‚å¸¸</li>\n<li>æ‰©å±•åŸºæœ¬åŠŸèƒ½è¡Œä¸º</li>\n<li>æ ¹æ®ç‰¹å®šæ¡ä»¶å®Œå…¨è¦†ç›–å‡½æ•°ï¼ˆä¾‹å¦‚ï¼Œå‡ºäºç¼“å­˜ç›®çš„ï¼‰</li>\n</ul>\n<p>åœ¨æ—¥å¸¸æ¥å£è°ƒè¯•ä¸­ï¼Œæ€»ä¼šçœ‹åˆ°åç«¯è¿”å›çš„æ•°æ®æ ¼å¼éƒ½æ˜¯ä¸€è‡´çš„ï¼Œä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;success&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;message&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;æ“ä½œæˆåŠŸ&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;context&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;code&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">200</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ¥ä¸‹æ¥æˆ‘ä¼šæåˆ°ä¿©ä¸ªæ¡ˆä¾‹ï¼Œä¸€ä¸ªæ˜¯æ¥å£è¿”å›æ‹¦æˆªï¼Œä¸€ä¸ªæ˜¯æ¥å£æ—¥å¿—è®°å½•</p>\n<h2 id=\"æ¥å£è°ƒç”¨è®°å½•\"><a href=\"#æ¥å£è°ƒç”¨è®°å½•\" class=\"headerlink\" title=\"æ¥å£è°ƒç”¨è®°å½•\"></a>æ¥å£è°ƒç”¨è®°å½•</h2><h3 id=\"è‡ªå®šä¹‰å…ƒæ•°æ®\"><a href=\"#è‡ªå®šä¹‰å…ƒæ•°æ®\" class=\"headerlink\" title=\"è‡ªå®šä¹‰å…ƒæ•°æ®\"></a>è‡ªå®šä¹‰å…ƒæ•°æ®</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">SetMetadata</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">LOG_KEY_METADATA</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../constants/metadata.constant&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">BusinessTypeEnum</span>, <span class=\"title class_\">LogProductEnum</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/log.enum&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">LogOption</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">projectCode</span>: <span class=\"title class_\">LogProductEnum</span>;</span><br><span class=\"line\">\t<span class=\"attr\">title</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"attr\">businessType</span>?: <span class=\"title class_\">BusinessTypeEnum</span> = <span class=\"title class_\">BusinessTypeEnum</span>.<span class=\"property\">OTHER</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">Log</span> = (<span class=\"params\"><span class=\"attr\">logOption</span>: <span class=\"title class_\">LogOption</span></span>) =&gt; &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"title class_\">SetMetadata</span>(</span><br><span class=\"line\">\t\t<span class=\"variable constant_\">LOG_KEY_METADATA</span>,</span><br><span class=\"line\">\t\t<span class=\"title class_\">Object</span>.<span class=\"title function_\">assign</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">LogOption</span>(), logOption)</span><br><span class=\"line\">\t);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è¡¨ç»“æ„\"><a href=\"#è¡¨ç»“æ„\" class=\"headerlink\" title=\"è¡¨ç»“æ„\"></a>è¡¨ç»“æ„</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Prop</span>, <span class=\"title class_\">Schema</span>, <span class=\"title class_\">SchemaFactory</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/mongoose&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">DeviceSysCodeEnum</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;src/common/enum/device.enum&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">\t<span class=\"title class_\">BusinessTypeEnum</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">LogProductEnum</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">LogStatusEnum</span>,</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;src/common/enum/log.enum&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">LOG_MODEL_NAME</span> = <span class=\"string\">&quot;db_logs&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Schema</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Log_Schema</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æ¨¡å—æ ‡é¢˜</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">title</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// ä¸šåŠ¡ç±»å‹, æ·»åŠ è¿˜æ˜¯ä¿®æ”¹</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>(&#123; <span class=\"attr\">default</span>: <span class=\"title class_\">BusinessTypeEnum</span>.<span class=\"property\">OTHER</span> &#125;)</span><br><span class=\"line\">\t<span class=\"attr\">businessType</span>: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚å¹³å°code</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>(&#123; <span class=\"attr\">default</span>: <span class=\"title class_\">DeviceSysCodeEnum</span>.<span class=\"property\">OTHER</span> &#125;)</span><br><span class=\"line\">\t<span class=\"attr\">platformCode</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// é¡¹ç›®code</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>(&#123; <span class=\"attr\">default</span>: <span class=\"title class_\">LogProductEnum</span>.<span class=\"property\">OTHER</span> &#125;)</span><br><span class=\"line\">\t<span class=\"attr\">projectCode</span>: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚æ–¹æ³•</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">method</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚å‚æ•°</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">requestParam</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚ç”¨æˆ·</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">operateUser</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚ç”¨æˆ·id</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">operateUserId</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚ip</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">ip</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚çš„åœ°å€</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">address</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚çš„çŠ¶æ€</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>(&#123; <span class=\"attr\">default</span>: <span class=\"title class_\">LogStatusEnum</span>.<span class=\"property\">SUCCESS</span> &#125;)</span><br><span class=\"line\">\t<span class=\"attr\">status</span>: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚å¼‚å¸¸åŸå› </span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">errorMsg</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚åœ°å€</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ“ä½œæ—¶é—´</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">createTime</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">LogSchema</span> = <span class=\"title class_\">SchemaFactory</span>.<span class=\"title function_\">createForClass</span>(<span class=\"title class_\">Log</span>_Schema);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ¶‰åŠåˆ°çš„æšä¸¾\"><a href=\"#æ¶‰åŠåˆ°çš„æšä¸¾\" class=\"headerlink\" title=\"æ¶‰åŠåˆ°çš„æšä¸¾\"></a>æ¶‰åŠåˆ°çš„æšä¸¾</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">LogProductEnum</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å…¶ä»–</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">OTHER</span> = <span class=\"number\">0</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// åå°</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">ADMIN</span> = <span class=\"number\">1</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å•†å®¶</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">MERCHANT</span> = <span class=\"number\">2</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å…¨å±€</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">GLOBAL</span> = <span class=\"number\">3</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">BusinessTypeEnum</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å…¶å®ƒ</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">OTHER</span> = <span class=\"number\">0</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// æ–°å¢</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">INSERT</span> = <span class=\"number\">1</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ä¿®æ”¹</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">UPDATE</span> = <span class=\"number\">2</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// åˆ é™¤</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">DELETE</span> = <span class=\"number\">3</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// æŸ¥è¯¢</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">SELECT</span> = <span class=\"number\">4</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// æˆæƒ</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">GRANT</span> = <span class=\"number\">5</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å¯¼å‡º</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">EXPORT</span> = <span class=\"number\">6</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å¯¼å…¥</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">IMPORT</span> = <span class=\"number\">7</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">LogStatusEnum</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æˆåŠŸ</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">SUCCESS</span> = <span class=\"number\">0</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å¤±è´¥</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">FAIL</span> = <span class=\"number\">1</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">DeviceSysCodeEnum</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// h5</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">H5</span> = <span class=\"string\">&quot;H5&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// pc</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">PC</span> = <span class=\"string\">&quot;PC&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ç§»åŠ¨ç«¯</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">MOBILE</span> = <span class=\"string\">&quot;MOBILE&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å°ç¨‹åº</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">MINI_PROGRAM</span> = <span class=\"string\">&quot;MINI_PROGRAM&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å…¶ä»–</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">OTHER</span> = <span class=\"string\">&quot;OTHER&quot;</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">\t<span class=\"title class_\">CallHandler</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">ExecutionContext</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">Injectable</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">NestInterceptor</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">StreamableFile</span>,</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Reflector</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/core&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Observable</span>, tap &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;rxjs&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">CommonService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;src/shared/common/common.service&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">LOG_KEY_METADATA</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../constants/metadata.constant&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">LogOption</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../decorator/log.decorator&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HttpResult</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../class/result.class&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">DeviceSysCodeEnum</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/device.enum&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">LogStatusEnum</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/log.enum&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">AllExceptionFilter</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../filter/all-exception.filter&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">LogService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;src/shared/log/log.service&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Log</span>_Schema &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;src/shared/log/schemas/log.schema&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HttpStatusCode</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/http.enum&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">LogInterceptor</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">NestInterceptor</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">reflector</span>: <span class=\"title class_\">Reflector</span>,</span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">commonService</span>: <span class=\"title class_\">CommonService</span>,</span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">logService</span>: <span class=\"title class_\">LogService</span></span></span><br><span class=\"line\"><span class=\"params\">\t</span>) &#123;&#125;</span><br><span class=\"line\">\t<span class=\"title function_\">intercept</span>(<span class=\"attr\">context</span>: <span class=\"title class_\">ExecutionContext</span>, <span class=\"attr\">next</span>: <span class=\"title class_\">CallHandler</span>): <span class=\"title class_\">Observable</span>&lt;<span class=\"built_in\">any</span>&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> next.<span class=\"title function_\">handle</span>().<span class=\"title function_\">pipe</span>(</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">tap</span>(&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">next</span>: <span class=\"function\"><span class=\"params\">data</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">log</span>(context, data);</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">error</span>: <span class=\"function\"><span class=\"params\">error</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">const</span> allExceptionFilter = <span class=\"keyword\">new</span> <span class=\"title class_\">AllExceptionFilter</span>();</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">const</span> &#123; result &#125; = allExceptionFilter.<span class=\"title function_\">errorResult</span>(error);</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">log</span>(context, result);</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t&#125;)</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">log</span>(<span class=\"params\"><span class=\"attr\">context</span>: <span class=\"title class_\">ExecutionContext</span>, <span class=\"attr\">data</span>: <span class=\"title class_\">HttpResult</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> logOption = <span class=\"variable language_\">this</span>.<span class=\"property\">reflector</span>.<span class=\"property\">get</span>&lt;<span class=\"title class_\">LogOption</span>&gt;(</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¯ä»¥çœ‹ä¸Šä¸€ç« è·¯ç”±å®ˆå«</span></span><br><span class=\"line\">\t\t\t<span class=\"variable constant_\">LOG_KEY_METADATA</span>,</span><br><span class=\"line\">\t\t\tcontext.<span class=\"title function_\">getHandler</span>()</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!logOption) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> request = context.<span class=\"title function_\">switchToHttp</span>().<span class=\"title function_\">getRequest</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> method = request.<span class=\"property\">method</span>.<span class=\"title function_\">toUpperCase</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> logDto = <span class=\"keyword\">new</span> <span class=\"title class_\">Log</span>_Schema();</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ¨¡å—æ ‡é¢˜</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">title</span> = logOption.<span class=\"property\">title</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸šåŠ¡ç±»å‹</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">businessType</span> = logOption.<span class=\"property\">businessType</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚å¹³å°code</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">platformCode</span> =</span><br><span class=\"line\">\t\t\trequest.<span class=\"property\">headers</span>[<span class=\"string\">&quot;platformCode&quot;</span>] ?? <span class=\"title class_\">DeviceSysCodeEnum</span>.<span class=\"property\">OTHER</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// é¡¹ç›®code</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">projectCode</span> = logOption.<span class=\"property\">projectCode</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚æ–¹å¼</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">method</span> = method;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚å‚æ•°</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">requestParam</span> = <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">params</span>: request.<span class=\"property\">params</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">query</span>: request.<span class=\"property\">query</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">body</span>: request.<span class=\"property\">body</span>,</span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚åœ°å€</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">url</span> = request.<span class=\"property\">url</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚ç”¨æˆ·</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">operateUser</span> = request?.<span class=\"property\">user</span>?.<span class=\"property\">username</span> ?? <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚ç”¨æˆ·id</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">operateUserId</span> = request?.<span class=\"property\">user</span>?.<span class=\"property\">_id</span> ?? <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚ip</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">ip</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">commonService</span>.<span class=\"title function_\">getIp</span>(request);</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚çš„åœ°å€</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">address</span> = <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">commonService</span>.<span class=\"title function_\">getLocation</span>(logDto.<span class=\"property\">ip</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ“ä½œæ—¶é—´</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">createTime</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">commonService</span>.<span class=\"title function_\">formatDate</span>();</span><br><span class=\"line\">\t\t<span class=\"comment\">// æˆåŠŸçš„è¯·æ±‚</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (</span><br><span class=\"line\">\t\t\t(data &amp;&amp; data.<span class=\"property\">status</span> === <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">OK</span>) ||</span><br><span class=\"line\">\t\t\tdata <span class=\"keyword\">instanceof</span> <span class=\"title class_\">StreamableFile</span></span><br><span class=\"line\">\t\t) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">//å¦‚æœæ˜¯æµï¼Œéƒ½ç®—æˆåŠŸ</span></span><br><span class=\"line\">\t\t\tlogDto.<span class=\"property\">status</span> = <span class=\"title class_\">LogStatusEnum</span>.<span class=\"property\">SUCCESS</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">//å¤±è´¥çš„è¯·æ±‚</span></span><br><span class=\"line\">\t\t\tlogDto.<span class=\"property\">status</span> = <span class=\"title class_\">LogStatusEnum</span>.<span class=\"property\">FAIL</span>;</span><br><span class=\"line\">\t\t\tlogDto.<span class=\"property\">errorMsg</span> = data &amp;&amp; data.<span class=\"property\">message</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¿™é‡Œè‡ªå·±å†™ï¼Œå°±æ˜¯å°†è¿™æ¡æ•°æ®æ·»åŠ åˆ°æ•°æ®åº“</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">logService</span>.<span class=\"title function_\">create</span>(logDto);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ³¨å†Œ\"><a href=\"#æ³¨å†Œ\" class=\"headerlink\" title=\"æ³¨å†Œ\"></a>æ³¨å†Œ</h3><p>åœ¨ <code>app.module.ts</code>ä¸­:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">provide</span>: <span class=\"variable constant_\">APP_INTERCEPTOR</span>,</span><br><span class=\"line\">      <span class=\"attr\">useClass</span>: <span class=\"title class_\">LogInterceptor</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ§åˆ¶å±‚ä½¿ç”¨\"><a href=\"#æ§åˆ¶å±‚ä½¿ç”¨\" class=\"headerlink\" title=\"æ§åˆ¶å±‚ä½¿ç”¨\"></a>æ§åˆ¶å±‚ä½¿ç”¨</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Controller</span>, <span class=\"title class_\">Post</span>, <span class=\"title class_\">Body</span>, <span class=\"title class_\">Get</span>, <span class=\"title class_\">Request</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserController</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ·»åŠ è¿™ä¸€è¡Œä»£ç </span></span><br><span class=\"line\">\t<span class=\"meta\">@Log</span>(&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">title</span>: <span class=\"string\">&quot;æ·»åŠ ç”¨æˆ·&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">projectCode</span>: <span class=\"title class_\">LogProductEnum</span>.<span class=\"property\">ADMIN</span>,</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">\t<span class=\"meta\">@Post</span>(<span class=\"string\">&quot;create&quot;</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"meta\">@Body</span>() <span class=\"attr\">body</span>: &#123; username: <span class=\"built_in\">string</span>; password: <span class=\"built_in\">string</span> &#125;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;success&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ‹¦æˆªå™¨\"><a href=\"#æ‹¦æˆªå™¨\" class=\"headerlink\" title=\"æ‹¦æˆªå™¨\"></a>æ‹¦æˆªå™¨</h2><h3 id=\"æ‹¦æˆªå™¨ä»£ç \"><a href=\"#æ‹¦æˆªå™¨ä»£ç \" class=\"headerlink\" title=\"æ‹¦æˆªå™¨ä»£ç \"></a>æ‹¦æˆªå™¨ä»£ç </h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">\t<span class=\"title class_\">CallHandler</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">ExecutionContext</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">Injectable</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">NestInterceptor</span>,</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; map, <span class=\"title class_\">Observable</span>, tap &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;rxjs&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HttpResult</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../class/result.class&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">InterceptorInterceptor</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">NestInterceptor</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">intercept</span>(<span class=\"attr\">context</span>: <span class=\"title class_\">ExecutionContext</span>, <span class=\"attr\">next</span>: <span class=\"title class_\">CallHandler</span>): <span class=\"title class_\">Observable</span>&lt;<span class=\"built_in\">any</span>&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> request = context.<span class=\"title function_\">switchToHttp</span>().<span class=\"title function_\">getRequest</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> next.<span class=\"title function_\">handle</span>().<span class=\"title function_\">pipe</span>(</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">tap</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(request);</span><br><span class=\"line\">\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">map</span>(<span class=\"function\"><span class=\"params\">data</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"title class_\">HttpResult</span>.<span class=\"title function_\">success</span>(</span><br><span class=\"line\">\t\t\t\t\tdata?.<span class=\"property\">context</span> ?? data,</span><br><span class=\"line\">\t\t\t\t\tdata?.<span class=\"property\">message</span> ?? <span class=\"string\">&quot;æ“ä½œæˆåŠŸ&quot;</span></span><br><span class=\"line\">\t\t\t\t);</span><br><span class=\"line\">\t\t\t&#125;)</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ³¨å†Œ-1\"><a href=\"#æ³¨å†Œ-1\" class=\"headerlink\" title=\"æ³¨å†Œ\"></a>æ³¨å†Œ</h3><p>åœ¨ <code>app.module.ts</code>ä¸­:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">provide</span>: <span class=\"variable constant_\">APP_INTERCEPTOR</span>,</span><br><span class=\"line\">      <span class=\"attr\">useClass</span>: <span class=\"title class_\">InterceptorInterceptor</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"æ³¨æ„\"><a href=\"#æ³¨æ„\" class=\"headerlink\" title=\"æ³¨æ„\"></a>æ³¨æ„</h2><ol>\n<li><a href=\"/brochure/nest/base/canActive.html#%E5%B8%B8%E9%87%8F%E6%96%87%E4%BB%B6\"><code>LOG_KEY_METADATA</code> åœ¨è¿™é‡Œ</a></li>\n<li><a href=\"/brochure/nest/base/exceptionFilter.html#%E5%BC%82%E5%B8%B8%E8%BF%87%E6%BB%A4%E5%99%A8\"><code>AllExceptionFilter</code> åœ¨è¿™é‡Œ</a></li>\n<li><a href=\"/brochure/nest/base/exceptionFilter.html#%E5%BC%82%E5%B8%B8%E8%BF%87%E6%BB%A4%E5%99%A8\"><code>HttpResult</code> åœ¨è¿™é‡Œ</a></li>\n</ol>\n","excerpt":"","more":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>æ‹¦æˆªå™¨æ˜¯ç”¨ <code>@Injectable()</code> è£…é¥°å™¨æ³¨é‡Šå¹¶å®ç° <code>NestInterceptor</code> æ¥å£çš„ç±»ã€‚</p>\n<p>æ‹¦æˆªå™¨å…·æœ‰ä¸€ç»„æœ‰ç”¨çš„åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½çš„çµæ„Ÿæ¥è‡ª é¢å‘æ–¹é¢ç¼–ç¨‹ (AOP) æŠ€æœ¯ã€‚å®ƒä»¬å¯ä»¥ï¼š</p>\n<ul>\n<li>åœ¨æ–¹æ³•æ‰§è¡Œä¹‹å‰&#x2F;ä¹‹åç»‘å®šé¢å¤–çš„é€»è¾‘</li>\n<li>è½¬æ¢å‡½æ•°è¿”å›çš„ç»“æœ</li>\n<li>è½¬æ¢å‡½æ•°æŠ›å‡ºçš„å¼‚å¸¸</li>\n<li>æ‰©å±•åŸºæœ¬åŠŸèƒ½è¡Œä¸º</li>\n<li>æ ¹æ®ç‰¹å®šæ¡ä»¶å®Œå…¨è¦†ç›–å‡½æ•°ï¼ˆä¾‹å¦‚ï¼Œå‡ºäºç¼“å­˜ç›®çš„ï¼‰</li>\n</ul>\n<p>åœ¨æ—¥å¸¸æ¥å£è°ƒè¯•ä¸­ï¼Œæ€»ä¼šçœ‹åˆ°åç«¯è¿”å›çš„æ•°æ®æ ¼å¼éƒ½æ˜¯ä¸€è‡´çš„ï¼Œä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;success&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;message&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;æ“ä½œæˆåŠŸ&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;context&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;code&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">200</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ¥ä¸‹æ¥æˆ‘ä¼šæåˆ°ä¿©ä¸ªæ¡ˆä¾‹ï¼Œä¸€ä¸ªæ˜¯æ¥å£è¿”å›æ‹¦æˆªï¼Œä¸€ä¸ªæ˜¯æ¥å£æ—¥å¿—è®°å½•</p>\n<h2 id=\"æ¥å£è°ƒç”¨è®°å½•\"><a href=\"#æ¥å£è°ƒç”¨è®°å½•\" class=\"headerlink\" title=\"æ¥å£è°ƒç”¨è®°å½•\"></a>æ¥å£è°ƒç”¨è®°å½•</h2><h3 id=\"è‡ªå®šä¹‰å…ƒæ•°æ®\"><a href=\"#è‡ªå®šä¹‰å…ƒæ•°æ®\" class=\"headerlink\" title=\"è‡ªå®šä¹‰å…ƒæ•°æ®\"></a>è‡ªå®šä¹‰å…ƒæ•°æ®</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">SetMetadata</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">LOG_KEY_METADATA</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../constants/metadata.constant&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">BusinessTypeEnum</span>, <span class=\"title class_\">LogProductEnum</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/log.enum&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">LogOption</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">projectCode</span>: <span class=\"title class_\">LogProductEnum</span>;</span><br><span class=\"line\">\t<span class=\"attr\">title</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"attr\">businessType</span>?: <span class=\"title class_\">BusinessTypeEnum</span> = <span class=\"title class_\">BusinessTypeEnum</span>.<span class=\"property\">OTHER</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">Log</span> = (<span class=\"params\"><span class=\"attr\">logOption</span>: <span class=\"title class_\">LogOption</span></span>) =&gt; &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"title class_\">SetMetadata</span>(</span><br><span class=\"line\">\t\t<span class=\"variable constant_\">LOG_KEY_METADATA</span>,</span><br><span class=\"line\">\t\t<span class=\"title class_\">Object</span>.<span class=\"title function_\">assign</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">LogOption</span>(), logOption)</span><br><span class=\"line\">\t);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è¡¨ç»“æ„\"><a href=\"#è¡¨ç»“æ„\" class=\"headerlink\" title=\"è¡¨ç»“æ„\"></a>è¡¨ç»“æ„</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Prop</span>, <span class=\"title class_\">Schema</span>, <span class=\"title class_\">SchemaFactory</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/mongoose&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">DeviceSysCodeEnum</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;src/common/enum/device.enum&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">\t<span class=\"title class_\">BusinessTypeEnum</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">LogProductEnum</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">LogStatusEnum</span>,</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;src/common/enum/log.enum&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">LOG_MODEL_NAME</span> = <span class=\"string\">&quot;db_logs&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Schema</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Log_Schema</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æ¨¡å—æ ‡é¢˜</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">title</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// ä¸šåŠ¡ç±»å‹, æ·»åŠ è¿˜æ˜¯ä¿®æ”¹</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>(&#123; <span class=\"attr\">default</span>: <span class=\"title class_\">BusinessTypeEnum</span>.<span class=\"property\">OTHER</span> &#125;)</span><br><span class=\"line\">\t<span class=\"attr\">businessType</span>: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚å¹³å°code</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>(&#123; <span class=\"attr\">default</span>: <span class=\"title class_\">DeviceSysCodeEnum</span>.<span class=\"property\">OTHER</span> &#125;)</span><br><span class=\"line\">\t<span class=\"attr\">platformCode</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// é¡¹ç›®code</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>(&#123; <span class=\"attr\">default</span>: <span class=\"title class_\">LogProductEnum</span>.<span class=\"property\">OTHER</span> &#125;)</span><br><span class=\"line\">\t<span class=\"attr\">projectCode</span>: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚æ–¹æ³•</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">method</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚å‚æ•°</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">requestParam</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚ç”¨æˆ·</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">operateUser</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚ç”¨æˆ·id</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">operateUserId</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚ip</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">ip</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚çš„åœ°å€</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">address</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚çš„çŠ¶æ€</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>(&#123; <span class=\"attr\">default</span>: <span class=\"title class_\">LogStatusEnum</span>.<span class=\"property\">SUCCESS</span> &#125;)</span><br><span class=\"line\">\t<span class=\"attr\">status</span>: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚å¼‚å¸¸åŸå› </span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">errorMsg</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚åœ°å€</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ“ä½œæ—¶é—´</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">createTime</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">LogSchema</span> = <span class=\"title class_\">SchemaFactory</span>.<span class=\"title function_\">createForClass</span>(<span class=\"title class_\">Log</span>_Schema);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ¶‰åŠåˆ°çš„æšä¸¾\"><a href=\"#æ¶‰åŠåˆ°çš„æšä¸¾\" class=\"headerlink\" title=\"æ¶‰åŠåˆ°çš„æšä¸¾\"></a>æ¶‰åŠåˆ°çš„æšä¸¾</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">LogProductEnum</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å…¶ä»–</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">OTHER</span> = <span class=\"number\">0</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// åå°</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">ADMIN</span> = <span class=\"number\">1</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å•†å®¶</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">MERCHANT</span> = <span class=\"number\">2</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å…¨å±€</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">GLOBAL</span> = <span class=\"number\">3</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">BusinessTypeEnum</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å…¶å®ƒ</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">OTHER</span> = <span class=\"number\">0</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// æ–°å¢</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">INSERT</span> = <span class=\"number\">1</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ä¿®æ”¹</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">UPDATE</span> = <span class=\"number\">2</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// åˆ é™¤</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">DELETE</span> = <span class=\"number\">3</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// æŸ¥è¯¢</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">SELECT</span> = <span class=\"number\">4</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// æˆæƒ</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">GRANT</span> = <span class=\"number\">5</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å¯¼å‡º</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">EXPORT</span> = <span class=\"number\">6</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å¯¼å…¥</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">IMPORT</span> = <span class=\"number\">7</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">LogStatusEnum</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æˆåŠŸ</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">SUCCESS</span> = <span class=\"number\">0</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å¤±è´¥</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">FAIL</span> = <span class=\"number\">1</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">DeviceSysCodeEnum</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// h5</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">H5</span> = <span class=\"string\">&quot;H5&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// pc</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">PC</span> = <span class=\"string\">&quot;PC&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ç§»åŠ¨ç«¯</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">MOBILE</span> = <span class=\"string\">&quot;MOBILE&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å°ç¨‹åº</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">MINI_PROGRAM</span> = <span class=\"string\">&quot;MINI_PROGRAM&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// å…¶ä»–</span></span><br><span class=\"line\">\t<span class=\"variable constant_\">OTHER</span> = <span class=\"string\">&quot;OTHER&quot;</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">\t<span class=\"title class_\">CallHandler</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">ExecutionContext</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">Injectable</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">NestInterceptor</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">StreamableFile</span>,</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Reflector</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/core&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Observable</span>, tap &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;rxjs&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">CommonService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;src/shared/common/common.service&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">LOG_KEY_METADATA</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../constants/metadata.constant&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">LogOption</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../decorator/log.decorator&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HttpResult</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../class/result.class&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">DeviceSysCodeEnum</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/device.enum&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">LogStatusEnum</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/log.enum&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">AllExceptionFilter</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../filter/all-exception.filter&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">LogService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;src/shared/log/log.service&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Log</span>_Schema &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;src/shared/log/schemas/log.schema&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HttpStatusCode</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/http.enum&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">LogInterceptor</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">NestInterceptor</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">reflector</span>: <span class=\"title class_\">Reflector</span>,</span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">commonService</span>: <span class=\"title class_\">CommonService</span>,</span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">logService</span>: <span class=\"title class_\">LogService</span></span></span><br><span class=\"line\"><span class=\"params\">\t</span>) &#123;&#125;</span><br><span class=\"line\">\t<span class=\"title function_\">intercept</span>(<span class=\"attr\">context</span>: <span class=\"title class_\">ExecutionContext</span>, <span class=\"attr\">next</span>: <span class=\"title class_\">CallHandler</span>): <span class=\"title class_\">Observable</span>&lt;<span class=\"built_in\">any</span>&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> next.<span class=\"title function_\">handle</span>().<span class=\"title function_\">pipe</span>(</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">tap</span>(&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">next</span>: <span class=\"function\"><span class=\"params\">data</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">log</span>(context, data);</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">error</span>: <span class=\"function\"><span class=\"params\">error</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">const</span> allExceptionFilter = <span class=\"keyword\">new</span> <span class=\"title class_\">AllExceptionFilter</span>();</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">const</span> &#123; result &#125; = allExceptionFilter.<span class=\"title function_\">errorResult</span>(error);</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">log</span>(context, result);</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t&#125;)</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">log</span>(<span class=\"params\"><span class=\"attr\">context</span>: <span class=\"title class_\">ExecutionContext</span>, <span class=\"attr\">data</span>: <span class=\"title class_\">HttpResult</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> logOption = <span class=\"variable language_\">this</span>.<span class=\"property\">reflector</span>.<span class=\"property\">get</span>&lt;<span class=\"title class_\">LogOption</span>&gt;(</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¯ä»¥çœ‹ä¸Šä¸€ç« è·¯ç”±å®ˆå«</span></span><br><span class=\"line\">\t\t\t<span class=\"variable constant_\">LOG_KEY_METADATA</span>,</span><br><span class=\"line\">\t\t\tcontext.<span class=\"title function_\">getHandler</span>()</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!logOption) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> request = context.<span class=\"title function_\">switchToHttp</span>().<span class=\"title function_\">getRequest</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> method = request.<span class=\"property\">method</span>.<span class=\"title function_\">toUpperCase</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> logDto = <span class=\"keyword\">new</span> <span class=\"title class_\">Log</span>_Schema();</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ¨¡å—æ ‡é¢˜</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">title</span> = logOption.<span class=\"property\">title</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸šåŠ¡ç±»å‹</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">businessType</span> = logOption.<span class=\"property\">businessType</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚å¹³å°code</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">platformCode</span> =</span><br><span class=\"line\">\t\t\trequest.<span class=\"property\">headers</span>[<span class=\"string\">&quot;platformCode&quot;</span>] ?? <span class=\"title class_\">DeviceSysCodeEnum</span>.<span class=\"property\">OTHER</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// é¡¹ç›®code</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">projectCode</span> = logOption.<span class=\"property\">projectCode</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚æ–¹å¼</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">method</span> = method;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚å‚æ•°</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">requestParam</span> = <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">params</span>: request.<span class=\"property\">params</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">query</span>: request.<span class=\"property\">query</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">body</span>: request.<span class=\"property\">body</span>,</span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚åœ°å€</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">url</span> = request.<span class=\"property\">url</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚ç”¨æˆ·</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">operateUser</span> = request?.<span class=\"property\">user</span>?.<span class=\"property\">username</span> ?? <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚ç”¨æˆ·id</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">operateUserId</span> = request?.<span class=\"property\">user</span>?.<span class=\"property\">_id</span> ?? <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚ip</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">ip</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">commonService</span>.<span class=\"title function_\">getIp</span>(request);</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚çš„åœ°å€</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">address</span> = <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">commonService</span>.<span class=\"title function_\">getLocation</span>(logDto.<span class=\"property\">ip</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ“ä½œæ—¶é—´</span></span><br><span class=\"line\">\t\tlogDto.<span class=\"property\">createTime</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">commonService</span>.<span class=\"title function_\">formatDate</span>();</span><br><span class=\"line\">\t\t<span class=\"comment\">// æˆåŠŸçš„è¯·æ±‚</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (</span><br><span class=\"line\">\t\t\t(data &amp;&amp; data.<span class=\"property\">status</span> === <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">OK</span>) ||</span><br><span class=\"line\">\t\t\tdata <span class=\"keyword\">instanceof</span> <span class=\"title class_\">StreamableFile</span></span><br><span class=\"line\">\t\t) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">//å¦‚æœæ˜¯æµï¼Œéƒ½ç®—æˆåŠŸ</span></span><br><span class=\"line\">\t\t\tlogDto.<span class=\"property\">status</span> = <span class=\"title class_\">LogStatusEnum</span>.<span class=\"property\">SUCCESS</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">//å¤±è´¥çš„è¯·æ±‚</span></span><br><span class=\"line\">\t\t\tlogDto.<span class=\"property\">status</span> = <span class=\"title class_\">LogStatusEnum</span>.<span class=\"property\">FAIL</span>;</span><br><span class=\"line\">\t\t\tlogDto.<span class=\"property\">errorMsg</span> = data &amp;&amp; data.<span class=\"property\">message</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¿™é‡Œè‡ªå·±å†™ï¼Œå°±æ˜¯å°†è¿™æ¡æ•°æ®æ·»åŠ åˆ°æ•°æ®åº“</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">logService</span>.<span class=\"title function_\">create</span>(logDto);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ³¨å†Œ\"><a href=\"#æ³¨å†Œ\" class=\"headerlink\" title=\"æ³¨å†Œ\"></a>æ³¨å†Œ</h3><p>åœ¨ <code>app.module.ts</code>ä¸­:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">provide</span>: <span class=\"variable constant_\">APP_INTERCEPTOR</span>,</span><br><span class=\"line\">      <span class=\"attr\">useClass</span>: <span class=\"title class_\">LogInterceptor</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ§åˆ¶å±‚ä½¿ç”¨\"><a href=\"#æ§åˆ¶å±‚ä½¿ç”¨\" class=\"headerlink\" title=\"æ§åˆ¶å±‚ä½¿ç”¨\"></a>æ§åˆ¶å±‚ä½¿ç”¨</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Controller</span>, <span class=\"title class_\">Post</span>, <span class=\"title class_\">Body</span>, <span class=\"title class_\">Get</span>, <span class=\"title class_\">Request</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserController</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ·»åŠ è¿™ä¸€è¡Œä»£ç </span></span><br><span class=\"line\">\t<span class=\"meta\">@Log</span>(&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">title</span>: <span class=\"string\">&quot;æ·»åŠ ç”¨æˆ·&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">projectCode</span>: <span class=\"title class_\">LogProductEnum</span>.<span class=\"property\">ADMIN</span>,</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">\t<span class=\"meta\">@Post</span>(<span class=\"string\">&quot;create&quot;</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"meta\">@Body</span>() <span class=\"attr\">body</span>: &#123; username: <span class=\"built_in\">string</span>; password: <span class=\"built_in\">string</span> &#125;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;success&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ‹¦æˆªå™¨\"><a href=\"#æ‹¦æˆªå™¨\" class=\"headerlink\" title=\"æ‹¦æˆªå™¨\"></a>æ‹¦æˆªå™¨</h2><h3 id=\"æ‹¦æˆªå™¨ä»£ç \"><a href=\"#æ‹¦æˆªå™¨ä»£ç \" class=\"headerlink\" title=\"æ‹¦æˆªå™¨ä»£ç \"></a>æ‹¦æˆªå™¨ä»£ç </h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">\t<span class=\"title class_\">CallHandler</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">ExecutionContext</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">Injectable</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">NestInterceptor</span>,</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; map, <span class=\"title class_\">Observable</span>, tap &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;rxjs&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HttpResult</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../class/result.class&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">InterceptorInterceptor</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">NestInterceptor</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">intercept</span>(<span class=\"attr\">context</span>: <span class=\"title class_\">ExecutionContext</span>, <span class=\"attr\">next</span>: <span class=\"title class_\">CallHandler</span>): <span class=\"title class_\">Observable</span>&lt;<span class=\"built_in\">any</span>&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> request = context.<span class=\"title function_\">switchToHttp</span>().<span class=\"title function_\">getRequest</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> next.<span class=\"title function_\">handle</span>().<span class=\"title function_\">pipe</span>(</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">tap</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(request);</span><br><span class=\"line\">\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">map</span>(<span class=\"function\"><span class=\"params\">data</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"title class_\">HttpResult</span>.<span class=\"title function_\">success</span>(</span><br><span class=\"line\">\t\t\t\t\tdata?.<span class=\"property\">context</span> ?? data,</span><br><span class=\"line\">\t\t\t\t\tdata?.<span class=\"property\">message</span> ?? <span class=\"string\">&quot;æ“ä½œæˆåŠŸ&quot;</span></span><br><span class=\"line\">\t\t\t\t);</span><br><span class=\"line\">\t\t\t&#125;)</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ³¨å†Œ-1\"><a href=\"#æ³¨å†Œ-1\" class=\"headerlink\" title=\"æ³¨å†Œ\"></a>æ³¨å†Œ</h3><p>åœ¨ <code>app.module.ts</code>ä¸­:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">provide</span>: <span class=\"variable constant_\">APP_INTERCEPTOR</span>,</span><br><span class=\"line\">      <span class=\"attr\">useClass</span>: <span class=\"title class_\">InterceptorInterceptor</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"æ³¨æ„\"><a href=\"#æ³¨æ„\" class=\"headerlink\" title=\"æ³¨æ„\"></a>æ³¨æ„</h2><ol>\n<li><a href=\"/brochure/nest/base/canActive.html#%E5%B8%B8%E9%87%8F%E6%96%87%E4%BB%B6\"><code>LOG_KEY_METADATA</code> åœ¨è¿™é‡Œ</a></li>\n<li><a href=\"/brochure/nest/base/exceptionFilter.html#%E5%BC%82%E5%B8%B8%E8%BF%87%E6%BB%A4%E5%99%A8\"><code>AllExceptionFilter</code> åœ¨è¿™é‡Œ</a></li>\n<li><a href=\"/brochure/nest/base/exceptionFilter.html#%E5%BC%82%E5%B8%B8%E8%BF%87%E6%BB%A4%E5%99%A8\"><code>HttpResult</code> åœ¨è¿™é‡Œ</a></li>\n</ol>\n"},{"title":"Nest-æ•°æ®åº“çš„é…ç½®","abbrlink":"677fbfc8","date":"2024-11-08T01:05:01.000Z","_content":"\n# æ•°æ®åº“çš„é…ç½®\n\n> åœ¨`node`æœåŠ¡ä¸­ï¼Œä¸è®ºä½¿ç”¨çš„`express`è¿˜æ˜¯`nest`ï¼Œéƒ½æ˜¯æœ‰ä¸€äº›é…ç½®ï¼Œç¯å¢ƒçš„é…ç½®ï¼Œæ•°æ®åº“çš„é…ç½®ç­‰ç­‰ï¼› é‚£ä¹ˆä¿©è€…è¿˜æ˜¯æœ‰äº›å·®åˆ«çš„ï¼›\n\nè¿™é‡Œæˆ‘åˆ—ä¸¾`mongodbå’Œredis`åœ¨`nest`ä¸­çš„ä½¿ç”¨ï¼›\n\n## Mongodb\n\n### ä¾èµ–å®‰è£…\n\né¦–å…ˆå®‰è£…ä¾èµ–:\n\n```sh\npnpm add @nestjs/mongoose mongoose\n```\n\nå®‰è£…æˆåŠŸä¹‹å, é‚£ä¹ˆåªéœ€è¦åœ¨`app.module.ts`ä¸­é…ç½®ï¼š\n\n```ts\nimport { Module } from \"@nestjs/common\";\nimport { MongooseModule } from \"@nestjs/mongoose\";\n\n@Module({\n\t// ä¸è¿‡å»ºè®®å¯ä»¥å°†é“¾æ¥æ”¾åˆ°ç¯å¢ƒå˜é‡é‡Œï¼Œæ›´å®‰å…¨\n\timports: [MongooseModule.forRoot(\"mongodb://localhost/nest\")],\n})\nexport class AppModule {}\n```\n\nè¿™æ ·å°±å¯ä»¥é“¾æ¥æ•°æ®åº“äº†ï¼Œæ•°æ®åº“åä¸º`nest`ï¼›ä¸è¿‡è¿™åªæ˜¯èƒ½ä¿è¯æ•°æ®åº“çš„è¿æ¥ï¼Œä½†æ˜¯æƒ³è¦æ·»åŠ æ•°æ®ç­‰æ“ä½œè¿˜éœ€è¦é…ç½®å…¶ä»–ï¼›\n\nè¿™é‡Œæˆ‘æŒ‰ç…§ä¸€ä¸ªä¾‹å­å»è®²è§£ï¼Œ**å°±æ¯”å¦‚æ·»åŠ ç”¨æˆ·**, è¿è¡Œ`nest-cli`å‘½ä»¤\n\n```sh\nnest g res users\n```\n\nè¿™æ ·ä¼šåˆ›å»º`users`æ–‡ä»¶å¤¹\n\n### æ¨¡å‹æ³¨å…¥\n\nåˆ›å»ºæ–‡ä»¶`user.schema.ts`, ä»£ç å¦‚ä¸‹\n\n```ts\nimport { Prop, Schema, SchemaFactory } from \"@nestjs/mongoose\";\nexport const ADMIN_USER_MODEL_NAME = \"db_admin_users\";\n\n@Schema()\nexport class Admin_User_Schema {\n\t_id: string;\n\t// ç”¨æˆ·å\n\t@Prop()\n\tusername: string;\n\t// å¯†ç \n\t@Prop()\n\tpassword: string;\n}\nexport const AdminUserSchema = SchemaFactory.createForClass(Admin_User_Schema);\n```\n\nä»£ç è®²è§£ï¼š\n\n- `@Schema` æ ‡è®°ä¸ºæ•°æ®åº“çš„æ¨¡å‹(ç®€å•ç†è§£å°±æ˜¯è¡¨ç»“æ„)ï¼Œ `ADMIN_USER_MODEL_NAME` ä¸ºæ•°æ®åº“çš„è¡¨åï¼Œ `AdminUserSchema` ä¸ºæ•°æ®åº“çš„æ¨¡å‹ï¼›\n- `@Prop` æ ‡è®°ä¸ºæ•°æ®åº“çš„å±æ€§ï¼Œ `username` ä¸ºæ•°æ®åº“çš„å±æ€§åï¼Œ `password` ä¸ºæ•°æ®åº“çš„å±æ€§åï¼›\n- `_id` ä¸ºæ•°æ®åº“çš„ä¸»é”®(mongodb ä¼šè‡ªåŠ¨ç”Ÿæˆä¸»é”®ï¼Œè¿™é‡Œä¸å†™éƒ½æ²¡å…³ç³»)ï¼Œ `@Prop` æ ‡è®°ä¸ºæ•°æ®åº“çš„å±æ€§ï¼Œ `type` ä¸ºæ•°æ®åº“çš„ç±»å‹ï¼Œ `string` ä¸ºæ•°æ®åº“çš„ç±»å‹ï¼›\n\nè¿™æ ·æ•°æ®åº“çš„è¡¨ç»“æ„å°±è®¾è®¡å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥éœ€è¦è¿æ¥è¡¨ï¼Œè¿™æ ·åç»­æ‰èƒ½å¯¹è¡¨è¿›è¡Œæ“ä½œ(CURD)ï¼›\n\n### è¡¨é“¾æ¥\n\nåœ¨`user`ç›®å½•ä¸‹æ“ä½œ`user.module.ts`\n\n```ts\nimport { Module } from \"@nestjs/common\";\nimport { UserService } from \"./user.service\";\nimport { UserController } from \"./user.controller\";\nimport { MongooseModule } from \"@nestjs/mongoose\";\nimport { ADMIN_USER_MODEL_NAME, AdminUserSchema } from \"./schemas/user.schema\";\n\n@Module({\n\timports: [\n\t\t// æ ¸å¿ƒä»£ç \n\t\tMongooseModule.forFeature([\n\t\t\t{\n\t\t\t\t// è¡¨å\n\t\t\t\tname: ADMIN_USER_MODEL_NAME,\n\t\t\t\t// è¡¨æ¨¡å‹\n\t\t\t\tschema: AdminUserSchema,\n\t\t\t},\n\t\t]),\n\t],\n\tcontrollers: [UserController],\n\tproviders: [UserService],\n\texports: [UserService],\n})\nexport class UserModule {}\n```\n\nè¿™æ ·æ•°æ®è¡¨æ˜¯æ²¡æœ‰æ•°æ®çš„ï¼Œé‚£ä¹ˆæ¥ç€å°†ä¸€æ¡æµ‹è¯•æ•°æ®æ·»åŠ åœ¨æ•°æ®è¡¨é‡Œï¼š\n\nåœ¨`user.controller.ts`ä¸­è¿›è¡Œæ¨¡å‹çš„æ³¨å…¥ï¼š\n\n```ts\nimport { Controller, Post, Body, Get, Request } from \"@nestjs/common\";\nimport { UserService } from \"./user.service\";\nexport class UserController {\n\t// æœåŠ¡å±‚\n\tconstructor(private readonly userService: UserService) {}\n\n\t// æ¥å£åœ°å€\n\t@Post(\"create\")\n\t// è¯·æ±‚çš„å‚æ•°\n\tasync create(@Body() body: { username: string; password: string }) {\n\t\t// è°ƒç”¨çš„æœåŠ¡å±‚\n\t\treturn await this.userService.create(body);\n\t}\n}\n```\n\n`user.service.ts`ä»£ç å¦‚ä¸‹ï¼š\n\n```ts\nimport { Injectable } from \"@nestjs/common\";\nimport { Model } from \"mongoose\";\nimport { InjectModel } from \"@nestjs/mongoose\";\nimport {\n\tADMIN_USER_MODEL_NAME,\n\tAdmin_User_Schema,\n} from \"./schemas/user.schema\";\n@Injectable()\nexport class UserService {\n\tconstructor(\n\t\t@InjectModel(ADMIN_USER_MODEL_NAME)\n\t\tprivate readonly userModel: Model<Admin_User_Schema>\n\t) {}\n\tasync create(createUserDto: CreateUserDto) {\n\t\tconst result = await this.userModel.create(createUserDto);\n\t\treturn null;\n\t}\n}\n```\n\nå½“ä½ ä½¿ç”¨`apiFox or postman`è°ƒç”¨`http://localhost:3000/create`å°±ä¼šå‘ç°æ•°æ®è¡¨é‡Œæœ‰ä¸€æ¡æ•°æ®äº†ï¼›\n\n## Redis\n\n### ä¾èµ–å®‰è£…\n\n```sh\npnpm add @nestjs-modules/ioredis ioredis\n```\n\nå®‰è£…æˆåŠŸä¹‹åï¼ŒåŒæ ·åœ¨`app.module.ts`ä¸­é…ç½®ï¼š\n\n```ts\nimport { RedisModule } from '@nestjs-modules/ioredis';\n\n\n@Module({\n  imports: [\n    RedisModule.forRootAsync({\n      useFactory: () => ({\n        type: 'single',\n        // ä¿©ç§æ–¹å¼\n        // url: process.env.REDIS_URL,\n        // å¯†ç æ ¼å¼ï¼š redis\"//å¯†ç @localhost:27017/nest-app\n        url: `redis://${process.env.REDIS_PWD ? process.env.REDIS_PWD + '@' : ''}${process.env.REDIS_HOST}:${process.env.REDIS_PORT}/${process.env.REDIS_DB}`,\n      }),\n    }),\n  ]\n})\n```\n\n### æ¨¡å—æ³¨å…¥\n\n```ts\nimport { InjectRedis } from \"@nestjs-modules/ioredis\";\nimport { Injectable } from \"@nestjs/common\";\nimport Redis from \"ioredis\";\n\n@Injectable()\nexport class CacheService {\n\tconstructor(@InjectRedis() private readonly redis: Redis) {}\n\n\tasync get(key: string) {\n\t\treturn await this.redis.get(key);\n\t}\n\n\tasync set(key: string, value: string, expire?: number) {\n\t\treturn expire\n\t\t\t? await this.redis.set(key, value, \"EX\", expire)\n\t\t\t: await this.redis.set(key, value);\n\t}\n\n\tasync del(key: string) {\n\t\treturn await this.redis.del(key);\n\t}\n}\n```\n","source":"_posts/æŠ€èƒ½å°å†Œ/Nest/æ•°æ®åº“çš„é…ç½®.md","raw":"---\ntitle: Nest-æ•°æ®åº“çš„é…ç½®\nabbrlink: 677fbfc8\ndate: 2024-11-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Nest\n---\n\n# æ•°æ®åº“çš„é…ç½®\n\n> åœ¨`node`æœåŠ¡ä¸­ï¼Œä¸è®ºä½¿ç”¨çš„`express`è¿˜æ˜¯`nest`ï¼Œéƒ½æ˜¯æœ‰ä¸€äº›é…ç½®ï¼Œç¯å¢ƒçš„é…ç½®ï¼Œæ•°æ®åº“çš„é…ç½®ç­‰ç­‰ï¼› é‚£ä¹ˆä¿©è€…è¿˜æ˜¯æœ‰äº›å·®åˆ«çš„ï¼›\n\nè¿™é‡Œæˆ‘åˆ—ä¸¾`mongodbå’Œredis`åœ¨`nest`ä¸­çš„ä½¿ç”¨ï¼›\n\n## Mongodb\n\n### ä¾èµ–å®‰è£…\n\né¦–å…ˆå®‰è£…ä¾èµ–:\n\n```sh\npnpm add @nestjs/mongoose mongoose\n```\n\nå®‰è£…æˆåŠŸä¹‹å, é‚£ä¹ˆåªéœ€è¦åœ¨`app.module.ts`ä¸­é…ç½®ï¼š\n\n```ts\nimport { Module } from \"@nestjs/common\";\nimport { MongooseModule } from \"@nestjs/mongoose\";\n\n@Module({\n\t// ä¸è¿‡å»ºè®®å¯ä»¥å°†é“¾æ¥æ”¾åˆ°ç¯å¢ƒå˜é‡é‡Œï¼Œæ›´å®‰å…¨\n\timports: [MongooseModule.forRoot(\"mongodb://localhost/nest\")],\n})\nexport class AppModule {}\n```\n\nè¿™æ ·å°±å¯ä»¥é“¾æ¥æ•°æ®åº“äº†ï¼Œæ•°æ®åº“åä¸º`nest`ï¼›ä¸è¿‡è¿™åªæ˜¯èƒ½ä¿è¯æ•°æ®åº“çš„è¿æ¥ï¼Œä½†æ˜¯æƒ³è¦æ·»åŠ æ•°æ®ç­‰æ“ä½œè¿˜éœ€è¦é…ç½®å…¶ä»–ï¼›\n\nè¿™é‡Œæˆ‘æŒ‰ç…§ä¸€ä¸ªä¾‹å­å»è®²è§£ï¼Œ**å°±æ¯”å¦‚æ·»åŠ ç”¨æˆ·**, è¿è¡Œ`nest-cli`å‘½ä»¤\n\n```sh\nnest g res users\n```\n\nè¿™æ ·ä¼šåˆ›å»º`users`æ–‡ä»¶å¤¹\n\n### æ¨¡å‹æ³¨å…¥\n\nåˆ›å»ºæ–‡ä»¶`user.schema.ts`, ä»£ç å¦‚ä¸‹\n\n```ts\nimport { Prop, Schema, SchemaFactory } from \"@nestjs/mongoose\";\nexport const ADMIN_USER_MODEL_NAME = \"db_admin_users\";\n\n@Schema()\nexport class Admin_User_Schema {\n\t_id: string;\n\t// ç”¨æˆ·å\n\t@Prop()\n\tusername: string;\n\t// å¯†ç \n\t@Prop()\n\tpassword: string;\n}\nexport const AdminUserSchema = SchemaFactory.createForClass(Admin_User_Schema);\n```\n\nä»£ç è®²è§£ï¼š\n\n- `@Schema` æ ‡è®°ä¸ºæ•°æ®åº“çš„æ¨¡å‹(ç®€å•ç†è§£å°±æ˜¯è¡¨ç»“æ„)ï¼Œ `ADMIN_USER_MODEL_NAME` ä¸ºæ•°æ®åº“çš„è¡¨åï¼Œ `AdminUserSchema` ä¸ºæ•°æ®åº“çš„æ¨¡å‹ï¼›\n- `@Prop` æ ‡è®°ä¸ºæ•°æ®åº“çš„å±æ€§ï¼Œ `username` ä¸ºæ•°æ®åº“çš„å±æ€§åï¼Œ `password` ä¸ºæ•°æ®åº“çš„å±æ€§åï¼›\n- `_id` ä¸ºæ•°æ®åº“çš„ä¸»é”®(mongodb ä¼šè‡ªåŠ¨ç”Ÿæˆä¸»é”®ï¼Œè¿™é‡Œä¸å†™éƒ½æ²¡å…³ç³»)ï¼Œ `@Prop` æ ‡è®°ä¸ºæ•°æ®åº“çš„å±æ€§ï¼Œ `type` ä¸ºæ•°æ®åº“çš„ç±»å‹ï¼Œ `string` ä¸ºæ•°æ®åº“çš„ç±»å‹ï¼›\n\nè¿™æ ·æ•°æ®åº“çš„è¡¨ç»“æ„å°±è®¾è®¡å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥éœ€è¦è¿æ¥è¡¨ï¼Œè¿™æ ·åç»­æ‰èƒ½å¯¹è¡¨è¿›è¡Œæ“ä½œ(CURD)ï¼›\n\n### è¡¨é“¾æ¥\n\nåœ¨`user`ç›®å½•ä¸‹æ“ä½œ`user.module.ts`\n\n```ts\nimport { Module } from \"@nestjs/common\";\nimport { UserService } from \"./user.service\";\nimport { UserController } from \"./user.controller\";\nimport { MongooseModule } from \"@nestjs/mongoose\";\nimport { ADMIN_USER_MODEL_NAME, AdminUserSchema } from \"./schemas/user.schema\";\n\n@Module({\n\timports: [\n\t\t// æ ¸å¿ƒä»£ç \n\t\tMongooseModule.forFeature([\n\t\t\t{\n\t\t\t\t// è¡¨å\n\t\t\t\tname: ADMIN_USER_MODEL_NAME,\n\t\t\t\t// è¡¨æ¨¡å‹\n\t\t\t\tschema: AdminUserSchema,\n\t\t\t},\n\t\t]),\n\t],\n\tcontrollers: [UserController],\n\tproviders: [UserService],\n\texports: [UserService],\n})\nexport class UserModule {}\n```\n\nè¿™æ ·æ•°æ®è¡¨æ˜¯æ²¡æœ‰æ•°æ®çš„ï¼Œé‚£ä¹ˆæ¥ç€å°†ä¸€æ¡æµ‹è¯•æ•°æ®æ·»åŠ åœ¨æ•°æ®è¡¨é‡Œï¼š\n\nåœ¨`user.controller.ts`ä¸­è¿›è¡Œæ¨¡å‹çš„æ³¨å…¥ï¼š\n\n```ts\nimport { Controller, Post, Body, Get, Request } from \"@nestjs/common\";\nimport { UserService } from \"./user.service\";\nexport class UserController {\n\t// æœåŠ¡å±‚\n\tconstructor(private readonly userService: UserService) {}\n\n\t// æ¥å£åœ°å€\n\t@Post(\"create\")\n\t// è¯·æ±‚çš„å‚æ•°\n\tasync create(@Body() body: { username: string; password: string }) {\n\t\t// è°ƒç”¨çš„æœåŠ¡å±‚\n\t\treturn await this.userService.create(body);\n\t}\n}\n```\n\n`user.service.ts`ä»£ç å¦‚ä¸‹ï¼š\n\n```ts\nimport { Injectable } from \"@nestjs/common\";\nimport { Model } from \"mongoose\";\nimport { InjectModel } from \"@nestjs/mongoose\";\nimport {\n\tADMIN_USER_MODEL_NAME,\n\tAdmin_User_Schema,\n} from \"./schemas/user.schema\";\n@Injectable()\nexport class UserService {\n\tconstructor(\n\t\t@InjectModel(ADMIN_USER_MODEL_NAME)\n\t\tprivate readonly userModel: Model<Admin_User_Schema>\n\t) {}\n\tasync create(createUserDto: CreateUserDto) {\n\t\tconst result = await this.userModel.create(createUserDto);\n\t\treturn null;\n\t}\n}\n```\n\nå½“ä½ ä½¿ç”¨`apiFox or postman`è°ƒç”¨`http://localhost:3000/create`å°±ä¼šå‘ç°æ•°æ®è¡¨é‡Œæœ‰ä¸€æ¡æ•°æ®äº†ï¼›\n\n## Redis\n\n### ä¾èµ–å®‰è£…\n\n```sh\npnpm add @nestjs-modules/ioredis ioredis\n```\n\nå®‰è£…æˆåŠŸä¹‹åï¼ŒåŒæ ·åœ¨`app.module.ts`ä¸­é…ç½®ï¼š\n\n```ts\nimport { RedisModule } from '@nestjs-modules/ioredis';\n\n\n@Module({\n  imports: [\n    RedisModule.forRootAsync({\n      useFactory: () => ({\n        type: 'single',\n        // ä¿©ç§æ–¹å¼\n        // url: process.env.REDIS_URL,\n        // å¯†ç æ ¼å¼ï¼š redis\"//å¯†ç @localhost:27017/nest-app\n        url: `redis://${process.env.REDIS_PWD ? process.env.REDIS_PWD + '@' : ''}${process.env.REDIS_HOST}:${process.env.REDIS_PORT}/${process.env.REDIS_DB}`,\n      }),\n    }),\n  ]\n})\n```\n\n### æ¨¡å—æ³¨å…¥\n\n```ts\nimport { InjectRedis } from \"@nestjs-modules/ioredis\";\nimport { Injectable } from \"@nestjs/common\";\nimport Redis from \"ioredis\";\n\n@Injectable()\nexport class CacheService {\n\tconstructor(@InjectRedis() private readonly redis: Redis) {}\n\n\tasync get(key: string) {\n\t\treturn await this.redis.get(key);\n\t}\n\n\tasync set(key: string, value: string, expire?: number) {\n\t\treturn expire\n\t\t\t? await this.redis.set(key, value, \"EX\", expire)\n\t\t\t: await this.redis.set(key, value);\n\t}\n\n\tasync del(key: string) {\n\t\treturn await this.redis.del(key);\n\t}\n}\n```\n","slug":"æŠ€èƒ½å°å†Œ/Nest/æ•°æ®åº“çš„é…ç½®","published":1,"updated":"2025-03-12T09:44:45.738Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0iz003ofg9m817c6z08","content":"<h1 id=\"æ•°æ®åº“çš„é…ç½®\"><a href=\"#æ•°æ®åº“çš„é…ç½®\" class=\"headerlink\" title=\"æ•°æ®åº“çš„é…ç½®\"></a>æ•°æ®åº“çš„é…ç½®</h1><blockquote>\n<p>åœ¨<code>node</code>æœåŠ¡ä¸­ï¼Œä¸è®ºä½¿ç”¨çš„<code>express</code>è¿˜æ˜¯<code>nest</code>ï¼Œéƒ½æ˜¯æœ‰ä¸€äº›é…ç½®ï¼Œç¯å¢ƒçš„é…ç½®ï¼Œæ•°æ®åº“çš„é…ç½®ç­‰ç­‰ï¼› é‚£ä¹ˆä¿©è€…è¿˜æ˜¯æœ‰äº›å·®åˆ«çš„ï¼›</p>\n</blockquote>\n<p>è¿™é‡Œæˆ‘åˆ—ä¸¾<code>mongodbå’Œredis</code>åœ¨<code>nest</code>ä¸­çš„ä½¿ç”¨ï¼›</p>\n<h2 id=\"Mongodb\"><a href=\"#Mongodb\" class=\"headerlink\" title=\"Mongodb\"></a>Mongodb</h2><h3 id=\"ä¾èµ–å®‰è£…\"><a href=\"#ä¾èµ–å®‰è£…\" class=\"headerlink\" title=\"ä¾èµ–å®‰è£…\"></a>ä¾èµ–å®‰è£…</h3><p>é¦–å…ˆå®‰è£…ä¾èµ–:</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add @nestjs/mongoose mongoose</span><br></pre></td></tr></table></figure>\n\n<p>å®‰è£…æˆåŠŸä¹‹å, é‚£ä¹ˆåªéœ€è¦åœ¨<code>app.module.ts</code>ä¸­é…ç½®ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Module</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">MongooseModule</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/mongoose&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸è¿‡å»ºè®®å¯ä»¥å°†é“¾æ¥æ”¾åˆ°ç¯å¢ƒå˜é‡é‡Œï¼Œæ›´å®‰å…¨</span></span><br><span class=\"line\">\t<span class=\"attr\">imports</span>: [<span class=\"title class_\">MongooseModule</span>.<span class=\"title function_\">forRoot</span>(<span class=\"string\">&quot;mongodb://localhost/nest&quot;</span>)],</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AppModule</span> &#123;&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·å°±å¯ä»¥é“¾æ¥æ•°æ®åº“äº†ï¼Œæ•°æ®åº“åä¸º<code>nest</code>ï¼›ä¸è¿‡è¿™åªæ˜¯èƒ½ä¿è¯æ•°æ®åº“çš„è¿æ¥ï¼Œä½†æ˜¯æƒ³è¦æ·»åŠ æ•°æ®ç­‰æ“ä½œè¿˜éœ€è¦é…ç½®å…¶ä»–ï¼›</p>\n<p>è¿™é‡Œæˆ‘æŒ‰ç…§ä¸€ä¸ªä¾‹å­å»è®²è§£ï¼Œ<strong>å°±æ¯”å¦‚æ·»åŠ ç”¨æˆ·</strong>, è¿è¡Œ<code>nest-cli</code>å‘½ä»¤</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nest g res <span class=\"built_in\">users</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·ä¼šåˆ›å»º<code>users</code>æ–‡ä»¶å¤¹</p>\n<h3 id=\"æ¨¡å‹æ³¨å…¥\"><a href=\"#æ¨¡å‹æ³¨å…¥\" class=\"headerlink\" title=\"æ¨¡å‹æ³¨å…¥\"></a>æ¨¡å‹æ³¨å…¥</h3><p>åˆ›å»ºæ–‡ä»¶<code>user.schema.ts</code>, ä»£ç å¦‚ä¸‹</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Prop</span>, <span class=\"title class_\">Schema</span>, <span class=\"title class_\">SchemaFactory</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/mongoose&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">ADMIN_USER_MODEL_NAME</span> = <span class=\"string\">&quot;db_admin_users&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Schema</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Admin_User_Schema</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">_id</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ç”¨æˆ·å</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">username</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// å¯†ç </span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">password</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">AdminUserSchema</span> = <span class=\"title class_\">SchemaFactory</span>.<span class=\"title function_\">createForClass</span>(<span class=\"title class_\">Admin</span>_User_Schema);</span><br></pre></td></tr></table></figure>\n\n<p>ä»£ç è®²è§£ï¼š</p>\n<ul>\n<li><code>@Schema</code> æ ‡è®°ä¸ºæ•°æ®åº“çš„æ¨¡å‹(ç®€å•ç†è§£å°±æ˜¯è¡¨ç»“æ„)ï¼Œ <code>ADMIN_USER_MODEL_NAME</code> ä¸ºæ•°æ®åº“çš„è¡¨åï¼Œ <code>AdminUserSchema</code> ä¸ºæ•°æ®åº“çš„æ¨¡å‹ï¼›</li>\n<li><code>@Prop</code> æ ‡è®°ä¸ºæ•°æ®åº“çš„å±æ€§ï¼Œ <code>username</code> ä¸ºæ•°æ®åº“çš„å±æ€§åï¼Œ <code>password</code> ä¸ºæ•°æ®åº“çš„å±æ€§åï¼›</li>\n<li><code>_id</code> ä¸ºæ•°æ®åº“çš„ä¸»é”®(mongodb ä¼šè‡ªåŠ¨ç”Ÿæˆä¸»é”®ï¼Œè¿™é‡Œä¸å†™éƒ½æ²¡å…³ç³»)ï¼Œ <code>@Prop</code> æ ‡è®°ä¸ºæ•°æ®åº“çš„å±æ€§ï¼Œ <code>type</code> ä¸ºæ•°æ®åº“çš„ç±»å‹ï¼Œ <code>string</code> ä¸ºæ•°æ®åº“çš„ç±»å‹ï¼›</li>\n</ul>\n<p>è¿™æ ·æ•°æ®åº“çš„è¡¨ç»“æ„å°±è®¾è®¡å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥éœ€è¦è¿æ¥è¡¨ï¼Œè¿™æ ·åç»­æ‰èƒ½å¯¹è¡¨è¿›è¡Œæ“ä½œ(CURD)ï¼›</p>\n<h3 id=\"è¡¨é“¾æ¥\"><a href=\"#è¡¨é“¾æ¥\" class=\"headerlink\" title=\"è¡¨é“¾æ¥\"></a>è¡¨é“¾æ¥</h3><p>åœ¨<code>user</code>ç›®å½•ä¸‹æ“ä½œ<code>user.module.ts</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Module</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">UserService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./user.service&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">UserController</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./user.controller&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">MongooseModule</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/mongoose&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">ADMIN_USER_MODEL_NAME</span>, <span class=\"title class_\">AdminUserSchema</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./schemas/user.schema&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">imports</span>: [</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ ¸å¿ƒä»£ç </span></span><br><span class=\"line\">\t\t<span class=\"title class_\">MongooseModule</span>.<span class=\"title function_\">forFeature</span>([</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// è¡¨å</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">name</span>: <span class=\"variable constant_\">ADMIN_USER_MODEL_NAME</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// è¡¨æ¨¡å‹</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">schema</span>: <span class=\"title class_\">AdminUserSchema</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t]),</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"attr\">controllers</span>: [<span class=\"title class_\">UserController</span>],</span><br><span class=\"line\">\t<span class=\"attr\">providers</span>: [<span class=\"title class_\">UserService</span>],</span><br><span class=\"line\">\t<span class=\"attr\">exports</span>: [<span class=\"title class_\">UserService</span>],</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserModule</span> &#123;&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·æ•°æ®è¡¨æ˜¯æ²¡æœ‰æ•°æ®çš„ï¼Œé‚£ä¹ˆæ¥ç€å°†ä¸€æ¡æµ‹è¯•æ•°æ®æ·»åŠ åœ¨æ•°æ®è¡¨é‡Œï¼š</p>\n<p>åœ¨<code>user.controller.ts</code>ä¸­è¿›è¡Œæ¨¡å‹çš„æ³¨å…¥ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Controller</span>, <span class=\"title class_\">Post</span>, <span class=\"title class_\">Body</span>, <span class=\"title class_\">Get</span>, <span class=\"title class_\">Request</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">UserService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./user.service&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserController</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æœåŠ¡å±‚</span></span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">userService</span>: <span class=\"title class_\">UserService</span></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ¥å£åœ°å€</span></span><br><span class=\"line\">\t<span class=\"meta\">@Post</span>(<span class=\"string\">&quot;create&quot;</span>)</span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚çš„å‚æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"meta\">@Body</span>() <span class=\"attr\">body</span>: &#123; username: <span class=\"built_in\">string</span>; password: <span class=\"built_in\">string</span> &#125;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è°ƒç”¨çš„æœåŠ¡å±‚</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">userService</span>.<span class=\"title function_\">create</span>(body);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>user.service.ts</code>ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Injectable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Model</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;mongoose&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">InjectModel</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/mongoose&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable constant_\">ADMIN_USER_MODEL_NAME</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">Admin</span>_User_Schema,</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./schemas/user.schema&quot;</span>;</span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserService</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"meta\">@InjectModel</span>(ADMIN_USER_MODEL_NAME)</span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">userModel</span>: <span class=\"title class_\">Model</span>&lt;<span class=\"title class_\">Admin</span>_User_Schema&gt;</span></span><br><span class=\"line\"><span class=\"params\">\t</span>) &#123;&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"attr\">createUserDto</span>: <span class=\"title class_\">CreateUserDto</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> result = <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">userModel</span>.<span class=\"title function_\">create</span>(createUserDto);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å½“ä½ ä½¿ç”¨<code>apiFox or postman</code>è°ƒç”¨<code>http://localhost:3000/create</code>å°±ä¼šå‘ç°æ•°æ®è¡¨é‡Œæœ‰ä¸€æ¡æ•°æ®äº†ï¼›</p>\n<h2 id=\"Redis\"><a href=\"#Redis\" class=\"headerlink\" title=\"Redis\"></a>Redis</h2><h3 id=\"ä¾èµ–å®‰è£…-1\"><a href=\"#ä¾èµ–å®‰è£…-1\" class=\"headerlink\" title=\"ä¾èµ–å®‰è£…\"></a>ä¾èµ–å®‰è£…</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add @nestjs-modules/ioredis ioredis</span><br></pre></td></tr></table></figure>\n\n<p>å®‰è£…æˆåŠŸä¹‹åï¼ŒåŒæ ·åœ¨<code>app.module.ts</code>ä¸­é…ç½®ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">RedisModule</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@nestjs-modules/ioredis&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [</span><br><span class=\"line\">    <span class=\"title class_\">RedisModule</span>.<span class=\"title function_\">forRootAsync</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">useFactory</span>: <span class=\"function\">() =&gt;</span> (&#123;</span><br><span class=\"line\">        <span class=\"attr\">type</span>: <span class=\"string\">&#x27;single&#x27;</span>,</span><br><span class=\"line\">        <span class=\"comment\">// ä¿©ç§æ–¹å¼</span></span><br><span class=\"line\">        <span class=\"comment\">// url: process.env.REDIS_URL,</span></span><br><span class=\"line\">        <span class=\"comment\">// å¯†ç æ ¼å¼ï¼š redis&quot;//å¯†ç @localhost:27017/nest-app</span></span><br><span class=\"line\">        <span class=\"attr\">url</span>: <span class=\"string\">`redis://<span class=\"subst\">$&#123;process.env.REDIS_PWD ? process.env.REDIS_PWD + <span class=\"string\">&#x27;@&#x27;</span> : <span class=\"string\">&#x27;&#x27;</span>&#125;</span><span class=\"subst\">$&#123;process.env.REDIS_HOST&#125;</span>:<span class=\"subst\">$&#123;process.env.REDIS_PORT&#125;</span>/<span class=\"subst\">$&#123;process.env.REDIS_DB&#125;</span>`</span>,</span><br><span class=\"line\">      &#125;),</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ¨¡å—æ³¨å…¥\"><a href=\"#æ¨¡å—æ³¨å…¥\" class=\"headerlink\" title=\"æ¨¡å—æ³¨å…¥\"></a>æ¨¡å—æ³¨å…¥</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">InjectRedis</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs-modules/ioredis&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Injectable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Redis</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;ioredis&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">CacheService</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"meta\">@InjectRedis</span>() <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">redis</span>: <span class=\"title class_\">Redis</span></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">get</span>(<span class=\"params\"><span class=\"attr\">key</span>: <span class=\"built_in\">string</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">redis</span>.<span class=\"title function_\">get</span>(key);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">set</span>(<span class=\"params\"><span class=\"attr\">key</span>: <span class=\"built_in\">string</span>, <span class=\"attr\">value</span>: <span class=\"built_in\">string</span>, <span class=\"attr\">expire</span>?: <span class=\"built_in\">number</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> expire</span><br><span class=\"line\">\t\t\t? <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">redis</span>.<span class=\"title function_\">set</span>(key, value, <span class=\"string\">&quot;EX&quot;</span>, expire)</span><br><span class=\"line\">\t\t\t: <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">redis</span>.<span class=\"title function_\">set</span>(key, value);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">del</span>(<span class=\"params\"><span class=\"attr\">key</span>: <span class=\"built_in\">string</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">redis</span>.<span class=\"title function_\">del</span>(key);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"æ•°æ®åº“çš„é…ç½®\"><a href=\"#æ•°æ®åº“çš„é…ç½®\" class=\"headerlink\" title=\"æ•°æ®åº“çš„é…ç½®\"></a>æ•°æ®åº“çš„é…ç½®</h1><blockquote>\n<p>åœ¨<code>node</code>æœåŠ¡ä¸­ï¼Œä¸è®ºä½¿ç”¨çš„<code>express</code>è¿˜æ˜¯<code>nest</code>ï¼Œéƒ½æ˜¯æœ‰ä¸€äº›é…ç½®ï¼Œç¯å¢ƒçš„é…ç½®ï¼Œæ•°æ®åº“çš„é…ç½®ç­‰ç­‰ï¼› é‚£ä¹ˆä¿©è€…è¿˜æ˜¯æœ‰äº›å·®åˆ«çš„ï¼›</p>\n</blockquote>\n<p>è¿™é‡Œæˆ‘åˆ—ä¸¾<code>mongodbå’Œredis</code>åœ¨<code>nest</code>ä¸­çš„ä½¿ç”¨ï¼›</p>\n<h2 id=\"Mongodb\"><a href=\"#Mongodb\" class=\"headerlink\" title=\"Mongodb\"></a>Mongodb</h2><h3 id=\"ä¾èµ–å®‰è£…\"><a href=\"#ä¾èµ–å®‰è£…\" class=\"headerlink\" title=\"ä¾èµ–å®‰è£…\"></a>ä¾èµ–å®‰è£…</h3><p>é¦–å…ˆå®‰è£…ä¾èµ–:</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add @nestjs/mongoose mongoose</span><br></pre></td></tr></table></figure>\n\n<p>å®‰è£…æˆåŠŸä¹‹å, é‚£ä¹ˆåªéœ€è¦åœ¨<code>app.module.ts</code>ä¸­é…ç½®ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Module</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">MongooseModule</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/mongoose&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸è¿‡å»ºè®®å¯ä»¥å°†é“¾æ¥æ”¾åˆ°ç¯å¢ƒå˜é‡é‡Œï¼Œæ›´å®‰å…¨</span></span><br><span class=\"line\">\t<span class=\"attr\">imports</span>: [<span class=\"title class_\">MongooseModule</span>.<span class=\"title function_\">forRoot</span>(<span class=\"string\">&quot;mongodb://localhost/nest&quot;</span>)],</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AppModule</span> &#123;&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·å°±å¯ä»¥é“¾æ¥æ•°æ®åº“äº†ï¼Œæ•°æ®åº“åä¸º<code>nest</code>ï¼›ä¸è¿‡è¿™åªæ˜¯èƒ½ä¿è¯æ•°æ®åº“çš„è¿æ¥ï¼Œä½†æ˜¯æƒ³è¦æ·»åŠ æ•°æ®ç­‰æ“ä½œè¿˜éœ€è¦é…ç½®å…¶ä»–ï¼›</p>\n<p>è¿™é‡Œæˆ‘æŒ‰ç…§ä¸€ä¸ªä¾‹å­å»è®²è§£ï¼Œ<strong>å°±æ¯”å¦‚æ·»åŠ ç”¨æˆ·</strong>, è¿è¡Œ<code>nest-cli</code>å‘½ä»¤</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nest g res <span class=\"built_in\">users</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·ä¼šåˆ›å»º<code>users</code>æ–‡ä»¶å¤¹</p>\n<h3 id=\"æ¨¡å‹æ³¨å…¥\"><a href=\"#æ¨¡å‹æ³¨å…¥\" class=\"headerlink\" title=\"æ¨¡å‹æ³¨å…¥\"></a>æ¨¡å‹æ³¨å…¥</h3><p>åˆ›å»ºæ–‡ä»¶<code>user.schema.ts</code>, ä»£ç å¦‚ä¸‹</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Prop</span>, <span class=\"title class_\">Schema</span>, <span class=\"title class_\">SchemaFactory</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/mongoose&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">ADMIN_USER_MODEL_NAME</span> = <span class=\"string\">&quot;db_admin_users&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Schema</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Admin_User_Schema</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">_id</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ç”¨æˆ·å</span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">username</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// å¯†ç </span></span><br><span class=\"line\">\t<span class=\"meta\">@Prop</span>()</span><br><span class=\"line\">\t<span class=\"attr\">password</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">AdminUserSchema</span> = <span class=\"title class_\">SchemaFactory</span>.<span class=\"title function_\">createForClass</span>(<span class=\"title class_\">Admin</span>_User_Schema);</span><br></pre></td></tr></table></figure>\n\n<p>ä»£ç è®²è§£ï¼š</p>\n<ul>\n<li><code>@Schema</code> æ ‡è®°ä¸ºæ•°æ®åº“çš„æ¨¡å‹(ç®€å•ç†è§£å°±æ˜¯è¡¨ç»“æ„)ï¼Œ <code>ADMIN_USER_MODEL_NAME</code> ä¸ºæ•°æ®åº“çš„è¡¨åï¼Œ <code>AdminUserSchema</code> ä¸ºæ•°æ®åº“çš„æ¨¡å‹ï¼›</li>\n<li><code>@Prop</code> æ ‡è®°ä¸ºæ•°æ®åº“çš„å±æ€§ï¼Œ <code>username</code> ä¸ºæ•°æ®åº“çš„å±æ€§åï¼Œ <code>password</code> ä¸ºæ•°æ®åº“çš„å±æ€§åï¼›</li>\n<li><code>_id</code> ä¸ºæ•°æ®åº“çš„ä¸»é”®(mongodb ä¼šè‡ªåŠ¨ç”Ÿæˆä¸»é”®ï¼Œè¿™é‡Œä¸å†™éƒ½æ²¡å…³ç³»)ï¼Œ <code>@Prop</code> æ ‡è®°ä¸ºæ•°æ®åº“çš„å±æ€§ï¼Œ <code>type</code> ä¸ºæ•°æ®åº“çš„ç±»å‹ï¼Œ <code>string</code> ä¸ºæ•°æ®åº“çš„ç±»å‹ï¼›</li>\n</ul>\n<p>è¿™æ ·æ•°æ®åº“çš„è¡¨ç»“æ„å°±è®¾è®¡å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥éœ€è¦è¿æ¥è¡¨ï¼Œè¿™æ ·åç»­æ‰èƒ½å¯¹è¡¨è¿›è¡Œæ“ä½œ(CURD)ï¼›</p>\n<h3 id=\"è¡¨é“¾æ¥\"><a href=\"#è¡¨é“¾æ¥\" class=\"headerlink\" title=\"è¡¨é“¾æ¥\"></a>è¡¨é“¾æ¥</h3><p>åœ¨<code>user</code>ç›®å½•ä¸‹æ“ä½œ<code>user.module.ts</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Module</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">UserService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./user.service&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">UserController</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./user.controller&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">MongooseModule</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/mongoose&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">ADMIN_USER_MODEL_NAME</span>, <span class=\"title class_\">AdminUserSchema</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./schemas/user.schema&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">imports</span>: [</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ ¸å¿ƒä»£ç </span></span><br><span class=\"line\">\t\t<span class=\"title class_\">MongooseModule</span>.<span class=\"title function_\">forFeature</span>([</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// è¡¨å</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">name</span>: <span class=\"variable constant_\">ADMIN_USER_MODEL_NAME</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// è¡¨æ¨¡å‹</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">schema</span>: <span class=\"title class_\">AdminUserSchema</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t]),</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"attr\">controllers</span>: [<span class=\"title class_\">UserController</span>],</span><br><span class=\"line\">\t<span class=\"attr\">providers</span>: [<span class=\"title class_\">UserService</span>],</span><br><span class=\"line\">\t<span class=\"attr\">exports</span>: [<span class=\"title class_\">UserService</span>],</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserModule</span> &#123;&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·æ•°æ®è¡¨æ˜¯æ²¡æœ‰æ•°æ®çš„ï¼Œé‚£ä¹ˆæ¥ç€å°†ä¸€æ¡æµ‹è¯•æ•°æ®æ·»åŠ åœ¨æ•°æ®è¡¨é‡Œï¼š</p>\n<p>åœ¨<code>user.controller.ts</code>ä¸­è¿›è¡Œæ¨¡å‹çš„æ³¨å…¥ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Controller</span>, <span class=\"title class_\">Post</span>, <span class=\"title class_\">Body</span>, <span class=\"title class_\">Get</span>, <span class=\"title class_\">Request</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">UserService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./user.service&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserController</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æœåŠ¡å±‚</span></span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">userService</span>: <span class=\"title class_\">UserService</span></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ¥å£åœ°å€</span></span><br><span class=\"line\">\t<span class=\"meta\">@Post</span>(<span class=\"string\">&quot;create&quot;</span>)</span><br><span class=\"line\">\t<span class=\"comment\">// è¯·æ±‚çš„å‚æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"meta\">@Body</span>() <span class=\"attr\">body</span>: &#123; username: <span class=\"built_in\">string</span>; password: <span class=\"built_in\">string</span> &#125;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è°ƒç”¨çš„æœåŠ¡å±‚</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">userService</span>.<span class=\"title function_\">create</span>(body);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>user.service.ts</code>ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Injectable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Model</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;mongoose&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">InjectModel</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/mongoose&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable constant_\">ADMIN_USER_MODEL_NAME</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">Admin</span>_User_Schema,</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./schemas/user.schema&quot;</span>;</span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserService</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"meta\">@InjectModel</span>(ADMIN_USER_MODEL_NAME)</span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">userModel</span>: <span class=\"title class_\">Model</span>&lt;<span class=\"title class_\">Admin</span>_User_Schema&gt;</span></span><br><span class=\"line\"><span class=\"params\">\t</span>) &#123;&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"attr\">createUserDto</span>: <span class=\"title class_\">CreateUserDto</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> result = <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">userModel</span>.<span class=\"title function_\">create</span>(createUserDto);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å½“ä½ ä½¿ç”¨<code>apiFox or postman</code>è°ƒç”¨<code>http://localhost:3000/create</code>å°±ä¼šå‘ç°æ•°æ®è¡¨é‡Œæœ‰ä¸€æ¡æ•°æ®äº†ï¼›</p>\n<h2 id=\"Redis\"><a href=\"#Redis\" class=\"headerlink\" title=\"Redis\"></a>Redis</h2><h3 id=\"ä¾èµ–å®‰è£…-1\"><a href=\"#ä¾èµ–å®‰è£…-1\" class=\"headerlink\" title=\"ä¾èµ–å®‰è£…\"></a>ä¾èµ–å®‰è£…</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add @nestjs-modules/ioredis ioredis</span><br></pre></td></tr></table></figure>\n\n<p>å®‰è£…æˆåŠŸä¹‹åï¼ŒåŒæ ·åœ¨<code>app.module.ts</code>ä¸­é…ç½®ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">RedisModule</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@nestjs-modules/ioredis&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [</span><br><span class=\"line\">    <span class=\"title class_\">RedisModule</span>.<span class=\"title function_\">forRootAsync</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">useFactory</span>: <span class=\"function\">() =&gt;</span> (&#123;</span><br><span class=\"line\">        <span class=\"attr\">type</span>: <span class=\"string\">&#x27;single&#x27;</span>,</span><br><span class=\"line\">        <span class=\"comment\">// ä¿©ç§æ–¹å¼</span></span><br><span class=\"line\">        <span class=\"comment\">// url: process.env.REDIS_URL,</span></span><br><span class=\"line\">        <span class=\"comment\">// å¯†ç æ ¼å¼ï¼š redis&quot;//å¯†ç @localhost:27017/nest-app</span></span><br><span class=\"line\">        <span class=\"attr\">url</span>: <span class=\"string\">`redis://<span class=\"subst\">$&#123;process.env.REDIS_PWD ? process.env.REDIS_PWD + <span class=\"string\">&#x27;@&#x27;</span> : <span class=\"string\">&#x27;&#x27;</span>&#125;</span><span class=\"subst\">$&#123;process.env.REDIS_HOST&#125;</span>:<span class=\"subst\">$&#123;process.env.REDIS_PORT&#125;</span>/<span class=\"subst\">$&#123;process.env.REDIS_DB&#125;</span>`</span>,</span><br><span class=\"line\">      &#125;),</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ¨¡å—æ³¨å…¥\"><a href=\"#æ¨¡å—æ³¨å…¥\" class=\"headerlink\" title=\"æ¨¡å—æ³¨å…¥\"></a>æ¨¡å—æ³¨å…¥</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">InjectRedis</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs-modules/ioredis&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Injectable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Redis</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;ioredis&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">CacheService</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"meta\">@InjectRedis</span>() <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">redis</span>: <span class=\"title class_\">Redis</span></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">get</span>(<span class=\"params\"><span class=\"attr\">key</span>: <span class=\"built_in\">string</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">redis</span>.<span class=\"title function_\">get</span>(key);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">set</span>(<span class=\"params\"><span class=\"attr\">key</span>: <span class=\"built_in\">string</span>, <span class=\"attr\">value</span>: <span class=\"built_in\">string</span>, <span class=\"attr\">expire</span>?: <span class=\"built_in\">number</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> expire</span><br><span class=\"line\">\t\t\t? <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">redis</span>.<span class=\"title function_\">set</span>(key, value, <span class=\"string\">&quot;EX&quot;</span>, expire)</span><br><span class=\"line\">\t\t\t: <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">redis</span>.<span class=\"title function_\">set</span>(key, value);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">del</span>(<span class=\"params\"><span class=\"attr\">key</span>: <span class=\"built_in\">string</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">redis</span>.<span class=\"title function_\">del</span>(key);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"Nest-è¯·æ±‚æ‹¦æˆªå™¨","abbrlink":"daa13c35","date":"2024-11-08T01:05:01.000Z","_content":"\n# ä»‹ç»\n\nåœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç¢°è§åç«¯æ¥å£è¿”å›çš„ä¿¡æ¯æ•°æ®ï¼Œä¼šå‘ç°ä¸ç®¡è¯·æ±‚æˆåŠŸè¿˜æ˜¯å¤±è´¥è¿”å›çš„æ•°æ®æ ¼å¼éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¸ªæ˜¯å¦‚ä½•åšåˆ°çš„å‘¢ï¼Ÿ\n\n## ç¼–å†™\n\nä½¿ç”¨`nest`å‘½ä»¤`nest g itc interceptor`,è¿™ä¸ªæ—¶å€™ä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è¿™ä¸ªæ–‡ä»¶ç¼–å†™å³å¯ï¼›\n\n```ts\nimport {\n\tCallHandler,\n\tExecutionContext,\n\tHttpException,\n\tHttpStatus,\n\tInjectable,\n\tLogger,\n\tNestInterceptor,\n} from \"@nestjs/common\";\nimport * as kleur from \"kleur\";\nimport { catchError, map, Observable, tap, throwError } from \"rxjs\";\nimport { getMessage } from \"../utils/interceptor.utils\";\n\n@Injectable()\nexport class InterceptorInterceptor implements NestInterceptor {\n\tintercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n\t\tconst now = Date.now();\n\t\tconst request = context.switchToHttp().getRequest();\n\t\tconst logOptions = {\n\t\t\turl: request.url,\n\t\t\tmethod: request.method,\n\t\t\tparams: request.params,\n\t\t\tquery: request.query,\n\t\t\tbody: request.body,\n\t\t\tip: request.ip,\n\t\t};\n\t\t// è¯·æ±‚æ—¶å°†è¯·æ±‚çš„ä¸€äº›åŸºç¡€ä¿¡æ¯æ‰“å°åœ¨ç»ˆç«¯\n\t\tLogger.debug(\n\t\t\t`${kleur.yellow(\"[API-LOG]\")} ${kleur.blue(\n\t\t\t\tJSON.stringify(logOptions)\n\t\t\t)} ${kleur.yellow(\" +\" + (Date.now() - now) + \"ms\")}`\n\t\t);\n\t\treturn next.handle().pipe(\n\t\t\tcatchError(error => {\n\t\t\t\t// å¼‚å¸¸å¤„ç†ï¼Œå¼‚å¸¸å¤§è‡´åˆ†ä¸ºä¿©ç§ï¼Œ\n\t\t\t\t// ä¸€ç§æ˜¯æœåŠ¡å¼‚å¸¸ï¼Œæ¯”å¦‚ä½ æœåŠ¡ä»£ç ç¼–å†™é”™è¯¯\n\t\t\t\t// äºŒæ˜¯è¯·æ±‚å¼‚å¸¸ï¼Œæ¯”å¦‚404ç­‰\n\t\t\t\t// è¿”å›çš„è¯·æ±‚çŠ¶æ€ç ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œ404ï¼Œ200ï¼Œ500ç­‰\n\t\t\t\t// httpè¯·æ±‚\n\t\t\t\tif (error instanceof HttpException) {\n\t\t\t\t\tlet msg = error.message;\n\t\t\t\t\tconst getMsg = (error.getResponse() as any).message || error.message;\n\t\t\t\t\tif (Array.isArray(getMsg)) {\n\t\t\t\t\t\tmsg = getMsg[0];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmsg = getMsg;\n\t\t\t\t\t}\n\t\t\t\t\treturn throwError(\n\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\tnew HttpException(\n\t\t\t\t\t\t\t\tgetMessage({\n\t\t\t\t\t\t\t\t\tcontext: null,\n\t\t\t\t\t\t\t\t\tmessage: msg,\n\t\t\t\t\t\t\t\t\tstatus: error.getStatus(),\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tHttpStatus.OK\n\t\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t// æœåŠ¡èµ·å†…éƒ¨é”™è¯¯\n\t\t\t\treturn throwError(\n\t\t\t\t\t() =>\n\t\t\t\t\t\tnew HttpException(\n\t\t\t\t\t\t\tgetMessage({\n\t\t\t\t\t\t\t\tcontext: null,\n\t\t\t\t\t\t\t\tmessage: error.message,\n\t\t\t\t\t\t\t\tstatus: HttpStatus.INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tHttpStatus.INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}),\n\t\t\tmap(data => {\n\t\t\t\t// æ²¡æœ‰å¼‚å¸¸æ‹¦æˆªï¼Œé‚£ä¹ˆæ­£å¸¸è¿”å›\n\t\t\t\treturn getMessage({\n\t\t\t\t\tcontext: data,\n\t\t\t\t\tmessage: \"æ“ä½œæˆåŠŸ\",\n\t\t\t\t});\n\t\t\t})\n\t\t);\n\t}\n}\n```\n\n```ts\nimport { Logger } from \"@nestjs/common\";\nimport * as kleur from \"kleur\";\n\ninterface IMessage {\n\tmessage: string;\n\tcontext: object;\n\tstatus?: number;\n\ttimestamp?: string;\n}\nexport function getMessage(options: IMessage) {\n\toptions.status !== 200 &&\n\t\tLogger.debug(`${kleur.yellow(\"[API-LOG]\")} ${kleur.red(options.message)} `);\n\t// æ­£å¸¸è¿”å›çš„æ¥å£ä¿¡æ¯\n\treturn {\n\t\tmessage: options.message,\n\t\tstatus: options.status || 200,\n\t\ttimestamp: new Date().toISOString(),\n\t\tcontext: options.context,\n\t};\n}\n```\n\n## ä½¿ç”¨\n\n> ä½¿ç”¨çš„æ–¹å¼å¤§è‡´åˆ†ä¸ºä¿©ç§ï¼Œå…¨å±€ä½¿ç”¨å’Œå±€éƒ¨ä½¿ç”¨\n\n### å…¨å±€ä½¿ç”¨\n\n#### åœ¨`app.module.ts`ä¸­æ·»åŠ å¦‚ä¸‹ï¼š\n\n```ts\n@Module({\n  providers: [\n    {\n      provide: APP_INTERCEPTOR,\n      useClass: InterceptorInterceptor,\n    },\n  ]\n})\n```\n\n#### åœ¨`main.ts`ä¸­ä½¿ç”¨:\n\n```ts\napp.useGlobalInterceptors(new InterceptorInterceptor());\n```\n\n### å±€éƒ¨ä½¿ç”¨\n\nåœ¨éœ€è¦çš„`controller`æ·»åŠ ï¼Œå¦‚ä¸‹ï¼š\n\n```ts\n@Controller()\nexport class AppController {\n\tconstructor(private readonly appService: AppService) {}\n\n\t@Get()\n\tgetHello(): string {\n\t\treturn this.appService.getHello();\n\t}\n\n\t@Get(\"/a\")\n\t@UseInterceptors(InterceptorInterceptor)\n\tgetA(): string {\n\t\t// throw new Error('Something went wrong');\n\t\treturn this.appService.getA();\n\t}\n}\n```\n","source":"_posts/æŠ€èƒ½å°å†Œ/Nest/è¯·æ±‚æ‹¦æˆªå™¨.md","raw":"---\ntitle: Nest-è¯·æ±‚æ‹¦æˆªå™¨\nabbrlink: daa13c35\ndate: 2024-11-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Nest\n---\n\n# ä»‹ç»\n\nåœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç¢°è§åç«¯æ¥å£è¿”å›çš„ä¿¡æ¯æ•°æ®ï¼Œä¼šå‘ç°ä¸ç®¡è¯·æ±‚æˆåŠŸè¿˜æ˜¯å¤±è´¥è¿”å›çš„æ•°æ®æ ¼å¼éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¸ªæ˜¯å¦‚ä½•åšåˆ°çš„å‘¢ï¼Ÿ\n\n## ç¼–å†™\n\nä½¿ç”¨`nest`å‘½ä»¤`nest g itc interceptor`,è¿™ä¸ªæ—¶å€™ä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è¿™ä¸ªæ–‡ä»¶ç¼–å†™å³å¯ï¼›\n\n```ts\nimport {\n\tCallHandler,\n\tExecutionContext,\n\tHttpException,\n\tHttpStatus,\n\tInjectable,\n\tLogger,\n\tNestInterceptor,\n} from \"@nestjs/common\";\nimport * as kleur from \"kleur\";\nimport { catchError, map, Observable, tap, throwError } from \"rxjs\";\nimport { getMessage } from \"../utils/interceptor.utils\";\n\n@Injectable()\nexport class InterceptorInterceptor implements NestInterceptor {\n\tintercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n\t\tconst now = Date.now();\n\t\tconst request = context.switchToHttp().getRequest();\n\t\tconst logOptions = {\n\t\t\turl: request.url,\n\t\t\tmethod: request.method,\n\t\t\tparams: request.params,\n\t\t\tquery: request.query,\n\t\t\tbody: request.body,\n\t\t\tip: request.ip,\n\t\t};\n\t\t// è¯·æ±‚æ—¶å°†è¯·æ±‚çš„ä¸€äº›åŸºç¡€ä¿¡æ¯æ‰“å°åœ¨ç»ˆç«¯\n\t\tLogger.debug(\n\t\t\t`${kleur.yellow(\"[API-LOG]\")} ${kleur.blue(\n\t\t\t\tJSON.stringify(logOptions)\n\t\t\t)} ${kleur.yellow(\" +\" + (Date.now() - now) + \"ms\")}`\n\t\t);\n\t\treturn next.handle().pipe(\n\t\t\tcatchError(error => {\n\t\t\t\t// å¼‚å¸¸å¤„ç†ï¼Œå¼‚å¸¸å¤§è‡´åˆ†ä¸ºä¿©ç§ï¼Œ\n\t\t\t\t// ä¸€ç§æ˜¯æœåŠ¡å¼‚å¸¸ï¼Œæ¯”å¦‚ä½ æœåŠ¡ä»£ç ç¼–å†™é”™è¯¯\n\t\t\t\t// äºŒæ˜¯è¯·æ±‚å¼‚å¸¸ï¼Œæ¯”å¦‚404ç­‰\n\t\t\t\t// è¿”å›çš„è¯·æ±‚çŠ¶æ€ç ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œ404ï¼Œ200ï¼Œ500ç­‰\n\t\t\t\t// httpè¯·æ±‚\n\t\t\t\tif (error instanceof HttpException) {\n\t\t\t\t\tlet msg = error.message;\n\t\t\t\t\tconst getMsg = (error.getResponse() as any).message || error.message;\n\t\t\t\t\tif (Array.isArray(getMsg)) {\n\t\t\t\t\t\tmsg = getMsg[0];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmsg = getMsg;\n\t\t\t\t\t}\n\t\t\t\t\treturn throwError(\n\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\tnew HttpException(\n\t\t\t\t\t\t\t\tgetMessage({\n\t\t\t\t\t\t\t\t\tcontext: null,\n\t\t\t\t\t\t\t\t\tmessage: msg,\n\t\t\t\t\t\t\t\t\tstatus: error.getStatus(),\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tHttpStatus.OK\n\t\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t// æœåŠ¡èµ·å†…éƒ¨é”™è¯¯\n\t\t\t\treturn throwError(\n\t\t\t\t\t() =>\n\t\t\t\t\t\tnew HttpException(\n\t\t\t\t\t\t\tgetMessage({\n\t\t\t\t\t\t\t\tcontext: null,\n\t\t\t\t\t\t\t\tmessage: error.message,\n\t\t\t\t\t\t\t\tstatus: HttpStatus.INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tHttpStatus.INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}),\n\t\t\tmap(data => {\n\t\t\t\t// æ²¡æœ‰å¼‚å¸¸æ‹¦æˆªï¼Œé‚£ä¹ˆæ­£å¸¸è¿”å›\n\t\t\t\treturn getMessage({\n\t\t\t\t\tcontext: data,\n\t\t\t\t\tmessage: \"æ“ä½œæˆåŠŸ\",\n\t\t\t\t});\n\t\t\t})\n\t\t);\n\t}\n}\n```\n\n```ts\nimport { Logger } from \"@nestjs/common\";\nimport * as kleur from \"kleur\";\n\ninterface IMessage {\n\tmessage: string;\n\tcontext: object;\n\tstatus?: number;\n\ttimestamp?: string;\n}\nexport function getMessage(options: IMessage) {\n\toptions.status !== 200 &&\n\t\tLogger.debug(`${kleur.yellow(\"[API-LOG]\")} ${kleur.red(options.message)} `);\n\t// æ­£å¸¸è¿”å›çš„æ¥å£ä¿¡æ¯\n\treturn {\n\t\tmessage: options.message,\n\t\tstatus: options.status || 200,\n\t\ttimestamp: new Date().toISOString(),\n\t\tcontext: options.context,\n\t};\n}\n```\n\n## ä½¿ç”¨\n\n> ä½¿ç”¨çš„æ–¹å¼å¤§è‡´åˆ†ä¸ºä¿©ç§ï¼Œå…¨å±€ä½¿ç”¨å’Œå±€éƒ¨ä½¿ç”¨\n\n### å…¨å±€ä½¿ç”¨\n\n#### åœ¨`app.module.ts`ä¸­æ·»åŠ å¦‚ä¸‹ï¼š\n\n```ts\n@Module({\n  providers: [\n    {\n      provide: APP_INTERCEPTOR,\n      useClass: InterceptorInterceptor,\n    },\n  ]\n})\n```\n\n#### åœ¨`main.ts`ä¸­ä½¿ç”¨:\n\n```ts\napp.useGlobalInterceptors(new InterceptorInterceptor());\n```\n\n### å±€éƒ¨ä½¿ç”¨\n\nåœ¨éœ€è¦çš„`controller`æ·»åŠ ï¼Œå¦‚ä¸‹ï¼š\n\n```ts\n@Controller()\nexport class AppController {\n\tconstructor(private readonly appService: AppService) {}\n\n\t@Get()\n\tgetHello(): string {\n\t\treturn this.appService.getHello();\n\t}\n\n\t@Get(\"/a\")\n\t@UseInterceptors(InterceptorInterceptor)\n\tgetA(): string {\n\t\t// throw new Error('Something went wrong');\n\t\treturn this.appService.getA();\n\t}\n}\n```\n","slug":"æŠ€èƒ½å°å†Œ/Nest/è¯·æ±‚æ‹¦æˆªå™¨","published":1,"updated":"2025-03-12T09:43:04.403Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j0003rfg9mcvtpewhd","content":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç¢°è§åç«¯æ¥å£è¿”å›çš„ä¿¡æ¯æ•°æ®ï¼Œä¼šå‘ç°ä¸ç®¡è¯·æ±‚æˆåŠŸè¿˜æ˜¯å¤±è´¥è¿”å›çš„æ•°æ®æ ¼å¼éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¸ªæ˜¯å¦‚ä½•åšåˆ°çš„å‘¢ï¼Ÿ</p>\n<h2 id=\"ç¼–å†™\"><a href=\"#ç¼–å†™\" class=\"headerlink\" title=\"ç¼–å†™\"></a>ç¼–å†™</h2><p>ä½¿ç”¨<code>nest</code>å‘½ä»¤<code>nest g itc interceptor</code>,è¿™ä¸ªæ—¶å€™ä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è¿™ä¸ªæ–‡ä»¶ç¼–å†™å³å¯ï¼›</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">\t<span class=\"title class_\">CallHandler</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">ExecutionContext</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">HttpException</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">HttpStatus</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">Injectable</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">Logger</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">NestInterceptor</span>,</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> kleur <span class=\"keyword\">from</span> <span class=\"string\">&quot;kleur&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; catchError, map, <span class=\"title class_\">Observable</span>, tap, throwError &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;rxjs&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; getMessage &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../utils/interceptor.utils&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">InterceptorInterceptor</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">NestInterceptor</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">intercept</span>(<span class=\"attr\">context</span>: <span class=\"title class_\">ExecutionContext</span>, <span class=\"attr\">next</span>: <span class=\"title class_\">CallHandler</span>): <span class=\"title class_\">Observable</span>&lt;<span class=\"built_in\">any</span>&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> now = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> request = context.<span class=\"title function_\">switchToHttp</span>().<span class=\"title function_\">getRequest</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> logOptions = &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">url</span>: request.<span class=\"property\">url</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">method</span>: request.<span class=\"property\">method</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">params</span>: request.<span class=\"property\">params</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">query</span>: request.<span class=\"property\">query</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">body</span>: request.<span class=\"property\">body</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">ip</span>: request.<span class=\"property\">ip</span>,</span><br><span class=\"line\">\t\t&#125;;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚æ—¶å°†è¯·æ±‚çš„ä¸€äº›åŸºç¡€ä¿¡æ¯æ‰“å°åœ¨ç»ˆç«¯</span></span><br><span class=\"line\">\t\t<span class=\"title class_\">Logger</span>.<span class=\"title function_\">debug</span>(</span><br><span class=\"line\">\t\t\t<span class=\"string\">`<span class=\"subst\">$&#123;kleur.yellow(<span class=\"string\">&quot;[API-LOG]&quot;</span>)&#125;</span> <span class=\"subst\">$&#123;kleur.blue(</span></span></span><br><span class=\"line\"><span class=\"subst\"><span class=\"string\">\t\t\t\t<span class=\"built_in\">JSON</span>.stringify(logOptions)</span></span></span><br><span class=\"line\"><span class=\"subst\"><span class=\"string\">\t\t\t)&#125;</span> <span class=\"subst\">$&#123;kleur.yellow(<span class=\"string\">&quot; +&quot;</span> + (<span class=\"built_in\">Date</span>.now() - now) + <span class=\"string\">&quot;ms&quot;</span>)&#125;</span>`</span></span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> next.<span class=\"title function_\">handle</span>().<span class=\"title function_\">pipe</span>(</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">catchError</span>(<span class=\"function\"><span class=\"params\">error</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// å¼‚å¸¸å¤„ç†ï¼Œå¼‚å¸¸å¤§è‡´åˆ†ä¸ºä¿©ç§ï¼Œ</span></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// ä¸€ç§æ˜¯æœåŠ¡å¼‚å¸¸ï¼Œæ¯”å¦‚ä½ æœåŠ¡ä»£ç ç¼–å†™é”™è¯¯</span></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// äºŒæ˜¯è¯·æ±‚å¼‚å¸¸ï¼Œæ¯”å¦‚404ç­‰</span></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// è¿”å›çš„è¯·æ±‚çŠ¶æ€ç ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œ404ï¼Œ200ï¼Œ500ç­‰</span></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// httpè¯·æ±‚</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (error <span class=\"keyword\">instanceof</span> <span class=\"title class_\">HttpException</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">let</span> msg = error.<span class=\"property\">message</span>;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">const</span> getMsg = (error.<span class=\"title function_\">getResponse</span>() <span class=\"keyword\">as</span> <span class=\"built_in\">any</span>).<span class=\"property\">message</span> || error.<span class=\"property\">message</span>;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span> (<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(getMsg)) &#123;</span><br><span class=\"line\">\t\t\t\t\t\tmsg = getMsg[<span class=\"number\">0</span>];</span><br><span class=\"line\">\t\t\t\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t\tmsg = getMsg;</span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"title function_\">throwError</span>(</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"function\">() =&gt;</span></span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">new</span> <span class=\"title class_\">HttpException</span>(</span><br><span class=\"line\">\t\t\t\t\t\t\t\t<span class=\"title function_\">getMessage</span>(&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t\t\t<span class=\"attr\">context</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t\t\t<span class=\"attr\">message</span>: msg,</span><br><span class=\"line\">\t\t\t\t\t\t\t\t\t<span class=\"attr\">status</span>: error.<span class=\"title function_\">getStatus</span>(),</span><br><span class=\"line\">\t\t\t\t\t\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t\t\t\t\t\t<span class=\"title class_\">HttpStatus</span>.<span class=\"property\">OK</span></span><br><span class=\"line\">\t\t\t\t\t\t\t)</span><br><span class=\"line\">\t\t\t\t\t);</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// æœåŠ¡èµ·å†…éƒ¨é”™è¯¯</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"title function_\">throwError</span>(</span><br><span class=\"line\">\t\t\t\t\t<span class=\"function\">() =&gt;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"keyword\">new</span> <span class=\"title class_\">HttpException</span>(</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"title function_\">getMessage</span>(&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t\t<span class=\"attr\">context</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t\t<span class=\"attr\">message</span>: error.<span class=\"property\">message</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t\t<span class=\"attr\">status</span>: <span class=\"title class_\">HttpStatus</span>.<span class=\"property\">INTERNAL_SERVER_ERROR</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"title class_\">HttpStatus</span>.<span class=\"property\">INTERNAL_SERVER_ERROR</span></span><br><span class=\"line\">\t\t\t\t\t\t)</span><br><span class=\"line\">\t\t\t\t);</span><br><span class=\"line\">\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">map</span>(<span class=\"function\"><span class=\"params\">data</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// æ²¡æœ‰å¼‚å¸¸æ‹¦æˆªï¼Œé‚£ä¹ˆæ­£å¸¸è¿”å›</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"title function_\">getMessage</span>(&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">context</span>: data,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;æ“ä½œæˆåŠŸ&quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;);</span><br><span class=\"line\">\t\t\t&#125;)</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Logger</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> kleur <span class=\"keyword\">from</span> <span class=\"string\">&quot;kleur&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">IMessage</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">message</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"attr\">context</span>: <span class=\"built_in\">object</span>;</span><br><span class=\"line\">\t<span class=\"attr\">status</span>?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">\t<span class=\"attr\">timestamp</span>?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">getMessage</span>(<span class=\"params\"><span class=\"attr\">options</span>: <span class=\"title class_\">IMessage</span></span>) &#123;</span><br><span class=\"line\">\toptions.<span class=\"property\">status</span> !== <span class=\"number\">200</span> &amp;&amp;</span><br><span class=\"line\">\t\t<span class=\"title class_\">Logger</span>.<span class=\"title function_\">debug</span>(<span class=\"string\">`<span class=\"subst\">$&#123;kleur.yellow(<span class=\"string\">&quot;[API-LOG]&quot;</span>)&#125;</span> <span class=\"subst\">$&#123;kleur.red(options.message)&#125;</span> `</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// æ­£å¸¸è¿”å›çš„æ¥å£ä¿¡æ¯</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">message</span>: options.<span class=\"property\">message</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">status</span>: options.<span class=\"property\">status</span> || <span class=\"number\">200</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">timestamp</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">toISOString</span>(),</span><br><span class=\"line\">\t\t<span class=\"attr\">context</span>: options.<span class=\"property\">context</span>,</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><blockquote>\n<p>ä½¿ç”¨çš„æ–¹å¼å¤§è‡´åˆ†ä¸ºä¿©ç§ï¼Œå…¨å±€ä½¿ç”¨å’Œå±€éƒ¨ä½¿ç”¨</p>\n</blockquote>\n<h3 id=\"å…¨å±€ä½¿ç”¨\"><a href=\"#å…¨å±€ä½¿ç”¨\" class=\"headerlink\" title=\"å…¨å±€ä½¿ç”¨\"></a>å…¨å±€ä½¿ç”¨</h3><h4 id=\"åœ¨app-module-tsä¸­æ·»åŠ å¦‚ä¸‹ï¼š\"><a href=\"#åœ¨app-module-tsä¸­æ·»åŠ å¦‚ä¸‹ï¼š\" class=\"headerlink\" title=\"åœ¨app.module.tsä¸­æ·»åŠ å¦‚ä¸‹ï¼š\"></a>åœ¨<code>app.module.ts</code>ä¸­æ·»åŠ å¦‚ä¸‹ï¼š</h4><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">provide</span>: <span class=\"variable constant_\">APP_INTERCEPTOR</span>,</span><br><span class=\"line\">      <span class=\"attr\">useClass</span>: <span class=\"title class_\">InterceptorInterceptor</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"åœ¨main-tsä¸­ä½¿ç”¨\"><a href=\"#åœ¨main-tsä¸­ä½¿ç”¨\" class=\"headerlink\" title=\"åœ¨main.tsä¸­ä½¿ç”¨:\"></a>åœ¨<code>main.ts</code>ä¸­ä½¿ç”¨:</h4><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app.<span class=\"title function_\">useGlobalInterceptors</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">InterceptorInterceptor</span>());</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å±€éƒ¨ä½¿ç”¨\"><a href=\"#å±€éƒ¨ä½¿ç”¨\" class=\"headerlink\" title=\"å±€éƒ¨ä½¿ç”¨\"></a>å±€éƒ¨ä½¿ç”¨</h3><p>åœ¨éœ€è¦çš„<code>controller</code>æ·»åŠ ï¼Œå¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Controller</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AppController</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">appService</span>: <span class=\"title class_\">AppService</span></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Get</span>()</span><br><span class=\"line\">\t<span class=\"title function_\">getHello</span>(): <span class=\"built_in\">string</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">appService</span>.<span class=\"title function_\">getHello</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Get</span>(<span class=\"string\">&quot;/a&quot;</span>)</span><br><span class=\"line\">\t<span class=\"meta\">@UseInterceptors</span>(<span class=\"title class_\">InterceptorInterceptor</span>)</span><br><span class=\"line\">\t<span class=\"title function_\">getA</span>(): <span class=\"built_in\">string</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// throw new Error(&#x27;Something went wrong&#x27;);</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">appService</span>.<span class=\"title function_\">getA</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç¢°è§åç«¯æ¥å£è¿”å›çš„ä¿¡æ¯æ•°æ®ï¼Œä¼šå‘ç°ä¸ç®¡è¯·æ±‚æˆåŠŸè¿˜æ˜¯å¤±è´¥è¿”å›çš„æ•°æ®æ ¼å¼éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¸ªæ˜¯å¦‚ä½•åšåˆ°çš„å‘¢ï¼Ÿ</p>\n<h2 id=\"ç¼–å†™\"><a href=\"#ç¼–å†™\" class=\"headerlink\" title=\"ç¼–å†™\"></a>ç¼–å†™</h2><p>ä½¿ç”¨<code>nest</code>å‘½ä»¤<code>nest g itc interceptor</code>,è¿™ä¸ªæ—¶å€™ä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è¿™ä¸ªæ–‡ä»¶ç¼–å†™å³å¯ï¼›</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">\t<span class=\"title class_\">CallHandler</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">ExecutionContext</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">HttpException</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">HttpStatus</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">Injectable</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">Logger</span>,</span><br><span class=\"line\">\t<span class=\"title class_\">NestInterceptor</span>,</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> kleur <span class=\"keyword\">from</span> <span class=\"string\">&quot;kleur&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; catchError, map, <span class=\"title class_\">Observable</span>, tap, throwError &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;rxjs&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; getMessage &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../utils/interceptor.utils&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">InterceptorInterceptor</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">NestInterceptor</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">intercept</span>(<span class=\"attr\">context</span>: <span class=\"title class_\">ExecutionContext</span>, <span class=\"attr\">next</span>: <span class=\"title class_\">CallHandler</span>): <span class=\"title class_\">Observable</span>&lt;<span class=\"built_in\">any</span>&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> now = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> request = context.<span class=\"title function_\">switchToHttp</span>().<span class=\"title function_\">getRequest</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> logOptions = &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">url</span>: request.<span class=\"property\">url</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">method</span>: request.<span class=\"property\">method</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">params</span>: request.<span class=\"property\">params</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">query</span>: request.<span class=\"property\">query</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">body</span>: request.<span class=\"property\">body</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">ip</span>: request.<span class=\"property\">ip</span>,</span><br><span class=\"line\">\t\t&#125;;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯·æ±‚æ—¶å°†è¯·æ±‚çš„ä¸€äº›åŸºç¡€ä¿¡æ¯æ‰“å°åœ¨ç»ˆç«¯</span></span><br><span class=\"line\">\t\t<span class=\"title class_\">Logger</span>.<span class=\"title function_\">debug</span>(</span><br><span class=\"line\">\t\t\t<span class=\"string\">`<span class=\"subst\">$&#123;kleur.yellow(<span class=\"string\">&quot;[API-LOG]&quot;</span>)&#125;</span> <span class=\"subst\">$&#123;kleur.blue(</span></span></span><br><span class=\"line\"><span class=\"subst\"><span class=\"string\">\t\t\t\t<span class=\"built_in\">JSON</span>.stringify(logOptions)</span></span></span><br><span class=\"line\"><span class=\"subst\"><span class=\"string\">\t\t\t)&#125;</span> <span class=\"subst\">$&#123;kleur.yellow(<span class=\"string\">&quot; +&quot;</span> + (<span class=\"built_in\">Date</span>.now() - now) + <span class=\"string\">&quot;ms&quot;</span>)&#125;</span>`</span></span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> next.<span class=\"title function_\">handle</span>().<span class=\"title function_\">pipe</span>(</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">catchError</span>(<span class=\"function\"><span class=\"params\">error</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// å¼‚å¸¸å¤„ç†ï¼Œå¼‚å¸¸å¤§è‡´åˆ†ä¸ºä¿©ç§ï¼Œ</span></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// ä¸€ç§æ˜¯æœåŠ¡å¼‚å¸¸ï¼Œæ¯”å¦‚ä½ æœåŠ¡ä»£ç ç¼–å†™é”™è¯¯</span></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// äºŒæ˜¯è¯·æ±‚å¼‚å¸¸ï¼Œæ¯”å¦‚404ç­‰</span></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// è¿”å›çš„è¯·æ±‚çŠ¶æ€ç ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œ404ï¼Œ200ï¼Œ500ç­‰</span></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// httpè¯·æ±‚</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (error <span class=\"keyword\">instanceof</span> <span class=\"title class_\">HttpException</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">let</span> msg = error.<span class=\"property\">message</span>;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">const</span> getMsg = (error.<span class=\"title function_\">getResponse</span>() <span class=\"keyword\">as</span> <span class=\"built_in\">any</span>).<span class=\"property\">message</span> || error.<span class=\"property\">message</span>;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span> (<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(getMsg)) &#123;</span><br><span class=\"line\">\t\t\t\t\t\tmsg = getMsg[<span class=\"number\">0</span>];</span><br><span class=\"line\">\t\t\t\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t\tmsg = getMsg;</span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"title function_\">throwError</span>(</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"function\">() =&gt;</span></span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">new</span> <span class=\"title class_\">HttpException</span>(</span><br><span class=\"line\">\t\t\t\t\t\t\t\t<span class=\"title function_\">getMessage</span>(&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t\t\t<span class=\"attr\">context</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t\t\t<span class=\"attr\">message</span>: msg,</span><br><span class=\"line\">\t\t\t\t\t\t\t\t\t<span class=\"attr\">status</span>: error.<span class=\"title function_\">getStatus</span>(),</span><br><span class=\"line\">\t\t\t\t\t\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t\t\t\t\t\t<span class=\"title class_\">HttpStatus</span>.<span class=\"property\">OK</span></span><br><span class=\"line\">\t\t\t\t\t\t\t)</span><br><span class=\"line\">\t\t\t\t\t);</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// æœåŠ¡èµ·å†…éƒ¨é”™è¯¯</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"title function_\">throwError</span>(</span><br><span class=\"line\">\t\t\t\t\t<span class=\"function\">() =&gt;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"keyword\">new</span> <span class=\"title class_\">HttpException</span>(</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"title function_\">getMessage</span>(&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t\t<span class=\"attr\">context</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t\t<span class=\"attr\">message</span>: error.<span class=\"property\">message</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t\t<span class=\"attr\">status</span>: <span class=\"title class_\">HttpStatus</span>.<span class=\"property\">INTERNAL_SERVER_ERROR</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"title class_\">HttpStatus</span>.<span class=\"property\">INTERNAL_SERVER_ERROR</span></span><br><span class=\"line\">\t\t\t\t\t\t)</span><br><span class=\"line\">\t\t\t\t);</span><br><span class=\"line\">\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">map</span>(<span class=\"function\"><span class=\"params\">data</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// æ²¡æœ‰å¼‚å¸¸æ‹¦æˆªï¼Œé‚£ä¹ˆæ­£å¸¸è¿”å›</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"title function_\">getMessage</span>(&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">context</span>: data,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;æ“ä½œæˆåŠŸ&quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;);</span><br><span class=\"line\">\t\t\t&#125;)</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Logger</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> kleur <span class=\"keyword\">from</span> <span class=\"string\">&quot;kleur&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">IMessage</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">message</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">\t<span class=\"attr\">context</span>: <span class=\"built_in\">object</span>;</span><br><span class=\"line\">\t<span class=\"attr\">status</span>?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">\t<span class=\"attr\">timestamp</span>?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">getMessage</span>(<span class=\"params\"><span class=\"attr\">options</span>: <span class=\"title class_\">IMessage</span></span>) &#123;</span><br><span class=\"line\">\toptions.<span class=\"property\">status</span> !== <span class=\"number\">200</span> &amp;&amp;</span><br><span class=\"line\">\t\t<span class=\"title class_\">Logger</span>.<span class=\"title function_\">debug</span>(<span class=\"string\">`<span class=\"subst\">$&#123;kleur.yellow(<span class=\"string\">&quot;[API-LOG]&quot;</span>)&#125;</span> <span class=\"subst\">$&#123;kleur.red(options.message)&#125;</span> `</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// æ­£å¸¸è¿”å›çš„æ¥å£ä¿¡æ¯</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">message</span>: options.<span class=\"property\">message</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">status</span>: options.<span class=\"property\">status</span> || <span class=\"number\">200</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">timestamp</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">toISOString</span>(),</span><br><span class=\"line\">\t\t<span class=\"attr\">context</span>: options.<span class=\"property\">context</span>,</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><blockquote>\n<p>ä½¿ç”¨çš„æ–¹å¼å¤§è‡´åˆ†ä¸ºä¿©ç§ï¼Œå…¨å±€ä½¿ç”¨å’Œå±€éƒ¨ä½¿ç”¨</p>\n</blockquote>\n<h3 id=\"å…¨å±€ä½¿ç”¨\"><a href=\"#å…¨å±€ä½¿ç”¨\" class=\"headerlink\" title=\"å…¨å±€ä½¿ç”¨\"></a>å…¨å±€ä½¿ç”¨</h3><h4 id=\"åœ¨app-module-tsä¸­æ·»åŠ å¦‚ä¸‹ï¼š\"><a href=\"#åœ¨app-module-tsä¸­æ·»åŠ å¦‚ä¸‹ï¼š\" class=\"headerlink\" title=\"åœ¨app.module.tsä¸­æ·»åŠ å¦‚ä¸‹ï¼š\"></a>åœ¨<code>app.module.ts</code>ä¸­æ·»åŠ å¦‚ä¸‹ï¼š</h4><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">provide</span>: <span class=\"variable constant_\">APP_INTERCEPTOR</span>,</span><br><span class=\"line\">      <span class=\"attr\">useClass</span>: <span class=\"title class_\">InterceptorInterceptor</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"åœ¨main-tsä¸­ä½¿ç”¨\"><a href=\"#åœ¨main-tsä¸­ä½¿ç”¨\" class=\"headerlink\" title=\"åœ¨main.tsä¸­ä½¿ç”¨:\"></a>åœ¨<code>main.ts</code>ä¸­ä½¿ç”¨:</h4><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app.<span class=\"title function_\">useGlobalInterceptors</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">InterceptorInterceptor</span>());</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å±€éƒ¨ä½¿ç”¨\"><a href=\"#å±€éƒ¨ä½¿ç”¨\" class=\"headerlink\" title=\"å±€éƒ¨ä½¿ç”¨\"></a>å±€éƒ¨ä½¿ç”¨</h3><p>åœ¨éœ€è¦çš„<code>controller</code>æ·»åŠ ï¼Œå¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Controller</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AppController</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">appService</span>: <span class=\"title class_\">AppService</span></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Get</span>()</span><br><span class=\"line\">\t<span class=\"title function_\">getHello</span>(): <span class=\"built_in\">string</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">appService</span>.<span class=\"title function_\">getHello</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Get</span>(<span class=\"string\">&quot;/a&quot;</span>)</span><br><span class=\"line\">\t<span class=\"meta\">@UseInterceptors</span>(<span class=\"title class_\">InterceptorInterceptor</span>)</span><br><span class=\"line\">\t<span class=\"title function_\">getA</span>(): <span class=\"built_in\">string</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// throw new Error(&#x27;Something went wrong&#x27;);</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">appService</span>.<span class=\"title function_\">getA</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"Nest-è·¯ç”±å®ˆå«","abbrlink":"a9432027","date":"2024-11-08T01:05:01.000Z","_content":"\n# ä»‹ç»\n\nå®ˆå«æ˜¯ä¸€ä¸ªç”¨ `@Injectable()` è£…é¥°å™¨æ³¨é‡Šçš„ç±»ï¼Œå®ƒå®ç°äº† `CanActivate` æ¥å£ã€‚\n\nå®ˆå«æœ‰å•ä¸€çš„è´£ä»»ã€‚å®ƒä»¬æ ¹æ®è¿è¡Œæ—¶å­˜åœ¨çš„æŸäº›æ¡ä»¶ï¼ˆå¦‚æƒé™ã€è§’è‰²ã€ACL ç­‰ï¼‰ç¡®å®šç»™å®šè¯·æ±‚æ˜¯å¦å°†ç”±è·¯ç”±å¤„ç†ç¨‹åºå¤„ç†ã€‚è¿™é€šå¸¸ç§°ä¸ºæˆæƒã€‚æˆæƒï¼ˆåŠå…¶é€šå¸¸ä¸ä¹‹åˆä½œçš„èº«ä»½éªŒè¯ï¼‰é€šå¸¸ç”±ä¼ ç»Ÿ `Express` åº”ç”¨ä¸­çš„ ä¸­é—´ä»¶ å¤„ç†ã€‚ä¸­é—´ä»¶æ˜¯èº«ä»½éªŒè¯çš„ä¸é”™é€‰æ‹©ï¼Œå› ä¸ºè¯¸å¦‚ä»¤ç‰ŒéªŒè¯å’Œå°†å±æ€§é™„åŠ åˆ° `request` å¯¹è±¡ä¹‹ç±»çš„äº‹æƒ…ä¸ç‰¹å®šè·¯ç”±ä¸Šä¸‹æ–‡ï¼ˆåŠå…¶å…ƒæ•°æ®ï¼‰æ²¡æœ‰ç´§å¯†è”ç³»ã€‚\n\nä½†æ˜¯ä¸­é—´ä»¶ï¼Œå°±å…¶æœ¬è´¨è€Œè¨€ï¼Œæ˜¯æ„šè ¢çš„ã€‚å®ƒä¸çŸ¥é“è°ƒç”¨ `next()` å‡½æ•°åå°†æ‰§è¡Œå“ªä¸ªå¤„ç†ç¨‹åºã€‚å¦ä¸€æ–¹é¢ï¼ŒGuards å¯ä»¥è®¿é—® `ExecutionContext` å®ä¾‹ï¼Œå› æ­¤ç¡®åˆ‡åœ°çŸ¥é“æ¥ä¸‹æ¥è¦æ‰§è¡Œä»€ä¹ˆã€‚å®ƒä»¬çš„è®¾è®¡ä¸å¼‚å¸¸è¿‡æ»¤å™¨ã€ç®¡é“å’Œæ‹¦æˆªå™¨éå¸¸ç›¸ä¼¼ï¼Œå¯è®©ä½ åœ¨è¯·æ±‚/å“åº”å‘¨æœŸçš„æ­£ç¡®ä½ç½®æ’å…¥å¤„ç†é€»è¾‘ï¼Œå¹¶ä»¥å£°æ˜æ–¹å¼è¿›è¡Œã€‚è¿™æœ‰åŠ©äºä½¿ä½ çš„ä»£ç ä¿æŒå¹²çˆ½å’Œå£°æ˜å¼ã€‚\n\n**ä¸ºäº†è®©ç¨‹åºæ›´åŠ æ™ºèƒ½ï¼Œè¿™é‡Œä½¿ç”¨è£…é¥°å™¨åŠŸèƒ½ï¼Œä¾‹å¦‚åœ¨æŸä¸€ä¸ªè¯·æ±‚æ¥å£ä¸Šæ·»åŠ ä¸€ä¸ªè£…é¥°å™¨ï¼Œé™åˆ¶é‡å¤è¯·æ±‚ç­‰ç­‰ï¼Œ æ¥ä¸‹æ¥ä»¥ä¿©ä¸ªæ¡ˆä¾‹ï¼š**\n\n## é‡å¤è¯·æ±‚é™åˆ¶\n\n### å¸¸é‡æ–‡ä»¶\n\nä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¸¸é‡æ–‡ä»¶ï¼Ÿå¥½å¤„å°±æ˜¯ç»Ÿä¸€ç®¡ç†ï¼›é¦–å…ˆåˆ›å»ºæ–‡ä»¶ä½œä¸ºå¸¸é‡ï¼š\n\n```ts\n// è®°å½•æ—¥å¿—çš„key\nexport const LOG_KEY_METADATA = \"__log__\";\n// é‡å¤æäº¤çš„key\nexport const REPEAT_SUBMIT_KEY_METADATA = \"__repeat_submit__\";\n// public: ä¸éœ€è¦tokenæ ¡éªŒ\nexport const PUBLIC_KEY_METADATA = \"__public__\";\n// æƒé™çš„key\nexport const PERMISSION_KEY_METADATA = \"__permission__\";\n\n// ===== Redisç¼“å­˜\n// Redis é‡å¤æäº¤çš„key, ç›®å½•çš„å½¢å¼ï¼Œ ä¾‹å¦‚ï¼š __redis_repeat__:/api/user/list\nexport const REDIS_REPEAT_SUBMIT_KEY = \"__redis_repeat__:\";\n// å­˜å‚¨éªŒè¯ç å›¾ç‰‡\nexport const REDIS_CAPTCHA_KEY = \"__captcha__:\";\n// å­˜å‚¨ç”¨æˆ·çš„tokenæˆ–è€…userId\nexport const REDIS_TOKEN_KEY = \"__token__:\";\n// å­˜å‚¨ç”¨æˆ·çš„ä¿¡æ¯\nexport const REDIS_USER_INFO_KEY = \"__user_info__:\";\n```\n\n### è‡ªå®šä¹‰å…ƒæ•°æ®\n\n```ts\nimport { SetMetadata } from \"@nestjs/common\";\nimport { REPEAT_SUBMIT_KEY_METADATA } from \"../constants/metadata.constant\";\n\nexport class RepeatSubmitOption {\n\tinterval?: number = 1; //é»˜è®¤1s\n\tmessage?: string = \"æ“ä½œè¿‡äºé¢‘ç¹\"; // å¯ä»¥è‡ªå®šä¹‰\n}\nexport const RepeatSubmit = (option?: RepeatSubmitOption) => {\n\treturn SetMetadata(\n\t\tREPEAT_SUBMIT_KEY_METADATA,\n\t\tObject.assign(new RepeatSubmitOption(), option)\n\t);\n};\n```\n\n### è‡ªå®šä¹‰å®ˆå«\n\n```ts\nimport { CanActivate, ExecutionContext, Injectable } from \"@nestjs/common\";\nimport { Reflector } from \"@nestjs/core\";\nimport { RepeatSubmitOption } from \"../decorator/repeat-submit.decorator\";\nimport {\n\tREDIS_REPEAT_SUBMIT_KEY,\n\tREPEAT_SUBMIT_KEY_METADATA,\n} from \"../constants/metadata.constant\";\nimport { ApiException } from \"../exception/api.exception\";\nimport { InjectRedis } from \"@nestjs-modules/ioredis\";\nimport Redis from \"ioredis\";\nimport { Request } from \"express\";\nimport { CommonService } from \"src/shared/common/common.service\";\n\n@Injectable()\nexport class RepeatSubmitGuard implements CanActivate {\n\tconstructor(\n\t\tprivate readonly reflector: Reflector,\n\t\t@InjectRedis() private readonly redis: Redis,\n\t\tprivate readonly commonService: CommonService\n\t) {}\n\tasync canActivate(context: ExecutionContext): Promise<boolean> {\n\t\tconst repeatSubmitOption: RepeatSubmitOption = this.reflector.get(\n\t\t\tREPEAT_SUBMIT_KEY_METADATA,\n\t\t\tcontext.getHandler()\n\t\t);\n\t\tif (!repeatSubmitOption) return true;\n\t\tconst request: Request = context.switchToHttp().getRequest();\n\t\tconst _key = `${REDIS_REPEAT_SUBMIT_KEY}${request.url}`;\n\t\tconst cache = await this.redis.get(_key);\n\t\tconst data = {\n\t\t\tip: this.commonService.getIp(request),\n\t\t\tbody: request.body,\n\t\t\tprams: request.params,\n\t\t\tquery: request.query,\n\t\t};\n\t\tconst dataStr = JSON.stringify(data);\n\t\tif (!cache) {\n\t\t\tif (dataStr) {\n\t\t\t\t// ä»¥urlä½œä¸ºkeyå»åšç¼“å­˜ï¼Œç¼“å­˜æ—¶é—´è®¾ç½®ä¸ºå…ƒä¿¡æ¯ä¼ é€’çš„æ—¶é—´ é»˜è®¤æ—¶é—´1s\n\t\t\t\tthis.redis.set(_key, dataStr, \"EX\", repeatSubmitOption.interval);\n\t\t\t}\n\t\t} else {\n\t\t\tif (dataStr && dataStr === cache) {\n\t\t\t\t// ApiExceptionæ˜¯ä»€ä¹ˆå¯ä»¥æŸ¥çœ‹ å¼‚å¸¸è¿‡æ»¤å™¨\n\t\t\t\tthrow new ApiException(repeatSubmitOption.message);\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}\n```\n\n### æ³¨å†Œ\n\n`app.module.ts`ä½¿ç”¨:\n\n```ts\n@Module({\n  imports: [],\n  providers: [\n    {\n      provide: APP_GUARD,\n      useClass: RepeatSubmitGuard,\n    },\n  ]\n})\n```\n\n### æ§åˆ¶å±‚ä½¿ç”¨\n\n```ts\nimport { Controller, Post, Body, Get, Request } from \"@nestjs/common\";\nexport class UserController {\n\tconstructor() {}\n\n\t// æ·»åŠ è¿™ä¸€è¡Œä»£ç ã€‚å¦‚æœ2sè¯·æ±‚é¢‘ç¹é‚£ä¹ˆå°±ä¼šæç¤º â€œæ“ä½œè¿‡äºé¢‘ç¹â€\n\t@RepeatSubmit({\n\t\tinterval: 2,\n\t\tmessage: \"æ“ä½œè¿‡äºé¢‘ç¹\",\n\t})\n\t@Post(\"create\")\n\tasync create(@Body() body: { username: string; password: string }) {\n\t\treturn \"success\";\n\t}\n}\n```\n\n## æ“ä½œæƒé™\n\n### è‡ªå®šä¹‰å…ƒæ•°æ®\n\n```ts\nexport enum PermissionRelationEnum {\n\tAND = \"AND\",\n\tOR = \"OR\",\n}\n```\n\n```ts\nimport { SetMetadata } from \"@nestjs/common\";\nimport { PermissionRelationEnum } from \"../enum/permission.enum\";\nimport { PERMISSION_KEY_METADATA } from \"../constants/metadata.constant\";\n\nexport class PermissionOption {\n\tpermissionArr: string[];\n\trelation: PermissionRelationEnum;\n}\nexport const Permission = (\n\tpermissions: string | string[],\n\trelation: PermissionRelationEnum = PermissionRelationEnum.OR // æƒé™çš„å…³ç³»ï¼Œ æ˜¯å¹¶ä¸”è¿˜æ˜¯æˆ–è€…çš„å…³ç³»\n) => {\n\tconst permissionObj: PermissionOption = {\n\t\tpermissionArr: [],\n\t\trelation,\n\t};\n\tif (typeof permissions === \"string\") {\n\t\tpermissionObj.permissionArr = [permissions];\n\t} else if (permissions instanceof Array) {\n\t\tpermissionObj.permissionArr = permissions;\n\t}\n\treturn SetMetadata(PERMISSION_KEY_METADATA, permissionObj);\n};\n```\n\n### è‡ªå®šä¹‰å®ˆå«\n\n```ts\nimport { CanActivate, ExecutionContext, Injectable } from \"@nestjs/common\";\nimport { Reflector } from \"@nestjs/core\";\nimport { Observable } from \"rxjs\";\nimport { PermissionOption } from \"../decorator/permission.decorator\";\nimport { PERMISSION_KEY_METADATA } from \"../constants/metadata.constant\";\nimport { PermissionRelationEnum } from \"../enum/permission.enum\";\nimport { ApiException } from \"../exception/api.exception\";\nimport { HttpStatusCode } from \"../enum/http.enum\";\n\n@Injectable()\nexport class PermissionGuard implements CanActivate {\n\tconstructor(private readonly reflector: Reflector) {}\n\tcanActivate(\n\t\tcontext: ExecutionContext\n\t): boolean | Promise<boolean> | Observable<boolean> {\n\t\tconst permissionObj = this.reflector.getAllAndOverride<PermissionOption>(\n\t\t\tPERMISSION_KEY_METADATA,\n\t\t\t[context.getHandler(), context.getClass()]\n\t\t);\n\t\tif (!permissionObj || !permissionObj.permissionArr.length) return true;\n\n\t\tconst request = context.switchToHttp().getRequest();\n\t\t// æƒé™æŒ‚è½½åœ¨ç”¨æˆ·ä¿¡å¿ƒä¹‹ä¸Š\n\t\tconst user = request.user;\n\t\tconst permissions = user?.permissions || [];\n\t\tif (permissions.includes(\"*\")) return true;\n\t\tlet result = false;\n\t\tif (permissionObj.relation === PermissionRelationEnum.OR) {\n\t\t\tresult = permissionObj.permissionArr.some(userPermission => {\n\t\t\t\treturn permissions.includes(userPermission);\n\t\t\t});\n\t\t} else if (permissionObj.relation === PermissionRelationEnum.AND) {\n\t\t\tresult = permissionObj.permissionArr.every(userPermission => {\n\t\t\t\treturn permissions.includes(userPermission);\n\t\t\t});\n\t\t}\n\t\tif (!result)\n\t\t\tthrow new ApiException(\n\t\t\t\t\"æš‚æ— æƒé™è®¿é—®ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\",\n\t\t\t\tHttpStatusCode.UNAUTHORIZED\n\t\t\t);\n\t\treturn result;\n\t}\n}\n```\n\n### æ³¨å†Œ\n\n`app.module.ts`ä½¿ç”¨:\n\n```ts\n@Module({\n  imports: [],\n  providers: [\n    // æƒé™å®ˆå«\n    {\n      provide: APP_GUARD,\n      useClass: PermissionGuard,\n    },\n  ]\n})\n```\n\n### æ§åˆ¶å±‚ä½¿ç”¨\n\n```ts\nimport { Controller, Post, Body, Get, Request } from \"@nestjs/common\";\nexport class UserController {\n\tconstructor() {}\n\n\t// æ·»åŠ è¿™ä¸€è¡Œä»£ç ã€‚å¦‚æœæ²¡æœ‰æƒé™ ä¼šæç¤º'æš‚æ— æƒé™è®¿é—®ï¼Œè¯·è”ç³»ç®¡ç†å‘˜'\n\t@Permission([\"v1:order:create\"], PermissionRelationEnum.OR)\n\t@Post(\"create\")\n\tasync create(@Body() body: { username: string; password: string }) {\n\t\treturn \"success\";\n\t}\n}\n```\n\n## æ˜¯å¦ç™»å½•\n\n### è‡ªå®šä¹‰å…ƒæ•°æ®\n\n```ts\nimport { SetMetadata } from \"@nestjs/common\";\nimport { PUBLIC_KEY_METADATA } from \"../constants/metadata.constant\";\n\nexport const Public = () => SetMetadata(PUBLIC_KEY_METADATA, true);\n```\n\n### è‡ªå®šä¹‰å®ˆå«\n\n```ts\nimport { ExecutionContext, Injectable } from \"@nestjs/common\";\nimport { Observable } from \"rxjs\";\nimport { AuthGuard } from \"@nestjs/passport\";\nimport { Reflector } from \"@nestjs/core\";\nimport { PUBLIC_KEY_METADATA } from \"../constants/metadata.constant\";\nimport { ApiException } from \"../exception/api.exception\";\nimport { HttpStatusCode } from \"../enum/http.enum\";\n\n@Injectable()\n// https://github.com/jaredhanson/passport\nexport class JwtAuthGuard extends AuthGuard(\"jwt\") {\n\tconstructor(private reflector: Reflector) {\n\t\tsuper();\n\t}\n\tcanActivate(\n\t\tcontext: ExecutionContext\n\t): boolean | Promise<boolean> | Observable<boolean> {\n\t\tconst noInterception = this.reflector.getAllAndOverride(\n\t\t\tPUBLIC_KEY_METADATA,\n\t\t\t[context.getHandler(), context.getClass()]\n\t\t);\n\t\tif (noInterception) return true;\n\t\treturn super.canActivate(context);\n\t}\n\n\thandleRequest(err: any, user: any) {\n\t\tif (err || !user) {\n\t\t\tthrow err || new ApiException(\"ç™»å½•çŠ¶æ€å·²è¿‡æœŸ\", HttpStatusCode.FORBIDDEN);\n\t\t}\n\t\treturn user;\n\t}\n}\n```\n\n### æ³¨å†Œ\n\n`app.module.ts`ä½¿ç”¨:\n\n```ts\n@Module({\n  imports: [],\n  providers: [\n    // jwtå®ˆå«\n    {\n      provide: APP_GUARD,\n      useClass: JwtAuthGuard,\n    },\n  ]\n})\n```\n\n### æ§åˆ¶å±‚ä½¿ç”¨\n\n```ts\nimport { Controller, Post, Body, Get, Request } from \"@nestjs/common\";\nexport class UserController {\n\tconstructor() {}\n\n\t// æ·»åŠ è¿™ä¸€è¡Œä»£ç ã€‚è¯´æ˜ä¸éœ€è¦tokenæ ¡éªŒ\n\t@Public()\n\t@Post(\"create\")\n\tasync create(@Body() body: { username: string; password: string }) {\n\t\treturn \"success\";\n\t}\n}\n```\n\næ³¨æ„ï¼š\n\n1. [`ApiExceptionæ˜¯ä»€ä¹ˆå¯ä»¥æŸ¥çœ‹ å¼‚å¸¸è¿‡æ»¤å™¨`](/brochure/nest/base/exceptionFilter.html#è‡ªå®šä¹‰å¼‚å¸¸)\n2. [`Redisä½¿ç”¨`](/brochure/nest/base/database.html#redis)\n3. [`JWTä½¿ç”¨`](/brochure/nest/base/jwt)\n","source":"_posts/æŠ€èƒ½å°å†Œ/Nest/è·¯ç”±å®ˆå«.md","raw":"---\ntitle: Nest-è·¯ç”±å®ˆå«\nabbrlink: a9432027\ndate: 2024-11-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Nest\n---\n\n# ä»‹ç»\n\nå®ˆå«æ˜¯ä¸€ä¸ªç”¨ `@Injectable()` è£…é¥°å™¨æ³¨é‡Šçš„ç±»ï¼Œå®ƒå®ç°äº† `CanActivate` æ¥å£ã€‚\n\nå®ˆå«æœ‰å•ä¸€çš„è´£ä»»ã€‚å®ƒä»¬æ ¹æ®è¿è¡Œæ—¶å­˜åœ¨çš„æŸäº›æ¡ä»¶ï¼ˆå¦‚æƒé™ã€è§’è‰²ã€ACL ç­‰ï¼‰ç¡®å®šç»™å®šè¯·æ±‚æ˜¯å¦å°†ç”±è·¯ç”±å¤„ç†ç¨‹åºå¤„ç†ã€‚è¿™é€šå¸¸ç§°ä¸ºæˆæƒã€‚æˆæƒï¼ˆåŠå…¶é€šå¸¸ä¸ä¹‹åˆä½œçš„èº«ä»½éªŒè¯ï¼‰é€šå¸¸ç”±ä¼ ç»Ÿ `Express` åº”ç”¨ä¸­çš„ ä¸­é—´ä»¶ å¤„ç†ã€‚ä¸­é—´ä»¶æ˜¯èº«ä»½éªŒè¯çš„ä¸é”™é€‰æ‹©ï¼Œå› ä¸ºè¯¸å¦‚ä»¤ç‰ŒéªŒè¯å’Œå°†å±æ€§é™„åŠ åˆ° `request` å¯¹è±¡ä¹‹ç±»çš„äº‹æƒ…ä¸ç‰¹å®šè·¯ç”±ä¸Šä¸‹æ–‡ï¼ˆåŠå…¶å…ƒæ•°æ®ï¼‰æ²¡æœ‰ç´§å¯†è”ç³»ã€‚\n\nä½†æ˜¯ä¸­é—´ä»¶ï¼Œå°±å…¶æœ¬è´¨è€Œè¨€ï¼Œæ˜¯æ„šè ¢çš„ã€‚å®ƒä¸çŸ¥é“è°ƒç”¨ `next()` å‡½æ•°åå°†æ‰§è¡Œå“ªä¸ªå¤„ç†ç¨‹åºã€‚å¦ä¸€æ–¹é¢ï¼ŒGuards å¯ä»¥è®¿é—® `ExecutionContext` å®ä¾‹ï¼Œå› æ­¤ç¡®åˆ‡åœ°çŸ¥é“æ¥ä¸‹æ¥è¦æ‰§è¡Œä»€ä¹ˆã€‚å®ƒä»¬çš„è®¾è®¡ä¸å¼‚å¸¸è¿‡æ»¤å™¨ã€ç®¡é“å’Œæ‹¦æˆªå™¨éå¸¸ç›¸ä¼¼ï¼Œå¯è®©ä½ åœ¨è¯·æ±‚/å“åº”å‘¨æœŸçš„æ­£ç¡®ä½ç½®æ’å…¥å¤„ç†é€»è¾‘ï¼Œå¹¶ä»¥å£°æ˜æ–¹å¼è¿›è¡Œã€‚è¿™æœ‰åŠ©äºä½¿ä½ çš„ä»£ç ä¿æŒå¹²çˆ½å’Œå£°æ˜å¼ã€‚\n\n**ä¸ºäº†è®©ç¨‹åºæ›´åŠ æ™ºèƒ½ï¼Œè¿™é‡Œä½¿ç”¨è£…é¥°å™¨åŠŸèƒ½ï¼Œä¾‹å¦‚åœ¨æŸä¸€ä¸ªè¯·æ±‚æ¥å£ä¸Šæ·»åŠ ä¸€ä¸ªè£…é¥°å™¨ï¼Œé™åˆ¶é‡å¤è¯·æ±‚ç­‰ç­‰ï¼Œ æ¥ä¸‹æ¥ä»¥ä¿©ä¸ªæ¡ˆä¾‹ï¼š**\n\n## é‡å¤è¯·æ±‚é™åˆ¶\n\n### å¸¸é‡æ–‡ä»¶\n\nä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¸¸é‡æ–‡ä»¶ï¼Ÿå¥½å¤„å°±æ˜¯ç»Ÿä¸€ç®¡ç†ï¼›é¦–å…ˆåˆ›å»ºæ–‡ä»¶ä½œä¸ºå¸¸é‡ï¼š\n\n```ts\n// è®°å½•æ—¥å¿—çš„key\nexport const LOG_KEY_METADATA = \"__log__\";\n// é‡å¤æäº¤çš„key\nexport const REPEAT_SUBMIT_KEY_METADATA = \"__repeat_submit__\";\n// public: ä¸éœ€è¦tokenæ ¡éªŒ\nexport const PUBLIC_KEY_METADATA = \"__public__\";\n// æƒé™çš„key\nexport const PERMISSION_KEY_METADATA = \"__permission__\";\n\n// ===== Redisç¼“å­˜\n// Redis é‡å¤æäº¤çš„key, ç›®å½•çš„å½¢å¼ï¼Œ ä¾‹å¦‚ï¼š __redis_repeat__:/api/user/list\nexport const REDIS_REPEAT_SUBMIT_KEY = \"__redis_repeat__:\";\n// å­˜å‚¨éªŒè¯ç å›¾ç‰‡\nexport const REDIS_CAPTCHA_KEY = \"__captcha__:\";\n// å­˜å‚¨ç”¨æˆ·çš„tokenæˆ–è€…userId\nexport const REDIS_TOKEN_KEY = \"__token__:\";\n// å­˜å‚¨ç”¨æˆ·çš„ä¿¡æ¯\nexport const REDIS_USER_INFO_KEY = \"__user_info__:\";\n```\n\n### è‡ªå®šä¹‰å…ƒæ•°æ®\n\n```ts\nimport { SetMetadata } from \"@nestjs/common\";\nimport { REPEAT_SUBMIT_KEY_METADATA } from \"../constants/metadata.constant\";\n\nexport class RepeatSubmitOption {\n\tinterval?: number = 1; //é»˜è®¤1s\n\tmessage?: string = \"æ“ä½œè¿‡äºé¢‘ç¹\"; // å¯ä»¥è‡ªå®šä¹‰\n}\nexport const RepeatSubmit = (option?: RepeatSubmitOption) => {\n\treturn SetMetadata(\n\t\tREPEAT_SUBMIT_KEY_METADATA,\n\t\tObject.assign(new RepeatSubmitOption(), option)\n\t);\n};\n```\n\n### è‡ªå®šä¹‰å®ˆå«\n\n```ts\nimport { CanActivate, ExecutionContext, Injectable } from \"@nestjs/common\";\nimport { Reflector } from \"@nestjs/core\";\nimport { RepeatSubmitOption } from \"../decorator/repeat-submit.decorator\";\nimport {\n\tREDIS_REPEAT_SUBMIT_KEY,\n\tREPEAT_SUBMIT_KEY_METADATA,\n} from \"../constants/metadata.constant\";\nimport { ApiException } from \"../exception/api.exception\";\nimport { InjectRedis } from \"@nestjs-modules/ioredis\";\nimport Redis from \"ioredis\";\nimport { Request } from \"express\";\nimport { CommonService } from \"src/shared/common/common.service\";\n\n@Injectable()\nexport class RepeatSubmitGuard implements CanActivate {\n\tconstructor(\n\t\tprivate readonly reflector: Reflector,\n\t\t@InjectRedis() private readonly redis: Redis,\n\t\tprivate readonly commonService: CommonService\n\t) {}\n\tasync canActivate(context: ExecutionContext): Promise<boolean> {\n\t\tconst repeatSubmitOption: RepeatSubmitOption = this.reflector.get(\n\t\t\tREPEAT_SUBMIT_KEY_METADATA,\n\t\t\tcontext.getHandler()\n\t\t);\n\t\tif (!repeatSubmitOption) return true;\n\t\tconst request: Request = context.switchToHttp().getRequest();\n\t\tconst _key = `${REDIS_REPEAT_SUBMIT_KEY}${request.url}`;\n\t\tconst cache = await this.redis.get(_key);\n\t\tconst data = {\n\t\t\tip: this.commonService.getIp(request),\n\t\t\tbody: request.body,\n\t\t\tprams: request.params,\n\t\t\tquery: request.query,\n\t\t};\n\t\tconst dataStr = JSON.stringify(data);\n\t\tif (!cache) {\n\t\t\tif (dataStr) {\n\t\t\t\t// ä»¥urlä½œä¸ºkeyå»åšç¼“å­˜ï¼Œç¼“å­˜æ—¶é—´è®¾ç½®ä¸ºå…ƒä¿¡æ¯ä¼ é€’çš„æ—¶é—´ é»˜è®¤æ—¶é—´1s\n\t\t\t\tthis.redis.set(_key, dataStr, \"EX\", repeatSubmitOption.interval);\n\t\t\t}\n\t\t} else {\n\t\t\tif (dataStr && dataStr === cache) {\n\t\t\t\t// ApiExceptionæ˜¯ä»€ä¹ˆå¯ä»¥æŸ¥çœ‹ å¼‚å¸¸è¿‡æ»¤å™¨\n\t\t\t\tthrow new ApiException(repeatSubmitOption.message);\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}\n```\n\n### æ³¨å†Œ\n\n`app.module.ts`ä½¿ç”¨:\n\n```ts\n@Module({\n  imports: [],\n  providers: [\n    {\n      provide: APP_GUARD,\n      useClass: RepeatSubmitGuard,\n    },\n  ]\n})\n```\n\n### æ§åˆ¶å±‚ä½¿ç”¨\n\n```ts\nimport { Controller, Post, Body, Get, Request } from \"@nestjs/common\";\nexport class UserController {\n\tconstructor() {}\n\n\t// æ·»åŠ è¿™ä¸€è¡Œä»£ç ã€‚å¦‚æœ2sè¯·æ±‚é¢‘ç¹é‚£ä¹ˆå°±ä¼šæç¤º â€œæ“ä½œè¿‡äºé¢‘ç¹â€\n\t@RepeatSubmit({\n\t\tinterval: 2,\n\t\tmessage: \"æ“ä½œè¿‡äºé¢‘ç¹\",\n\t})\n\t@Post(\"create\")\n\tasync create(@Body() body: { username: string; password: string }) {\n\t\treturn \"success\";\n\t}\n}\n```\n\n## æ“ä½œæƒé™\n\n### è‡ªå®šä¹‰å…ƒæ•°æ®\n\n```ts\nexport enum PermissionRelationEnum {\n\tAND = \"AND\",\n\tOR = \"OR\",\n}\n```\n\n```ts\nimport { SetMetadata } from \"@nestjs/common\";\nimport { PermissionRelationEnum } from \"../enum/permission.enum\";\nimport { PERMISSION_KEY_METADATA } from \"../constants/metadata.constant\";\n\nexport class PermissionOption {\n\tpermissionArr: string[];\n\trelation: PermissionRelationEnum;\n}\nexport const Permission = (\n\tpermissions: string | string[],\n\trelation: PermissionRelationEnum = PermissionRelationEnum.OR // æƒé™çš„å…³ç³»ï¼Œ æ˜¯å¹¶ä¸”è¿˜æ˜¯æˆ–è€…çš„å…³ç³»\n) => {\n\tconst permissionObj: PermissionOption = {\n\t\tpermissionArr: [],\n\t\trelation,\n\t};\n\tif (typeof permissions === \"string\") {\n\t\tpermissionObj.permissionArr = [permissions];\n\t} else if (permissions instanceof Array) {\n\t\tpermissionObj.permissionArr = permissions;\n\t}\n\treturn SetMetadata(PERMISSION_KEY_METADATA, permissionObj);\n};\n```\n\n### è‡ªå®šä¹‰å®ˆå«\n\n```ts\nimport { CanActivate, ExecutionContext, Injectable } from \"@nestjs/common\";\nimport { Reflector } from \"@nestjs/core\";\nimport { Observable } from \"rxjs\";\nimport { PermissionOption } from \"../decorator/permission.decorator\";\nimport { PERMISSION_KEY_METADATA } from \"../constants/metadata.constant\";\nimport { PermissionRelationEnum } from \"../enum/permission.enum\";\nimport { ApiException } from \"../exception/api.exception\";\nimport { HttpStatusCode } from \"../enum/http.enum\";\n\n@Injectable()\nexport class PermissionGuard implements CanActivate {\n\tconstructor(private readonly reflector: Reflector) {}\n\tcanActivate(\n\t\tcontext: ExecutionContext\n\t): boolean | Promise<boolean> | Observable<boolean> {\n\t\tconst permissionObj = this.reflector.getAllAndOverride<PermissionOption>(\n\t\t\tPERMISSION_KEY_METADATA,\n\t\t\t[context.getHandler(), context.getClass()]\n\t\t);\n\t\tif (!permissionObj || !permissionObj.permissionArr.length) return true;\n\n\t\tconst request = context.switchToHttp().getRequest();\n\t\t// æƒé™æŒ‚è½½åœ¨ç”¨æˆ·ä¿¡å¿ƒä¹‹ä¸Š\n\t\tconst user = request.user;\n\t\tconst permissions = user?.permissions || [];\n\t\tif (permissions.includes(\"*\")) return true;\n\t\tlet result = false;\n\t\tif (permissionObj.relation === PermissionRelationEnum.OR) {\n\t\t\tresult = permissionObj.permissionArr.some(userPermission => {\n\t\t\t\treturn permissions.includes(userPermission);\n\t\t\t});\n\t\t} else if (permissionObj.relation === PermissionRelationEnum.AND) {\n\t\t\tresult = permissionObj.permissionArr.every(userPermission => {\n\t\t\t\treturn permissions.includes(userPermission);\n\t\t\t});\n\t\t}\n\t\tif (!result)\n\t\t\tthrow new ApiException(\n\t\t\t\t\"æš‚æ— æƒé™è®¿é—®ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\",\n\t\t\t\tHttpStatusCode.UNAUTHORIZED\n\t\t\t);\n\t\treturn result;\n\t}\n}\n```\n\n### æ³¨å†Œ\n\n`app.module.ts`ä½¿ç”¨:\n\n```ts\n@Module({\n  imports: [],\n  providers: [\n    // æƒé™å®ˆå«\n    {\n      provide: APP_GUARD,\n      useClass: PermissionGuard,\n    },\n  ]\n})\n```\n\n### æ§åˆ¶å±‚ä½¿ç”¨\n\n```ts\nimport { Controller, Post, Body, Get, Request } from \"@nestjs/common\";\nexport class UserController {\n\tconstructor() {}\n\n\t// æ·»åŠ è¿™ä¸€è¡Œä»£ç ã€‚å¦‚æœæ²¡æœ‰æƒé™ ä¼šæç¤º'æš‚æ— æƒé™è®¿é—®ï¼Œè¯·è”ç³»ç®¡ç†å‘˜'\n\t@Permission([\"v1:order:create\"], PermissionRelationEnum.OR)\n\t@Post(\"create\")\n\tasync create(@Body() body: { username: string; password: string }) {\n\t\treturn \"success\";\n\t}\n}\n```\n\n## æ˜¯å¦ç™»å½•\n\n### è‡ªå®šä¹‰å…ƒæ•°æ®\n\n```ts\nimport { SetMetadata } from \"@nestjs/common\";\nimport { PUBLIC_KEY_METADATA } from \"../constants/metadata.constant\";\n\nexport const Public = () => SetMetadata(PUBLIC_KEY_METADATA, true);\n```\n\n### è‡ªå®šä¹‰å®ˆå«\n\n```ts\nimport { ExecutionContext, Injectable } from \"@nestjs/common\";\nimport { Observable } from \"rxjs\";\nimport { AuthGuard } from \"@nestjs/passport\";\nimport { Reflector } from \"@nestjs/core\";\nimport { PUBLIC_KEY_METADATA } from \"../constants/metadata.constant\";\nimport { ApiException } from \"../exception/api.exception\";\nimport { HttpStatusCode } from \"../enum/http.enum\";\n\n@Injectable()\n// https://github.com/jaredhanson/passport\nexport class JwtAuthGuard extends AuthGuard(\"jwt\") {\n\tconstructor(private reflector: Reflector) {\n\t\tsuper();\n\t}\n\tcanActivate(\n\t\tcontext: ExecutionContext\n\t): boolean | Promise<boolean> | Observable<boolean> {\n\t\tconst noInterception = this.reflector.getAllAndOverride(\n\t\t\tPUBLIC_KEY_METADATA,\n\t\t\t[context.getHandler(), context.getClass()]\n\t\t);\n\t\tif (noInterception) return true;\n\t\treturn super.canActivate(context);\n\t}\n\n\thandleRequest(err: any, user: any) {\n\t\tif (err || !user) {\n\t\t\tthrow err || new ApiException(\"ç™»å½•çŠ¶æ€å·²è¿‡æœŸ\", HttpStatusCode.FORBIDDEN);\n\t\t}\n\t\treturn user;\n\t}\n}\n```\n\n### æ³¨å†Œ\n\n`app.module.ts`ä½¿ç”¨:\n\n```ts\n@Module({\n  imports: [],\n  providers: [\n    // jwtå®ˆå«\n    {\n      provide: APP_GUARD,\n      useClass: JwtAuthGuard,\n    },\n  ]\n})\n```\n\n### æ§åˆ¶å±‚ä½¿ç”¨\n\n```ts\nimport { Controller, Post, Body, Get, Request } from \"@nestjs/common\";\nexport class UserController {\n\tconstructor() {}\n\n\t// æ·»åŠ è¿™ä¸€è¡Œä»£ç ã€‚è¯´æ˜ä¸éœ€è¦tokenæ ¡éªŒ\n\t@Public()\n\t@Post(\"create\")\n\tasync create(@Body() body: { username: string; password: string }) {\n\t\treturn \"success\";\n\t}\n}\n```\n\næ³¨æ„ï¼š\n\n1. [`ApiExceptionæ˜¯ä»€ä¹ˆå¯ä»¥æŸ¥çœ‹ å¼‚å¸¸è¿‡æ»¤å™¨`](/brochure/nest/base/exceptionFilter.html#è‡ªå®šä¹‰å¼‚å¸¸)\n2. [`Redisä½¿ç”¨`](/brochure/nest/base/database.html#redis)\n3. [`JWTä½¿ç”¨`](/brochure/nest/base/jwt)\n","slug":"æŠ€èƒ½å°å†Œ/Nest/è·¯ç”±å®ˆå«","published":1,"updated":"2025-03-12T09:44:33.509Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j0003ufg9mdnjwek8v","content":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>å®ˆå«æ˜¯ä¸€ä¸ªç”¨ <code>@Injectable()</code> è£…é¥°å™¨æ³¨é‡Šçš„ç±»ï¼Œå®ƒå®ç°äº† <code>CanActivate</code> æ¥å£ã€‚</p>\n<p>å®ˆå«æœ‰å•ä¸€çš„è´£ä»»ã€‚å®ƒä»¬æ ¹æ®è¿è¡Œæ—¶å­˜åœ¨çš„æŸäº›æ¡ä»¶ï¼ˆå¦‚æƒé™ã€è§’è‰²ã€ACL ç­‰ï¼‰ç¡®å®šç»™å®šè¯·æ±‚æ˜¯å¦å°†ç”±è·¯ç”±å¤„ç†ç¨‹åºå¤„ç†ã€‚è¿™é€šå¸¸ç§°ä¸ºæˆæƒã€‚æˆæƒï¼ˆåŠå…¶é€šå¸¸ä¸ä¹‹åˆä½œçš„èº«ä»½éªŒè¯ï¼‰é€šå¸¸ç”±ä¼ ç»Ÿ <code>Express</code> åº”ç”¨ä¸­çš„ ä¸­é—´ä»¶ å¤„ç†ã€‚ä¸­é—´ä»¶æ˜¯èº«ä»½éªŒè¯çš„ä¸é”™é€‰æ‹©ï¼Œå› ä¸ºè¯¸å¦‚ä»¤ç‰ŒéªŒè¯å’Œå°†å±æ€§é™„åŠ åˆ° <code>request</code> å¯¹è±¡ä¹‹ç±»çš„äº‹æƒ…ä¸ç‰¹å®šè·¯ç”±ä¸Šä¸‹æ–‡ï¼ˆåŠå…¶å…ƒæ•°æ®ï¼‰æ²¡æœ‰ç´§å¯†è”ç³»ã€‚</p>\n<p>ä½†æ˜¯ä¸­é—´ä»¶ï¼Œå°±å…¶æœ¬è´¨è€Œè¨€ï¼Œæ˜¯æ„šè ¢çš„ã€‚å®ƒä¸çŸ¥é“è°ƒç”¨ <code>next()</code> å‡½æ•°åå°†æ‰§è¡Œå“ªä¸ªå¤„ç†ç¨‹åºã€‚å¦ä¸€æ–¹é¢ï¼ŒGuards å¯ä»¥è®¿é—® <code>ExecutionContext</code> å®ä¾‹ï¼Œå› æ­¤ç¡®åˆ‡åœ°çŸ¥é“æ¥ä¸‹æ¥è¦æ‰§è¡Œä»€ä¹ˆã€‚å®ƒä»¬çš„è®¾è®¡ä¸å¼‚å¸¸è¿‡æ»¤å™¨ã€ç®¡é“å’Œæ‹¦æˆªå™¨éå¸¸ç›¸ä¼¼ï¼Œå¯è®©ä½ åœ¨è¯·æ±‚&#x2F;å“åº”å‘¨æœŸçš„æ­£ç¡®ä½ç½®æ’å…¥å¤„ç†é€»è¾‘ï¼Œå¹¶ä»¥å£°æ˜æ–¹å¼è¿›è¡Œã€‚è¿™æœ‰åŠ©äºä½¿ä½ çš„ä»£ç ä¿æŒå¹²çˆ½å’Œå£°æ˜å¼ã€‚</p>\n<p><strong>ä¸ºäº†è®©ç¨‹åºæ›´åŠ æ™ºèƒ½ï¼Œè¿™é‡Œä½¿ç”¨è£…é¥°å™¨åŠŸèƒ½ï¼Œä¾‹å¦‚åœ¨æŸä¸€ä¸ªè¯·æ±‚æ¥å£ä¸Šæ·»åŠ ä¸€ä¸ªè£…é¥°å™¨ï¼Œé™åˆ¶é‡å¤è¯·æ±‚ç­‰ç­‰ï¼Œ æ¥ä¸‹æ¥ä»¥ä¿©ä¸ªæ¡ˆä¾‹ï¼š</strong></p>\n<h2 id=\"é‡å¤è¯·æ±‚é™åˆ¶\"><a href=\"#é‡å¤è¯·æ±‚é™åˆ¶\" class=\"headerlink\" title=\"é‡å¤è¯·æ±‚é™åˆ¶\"></a>é‡å¤è¯·æ±‚é™åˆ¶</h2><h3 id=\"å¸¸é‡æ–‡ä»¶\"><a href=\"#å¸¸é‡æ–‡ä»¶\" class=\"headerlink\" title=\"å¸¸é‡æ–‡ä»¶\"></a>å¸¸é‡æ–‡ä»¶</h3><p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¸¸é‡æ–‡ä»¶ï¼Ÿå¥½å¤„å°±æ˜¯ç»Ÿä¸€ç®¡ç†ï¼›é¦–å…ˆåˆ›å»ºæ–‡ä»¶ä½œä¸ºå¸¸é‡ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è®°å½•æ—¥å¿—çš„key</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">LOG_KEY_METADATA</span> = <span class=\"string\">&quot;__log__&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// é‡å¤æäº¤çš„key</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">REPEAT_SUBMIT_KEY_METADATA</span> = <span class=\"string\">&quot;__repeat_submit__&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// public: ä¸éœ€è¦tokenæ ¡éªŒ</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">PUBLIC_KEY_METADATA</span> = <span class=\"string\">&quot;__public__&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// æƒé™çš„key</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">PERMISSION_KEY_METADATA</span> = <span class=\"string\">&quot;__permission__&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ===== Redisç¼“å­˜</span></span><br><span class=\"line\"><span class=\"comment\">// Redis é‡å¤æäº¤çš„key, ç›®å½•çš„å½¢å¼ï¼Œ ä¾‹å¦‚ï¼š __redis_repeat__:/api/user/list</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">REDIS_REPEAT_SUBMIT_KEY</span> = <span class=\"string\">&quot;__redis_repeat__:&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// å­˜å‚¨éªŒè¯ç å›¾ç‰‡</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">REDIS_CAPTCHA_KEY</span> = <span class=\"string\">&quot;__captcha__:&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// å­˜å‚¨ç”¨æˆ·çš„tokenæˆ–è€…userId</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">REDIS_TOKEN_KEY</span> = <span class=\"string\">&quot;__token__:&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// å­˜å‚¨ç”¨æˆ·çš„ä¿¡æ¯</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">REDIS_USER_INFO_KEY</span> = <span class=\"string\">&quot;__user_info__:&quot;</span>;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è‡ªå®šä¹‰å…ƒæ•°æ®\"><a href=\"#è‡ªå®šä¹‰å…ƒæ•°æ®\" class=\"headerlink\" title=\"è‡ªå®šä¹‰å…ƒæ•°æ®\"></a>è‡ªå®šä¹‰å…ƒæ•°æ®</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">SetMetadata</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">REPEAT_SUBMIT_KEY_METADATA</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../constants/metadata.constant&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">RepeatSubmitOption</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">interval</span>?: <span class=\"built_in\">number</span> = <span class=\"number\">1</span>; <span class=\"comment\">//é»˜è®¤1s</span></span><br><span class=\"line\">\t<span class=\"attr\">message</span>?: <span class=\"built_in\">string</span> = <span class=\"string\">&quot;æ“ä½œè¿‡äºé¢‘ç¹&quot;</span>; <span class=\"comment\">// å¯ä»¥è‡ªå®šä¹‰</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">RepeatSubmit</span> = (<span class=\"params\"><span class=\"attr\">option</span>?: <span class=\"title class_\">RepeatSubmitOption</span></span>) =&gt; &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"title class_\">SetMetadata</span>(</span><br><span class=\"line\">\t\t<span class=\"variable constant_\">REPEAT_SUBMIT_KEY_METADATA</span>,</span><br><span class=\"line\">\t\t<span class=\"title class_\">Object</span>.<span class=\"title function_\">assign</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">RepeatSubmitOption</span>(), option)</span><br><span class=\"line\">\t);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è‡ªå®šä¹‰å®ˆå«\"><a href=\"#è‡ªå®šä¹‰å®ˆå«\" class=\"headerlink\" title=\"è‡ªå®šä¹‰å®ˆå«\"></a>è‡ªå®šä¹‰å®ˆå«</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">CanActivate</span>, <span class=\"title class_\">ExecutionContext</span>, <span class=\"title class_\">Injectable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Reflector</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/core&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">RepeatSubmitOption</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../decorator/repeat-submit.decorator&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable constant_\">REDIS_REPEAT_SUBMIT_KEY</span>,</span><br><span class=\"line\">\t<span class=\"variable constant_\">REPEAT_SUBMIT_KEY_METADATA</span>,</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../constants/metadata.constant&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ApiException</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../exception/api.exception&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">InjectRedis</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs-modules/ioredis&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Redis</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;ioredis&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Request</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;express&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">CommonService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;src/shared/common/common.service&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">RepeatSubmitGuard</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">CanActivate</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">reflector</span>: <span class=\"title class_\">Reflector</span>,</span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"meta\">@InjectRedis</span>() <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">redis</span>: <span class=\"title class_\">Redis</span>,</span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">commonService</span>: <span class=\"title class_\">CommonService</span></span></span><br><span class=\"line\"><span class=\"params\">\t</span>) &#123;&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">canActivate</span>(<span class=\"attr\">context</span>: <span class=\"title class_\">ExecutionContext</span>): <span class=\"title class_\">Promise</span>&lt;<span class=\"built_in\">boolean</span>&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> <span class=\"attr\">repeatSubmitOption</span>: <span class=\"title class_\">RepeatSubmitOption</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">reflector</span>.<span class=\"title function_\">get</span>(</span><br><span class=\"line\">\t\t\t<span class=\"variable constant_\">REPEAT_SUBMIT_KEY_METADATA</span>,</span><br><span class=\"line\">\t\t\tcontext.<span class=\"title function_\">getHandler</span>()</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!repeatSubmitOption) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> <span class=\"attr\">request</span>: <span class=\"title class_\">Request</span> = context.<span class=\"title function_\">switchToHttp</span>().<span class=\"title function_\">getRequest</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> _key = <span class=\"string\">`<span class=\"subst\">$&#123;REDIS_REPEAT_SUBMIT_KEY&#125;</span><span class=\"subst\">$&#123;request.url&#125;</span>`</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> cache = <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">redis</span>.<span class=\"title function_\">get</span>(_key);</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> data = &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">ip</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">commonService</span>.<span class=\"title function_\">getIp</span>(request),</span><br><span class=\"line\">\t\t\t<span class=\"attr\">body</span>: request.<span class=\"property\">body</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">prams</span>: request.<span class=\"property\">params</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">query</span>: request.<span class=\"property\">query</span>,</span><br><span class=\"line\">\t\t&#125;;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> dataStr = <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(data);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!cache) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (dataStr) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// ä»¥urlä½œä¸ºkeyå»åšç¼“å­˜ï¼Œç¼“å­˜æ—¶é—´è®¾ç½®ä¸ºå…ƒä¿¡æ¯ä¼ é€’çš„æ—¶é—´ é»˜è®¤æ—¶é—´1s</span></span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">redis</span>.<span class=\"title function_\">set</span>(_key, dataStr, <span class=\"string\">&quot;EX&quot;</span>, repeatSubmitOption.<span class=\"property\">interval</span>);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (dataStr &amp;&amp; dataStr === cache) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// ApiExceptionæ˜¯ä»€ä¹ˆå¯ä»¥æŸ¥çœ‹ å¼‚å¸¸è¿‡æ»¤å™¨</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ApiException</span>(repeatSubmitOption.<span class=\"property\">message</span>);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ³¨å†Œ\"><a href=\"#æ³¨å†Œ\" class=\"headerlink\" title=\"æ³¨å†Œ\"></a>æ³¨å†Œ</h3><p><code>app.module.ts</code>ä½¿ç”¨:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [],</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">provide</span>: <span class=\"variable constant_\">APP_GUARD</span>,</span><br><span class=\"line\">      <span class=\"attr\">useClass</span>: <span class=\"title class_\">RepeatSubmitGuard</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ§åˆ¶å±‚ä½¿ç”¨\"><a href=\"#æ§åˆ¶å±‚ä½¿ç”¨\" class=\"headerlink\" title=\"æ§åˆ¶å±‚ä½¿ç”¨\"></a>æ§åˆ¶å±‚ä½¿ç”¨</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Controller</span>, <span class=\"title class_\">Post</span>, <span class=\"title class_\">Body</span>, <span class=\"title class_\">Get</span>, <span class=\"title class_\">Request</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserController</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ·»åŠ è¿™ä¸€è¡Œä»£ç ã€‚å¦‚æœ2sè¯·æ±‚é¢‘ç¹é‚£ä¹ˆå°±ä¼šæç¤º â€œæ“ä½œè¿‡äºé¢‘ç¹â€</span></span><br><span class=\"line\">\t<span class=\"meta\">@RepeatSubmit</span>(&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">interval</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;æ“ä½œè¿‡äºé¢‘ç¹&quot;</span>,</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">\t<span class=\"meta\">@Post</span>(<span class=\"string\">&quot;create&quot;</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"meta\">@Body</span>() <span class=\"attr\">body</span>: &#123; username: <span class=\"built_in\">string</span>; password: <span class=\"built_in\">string</span> &#125;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;success&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ“ä½œæƒé™\"><a href=\"#æ“ä½œæƒé™\" class=\"headerlink\" title=\"æ“ä½œæƒé™\"></a>æ“ä½œæƒé™</h2><h3 id=\"è‡ªå®šä¹‰å…ƒæ•°æ®-1\"><a href=\"#è‡ªå®šä¹‰å…ƒæ•°æ®-1\" class=\"headerlink\" title=\"è‡ªå®šä¹‰å…ƒæ•°æ®\"></a>è‡ªå®šä¹‰å…ƒæ•°æ®</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">PermissionRelationEnum</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable constant_\">AND</span> = <span class=\"string\">&quot;AND&quot;</span>,</span><br><span class=\"line\">\t<span class=\"variable constant_\">OR</span> = <span class=\"string\">&quot;OR&quot;</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">SetMetadata</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">PermissionRelationEnum</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/permission.enum&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">PERMISSION_KEY_METADATA</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../constants/metadata.constant&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">PermissionOption</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">permissionArr</span>: <span class=\"built_in\">string</span>[];</span><br><span class=\"line\">\t<span class=\"attr\">relation</span>: <span class=\"title class_\">PermissionRelationEnum</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">Permission</span> = (<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">\t<span class=\"attr\">permissions</span>: <span class=\"built_in\">string</span> | <span class=\"built_in\">string</span>[],</span></span><br><span class=\"line\"><span class=\"params\">\t<span class=\"attr\">relation</span>: <span class=\"title class_\">PermissionRelationEnum</span> = <span class=\"title class_\">PermissionRelationEnum</span>.OR <span class=\"comment\">// æƒé™çš„å…³ç³»ï¼Œ æ˜¯å¹¶ä¸”è¿˜æ˜¯æˆ–è€…çš„å…³ç³»</span></span></span><br><span class=\"line\"><span class=\"params\"></span>) =&gt; &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> <span class=\"attr\">permissionObj</span>: <span class=\"title class_\">PermissionOption</span> = &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">permissionArr</span>: [],</span><br><span class=\"line\">\t\trelation,</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> permissions === <span class=\"string\">&quot;string&quot;</span>) &#123;</span><br><span class=\"line\">\t\tpermissionObj.<span class=\"property\">permissionArr</span> = [permissions];</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (permissions <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Array</span>) &#123;</span><br><span class=\"line\">\t\tpermissionObj.<span class=\"property\">permissionArr</span> = permissions;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"title class_\">SetMetadata</span>(<span class=\"variable constant_\">PERMISSION_KEY_METADATA</span>, permissionObj);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è‡ªå®šä¹‰å®ˆå«-1\"><a href=\"#è‡ªå®šä¹‰å®ˆå«-1\" class=\"headerlink\" title=\"è‡ªå®šä¹‰å®ˆå«\"></a>è‡ªå®šä¹‰å®ˆå«</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">CanActivate</span>, <span class=\"title class_\">ExecutionContext</span>, <span class=\"title class_\">Injectable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Reflector</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/core&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Observable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;rxjs&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">PermissionOption</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../decorator/permission.decorator&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">PERMISSION_KEY_METADATA</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../constants/metadata.constant&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">PermissionRelationEnum</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/permission.enum&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ApiException</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../exception/api.exception&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HttpStatusCode</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/http.enum&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">PermissionGuard</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">CanActivate</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">reflector</span>: <span class=\"title class_\">Reflector</span></span>) &#123;&#125;</span><br><span class=\"line\">\t<span class=\"title function_\">canActivate</span>(</span><br><span class=\"line\">\t\t<span class=\"attr\">context</span>: <span class=\"title class_\">ExecutionContext</span></span><br><span class=\"line\">\t): <span class=\"built_in\">boolean</span> | <span class=\"title class_\">Promise</span>&lt;<span class=\"built_in\">boolean</span>&gt; | <span class=\"title class_\">Observable</span>&lt;<span class=\"built_in\">boolean</span>&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> permissionObj = <span class=\"variable language_\">this</span>.<span class=\"property\">reflector</span>.<span class=\"property\">getAllAndOverride</span>&lt;<span class=\"title class_\">PermissionOption</span>&gt;(</span><br><span class=\"line\">\t\t\t<span class=\"variable constant_\">PERMISSION_KEY_METADATA</span>,</span><br><span class=\"line\">\t\t\t[context.<span class=\"title function_\">getHandler</span>(), context.<span class=\"title function_\">getClass</span>()]</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!permissionObj || !permissionObj.<span class=\"property\">permissionArr</span>.<span class=\"property\">length</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> request = context.<span class=\"title function_\">switchToHttp</span>().<span class=\"title function_\">getRequest</span>();</span><br><span class=\"line\">\t\t<span class=\"comment\">// æƒé™æŒ‚è½½åœ¨ç”¨æˆ·ä¿¡å¿ƒä¹‹ä¸Š</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> user = request.<span class=\"property\">user</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> permissions = user?.<span class=\"property\">permissions</span> || [];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (permissions.<span class=\"title function_\">includes</span>(<span class=\"string\">&quot;*&quot;</span>)) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> result = <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (permissionObj.<span class=\"property\">relation</span> === <span class=\"title class_\">PermissionRelationEnum</span>.<span class=\"property\">OR</span>) &#123;</span><br><span class=\"line\">\t\t\tresult = permissionObj.<span class=\"property\">permissionArr</span>.<span class=\"title function_\">some</span>(<span class=\"function\"><span class=\"params\">userPermission</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> permissions.<span class=\"title function_\">includes</span>(userPermission);</span><br><span class=\"line\">\t\t\t&#125;);</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (permissionObj.<span class=\"property\">relation</span> === <span class=\"title class_\">PermissionRelationEnum</span>.<span class=\"property\">AND</span>) &#123;</span><br><span class=\"line\">\t\t\tresult = permissionObj.<span class=\"property\">permissionArr</span>.<span class=\"title function_\">every</span>(<span class=\"function\"><span class=\"params\">userPermission</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> permissions.<span class=\"title function_\">includes</span>(userPermission);</span><br><span class=\"line\">\t\t\t&#125;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!result)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ApiException</span>(</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;æš‚æ— æƒé™è®¿é—®ï¼Œè¯·è”ç³»ç®¡ç†å‘˜&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">UNAUTHORIZED</span></span><br><span class=\"line\">\t\t\t);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> result;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ³¨å†Œ-1\"><a href=\"#æ³¨å†Œ-1\" class=\"headerlink\" title=\"æ³¨å†Œ\"></a>æ³¨å†Œ</h3><p><code>app.module.ts</code>ä½¿ç”¨:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [],</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// æƒé™å®ˆå«</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">provide</span>: <span class=\"variable constant_\">APP_GUARD</span>,</span><br><span class=\"line\">      <span class=\"attr\">useClass</span>: <span class=\"title class_\">PermissionGuard</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ§åˆ¶å±‚ä½¿ç”¨-1\"><a href=\"#æ§åˆ¶å±‚ä½¿ç”¨-1\" class=\"headerlink\" title=\"æ§åˆ¶å±‚ä½¿ç”¨\"></a>æ§åˆ¶å±‚ä½¿ç”¨</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Controller</span>, <span class=\"title class_\">Post</span>, <span class=\"title class_\">Body</span>, <span class=\"title class_\">Get</span>, <span class=\"title class_\">Request</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserController</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ·»åŠ è¿™ä¸€è¡Œä»£ç ã€‚å¦‚æœæ²¡æœ‰æƒé™ ä¼šæç¤º&#x27;æš‚æ— æƒé™è®¿é—®ï¼Œè¯·è”ç³»ç®¡ç†å‘˜&#x27;</span></span><br><span class=\"line\">\t<span class=\"meta\">@Permission</span>([<span class=\"string\">&quot;v1:order:create&quot;</span>], <span class=\"title class_\">PermissionRelationEnum</span>.<span class=\"property\">OR</span>)</span><br><span class=\"line\">\t<span class=\"meta\">@Post</span>(<span class=\"string\">&quot;create&quot;</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"meta\">@Body</span>() <span class=\"attr\">body</span>: &#123; username: <span class=\"built_in\">string</span>; password: <span class=\"built_in\">string</span> &#125;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;success&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ˜¯å¦ç™»å½•\"><a href=\"#æ˜¯å¦ç™»å½•\" class=\"headerlink\" title=\"æ˜¯å¦ç™»å½•\"></a>æ˜¯å¦ç™»å½•</h2><h3 id=\"è‡ªå®šä¹‰å…ƒæ•°æ®-2\"><a href=\"#è‡ªå®šä¹‰å…ƒæ•°æ®-2\" class=\"headerlink\" title=\"è‡ªå®šä¹‰å…ƒæ•°æ®\"></a>è‡ªå®šä¹‰å…ƒæ•°æ®</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">SetMetadata</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">PUBLIC_KEY_METADATA</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../constants/metadata.constant&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">Public</span> = (<span class=\"params\"></span>) =&gt; <span class=\"title class_\">SetMetadata</span>(<span class=\"variable constant_\">PUBLIC_KEY_METADATA</span>, <span class=\"literal\">true</span>);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è‡ªå®šä¹‰å®ˆå«-2\"><a href=\"#è‡ªå®šä¹‰å®ˆå«-2\" class=\"headerlink\" title=\"è‡ªå®šä¹‰å®ˆå«\"></a>è‡ªå®šä¹‰å®ˆå«</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ExecutionContext</span>, <span class=\"title class_\">Injectable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Observable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;rxjs&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">AuthGuard</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/passport&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Reflector</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/core&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">PUBLIC_KEY_METADATA</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../constants/metadata.constant&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ApiException</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../exception/api.exception&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HttpStatusCode</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/http.enum&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"comment\">// https://github.com/jaredhanson/passport</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">JwtAuthGuard</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">AuthGuard</span>(<span class=\"string\">&quot;jwt&quot;</span>) &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"attr\">reflector</span>: <span class=\"title class_\">Reflector</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">super</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"title function_\">canActivate</span>(</span><br><span class=\"line\">\t\t<span class=\"attr\">context</span>: <span class=\"title class_\">ExecutionContext</span></span><br><span class=\"line\">\t): <span class=\"built_in\">boolean</span> | <span class=\"title class_\">Promise</span>&lt;<span class=\"built_in\">boolean</span>&gt; | <span class=\"title class_\">Observable</span>&lt;<span class=\"built_in\">boolean</span>&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> noInterception = <span class=\"variable language_\">this</span>.<span class=\"property\">reflector</span>.<span class=\"title function_\">getAllAndOverride</span>(</span><br><span class=\"line\">\t\t\t<span class=\"variable constant_\">PUBLIC_KEY_METADATA</span>,</span><br><span class=\"line\">\t\t\t[context.<span class=\"title function_\">getHandler</span>(), context.<span class=\"title function_\">getClass</span>()]</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (noInterception) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">super</span>.<span class=\"title function_\">canActivate</span>(context);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"title function_\">handleRequest</span>(<span class=\"params\"><span class=\"attr\">err</span>: <span class=\"built_in\">any</span>, <span class=\"attr\">user</span>: <span class=\"built_in\">any</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (err || !user) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">throw</span> err || <span class=\"keyword\">new</span> <span class=\"title class_\">ApiException</span>(<span class=\"string\">&quot;ç™»å½•çŠ¶æ€å·²è¿‡æœŸ&quot;</span>, <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">FORBIDDEN</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> user;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ³¨å†Œ-2\"><a href=\"#æ³¨å†Œ-2\" class=\"headerlink\" title=\"æ³¨å†Œ\"></a>æ³¨å†Œ</h3><p><code>app.module.ts</code>ä½¿ç”¨:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [],</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// jwtå®ˆå«</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">provide</span>: <span class=\"variable constant_\">APP_GUARD</span>,</span><br><span class=\"line\">      <span class=\"attr\">useClass</span>: <span class=\"title class_\">JwtAuthGuard</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ§åˆ¶å±‚ä½¿ç”¨-2\"><a href=\"#æ§åˆ¶å±‚ä½¿ç”¨-2\" class=\"headerlink\" title=\"æ§åˆ¶å±‚ä½¿ç”¨\"></a>æ§åˆ¶å±‚ä½¿ç”¨</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Controller</span>, <span class=\"title class_\">Post</span>, <span class=\"title class_\">Body</span>, <span class=\"title class_\">Get</span>, <span class=\"title class_\">Request</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserController</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ·»åŠ è¿™ä¸€è¡Œä»£ç ã€‚è¯´æ˜ä¸éœ€è¦tokenæ ¡éªŒ</span></span><br><span class=\"line\">\t<span class=\"meta\">@Public</span>()</span><br><span class=\"line\">\t<span class=\"meta\">@Post</span>(<span class=\"string\">&quot;create&quot;</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"meta\">@Body</span>() <span class=\"attr\">body</span>: &#123; username: <span class=\"built_in\">string</span>; password: <span class=\"built_in\">string</span> &#125;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;success&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ³¨æ„ï¼š</p>\n<ol>\n<li><a href=\"/brochure/nest/base/exceptionFilter.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8\"><code>ApiExceptionæ˜¯ä»€ä¹ˆå¯ä»¥æŸ¥çœ‹ å¼‚å¸¸è¿‡æ»¤å™¨</code></a></li>\n<li><a href=\"/brochure/nest/base/database.html#redis\"><code>Redisä½¿ç”¨</code></a></li>\n<li><a href=\"/brochure/nest/base/jwt\"><code>JWTä½¿ç”¨</code></a></li>\n</ol>\n","excerpt":"","more":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>å®ˆå«æ˜¯ä¸€ä¸ªç”¨ <code>@Injectable()</code> è£…é¥°å™¨æ³¨é‡Šçš„ç±»ï¼Œå®ƒå®ç°äº† <code>CanActivate</code> æ¥å£ã€‚</p>\n<p>å®ˆå«æœ‰å•ä¸€çš„è´£ä»»ã€‚å®ƒä»¬æ ¹æ®è¿è¡Œæ—¶å­˜åœ¨çš„æŸäº›æ¡ä»¶ï¼ˆå¦‚æƒé™ã€è§’è‰²ã€ACL ç­‰ï¼‰ç¡®å®šç»™å®šè¯·æ±‚æ˜¯å¦å°†ç”±è·¯ç”±å¤„ç†ç¨‹åºå¤„ç†ã€‚è¿™é€šå¸¸ç§°ä¸ºæˆæƒã€‚æˆæƒï¼ˆåŠå…¶é€šå¸¸ä¸ä¹‹åˆä½œçš„èº«ä»½éªŒè¯ï¼‰é€šå¸¸ç”±ä¼ ç»Ÿ <code>Express</code> åº”ç”¨ä¸­çš„ ä¸­é—´ä»¶ å¤„ç†ã€‚ä¸­é—´ä»¶æ˜¯èº«ä»½éªŒè¯çš„ä¸é”™é€‰æ‹©ï¼Œå› ä¸ºè¯¸å¦‚ä»¤ç‰ŒéªŒè¯å’Œå°†å±æ€§é™„åŠ åˆ° <code>request</code> å¯¹è±¡ä¹‹ç±»çš„äº‹æƒ…ä¸ç‰¹å®šè·¯ç”±ä¸Šä¸‹æ–‡ï¼ˆåŠå…¶å…ƒæ•°æ®ï¼‰æ²¡æœ‰ç´§å¯†è”ç³»ã€‚</p>\n<p>ä½†æ˜¯ä¸­é—´ä»¶ï¼Œå°±å…¶æœ¬è´¨è€Œè¨€ï¼Œæ˜¯æ„šè ¢çš„ã€‚å®ƒä¸çŸ¥é“è°ƒç”¨ <code>next()</code> å‡½æ•°åå°†æ‰§è¡Œå“ªä¸ªå¤„ç†ç¨‹åºã€‚å¦ä¸€æ–¹é¢ï¼ŒGuards å¯ä»¥è®¿é—® <code>ExecutionContext</code> å®ä¾‹ï¼Œå› æ­¤ç¡®åˆ‡åœ°çŸ¥é“æ¥ä¸‹æ¥è¦æ‰§è¡Œä»€ä¹ˆã€‚å®ƒä»¬çš„è®¾è®¡ä¸å¼‚å¸¸è¿‡æ»¤å™¨ã€ç®¡é“å’Œæ‹¦æˆªå™¨éå¸¸ç›¸ä¼¼ï¼Œå¯è®©ä½ åœ¨è¯·æ±‚&#x2F;å“åº”å‘¨æœŸçš„æ­£ç¡®ä½ç½®æ’å…¥å¤„ç†é€»è¾‘ï¼Œå¹¶ä»¥å£°æ˜æ–¹å¼è¿›è¡Œã€‚è¿™æœ‰åŠ©äºä½¿ä½ çš„ä»£ç ä¿æŒå¹²çˆ½å’Œå£°æ˜å¼ã€‚</p>\n<p><strong>ä¸ºäº†è®©ç¨‹åºæ›´åŠ æ™ºèƒ½ï¼Œè¿™é‡Œä½¿ç”¨è£…é¥°å™¨åŠŸèƒ½ï¼Œä¾‹å¦‚åœ¨æŸä¸€ä¸ªè¯·æ±‚æ¥å£ä¸Šæ·»åŠ ä¸€ä¸ªè£…é¥°å™¨ï¼Œé™åˆ¶é‡å¤è¯·æ±‚ç­‰ç­‰ï¼Œ æ¥ä¸‹æ¥ä»¥ä¿©ä¸ªæ¡ˆä¾‹ï¼š</strong></p>\n<h2 id=\"é‡å¤è¯·æ±‚é™åˆ¶\"><a href=\"#é‡å¤è¯·æ±‚é™åˆ¶\" class=\"headerlink\" title=\"é‡å¤è¯·æ±‚é™åˆ¶\"></a>é‡å¤è¯·æ±‚é™åˆ¶</h2><h3 id=\"å¸¸é‡æ–‡ä»¶\"><a href=\"#å¸¸é‡æ–‡ä»¶\" class=\"headerlink\" title=\"å¸¸é‡æ–‡ä»¶\"></a>å¸¸é‡æ–‡ä»¶</h3><p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¸¸é‡æ–‡ä»¶ï¼Ÿå¥½å¤„å°±æ˜¯ç»Ÿä¸€ç®¡ç†ï¼›é¦–å…ˆåˆ›å»ºæ–‡ä»¶ä½œä¸ºå¸¸é‡ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è®°å½•æ—¥å¿—çš„key</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">LOG_KEY_METADATA</span> = <span class=\"string\">&quot;__log__&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// é‡å¤æäº¤çš„key</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">REPEAT_SUBMIT_KEY_METADATA</span> = <span class=\"string\">&quot;__repeat_submit__&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// public: ä¸éœ€è¦tokenæ ¡éªŒ</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">PUBLIC_KEY_METADATA</span> = <span class=\"string\">&quot;__public__&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// æƒé™çš„key</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">PERMISSION_KEY_METADATA</span> = <span class=\"string\">&quot;__permission__&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ===== Redisç¼“å­˜</span></span><br><span class=\"line\"><span class=\"comment\">// Redis é‡å¤æäº¤çš„key, ç›®å½•çš„å½¢å¼ï¼Œ ä¾‹å¦‚ï¼š __redis_repeat__:/api/user/list</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">REDIS_REPEAT_SUBMIT_KEY</span> = <span class=\"string\">&quot;__redis_repeat__:&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// å­˜å‚¨éªŒè¯ç å›¾ç‰‡</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">REDIS_CAPTCHA_KEY</span> = <span class=\"string\">&quot;__captcha__:&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// å­˜å‚¨ç”¨æˆ·çš„tokenæˆ–è€…userId</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">REDIS_TOKEN_KEY</span> = <span class=\"string\">&quot;__token__:&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// å­˜å‚¨ç”¨æˆ·çš„ä¿¡æ¯</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">REDIS_USER_INFO_KEY</span> = <span class=\"string\">&quot;__user_info__:&quot;</span>;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è‡ªå®šä¹‰å…ƒæ•°æ®\"><a href=\"#è‡ªå®šä¹‰å…ƒæ•°æ®\" class=\"headerlink\" title=\"è‡ªå®šä¹‰å…ƒæ•°æ®\"></a>è‡ªå®šä¹‰å…ƒæ•°æ®</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">SetMetadata</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">REPEAT_SUBMIT_KEY_METADATA</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../constants/metadata.constant&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">RepeatSubmitOption</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">interval</span>?: <span class=\"built_in\">number</span> = <span class=\"number\">1</span>; <span class=\"comment\">//é»˜è®¤1s</span></span><br><span class=\"line\">\t<span class=\"attr\">message</span>?: <span class=\"built_in\">string</span> = <span class=\"string\">&quot;æ“ä½œè¿‡äºé¢‘ç¹&quot;</span>; <span class=\"comment\">// å¯ä»¥è‡ªå®šä¹‰</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">RepeatSubmit</span> = (<span class=\"params\"><span class=\"attr\">option</span>?: <span class=\"title class_\">RepeatSubmitOption</span></span>) =&gt; &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"title class_\">SetMetadata</span>(</span><br><span class=\"line\">\t\t<span class=\"variable constant_\">REPEAT_SUBMIT_KEY_METADATA</span>,</span><br><span class=\"line\">\t\t<span class=\"title class_\">Object</span>.<span class=\"title function_\">assign</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">RepeatSubmitOption</span>(), option)</span><br><span class=\"line\">\t);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è‡ªå®šä¹‰å®ˆå«\"><a href=\"#è‡ªå®šä¹‰å®ˆå«\" class=\"headerlink\" title=\"è‡ªå®šä¹‰å®ˆå«\"></a>è‡ªå®šä¹‰å®ˆå«</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">CanActivate</span>, <span class=\"title class_\">ExecutionContext</span>, <span class=\"title class_\">Injectable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Reflector</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/core&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">RepeatSubmitOption</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../decorator/repeat-submit.decorator&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable constant_\">REDIS_REPEAT_SUBMIT_KEY</span>,</span><br><span class=\"line\">\t<span class=\"variable constant_\">REPEAT_SUBMIT_KEY_METADATA</span>,</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../constants/metadata.constant&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ApiException</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../exception/api.exception&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">InjectRedis</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs-modules/ioredis&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Redis</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;ioredis&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Request</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;express&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">CommonService</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;src/shared/common/common.service&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">RepeatSubmitGuard</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">CanActivate</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">reflector</span>: <span class=\"title class_\">Reflector</span>,</span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"meta\">@InjectRedis</span>() <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">redis</span>: <span class=\"title class_\">Redis</span>,</span></span><br><span class=\"line\"><span class=\"params\">\t\t<span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">commonService</span>: <span class=\"title class_\">CommonService</span></span></span><br><span class=\"line\"><span class=\"params\">\t</span>) &#123;&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">canActivate</span>(<span class=\"attr\">context</span>: <span class=\"title class_\">ExecutionContext</span>): <span class=\"title class_\">Promise</span>&lt;<span class=\"built_in\">boolean</span>&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> <span class=\"attr\">repeatSubmitOption</span>: <span class=\"title class_\">RepeatSubmitOption</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">reflector</span>.<span class=\"title function_\">get</span>(</span><br><span class=\"line\">\t\t\t<span class=\"variable constant_\">REPEAT_SUBMIT_KEY_METADATA</span>,</span><br><span class=\"line\">\t\t\tcontext.<span class=\"title function_\">getHandler</span>()</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!repeatSubmitOption) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> <span class=\"attr\">request</span>: <span class=\"title class_\">Request</span> = context.<span class=\"title function_\">switchToHttp</span>().<span class=\"title function_\">getRequest</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> _key = <span class=\"string\">`<span class=\"subst\">$&#123;REDIS_REPEAT_SUBMIT_KEY&#125;</span><span class=\"subst\">$&#123;request.url&#125;</span>`</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> cache = <span class=\"keyword\">await</span> <span class=\"variable language_\">this</span>.<span class=\"property\">redis</span>.<span class=\"title function_\">get</span>(_key);</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> data = &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">ip</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">commonService</span>.<span class=\"title function_\">getIp</span>(request),</span><br><span class=\"line\">\t\t\t<span class=\"attr\">body</span>: request.<span class=\"property\">body</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">prams</span>: request.<span class=\"property\">params</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">query</span>: request.<span class=\"property\">query</span>,</span><br><span class=\"line\">\t\t&#125;;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> dataStr = <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(data);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!cache) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (dataStr) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// ä»¥urlä½œä¸ºkeyå»åšç¼“å­˜ï¼Œç¼“å­˜æ—¶é—´è®¾ç½®ä¸ºå…ƒä¿¡æ¯ä¼ é€’çš„æ—¶é—´ é»˜è®¤æ—¶é—´1s</span></span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">redis</span>.<span class=\"title function_\">set</span>(_key, dataStr, <span class=\"string\">&quot;EX&quot;</span>, repeatSubmitOption.<span class=\"property\">interval</span>);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (dataStr &amp;&amp; dataStr === cache) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// ApiExceptionæ˜¯ä»€ä¹ˆå¯ä»¥æŸ¥çœ‹ å¼‚å¸¸è¿‡æ»¤å™¨</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ApiException</span>(repeatSubmitOption.<span class=\"property\">message</span>);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ³¨å†Œ\"><a href=\"#æ³¨å†Œ\" class=\"headerlink\" title=\"æ³¨å†Œ\"></a>æ³¨å†Œ</h3><p><code>app.module.ts</code>ä½¿ç”¨:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [],</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">provide</span>: <span class=\"variable constant_\">APP_GUARD</span>,</span><br><span class=\"line\">      <span class=\"attr\">useClass</span>: <span class=\"title class_\">RepeatSubmitGuard</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ§åˆ¶å±‚ä½¿ç”¨\"><a href=\"#æ§åˆ¶å±‚ä½¿ç”¨\" class=\"headerlink\" title=\"æ§åˆ¶å±‚ä½¿ç”¨\"></a>æ§åˆ¶å±‚ä½¿ç”¨</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Controller</span>, <span class=\"title class_\">Post</span>, <span class=\"title class_\">Body</span>, <span class=\"title class_\">Get</span>, <span class=\"title class_\">Request</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserController</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ·»åŠ è¿™ä¸€è¡Œä»£ç ã€‚å¦‚æœ2sè¯·æ±‚é¢‘ç¹é‚£ä¹ˆå°±ä¼šæç¤º â€œæ“ä½œè¿‡äºé¢‘ç¹â€</span></span><br><span class=\"line\">\t<span class=\"meta\">@RepeatSubmit</span>(&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">interval</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;æ“ä½œè¿‡äºé¢‘ç¹&quot;</span>,</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">\t<span class=\"meta\">@Post</span>(<span class=\"string\">&quot;create&quot;</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"meta\">@Body</span>() <span class=\"attr\">body</span>: &#123; username: <span class=\"built_in\">string</span>; password: <span class=\"built_in\">string</span> &#125;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;success&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ“ä½œæƒé™\"><a href=\"#æ“ä½œæƒé™\" class=\"headerlink\" title=\"æ“ä½œæƒé™\"></a>æ“ä½œæƒé™</h2><h3 id=\"è‡ªå®šä¹‰å…ƒæ•°æ®-1\"><a href=\"#è‡ªå®šä¹‰å…ƒæ•°æ®-1\" class=\"headerlink\" title=\"è‡ªå®šä¹‰å…ƒæ•°æ®\"></a>è‡ªå®šä¹‰å…ƒæ•°æ®</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">PermissionRelationEnum</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable constant_\">AND</span> = <span class=\"string\">&quot;AND&quot;</span>,</span><br><span class=\"line\">\t<span class=\"variable constant_\">OR</span> = <span class=\"string\">&quot;OR&quot;</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">SetMetadata</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">PermissionRelationEnum</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/permission.enum&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">PERMISSION_KEY_METADATA</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../constants/metadata.constant&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">PermissionOption</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">permissionArr</span>: <span class=\"built_in\">string</span>[];</span><br><span class=\"line\">\t<span class=\"attr\">relation</span>: <span class=\"title class_\">PermissionRelationEnum</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">Permission</span> = (<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">\t<span class=\"attr\">permissions</span>: <span class=\"built_in\">string</span> | <span class=\"built_in\">string</span>[],</span></span><br><span class=\"line\"><span class=\"params\">\t<span class=\"attr\">relation</span>: <span class=\"title class_\">PermissionRelationEnum</span> = <span class=\"title class_\">PermissionRelationEnum</span>.OR <span class=\"comment\">// æƒé™çš„å…³ç³»ï¼Œ æ˜¯å¹¶ä¸”è¿˜æ˜¯æˆ–è€…çš„å…³ç³»</span></span></span><br><span class=\"line\"><span class=\"params\"></span>) =&gt; &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> <span class=\"attr\">permissionObj</span>: <span class=\"title class_\">PermissionOption</span> = &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">permissionArr</span>: [],</span><br><span class=\"line\">\t\trelation,</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> permissions === <span class=\"string\">&quot;string&quot;</span>) &#123;</span><br><span class=\"line\">\t\tpermissionObj.<span class=\"property\">permissionArr</span> = [permissions];</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (permissions <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Array</span>) &#123;</span><br><span class=\"line\">\t\tpermissionObj.<span class=\"property\">permissionArr</span> = permissions;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"title class_\">SetMetadata</span>(<span class=\"variable constant_\">PERMISSION_KEY_METADATA</span>, permissionObj);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è‡ªå®šä¹‰å®ˆå«-1\"><a href=\"#è‡ªå®šä¹‰å®ˆå«-1\" class=\"headerlink\" title=\"è‡ªå®šä¹‰å®ˆå«\"></a>è‡ªå®šä¹‰å®ˆå«</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">CanActivate</span>, <span class=\"title class_\">ExecutionContext</span>, <span class=\"title class_\">Injectable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Reflector</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/core&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Observable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;rxjs&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">PermissionOption</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../decorator/permission.decorator&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">PERMISSION_KEY_METADATA</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../constants/metadata.constant&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">PermissionRelationEnum</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/permission.enum&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ApiException</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../exception/api.exception&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HttpStatusCode</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/http.enum&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">PermissionGuard</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">CanActivate</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> <span class=\"attr\">reflector</span>: <span class=\"title class_\">Reflector</span></span>) &#123;&#125;</span><br><span class=\"line\">\t<span class=\"title function_\">canActivate</span>(</span><br><span class=\"line\">\t\t<span class=\"attr\">context</span>: <span class=\"title class_\">ExecutionContext</span></span><br><span class=\"line\">\t): <span class=\"built_in\">boolean</span> | <span class=\"title class_\">Promise</span>&lt;<span class=\"built_in\">boolean</span>&gt; | <span class=\"title class_\">Observable</span>&lt;<span class=\"built_in\">boolean</span>&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> permissionObj = <span class=\"variable language_\">this</span>.<span class=\"property\">reflector</span>.<span class=\"property\">getAllAndOverride</span>&lt;<span class=\"title class_\">PermissionOption</span>&gt;(</span><br><span class=\"line\">\t\t\t<span class=\"variable constant_\">PERMISSION_KEY_METADATA</span>,</span><br><span class=\"line\">\t\t\t[context.<span class=\"title function_\">getHandler</span>(), context.<span class=\"title function_\">getClass</span>()]</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!permissionObj || !permissionObj.<span class=\"property\">permissionArr</span>.<span class=\"property\">length</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> request = context.<span class=\"title function_\">switchToHttp</span>().<span class=\"title function_\">getRequest</span>();</span><br><span class=\"line\">\t\t<span class=\"comment\">// æƒé™æŒ‚è½½åœ¨ç”¨æˆ·ä¿¡å¿ƒä¹‹ä¸Š</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> user = request.<span class=\"property\">user</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> permissions = user?.<span class=\"property\">permissions</span> || [];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (permissions.<span class=\"title function_\">includes</span>(<span class=\"string\">&quot;*&quot;</span>)) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> result = <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (permissionObj.<span class=\"property\">relation</span> === <span class=\"title class_\">PermissionRelationEnum</span>.<span class=\"property\">OR</span>) &#123;</span><br><span class=\"line\">\t\t\tresult = permissionObj.<span class=\"property\">permissionArr</span>.<span class=\"title function_\">some</span>(<span class=\"function\"><span class=\"params\">userPermission</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> permissions.<span class=\"title function_\">includes</span>(userPermission);</span><br><span class=\"line\">\t\t\t&#125;);</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (permissionObj.<span class=\"property\">relation</span> === <span class=\"title class_\">PermissionRelationEnum</span>.<span class=\"property\">AND</span>) &#123;</span><br><span class=\"line\">\t\t\tresult = permissionObj.<span class=\"property\">permissionArr</span>.<span class=\"title function_\">every</span>(<span class=\"function\"><span class=\"params\">userPermission</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> permissions.<span class=\"title function_\">includes</span>(userPermission);</span><br><span class=\"line\">\t\t\t&#125;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!result)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ApiException</span>(</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;æš‚æ— æƒé™è®¿é—®ï¼Œè¯·è”ç³»ç®¡ç†å‘˜&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">UNAUTHORIZED</span></span><br><span class=\"line\">\t\t\t);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> result;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ³¨å†Œ-1\"><a href=\"#æ³¨å†Œ-1\" class=\"headerlink\" title=\"æ³¨å†Œ\"></a>æ³¨å†Œ</h3><p><code>app.module.ts</code>ä½¿ç”¨:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [],</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// æƒé™å®ˆå«</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">provide</span>: <span class=\"variable constant_\">APP_GUARD</span>,</span><br><span class=\"line\">      <span class=\"attr\">useClass</span>: <span class=\"title class_\">PermissionGuard</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ§åˆ¶å±‚ä½¿ç”¨-1\"><a href=\"#æ§åˆ¶å±‚ä½¿ç”¨-1\" class=\"headerlink\" title=\"æ§åˆ¶å±‚ä½¿ç”¨\"></a>æ§åˆ¶å±‚ä½¿ç”¨</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Controller</span>, <span class=\"title class_\">Post</span>, <span class=\"title class_\">Body</span>, <span class=\"title class_\">Get</span>, <span class=\"title class_\">Request</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserController</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ·»åŠ è¿™ä¸€è¡Œä»£ç ã€‚å¦‚æœæ²¡æœ‰æƒé™ ä¼šæç¤º&#x27;æš‚æ— æƒé™è®¿é—®ï¼Œè¯·è”ç³»ç®¡ç†å‘˜&#x27;</span></span><br><span class=\"line\">\t<span class=\"meta\">@Permission</span>([<span class=\"string\">&quot;v1:order:create&quot;</span>], <span class=\"title class_\">PermissionRelationEnum</span>.<span class=\"property\">OR</span>)</span><br><span class=\"line\">\t<span class=\"meta\">@Post</span>(<span class=\"string\">&quot;create&quot;</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"meta\">@Body</span>() <span class=\"attr\">body</span>: &#123; username: <span class=\"built_in\">string</span>; password: <span class=\"built_in\">string</span> &#125;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;success&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ˜¯å¦ç™»å½•\"><a href=\"#æ˜¯å¦ç™»å½•\" class=\"headerlink\" title=\"æ˜¯å¦ç™»å½•\"></a>æ˜¯å¦ç™»å½•</h2><h3 id=\"è‡ªå®šä¹‰å…ƒæ•°æ®-2\"><a href=\"#è‡ªå®šä¹‰å…ƒæ•°æ®-2\" class=\"headerlink\" title=\"è‡ªå®šä¹‰å…ƒæ•°æ®\"></a>è‡ªå®šä¹‰å…ƒæ•°æ®</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">SetMetadata</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">PUBLIC_KEY_METADATA</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../constants/metadata.constant&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">Public</span> = (<span class=\"params\"></span>) =&gt; <span class=\"title class_\">SetMetadata</span>(<span class=\"variable constant_\">PUBLIC_KEY_METADATA</span>, <span class=\"literal\">true</span>);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è‡ªå®šä¹‰å®ˆå«-2\"><a href=\"#è‡ªå®šä¹‰å®ˆå«-2\" class=\"headerlink\" title=\"è‡ªå®šä¹‰å®ˆå«\"></a>è‡ªå®šä¹‰å®ˆå«</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ExecutionContext</span>, <span class=\"title class_\">Injectable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Observable</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;rxjs&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">AuthGuard</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/passport&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Reflector</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/core&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">PUBLIC_KEY_METADATA</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../constants/metadata.constant&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ApiException</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../exception/api.exception&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HttpStatusCode</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../enum/http.enum&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"comment\">// https://github.com/jaredhanson/passport</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">JwtAuthGuard</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">AuthGuard</span>(<span class=\"string\">&quot;jwt&quot;</span>) &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"attr\">reflector</span>: <span class=\"title class_\">Reflector</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">super</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"title function_\">canActivate</span>(</span><br><span class=\"line\">\t\t<span class=\"attr\">context</span>: <span class=\"title class_\">ExecutionContext</span></span><br><span class=\"line\">\t): <span class=\"built_in\">boolean</span> | <span class=\"title class_\">Promise</span>&lt;<span class=\"built_in\">boolean</span>&gt; | <span class=\"title class_\">Observable</span>&lt;<span class=\"built_in\">boolean</span>&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> noInterception = <span class=\"variable language_\">this</span>.<span class=\"property\">reflector</span>.<span class=\"title function_\">getAllAndOverride</span>(</span><br><span class=\"line\">\t\t\t<span class=\"variable constant_\">PUBLIC_KEY_METADATA</span>,</span><br><span class=\"line\">\t\t\t[context.<span class=\"title function_\">getHandler</span>(), context.<span class=\"title function_\">getClass</span>()]</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (noInterception) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"variable language_\">super</span>.<span class=\"title function_\">canActivate</span>(context);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"title function_\">handleRequest</span>(<span class=\"params\"><span class=\"attr\">err</span>: <span class=\"built_in\">any</span>, <span class=\"attr\">user</span>: <span class=\"built_in\">any</span></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (err || !user) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">throw</span> err || <span class=\"keyword\">new</span> <span class=\"title class_\">ApiException</span>(<span class=\"string\">&quot;ç™»å½•çŠ¶æ€å·²è¿‡æœŸ&quot;</span>, <span class=\"title class_\">HttpStatusCode</span>.<span class=\"property\">FORBIDDEN</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> user;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ³¨å†Œ-2\"><a href=\"#æ³¨å†Œ-2\" class=\"headerlink\" title=\"æ³¨å†Œ\"></a>æ³¨å†Œ</h3><p><code>app.module.ts</code>ä½¿ç”¨:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Module</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">imports</span>: [],</span><br><span class=\"line\">  <span class=\"attr\">providers</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// jwtå®ˆå«</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">provide</span>: <span class=\"variable constant_\">APP_GUARD</span>,</span><br><span class=\"line\">      <span class=\"attr\">useClass</span>: <span class=\"title class_\">JwtAuthGuard</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ§åˆ¶å±‚ä½¿ç”¨-2\"><a href=\"#æ§åˆ¶å±‚ä½¿ç”¨-2\" class=\"headerlink\" title=\"æ§åˆ¶å±‚ä½¿ç”¨\"></a>æ§åˆ¶å±‚ä½¿ç”¨</h3><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Controller</span>, <span class=\"title class_\">Post</span>, <span class=\"title class_\">Body</span>, <span class=\"title class_\">Get</span>, <span class=\"title class_\">Request</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@nestjs/common&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserController</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ·»åŠ è¿™ä¸€è¡Œä»£ç ã€‚è¯´æ˜ä¸éœ€è¦tokenæ ¡éªŒ</span></span><br><span class=\"line\">\t<span class=\"meta\">@Public</span>()</span><br><span class=\"line\">\t<span class=\"meta\">@Post</span>(<span class=\"string\">&quot;create&quot;</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"title function_\">create</span>(<span class=\"params\"><span class=\"meta\">@Body</span>() <span class=\"attr\">body</span>: &#123; username: <span class=\"built_in\">string</span>; password: <span class=\"built_in\">string</span> &#125;</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;success&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ³¨æ„ï¼š</p>\n<ol>\n<li><a href=\"/brochure/nest/base/exceptionFilter.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8\"><code>ApiExceptionæ˜¯ä»€ä¹ˆå¯ä»¥æŸ¥çœ‹ å¼‚å¸¸è¿‡æ»¤å™¨</code></a></li>\n<li><a href=\"/brochure/nest/base/database.html#redis\"><code>Redisä½¿ç”¨</code></a></li>\n<li><a href=\"/brochure/nest/base/jwt\"><code>JWTä½¿ç”¨</code></a></li>\n</ol>\n"},{"title":"createdå’Œmountedçš„åŒºåˆ«","abbrlink":"87869eae","date":"2024-04-14T03:20:38.000Z","_content":"\n\n{% note info simple %}\n`Vue`ä¸­çš„`created`å’Œ`mounted`åœ¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­æ‰¿æ‹…äº†ä¸åŒçš„è§’è‰², ä»–ä»¬åˆ†åˆ«åœ¨ç»„ä»¶çš„ä¸åŒé˜¶æ®µè°ƒç”¨ï¼Œåˆ†åˆ«å¯¹åº”è¿™ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒçŠ¶æ€ã€‚\n{% endnote %}\n\n## è°ƒç”¨æ—¶æœº\n\n1. `created`åœ¨ç»„ä»¶å®ä¾‹åˆ›å»ºåç«‹å³è°ƒç”¨ï¼Œæ­¤æ—¶å·²ç»å®Œæˆæ¨¡æ¿ç¼–è¯‘ã€æ•°æ®è§‚æµ‹ï¼ˆdata observerï¼‰ã€å±æ€§æ³¨å…¥ï¼ˆpropsï¼‰ä»¥åŠè®¡ç®—å±æ€§/computedã€æ–¹æ³•/watcher çš„è®¾ç½®ç­‰å·¥ä½œã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œç»„ä»¶çš„å±æ€§å’Œæ•°æ®å·²ç»ç»‘å®šï¼Œä½†æ˜¯ DOM è¿˜æœªç”Ÿæˆï¼Œä¹Ÿå°±æ˜¯`html`æ ‡ç­¾è¿˜æœªæŒ‚åœ¨åœ¨é¡µé¢ä¸Š;\n2. `mouted`åœ¨ç»„ä»¶æŒ‚è½½å®Œæˆä¹‹åè°ƒç”¨ï¼Œæ­¤æ—¶ DOM å·²ç»ç”Ÿæˆï¼Œç»„ä»¶å·²ç»æŒ‚è½½åˆ°é¡µé¢ä¸Šï¼Œå¯ä»¥é€šè¿‡`this.$el`è·å–ç»„ä»¶çš„æ ¹å…ƒç´ ã€‚æˆ‘ä»¬é€šå¸¸æƒ³è¦è·å–æŸä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨`mounted`ä¸­è·å–ã€‚\n\n## ä½¿ç”¨åœºæ™¯\n\n1. `created`å¸¸ç”¨äºè¿›è¡Œé DOM ä¾èµ–çš„åˆå§‹åŒ–å·¥ä½œï¼š\n\n   - æ•°æ®çš„é¢„å¤„ç†æˆ–é»˜è®¤å€¼è®¾ç½®ï¼Œ ä¸€èˆ¬åˆå§‹åŒ–æ“ä½œã€‚\n   - å‘èµ·å¼‚æ­¥è¯·æ±‚ä»¥è·å–æ•°æ®ï¼ˆå¦‚æœä¸éœ€è¦ç­‰å¾… DOM å°±ç»ªå°±å¯ä»¥å¼€å§‹ï¼‰ã€‚\n   - æ³¨å†Œå…¨å±€äº‹ä»¶ç›‘å¬å™¨æˆ–æ’ä»¶ã€‚\n   - å¦‚æœæœ‰å…¶ä»–ç»„ä»¶ä¾èµ–äºæ­¤ç»„ä»¶çš„çŠ¶æ€ï¼Œé‚£ä¹ˆåœ¨ `created` é˜¶æ®µè®¾ç½®å¥½è¿™äº›çŠ¶æ€å¯ä»¥è®©ä¾èµ–ç»„ä»¶æ›´å¿«åœ°å¾—åˆ°æ›´æ–°ã€‚\n\n2. `mounted`é€‚åˆè¿›è¡Œä¸ DOM ç›¸å…³çš„æ“ä½œæˆ–ç¬¬ä¸‰æ–¹åº“çš„åˆå§‹åŒ–ï¼Œå¦‚ï¼š\n   - æ“ä½œç»„ä»¶æœ¬èº«æˆ–å…¶å­ç»„ä»¶çš„ DOM èŠ‚ç‚¹ã€‚\n   - åˆå§‹åŒ–éœ€è¦çœŸå® DOM çš„ç¬¬ä¸‰æ–¹åº“æˆ–æ’ä»¶ï¼ˆå¦‚åœ°å›¾ç»„ä»¶ã€å›¾è¡¨åº“ã€å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ç­‰ï¼‰ã€‚\n   - æ‰§è¡Œä¾èµ–äº DOM å°ºå¯¸ã€ä½ç½®æˆ–å…¶ä»–è®¡ç®—çš„ JavaScript åº“æˆ– CSS åŠ¨ç”»ã€‚\n   - å¦‚æœæœ‰éœ€è¦åœ¨ DOM åŠ è½½åæ‰è¿›è¡Œçš„å¼‚æ­¥æ“ä½œï¼ˆæ¯”å¦‚åŸºäºæŸä¸ª DOM å…ƒç´ å°ºå¯¸çš„è®¡ç®—æˆ–æ“ä½œï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨ mounted ä¸­è¿›è¡Œã€‚\n\n## ç”Ÿå‘½å‘¨æœŸå½±å“ï¼š\n\n1. `created` åªä¼šåœ¨ç»„ä»¶å®ä¾‹é¦–æ¬¡è¢«åˆ›å»ºæ—¶æ‰§è¡Œä¸€æ¬¡ã€‚å¦‚æœç»„ä»¶å› ä¸ºè·¯ç”±åˆ‡æ¢ã€æ¡ä»¶æ€§æ¸²æŸ“ç­‰åŸå› è¢«é”€æ¯åå†æ¬¡åˆ›å»ºï¼Œ`created` ä»ç„¶ä¼šå†æ¬¡æ‰§è¡Œã€‚\n2. `mounted `ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ¯æ¬¡ç»„ä»¶è¢«æŒ‚è½½åˆ° DOM ä¸­æ—¶éƒ½ä¼šè§¦å‘ã€‚å› æ­¤ï¼Œåœ¨å•é¡µåº”ç”¨ä¸­ï¼Œå½“è·¯ç”±åˆ‡æ¢å¯¼è‡´ç»„ä»¶è¢«å¸è½½ååˆé‡æ–°è¿›å…¥è§†å›¾æ—¶ï¼Œ`mounted` é’©å­ä¼šå†æ¬¡æ‰§è¡Œã€‚\n\n## æ€»ç»“ï¼š\n\n1. `created`ä¸€èˆ¬ç”¨äºåˆå§‹åŒ–æ“ä½œ, å¦‚ï¼šæ•°æ®é¢„å¤„ç†ç­‰ï¼›é€‚åˆå¤„ç†æ•°æ®åˆå§‹åŒ–å’Œé `DOM` ç›¸å…³çš„ä»»åŠ¡ã€‚\n2. `mounted`åœ¨å®ä¾‹æŒ‚è½½åˆ° DOM åè¢«è°ƒç”¨ï¼Œé€‚åˆè¿›è¡Œ DOM æ“ä½œã€åˆå§‹åŒ–ç¬¬ä¸‰æ–¹åº“å’Œç»‘å®šäº‹ä»¶ç›‘å¬ã€‚\n","source":"_posts/æŠ€èƒ½å°å†Œ/vue/createdå’Œmountedçš„åŒºåˆ«.md","raw":"---\ntitle: createdå’Œmountedçš„åŒºåˆ«\nabbrlink: 87869eae\ndate: 2024-04-14 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Vue \n---\n\n\n{% note info simple %}\n`Vue`ä¸­çš„`created`å’Œ`mounted`åœ¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­æ‰¿æ‹…äº†ä¸åŒçš„è§’è‰², ä»–ä»¬åˆ†åˆ«åœ¨ç»„ä»¶çš„ä¸åŒé˜¶æ®µè°ƒç”¨ï¼Œåˆ†åˆ«å¯¹åº”è¿™ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒçŠ¶æ€ã€‚\n{% endnote %}\n\n## è°ƒç”¨æ—¶æœº\n\n1. `created`åœ¨ç»„ä»¶å®ä¾‹åˆ›å»ºåç«‹å³è°ƒç”¨ï¼Œæ­¤æ—¶å·²ç»å®Œæˆæ¨¡æ¿ç¼–è¯‘ã€æ•°æ®è§‚æµ‹ï¼ˆdata observerï¼‰ã€å±æ€§æ³¨å…¥ï¼ˆpropsï¼‰ä»¥åŠè®¡ç®—å±æ€§/computedã€æ–¹æ³•/watcher çš„è®¾ç½®ç­‰å·¥ä½œã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œç»„ä»¶çš„å±æ€§å’Œæ•°æ®å·²ç»ç»‘å®šï¼Œä½†æ˜¯ DOM è¿˜æœªç”Ÿæˆï¼Œä¹Ÿå°±æ˜¯`html`æ ‡ç­¾è¿˜æœªæŒ‚åœ¨åœ¨é¡µé¢ä¸Š;\n2. `mouted`åœ¨ç»„ä»¶æŒ‚è½½å®Œæˆä¹‹åè°ƒç”¨ï¼Œæ­¤æ—¶ DOM å·²ç»ç”Ÿæˆï¼Œç»„ä»¶å·²ç»æŒ‚è½½åˆ°é¡µé¢ä¸Šï¼Œå¯ä»¥é€šè¿‡`this.$el`è·å–ç»„ä»¶çš„æ ¹å…ƒç´ ã€‚æˆ‘ä»¬é€šå¸¸æƒ³è¦è·å–æŸä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨`mounted`ä¸­è·å–ã€‚\n\n## ä½¿ç”¨åœºæ™¯\n\n1. `created`å¸¸ç”¨äºè¿›è¡Œé DOM ä¾èµ–çš„åˆå§‹åŒ–å·¥ä½œï¼š\n\n   - æ•°æ®çš„é¢„å¤„ç†æˆ–é»˜è®¤å€¼è®¾ç½®ï¼Œ ä¸€èˆ¬åˆå§‹åŒ–æ“ä½œã€‚\n   - å‘èµ·å¼‚æ­¥è¯·æ±‚ä»¥è·å–æ•°æ®ï¼ˆå¦‚æœä¸éœ€è¦ç­‰å¾… DOM å°±ç»ªå°±å¯ä»¥å¼€å§‹ï¼‰ã€‚\n   - æ³¨å†Œå…¨å±€äº‹ä»¶ç›‘å¬å™¨æˆ–æ’ä»¶ã€‚\n   - å¦‚æœæœ‰å…¶ä»–ç»„ä»¶ä¾èµ–äºæ­¤ç»„ä»¶çš„çŠ¶æ€ï¼Œé‚£ä¹ˆåœ¨ `created` é˜¶æ®µè®¾ç½®å¥½è¿™äº›çŠ¶æ€å¯ä»¥è®©ä¾èµ–ç»„ä»¶æ›´å¿«åœ°å¾—åˆ°æ›´æ–°ã€‚\n\n2. `mounted`é€‚åˆè¿›è¡Œä¸ DOM ç›¸å…³çš„æ“ä½œæˆ–ç¬¬ä¸‰æ–¹åº“çš„åˆå§‹åŒ–ï¼Œå¦‚ï¼š\n   - æ“ä½œç»„ä»¶æœ¬èº«æˆ–å…¶å­ç»„ä»¶çš„ DOM èŠ‚ç‚¹ã€‚\n   - åˆå§‹åŒ–éœ€è¦çœŸå® DOM çš„ç¬¬ä¸‰æ–¹åº“æˆ–æ’ä»¶ï¼ˆå¦‚åœ°å›¾ç»„ä»¶ã€å›¾è¡¨åº“ã€å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ç­‰ï¼‰ã€‚\n   - æ‰§è¡Œä¾èµ–äº DOM å°ºå¯¸ã€ä½ç½®æˆ–å…¶ä»–è®¡ç®—çš„ JavaScript åº“æˆ– CSS åŠ¨ç”»ã€‚\n   - å¦‚æœæœ‰éœ€è¦åœ¨ DOM åŠ è½½åæ‰è¿›è¡Œçš„å¼‚æ­¥æ“ä½œï¼ˆæ¯”å¦‚åŸºäºæŸä¸ª DOM å…ƒç´ å°ºå¯¸çš„è®¡ç®—æˆ–æ“ä½œï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨ mounted ä¸­è¿›è¡Œã€‚\n\n## ç”Ÿå‘½å‘¨æœŸå½±å“ï¼š\n\n1. `created` åªä¼šåœ¨ç»„ä»¶å®ä¾‹é¦–æ¬¡è¢«åˆ›å»ºæ—¶æ‰§è¡Œä¸€æ¬¡ã€‚å¦‚æœç»„ä»¶å› ä¸ºè·¯ç”±åˆ‡æ¢ã€æ¡ä»¶æ€§æ¸²æŸ“ç­‰åŸå› è¢«é”€æ¯åå†æ¬¡åˆ›å»ºï¼Œ`created` ä»ç„¶ä¼šå†æ¬¡æ‰§è¡Œã€‚\n2. `mounted `ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ¯æ¬¡ç»„ä»¶è¢«æŒ‚è½½åˆ° DOM ä¸­æ—¶éƒ½ä¼šè§¦å‘ã€‚å› æ­¤ï¼Œåœ¨å•é¡µåº”ç”¨ä¸­ï¼Œå½“è·¯ç”±åˆ‡æ¢å¯¼è‡´ç»„ä»¶è¢«å¸è½½ååˆé‡æ–°è¿›å…¥è§†å›¾æ—¶ï¼Œ`mounted` é’©å­ä¼šå†æ¬¡æ‰§è¡Œã€‚\n\n## æ€»ç»“ï¼š\n\n1. `created`ä¸€èˆ¬ç”¨äºåˆå§‹åŒ–æ“ä½œ, å¦‚ï¼šæ•°æ®é¢„å¤„ç†ç­‰ï¼›é€‚åˆå¤„ç†æ•°æ®åˆå§‹åŒ–å’Œé `DOM` ç›¸å…³çš„ä»»åŠ¡ã€‚\n2. `mounted`åœ¨å®ä¾‹æŒ‚è½½åˆ° DOM åè¢«è°ƒç”¨ï¼Œé€‚åˆè¿›è¡Œ DOM æ“ä½œã€åˆå§‹åŒ–ç¬¬ä¸‰æ–¹åº“å’Œç»‘å®šäº‹ä»¶ç›‘å¬ã€‚\n","slug":"æŠ€èƒ½å°å†Œ/vue/createdå’Œmountedçš„åŒºåˆ«","published":1,"updated":"2025-03-12T09:27:28.357Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j0003xfg9mecrc2esz","content":"<div class=\"note info simple\"><p><code>Vue</code>ä¸­çš„<code>created</code>å’Œ<code>mounted</code>åœ¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­æ‰¿æ‹…äº†ä¸åŒçš„è§’è‰², ä»–ä»¬åˆ†åˆ«åœ¨ç»„ä»¶çš„ä¸åŒé˜¶æ®µè°ƒç”¨ï¼Œåˆ†åˆ«å¯¹åº”è¿™ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒçŠ¶æ€ã€‚</p>\n</div>\n\n<h2 id=\"è°ƒç”¨æ—¶æœº\"><a href=\"#è°ƒç”¨æ—¶æœº\" class=\"headerlink\" title=\"è°ƒç”¨æ—¶æœº\"></a>è°ƒç”¨æ—¶æœº</h2><ol>\n<li><code>created</code>åœ¨ç»„ä»¶å®ä¾‹åˆ›å»ºåç«‹å³è°ƒç”¨ï¼Œæ­¤æ—¶å·²ç»å®Œæˆæ¨¡æ¿ç¼–è¯‘ã€æ•°æ®è§‚æµ‹ï¼ˆdata observerï¼‰ã€å±æ€§æ³¨å…¥ï¼ˆpropsï¼‰ä»¥åŠè®¡ç®—å±æ€§&#x2F;computedã€æ–¹æ³•&#x2F;watcher çš„è®¾ç½®ç­‰å·¥ä½œã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œç»„ä»¶çš„å±æ€§å’Œæ•°æ®å·²ç»ç»‘å®šï¼Œä½†æ˜¯ DOM è¿˜æœªç”Ÿæˆï¼Œä¹Ÿå°±æ˜¯<code>html</code>æ ‡ç­¾è¿˜æœªæŒ‚åœ¨åœ¨é¡µé¢ä¸Š;</li>\n<li><code>mouted</code>åœ¨ç»„ä»¶æŒ‚è½½å®Œæˆä¹‹åè°ƒç”¨ï¼Œæ­¤æ—¶ DOM å·²ç»ç”Ÿæˆï¼Œç»„ä»¶å·²ç»æŒ‚è½½åˆ°é¡µé¢ä¸Šï¼Œå¯ä»¥é€šè¿‡<code>this.$el</code>è·å–ç»„ä»¶çš„æ ¹å…ƒç´ ã€‚æˆ‘ä»¬é€šå¸¸æƒ³è¦è·å–æŸä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨<code>mounted</code>ä¸­è·å–ã€‚</li>\n</ol>\n<h2 id=\"ä½¿ç”¨åœºæ™¯\"><a href=\"#ä½¿ç”¨åœºæ™¯\" class=\"headerlink\" title=\"ä½¿ç”¨åœºæ™¯\"></a>ä½¿ç”¨åœºæ™¯</h2><ol>\n<li><p><code>created</code>å¸¸ç”¨äºè¿›è¡Œé DOM ä¾èµ–çš„åˆå§‹åŒ–å·¥ä½œï¼š</p>\n<ul>\n<li>æ•°æ®çš„é¢„å¤„ç†æˆ–é»˜è®¤å€¼è®¾ç½®ï¼Œ ä¸€èˆ¬åˆå§‹åŒ–æ“ä½œã€‚</li>\n<li>å‘èµ·å¼‚æ­¥è¯·æ±‚ä»¥è·å–æ•°æ®ï¼ˆå¦‚æœä¸éœ€è¦ç­‰å¾… DOM å°±ç»ªå°±å¯ä»¥å¼€å§‹ï¼‰ã€‚</li>\n<li>æ³¨å†Œå…¨å±€äº‹ä»¶ç›‘å¬å™¨æˆ–æ’ä»¶ã€‚</li>\n<li>å¦‚æœæœ‰å…¶ä»–ç»„ä»¶ä¾èµ–äºæ­¤ç»„ä»¶çš„çŠ¶æ€ï¼Œé‚£ä¹ˆåœ¨ <code>created</code> é˜¶æ®µè®¾ç½®å¥½è¿™äº›çŠ¶æ€å¯ä»¥è®©ä¾èµ–ç»„ä»¶æ›´å¿«åœ°å¾—åˆ°æ›´æ–°ã€‚</li>\n</ul>\n</li>\n<li><p><code>mounted</code>é€‚åˆè¿›è¡Œä¸ DOM ç›¸å…³çš„æ“ä½œæˆ–ç¬¬ä¸‰æ–¹åº“çš„åˆå§‹åŒ–ï¼Œå¦‚ï¼š</p>\n<ul>\n<li>æ“ä½œç»„ä»¶æœ¬èº«æˆ–å…¶å­ç»„ä»¶çš„ DOM èŠ‚ç‚¹ã€‚</li>\n<li>åˆå§‹åŒ–éœ€è¦çœŸå® DOM çš„ç¬¬ä¸‰æ–¹åº“æˆ–æ’ä»¶ï¼ˆå¦‚åœ°å›¾ç»„ä»¶ã€å›¾è¡¨åº“ã€å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ç­‰ï¼‰ã€‚</li>\n<li>æ‰§è¡Œä¾èµ–äº DOM å°ºå¯¸ã€ä½ç½®æˆ–å…¶ä»–è®¡ç®—çš„ JavaScript åº“æˆ– CSS åŠ¨ç”»ã€‚</li>\n<li>å¦‚æœæœ‰éœ€è¦åœ¨ DOM åŠ è½½åæ‰è¿›è¡Œçš„å¼‚æ­¥æ“ä½œï¼ˆæ¯”å¦‚åŸºäºæŸä¸ª DOM å…ƒç´ å°ºå¯¸çš„è®¡ç®—æˆ–æ“ä½œï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨ mounted ä¸­è¿›è¡Œã€‚</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"ç”Ÿå‘½å‘¨æœŸå½±å“ï¼š\"><a href=\"#ç”Ÿå‘½å‘¨æœŸå½±å“ï¼š\" class=\"headerlink\" title=\"ç”Ÿå‘½å‘¨æœŸå½±å“ï¼š\"></a>ç”Ÿå‘½å‘¨æœŸå½±å“ï¼š</h2><ol>\n<li><code>created</code> åªä¼šåœ¨ç»„ä»¶å®ä¾‹é¦–æ¬¡è¢«åˆ›å»ºæ—¶æ‰§è¡Œä¸€æ¬¡ã€‚å¦‚æœç»„ä»¶å› ä¸ºè·¯ç”±åˆ‡æ¢ã€æ¡ä»¶æ€§æ¸²æŸ“ç­‰åŸå› è¢«é”€æ¯åå†æ¬¡åˆ›å»ºï¼Œ<code>created</code> ä»ç„¶ä¼šå†æ¬¡æ‰§è¡Œã€‚</li>\n<li><code>mounted </code>ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ¯æ¬¡ç»„ä»¶è¢«æŒ‚è½½åˆ° DOM ä¸­æ—¶éƒ½ä¼šè§¦å‘ã€‚å› æ­¤ï¼Œåœ¨å•é¡µåº”ç”¨ä¸­ï¼Œå½“è·¯ç”±åˆ‡æ¢å¯¼è‡´ç»„ä»¶è¢«å¸è½½ååˆé‡æ–°è¿›å…¥è§†å›¾æ—¶ï¼Œ<code>mounted</code> é’©å­ä¼šå†æ¬¡æ‰§è¡Œã€‚</li>\n</ol>\n<h2 id=\"æ€»ç»“ï¼š\"><a href=\"#æ€»ç»“ï¼š\" class=\"headerlink\" title=\"æ€»ç»“ï¼š\"></a>æ€»ç»“ï¼š</h2><ol>\n<li><code>created</code>ä¸€èˆ¬ç”¨äºåˆå§‹åŒ–æ“ä½œ, å¦‚ï¼šæ•°æ®é¢„å¤„ç†ç­‰ï¼›é€‚åˆå¤„ç†æ•°æ®åˆå§‹åŒ–å’Œé <code>DOM</code> ç›¸å…³çš„ä»»åŠ¡ã€‚</li>\n<li><code>mounted</code>åœ¨å®ä¾‹æŒ‚è½½åˆ° DOM åè¢«è°ƒç”¨ï¼Œé€‚åˆè¿›è¡Œ DOM æ“ä½œã€åˆå§‹åŒ–ç¬¬ä¸‰æ–¹åº“å’Œç»‘å®šäº‹ä»¶ç›‘å¬ã€‚</li>\n</ol>\n","excerpt":"","more":"<div class=\"note info simple\"><p><code>Vue</code>ä¸­çš„<code>created</code>å’Œ<code>mounted</code>åœ¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­æ‰¿æ‹…äº†ä¸åŒçš„è§’è‰², ä»–ä»¬åˆ†åˆ«åœ¨ç»„ä»¶çš„ä¸åŒé˜¶æ®µè°ƒç”¨ï¼Œåˆ†åˆ«å¯¹åº”è¿™ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒçŠ¶æ€ã€‚</p>\n</div>\n\n<h2 id=\"è°ƒç”¨æ—¶æœº\"><a href=\"#è°ƒç”¨æ—¶æœº\" class=\"headerlink\" title=\"è°ƒç”¨æ—¶æœº\"></a>è°ƒç”¨æ—¶æœº</h2><ol>\n<li><code>created</code>åœ¨ç»„ä»¶å®ä¾‹åˆ›å»ºåç«‹å³è°ƒç”¨ï¼Œæ­¤æ—¶å·²ç»å®Œæˆæ¨¡æ¿ç¼–è¯‘ã€æ•°æ®è§‚æµ‹ï¼ˆdata observerï¼‰ã€å±æ€§æ³¨å…¥ï¼ˆpropsï¼‰ä»¥åŠè®¡ç®—å±æ€§&#x2F;computedã€æ–¹æ³•&#x2F;watcher çš„è®¾ç½®ç­‰å·¥ä½œã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œç»„ä»¶çš„å±æ€§å’Œæ•°æ®å·²ç»ç»‘å®šï¼Œä½†æ˜¯ DOM è¿˜æœªç”Ÿæˆï¼Œä¹Ÿå°±æ˜¯<code>html</code>æ ‡ç­¾è¿˜æœªæŒ‚åœ¨åœ¨é¡µé¢ä¸Š;</li>\n<li><code>mouted</code>åœ¨ç»„ä»¶æŒ‚è½½å®Œæˆä¹‹åè°ƒç”¨ï¼Œæ­¤æ—¶ DOM å·²ç»ç”Ÿæˆï¼Œç»„ä»¶å·²ç»æŒ‚è½½åˆ°é¡µé¢ä¸Šï¼Œå¯ä»¥é€šè¿‡<code>this.$el</code>è·å–ç»„ä»¶çš„æ ¹å…ƒç´ ã€‚æˆ‘ä»¬é€šå¸¸æƒ³è¦è·å–æŸä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨<code>mounted</code>ä¸­è·å–ã€‚</li>\n</ol>\n<h2 id=\"ä½¿ç”¨åœºæ™¯\"><a href=\"#ä½¿ç”¨åœºæ™¯\" class=\"headerlink\" title=\"ä½¿ç”¨åœºæ™¯\"></a>ä½¿ç”¨åœºæ™¯</h2><ol>\n<li><p><code>created</code>å¸¸ç”¨äºè¿›è¡Œé DOM ä¾èµ–çš„åˆå§‹åŒ–å·¥ä½œï¼š</p>\n<ul>\n<li>æ•°æ®çš„é¢„å¤„ç†æˆ–é»˜è®¤å€¼è®¾ç½®ï¼Œ ä¸€èˆ¬åˆå§‹åŒ–æ“ä½œã€‚</li>\n<li>å‘èµ·å¼‚æ­¥è¯·æ±‚ä»¥è·å–æ•°æ®ï¼ˆå¦‚æœä¸éœ€è¦ç­‰å¾… DOM å°±ç»ªå°±å¯ä»¥å¼€å§‹ï¼‰ã€‚</li>\n<li>æ³¨å†Œå…¨å±€äº‹ä»¶ç›‘å¬å™¨æˆ–æ’ä»¶ã€‚</li>\n<li>å¦‚æœæœ‰å…¶ä»–ç»„ä»¶ä¾èµ–äºæ­¤ç»„ä»¶çš„çŠ¶æ€ï¼Œé‚£ä¹ˆåœ¨ <code>created</code> é˜¶æ®µè®¾ç½®å¥½è¿™äº›çŠ¶æ€å¯ä»¥è®©ä¾èµ–ç»„ä»¶æ›´å¿«åœ°å¾—åˆ°æ›´æ–°ã€‚</li>\n</ul>\n</li>\n<li><p><code>mounted</code>é€‚åˆè¿›è¡Œä¸ DOM ç›¸å…³çš„æ“ä½œæˆ–ç¬¬ä¸‰æ–¹åº“çš„åˆå§‹åŒ–ï¼Œå¦‚ï¼š</p>\n<ul>\n<li>æ“ä½œç»„ä»¶æœ¬èº«æˆ–å…¶å­ç»„ä»¶çš„ DOM èŠ‚ç‚¹ã€‚</li>\n<li>åˆå§‹åŒ–éœ€è¦çœŸå® DOM çš„ç¬¬ä¸‰æ–¹åº“æˆ–æ’ä»¶ï¼ˆå¦‚åœ°å›¾ç»„ä»¶ã€å›¾è¡¨åº“ã€å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ç­‰ï¼‰ã€‚</li>\n<li>æ‰§è¡Œä¾èµ–äº DOM å°ºå¯¸ã€ä½ç½®æˆ–å…¶ä»–è®¡ç®—çš„ JavaScript åº“æˆ– CSS åŠ¨ç”»ã€‚</li>\n<li>å¦‚æœæœ‰éœ€è¦åœ¨ DOM åŠ è½½åæ‰è¿›è¡Œçš„å¼‚æ­¥æ“ä½œï¼ˆæ¯”å¦‚åŸºäºæŸä¸ª DOM å…ƒç´ å°ºå¯¸çš„è®¡ç®—æˆ–æ“ä½œï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨ mounted ä¸­è¿›è¡Œã€‚</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"ç”Ÿå‘½å‘¨æœŸå½±å“ï¼š\"><a href=\"#ç”Ÿå‘½å‘¨æœŸå½±å“ï¼š\" class=\"headerlink\" title=\"ç”Ÿå‘½å‘¨æœŸå½±å“ï¼š\"></a>ç”Ÿå‘½å‘¨æœŸå½±å“ï¼š</h2><ol>\n<li><code>created</code> åªä¼šåœ¨ç»„ä»¶å®ä¾‹é¦–æ¬¡è¢«åˆ›å»ºæ—¶æ‰§è¡Œä¸€æ¬¡ã€‚å¦‚æœç»„ä»¶å› ä¸ºè·¯ç”±åˆ‡æ¢ã€æ¡ä»¶æ€§æ¸²æŸ“ç­‰åŸå› è¢«é”€æ¯åå†æ¬¡åˆ›å»ºï¼Œ<code>created</code> ä»ç„¶ä¼šå†æ¬¡æ‰§è¡Œã€‚</li>\n<li><code>mounted </code>ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ¯æ¬¡ç»„ä»¶è¢«æŒ‚è½½åˆ° DOM ä¸­æ—¶éƒ½ä¼šè§¦å‘ã€‚å› æ­¤ï¼Œåœ¨å•é¡µåº”ç”¨ä¸­ï¼Œå½“è·¯ç”±åˆ‡æ¢å¯¼è‡´ç»„ä»¶è¢«å¸è½½ååˆé‡æ–°è¿›å…¥è§†å›¾æ—¶ï¼Œ<code>mounted</code> é’©å­ä¼šå†æ¬¡æ‰§è¡Œã€‚</li>\n</ol>\n<h2 id=\"æ€»ç»“ï¼š\"><a href=\"#æ€»ç»“ï¼š\" class=\"headerlink\" title=\"æ€»ç»“ï¼š\"></a>æ€»ç»“ï¼š</h2><ol>\n<li><code>created</code>ä¸€èˆ¬ç”¨äºåˆå§‹åŒ–æ“ä½œ, å¦‚ï¼šæ•°æ®é¢„å¤„ç†ç­‰ï¼›é€‚åˆå¤„ç†æ•°æ®åˆå§‹åŒ–å’Œé <code>DOM</code> ç›¸å…³çš„ä»»åŠ¡ã€‚</li>\n<li><code>mounted</code>åœ¨å®ä¾‹æŒ‚è½½åˆ° DOM åè¢«è°ƒç”¨ï¼Œé€‚åˆè¿›è¡Œ DOM æ“ä½œã€åˆå§‹åŒ–ç¬¬ä¸‰æ–¹åº“å’Œç»‘å®šäº‹ä»¶ç›‘å¬ã€‚</li>\n</ol>\n"},{"title":"v-forå’Œv-ifä¸èƒ½åŒæ—¶ä½¿ç”¨","abbrlink":"4237922f","date":"2024-04-14T03:20:38.000Z","_content":"\n{% note info simple %}\nVue ä¸­ `v-for å’Œ v-if` ä¸å»ºè®®åŒæ—¶ç›´æ¥åº”ç”¨äºåŒä¸€å…ƒç´ çš„åŸå› ä¸»è¦æ¶‰åŠä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š\n{% endnote %}\n\n\n## ä¼˜å…ˆçº§é—®é¢˜\n\n1. **Vue 2.x** åœ¨æ—©æœŸçš„ Vue 2 ç‰ˆæœ¬ä¸­ï¼Œv-for æŒ‡ä»¤çš„ä¼˜å…ˆçº§é«˜äº v-ifã€‚è¿™æ„å‘³ç€å³ä½¿ v-if çš„æ¡ä»¶å¯èƒ½è¿‡æ»¤æ‰å¤§éƒ¨åˆ†é¡¹ï¼Œv-for ä»ç„¶ä¼šå…ˆéå†æ•´ä¸ªåˆ—è¡¨ã€‚å³ä¾¿æœ€ç»ˆåªæœ‰å°‘æ•°å‡ é¡¹ï¼ˆç”šè‡³ä¸€é¡¹ï¼‰éœ€è¦æ¸²æŸ“ï¼Œä¹Ÿä¼šå¯¼è‡´å¯¹æ•´ä¸ªåˆ—è¡¨è¿›è¡Œæ— è°“çš„è¿­ä»£å’Œæ¡ä»¶åˆ¤æ–­ï¼Œä»è€Œé€ æˆæ€§èƒ½æµªè´¹ã€‚\n\n2. **Vue 3.x**Vue 3 å¯¹è¿™ä¸€è¡Œä¸ºè¿›è¡Œäº†è°ƒæ•´ï¼Œä½¿å¾— v-if çš„ä¼˜å…ˆçº§é«˜äº v-forã€‚è™½ç„¶è¿™è§£å†³äº†ä¹‹å‰ç‰ˆæœ¬ä¸­ä¸å¿…è¦çš„éå†é—®é¢˜ï¼Œä½†æ–°çš„é—®é¢˜éšä¹‹å‡ºç°ï¼šå¦‚æœ v-if å…ˆäº v-for æ‰§è¡Œï¼Œå®ƒå¯èƒ½ä¼šå°è¯•è®¿é—®ç”± v-for å¾ªç¯å°šæœªåˆ›å»ºçš„å˜é‡ï¼Œå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚è¿™æ˜¯å› ä¸º v-if åœ¨æ²¡æœ‰å¾ªç¯ä¸Šä¸‹æ–‡çš„æƒ…å†µä¸‹æ— æ³•æ­£ç¡®è¯„ä¼°å…¶æ¡ä»¶è¡¨è¾¾å¼ã€‚\n\n## æ€§èƒ½ä¸æ•ˆç‡\n\nå½“ v-if å’Œ v-for åŒæ—¶ä½œç”¨äºä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæ— è®ºä¼˜å…ˆçº§å¦‚ä½•ï¼Œéƒ½å¯èƒ½å¯¼è‡´ä¸å¿…è¦çš„è®¡ç®—ã€‚åœ¨ Vue 2 ä¸­ï¼Œå³ä½¿ v-if æ¡ä»¶ä»…ç­›é€‰å‡ºåˆ—è¡¨çš„ä¸€å°éƒ¨åˆ†ï¼Œä¹Ÿå¿…é¡»éå†æ•´ä¸ªåˆ—è¡¨ã€‚åœ¨ Vue 3 ä¸­ï¼Œå°½ç®¡é¿å…äº†è¿™ç§éå†ï¼Œä½†è‹¥ v-if ä¾èµ–äºå¾ªç¯å˜é‡ï¼Œå¯èƒ½ä¼šè§¦å‘é”™è¯¯æˆ–å¯¼è‡´éš¾ä»¥é¢„æ–™çš„è¡Œä¸ºã€‚\n\n## æœ€ä½³å®è·µä¸å®˜æ–¹æŒ‡å¯¼\n\nVue å®˜æ–¹æ–‡æ¡£æ˜ç¡®æŒ‡å‡ºä¸åº”åœ¨åŒä¸€å…ƒç´ ä¸ŠåŒæ—¶ä½¿ç”¨ v-if å’Œ v-forã€‚è¿™æ˜¯å› ä¸ºè¿™æ ·çš„ç”¨æ³•é€šå¸¸æš—ç¤ºäº†é€»è¾‘ç»„ç»‡ä¸Šçš„ä¸è¶³ï¼Œä¸”å®¹æ˜“å¼•å‘ä¸Šè¿°æ€§èƒ½é—®é¢˜æˆ–è¿è¡Œæ—¶é”™è¯¯ã€‚éµå¾ªæœ€ä½³å®è·µæœ‰åŠ©äºç¼–å†™æ›´æ¸…æ™°ã€æ›´é«˜æ•ˆçš„ä»£ç ã€‚\n\n## è§£å†³æ–¹æ¡ˆä¸æ›¿ä»£ç­–ç•¥\n\né’ˆå¯¹ `v-if å’Œ v-for` éœ€è¦åœ¨é€»è¾‘ä¸Šç»“åˆä½¿ç”¨çš„æƒ…å†µï¼Œæ¨èä»¥ä¸‹ä¸¤ç§æ›¿ä»£æ–¹æ¡ˆï¼š\n\n- åœ¨å¤–éƒ¨å®¹å™¨å…ƒç´ ä¸Šä½¿ç”¨ v-ifï¼šå°† v-if ç§»åŠ¨åˆ°åŒ…å« v-for å¾ªç¯çš„çˆ¶å…ƒç´ ä¸Šï¼Œè¿™æ ·å¯ä»¥åœ¨å¾ªç¯æ•´ä¸ªåˆ—è¡¨ä¹‹å‰å…ˆå¯¹æ•´ä¸ªé›†åˆè¿›è¡Œæ¡ä»¶è¿‡æ»¤ã€‚ä¾‹å¦‚ï¼š\n\n```html\n<ul v-if=\"isName\">\n\t<li v-for=\"item in names\" :key=\"item.id\">{{ item.name }}</li>\n</ul>\n```\n\n- åœ¨å¾ªç¯å†…éƒ¨ä½¿ç”¨ v-ifï¼šå°† v-if æ”¾åœ¨ v-for å¾ªç¯å†…éƒ¨çš„å•ä¸ªå…ƒç´ ä¸Šï¼Œä»¥ä¾¿å¯¹æ¯ä¸ªå•ç‹¬çš„é¡¹è¿›è¡Œæ¡ä»¶åˆ¤æ–­ã€‚è¿™æ ·å¯ä»¥é¿å…éå†æœªé€šè¿‡æ¡ä»¶æ£€æŸ¥çš„é¡¹ï¼ŒåŒæ—¶é¿å…äº†ä¼˜å…ˆçº§å†²çªã€‚ä¾‹å¦‚ï¼š\n\n```html\n<ul>\n\t<li v-for=\"item in names\" :key=\"item.id\">\n\t\t<div v-if=\"item.isName\">{{ item.name }}</div>\n\t</li>\n</ul>\n```\n\næ€»ä¹‹ï¼ŒVue ä¸­ v-for å’Œ v-if ä¸å»ºè®®åŒæ—¶ç›´æ¥ä½¿ç”¨äºåŒä¸€å…ƒç´ ï¼Œä¸»è¦æ˜¯ä¸ºäº†é¿å…æ€§èƒ½æŸå¤±ã€æ½œåœ¨çš„è¿è¡Œæ—¶é”™è¯¯ï¼Œä»¥åŠéµå¾ªå®˜æ–¹çš„æœ€ä½³å®è·µã€‚é€šè¿‡åˆç†åœ°åˆ†ç¦»è¿™ä¸¤ä¸ªæŒ‡ä»¤ï¼Œå¯ä»¥ç¡®ä¿ä»£ç æ—¢é«˜æ•ˆåˆæ˜“äºç»´æŠ¤ã€‚\n","source":"_posts/æŠ€èƒ½å°å†Œ/vue/v-forå’Œv-ifä¸èƒ½åŒæ—¶ä½¿ç”¨.md","raw":"---\ntitle: v-forå’Œv-ifä¸èƒ½åŒæ—¶ä½¿ç”¨\nabbrlink: 4237922f\ndate: 2024-04-14 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Vue \n---\n\n{% note info simple %}\nVue ä¸­ `v-for å’Œ v-if` ä¸å»ºè®®åŒæ—¶ç›´æ¥åº”ç”¨äºåŒä¸€å…ƒç´ çš„åŸå› ä¸»è¦æ¶‰åŠä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š\n{% endnote %}\n\n\n## ä¼˜å…ˆçº§é—®é¢˜\n\n1. **Vue 2.x** åœ¨æ—©æœŸçš„ Vue 2 ç‰ˆæœ¬ä¸­ï¼Œv-for æŒ‡ä»¤çš„ä¼˜å…ˆçº§é«˜äº v-ifã€‚è¿™æ„å‘³ç€å³ä½¿ v-if çš„æ¡ä»¶å¯èƒ½è¿‡æ»¤æ‰å¤§éƒ¨åˆ†é¡¹ï¼Œv-for ä»ç„¶ä¼šå…ˆéå†æ•´ä¸ªåˆ—è¡¨ã€‚å³ä¾¿æœ€ç»ˆåªæœ‰å°‘æ•°å‡ é¡¹ï¼ˆç”šè‡³ä¸€é¡¹ï¼‰éœ€è¦æ¸²æŸ“ï¼Œä¹Ÿä¼šå¯¼è‡´å¯¹æ•´ä¸ªåˆ—è¡¨è¿›è¡Œæ— è°“çš„è¿­ä»£å’Œæ¡ä»¶åˆ¤æ–­ï¼Œä»è€Œé€ æˆæ€§èƒ½æµªè´¹ã€‚\n\n2. **Vue 3.x**Vue 3 å¯¹è¿™ä¸€è¡Œä¸ºè¿›è¡Œäº†è°ƒæ•´ï¼Œä½¿å¾— v-if çš„ä¼˜å…ˆçº§é«˜äº v-forã€‚è™½ç„¶è¿™è§£å†³äº†ä¹‹å‰ç‰ˆæœ¬ä¸­ä¸å¿…è¦çš„éå†é—®é¢˜ï¼Œä½†æ–°çš„é—®é¢˜éšä¹‹å‡ºç°ï¼šå¦‚æœ v-if å…ˆäº v-for æ‰§è¡Œï¼Œå®ƒå¯èƒ½ä¼šå°è¯•è®¿é—®ç”± v-for å¾ªç¯å°šæœªåˆ›å»ºçš„å˜é‡ï¼Œå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚è¿™æ˜¯å› ä¸º v-if åœ¨æ²¡æœ‰å¾ªç¯ä¸Šä¸‹æ–‡çš„æƒ…å†µä¸‹æ— æ³•æ­£ç¡®è¯„ä¼°å…¶æ¡ä»¶è¡¨è¾¾å¼ã€‚\n\n## æ€§èƒ½ä¸æ•ˆç‡\n\nå½“ v-if å’Œ v-for åŒæ—¶ä½œç”¨äºä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæ— è®ºä¼˜å…ˆçº§å¦‚ä½•ï¼Œéƒ½å¯èƒ½å¯¼è‡´ä¸å¿…è¦çš„è®¡ç®—ã€‚åœ¨ Vue 2 ä¸­ï¼Œå³ä½¿ v-if æ¡ä»¶ä»…ç­›é€‰å‡ºåˆ—è¡¨çš„ä¸€å°éƒ¨åˆ†ï¼Œä¹Ÿå¿…é¡»éå†æ•´ä¸ªåˆ—è¡¨ã€‚åœ¨ Vue 3 ä¸­ï¼Œå°½ç®¡é¿å…äº†è¿™ç§éå†ï¼Œä½†è‹¥ v-if ä¾èµ–äºå¾ªç¯å˜é‡ï¼Œå¯èƒ½ä¼šè§¦å‘é”™è¯¯æˆ–å¯¼è‡´éš¾ä»¥é¢„æ–™çš„è¡Œä¸ºã€‚\n\n## æœ€ä½³å®è·µä¸å®˜æ–¹æŒ‡å¯¼\n\nVue å®˜æ–¹æ–‡æ¡£æ˜ç¡®æŒ‡å‡ºä¸åº”åœ¨åŒä¸€å…ƒç´ ä¸ŠåŒæ—¶ä½¿ç”¨ v-if å’Œ v-forã€‚è¿™æ˜¯å› ä¸ºè¿™æ ·çš„ç”¨æ³•é€šå¸¸æš—ç¤ºäº†é€»è¾‘ç»„ç»‡ä¸Šçš„ä¸è¶³ï¼Œä¸”å®¹æ˜“å¼•å‘ä¸Šè¿°æ€§èƒ½é—®é¢˜æˆ–è¿è¡Œæ—¶é”™è¯¯ã€‚éµå¾ªæœ€ä½³å®è·µæœ‰åŠ©äºç¼–å†™æ›´æ¸…æ™°ã€æ›´é«˜æ•ˆçš„ä»£ç ã€‚\n\n## è§£å†³æ–¹æ¡ˆä¸æ›¿ä»£ç­–ç•¥\n\né’ˆå¯¹ `v-if å’Œ v-for` éœ€è¦åœ¨é€»è¾‘ä¸Šç»“åˆä½¿ç”¨çš„æƒ…å†µï¼Œæ¨èä»¥ä¸‹ä¸¤ç§æ›¿ä»£æ–¹æ¡ˆï¼š\n\n- åœ¨å¤–éƒ¨å®¹å™¨å…ƒç´ ä¸Šä½¿ç”¨ v-ifï¼šå°† v-if ç§»åŠ¨åˆ°åŒ…å« v-for å¾ªç¯çš„çˆ¶å…ƒç´ ä¸Šï¼Œè¿™æ ·å¯ä»¥åœ¨å¾ªç¯æ•´ä¸ªåˆ—è¡¨ä¹‹å‰å…ˆå¯¹æ•´ä¸ªé›†åˆè¿›è¡Œæ¡ä»¶è¿‡æ»¤ã€‚ä¾‹å¦‚ï¼š\n\n```html\n<ul v-if=\"isName\">\n\t<li v-for=\"item in names\" :key=\"item.id\">{{ item.name }}</li>\n</ul>\n```\n\n- åœ¨å¾ªç¯å†…éƒ¨ä½¿ç”¨ v-ifï¼šå°† v-if æ”¾åœ¨ v-for å¾ªç¯å†…éƒ¨çš„å•ä¸ªå…ƒç´ ä¸Šï¼Œä»¥ä¾¿å¯¹æ¯ä¸ªå•ç‹¬çš„é¡¹è¿›è¡Œæ¡ä»¶åˆ¤æ–­ã€‚è¿™æ ·å¯ä»¥é¿å…éå†æœªé€šè¿‡æ¡ä»¶æ£€æŸ¥çš„é¡¹ï¼ŒåŒæ—¶é¿å…äº†ä¼˜å…ˆçº§å†²çªã€‚ä¾‹å¦‚ï¼š\n\n```html\n<ul>\n\t<li v-for=\"item in names\" :key=\"item.id\">\n\t\t<div v-if=\"item.isName\">{{ item.name }}</div>\n\t</li>\n</ul>\n```\n\næ€»ä¹‹ï¼ŒVue ä¸­ v-for å’Œ v-if ä¸å»ºè®®åŒæ—¶ç›´æ¥ä½¿ç”¨äºåŒä¸€å…ƒç´ ï¼Œä¸»è¦æ˜¯ä¸ºäº†é¿å…æ€§èƒ½æŸå¤±ã€æ½œåœ¨çš„è¿è¡Œæ—¶é”™è¯¯ï¼Œä»¥åŠéµå¾ªå®˜æ–¹çš„æœ€ä½³å®è·µã€‚é€šè¿‡åˆç†åœ°åˆ†ç¦»è¿™ä¸¤ä¸ªæŒ‡ä»¤ï¼Œå¯ä»¥ç¡®ä¿ä»£ç æ—¢é«˜æ•ˆåˆæ˜“äºç»´æŠ¤ã€‚\n","slug":"æŠ€èƒ½å°å†Œ/vue/v-forå’Œv-ifä¸èƒ½åŒæ—¶ä½¿ç”¨","published":1,"updated":"2025-03-12T09:27:46.996Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j00040fg9m8nwj7tz4","content":"<div class=\"note info simple\"><p>Vue ä¸­ <code>v-for å’Œ v-if</code> ä¸å»ºè®®åŒæ—¶ç›´æ¥åº”ç”¨äºåŒä¸€å…ƒç´ çš„åŸå› ä¸»è¦æ¶‰åŠä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>\n</div>\n\n\n<h2 id=\"ä¼˜å…ˆçº§é—®é¢˜\"><a href=\"#ä¼˜å…ˆçº§é—®é¢˜\" class=\"headerlink\" title=\"ä¼˜å…ˆçº§é—®é¢˜\"></a>ä¼˜å…ˆçº§é—®é¢˜</h2><ol>\n<li><p><strong>Vue 2.x</strong> åœ¨æ—©æœŸçš„ Vue 2 ç‰ˆæœ¬ä¸­ï¼Œv-for æŒ‡ä»¤çš„ä¼˜å…ˆçº§é«˜äº v-ifã€‚è¿™æ„å‘³ç€å³ä½¿ v-if çš„æ¡ä»¶å¯èƒ½è¿‡æ»¤æ‰å¤§éƒ¨åˆ†é¡¹ï¼Œv-for ä»ç„¶ä¼šå…ˆéå†æ•´ä¸ªåˆ—è¡¨ã€‚å³ä¾¿æœ€ç»ˆåªæœ‰å°‘æ•°å‡ é¡¹ï¼ˆç”šè‡³ä¸€é¡¹ï¼‰éœ€è¦æ¸²æŸ“ï¼Œä¹Ÿä¼šå¯¼è‡´å¯¹æ•´ä¸ªåˆ—è¡¨è¿›è¡Œæ— è°“çš„è¿­ä»£å’Œæ¡ä»¶åˆ¤æ–­ï¼Œä»è€Œé€ æˆæ€§èƒ½æµªè´¹ã€‚</p>\n</li>\n<li><p><strong>Vue 3.x</strong>Vue 3 å¯¹è¿™ä¸€è¡Œä¸ºè¿›è¡Œäº†è°ƒæ•´ï¼Œä½¿å¾— v-if çš„ä¼˜å…ˆçº§é«˜äº v-forã€‚è™½ç„¶è¿™è§£å†³äº†ä¹‹å‰ç‰ˆæœ¬ä¸­ä¸å¿…è¦çš„éå†é—®é¢˜ï¼Œä½†æ–°çš„é—®é¢˜éšä¹‹å‡ºç°ï¼šå¦‚æœ v-if å…ˆäº v-for æ‰§è¡Œï¼Œå®ƒå¯èƒ½ä¼šå°è¯•è®¿é—®ç”± v-for å¾ªç¯å°šæœªåˆ›å»ºçš„å˜é‡ï¼Œå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚è¿™æ˜¯å› ä¸º v-if åœ¨æ²¡æœ‰å¾ªç¯ä¸Šä¸‹æ–‡çš„æƒ…å†µä¸‹æ— æ³•æ­£ç¡®è¯„ä¼°å…¶æ¡ä»¶è¡¨è¾¾å¼ã€‚</p>\n</li>\n</ol>\n<h2 id=\"æ€§èƒ½ä¸æ•ˆç‡\"><a href=\"#æ€§èƒ½ä¸æ•ˆç‡\" class=\"headerlink\" title=\"æ€§èƒ½ä¸æ•ˆç‡\"></a>æ€§èƒ½ä¸æ•ˆç‡</h2><p>å½“ v-if å’Œ v-for åŒæ—¶ä½œç”¨äºä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæ— è®ºä¼˜å…ˆçº§å¦‚ä½•ï¼Œéƒ½å¯èƒ½å¯¼è‡´ä¸å¿…è¦çš„è®¡ç®—ã€‚åœ¨ Vue 2 ä¸­ï¼Œå³ä½¿ v-if æ¡ä»¶ä»…ç­›é€‰å‡ºåˆ—è¡¨çš„ä¸€å°éƒ¨åˆ†ï¼Œä¹Ÿå¿…é¡»éå†æ•´ä¸ªåˆ—è¡¨ã€‚åœ¨ Vue 3 ä¸­ï¼Œå°½ç®¡é¿å…äº†è¿™ç§éå†ï¼Œä½†è‹¥ v-if ä¾èµ–äºå¾ªç¯å˜é‡ï¼Œå¯èƒ½ä¼šè§¦å‘é”™è¯¯æˆ–å¯¼è‡´éš¾ä»¥é¢„æ–™çš„è¡Œä¸ºã€‚</p>\n<h2 id=\"æœ€ä½³å®è·µä¸å®˜æ–¹æŒ‡å¯¼\"><a href=\"#æœ€ä½³å®è·µä¸å®˜æ–¹æŒ‡å¯¼\" class=\"headerlink\" title=\"æœ€ä½³å®è·µä¸å®˜æ–¹æŒ‡å¯¼\"></a>æœ€ä½³å®è·µä¸å®˜æ–¹æŒ‡å¯¼</h2><p>Vue å®˜æ–¹æ–‡æ¡£æ˜ç¡®æŒ‡å‡ºä¸åº”åœ¨åŒä¸€å…ƒç´ ä¸ŠåŒæ—¶ä½¿ç”¨ v-if å’Œ v-forã€‚è¿™æ˜¯å› ä¸ºè¿™æ ·çš„ç”¨æ³•é€šå¸¸æš—ç¤ºäº†é€»è¾‘ç»„ç»‡ä¸Šçš„ä¸è¶³ï¼Œä¸”å®¹æ˜“å¼•å‘ä¸Šè¿°æ€§èƒ½é—®é¢˜æˆ–è¿è¡Œæ—¶é”™è¯¯ã€‚éµå¾ªæœ€ä½³å®è·µæœ‰åŠ©äºç¼–å†™æ›´æ¸…æ™°ã€æ›´é«˜æ•ˆçš„ä»£ç ã€‚</p>\n<h2 id=\"è§£å†³æ–¹æ¡ˆä¸æ›¿ä»£ç­–ç•¥\"><a href=\"#è§£å†³æ–¹æ¡ˆä¸æ›¿ä»£ç­–ç•¥\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆä¸æ›¿ä»£ç­–ç•¥\"></a>è§£å†³æ–¹æ¡ˆä¸æ›¿ä»£ç­–ç•¥</h2><p>é’ˆå¯¹ <code>v-if å’Œ v-for</code> éœ€è¦åœ¨é€»è¾‘ä¸Šç»“åˆä½¿ç”¨çš„æƒ…å†µï¼Œæ¨èä»¥ä¸‹ä¸¤ç§æ›¿ä»£æ–¹æ¡ˆï¼š</p>\n<ul>\n<li>åœ¨å¤–éƒ¨å®¹å™¨å…ƒç´ ä¸Šä½¿ç”¨ v-ifï¼šå°† v-if ç§»åŠ¨åˆ°åŒ…å« v-for å¾ªç¯çš„çˆ¶å…ƒç´ ä¸Šï¼Œè¿™æ ·å¯ä»¥åœ¨å¾ªç¯æ•´ä¸ªåˆ—è¡¨ä¹‹å‰å…ˆå¯¹æ•´ä¸ªé›†åˆè¿›è¡Œæ¡ä»¶è¿‡æ»¤ã€‚ä¾‹å¦‚ï¼š</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;isName&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;item in names&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;item.id&quot;</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>åœ¨å¾ªç¯å†…éƒ¨ä½¿ç”¨ v-ifï¼šå°† v-if æ”¾åœ¨ v-for å¾ªç¯å†…éƒ¨çš„å•ä¸ªå…ƒç´ ä¸Šï¼Œä»¥ä¾¿å¯¹æ¯ä¸ªå•ç‹¬çš„é¡¹è¿›è¡Œæ¡ä»¶åˆ¤æ–­ã€‚è¿™æ ·å¯ä»¥é¿å…éå†æœªé€šè¿‡æ¡ä»¶æ£€æŸ¥çš„é¡¹ï¼ŒåŒæ—¶é¿å…äº†ä¼˜å…ˆçº§å†²çªã€‚ä¾‹å¦‚ï¼š</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;item in names&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;item.id&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;item.isName&quot;</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ€»ä¹‹ï¼ŒVue ä¸­ v-for å’Œ v-if ä¸å»ºè®®åŒæ—¶ç›´æ¥ä½¿ç”¨äºåŒä¸€å…ƒç´ ï¼Œä¸»è¦æ˜¯ä¸ºäº†é¿å…æ€§èƒ½æŸå¤±ã€æ½œåœ¨çš„è¿è¡Œæ—¶é”™è¯¯ï¼Œä»¥åŠéµå¾ªå®˜æ–¹çš„æœ€ä½³å®è·µã€‚é€šè¿‡åˆç†åœ°åˆ†ç¦»è¿™ä¸¤ä¸ªæŒ‡ä»¤ï¼Œå¯ä»¥ç¡®ä¿ä»£ç æ—¢é«˜æ•ˆåˆæ˜“äºç»´æŠ¤ã€‚</p>\n","excerpt":"","more":"<div class=\"note info simple\"><p>Vue ä¸­ <code>v-for å’Œ v-if</code> ä¸å»ºè®®åŒæ—¶ç›´æ¥åº”ç”¨äºåŒä¸€å…ƒç´ çš„åŸå› ä¸»è¦æ¶‰åŠä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>\n</div>\n\n\n<h2 id=\"ä¼˜å…ˆçº§é—®é¢˜\"><a href=\"#ä¼˜å…ˆçº§é—®é¢˜\" class=\"headerlink\" title=\"ä¼˜å…ˆçº§é—®é¢˜\"></a>ä¼˜å…ˆçº§é—®é¢˜</h2><ol>\n<li><p><strong>Vue 2.x</strong> åœ¨æ—©æœŸçš„ Vue 2 ç‰ˆæœ¬ä¸­ï¼Œv-for æŒ‡ä»¤çš„ä¼˜å…ˆçº§é«˜äº v-ifã€‚è¿™æ„å‘³ç€å³ä½¿ v-if çš„æ¡ä»¶å¯èƒ½è¿‡æ»¤æ‰å¤§éƒ¨åˆ†é¡¹ï¼Œv-for ä»ç„¶ä¼šå…ˆéå†æ•´ä¸ªåˆ—è¡¨ã€‚å³ä¾¿æœ€ç»ˆåªæœ‰å°‘æ•°å‡ é¡¹ï¼ˆç”šè‡³ä¸€é¡¹ï¼‰éœ€è¦æ¸²æŸ“ï¼Œä¹Ÿä¼šå¯¼è‡´å¯¹æ•´ä¸ªåˆ—è¡¨è¿›è¡Œæ— è°“çš„è¿­ä»£å’Œæ¡ä»¶åˆ¤æ–­ï¼Œä»è€Œé€ æˆæ€§èƒ½æµªè´¹ã€‚</p>\n</li>\n<li><p><strong>Vue 3.x</strong>Vue 3 å¯¹è¿™ä¸€è¡Œä¸ºè¿›è¡Œäº†è°ƒæ•´ï¼Œä½¿å¾— v-if çš„ä¼˜å…ˆçº§é«˜äº v-forã€‚è™½ç„¶è¿™è§£å†³äº†ä¹‹å‰ç‰ˆæœ¬ä¸­ä¸å¿…è¦çš„éå†é—®é¢˜ï¼Œä½†æ–°çš„é—®é¢˜éšä¹‹å‡ºç°ï¼šå¦‚æœ v-if å…ˆäº v-for æ‰§è¡Œï¼Œå®ƒå¯èƒ½ä¼šå°è¯•è®¿é—®ç”± v-for å¾ªç¯å°šæœªåˆ›å»ºçš„å˜é‡ï¼Œå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚è¿™æ˜¯å› ä¸º v-if åœ¨æ²¡æœ‰å¾ªç¯ä¸Šä¸‹æ–‡çš„æƒ…å†µä¸‹æ— æ³•æ­£ç¡®è¯„ä¼°å…¶æ¡ä»¶è¡¨è¾¾å¼ã€‚</p>\n</li>\n</ol>\n<h2 id=\"æ€§èƒ½ä¸æ•ˆç‡\"><a href=\"#æ€§èƒ½ä¸æ•ˆç‡\" class=\"headerlink\" title=\"æ€§èƒ½ä¸æ•ˆç‡\"></a>æ€§èƒ½ä¸æ•ˆç‡</h2><p>å½“ v-if å’Œ v-for åŒæ—¶ä½œç”¨äºä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæ— è®ºä¼˜å…ˆçº§å¦‚ä½•ï¼Œéƒ½å¯èƒ½å¯¼è‡´ä¸å¿…è¦çš„è®¡ç®—ã€‚åœ¨ Vue 2 ä¸­ï¼Œå³ä½¿ v-if æ¡ä»¶ä»…ç­›é€‰å‡ºåˆ—è¡¨çš„ä¸€å°éƒ¨åˆ†ï¼Œä¹Ÿå¿…é¡»éå†æ•´ä¸ªåˆ—è¡¨ã€‚åœ¨ Vue 3 ä¸­ï¼Œå°½ç®¡é¿å…äº†è¿™ç§éå†ï¼Œä½†è‹¥ v-if ä¾èµ–äºå¾ªç¯å˜é‡ï¼Œå¯èƒ½ä¼šè§¦å‘é”™è¯¯æˆ–å¯¼è‡´éš¾ä»¥é¢„æ–™çš„è¡Œä¸ºã€‚</p>\n<h2 id=\"æœ€ä½³å®è·µä¸å®˜æ–¹æŒ‡å¯¼\"><a href=\"#æœ€ä½³å®è·µä¸å®˜æ–¹æŒ‡å¯¼\" class=\"headerlink\" title=\"æœ€ä½³å®è·µä¸å®˜æ–¹æŒ‡å¯¼\"></a>æœ€ä½³å®è·µä¸å®˜æ–¹æŒ‡å¯¼</h2><p>Vue å®˜æ–¹æ–‡æ¡£æ˜ç¡®æŒ‡å‡ºä¸åº”åœ¨åŒä¸€å…ƒç´ ä¸ŠåŒæ—¶ä½¿ç”¨ v-if å’Œ v-forã€‚è¿™æ˜¯å› ä¸ºè¿™æ ·çš„ç”¨æ³•é€šå¸¸æš—ç¤ºäº†é€»è¾‘ç»„ç»‡ä¸Šçš„ä¸è¶³ï¼Œä¸”å®¹æ˜“å¼•å‘ä¸Šè¿°æ€§èƒ½é—®é¢˜æˆ–è¿è¡Œæ—¶é”™è¯¯ã€‚éµå¾ªæœ€ä½³å®è·µæœ‰åŠ©äºç¼–å†™æ›´æ¸…æ™°ã€æ›´é«˜æ•ˆçš„ä»£ç ã€‚</p>\n<h2 id=\"è§£å†³æ–¹æ¡ˆä¸æ›¿ä»£ç­–ç•¥\"><a href=\"#è§£å†³æ–¹æ¡ˆä¸æ›¿ä»£ç­–ç•¥\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆä¸æ›¿ä»£ç­–ç•¥\"></a>è§£å†³æ–¹æ¡ˆä¸æ›¿ä»£ç­–ç•¥</h2><p>é’ˆå¯¹ <code>v-if å’Œ v-for</code> éœ€è¦åœ¨é€»è¾‘ä¸Šç»“åˆä½¿ç”¨çš„æƒ…å†µï¼Œæ¨èä»¥ä¸‹ä¸¤ç§æ›¿ä»£æ–¹æ¡ˆï¼š</p>\n<ul>\n<li>åœ¨å¤–éƒ¨å®¹å™¨å…ƒç´ ä¸Šä½¿ç”¨ v-ifï¼šå°† v-if ç§»åŠ¨åˆ°åŒ…å« v-for å¾ªç¯çš„çˆ¶å…ƒç´ ä¸Šï¼Œè¿™æ ·å¯ä»¥åœ¨å¾ªç¯æ•´ä¸ªåˆ—è¡¨ä¹‹å‰å…ˆå¯¹æ•´ä¸ªé›†åˆè¿›è¡Œæ¡ä»¶è¿‡æ»¤ã€‚ä¾‹å¦‚ï¼š</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;isName&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;item in names&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;item.id&quot;</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>åœ¨å¾ªç¯å†…éƒ¨ä½¿ç”¨ v-ifï¼šå°† v-if æ”¾åœ¨ v-for å¾ªç¯å†…éƒ¨çš„å•ä¸ªå…ƒç´ ä¸Šï¼Œä»¥ä¾¿å¯¹æ¯ä¸ªå•ç‹¬çš„é¡¹è¿›è¡Œæ¡ä»¶åˆ¤æ–­ã€‚è¿™æ ·å¯ä»¥é¿å…éå†æœªé€šè¿‡æ¡ä»¶æ£€æŸ¥çš„é¡¹ï¼ŒåŒæ—¶é¿å…äº†ä¼˜å…ˆçº§å†²çªã€‚ä¾‹å¦‚ï¼š</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;item in names&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;item.id&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;item.isName&quot;</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ€»ä¹‹ï¼ŒVue ä¸­ v-for å’Œ v-if ä¸å»ºè®®åŒæ—¶ç›´æ¥ä½¿ç”¨äºåŒä¸€å…ƒç´ ï¼Œä¸»è¦æ˜¯ä¸ºäº†é¿å…æ€§èƒ½æŸå¤±ã€æ½œåœ¨çš„è¿è¡Œæ—¶é”™è¯¯ï¼Œä»¥åŠéµå¾ªå®˜æ–¹çš„æœ€ä½³å®è·µã€‚é€šè¿‡åˆç†åœ°åˆ†ç¦»è¿™ä¸¤ä¸ªæŒ‡ä»¤ï¼Œå¯ä»¥ç¡®ä¿ä»£ç æ—¢é«˜æ•ˆåˆæ˜“äºç»´æŠ¤ã€‚</p>\n"},{"title":"v-ifå’Œv-showçš„åŒºåˆ«","abbrlink":"61e3fd80","date":"2024-04-14T03:20:38.000Z","_content":"\n{% note info simple %}\n`Vue` ä¸­çš„` v-if å’Œ v-show` éƒ½æ˜¯ç”¨æ¥å®ç°æ¡ä»¶æ€§æ¸²æŸ“çš„æŒ‡ä»¤ï¼Œå®ƒä»¬éƒ½å…è®¸æ ¹æ®è¡¨è¾¾å¼çš„çœŸå‡å€¼æ¥å†³å®šæ˜¯å¦æ˜¾ç¤ºå¯¹åº”çš„ DOM å…ƒç´ ã€‚ç„¶è€Œï¼ŒäºŒè€…åœ¨å®ç°æœºåˆ¶ã€æ€§èƒ½å½±å“åŠé€‚ç”¨åœºæ™¯ä¸Šå­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚\n{% endnote %}\n\n\n## æ¸²æŸ“æœºåˆ¶\n\n1. `v-if`æ§åˆ¶å…ƒç´ çš„æ˜¾ç¤ºä¸å¦ï¼Œå½“æ¡ä»¶ä¸º`false`æ—¶ï¼Œvue åœ¨ç¼–è¯‘é˜¶æ®µä¼šè·³è¿‡è¯¥å…ƒç´ ä»¥åŠå­å…ƒç´ çš„æ¸²æŸ“, è¿™äº›å…ƒç´ ä¸ä¼šåœ¨ DOM æ ‘ä¸­åˆ›å»ºï¼›å½“æ¡ä»¶ä¸º true æ—¶ï¼Œvue ä¼šåŠ¨æ€æ·»åŠ è¯¥å…ƒç´ ä»¥åŠå­å…ƒç´ ã€‚`trueå˜ä¸ºfalse`ï¼Œç›¸åº”çš„å…ƒç´ ä¹Ÿä¼šé”€æ¯åœ¨ DOM ä¸­ä¹Ÿä¼šç§»é™¤ï¼›è¿™æ„å‘³ç€ä½¿ç”¨ `v-if` çš„å…ƒç´ ä¼šç»å†ä¸€ä¸ªå±€éƒ¨ç¼–è¯‘/å¸è½½çš„è¿‡ç¨‹ï¼ŒåŒ…æ‹¬å…¶å†…éƒ¨çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶ä¹Ÿä¼šè¢«é€‚å½“åœ°é”€æ¯å’Œé‡å»ºã€‚\n2. `v-show`ä¸è®ºåˆå§‹æ¡ä»¶å¦‚ä½•ï¼Œå¸¦æœ‰` v-show` çš„å…ƒç´ æ€»ä¼šè¢«æ¸²æŸ“åˆ° DOM ä¸­ã€‚å®ƒé€šè¿‡åŠ¨æ€ä¿®æ”¹å…ƒç´ çš„ CSS å±æ€§ï¼ˆé€šå¸¸æ˜¯ `display: none æˆ– display: block`ï¼‰æ¥æ§åˆ¶å…ƒç´ çš„æ˜¾ç¤ºä¸éšè—ã€‚è¿™æ„å‘³ç€å½“æ¡ä»¶å˜åŒ–æ—¶ï¼Œå…ƒç´ æœ¬èº«å§‹ç»ˆå­˜åœ¨äº DOM ç»“æ„ä¸­ï¼Œåªæ˜¯ç®€å•åœ°æ”¹å˜äº†å…¶å¯è§æ€§ã€‚\n\n## ç¼–è¯‘å¼€é”€ä¸æ€§èƒ½å½±å“ï¼š\n\n1. `v-if`ç”±äºå®ƒä¼šæ ¹æ®æ¡ä»¶åŠ¨æ€åœ°æ·»åŠ æˆ–åˆ é™¤ DOM å…ƒç´ ï¼Œå› æ­¤åœ¨åˆæ¬¡æ¸²æŸ“æ—¶ï¼Œå¦‚æœæ¡ä»¶ä¸º falseï¼Œå¯ä»¥èŠ‚çœä¸å¿…è¦çš„ DOM æ„å»ºå’Œæ¸²æŸ“æˆæœ¬ã€‚å¯¹äºå¤æ‚çš„å…ƒç´ æˆ–ç»„ä»¶ï¼Œè¿™ç§ç­–ç•¥èƒ½æ›´é«˜æ•ˆåœ°åˆ©ç”¨èµ„æºã€‚ç„¶è€Œï¼Œå½“æ¡ä»¶é¢‘ç¹åˆ‡æ¢æ—¶ï¼Œæ¯æ¬¡åˆ‡æ¢éƒ½éœ€è¦é‡æ–°ç¼–è¯‘ã€åˆ›å»ºæˆ–é”€æ¯å…ƒç´ ï¼Œè¿™å¯èƒ½ä¼šå¸¦æ¥è¾ƒé«˜çš„æ€§èƒ½å¼€é”€ã€‚\n\n2. `v-show`ç”±äºå§‹ç»ˆæ¸²æŸ“å…ƒç´ åˆ° DOM ä¸­ï¼Œåˆæ¬¡æ¸²æŸ“æ—¶æ— è®ºæ¡ä»¶å¦‚ä½•ï¼Œéƒ½ä¼šäº§ç”Ÿä¸€å®šçš„ DOM æ„å»ºæˆæœ¬ã€‚ä½†åç»­æ¡ä»¶åˆ‡æ¢æ—¶ï¼Œåªéœ€ç®€å•åœ°æ›´æ–° CSS å±æ€§ï¼Œæ— éœ€è¿›è¡Œ DOM èŠ‚ç‚¹çš„å¢åˆ æ“ä½œï¼Œå› æ­¤åœ¨é¢‘ç¹åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€çš„æƒ…å†µä¸‹ï¼Œv-show çš„æ€§èƒ½é€šå¸¸ä¼˜äº v-ifã€‚ä¸è¿‡ï¼Œå³ä½¿å…ƒç´ è¢«éšè—ï¼Œå®ƒä»ä¼šå½±å“æ–‡æ¡£æµå¸ƒå±€ï¼Œå ç”¨å†…å­˜èµ„æºã€‚\n\n## é€‚ç”¨åœºæ™¯æ€»ç»“\n\n1. `v-if`é€‚ç”¨äºé‚£äº›åœ¨å¤§éƒ¨åˆ†æ—¶é—´å†…ä¸éœ€è¦æ¸²æŸ“ï¼Œæˆ–è€…æ¡ä»¶å˜åŒ–ä¸é¢‘ç¹ï¼Œä¸”æ¸²æŸ“ä»£ä»·è¾ƒå¤§çš„æƒ…å†µã€‚ä¾‹å¦‚ï¼ŒåŠ è½½é¢å¤–æ•°æ®çš„åˆ†é¡µç»„ä»¶ã€ç”¨æˆ·ç™»å½•åæ‰æ˜¾ç¤ºçš„ä¸ªäººèµ„æ–™åŒºåŸŸã€æ ¹æ®æƒé™æ§åˆ¶çš„é«˜çº§åŠŸèƒ½æ¨¡å—ç­‰\n2. `v-show`é€‚åˆäºæ¡ä»¶å˜åŒ–é¢‘ç¹ï¼Œä¸”å…ƒç´ æœ¬èº«ç›¸å¯¹ç®€å•ï¼Œæˆ–è€…åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€çš„å¼€é”€è¿œå°äº DOM æ“ä½œçš„æƒ…å†µã€‚æ¯”å¦‚ï¼Œç”¨æˆ·äº¤äº’é¢‘ç¹çš„åˆ‡æ¢æŒ‰é’®ã€æ»‘åŠ¨å±•å¼€/æ”¶èµ·çš„å†…å®¹åŒºåŸŸã€åˆ‡æ¢ä¸åŒè§†å›¾çš„åŒä¸€éƒ¨åˆ† UI å…ƒç´ ç­‰ã€‚\n","source":"_posts/æŠ€èƒ½å°å†Œ/vue/v-ifå’Œv-showçš„åŒºåˆ«.md","raw":"---\ntitle: v-ifå’Œv-showçš„åŒºåˆ«\nabbrlink: 61e3fd80\ndate: 2024-04-14 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Vue \n---\n\n{% note info simple %}\n`Vue` ä¸­çš„` v-if å’Œ v-show` éƒ½æ˜¯ç”¨æ¥å®ç°æ¡ä»¶æ€§æ¸²æŸ“çš„æŒ‡ä»¤ï¼Œå®ƒä»¬éƒ½å…è®¸æ ¹æ®è¡¨è¾¾å¼çš„çœŸå‡å€¼æ¥å†³å®šæ˜¯å¦æ˜¾ç¤ºå¯¹åº”çš„ DOM å…ƒç´ ã€‚ç„¶è€Œï¼ŒäºŒè€…åœ¨å®ç°æœºåˆ¶ã€æ€§èƒ½å½±å“åŠé€‚ç”¨åœºæ™¯ä¸Šå­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚\n{% endnote %}\n\n\n## æ¸²æŸ“æœºåˆ¶\n\n1. `v-if`æ§åˆ¶å…ƒç´ çš„æ˜¾ç¤ºä¸å¦ï¼Œå½“æ¡ä»¶ä¸º`false`æ—¶ï¼Œvue åœ¨ç¼–è¯‘é˜¶æ®µä¼šè·³è¿‡è¯¥å…ƒç´ ä»¥åŠå­å…ƒç´ çš„æ¸²æŸ“, è¿™äº›å…ƒç´ ä¸ä¼šåœ¨ DOM æ ‘ä¸­åˆ›å»ºï¼›å½“æ¡ä»¶ä¸º true æ—¶ï¼Œvue ä¼šåŠ¨æ€æ·»åŠ è¯¥å…ƒç´ ä»¥åŠå­å…ƒç´ ã€‚`trueå˜ä¸ºfalse`ï¼Œç›¸åº”çš„å…ƒç´ ä¹Ÿä¼šé”€æ¯åœ¨ DOM ä¸­ä¹Ÿä¼šç§»é™¤ï¼›è¿™æ„å‘³ç€ä½¿ç”¨ `v-if` çš„å…ƒç´ ä¼šç»å†ä¸€ä¸ªå±€éƒ¨ç¼–è¯‘/å¸è½½çš„è¿‡ç¨‹ï¼ŒåŒ…æ‹¬å…¶å†…éƒ¨çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶ä¹Ÿä¼šè¢«é€‚å½“åœ°é”€æ¯å’Œé‡å»ºã€‚\n2. `v-show`ä¸è®ºåˆå§‹æ¡ä»¶å¦‚ä½•ï¼Œå¸¦æœ‰` v-show` çš„å…ƒç´ æ€»ä¼šè¢«æ¸²æŸ“åˆ° DOM ä¸­ã€‚å®ƒé€šè¿‡åŠ¨æ€ä¿®æ”¹å…ƒç´ çš„ CSS å±æ€§ï¼ˆé€šå¸¸æ˜¯ `display: none æˆ– display: block`ï¼‰æ¥æ§åˆ¶å…ƒç´ çš„æ˜¾ç¤ºä¸éšè—ã€‚è¿™æ„å‘³ç€å½“æ¡ä»¶å˜åŒ–æ—¶ï¼Œå…ƒç´ æœ¬èº«å§‹ç»ˆå­˜åœ¨äº DOM ç»“æ„ä¸­ï¼Œåªæ˜¯ç®€å•åœ°æ”¹å˜äº†å…¶å¯è§æ€§ã€‚\n\n## ç¼–è¯‘å¼€é”€ä¸æ€§èƒ½å½±å“ï¼š\n\n1. `v-if`ç”±äºå®ƒä¼šæ ¹æ®æ¡ä»¶åŠ¨æ€åœ°æ·»åŠ æˆ–åˆ é™¤ DOM å…ƒç´ ï¼Œå› æ­¤åœ¨åˆæ¬¡æ¸²æŸ“æ—¶ï¼Œå¦‚æœæ¡ä»¶ä¸º falseï¼Œå¯ä»¥èŠ‚çœä¸å¿…è¦çš„ DOM æ„å»ºå’Œæ¸²æŸ“æˆæœ¬ã€‚å¯¹äºå¤æ‚çš„å…ƒç´ æˆ–ç»„ä»¶ï¼Œè¿™ç§ç­–ç•¥èƒ½æ›´é«˜æ•ˆåœ°åˆ©ç”¨èµ„æºã€‚ç„¶è€Œï¼Œå½“æ¡ä»¶é¢‘ç¹åˆ‡æ¢æ—¶ï¼Œæ¯æ¬¡åˆ‡æ¢éƒ½éœ€è¦é‡æ–°ç¼–è¯‘ã€åˆ›å»ºæˆ–é”€æ¯å…ƒç´ ï¼Œè¿™å¯èƒ½ä¼šå¸¦æ¥è¾ƒé«˜çš„æ€§èƒ½å¼€é”€ã€‚\n\n2. `v-show`ç”±äºå§‹ç»ˆæ¸²æŸ“å…ƒç´ åˆ° DOM ä¸­ï¼Œåˆæ¬¡æ¸²æŸ“æ—¶æ— è®ºæ¡ä»¶å¦‚ä½•ï¼Œéƒ½ä¼šäº§ç”Ÿä¸€å®šçš„ DOM æ„å»ºæˆæœ¬ã€‚ä½†åç»­æ¡ä»¶åˆ‡æ¢æ—¶ï¼Œåªéœ€ç®€å•åœ°æ›´æ–° CSS å±æ€§ï¼Œæ— éœ€è¿›è¡Œ DOM èŠ‚ç‚¹çš„å¢åˆ æ“ä½œï¼Œå› æ­¤åœ¨é¢‘ç¹åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€çš„æƒ…å†µä¸‹ï¼Œv-show çš„æ€§èƒ½é€šå¸¸ä¼˜äº v-ifã€‚ä¸è¿‡ï¼Œå³ä½¿å…ƒç´ è¢«éšè—ï¼Œå®ƒä»ä¼šå½±å“æ–‡æ¡£æµå¸ƒå±€ï¼Œå ç”¨å†…å­˜èµ„æºã€‚\n\n## é€‚ç”¨åœºæ™¯æ€»ç»“\n\n1. `v-if`é€‚ç”¨äºé‚£äº›åœ¨å¤§éƒ¨åˆ†æ—¶é—´å†…ä¸éœ€è¦æ¸²æŸ“ï¼Œæˆ–è€…æ¡ä»¶å˜åŒ–ä¸é¢‘ç¹ï¼Œä¸”æ¸²æŸ“ä»£ä»·è¾ƒå¤§çš„æƒ…å†µã€‚ä¾‹å¦‚ï¼ŒåŠ è½½é¢å¤–æ•°æ®çš„åˆ†é¡µç»„ä»¶ã€ç”¨æˆ·ç™»å½•åæ‰æ˜¾ç¤ºçš„ä¸ªäººèµ„æ–™åŒºåŸŸã€æ ¹æ®æƒé™æ§åˆ¶çš„é«˜çº§åŠŸèƒ½æ¨¡å—ç­‰\n2. `v-show`é€‚åˆäºæ¡ä»¶å˜åŒ–é¢‘ç¹ï¼Œä¸”å…ƒç´ æœ¬èº«ç›¸å¯¹ç®€å•ï¼Œæˆ–è€…åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€çš„å¼€é”€è¿œå°äº DOM æ“ä½œçš„æƒ…å†µã€‚æ¯”å¦‚ï¼Œç”¨æˆ·äº¤äº’é¢‘ç¹çš„åˆ‡æ¢æŒ‰é’®ã€æ»‘åŠ¨å±•å¼€/æ”¶èµ·çš„å†…å®¹åŒºåŸŸã€åˆ‡æ¢ä¸åŒè§†å›¾çš„åŒä¸€éƒ¨åˆ† UI å…ƒç´ ç­‰ã€‚\n","slug":"æŠ€èƒ½å°å†Œ/vue/v-ifå’Œv-showçš„åŒºåˆ«","published":1,"updated":"2025-03-12T09:28:07.525Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j00043fg9mgxd9hvjb","content":"<div class=\"note info simple\"><p><code>Vue</code> ä¸­çš„<code> v-if å’Œ v-show</code> éƒ½æ˜¯ç”¨æ¥å®ç°æ¡ä»¶æ€§æ¸²æŸ“çš„æŒ‡ä»¤ï¼Œå®ƒä»¬éƒ½å…è®¸æ ¹æ®è¡¨è¾¾å¼çš„çœŸå‡å€¼æ¥å†³å®šæ˜¯å¦æ˜¾ç¤ºå¯¹åº”çš„ DOM å…ƒç´ ã€‚ç„¶è€Œï¼ŒäºŒè€…åœ¨å®ç°æœºåˆ¶ã€æ€§èƒ½å½±å“åŠé€‚ç”¨åœºæ™¯ä¸Šå­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚</p>\n</div>\n\n\n<h2 id=\"æ¸²æŸ“æœºåˆ¶\"><a href=\"#æ¸²æŸ“æœºåˆ¶\" class=\"headerlink\" title=\"æ¸²æŸ“æœºåˆ¶\"></a>æ¸²æŸ“æœºåˆ¶</h2><ol>\n<li><code>v-if</code>æ§åˆ¶å…ƒç´ çš„æ˜¾ç¤ºä¸å¦ï¼Œå½“æ¡ä»¶ä¸º<code>false</code>æ—¶ï¼Œvue åœ¨ç¼–è¯‘é˜¶æ®µä¼šè·³è¿‡è¯¥å…ƒç´ ä»¥åŠå­å…ƒç´ çš„æ¸²æŸ“, è¿™äº›å…ƒç´ ä¸ä¼šåœ¨ DOM æ ‘ä¸­åˆ›å»ºï¼›å½“æ¡ä»¶ä¸º true æ—¶ï¼Œvue ä¼šåŠ¨æ€æ·»åŠ è¯¥å…ƒç´ ä»¥åŠå­å…ƒç´ ã€‚<code>trueå˜ä¸ºfalse</code>ï¼Œç›¸åº”çš„å…ƒç´ ä¹Ÿä¼šé”€æ¯åœ¨ DOM ä¸­ä¹Ÿä¼šç§»é™¤ï¼›è¿™æ„å‘³ç€ä½¿ç”¨ <code>v-if</code> çš„å…ƒç´ ä¼šç»å†ä¸€ä¸ªå±€éƒ¨ç¼–è¯‘&#x2F;å¸è½½çš„è¿‡ç¨‹ï¼ŒåŒ…æ‹¬å…¶å†…éƒ¨çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶ä¹Ÿä¼šè¢«é€‚å½“åœ°é”€æ¯å’Œé‡å»ºã€‚</li>\n<li><code>v-show</code>ä¸è®ºåˆå§‹æ¡ä»¶å¦‚ä½•ï¼Œå¸¦æœ‰<code> v-show</code> çš„å…ƒç´ æ€»ä¼šè¢«æ¸²æŸ“åˆ° DOM ä¸­ã€‚å®ƒé€šè¿‡åŠ¨æ€ä¿®æ”¹å…ƒç´ çš„ CSS å±æ€§ï¼ˆé€šå¸¸æ˜¯ <code>display: none æˆ– display: block</code>ï¼‰æ¥æ§åˆ¶å…ƒç´ çš„æ˜¾ç¤ºä¸éšè—ã€‚è¿™æ„å‘³ç€å½“æ¡ä»¶å˜åŒ–æ—¶ï¼Œå…ƒç´ æœ¬èº«å§‹ç»ˆå­˜åœ¨äº DOM ç»“æ„ä¸­ï¼Œåªæ˜¯ç®€å•åœ°æ”¹å˜äº†å…¶å¯è§æ€§ã€‚</li>\n</ol>\n<h2 id=\"ç¼–è¯‘å¼€é”€ä¸æ€§èƒ½å½±å“ï¼š\"><a href=\"#ç¼–è¯‘å¼€é”€ä¸æ€§èƒ½å½±å“ï¼š\" class=\"headerlink\" title=\"ç¼–è¯‘å¼€é”€ä¸æ€§èƒ½å½±å“ï¼š\"></a>ç¼–è¯‘å¼€é”€ä¸æ€§èƒ½å½±å“ï¼š</h2><ol>\n<li><p><code>v-if</code>ç”±äºå®ƒä¼šæ ¹æ®æ¡ä»¶åŠ¨æ€åœ°æ·»åŠ æˆ–åˆ é™¤ DOM å…ƒç´ ï¼Œå› æ­¤åœ¨åˆæ¬¡æ¸²æŸ“æ—¶ï¼Œå¦‚æœæ¡ä»¶ä¸º falseï¼Œå¯ä»¥èŠ‚çœä¸å¿…è¦çš„ DOM æ„å»ºå’Œæ¸²æŸ“æˆæœ¬ã€‚å¯¹äºå¤æ‚çš„å…ƒç´ æˆ–ç»„ä»¶ï¼Œè¿™ç§ç­–ç•¥èƒ½æ›´é«˜æ•ˆåœ°åˆ©ç”¨èµ„æºã€‚ç„¶è€Œï¼Œå½“æ¡ä»¶é¢‘ç¹åˆ‡æ¢æ—¶ï¼Œæ¯æ¬¡åˆ‡æ¢éƒ½éœ€è¦é‡æ–°ç¼–è¯‘ã€åˆ›å»ºæˆ–é”€æ¯å…ƒç´ ï¼Œè¿™å¯èƒ½ä¼šå¸¦æ¥è¾ƒé«˜çš„æ€§èƒ½å¼€é”€ã€‚</p>\n</li>\n<li><p><code>v-show</code>ç”±äºå§‹ç»ˆæ¸²æŸ“å…ƒç´ åˆ° DOM ä¸­ï¼Œåˆæ¬¡æ¸²æŸ“æ—¶æ— è®ºæ¡ä»¶å¦‚ä½•ï¼Œéƒ½ä¼šäº§ç”Ÿä¸€å®šçš„ DOM æ„å»ºæˆæœ¬ã€‚ä½†åç»­æ¡ä»¶åˆ‡æ¢æ—¶ï¼Œåªéœ€ç®€å•åœ°æ›´æ–° CSS å±æ€§ï¼Œæ— éœ€è¿›è¡Œ DOM èŠ‚ç‚¹çš„å¢åˆ æ“ä½œï¼Œå› æ­¤åœ¨é¢‘ç¹åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€çš„æƒ…å†µä¸‹ï¼Œv-show çš„æ€§èƒ½é€šå¸¸ä¼˜äº v-ifã€‚ä¸è¿‡ï¼Œå³ä½¿å…ƒç´ è¢«éšè—ï¼Œå®ƒä»ä¼šå½±å“æ–‡æ¡£æµå¸ƒå±€ï¼Œå ç”¨å†…å­˜èµ„æºã€‚</p>\n</li>\n</ol>\n<h2 id=\"é€‚ç”¨åœºæ™¯æ€»ç»“\"><a href=\"#é€‚ç”¨åœºæ™¯æ€»ç»“\" class=\"headerlink\" title=\"é€‚ç”¨åœºæ™¯æ€»ç»“\"></a>é€‚ç”¨åœºæ™¯æ€»ç»“</h2><ol>\n<li><code>v-if</code>é€‚ç”¨äºé‚£äº›åœ¨å¤§éƒ¨åˆ†æ—¶é—´å†…ä¸éœ€è¦æ¸²æŸ“ï¼Œæˆ–è€…æ¡ä»¶å˜åŒ–ä¸é¢‘ç¹ï¼Œä¸”æ¸²æŸ“ä»£ä»·è¾ƒå¤§çš„æƒ…å†µã€‚ä¾‹å¦‚ï¼ŒåŠ è½½é¢å¤–æ•°æ®çš„åˆ†é¡µç»„ä»¶ã€ç”¨æˆ·ç™»å½•åæ‰æ˜¾ç¤ºçš„ä¸ªäººèµ„æ–™åŒºåŸŸã€æ ¹æ®æƒé™æ§åˆ¶çš„é«˜çº§åŠŸèƒ½æ¨¡å—ç­‰</li>\n<li><code>v-show</code>é€‚åˆäºæ¡ä»¶å˜åŒ–é¢‘ç¹ï¼Œä¸”å…ƒç´ æœ¬èº«ç›¸å¯¹ç®€å•ï¼Œæˆ–è€…åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€çš„å¼€é”€è¿œå°äº DOM æ“ä½œçš„æƒ…å†µã€‚æ¯”å¦‚ï¼Œç”¨æˆ·äº¤äº’é¢‘ç¹çš„åˆ‡æ¢æŒ‰é’®ã€æ»‘åŠ¨å±•å¼€&#x2F;æ”¶èµ·çš„å†…å®¹åŒºåŸŸã€åˆ‡æ¢ä¸åŒè§†å›¾çš„åŒä¸€éƒ¨åˆ† UI å…ƒç´ ç­‰ã€‚</li>\n</ol>\n","excerpt":"","more":"<div class=\"note info simple\"><p><code>Vue</code> ä¸­çš„<code> v-if å’Œ v-show</code> éƒ½æ˜¯ç”¨æ¥å®ç°æ¡ä»¶æ€§æ¸²æŸ“çš„æŒ‡ä»¤ï¼Œå®ƒä»¬éƒ½å…è®¸æ ¹æ®è¡¨è¾¾å¼çš„çœŸå‡å€¼æ¥å†³å®šæ˜¯å¦æ˜¾ç¤ºå¯¹åº”çš„ DOM å…ƒç´ ã€‚ç„¶è€Œï¼ŒäºŒè€…åœ¨å®ç°æœºåˆ¶ã€æ€§èƒ½å½±å“åŠé€‚ç”¨åœºæ™¯ä¸Šå­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚</p>\n</div>\n\n\n<h2 id=\"æ¸²æŸ“æœºåˆ¶\"><a href=\"#æ¸²æŸ“æœºåˆ¶\" class=\"headerlink\" title=\"æ¸²æŸ“æœºåˆ¶\"></a>æ¸²æŸ“æœºåˆ¶</h2><ol>\n<li><code>v-if</code>æ§åˆ¶å…ƒç´ çš„æ˜¾ç¤ºä¸å¦ï¼Œå½“æ¡ä»¶ä¸º<code>false</code>æ—¶ï¼Œvue åœ¨ç¼–è¯‘é˜¶æ®µä¼šè·³è¿‡è¯¥å…ƒç´ ä»¥åŠå­å…ƒç´ çš„æ¸²æŸ“, è¿™äº›å…ƒç´ ä¸ä¼šåœ¨ DOM æ ‘ä¸­åˆ›å»ºï¼›å½“æ¡ä»¶ä¸º true æ—¶ï¼Œvue ä¼šåŠ¨æ€æ·»åŠ è¯¥å…ƒç´ ä»¥åŠå­å…ƒç´ ã€‚<code>trueå˜ä¸ºfalse</code>ï¼Œç›¸åº”çš„å…ƒç´ ä¹Ÿä¼šé”€æ¯åœ¨ DOM ä¸­ä¹Ÿä¼šç§»é™¤ï¼›è¿™æ„å‘³ç€ä½¿ç”¨ <code>v-if</code> çš„å…ƒç´ ä¼šç»å†ä¸€ä¸ªå±€éƒ¨ç¼–è¯‘&#x2F;å¸è½½çš„è¿‡ç¨‹ï¼ŒåŒ…æ‹¬å…¶å†…éƒ¨çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶ä¹Ÿä¼šè¢«é€‚å½“åœ°é”€æ¯å’Œé‡å»ºã€‚</li>\n<li><code>v-show</code>ä¸è®ºåˆå§‹æ¡ä»¶å¦‚ä½•ï¼Œå¸¦æœ‰<code> v-show</code> çš„å…ƒç´ æ€»ä¼šè¢«æ¸²æŸ“åˆ° DOM ä¸­ã€‚å®ƒé€šè¿‡åŠ¨æ€ä¿®æ”¹å…ƒç´ çš„ CSS å±æ€§ï¼ˆé€šå¸¸æ˜¯ <code>display: none æˆ– display: block</code>ï¼‰æ¥æ§åˆ¶å…ƒç´ çš„æ˜¾ç¤ºä¸éšè—ã€‚è¿™æ„å‘³ç€å½“æ¡ä»¶å˜åŒ–æ—¶ï¼Œå…ƒç´ æœ¬èº«å§‹ç»ˆå­˜åœ¨äº DOM ç»“æ„ä¸­ï¼Œåªæ˜¯ç®€å•åœ°æ”¹å˜äº†å…¶å¯è§æ€§ã€‚</li>\n</ol>\n<h2 id=\"ç¼–è¯‘å¼€é”€ä¸æ€§èƒ½å½±å“ï¼š\"><a href=\"#ç¼–è¯‘å¼€é”€ä¸æ€§èƒ½å½±å“ï¼š\" class=\"headerlink\" title=\"ç¼–è¯‘å¼€é”€ä¸æ€§èƒ½å½±å“ï¼š\"></a>ç¼–è¯‘å¼€é”€ä¸æ€§èƒ½å½±å“ï¼š</h2><ol>\n<li><p><code>v-if</code>ç”±äºå®ƒä¼šæ ¹æ®æ¡ä»¶åŠ¨æ€åœ°æ·»åŠ æˆ–åˆ é™¤ DOM å…ƒç´ ï¼Œå› æ­¤åœ¨åˆæ¬¡æ¸²æŸ“æ—¶ï¼Œå¦‚æœæ¡ä»¶ä¸º falseï¼Œå¯ä»¥èŠ‚çœä¸å¿…è¦çš„ DOM æ„å»ºå’Œæ¸²æŸ“æˆæœ¬ã€‚å¯¹äºå¤æ‚çš„å…ƒç´ æˆ–ç»„ä»¶ï¼Œè¿™ç§ç­–ç•¥èƒ½æ›´é«˜æ•ˆåœ°åˆ©ç”¨èµ„æºã€‚ç„¶è€Œï¼Œå½“æ¡ä»¶é¢‘ç¹åˆ‡æ¢æ—¶ï¼Œæ¯æ¬¡åˆ‡æ¢éƒ½éœ€è¦é‡æ–°ç¼–è¯‘ã€åˆ›å»ºæˆ–é”€æ¯å…ƒç´ ï¼Œè¿™å¯èƒ½ä¼šå¸¦æ¥è¾ƒé«˜çš„æ€§èƒ½å¼€é”€ã€‚</p>\n</li>\n<li><p><code>v-show</code>ç”±äºå§‹ç»ˆæ¸²æŸ“å…ƒç´ åˆ° DOM ä¸­ï¼Œåˆæ¬¡æ¸²æŸ“æ—¶æ— è®ºæ¡ä»¶å¦‚ä½•ï¼Œéƒ½ä¼šäº§ç”Ÿä¸€å®šçš„ DOM æ„å»ºæˆæœ¬ã€‚ä½†åç»­æ¡ä»¶åˆ‡æ¢æ—¶ï¼Œåªéœ€ç®€å•åœ°æ›´æ–° CSS å±æ€§ï¼Œæ— éœ€è¿›è¡Œ DOM èŠ‚ç‚¹çš„å¢åˆ æ“ä½œï¼Œå› æ­¤åœ¨é¢‘ç¹åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€çš„æƒ…å†µä¸‹ï¼Œv-show çš„æ€§èƒ½é€šå¸¸ä¼˜äº v-ifã€‚ä¸è¿‡ï¼Œå³ä½¿å…ƒç´ è¢«éšè—ï¼Œå®ƒä»ä¼šå½±å“æ–‡æ¡£æµå¸ƒå±€ï¼Œå ç”¨å†…å­˜èµ„æºã€‚</p>\n</li>\n</ol>\n<h2 id=\"é€‚ç”¨åœºæ™¯æ€»ç»“\"><a href=\"#é€‚ç”¨åœºæ™¯æ€»ç»“\" class=\"headerlink\" title=\"é€‚ç”¨åœºæ™¯æ€»ç»“\"></a>é€‚ç”¨åœºæ™¯æ€»ç»“</h2><ol>\n<li><code>v-if</code>é€‚ç”¨äºé‚£äº›åœ¨å¤§éƒ¨åˆ†æ—¶é—´å†…ä¸éœ€è¦æ¸²æŸ“ï¼Œæˆ–è€…æ¡ä»¶å˜åŒ–ä¸é¢‘ç¹ï¼Œä¸”æ¸²æŸ“ä»£ä»·è¾ƒå¤§çš„æƒ…å†µã€‚ä¾‹å¦‚ï¼ŒåŠ è½½é¢å¤–æ•°æ®çš„åˆ†é¡µç»„ä»¶ã€ç”¨æˆ·ç™»å½•åæ‰æ˜¾ç¤ºçš„ä¸ªäººèµ„æ–™åŒºåŸŸã€æ ¹æ®æƒé™æ§åˆ¶çš„é«˜çº§åŠŸèƒ½æ¨¡å—ç­‰</li>\n<li><code>v-show</code>é€‚åˆäºæ¡ä»¶å˜åŒ–é¢‘ç¹ï¼Œä¸”å…ƒç´ æœ¬èº«ç›¸å¯¹ç®€å•ï¼Œæˆ–è€…åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€çš„å¼€é”€è¿œå°äº DOM æ“ä½œçš„æƒ…å†µã€‚æ¯”å¦‚ï¼Œç”¨æˆ·äº¤äº’é¢‘ç¹çš„åˆ‡æ¢æŒ‰é’®ã€æ»‘åŠ¨å±•å¼€&#x2F;æ”¶èµ·çš„å†…å®¹åŒºåŸŸã€åˆ‡æ¢ä¸åŒè§†å›¾çš„åŒä¸€éƒ¨åˆ† UI å…ƒç´ ç­‰ã€‚</li>\n</ol>\n"},{"title":"watch,watchEffectå’Œcomputed","abbrlink":"9da764d1","date":"2024-04-14T03:20:38.000Z","_content":"\n{% note info simple %}\n`vue`ä¸­çš„`watch, watchEffect,computed`æ˜¯ä¸‰ä¸ªä¸åŒçš„å·¥å…·ï¼Œç”¨äºå¤„ç†æ•°æ®å“åº”å¼å’Œæ ¹æ®æ•°æ®çš„æ”¹å˜è€Œæ‰§è¡Œå¯¹åº”çš„é€»è¾‘ã€‚\n{% endnote %}\n\n## computed\n\n### ä½œç”¨\n\nè®¡ç®—å±æ€§ã€‚`computed` ç”¨äºå®šä¹‰é‚£äº›åŸºäºç»„ä»¶çŠ¶æ€`ï¼ˆå¦‚ dataã€å…¶ä»– computed å±æ€§ã€props ç­‰ï¼‰`çš„è¡ç”Ÿå€¼ã€‚å½“å…¶ä¾èµ–çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®¡ç®—å±æ€§ä¼šè‡ªåŠ¨é‡æ–°è®¡ç®—å¹¶è¿”å›ç»“æœã€‚\n\n### ç‰¹æ€§\n\n1. **ç¼“å­˜æœºåˆ¶ï¼š** `computed`æ˜¯æœ‰ç¼“å­˜çš„ï¼Œåªæœ‰ä¾èµ–çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—ã€‚å¦‚æœä¾èµ–æœªå‘ç”Ÿå˜åŒ–ï¼Œåˆ™ç›´æ¥è¿”å›ä¹‹å‰è®¡ç®—çš„ç»“æœï¼Œ**é¿å…äº†ä¸å¿…è¦çš„é‡å¤è®¡ç®—ï¼Œæé«˜äº†æ€§èƒ½**\n2. **å£°æ˜å¼ï¼š** åœ¨æ¨¡æ¿ä¸­å¯ç›´æ¥ä½¿ç”¨`computed`å±æ€§ï¼Œå°±åƒè®¿é—®æ™®é€šå‡½æ•°ä¸€æ ·\n3. **è¯»å–ä¼˜å…ˆï¼š** `computed`ä¸»è¦ç”¨äº**è¯»å–**åœºæ™¯ï¼Œå…¶å€¼ç”±`vue`è‡ªåŠ¨ç»´æŠ¤, é€šå¸¸ä¸å»ºè®®åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ç›´æ¥ä¿®æ”¹`computed`å±æ€§, å› ä¸ºè¿™ä¼šç ´åä¾èµ–è¿½è¸ªæœºåˆ¶ï¼Œå¯¼è‡´è®¡ç®—å±æ€§çš„ä¾èµ–é¡¹å˜åŒ–æ— æ³•è§¦å‘é‡æ–°è®¡ç®—ã€‚`computed`é»˜è®¤æ˜¯å¯è¯»çš„çŠ¶æ€ï¼›\n\n### ä½¿ç”¨åœºæ™¯\n\n1. å½“éœ€è¦å¯¹æ•°æ®è¿›è¡Œå¤æ‚è®¡ç®—æˆ–è€…é€»è¾‘å‡ºåº“ï¼Œå¹¶ä¸”ç»“æœä»…ä»…ä¾èµ–äºè¾“å…¥çŠ¶æ€æ—¶\n2. éœ€è¦ä»¥é«˜æ•ˆï¼Œå£°æ˜å¼çš„æ–¹å¼å±•ç¤ºç»è¿‡å¤„ç†çš„æ•°æ®(æ ¼å¼åŒ–ï¼Œç­›é€‰ï¼Œæ±‡æ€»)\n\n## watch\n\n### ä½œç”¨\n\nå“åº”å¼ç›‘å¬å™¨ï¼Œ å…è®¸æŒ‡å®šå•ä¸ªæˆ–è€…å¤šä¸ªæ•°æ®æº(å¯ä»¥æ˜¯ä»»æ„æ•°æ®, æ•°æ®å±æ€§ï¼Œå¯¹è±¡ï¼Œæ•°ç»„ç”šè‡³æ˜¯`props, computed`)ï¼Œ å½“è¿™æ•°æ®æºçš„å€¼å‘ç”Ÿå˜åŒ–å¹¶æ‰§è¡Œå›è°ƒå‡½æ•°\n\n### ç‰¹æ€§\n\n1. **å‡†ç¡®ç›‘å¬ï¼š** å¯ä»¥ç²¾ç¡®ç›‘å¬æŒ‡å®šçš„æ•°æ®æºçš„æ·±åº¦ï¼Œæ§åˆ¶ç›‘å¬ç²’åº¦\n2. **é€‰é¡¹ä¸°å¯Œï¼š** æä¾›äº†å¤šç§é€‰é¡¹å»å®šåˆ¶ç›‘å¬è¡Œä¸ºï¼Œå¦‚`deepæ·±åº¦ç›‘å¬`ï¼Œ`immediateç«‹å³æ‰§è¡Œ`, `flushé˜Ÿåˆ—åˆ·æ–°ç­–ç•¥`ç­‰\n3. **æ‰‹åŠ¨æ§åˆ¶ï¼š** å›è°ƒå‡½æ•°å†…å¯ä»¥è¿›è¡Œå¤æ‚çš„å¼‚æ­¥æ“ä½œã€èµ„æºæ¸…ç†ç­‰å·¥ä½œï¼Œå¹¶èƒ½è®¿é—®åˆ°æ–°æ—§å€¼ã€‚\n\n### ä½¿ç”¨åœºæ™¯\n\n1. å½“éœ€è¦åœ¨ç‰¹å®šæ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æ“ä½œã€æ˜‚è´µè®¡ç®—æˆ–è€…è¿›è¡Œå‰¯ä½œç”¨å¤„ç†ï¼ˆå¦‚æ›´æ–° DOMã€å‘é€ç½‘ç»œè¯·æ±‚ã€æ›´æ–°å¤–éƒ¨çŠ¶æ€ç­‰ï¼‰ã€‚\n2. éœ€è¦å¯¹æ•°æ®å˜åŒ–è¿›è¡Œç²¾ç»†æ§åˆ¶ï¼Œå¦‚æ·±åº¦ç›‘å¬ã€å¤„ç†ç‰¹å®šç±»å‹çš„å˜æ›´äº‹ä»¶ç­‰ã€‚\n\n## watchEffect\n\n### ä½œç”¨\n\nè‡ªåŠ¨è¿½è¸ªå‰¯ä½œç”¨å‡½æ•°ï¼›`watchEffect`ç«‹å³æ‰§è¡Œä¼ å…¥çš„å›è°ƒå‡½æ•°ï¼Œå¹¶åœ¨æ­¤ä¹‹åæŒç»­è¿½è¸ªå…¶å†…éƒ¨ä¾èµ–ï¼ˆæ‰€æœ‰å“åº”å¼å¼•ç”¨ï¼‰ï¼Œæ¯å½“è¿™äº›ä¾èµ–å˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°ä¼šå†æ¬¡æ‰§è¡Œã€‚\n\n### ç‰¹æ€§\n\n1. **è‡ªåŠ¨æœé›†ä¾èµ–ï¼š** ä¸éœ€è¦æ˜ç¡®æŒ‡å®šè¦ç›‘å¬çš„æ•°æ®æºï¼Œå‡½æ•°ä½“å†…éƒ¨è®¿é—®åˆ°çš„æ‰€æœ‰å“åº”å¼æ•°æ®éƒ½ä¼šè¢«è‡ªåŠ¨è¿½è¸ª\n2. **ç«‹å³æ‰§è¡Œï¼š** åˆ›å»ºæ—¶ç«‹å³è¿è¡Œä¸€æ¬¡ï¼Œæ— éœ€ immediate é€‰é¡¹ï¼Œé»˜è®¤æ€»æ˜¯åŒæ­¥æ‰§è¡Œå›è°ƒã€‚\n3. **å…³æ³¨å‰¯ä½œç”¨ï¼š** æ›´å…³æ³¨äºå‰¯ä½œç”¨ï¼ˆside effectï¼‰çš„æ‰§è¡Œï¼Œè€Œéå…·ä½“ç›‘å¬å“ªä¸ªæ•°æ®çš„å˜åŒ–ã€‚\n\n### ä½¿ç”¨åœºæ™¯\n\n1. å½“éœ€è¦è‡ªåŠ¨è¿½è¸ªå’Œå³æ—¶å“åº”æ‰€æœ‰å½±å“ç»„ä»¶çŠ¶æ€å˜åŒ–çš„å› ç´ æ—¶ï¼Œæ— éœ€å…³å¿ƒå…·ä½“æ˜¯å“ªäº›æ•°æ®å˜åŒ–ã€‚\n2. ç”¨äºå¤„ç†åˆå§‹åŒ–é€»è¾‘æˆ–ä¾èµ–å¤æ‚ä¸”åŠ¨æ€å˜åŒ–çš„æƒ…å†µï¼Œç®€åŒ–ä»£ç ç¼–å†™ã€‚\n\n## æ€»ç»“\n\n- `computed` é€‚ç”¨äºå®šä¹‰åŸºäºçŠ¶æ€çš„è¡ç”Ÿå€¼ï¼Œæä¾›é«˜æ•ˆçš„ç¼“å­˜æœºåˆ¶ï¼Œå¸¸ç”¨äºè§†å›¾æ¸²æŸ“ã€‚\n- `watch` ç”¨äºç›‘å¬ç‰¹å®šæ•°æ®çš„å˜åŒ–ï¼Œå¹¶åœ¨å˜åŒ–æ—¶æ‰§è¡Œç‰¹å®šçš„å›è°ƒï¼Œé€‚åˆå¤„ç†å¤æ‚å‰¯ä½œç”¨ã€‚\n- `watchEffect` è‡ªåŠ¨è¿½è¸ªå‰¯ä½œç”¨å‡½æ•°çš„ä¾èµ–ï¼Œæ— é¡»æŒ‡å®šç›‘å¬ç›®æ ‡ï¼Œå¸¸ç”¨äºåˆå§‹åŒ–å’Œç®€å•å³æ—¶å“åº”åœºæ™¯ã€‚\n","source":"_posts/æŠ€èƒ½å°å†Œ/vue/watch,watchEffectå’Œcomputed.md","raw":"---\ntitle: watch,watchEffectå’Œcomputed\nabbrlink: 9da764d1\ndate: 2024-04-14 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Vue\n---\n\n{% note info simple %}\n`vue`ä¸­çš„`watch, watchEffect,computed`æ˜¯ä¸‰ä¸ªä¸åŒçš„å·¥å…·ï¼Œç”¨äºå¤„ç†æ•°æ®å“åº”å¼å’Œæ ¹æ®æ•°æ®çš„æ”¹å˜è€Œæ‰§è¡Œå¯¹åº”çš„é€»è¾‘ã€‚\n{% endnote %}\n\n## computed\n\n### ä½œç”¨\n\nè®¡ç®—å±æ€§ã€‚`computed` ç”¨äºå®šä¹‰é‚£äº›åŸºäºç»„ä»¶çŠ¶æ€`ï¼ˆå¦‚ dataã€å…¶ä»– computed å±æ€§ã€props ç­‰ï¼‰`çš„è¡ç”Ÿå€¼ã€‚å½“å…¶ä¾èµ–çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®¡ç®—å±æ€§ä¼šè‡ªåŠ¨é‡æ–°è®¡ç®—å¹¶è¿”å›ç»“æœã€‚\n\n### ç‰¹æ€§\n\n1. **ç¼“å­˜æœºåˆ¶ï¼š** `computed`æ˜¯æœ‰ç¼“å­˜çš„ï¼Œåªæœ‰ä¾èµ–çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—ã€‚å¦‚æœä¾èµ–æœªå‘ç”Ÿå˜åŒ–ï¼Œåˆ™ç›´æ¥è¿”å›ä¹‹å‰è®¡ç®—çš„ç»“æœï¼Œ**é¿å…äº†ä¸å¿…è¦çš„é‡å¤è®¡ç®—ï¼Œæé«˜äº†æ€§èƒ½**\n2. **å£°æ˜å¼ï¼š** åœ¨æ¨¡æ¿ä¸­å¯ç›´æ¥ä½¿ç”¨`computed`å±æ€§ï¼Œå°±åƒè®¿é—®æ™®é€šå‡½æ•°ä¸€æ ·\n3. **è¯»å–ä¼˜å…ˆï¼š** `computed`ä¸»è¦ç”¨äº**è¯»å–**åœºæ™¯ï¼Œå…¶å€¼ç”±`vue`è‡ªåŠ¨ç»´æŠ¤, é€šå¸¸ä¸å»ºè®®åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ç›´æ¥ä¿®æ”¹`computed`å±æ€§, å› ä¸ºè¿™ä¼šç ´åä¾èµ–è¿½è¸ªæœºåˆ¶ï¼Œå¯¼è‡´è®¡ç®—å±æ€§çš„ä¾èµ–é¡¹å˜åŒ–æ— æ³•è§¦å‘é‡æ–°è®¡ç®—ã€‚`computed`é»˜è®¤æ˜¯å¯è¯»çš„çŠ¶æ€ï¼›\n\n### ä½¿ç”¨åœºæ™¯\n\n1. å½“éœ€è¦å¯¹æ•°æ®è¿›è¡Œå¤æ‚è®¡ç®—æˆ–è€…é€»è¾‘å‡ºåº“ï¼Œå¹¶ä¸”ç»“æœä»…ä»…ä¾èµ–äºè¾“å…¥çŠ¶æ€æ—¶\n2. éœ€è¦ä»¥é«˜æ•ˆï¼Œå£°æ˜å¼çš„æ–¹å¼å±•ç¤ºç»è¿‡å¤„ç†çš„æ•°æ®(æ ¼å¼åŒ–ï¼Œç­›é€‰ï¼Œæ±‡æ€»)\n\n## watch\n\n### ä½œç”¨\n\nå“åº”å¼ç›‘å¬å™¨ï¼Œ å…è®¸æŒ‡å®šå•ä¸ªæˆ–è€…å¤šä¸ªæ•°æ®æº(å¯ä»¥æ˜¯ä»»æ„æ•°æ®, æ•°æ®å±æ€§ï¼Œå¯¹è±¡ï¼Œæ•°ç»„ç”šè‡³æ˜¯`props, computed`)ï¼Œ å½“è¿™æ•°æ®æºçš„å€¼å‘ç”Ÿå˜åŒ–å¹¶æ‰§è¡Œå›è°ƒå‡½æ•°\n\n### ç‰¹æ€§\n\n1. **å‡†ç¡®ç›‘å¬ï¼š** å¯ä»¥ç²¾ç¡®ç›‘å¬æŒ‡å®šçš„æ•°æ®æºçš„æ·±åº¦ï¼Œæ§åˆ¶ç›‘å¬ç²’åº¦\n2. **é€‰é¡¹ä¸°å¯Œï¼š** æä¾›äº†å¤šç§é€‰é¡¹å»å®šåˆ¶ç›‘å¬è¡Œä¸ºï¼Œå¦‚`deepæ·±åº¦ç›‘å¬`ï¼Œ`immediateç«‹å³æ‰§è¡Œ`, `flushé˜Ÿåˆ—åˆ·æ–°ç­–ç•¥`ç­‰\n3. **æ‰‹åŠ¨æ§åˆ¶ï¼š** å›è°ƒå‡½æ•°å†…å¯ä»¥è¿›è¡Œå¤æ‚çš„å¼‚æ­¥æ“ä½œã€èµ„æºæ¸…ç†ç­‰å·¥ä½œï¼Œå¹¶èƒ½è®¿é—®åˆ°æ–°æ—§å€¼ã€‚\n\n### ä½¿ç”¨åœºæ™¯\n\n1. å½“éœ€è¦åœ¨ç‰¹å®šæ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æ“ä½œã€æ˜‚è´µè®¡ç®—æˆ–è€…è¿›è¡Œå‰¯ä½œç”¨å¤„ç†ï¼ˆå¦‚æ›´æ–° DOMã€å‘é€ç½‘ç»œè¯·æ±‚ã€æ›´æ–°å¤–éƒ¨çŠ¶æ€ç­‰ï¼‰ã€‚\n2. éœ€è¦å¯¹æ•°æ®å˜åŒ–è¿›è¡Œç²¾ç»†æ§åˆ¶ï¼Œå¦‚æ·±åº¦ç›‘å¬ã€å¤„ç†ç‰¹å®šç±»å‹çš„å˜æ›´äº‹ä»¶ç­‰ã€‚\n\n## watchEffect\n\n### ä½œç”¨\n\nè‡ªåŠ¨è¿½è¸ªå‰¯ä½œç”¨å‡½æ•°ï¼›`watchEffect`ç«‹å³æ‰§è¡Œä¼ å…¥çš„å›è°ƒå‡½æ•°ï¼Œå¹¶åœ¨æ­¤ä¹‹åæŒç»­è¿½è¸ªå…¶å†…éƒ¨ä¾èµ–ï¼ˆæ‰€æœ‰å“åº”å¼å¼•ç”¨ï¼‰ï¼Œæ¯å½“è¿™äº›ä¾èµ–å˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°ä¼šå†æ¬¡æ‰§è¡Œã€‚\n\n### ç‰¹æ€§\n\n1. **è‡ªåŠ¨æœé›†ä¾èµ–ï¼š** ä¸éœ€è¦æ˜ç¡®æŒ‡å®šè¦ç›‘å¬çš„æ•°æ®æºï¼Œå‡½æ•°ä½“å†…éƒ¨è®¿é—®åˆ°çš„æ‰€æœ‰å“åº”å¼æ•°æ®éƒ½ä¼šè¢«è‡ªåŠ¨è¿½è¸ª\n2. **ç«‹å³æ‰§è¡Œï¼š** åˆ›å»ºæ—¶ç«‹å³è¿è¡Œä¸€æ¬¡ï¼Œæ— éœ€ immediate é€‰é¡¹ï¼Œé»˜è®¤æ€»æ˜¯åŒæ­¥æ‰§è¡Œå›è°ƒã€‚\n3. **å…³æ³¨å‰¯ä½œç”¨ï¼š** æ›´å…³æ³¨äºå‰¯ä½œç”¨ï¼ˆside effectï¼‰çš„æ‰§è¡Œï¼Œè€Œéå…·ä½“ç›‘å¬å“ªä¸ªæ•°æ®çš„å˜åŒ–ã€‚\n\n### ä½¿ç”¨åœºæ™¯\n\n1. å½“éœ€è¦è‡ªåŠ¨è¿½è¸ªå’Œå³æ—¶å“åº”æ‰€æœ‰å½±å“ç»„ä»¶çŠ¶æ€å˜åŒ–çš„å› ç´ æ—¶ï¼Œæ— éœ€å…³å¿ƒå…·ä½“æ˜¯å“ªäº›æ•°æ®å˜åŒ–ã€‚\n2. ç”¨äºå¤„ç†åˆå§‹åŒ–é€»è¾‘æˆ–ä¾èµ–å¤æ‚ä¸”åŠ¨æ€å˜åŒ–çš„æƒ…å†µï¼Œç®€åŒ–ä»£ç ç¼–å†™ã€‚\n\n## æ€»ç»“\n\n- `computed` é€‚ç”¨äºå®šä¹‰åŸºäºçŠ¶æ€çš„è¡ç”Ÿå€¼ï¼Œæä¾›é«˜æ•ˆçš„ç¼“å­˜æœºåˆ¶ï¼Œå¸¸ç”¨äºè§†å›¾æ¸²æŸ“ã€‚\n- `watch` ç”¨äºç›‘å¬ç‰¹å®šæ•°æ®çš„å˜åŒ–ï¼Œå¹¶åœ¨å˜åŒ–æ—¶æ‰§è¡Œç‰¹å®šçš„å›è°ƒï¼Œé€‚åˆå¤„ç†å¤æ‚å‰¯ä½œç”¨ã€‚\n- `watchEffect` è‡ªåŠ¨è¿½è¸ªå‰¯ä½œç”¨å‡½æ•°çš„ä¾èµ–ï¼Œæ— é¡»æŒ‡å®šç›‘å¬ç›®æ ‡ï¼Œå¸¸ç”¨äºåˆå§‹åŒ–å’Œç®€å•å³æ—¶å“åº”åœºæ™¯ã€‚\n","slug":"æŠ€èƒ½å°å†Œ/vue/watch,watchEffectå’Œcomputed","published":1,"updated":"2025-03-12T09:29:12.969Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j00046fg9m1y1yhh6k","content":"<div class=\"note info simple\"><p><code>vue</code>ä¸­çš„<code>watch, watchEffect,computed</code>æ˜¯ä¸‰ä¸ªä¸åŒçš„å·¥å…·ï¼Œç”¨äºå¤„ç†æ•°æ®å“åº”å¼å’Œæ ¹æ®æ•°æ®çš„æ”¹å˜è€Œæ‰§è¡Œå¯¹åº”çš„é€»è¾‘ã€‚</p>\n</div>\n\n<h2 id=\"computed\"><a href=\"#computed\" class=\"headerlink\" title=\"computed\"></a>computed</h2><h3 id=\"ä½œç”¨\"><a href=\"#ä½œç”¨\" class=\"headerlink\" title=\"ä½œç”¨\"></a>ä½œç”¨</h3><p>è®¡ç®—å±æ€§ã€‚<code>computed</code> ç”¨äºå®šä¹‰é‚£äº›åŸºäºç»„ä»¶çŠ¶æ€<code>ï¼ˆå¦‚ dataã€å…¶ä»– computed å±æ€§ã€props ç­‰ï¼‰</code>çš„è¡ç”Ÿå€¼ã€‚å½“å…¶ä¾èµ–çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®¡ç®—å±æ€§ä¼šè‡ªåŠ¨é‡æ–°è®¡ç®—å¹¶è¿”å›ç»“æœã€‚</p>\n<h3 id=\"ç‰¹æ€§\"><a href=\"#ç‰¹æ€§\" class=\"headerlink\" title=\"ç‰¹æ€§\"></a>ç‰¹æ€§</h3><ol>\n<li><strong>ç¼“å­˜æœºåˆ¶ï¼š</strong> <code>computed</code>æ˜¯æœ‰ç¼“å­˜çš„ï¼Œåªæœ‰ä¾èµ–çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—ã€‚å¦‚æœä¾èµ–æœªå‘ç”Ÿå˜åŒ–ï¼Œåˆ™ç›´æ¥è¿”å›ä¹‹å‰è®¡ç®—çš„ç»“æœï¼Œ<strong>é¿å…äº†ä¸å¿…è¦çš„é‡å¤è®¡ç®—ï¼Œæé«˜äº†æ€§èƒ½</strong></li>\n<li><strong>å£°æ˜å¼ï¼š</strong> åœ¨æ¨¡æ¿ä¸­å¯ç›´æ¥ä½¿ç”¨<code>computed</code>å±æ€§ï¼Œå°±åƒè®¿é—®æ™®é€šå‡½æ•°ä¸€æ ·</li>\n<li><strong>è¯»å–ä¼˜å…ˆï¼š</strong> <code>computed</code>ä¸»è¦ç”¨äº<strong>è¯»å–</strong>åœºæ™¯ï¼Œå…¶å€¼ç”±<code>vue</code>è‡ªåŠ¨ç»´æŠ¤, é€šå¸¸ä¸å»ºè®®åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ç›´æ¥ä¿®æ”¹<code>computed</code>å±æ€§, å› ä¸ºè¿™ä¼šç ´åä¾èµ–è¿½è¸ªæœºåˆ¶ï¼Œå¯¼è‡´è®¡ç®—å±æ€§çš„ä¾èµ–é¡¹å˜åŒ–æ— æ³•è§¦å‘é‡æ–°è®¡ç®—ã€‚<code>computed</code>é»˜è®¤æ˜¯å¯è¯»çš„çŠ¶æ€ï¼›</li>\n</ol>\n<h3 id=\"ä½¿ç”¨åœºæ™¯\"><a href=\"#ä½¿ç”¨åœºæ™¯\" class=\"headerlink\" title=\"ä½¿ç”¨åœºæ™¯\"></a>ä½¿ç”¨åœºæ™¯</h3><ol>\n<li>å½“éœ€è¦å¯¹æ•°æ®è¿›è¡Œå¤æ‚è®¡ç®—æˆ–è€…é€»è¾‘å‡ºåº“ï¼Œå¹¶ä¸”ç»“æœä»…ä»…ä¾èµ–äºè¾“å…¥çŠ¶æ€æ—¶</li>\n<li>éœ€è¦ä»¥é«˜æ•ˆï¼Œå£°æ˜å¼çš„æ–¹å¼å±•ç¤ºç»è¿‡å¤„ç†çš„æ•°æ®(æ ¼å¼åŒ–ï¼Œç­›é€‰ï¼Œæ±‡æ€»)</li>\n</ol>\n<h2 id=\"watch\"><a href=\"#watch\" class=\"headerlink\" title=\"watch\"></a>watch</h2><h3 id=\"ä½œç”¨-1\"><a href=\"#ä½œç”¨-1\" class=\"headerlink\" title=\"ä½œç”¨\"></a>ä½œç”¨</h3><p>å“åº”å¼ç›‘å¬å™¨ï¼Œ å…è®¸æŒ‡å®šå•ä¸ªæˆ–è€…å¤šä¸ªæ•°æ®æº(å¯ä»¥æ˜¯ä»»æ„æ•°æ®, æ•°æ®å±æ€§ï¼Œå¯¹è±¡ï¼Œæ•°ç»„ç”šè‡³æ˜¯<code>props, computed</code>)ï¼Œ å½“è¿™æ•°æ®æºçš„å€¼å‘ç”Ÿå˜åŒ–å¹¶æ‰§è¡Œå›è°ƒå‡½æ•°</p>\n<h3 id=\"ç‰¹æ€§-1\"><a href=\"#ç‰¹æ€§-1\" class=\"headerlink\" title=\"ç‰¹æ€§\"></a>ç‰¹æ€§</h3><ol>\n<li><strong>å‡†ç¡®ç›‘å¬ï¼š</strong> å¯ä»¥ç²¾ç¡®ç›‘å¬æŒ‡å®šçš„æ•°æ®æºçš„æ·±åº¦ï¼Œæ§åˆ¶ç›‘å¬ç²’åº¦</li>\n<li><strong>é€‰é¡¹ä¸°å¯Œï¼š</strong> æä¾›äº†å¤šç§é€‰é¡¹å»å®šåˆ¶ç›‘å¬è¡Œä¸ºï¼Œå¦‚<code>deepæ·±åº¦ç›‘å¬</code>ï¼Œ<code>immediateç«‹å³æ‰§è¡Œ</code>, <code>flushé˜Ÿåˆ—åˆ·æ–°ç­–ç•¥</code>ç­‰</li>\n<li><strong>æ‰‹åŠ¨æ§åˆ¶ï¼š</strong> å›è°ƒå‡½æ•°å†…å¯ä»¥è¿›è¡Œå¤æ‚çš„å¼‚æ­¥æ“ä½œã€èµ„æºæ¸…ç†ç­‰å·¥ä½œï¼Œå¹¶èƒ½è®¿é—®åˆ°æ–°æ—§å€¼ã€‚</li>\n</ol>\n<h3 id=\"ä½¿ç”¨åœºæ™¯-1\"><a href=\"#ä½¿ç”¨åœºæ™¯-1\" class=\"headerlink\" title=\"ä½¿ç”¨åœºæ™¯\"></a>ä½¿ç”¨åœºæ™¯</h3><ol>\n<li>å½“éœ€è¦åœ¨ç‰¹å®šæ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æ“ä½œã€æ˜‚è´µè®¡ç®—æˆ–è€…è¿›è¡Œå‰¯ä½œç”¨å¤„ç†ï¼ˆå¦‚æ›´æ–° DOMã€å‘é€ç½‘ç»œè¯·æ±‚ã€æ›´æ–°å¤–éƒ¨çŠ¶æ€ç­‰ï¼‰ã€‚</li>\n<li>éœ€è¦å¯¹æ•°æ®å˜åŒ–è¿›è¡Œç²¾ç»†æ§åˆ¶ï¼Œå¦‚æ·±åº¦ç›‘å¬ã€å¤„ç†ç‰¹å®šç±»å‹çš„å˜æ›´äº‹ä»¶ç­‰ã€‚</li>\n</ol>\n<h2 id=\"watchEffect\"><a href=\"#watchEffect\" class=\"headerlink\" title=\"watchEffect\"></a>watchEffect</h2><h3 id=\"ä½œç”¨-2\"><a href=\"#ä½œç”¨-2\" class=\"headerlink\" title=\"ä½œç”¨\"></a>ä½œç”¨</h3><p>è‡ªåŠ¨è¿½è¸ªå‰¯ä½œç”¨å‡½æ•°ï¼›<code>watchEffect</code>ç«‹å³æ‰§è¡Œä¼ å…¥çš„å›è°ƒå‡½æ•°ï¼Œå¹¶åœ¨æ­¤ä¹‹åæŒç»­è¿½è¸ªå…¶å†…éƒ¨ä¾èµ–ï¼ˆæ‰€æœ‰å“åº”å¼å¼•ç”¨ï¼‰ï¼Œæ¯å½“è¿™äº›ä¾èµ–å˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°ä¼šå†æ¬¡æ‰§è¡Œã€‚</p>\n<h3 id=\"ç‰¹æ€§-2\"><a href=\"#ç‰¹æ€§-2\" class=\"headerlink\" title=\"ç‰¹æ€§\"></a>ç‰¹æ€§</h3><ol>\n<li><strong>è‡ªåŠ¨æœé›†ä¾èµ–ï¼š</strong> ä¸éœ€è¦æ˜ç¡®æŒ‡å®šè¦ç›‘å¬çš„æ•°æ®æºï¼Œå‡½æ•°ä½“å†…éƒ¨è®¿é—®åˆ°çš„æ‰€æœ‰å“åº”å¼æ•°æ®éƒ½ä¼šè¢«è‡ªåŠ¨è¿½è¸ª</li>\n<li><strong>ç«‹å³æ‰§è¡Œï¼š</strong> åˆ›å»ºæ—¶ç«‹å³è¿è¡Œä¸€æ¬¡ï¼Œæ— éœ€ immediate é€‰é¡¹ï¼Œé»˜è®¤æ€»æ˜¯åŒæ­¥æ‰§è¡Œå›è°ƒã€‚</li>\n<li><strong>å…³æ³¨å‰¯ä½œç”¨ï¼š</strong> æ›´å…³æ³¨äºå‰¯ä½œç”¨ï¼ˆside effectï¼‰çš„æ‰§è¡Œï¼Œè€Œéå…·ä½“ç›‘å¬å“ªä¸ªæ•°æ®çš„å˜åŒ–ã€‚</li>\n</ol>\n<h3 id=\"ä½¿ç”¨åœºæ™¯-2\"><a href=\"#ä½¿ç”¨åœºæ™¯-2\" class=\"headerlink\" title=\"ä½¿ç”¨åœºæ™¯\"></a>ä½¿ç”¨åœºæ™¯</h3><ol>\n<li>å½“éœ€è¦è‡ªåŠ¨è¿½è¸ªå’Œå³æ—¶å“åº”æ‰€æœ‰å½±å“ç»„ä»¶çŠ¶æ€å˜åŒ–çš„å› ç´ æ—¶ï¼Œæ— éœ€å…³å¿ƒå…·ä½“æ˜¯å“ªäº›æ•°æ®å˜åŒ–ã€‚</li>\n<li>ç”¨äºå¤„ç†åˆå§‹åŒ–é€»è¾‘æˆ–ä¾èµ–å¤æ‚ä¸”åŠ¨æ€å˜åŒ–çš„æƒ…å†µï¼Œç®€åŒ–ä»£ç ç¼–å†™ã€‚</li>\n</ol>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><ul>\n<li><code>computed</code> é€‚ç”¨äºå®šä¹‰åŸºäºçŠ¶æ€çš„è¡ç”Ÿå€¼ï¼Œæä¾›é«˜æ•ˆçš„ç¼“å­˜æœºåˆ¶ï¼Œå¸¸ç”¨äºè§†å›¾æ¸²æŸ“ã€‚</li>\n<li><code>watch</code> ç”¨äºç›‘å¬ç‰¹å®šæ•°æ®çš„å˜åŒ–ï¼Œå¹¶åœ¨å˜åŒ–æ—¶æ‰§è¡Œç‰¹å®šçš„å›è°ƒï¼Œé€‚åˆå¤„ç†å¤æ‚å‰¯ä½œç”¨ã€‚</li>\n<li><code>watchEffect</code> è‡ªåŠ¨è¿½è¸ªå‰¯ä½œç”¨å‡½æ•°çš„ä¾èµ–ï¼Œæ— é¡»æŒ‡å®šç›‘å¬ç›®æ ‡ï¼Œå¸¸ç”¨äºåˆå§‹åŒ–å’Œç®€å•å³æ—¶å“åº”åœºæ™¯ã€‚</li>\n</ul>\n","excerpt":"","more":"<div class=\"note info simple\"><p><code>vue</code>ä¸­çš„<code>watch, watchEffect,computed</code>æ˜¯ä¸‰ä¸ªä¸åŒçš„å·¥å…·ï¼Œç”¨äºå¤„ç†æ•°æ®å“åº”å¼å’Œæ ¹æ®æ•°æ®çš„æ”¹å˜è€Œæ‰§è¡Œå¯¹åº”çš„é€»è¾‘ã€‚</p>\n</div>\n\n<h2 id=\"computed\"><a href=\"#computed\" class=\"headerlink\" title=\"computed\"></a>computed</h2><h3 id=\"ä½œç”¨\"><a href=\"#ä½œç”¨\" class=\"headerlink\" title=\"ä½œç”¨\"></a>ä½œç”¨</h3><p>è®¡ç®—å±æ€§ã€‚<code>computed</code> ç”¨äºå®šä¹‰é‚£äº›åŸºäºç»„ä»¶çŠ¶æ€<code>ï¼ˆå¦‚ dataã€å…¶ä»– computed å±æ€§ã€props ç­‰ï¼‰</code>çš„è¡ç”Ÿå€¼ã€‚å½“å…¶ä¾èµ–çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®¡ç®—å±æ€§ä¼šè‡ªåŠ¨é‡æ–°è®¡ç®—å¹¶è¿”å›ç»“æœã€‚</p>\n<h3 id=\"ç‰¹æ€§\"><a href=\"#ç‰¹æ€§\" class=\"headerlink\" title=\"ç‰¹æ€§\"></a>ç‰¹æ€§</h3><ol>\n<li><strong>ç¼“å­˜æœºåˆ¶ï¼š</strong> <code>computed</code>æ˜¯æœ‰ç¼“å­˜çš„ï¼Œåªæœ‰ä¾èµ–çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—ã€‚å¦‚æœä¾èµ–æœªå‘ç”Ÿå˜åŒ–ï¼Œåˆ™ç›´æ¥è¿”å›ä¹‹å‰è®¡ç®—çš„ç»“æœï¼Œ<strong>é¿å…äº†ä¸å¿…è¦çš„é‡å¤è®¡ç®—ï¼Œæé«˜äº†æ€§èƒ½</strong></li>\n<li><strong>å£°æ˜å¼ï¼š</strong> åœ¨æ¨¡æ¿ä¸­å¯ç›´æ¥ä½¿ç”¨<code>computed</code>å±æ€§ï¼Œå°±åƒè®¿é—®æ™®é€šå‡½æ•°ä¸€æ ·</li>\n<li><strong>è¯»å–ä¼˜å…ˆï¼š</strong> <code>computed</code>ä¸»è¦ç”¨äº<strong>è¯»å–</strong>åœºæ™¯ï¼Œå…¶å€¼ç”±<code>vue</code>è‡ªåŠ¨ç»´æŠ¤, é€šå¸¸ä¸å»ºè®®åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ç›´æ¥ä¿®æ”¹<code>computed</code>å±æ€§, å› ä¸ºè¿™ä¼šç ´åä¾èµ–è¿½è¸ªæœºåˆ¶ï¼Œå¯¼è‡´è®¡ç®—å±æ€§çš„ä¾èµ–é¡¹å˜åŒ–æ— æ³•è§¦å‘é‡æ–°è®¡ç®—ã€‚<code>computed</code>é»˜è®¤æ˜¯å¯è¯»çš„çŠ¶æ€ï¼›</li>\n</ol>\n<h3 id=\"ä½¿ç”¨åœºæ™¯\"><a href=\"#ä½¿ç”¨åœºæ™¯\" class=\"headerlink\" title=\"ä½¿ç”¨åœºæ™¯\"></a>ä½¿ç”¨åœºæ™¯</h3><ol>\n<li>å½“éœ€è¦å¯¹æ•°æ®è¿›è¡Œå¤æ‚è®¡ç®—æˆ–è€…é€»è¾‘å‡ºåº“ï¼Œå¹¶ä¸”ç»“æœä»…ä»…ä¾èµ–äºè¾“å…¥çŠ¶æ€æ—¶</li>\n<li>éœ€è¦ä»¥é«˜æ•ˆï¼Œå£°æ˜å¼çš„æ–¹å¼å±•ç¤ºç»è¿‡å¤„ç†çš„æ•°æ®(æ ¼å¼åŒ–ï¼Œç­›é€‰ï¼Œæ±‡æ€»)</li>\n</ol>\n<h2 id=\"watch\"><a href=\"#watch\" class=\"headerlink\" title=\"watch\"></a>watch</h2><h3 id=\"ä½œç”¨-1\"><a href=\"#ä½œç”¨-1\" class=\"headerlink\" title=\"ä½œç”¨\"></a>ä½œç”¨</h3><p>å“åº”å¼ç›‘å¬å™¨ï¼Œ å…è®¸æŒ‡å®šå•ä¸ªæˆ–è€…å¤šä¸ªæ•°æ®æº(å¯ä»¥æ˜¯ä»»æ„æ•°æ®, æ•°æ®å±æ€§ï¼Œå¯¹è±¡ï¼Œæ•°ç»„ç”šè‡³æ˜¯<code>props, computed</code>)ï¼Œ å½“è¿™æ•°æ®æºçš„å€¼å‘ç”Ÿå˜åŒ–å¹¶æ‰§è¡Œå›è°ƒå‡½æ•°</p>\n<h3 id=\"ç‰¹æ€§-1\"><a href=\"#ç‰¹æ€§-1\" class=\"headerlink\" title=\"ç‰¹æ€§\"></a>ç‰¹æ€§</h3><ol>\n<li><strong>å‡†ç¡®ç›‘å¬ï¼š</strong> å¯ä»¥ç²¾ç¡®ç›‘å¬æŒ‡å®šçš„æ•°æ®æºçš„æ·±åº¦ï¼Œæ§åˆ¶ç›‘å¬ç²’åº¦</li>\n<li><strong>é€‰é¡¹ä¸°å¯Œï¼š</strong> æä¾›äº†å¤šç§é€‰é¡¹å»å®šåˆ¶ç›‘å¬è¡Œä¸ºï¼Œå¦‚<code>deepæ·±åº¦ç›‘å¬</code>ï¼Œ<code>immediateç«‹å³æ‰§è¡Œ</code>, <code>flushé˜Ÿåˆ—åˆ·æ–°ç­–ç•¥</code>ç­‰</li>\n<li><strong>æ‰‹åŠ¨æ§åˆ¶ï¼š</strong> å›è°ƒå‡½æ•°å†…å¯ä»¥è¿›è¡Œå¤æ‚çš„å¼‚æ­¥æ“ä½œã€èµ„æºæ¸…ç†ç­‰å·¥ä½œï¼Œå¹¶èƒ½è®¿é—®åˆ°æ–°æ—§å€¼ã€‚</li>\n</ol>\n<h3 id=\"ä½¿ç”¨åœºæ™¯-1\"><a href=\"#ä½¿ç”¨åœºæ™¯-1\" class=\"headerlink\" title=\"ä½¿ç”¨åœºæ™¯\"></a>ä½¿ç”¨åœºæ™¯</h3><ol>\n<li>å½“éœ€è¦åœ¨ç‰¹å®šæ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æ“ä½œã€æ˜‚è´µè®¡ç®—æˆ–è€…è¿›è¡Œå‰¯ä½œç”¨å¤„ç†ï¼ˆå¦‚æ›´æ–° DOMã€å‘é€ç½‘ç»œè¯·æ±‚ã€æ›´æ–°å¤–éƒ¨çŠ¶æ€ç­‰ï¼‰ã€‚</li>\n<li>éœ€è¦å¯¹æ•°æ®å˜åŒ–è¿›è¡Œç²¾ç»†æ§åˆ¶ï¼Œå¦‚æ·±åº¦ç›‘å¬ã€å¤„ç†ç‰¹å®šç±»å‹çš„å˜æ›´äº‹ä»¶ç­‰ã€‚</li>\n</ol>\n<h2 id=\"watchEffect\"><a href=\"#watchEffect\" class=\"headerlink\" title=\"watchEffect\"></a>watchEffect</h2><h3 id=\"ä½œç”¨-2\"><a href=\"#ä½œç”¨-2\" class=\"headerlink\" title=\"ä½œç”¨\"></a>ä½œç”¨</h3><p>è‡ªåŠ¨è¿½è¸ªå‰¯ä½œç”¨å‡½æ•°ï¼›<code>watchEffect</code>ç«‹å³æ‰§è¡Œä¼ å…¥çš„å›è°ƒå‡½æ•°ï¼Œå¹¶åœ¨æ­¤ä¹‹åæŒç»­è¿½è¸ªå…¶å†…éƒ¨ä¾èµ–ï¼ˆæ‰€æœ‰å“åº”å¼å¼•ç”¨ï¼‰ï¼Œæ¯å½“è¿™äº›ä¾èµ–å˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°ä¼šå†æ¬¡æ‰§è¡Œã€‚</p>\n<h3 id=\"ç‰¹æ€§-2\"><a href=\"#ç‰¹æ€§-2\" class=\"headerlink\" title=\"ç‰¹æ€§\"></a>ç‰¹æ€§</h3><ol>\n<li><strong>è‡ªåŠ¨æœé›†ä¾èµ–ï¼š</strong> ä¸éœ€è¦æ˜ç¡®æŒ‡å®šè¦ç›‘å¬çš„æ•°æ®æºï¼Œå‡½æ•°ä½“å†…éƒ¨è®¿é—®åˆ°çš„æ‰€æœ‰å“åº”å¼æ•°æ®éƒ½ä¼šè¢«è‡ªåŠ¨è¿½è¸ª</li>\n<li><strong>ç«‹å³æ‰§è¡Œï¼š</strong> åˆ›å»ºæ—¶ç«‹å³è¿è¡Œä¸€æ¬¡ï¼Œæ— éœ€ immediate é€‰é¡¹ï¼Œé»˜è®¤æ€»æ˜¯åŒæ­¥æ‰§è¡Œå›è°ƒã€‚</li>\n<li><strong>å…³æ³¨å‰¯ä½œç”¨ï¼š</strong> æ›´å…³æ³¨äºå‰¯ä½œç”¨ï¼ˆside effectï¼‰çš„æ‰§è¡Œï¼Œè€Œéå…·ä½“ç›‘å¬å“ªä¸ªæ•°æ®çš„å˜åŒ–ã€‚</li>\n</ol>\n<h3 id=\"ä½¿ç”¨åœºæ™¯-2\"><a href=\"#ä½¿ç”¨åœºæ™¯-2\" class=\"headerlink\" title=\"ä½¿ç”¨åœºæ™¯\"></a>ä½¿ç”¨åœºæ™¯</h3><ol>\n<li>å½“éœ€è¦è‡ªåŠ¨è¿½è¸ªå’Œå³æ—¶å“åº”æ‰€æœ‰å½±å“ç»„ä»¶çŠ¶æ€å˜åŒ–çš„å› ç´ æ—¶ï¼Œæ— éœ€å…³å¿ƒå…·ä½“æ˜¯å“ªäº›æ•°æ®å˜åŒ–ã€‚</li>\n<li>ç”¨äºå¤„ç†åˆå§‹åŒ–é€»è¾‘æˆ–ä¾èµ–å¤æ‚ä¸”åŠ¨æ€å˜åŒ–çš„æƒ…å†µï¼Œç®€åŒ–ä»£ç ç¼–å†™ã€‚</li>\n</ol>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><ul>\n<li><code>computed</code> é€‚ç”¨äºå®šä¹‰åŸºäºçŠ¶æ€çš„è¡ç”Ÿå€¼ï¼Œæä¾›é«˜æ•ˆçš„ç¼“å­˜æœºåˆ¶ï¼Œå¸¸ç”¨äºè§†å›¾æ¸²æŸ“ã€‚</li>\n<li><code>watch</code> ç”¨äºç›‘å¬ç‰¹å®šæ•°æ®çš„å˜åŒ–ï¼Œå¹¶åœ¨å˜åŒ–æ—¶æ‰§è¡Œç‰¹å®šçš„å›è°ƒï¼Œé€‚åˆå¤„ç†å¤æ‚å‰¯ä½œç”¨ã€‚</li>\n<li><code>watchEffect</code> è‡ªåŠ¨è¿½è¸ªå‰¯ä½œç”¨å‡½æ•°çš„ä¾èµ–ï¼Œæ— é¡»æŒ‡å®šç›‘å¬ç›®æ ‡ï¼Œå¸¸ç”¨äºåˆå§‹åŒ–å’Œç®€å•å³æ—¶å“åº”åœºæ™¯ã€‚</li>\n</ul>\n"},{"title":"æ¸è¿›å¼æ¡†æ¶çš„ç†è§£","abbrlink":"6efa47fd","date":"2024-04-14T03:20:38.000Z","_content":"\n{% note info simple %}\næ¸è¿›å¼æ¡†æ¶æ˜¯ä¸€ç§è½¯ä»¶å¼€å‘æ¡†æ¶ï¼Œå®ƒä½“ç°äº†æ¸è¿›å¢å¼ºçš„ç†å¿µå’ŒæŠ€æœ¯å®è·µï¼Œä¸ºå¼€å‘è€…æä¾›äº†çµæ´»ã€æ¨¡å—åŒ–ä¸”é€‚åº”æ€§å¼ºçš„å·¥å…·é›†ï¼Œä»¥æ”¯æŒé€æ­¥æ„å»ºã€ä¼˜åŒ–å’Œæ‰©å±•åº”ç”¨ç¨‹åºã€‚\n{% endnote %}\n\n## ç‰¹æ€§\n\n1. é€æ­¥å¢å¼º\n\n   - æ¸è¿›å¼æ¡†æ¶å¼ºè°ƒé€æ­¥å¢å¼ºï¼Œå³ä»åŸºç¡€åŠŸèƒ½é€æ­¥æ‰©å±•åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§æ„å»ºæ•´ä¸ªåº”ç”¨ç¨‹åºã€‚è¿™ç§æ€è·¯å¼ºè°ƒäº†æ¨¡å—åŒ–è®¾è®¡ï¼Œå°†åº”ç”¨ç¨‹åºåˆ†è§£ä¸ºå¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æä¾›äº†ç‰¹å®šçš„åŠŸèƒ½ï¼Œå¹¶é€šè¿‡é€‚å½“çš„ç»„åˆå’Œæ‰©å±•æ¥å®ç°åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ã€‚\n\n2. æ¨¡å—åŒ–ä¸å¯é‡å¤æ€§\n\n   - æ¨¡å—åŒ–æ˜¯æŒ‡å°†åº”ç”¨ç¨‹åºåˆ†è§£ä¸ºå¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æä¾›äº†ç‰¹å®šçš„åŠŸèƒ½ï¼Œå¹¶é€šè¿‡é€‚å½“çš„ç»„åˆå’Œæ‰©å±•æ¥å®ç°åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ã€‚è¿™ç§è®¾è®¡æ–¹å¼ä½¿å¾—åº”ç”¨ç¨‹åºæ›´åŠ å¯é‡å¤å’Œå¯ç»´æŠ¤ï¼Œå› ä¸ºæ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•å’Œéƒ¨ç½²ã€‚\n\n   - å¯é‡å¤æ€§æ˜¯æŒ‡åº”ç”¨ç¨‹åºçš„æ¨¡å—åŒ–ç¨‹åº¦è¶Šé«˜ï¼Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»è¶Šå°‘ï¼Œæ¨¡å—çš„å¯å¤ç”¨æ€§è¶Šé«˜ï¼Œåº”ç”¨ç¨‹åºçš„å¯ç»´æŠ¤æ€§è¶Šé«˜ã€‚\n\n3. å¯æ‰©å±•æ€§ä¸çµæ´»æ€§\n\n   - æ¸è¿›å¼æ¡†æ¶æ”¯æŒæŒ‰éœ€åŠ è½½èµ„æºå’ŒåŠ¨æ€æ·»åŠ åŠŸèƒ½ï¼Œå…è®¸åº”ç”¨ç¨‹åºéšç€ç”¨æˆ·äº¤äº’æˆ–ä¸šåŠ¡éœ€æ±‚çš„å¢é•¿è€Œé€æ­¥æ‰©å±•ã€‚è¿™ç§çµæ´»æ€§ä½“ç°åœ¨æ¡†æ¶èƒ½å¤Ÿé€‚åº”ä¸åŒè§„æ¨¡çš„é¡¹ç›®ï¼Œä»ç®€å•çš„å•é¡µåº”ç”¨åˆ°å¤æ‚çš„å¤šé¡µé¢åº”ç”¨ï¼Œç”šè‡³è·¨å¹³å°çš„æ··åˆç§»åŠ¨åº”ç”¨ã€‚å¼€å‘äººå‘˜å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©æ€§åœ°é›†æˆæ¡†æ¶æä¾›çš„åŠŸèƒ½ï¼Œé¿å…äº†ä¸å¿…è¦çš„æ€§èƒ½å¼€é”€ã€‚\n\n4. å“åº”å¼ä¸è·¨å¹³å°\n\n   - æ¸è¿›å¼æ¡†æ¶é€šå¸¸å…·å¤‡è‰¯å¥½çš„å“åº”å¼è®¾è®¡æ”¯æŒï¼Œä½¿å¾—åŒä¸€å¥—ä»£ç å¯ä»¥é€‚åº”ä¸åŒçš„å±å¹•å°ºå¯¸å’Œè®¾å¤‡ç±»å‹ã€‚- æ¸è¿›å¼æ¡†æ¶é€šå¸¸å…·å¤‡è‰¯å¥½çš„å“åº”å¼è®¾è®¡æ”¯æŒï¼Œä½¿å¾—åŒä¸€å¥—ä»£ç èƒ½å¤Ÿåœ¨ä¸åŒå±å¹•å°ºå¯¸å’Œè®¾å¤‡ç±»å‹ï¼ˆå¦‚æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœºï¼‰ä¸Šæä¾›é€‚åº”æ€§çš„ç”¨æˆ·ä½“éªŒã€‚æ­¤å¤–ï¼Œè®¸å¤šæ¸è¿›å¼æ¡†æ¶ï¼ˆå°¤å…¶æ˜¯åŸºäº Web æŠ€æœ¯çš„æ¡†æ¶ï¼Œå¦‚ Vue.jsã€React ç­‰ï¼‰èƒ½å¤Ÿé€šè¿‡å°è£…æˆ–åŸç”Ÿæ¡¥æ¥æŠ€æœ¯ï¼Œè½»æ¾æ‰“åŒ…ä¸ºåŸç”Ÿåº”ç”¨ï¼Œå®ç°è·¨ iOSã€Android ç­‰å¤šä¸ªå¹³å°çš„éƒ¨ç½²ã€‚\n\n5. è¿­ä»£ä¸å¢é‡å¼€å‘\n\n   - æ¸è¿›å¼æ¡†æ¶å¼ºè°ƒä»¥æ¨¡å—åŒ–çš„æ–¹å¼è¿›è¡Œå¼€å‘ï¼Œæ¯ä¸ªæ¨¡å—éƒ½ä»¥ä¸€ä¸ªå•ç‹¬çš„æ¨¡å—æ¥å®Œæˆï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§å®Œæˆæ•´ä¸ªé¡¹ç›®ã€‚- æ¸è¿›å¼æ¡†æ¶é¼“åŠ±è¿­ä»£å’Œå¢é‡å¼€å‘è¿‡ç¨‹ï¼Œå³åœ¨é¡¹ç›®åˆæœŸå…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œç„¶åé€šè¿‡ä¸æ–­çš„åé¦ˆå’Œä¼˜åŒ–å¾ªç¯ï¼Œé€æ­¥æ·»åŠ æ–°åŠŸèƒ½ã€ä¿®å¤é—®é¢˜æˆ–æå‡æ€§èƒ½ã€‚è¿™ç§å¼€å‘æ¨¡å¼æœ‰åŠ©äºé™ä½é¡¹ç›®é£é™©ï¼Œæ›´å¿«åœ°å‘å¸‚åœºäº¤ä»˜å¯ç”¨äº§å“ï¼Œå¹¶èƒ½æ›´å¥½åœ°åº”å¯¹éœ€æ±‚å˜æ›´å’Œå¸‚åœºåé¦ˆã€‚\n\n6. ç¤¾åŒºæ”¯æŒä¸ç”Ÿæ€ç³»ç»Ÿï¼š\n\n   - æ¸è¿›å¼æ¡†æ¶é€šå¸¸æ‹¥æœ‰æ´»è·ƒçš„å¼€å‘è€…ç¤¾åŒºå’Œä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿï¼ŒåŒ…æ‹¬å¤§é‡çš„ç¬¬ä¸‰æ–¹æ’ä»¶ã€åº“ã€æ¨¡æ¿ã€UI ç»„ä»¶ã€å¼€å‘å·¥å…·ã€æœ€ä½³å®è·µæ–‡æ¡£ç­‰èµ„æºã€‚è¿™äº›èµ„æºæå¤§åœ°åŠ é€Ÿäº†å¼€å‘è¿›ç¨‹ï¼Œå‡å°‘äº†é‡å¤é€ è½®å­çš„å·¥ä½œï¼Œå¹¶ç¡®ä¿äº†æ¡†æ¶çš„æŒç»­æ›´æ–°å’Œè¿›åŒ–ä»¥é€‚åº”æŠ€æœ¯å‘å±•è¶‹åŠ¿ã€‚\n\n7. SEO å‹å¥½ï¼š\n\n   - å¯¹äºåŸºäº Web æŠ€æœ¯çš„æ¸è¿›å¼æ¡†æ¶ï¼Œå®ƒä»¬å¾€å¾€æ³¨é‡æœç´¢å¼•æ“ä¼˜åŒ–ï¼ˆSEOï¼‰ã€‚é€šè¿‡é¢„æ¸²æŸ“ã€æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ç­‰æŠ€æœ¯ï¼Œç¡®ä¿åº”ç”¨ç¨‹åºçš„å†…å®¹å¯ä»¥è¢«æœç´¢å¼•æ“æœ‰æ•ˆåœ°æŠ“å–å’Œç´¢å¼•ï¼Œè¿™å¯¹äºä¾èµ–æœç´¢å¼•æ“æµé‡çš„ç½‘ç«™è‡³å…³é‡è¦\n\n**æ¸è¿›å¼æ¡†æ¶ä»¥å…¶æ¸è¿›å¢å¼ºã€æ¨¡å—åŒ–ã€å¯æ‰©å±•ã€çµæ´»å’Œç”Ÿæ€ä¸°å¯Œçš„ç‰¹æ€§ï¼Œä¸ºå¼€å‘äººå‘˜æä¾›äº†ä¸€ç§é«˜æ•ˆã€é€‚åº”æ€§å¼ºçš„æ‰‹æ®µæ¥æ„å»ºé«˜æ€§èƒ½ã€è·¨å¹³å°ä¸”ç”¨æˆ·ä½“éªŒä¼˜ç§€çš„åº”ç”¨ç¨‹åºã€‚è¿™ç§æ¡†æ¶è®¾è®¡ä¸ä»…å…³æ³¨å½“ä¸‹é¡¹ç›®çš„å¿«é€Ÿå®ç°ï¼Œä¹Ÿç€çœ¼äºæœªæ¥çš„æŠ€æœ¯æ¼”è¿›å’Œä¸šåŠ¡éœ€æ±‚å˜åŒ–ï¼Œç¡®ä¿äº†åº”ç”¨ç¨‹åºçš„é•¿æœŸç”Ÿå‘½åŠ›å’Œå¯æŒç»­å‘å±•èƒ½åŠ›**\n\n## æ€»ç»“\n\n1. æ¸è¿›å¼æ˜¯ä¸€ç§çµæ´»å¯æ‰©å±•çš„è½¯ä»¶å®é™…ç†å¿µï¼Œ å…è®¸å¼€å‘äººå‘˜é€æ­¥æ·»åŠ æ–°åŠŸèƒ½ï¼Œè€Œä¸ä¼šç ´åç°æœ‰åŠŸèƒ½ã€‚\n2. æä¾›çµæ´»æ€§ä¸å¯æ‰©å±•æ€§ï¼Œé™ä½å­¦ä¹ æˆæœ¬ï¼Œä¼˜åŒ–æ€§èƒ½å¹¶æä¾›ä»£ç é‡å¤æœºåˆ¶ï¼› å¯æ ¹æ®é¡¹ç›®éœ€è¦çš„é€‰æ‹©å¼•å…¥å®ç°é«˜æ•ˆç²¾ç¡®çš„å¼€å‘è¿‡ç¨‹ã€‚\n3. å®šåˆ¶é…ç½®ï¼Œç»„ä»¶å¤ç”¨ä»¥åŠè°ƒè¯•æ»¡è¶³é¡¹ç›®è¦æ±‚ä»¥åŠæé«˜å¼€å‘æ•ˆç‡\n","source":"_posts/æŠ€èƒ½å°å†Œ/vue/æ¸è¿›å¼æ¡†æ¶çš„ç†è§£.md","raw":"---\ntitle: æ¸è¿›å¼æ¡†æ¶çš„ç†è§£\nabbrlink: 6efa47fd\ndate: 2024-04-14 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Vue \n---\n\n{% note info simple %}\næ¸è¿›å¼æ¡†æ¶æ˜¯ä¸€ç§è½¯ä»¶å¼€å‘æ¡†æ¶ï¼Œå®ƒä½“ç°äº†æ¸è¿›å¢å¼ºçš„ç†å¿µå’ŒæŠ€æœ¯å®è·µï¼Œä¸ºå¼€å‘è€…æä¾›äº†çµæ´»ã€æ¨¡å—åŒ–ä¸”é€‚åº”æ€§å¼ºçš„å·¥å…·é›†ï¼Œä»¥æ”¯æŒé€æ­¥æ„å»ºã€ä¼˜åŒ–å’Œæ‰©å±•åº”ç”¨ç¨‹åºã€‚\n{% endnote %}\n\n## ç‰¹æ€§\n\n1. é€æ­¥å¢å¼º\n\n   - æ¸è¿›å¼æ¡†æ¶å¼ºè°ƒé€æ­¥å¢å¼ºï¼Œå³ä»åŸºç¡€åŠŸèƒ½é€æ­¥æ‰©å±•åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§æ„å»ºæ•´ä¸ªåº”ç”¨ç¨‹åºã€‚è¿™ç§æ€è·¯å¼ºè°ƒäº†æ¨¡å—åŒ–è®¾è®¡ï¼Œå°†åº”ç”¨ç¨‹åºåˆ†è§£ä¸ºå¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æä¾›äº†ç‰¹å®šçš„åŠŸèƒ½ï¼Œå¹¶é€šè¿‡é€‚å½“çš„ç»„åˆå’Œæ‰©å±•æ¥å®ç°åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ã€‚\n\n2. æ¨¡å—åŒ–ä¸å¯é‡å¤æ€§\n\n   - æ¨¡å—åŒ–æ˜¯æŒ‡å°†åº”ç”¨ç¨‹åºåˆ†è§£ä¸ºå¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æä¾›äº†ç‰¹å®šçš„åŠŸèƒ½ï¼Œå¹¶é€šè¿‡é€‚å½“çš„ç»„åˆå’Œæ‰©å±•æ¥å®ç°åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ã€‚è¿™ç§è®¾è®¡æ–¹å¼ä½¿å¾—åº”ç”¨ç¨‹åºæ›´åŠ å¯é‡å¤å’Œå¯ç»´æŠ¤ï¼Œå› ä¸ºæ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•å’Œéƒ¨ç½²ã€‚\n\n   - å¯é‡å¤æ€§æ˜¯æŒ‡åº”ç”¨ç¨‹åºçš„æ¨¡å—åŒ–ç¨‹åº¦è¶Šé«˜ï¼Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»è¶Šå°‘ï¼Œæ¨¡å—çš„å¯å¤ç”¨æ€§è¶Šé«˜ï¼Œåº”ç”¨ç¨‹åºçš„å¯ç»´æŠ¤æ€§è¶Šé«˜ã€‚\n\n3. å¯æ‰©å±•æ€§ä¸çµæ´»æ€§\n\n   - æ¸è¿›å¼æ¡†æ¶æ”¯æŒæŒ‰éœ€åŠ è½½èµ„æºå’ŒåŠ¨æ€æ·»åŠ åŠŸèƒ½ï¼Œå…è®¸åº”ç”¨ç¨‹åºéšç€ç”¨æˆ·äº¤äº’æˆ–ä¸šåŠ¡éœ€æ±‚çš„å¢é•¿è€Œé€æ­¥æ‰©å±•ã€‚è¿™ç§çµæ´»æ€§ä½“ç°åœ¨æ¡†æ¶èƒ½å¤Ÿé€‚åº”ä¸åŒè§„æ¨¡çš„é¡¹ç›®ï¼Œä»ç®€å•çš„å•é¡µåº”ç”¨åˆ°å¤æ‚çš„å¤šé¡µé¢åº”ç”¨ï¼Œç”šè‡³è·¨å¹³å°çš„æ··åˆç§»åŠ¨åº”ç”¨ã€‚å¼€å‘äººå‘˜å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©æ€§åœ°é›†æˆæ¡†æ¶æä¾›çš„åŠŸèƒ½ï¼Œé¿å…äº†ä¸å¿…è¦çš„æ€§èƒ½å¼€é”€ã€‚\n\n4. å“åº”å¼ä¸è·¨å¹³å°\n\n   - æ¸è¿›å¼æ¡†æ¶é€šå¸¸å…·å¤‡è‰¯å¥½çš„å“åº”å¼è®¾è®¡æ”¯æŒï¼Œä½¿å¾—åŒä¸€å¥—ä»£ç å¯ä»¥é€‚åº”ä¸åŒçš„å±å¹•å°ºå¯¸å’Œè®¾å¤‡ç±»å‹ã€‚- æ¸è¿›å¼æ¡†æ¶é€šå¸¸å…·å¤‡è‰¯å¥½çš„å“åº”å¼è®¾è®¡æ”¯æŒï¼Œä½¿å¾—åŒä¸€å¥—ä»£ç èƒ½å¤Ÿåœ¨ä¸åŒå±å¹•å°ºå¯¸å’Œè®¾å¤‡ç±»å‹ï¼ˆå¦‚æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœºï¼‰ä¸Šæä¾›é€‚åº”æ€§çš„ç”¨æˆ·ä½“éªŒã€‚æ­¤å¤–ï¼Œè®¸å¤šæ¸è¿›å¼æ¡†æ¶ï¼ˆå°¤å…¶æ˜¯åŸºäº Web æŠ€æœ¯çš„æ¡†æ¶ï¼Œå¦‚ Vue.jsã€React ç­‰ï¼‰èƒ½å¤Ÿé€šè¿‡å°è£…æˆ–åŸç”Ÿæ¡¥æ¥æŠ€æœ¯ï¼Œè½»æ¾æ‰“åŒ…ä¸ºåŸç”Ÿåº”ç”¨ï¼Œå®ç°è·¨ iOSã€Android ç­‰å¤šä¸ªå¹³å°çš„éƒ¨ç½²ã€‚\n\n5. è¿­ä»£ä¸å¢é‡å¼€å‘\n\n   - æ¸è¿›å¼æ¡†æ¶å¼ºè°ƒä»¥æ¨¡å—åŒ–çš„æ–¹å¼è¿›è¡Œå¼€å‘ï¼Œæ¯ä¸ªæ¨¡å—éƒ½ä»¥ä¸€ä¸ªå•ç‹¬çš„æ¨¡å—æ¥å®Œæˆï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§å®Œæˆæ•´ä¸ªé¡¹ç›®ã€‚- æ¸è¿›å¼æ¡†æ¶é¼“åŠ±è¿­ä»£å’Œå¢é‡å¼€å‘è¿‡ç¨‹ï¼Œå³åœ¨é¡¹ç›®åˆæœŸå…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œç„¶åé€šè¿‡ä¸æ–­çš„åé¦ˆå’Œä¼˜åŒ–å¾ªç¯ï¼Œé€æ­¥æ·»åŠ æ–°åŠŸèƒ½ã€ä¿®å¤é—®é¢˜æˆ–æå‡æ€§èƒ½ã€‚è¿™ç§å¼€å‘æ¨¡å¼æœ‰åŠ©äºé™ä½é¡¹ç›®é£é™©ï¼Œæ›´å¿«åœ°å‘å¸‚åœºäº¤ä»˜å¯ç”¨äº§å“ï¼Œå¹¶èƒ½æ›´å¥½åœ°åº”å¯¹éœ€æ±‚å˜æ›´å’Œå¸‚åœºåé¦ˆã€‚\n\n6. ç¤¾åŒºæ”¯æŒä¸ç”Ÿæ€ç³»ç»Ÿï¼š\n\n   - æ¸è¿›å¼æ¡†æ¶é€šå¸¸æ‹¥æœ‰æ´»è·ƒçš„å¼€å‘è€…ç¤¾åŒºå’Œä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿï¼ŒåŒ…æ‹¬å¤§é‡çš„ç¬¬ä¸‰æ–¹æ’ä»¶ã€åº“ã€æ¨¡æ¿ã€UI ç»„ä»¶ã€å¼€å‘å·¥å…·ã€æœ€ä½³å®è·µæ–‡æ¡£ç­‰èµ„æºã€‚è¿™äº›èµ„æºæå¤§åœ°åŠ é€Ÿäº†å¼€å‘è¿›ç¨‹ï¼Œå‡å°‘äº†é‡å¤é€ è½®å­çš„å·¥ä½œï¼Œå¹¶ç¡®ä¿äº†æ¡†æ¶çš„æŒç»­æ›´æ–°å’Œè¿›åŒ–ä»¥é€‚åº”æŠ€æœ¯å‘å±•è¶‹åŠ¿ã€‚\n\n7. SEO å‹å¥½ï¼š\n\n   - å¯¹äºåŸºäº Web æŠ€æœ¯çš„æ¸è¿›å¼æ¡†æ¶ï¼Œå®ƒä»¬å¾€å¾€æ³¨é‡æœç´¢å¼•æ“ä¼˜åŒ–ï¼ˆSEOï¼‰ã€‚é€šè¿‡é¢„æ¸²æŸ“ã€æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ç­‰æŠ€æœ¯ï¼Œç¡®ä¿åº”ç”¨ç¨‹åºçš„å†…å®¹å¯ä»¥è¢«æœç´¢å¼•æ“æœ‰æ•ˆåœ°æŠ“å–å’Œç´¢å¼•ï¼Œè¿™å¯¹äºä¾èµ–æœç´¢å¼•æ“æµé‡çš„ç½‘ç«™è‡³å…³é‡è¦\n\n**æ¸è¿›å¼æ¡†æ¶ä»¥å…¶æ¸è¿›å¢å¼ºã€æ¨¡å—åŒ–ã€å¯æ‰©å±•ã€çµæ´»å’Œç”Ÿæ€ä¸°å¯Œçš„ç‰¹æ€§ï¼Œä¸ºå¼€å‘äººå‘˜æä¾›äº†ä¸€ç§é«˜æ•ˆã€é€‚åº”æ€§å¼ºçš„æ‰‹æ®µæ¥æ„å»ºé«˜æ€§èƒ½ã€è·¨å¹³å°ä¸”ç”¨æˆ·ä½“éªŒä¼˜ç§€çš„åº”ç”¨ç¨‹åºã€‚è¿™ç§æ¡†æ¶è®¾è®¡ä¸ä»…å…³æ³¨å½“ä¸‹é¡¹ç›®çš„å¿«é€Ÿå®ç°ï¼Œä¹Ÿç€çœ¼äºæœªæ¥çš„æŠ€æœ¯æ¼”è¿›å’Œä¸šåŠ¡éœ€æ±‚å˜åŒ–ï¼Œç¡®ä¿äº†åº”ç”¨ç¨‹åºçš„é•¿æœŸç”Ÿå‘½åŠ›å’Œå¯æŒç»­å‘å±•èƒ½åŠ›**\n\n## æ€»ç»“\n\n1. æ¸è¿›å¼æ˜¯ä¸€ç§çµæ´»å¯æ‰©å±•çš„è½¯ä»¶å®é™…ç†å¿µï¼Œ å…è®¸å¼€å‘äººå‘˜é€æ­¥æ·»åŠ æ–°åŠŸèƒ½ï¼Œè€Œä¸ä¼šç ´åç°æœ‰åŠŸèƒ½ã€‚\n2. æä¾›çµæ´»æ€§ä¸å¯æ‰©å±•æ€§ï¼Œé™ä½å­¦ä¹ æˆæœ¬ï¼Œä¼˜åŒ–æ€§èƒ½å¹¶æä¾›ä»£ç é‡å¤æœºåˆ¶ï¼› å¯æ ¹æ®é¡¹ç›®éœ€è¦çš„é€‰æ‹©å¼•å…¥å®ç°é«˜æ•ˆç²¾ç¡®çš„å¼€å‘è¿‡ç¨‹ã€‚\n3. å®šåˆ¶é…ç½®ï¼Œç»„ä»¶å¤ç”¨ä»¥åŠè°ƒè¯•æ»¡è¶³é¡¹ç›®è¦æ±‚ä»¥åŠæé«˜å¼€å‘æ•ˆç‡\n","slug":"æŠ€èƒ½å°å†Œ/vue/æ¸è¿›å¼æ¡†æ¶çš„ç†è§£","published":1,"updated":"2025-03-12T09:27:09.780Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j10049fg9m55pgblq5","content":"<div class=\"note info simple\"><p>æ¸è¿›å¼æ¡†æ¶æ˜¯ä¸€ç§è½¯ä»¶å¼€å‘æ¡†æ¶ï¼Œå®ƒä½“ç°äº†æ¸è¿›å¢å¼ºçš„ç†å¿µå’ŒæŠ€æœ¯å®è·µï¼Œä¸ºå¼€å‘è€…æä¾›äº†çµæ´»ã€æ¨¡å—åŒ–ä¸”é€‚åº”æ€§å¼ºçš„å·¥å…·é›†ï¼Œä»¥æ”¯æŒé€æ­¥æ„å»ºã€ä¼˜åŒ–å’Œæ‰©å±•åº”ç”¨ç¨‹åºã€‚</p>\n</div>\n\n<h2 id=\"ç‰¹æ€§\"><a href=\"#ç‰¹æ€§\" class=\"headerlink\" title=\"ç‰¹æ€§\"></a>ç‰¹æ€§</h2><ol>\n<li><p>é€æ­¥å¢å¼º</p>\n<ul>\n<li>æ¸è¿›å¼æ¡†æ¶å¼ºè°ƒé€æ­¥å¢å¼ºï¼Œå³ä»åŸºç¡€åŠŸèƒ½é€æ­¥æ‰©å±•åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§æ„å»ºæ•´ä¸ªåº”ç”¨ç¨‹åºã€‚è¿™ç§æ€è·¯å¼ºè°ƒäº†æ¨¡å—åŒ–è®¾è®¡ï¼Œå°†åº”ç”¨ç¨‹åºåˆ†è§£ä¸ºå¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æä¾›äº†ç‰¹å®šçš„åŠŸèƒ½ï¼Œå¹¶é€šè¿‡é€‚å½“çš„ç»„åˆå’Œæ‰©å±•æ¥å®ç°åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ã€‚</li>\n</ul>\n</li>\n<li><p>æ¨¡å—åŒ–ä¸å¯é‡å¤æ€§</p>\n<ul>\n<li><p>æ¨¡å—åŒ–æ˜¯æŒ‡å°†åº”ç”¨ç¨‹åºåˆ†è§£ä¸ºå¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æä¾›äº†ç‰¹å®šçš„åŠŸèƒ½ï¼Œå¹¶é€šè¿‡é€‚å½“çš„ç»„åˆå’Œæ‰©å±•æ¥å®ç°åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ã€‚è¿™ç§è®¾è®¡æ–¹å¼ä½¿å¾—åº”ç”¨ç¨‹åºæ›´åŠ å¯é‡å¤å’Œå¯ç»´æŠ¤ï¼Œå› ä¸ºæ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•å’Œéƒ¨ç½²ã€‚</p>\n</li>\n<li><p>å¯é‡å¤æ€§æ˜¯æŒ‡åº”ç”¨ç¨‹åºçš„æ¨¡å—åŒ–ç¨‹åº¦è¶Šé«˜ï¼Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»è¶Šå°‘ï¼Œæ¨¡å—çš„å¯å¤ç”¨æ€§è¶Šé«˜ï¼Œåº”ç”¨ç¨‹åºçš„å¯ç»´æŠ¤æ€§è¶Šé«˜ã€‚</p>\n</li>\n</ul>\n</li>\n<li><p>å¯æ‰©å±•æ€§ä¸çµæ´»æ€§</p>\n<ul>\n<li>æ¸è¿›å¼æ¡†æ¶æ”¯æŒæŒ‰éœ€åŠ è½½èµ„æºå’ŒåŠ¨æ€æ·»åŠ åŠŸèƒ½ï¼Œå…è®¸åº”ç”¨ç¨‹åºéšç€ç”¨æˆ·äº¤äº’æˆ–ä¸šåŠ¡éœ€æ±‚çš„å¢é•¿è€Œé€æ­¥æ‰©å±•ã€‚è¿™ç§çµæ´»æ€§ä½“ç°åœ¨æ¡†æ¶èƒ½å¤Ÿé€‚åº”ä¸åŒè§„æ¨¡çš„é¡¹ç›®ï¼Œä»ç®€å•çš„å•é¡µåº”ç”¨åˆ°å¤æ‚çš„å¤šé¡µé¢åº”ç”¨ï¼Œç”šè‡³è·¨å¹³å°çš„æ··åˆç§»åŠ¨åº”ç”¨ã€‚å¼€å‘äººå‘˜å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©æ€§åœ°é›†æˆæ¡†æ¶æä¾›çš„åŠŸèƒ½ï¼Œé¿å…äº†ä¸å¿…è¦çš„æ€§èƒ½å¼€é”€ã€‚</li>\n</ul>\n</li>\n<li><p>å“åº”å¼ä¸è·¨å¹³å°</p>\n<ul>\n<li>æ¸è¿›å¼æ¡†æ¶é€šå¸¸å…·å¤‡è‰¯å¥½çš„å“åº”å¼è®¾è®¡æ”¯æŒï¼Œä½¿å¾—åŒä¸€å¥—ä»£ç å¯ä»¥é€‚åº”ä¸åŒçš„å±å¹•å°ºå¯¸å’Œè®¾å¤‡ç±»å‹ã€‚- æ¸è¿›å¼æ¡†æ¶é€šå¸¸å…·å¤‡è‰¯å¥½çš„å“åº”å¼è®¾è®¡æ”¯æŒï¼Œä½¿å¾—åŒä¸€å¥—ä»£ç èƒ½å¤Ÿåœ¨ä¸åŒå±å¹•å°ºå¯¸å’Œè®¾å¤‡ç±»å‹ï¼ˆå¦‚æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœºï¼‰ä¸Šæä¾›é€‚åº”æ€§çš„ç”¨æˆ·ä½“éªŒã€‚æ­¤å¤–ï¼Œè®¸å¤šæ¸è¿›å¼æ¡†æ¶ï¼ˆå°¤å…¶æ˜¯åŸºäº Web æŠ€æœ¯çš„æ¡†æ¶ï¼Œå¦‚ Vue.jsã€React ç­‰ï¼‰èƒ½å¤Ÿé€šè¿‡å°è£…æˆ–åŸç”Ÿæ¡¥æ¥æŠ€æœ¯ï¼Œè½»æ¾æ‰“åŒ…ä¸ºåŸç”Ÿåº”ç”¨ï¼Œå®ç°è·¨ iOSã€Android ç­‰å¤šä¸ªå¹³å°çš„éƒ¨ç½²ã€‚</li>\n</ul>\n</li>\n<li><p>è¿­ä»£ä¸å¢é‡å¼€å‘</p>\n<ul>\n<li>æ¸è¿›å¼æ¡†æ¶å¼ºè°ƒä»¥æ¨¡å—åŒ–çš„æ–¹å¼è¿›è¡Œå¼€å‘ï¼Œæ¯ä¸ªæ¨¡å—éƒ½ä»¥ä¸€ä¸ªå•ç‹¬çš„æ¨¡å—æ¥å®Œæˆï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§å®Œæˆæ•´ä¸ªé¡¹ç›®ã€‚- æ¸è¿›å¼æ¡†æ¶é¼“åŠ±è¿­ä»£å’Œå¢é‡å¼€å‘è¿‡ç¨‹ï¼Œå³åœ¨é¡¹ç›®åˆæœŸå…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œç„¶åé€šè¿‡ä¸æ–­çš„åé¦ˆå’Œä¼˜åŒ–å¾ªç¯ï¼Œé€æ­¥æ·»åŠ æ–°åŠŸèƒ½ã€ä¿®å¤é—®é¢˜æˆ–æå‡æ€§èƒ½ã€‚è¿™ç§å¼€å‘æ¨¡å¼æœ‰åŠ©äºé™ä½é¡¹ç›®é£é™©ï¼Œæ›´å¿«åœ°å‘å¸‚åœºäº¤ä»˜å¯ç”¨äº§å“ï¼Œå¹¶èƒ½æ›´å¥½åœ°åº”å¯¹éœ€æ±‚å˜æ›´å’Œå¸‚åœºåé¦ˆã€‚</li>\n</ul>\n</li>\n<li><p>ç¤¾åŒºæ”¯æŒä¸ç”Ÿæ€ç³»ç»Ÿï¼š</p>\n<ul>\n<li>æ¸è¿›å¼æ¡†æ¶é€šå¸¸æ‹¥æœ‰æ´»è·ƒçš„å¼€å‘è€…ç¤¾åŒºå’Œä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿï¼ŒåŒ…æ‹¬å¤§é‡çš„ç¬¬ä¸‰æ–¹æ’ä»¶ã€åº“ã€æ¨¡æ¿ã€UI ç»„ä»¶ã€å¼€å‘å·¥å…·ã€æœ€ä½³å®è·µæ–‡æ¡£ç­‰èµ„æºã€‚è¿™äº›èµ„æºæå¤§åœ°åŠ é€Ÿäº†å¼€å‘è¿›ç¨‹ï¼Œå‡å°‘äº†é‡å¤é€ è½®å­çš„å·¥ä½œï¼Œå¹¶ç¡®ä¿äº†æ¡†æ¶çš„æŒç»­æ›´æ–°å’Œè¿›åŒ–ä»¥é€‚åº”æŠ€æœ¯å‘å±•è¶‹åŠ¿ã€‚</li>\n</ul>\n</li>\n<li><p>SEO å‹å¥½ï¼š</p>\n<ul>\n<li>å¯¹äºåŸºäº Web æŠ€æœ¯çš„æ¸è¿›å¼æ¡†æ¶ï¼Œå®ƒä»¬å¾€å¾€æ³¨é‡æœç´¢å¼•æ“ä¼˜åŒ–ï¼ˆSEOï¼‰ã€‚é€šè¿‡é¢„æ¸²æŸ“ã€æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ç­‰æŠ€æœ¯ï¼Œç¡®ä¿åº”ç”¨ç¨‹åºçš„å†…å®¹å¯ä»¥è¢«æœç´¢å¼•æ“æœ‰æ•ˆåœ°æŠ“å–å’Œç´¢å¼•ï¼Œè¿™å¯¹äºä¾èµ–æœç´¢å¼•æ“æµé‡çš„ç½‘ç«™è‡³å…³é‡è¦</li>\n</ul>\n</li>\n</ol>\n<p><strong>æ¸è¿›å¼æ¡†æ¶ä»¥å…¶æ¸è¿›å¢å¼ºã€æ¨¡å—åŒ–ã€å¯æ‰©å±•ã€çµæ´»å’Œç”Ÿæ€ä¸°å¯Œçš„ç‰¹æ€§ï¼Œä¸ºå¼€å‘äººå‘˜æä¾›äº†ä¸€ç§é«˜æ•ˆã€é€‚åº”æ€§å¼ºçš„æ‰‹æ®µæ¥æ„å»ºé«˜æ€§èƒ½ã€è·¨å¹³å°ä¸”ç”¨æˆ·ä½“éªŒä¼˜ç§€çš„åº”ç”¨ç¨‹åºã€‚è¿™ç§æ¡†æ¶è®¾è®¡ä¸ä»…å…³æ³¨å½“ä¸‹é¡¹ç›®çš„å¿«é€Ÿå®ç°ï¼Œä¹Ÿç€çœ¼äºæœªæ¥çš„æŠ€æœ¯æ¼”è¿›å’Œä¸šåŠ¡éœ€æ±‚å˜åŒ–ï¼Œç¡®ä¿äº†åº”ç”¨ç¨‹åºçš„é•¿æœŸç”Ÿå‘½åŠ›å’Œå¯æŒç»­å‘å±•èƒ½åŠ›</strong></p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><ol>\n<li>æ¸è¿›å¼æ˜¯ä¸€ç§çµæ´»å¯æ‰©å±•çš„è½¯ä»¶å®é™…ç†å¿µï¼Œ å…è®¸å¼€å‘äººå‘˜é€æ­¥æ·»åŠ æ–°åŠŸèƒ½ï¼Œè€Œä¸ä¼šç ´åç°æœ‰åŠŸèƒ½ã€‚</li>\n<li>æä¾›çµæ´»æ€§ä¸å¯æ‰©å±•æ€§ï¼Œé™ä½å­¦ä¹ æˆæœ¬ï¼Œä¼˜åŒ–æ€§èƒ½å¹¶æä¾›ä»£ç é‡å¤æœºåˆ¶ï¼› å¯æ ¹æ®é¡¹ç›®éœ€è¦çš„é€‰æ‹©å¼•å…¥å®ç°é«˜æ•ˆç²¾ç¡®çš„å¼€å‘è¿‡ç¨‹ã€‚</li>\n<li>å®šåˆ¶é…ç½®ï¼Œç»„ä»¶å¤ç”¨ä»¥åŠè°ƒè¯•æ»¡è¶³é¡¹ç›®è¦æ±‚ä»¥åŠæé«˜å¼€å‘æ•ˆç‡</li>\n</ol>\n","excerpt":"","more":"<div class=\"note info simple\"><p>æ¸è¿›å¼æ¡†æ¶æ˜¯ä¸€ç§è½¯ä»¶å¼€å‘æ¡†æ¶ï¼Œå®ƒä½“ç°äº†æ¸è¿›å¢å¼ºçš„ç†å¿µå’ŒæŠ€æœ¯å®è·µï¼Œä¸ºå¼€å‘è€…æä¾›äº†çµæ´»ã€æ¨¡å—åŒ–ä¸”é€‚åº”æ€§å¼ºçš„å·¥å…·é›†ï¼Œä»¥æ”¯æŒé€æ­¥æ„å»ºã€ä¼˜åŒ–å’Œæ‰©å±•åº”ç”¨ç¨‹åºã€‚</p>\n</div>\n\n<h2 id=\"ç‰¹æ€§\"><a href=\"#ç‰¹æ€§\" class=\"headerlink\" title=\"ç‰¹æ€§\"></a>ç‰¹æ€§</h2><ol>\n<li><p>é€æ­¥å¢å¼º</p>\n<ul>\n<li>æ¸è¿›å¼æ¡†æ¶å¼ºè°ƒé€æ­¥å¢å¼ºï¼Œå³ä»åŸºç¡€åŠŸèƒ½é€æ­¥æ‰©å±•åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§æ„å»ºæ•´ä¸ªåº”ç”¨ç¨‹åºã€‚è¿™ç§æ€è·¯å¼ºè°ƒäº†æ¨¡å—åŒ–è®¾è®¡ï¼Œå°†åº”ç”¨ç¨‹åºåˆ†è§£ä¸ºå¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æä¾›äº†ç‰¹å®šçš„åŠŸèƒ½ï¼Œå¹¶é€šè¿‡é€‚å½“çš„ç»„åˆå’Œæ‰©å±•æ¥å®ç°åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ã€‚</li>\n</ul>\n</li>\n<li><p>æ¨¡å—åŒ–ä¸å¯é‡å¤æ€§</p>\n<ul>\n<li><p>æ¨¡å—åŒ–æ˜¯æŒ‡å°†åº”ç”¨ç¨‹åºåˆ†è§£ä¸ºå¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æä¾›äº†ç‰¹å®šçš„åŠŸèƒ½ï¼Œå¹¶é€šè¿‡é€‚å½“çš„ç»„åˆå’Œæ‰©å±•æ¥å®ç°åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ã€‚è¿™ç§è®¾è®¡æ–¹å¼ä½¿å¾—åº”ç”¨ç¨‹åºæ›´åŠ å¯é‡å¤å’Œå¯ç»´æŠ¤ï¼Œå› ä¸ºæ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•å’Œéƒ¨ç½²ã€‚</p>\n</li>\n<li><p>å¯é‡å¤æ€§æ˜¯æŒ‡åº”ç”¨ç¨‹åºçš„æ¨¡å—åŒ–ç¨‹åº¦è¶Šé«˜ï¼Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»è¶Šå°‘ï¼Œæ¨¡å—çš„å¯å¤ç”¨æ€§è¶Šé«˜ï¼Œåº”ç”¨ç¨‹åºçš„å¯ç»´æŠ¤æ€§è¶Šé«˜ã€‚</p>\n</li>\n</ul>\n</li>\n<li><p>å¯æ‰©å±•æ€§ä¸çµæ´»æ€§</p>\n<ul>\n<li>æ¸è¿›å¼æ¡†æ¶æ”¯æŒæŒ‰éœ€åŠ è½½èµ„æºå’ŒåŠ¨æ€æ·»åŠ åŠŸèƒ½ï¼Œå…è®¸åº”ç”¨ç¨‹åºéšç€ç”¨æˆ·äº¤äº’æˆ–ä¸šåŠ¡éœ€æ±‚çš„å¢é•¿è€Œé€æ­¥æ‰©å±•ã€‚è¿™ç§çµæ´»æ€§ä½“ç°åœ¨æ¡†æ¶èƒ½å¤Ÿé€‚åº”ä¸åŒè§„æ¨¡çš„é¡¹ç›®ï¼Œä»ç®€å•çš„å•é¡µåº”ç”¨åˆ°å¤æ‚çš„å¤šé¡µé¢åº”ç”¨ï¼Œç”šè‡³è·¨å¹³å°çš„æ··åˆç§»åŠ¨åº”ç”¨ã€‚å¼€å‘äººå‘˜å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©æ€§åœ°é›†æˆæ¡†æ¶æä¾›çš„åŠŸèƒ½ï¼Œé¿å…äº†ä¸å¿…è¦çš„æ€§èƒ½å¼€é”€ã€‚</li>\n</ul>\n</li>\n<li><p>å“åº”å¼ä¸è·¨å¹³å°</p>\n<ul>\n<li>æ¸è¿›å¼æ¡†æ¶é€šå¸¸å…·å¤‡è‰¯å¥½çš„å“åº”å¼è®¾è®¡æ”¯æŒï¼Œä½¿å¾—åŒä¸€å¥—ä»£ç å¯ä»¥é€‚åº”ä¸åŒçš„å±å¹•å°ºå¯¸å’Œè®¾å¤‡ç±»å‹ã€‚- æ¸è¿›å¼æ¡†æ¶é€šå¸¸å…·å¤‡è‰¯å¥½çš„å“åº”å¼è®¾è®¡æ”¯æŒï¼Œä½¿å¾—åŒä¸€å¥—ä»£ç èƒ½å¤Ÿåœ¨ä¸åŒå±å¹•å°ºå¯¸å’Œè®¾å¤‡ç±»å‹ï¼ˆå¦‚æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœºï¼‰ä¸Šæä¾›é€‚åº”æ€§çš„ç”¨æˆ·ä½“éªŒã€‚æ­¤å¤–ï¼Œè®¸å¤šæ¸è¿›å¼æ¡†æ¶ï¼ˆå°¤å…¶æ˜¯åŸºäº Web æŠ€æœ¯çš„æ¡†æ¶ï¼Œå¦‚ Vue.jsã€React ç­‰ï¼‰èƒ½å¤Ÿé€šè¿‡å°è£…æˆ–åŸç”Ÿæ¡¥æ¥æŠ€æœ¯ï¼Œè½»æ¾æ‰“åŒ…ä¸ºåŸç”Ÿåº”ç”¨ï¼Œå®ç°è·¨ iOSã€Android ç­‰å¤šä¸ªå¹³å°çš„éƒ¨ç½²ã€‚</li>\n</ul>\n</li>\n<li><p>è¿­ä»£ä¸å¢é‡å¼€å‘</p>\n<ul>\n<li>æ¸è¿›å¼æ¡†æ¶å¼ºè°ƒä»¥æ¨¡å—åŒ–çš„æ–¹å¼è¿›è¡Œå¼€å‘ï¼Œæ¯ä¸ªæ¨¡å—éƒ½ä»¥ä¸€ä¸ªå•ç‹¬çš„æ¨¡å—æ¥å®Œæˆï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§å®Œæˆæ•´ä¸ªé¡¹ç›®ã€‚- æ¸è¿›å¼æ¡†æ¶é¼“åŠ±è¿­ä»£å’Œå¢é‡å¼€å‘è¿‡ç¨‹ï¼Œå³åœ¨é¡¹ç›®åˆæœŸå…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œç„¶åé€šè¿‡ä¸æ–­çš„åé¦ˆå’Œä¼˜åŒ–å¾ªç¯ï¼Œé€æ­¥æ·»åŠ æ–°åŠŸèƒ½ã€ä¿®å¤é—®é¢˜æˆ–æå‡æ€§èƒ½ã€‚è¿™ç§å¼€å‘æ¨¡å¼æœ‰åŠ©äºé™ä½é¡¹ç›®é£é™©ï¼Œæ›´å¿«åœ°å‘å¸‚åœºäº¤ä»˜å¯ç”¨äº§å“ï¼Œå¹¶èƒ½æ›´å¥½åœ°åº”å¯¹éœ€æ±‚å˜æ›´å’Œå¸‚åœºåé¦ˆã€‚</li>\n</ul>\n</li>\n<li><p>ç¤¾åŒºæ”¯æŒä¸ç”Ÿæ€ç³»ç»Ÿï¼š</p>\n<ul>\n<li>æ¸è¿›å¼æ¡†æ¶é€šå¸¸æ‹¥æœ‰æ´»è·ƒçš„å¼€å‘è€…ç¤¾åŒºå’Œä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿï¼ŒåŒ…æ‹¬å¤§é‡çš„ç¬¬ä¸‰æ–¹æ’ä»¶ã€åº“ã€æ¨¡æ¿ã€UI ç»„ä»¶ã€å¼€å‘å·¥å…·ã€æœ€ä½³å®è·µæ–‡æ¡£ç­‰èµ„æºã€‚è¿™äº›èµ„æºæå¤§åœ°åŠ é€Ÿäº†å¼€å‘è¿›ç¨‹ï¼Œå‡å°‘äº†é‡å¤é€ è½®å­çš„å·¥ä½œï¼Œå¹¶ç¡®ä¿äº†æ¡†æ¶çš„æŒç»­æ›´æ–°å’Œè¿›åŒ–ä»¥é€‚åº”æŠ€æœ¯å‘å±•è¶‹åŠ¿ã€‚</li>\n</ul>\n</li>\n<li><p>SEO å‹å¥½ï¼š</p>\n<ul>\n<li>å¯¹äºåŸºäº Web æŠ€æœ¯çš„æ¸è¿›å¼æ¡†æ¶ï¼Œå®ƒä»¬å¾€å¾€æ³¨é‡æœç´¢å¼•æ“ä¼˜åŒ–ï¼ˆSEOï¼‰ã€‚é€šè¿‡é¢„æ¸²æŸ“ã€æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ç­‰æŠ€æœ¯ï¼Œç¡®ä¿åº”ç”¨ç¨‹åºçš„å†…å®¹å¯ä»¥è¢«æœç´¢å¼•æ“æœ‰æ•ˆåœ°æŠ“å–å’Œç´¢å¼•ï¼Œè¿™å¯¹äºä¾èµ–æœç´¢å¼•æ“æµé‡çš„ç½‘ç«™è‡³å…³é‡è¦</li>\n</ul>\n</li>\n</ol>\n<p><strong>æ¸è¿›å¼æ¡†æ¶ä»¥å…¶æ¸è¿›å¢å¼ºã€æ¨¡å—åŒ–ã€å¯æ‰©å±•ã€çµæ´»å’Œç”Ÿæ€ä¸°å¯Œçš„ç‰¹æ€§ï¼Œä¸ºå¼€å‘äººå‘˜æä¾›äº†ä¸€ç§é«˜æ•ˆã€é€‚åº”æ€§å¼ºçš„æ‰‹æ®µæ¥æ„å»ºé«˜æ€§èƒ½ã€è·¨å¹³å°ä¸”ç”¨æˆ·ä½“éªŒä¼˜ç§€çš„åº”ç”¨ç¨‹åºã€‚è¿™ç§æ¡†æ¶è®¾è®¡ä¸ä»…å…³æ³¨å½“ä¸‹é¡¹ç›®çš„å¿«é€Ÿå®ç°ï¼Œä¹Ÿç€çœ¼äºæœªæ¥çš„æŠ€æœ¯æ¼”è¿›å’Œä¸šåŠ¡éœ€æ±‚å˜åŒ–ï¼Œç¡®ä¿äº†åº”ç”¨ç¨‹åºçš„é•¿æœŸç”Ÿå‘½åŠ›å’Œå¯æŒç»­å‘å±•èƒ½åŠ›</strong></p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><ol>\n<li>æ¸è¿›å¼æ˜¯ä¸€ç§çµæ´»å¯æ‰©å±•çš„è½¯ä»¶å®é™…ç†å¿µï¼Œ å…è®¸å¼€å‘äººå‘˜é€æ­¥æ·»åŠ æ–°åŠŸèƒ½ï¼Œè€Œä¸ä¼šç ´åç°æœ‰åŠŸèƒ½ã€‚</li>\n<li>æä¾›çµæ´»æ€§ä¸å¯æ‰©å±•æ€§ï¼Œé™ä½å­¦ä¹ æˆæœ¬ï¼Œä¼˜åŒ–æ€§èƒ½å¹¶æä¾›ä»£ç é‡å¤æœºåˆ¶ï¼› å¯æ ¹æ®é¡¹ç›®éœ€è¦çš„é€‰æ‹©å¼•å…¥å®ç°é«˜æ•ˆç²¾ç¡®çš„å¼€å‘è¿‡ç¨‹ã€‚</li>\n<li>å®šåˆ¶é…ç½®ï¼Œç»„ä»¶å¤ç”¨ä»¥åŠè°ƒè¯•æ»¡è¶³é¡¹ç›®è¦æ±‚ä»¥åŠæé«˜å¼€å‘æ•ˆç‡</li>\n</ol>\n"},{"title":"å¤‡å¿˜å½•-brew","abbrlink":"31f527d7","date":"2024-07-08T01:05:01.000Z","_content":"\n# å‘½ä»¤å¤‡å¿˜å½•\n\nå¯¹äº`brew`å®‰è£…çš„æ’ä»¶ç­‰éœ€è¦ç‰¹å®šçš„å‘½ä»¤å¯åŠ¨è¯¥æœåŠ¡ï¼Œé’ˆå¯¹äº`mac`è€Œè®°å½•;\n\n## ğŸª« mongodb\n\n[å®‰è£…åœ°å€: https://www.mongodb.com/zh-cn/docs/v6.0/tutorial/install-mongodb-on-os-x/](https://www.mongodb.com/zh-cn/docs/v6.0/tutorial/install-mongodb-on-os-x/)\n\n1. å¯åŠ¨æœåŠ¡\n   ```bash\n   brew services start mongodb/brew/mongodb-community\n   ```\n2. åœæ­¢æœåŠ¡\n   ```bash\n   brew services stop mongodb/brew/mongodb-community\n   ```\n\n## ğŸª« nginx\n\n1. å®‰è£…\n   ```bash\n   brew install nginx\n   ```\n2. å¯åŠ¨\n\n   ```bash\n   brew services start nginx\n   ```\n\n3. åœæ­¢\n\n   ```bash\n   brew services stop nginx\n   ```\n\n4. é‡å¯\n\n   ```bash\n   brew services restart nginx\n   ```\n\n5. é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶\n\n   ```bash\n   nginx -s reload\n   ```\n\n6. éªŒè¯ nginx é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®\n\n   ```bash\n   nginx -t\n   ```\n","source":"_posts/æŠ€èƒ½å°å†Œ/å¤‡å¿˜å½•/brew.md","raw":"---\ntitle: å¤‡å¿˜å½•-brew\nabbrlink: 31f527d7\ndate: 2024-07-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å¤‡å¿˜å½•\n---\n\n# å‘½ä»¤å¤‡å¿˜å½•\n\nå¯¹äº`brew`å®‰è£…çš„æ’ä»¶ç­‰éœ€è¦ç‰¹å®šçš„å‘½ä»¤å¯åŠ¨è¯¥æœåŠ¡ï¼Œé’ˆå¯¹äº`mac`è€Œè®°å½•;\n\n## ğŸª« mongodb\n\n[å®‰è£…åœ°å€: https://www.mongodb.com/zh-cn/docs/v6.0/tutorial/install-mongodb-on-os-x/](https://www.mongodb.com/zh-cn/docs/v6.0/tutorial/install-mongodb-on-os-x/)\n\n1. å¯åŠ¨æœåŠ¡\n   ```bash\n   brew services start mongodb/brew/mongodb-community\n   ```\n2. åœæ­¢æœåŠ¡\n   ```bash\n   brew services stop mongodb/brew/mongodb-community\n   ```\n\n## ğŸª« nginx\n\n1. å®‰è£…\n   ```bash\n   brew install nginx\n   ```\n2. å¯åŠ¨\n\n   ```bash\n   brew services start nginx\n   ```\n\n3. åœæ­¢\n\n   ```bash\n   brew services stop nginx\n   ```\n\n4. é‡å¯\n\n   ```bash\n   brew services restart nginx\n   ```\n\n5. é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶\n\n   ```bash\n   nginx -s reload\n   ```\n\n6. éªŒè¯ nginx é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®\n\n   ```bash\n   nginx -t\n   ```\n","slug":"æŠ€èƒ½å°å†Œ/å¤‡å¿˜å½•/brew","published":1,"updated":"2025-03-12T09:59:56.062Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j1004cfg9m5jjbed8c","content":"<h1 id=\"å‘½ä»¤å¤‡å¿˜å½•\"><a href=\"#å‘½ä»¤å¤‡å¿˜å½•\" class=\"headerlink\" title=\"å‘½ä»¤å¤‡å¿˜å½•\"></a>å‘½ä»¤å¤‡å¿˜å½•</h1><p>å¯¹äº<code>brew</code>å®‰è£…çš„æ’ä»¶ç­‰éœ€è¦ç‰¹å®šçš„å‘½ä»¤å¯åŠ¨è¯¥æœåŠ¡ï¼Œé’ˆå¯¹äº<code>mac</code>è€Œè®°å½•;</p>\n<h2 id=\"ğŸª«-mongodb\"><a href=\"#ğŸª«-mongodb\" class=\"headerlink\" title=\"ğŸª« mongodb\"></a>ğŸª« mongodb</h2><p><a href=\"https://www.mongodb.com/zh-cn/docs/v6.0/tutorial/install-mongodb-on-os-x/\">å®‰è£…åœ°å€: https://www.mongodb.com/zh-cn/docs/v6.0/tutorial/install-mongodb-on-os-x/</a></p>\n<ol>\n<li>å¯åŠ¨æœåŠ¡<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew services start mongodb/brew/mongodb-community</span><br></pre></td></tr></table></figure></li>\n<li>åœæ­¢æœåŠ¡<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew services stop mongodb/brew/mongodb-community</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h2 id=\"ğŸª«-nginx\"><a href=\"#ğŸª«-nginx\" class=\"headerlink\" title=\"ğŸª« nginx\"></a>ğŸª« nginx</h2><ol>\n<li><p>å®‰è£…</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install nginx</span><br></pre></td></tr></table></figure></li>\n<li><p>å¯åŠ¨</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew services start nginx</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>åœæ­¢</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew services stop nginx</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>é‡å¯</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew services restart nginx</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx -s reload</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>éªŒè¯ nginx é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx -t</span><br></pre></td></tr></table></figure></li>\n</ol>\n","excerpt":"","more":"<h1 id=\"å‘½ä»¤å¤‡å¿˜å½•\"><a href=\"#å‘½ä»¤å¤‡å¿˜å½•\" class=\"headerlink\" title=\"å‘½ä»¤å¤‡å¿˜å½•\"></a>å‘½ä»¤å¤‡å¿˜å½•</h1><p>å¯¹äº<code>brew</code>å®‰è£…çš„æ’ä»¶ç­‰éœ€è¦ç‰¹å®šçš„å‘½ä»¤å¯åŠ¨è¯¥æœåŠ¡ï¼Œé’ˆå¯¹äº<code>mac</code>è€Œè®°å½•;</p>\n<h2 id=\"ğŸª«-mongodb\"><a href=\"#ğŸª«-mongodb\" class=\"headerlink\" title=\"ğŸª« mongodb\"></a>ğŸª« mongodb</h2><p><a href=\"https://www.mongodb.com/zh-cn/docs/v6.0/tutorial/install-mongodb-on-os-x/\">å®‰è£…åœ°å€: https://www.mongodb.com/zh-cn/docs/v6.0/tutorial/install-mongodb-on-os-x/</a></p>\n<ol>\n<li>å¯åŠ¨æœåŠ¡<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew services start mongodb/brew/mongodb-community</span><br></pre></td></tr></table></figure></li>\n<li>åœæ­¢æœåŠ¡<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew services stop mongodb/brew/mongodb-community</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h2 id=\"ğŸª«-nginx\"><a href=\"#ğŸª«-nginx\" class=\"headerlink\" title=\"ğŸª« nginx\"></a>ğŸª« nginx</h2><ol>\n<li><p>å®‰è£…</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install nginx</span><br></pre></td></tr></table></figure></li>\n<li><p>å¯åŠ¨</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew services start nginx</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>åœæ­¢</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew services stop nginx</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>é‡å¯</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew services restart nginx</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx -s reload</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>éªŒè¯ nginx é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx -t</span><br></pre></td></tr></table></figure></li>\n</ol>\n"},{"title":"å¤‡å¿˜å½•-Docker","abbrlink":"f5f9fa9b","date":"2024-07-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\n\næœ€è¿‘åœ¨`mac`ä¸Šé‡ç½®äº†ä¸€ä¸‹å¼€å‘ç¯å¢ƒï¼Œåƒä¸€äº›`æ•°æ®åº“ï¼Œnginx`ä¹‹å‰æ˜¯é€šè¿‡`brew install`ä¸‹è½½å®‰è£…çš„ï¼Œå¦‚æœä½ ä½¿ç”¨å‘½ä»¤`brew services start nginx`å¯åŠ¨å®ƒä¼šä¸€ç›´åœ¨åå°è¿è¡Œï¼Œå¦‚æœç”¨`docker`çš„è¯å°±å¯ä»¥ä¸ç”¨`brew services`äº†ï¼Œè€Œä¸”`docker`çš„`nginx`é…ç½®æ–‡ä»¶æ¯”`brew`çš„`nginx`é…ç½®æ–‡ä»¶è¦ç®€å•å¾ˆå¤šï¼Œè€Œä¸”`docker`çš„`nginx`é…ç½®æ–‡ä»¶å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ˜ å°„åˆ°`host`çš„æŸä¸ªç«¯å£ï¼Œè¿™æ ·`host`å°±å¯ä»¥ç›´æ¥è®¿é—®`nginx`äº†ã€‚\n\næ€»ä¹‹ï¼Œä¹Ÿç®—æ˜¯å¦å¤–çš„ä¸€ç§å°è¯•äº†å§ï¼Œå°±æ˜¯å§æ‰€æœ‰çš„æœåŠ¡åˆ†å°å®¹å™¨è¿è¡Œèµ·æ¥ï¼Œç„¶åé€šè¿‡`docker-compose`æ¥ç®¡ç†è¿™äº›å®¹å™¨ã€‚è¿™æ ·åæœŸç®¡ç†å¸è½½å®‰è£…æ›´åŠ æ–¹ä¾¿ã€‚\n\n\nå®‰è£…`docker`çš„è¯å°±å¾ˆç®€å•äº†ï¼Œå¯ä»¥ç›´æ¥å®‰è£…æ¡Œé¢ç«¯ç‰ˆæœ¬ï¼Œæˆ–è€…é€šè¿‡å‘½ä»¤è¡Œå®‰è£…ã€‚[ç‚¹å‡»ä¸‹è½½](https://www.docker.com/)\n\nå®‰è£…æˆåŠŸä¹‹åï¼Œå¯ä»¥é€šè¿‡\n\n```bash\ndocker -v // æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ\n```\n\n## æ‹‰å–é•œåƒ\n\né•œåƒçš„æ‹‰å–æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦é€šè¿‡å‘½ä»¤`docker pull`å³å¯æ‹‰å–é•œåƒï¼Œæ¯”å¦‚æ‹‰å–`nginx`é•œåƒï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š\n\n```bash\ndocker pull nginx\ndocker pull nginx:1.21.6\n```\n\n## æŸ¥çœ‹é•œåƒ\n\næ‹‰å–é•œåƒä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤`docker images`æ¥æŸ¥çœ‹å·²ç»æ‹‰å–çš„é•œåƒäº†ï¼Œæ¯”å¦‚\n\n```bash\ndocker images\n\n\nREPOSITORY   TAG       IMAGE ID       CREATED       SIZE\nmongo        latest    4b372541400c   13 days ago   761MB\nnginx        latest    443d199e8bfc   3 weeks ago   193MB\nredis        latest    db35fcf47f4b   7 weeks ago   139MB\n```\n\n## è¿è¡Œå®¹å™¨\n\né•œåƒæ‹‰å–ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤`docker run`æ¥è¿è¡Œå®¹å™¨äº†ï¼Œæ¯”å¦‚è¿è¡Œ`nginx`å®¹å™¨ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š\n\n```bash\ndocker run -d -p 80:80 nginx\n```\n\n`-d`è¡¨ç¤ºåå°è¿è¡Œï¼Œ`-p`è¡¨ç¤ºæ˜ å°„ç«¯å£ï¼Œ`80:80`è¡¨ç¤ºå°†`host`çš„`80`ç«¯å£æ˜ å°„åˆ°`nginx`çš„`80`ç«¯å£ï¼Œè¿™æ ·`host`å°±å¯ä»¥ç›´æ¥è®¿é—®`nginx`äº†ã€‚\n\n## æŸ¥çœ‹å®¹å™¨\n\nè¿è¡Œå®¹å™¨ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤`docker ps`æ¥æŸ¥çœ‹å·²ç»è¿è¡Œçš„å®¹å™¨äº†ï¼Œæ¯”å¦‚\n\n```bash\ndocker ps # æˆ–è€… docker container ls -a\n\nCONTAINER ID   IMAGE     COMMAND                   CREATED          STATUS                   PORTS                    NAMES\n71428fe3e26b   redis     \"docker-entrypoint.sâ€¦\"   50 minutes ago   Up 50 minutes            0.0.0.0:6379->6379/tcp   keen_williams\n184730973f68   mongo     \"docker-entrypoint.sâ€¦\"   4 hours ago      Exited (0) 2 hours ago                            cool_shtern\n8060b393b482   nginx     \"/docker-entrypoint.â€¦\"   6 hours ago      Exited (0) 2 hours ago                            suspicious_ishizaka\n```\n\n## åœæ­¢å®¹å™¨\n\nåœæ­¢å®¹å™¨å¯ä»¥é€šè¿‡å‘½ä»¤`docker stop`æ¥åœæ­¢å®¹å™¨ï¼Œæ¯”å¦‚\n\n```bash\n# 8060b393b482 å°±æ˜¯å®¹å™¨çš„id è¾“å…¥å‰å››ä½å³å¯\ndocker stop 8060b393b482 # æˆ–è€… docker container stop 8060b393b482\n```\n\nåœæ­¢å®¹å™¨ä¹‹åï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤`docker ps`æ¥æŸ¥çœ‹å·²ç»åœæ­¢çš„å®¹å™¨äº†ï¼›\n\n## åˆ é™¤å®¹å™¨\n\nåˆ é™¤å®¹å™¨å¯ä»¥é€šè¿‡å‘½ä»¤`docker rm`æ¥åˆ é™¤å®¹å™¨ï¼Œæ¯”å¦‚\n\n```bash\ndocker rm 8060b393b482 # æˆ–è€… docker container rm 8060b393b482\n```\n\n## å¯åŠ¨å®¹å™¨\n\nå¯åŠ¨å®¹å™¨å¯ä»¥é€šè¿‡å‘½ä»¤`docker start`æ¥å¯åŠ¨å®¹å™¨ï¼Œæ¯”å¦‚\n\n```bash\ndocker start 8060b393b482 # æˆ–è€… docker container start 8060b393b482\n```\n\n## åˆ é™¤é•œåƒ\n\nåˆ é™¤é•œåƒå¯ä»¥é€šè¿‡å‘½ä»¤`docker rmi`æ¥åˆ é™¤é•œåƒï¼Œæ¯”å¦‚\n\n```bash\ndocker rmi nginx:latest # æˆ–è€… docker image rm nginx:latest\n```\n\n## åˆ é™¤æ‰€æœ‰å®¹å™¨\n\nåˆ é™¤æ‰€æœ‰å®¹å™¨å¯ä»¥é€šè¿‡å‘½ä»¤`docker rm -f $(docker ps -aq)`æ¥åˆ é™¤æ‰€æœ‰å®¹å™¨ï¼Œæ¯”å¦‚\n\n```bash\ndocker rm -f $(docker ps -aq) # æˆ–è€… docker container rm -f $(docker container ls -aq)\n```\n\n## åˆ é™¤æ‰€æœ‰é•œåƒ\n\nåˆ é™¤æ‰€æœ‰é•œåƒå¯ä»¥é€šè¿‡å‘½ä»¤`docker rmi -f $(docker images -q)`æ¥åˆ é™¤æ‰€æœ‰é•œåƒï¼Œæ¯”å¦‚\n\n```bash\ndocker rmi -f $(docker images -q) # æˆ–è€… docker image rm -f $(docker image ls -q)\n```\n\n## åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒ\n\nåˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒå¯ä»¥é€šè¿‡å‘½ä»¤`docker rmi -f $(docker images -f \"dangling=true\" -q)`æ¥åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒï¼Œæ¯”å¦‚\n\n```bash\ndocker rmi -f $(docker images -f \"dangling=true\" -q) # æˆ–è€… docker image rm -f $(docker image ls -f \"dangling=true\" -q)\n```\n\nä¸Šé¢å°±æ˜¯å¯¹`docker`çš„ä¸€äº›å¸¸ç”¨å‘½ä»¤ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚\n","source":"_posts/æŠ€èƒ½å°å†Œ/å¤‡å¿˜å½•/docker.md","raw":"---\ntitle: å¤‡å¿˜å½•-Docker\nabbrlink: f5f9fa9b\ndate: 2024-07-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å¤‡å¿˜å½•\n---\n\n# èƒŒæ™¯\n\n\næœ€è¿‘åœ¨`mac`ä¸Šé‡ç½®äº†ä¸€ä¸‹å¼€å‘ç¯å¢ƒï¼Œåƒä¸€äº›`æ•°æ®åº“ï¼Œnginx`ä¹‹å‰æ˜¯é€šè¿‡`brew install`ä¸‹è½½å®‰è£…çš„ï¼Œå¦‚æœä½ ä½¿ç”¨å‘½ä»¤`brew services start nginx`å¯åŠ¨å®ƒä¼šä¸€ç›´åœ¨åå°è¿è¡Œï¼Œå¦‚æœç”¨`docker`çš„è¯å°±å¯ä»¥ä¸ç”¨`brew services`äº†ï¼Œè€Œä¸”`docker`çš„`nginx`é…ç½®æ–‡ä»¶æ¯”`brew`çš„`nginx`é…ç½®æ–‡ä»¶è¦ç®€å•å¾ˆå¤šï¼Œè€Œä¸”`docker`çš„`nginx`é…ç½®æ–‡ä»¶å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ˜ å°„åˆ°`host`çš„æŸä¸ªç«¯å£ï¼Œè¿™æ ·`host`å°±å¯ä»¥ç›´æ¥è®¿é—®`nginx`äº†ã€‚\n\næ€»ä¹‹ï¼Œä¹Ÿç®—æ˜¯å¦å¤–çš„ä¸€ç§å°è¯•äº†å§ï¼Œå°±æ˜¯å§æ‰€æœ‰çš„æœåŠ¡åˆ†å°å®¹å™¨è¿è¡Œèµ·æ¥ï¼Œç„¶åé€šè¿‡`docker-compose`æ¥ç®¡ç†è¿™äº›å®¹å™¨ã€‚è¿™æ ·åæœŸç®¡ç†å¸è½½å®‰è£…æ›´åŠ æ–¹ä¾¿ã€‚\n\n\nå®‰è£…`docker`çš„è¯å°±å¾ˆç®€å•äº†ï¼Œå¯ä»¥ç›´æ¥å®‰è£…æ¡Œé¢ç«¯ç‰ˆæœ¬ï¼Œæˆ–è€…é€šè¿‡å‘½ä»¤è¡Œå®‰è£…ã€‚[ç‚¹å‡»ä¸‹è½½](https://www.docker.com/)\n\nå®‰è£…æˆåŠŸä¹‹åï¼Œå¯ä»¥é€šè¿‡\n\n```bash\ndocker -v // æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ\n```\n\n## æ‹‰å–é•œåƒ\n\né•œåƒçš„æ‹‰å–æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦é€šè¿‡å‘½ä»¤`docker pull`å³å¯æ‹‰å–é•œåƒï¼Œæ¯”å¦‚æ‹‰å–`nginx`é•œåƒï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š\n\n```bash\ndocker pull nginx\ndocker pull nginx:1.21.6\n```\n\n## æŸ¥çœ‹é•œåƒ\n\næ‹‰å–é•œåƒä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤`docker images`æ¥æŸ¥çœ‹å·²ç»æ‹‰å–çš„é•œåƒäº†ï¼Œæ¯”å¦‚\n\n```bash\ndocker images\n\n\nREPOSITORY   TAG       IMAGE ID       CREATED       SIZE\nmongo        latest    4b372541400c   13 days ago   761MB\nnginx        latest    443d199e8bfc   3 weeks ago   193MB\nredis        latest    db35fcf47f4b   7 weeks ago   139MB\n```\n\n## è¿è¡Œå®¹å™¨\n\né•œåƒæ‹‰å–ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤`docker run`æ¥è¿è¡Œå®¹å™¨äº†ï¼Œæ¯”å¦‚è¿è¡Œ`nginx`å®¹å™¨ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š\n\n```bash\ndocker run -d -p 80:80 nginx\n```\n\n`-d`è¡¨ç¤ºåå°è¿è¡Œï¼Œ`-p`è¡¨ç¤ºæ˜ å°„ç«¯å£ï¼Œ`80:80`è¡¨ç¤ºå°†`host`çš„`80`ç«¯å£æ˜ å°„åˆ°`nginx`çš„`80`ç«¯å£ï¼Œè¿™æ ·`host`å°±å¯ä»¥ç›´æ¥è®¿é—®`nginx`äº†ã€‚\n\n## æŸ¥çœ‹å®¹å™¨\n\nè¿è¡Œå®¹å™¨ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤`docker ps`æ¥æŸ¥çœ‹å·²ç»è¿è¡Œçš„å®¹å™¨äº†ï¼Œæ¯”å¦‚\n\n```bash\ndocker ps # æˆ–è€… docker container ls -a\n\nCONTAINER ID   IMAGE     COMMAND                   CREATED          STATUS                   PORTS                    NAMES\n71428fe3e26b   redis     \"docker-entrypoint.sâ€¦\"   50 minutes ago   Up 50 minutes            0.0.0.0:6379->6379/tcp   keen_williams\n184730973f68   mongo     \"docker-entrypoint.sâ€¦\"   4 hours ago      Exited (0) 2 hours ago                            cool_shtern\n8060b393b482   nginx     \"/docker-entrypoint.â€¦\"   6 hours ago      Exited (0) 2 hours ago                            suspicious_ishizaka\n```\n\n## åœæ­¢å®¹å™¨\n\nåœæ­¢å®¹å™¨å¯ä»¥é€šè¿‡å‘½ä»¤`docker stop`æ¥åœæ­¢å®¹å™¨ï¼Œæ¯”å¦‚\n\n```bash\n# 8060b393b482 å°±æ˜¯å®¹å™¨çš„id è¾“å…¥å‰å››ä½å³å¯\ndocker stop 8060b393b482 # æˆ–è€… docker container stop 8060b393b482\n```\n\nåœæ­¢å®¹å™¨ä¹‹åï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤`docker ps`æ¥æŸ¥çœ‹å·²ç»åœæ­¢çš„å®¹å™¨äº†ï¼›\n\n## åˆ é™¤å®¹å™¨\n\nåˆ é™¤å®¹å™¨å¯ä»¥é€šè¿‡å‘½ä»¤`docker rm`æ¥åˆ é™¤å®¹å™¨ï¼Œæ¯”å¦‚\n\n```bash\ndocker rm 8060b393b482 # æˆ–è€… docker container rm 8060b393b482\n```\n\n## å¯åŠ¨å®¹å™¨\n\nå¯åŠ¨å®¹å™¨å¯ä»¥é€šè¿‡å‘½ä»¤`docker start`æ¥å¯åŠ¨å®¹å™¨ï¼Œæ¯”å¦‚\n\n```bash\ndocker start 8060b393b482 # æˆ–è€… docker container start 8060b393b482\n```\n\n## åˆ é™¤é•œåƒ\n\nåˆ é™¤é•œåƒå¯ä»¥é€šè¿‡å‘½ä»¤`docker rmi`æ¥åˆ é™¤é•œåƒï¼Œæ¯”å¦‚\n\n```bash\ndocker rmi nginx:latest # æˆ–è€… docker image rm nginx:latest\n```\n\n## åˆ é™¤æ‰€æœ‰å®¹å™¨\n\nåˆ é™¤æ‰€æœ‰å®¹å™¨å¯ä»¥é€šè¿‡å‘½ä»¤`docker rm -f $(docker ps -aq)`æ¥åˆ é™¤æ‰€æœ‰å®¹å™¨ï¼Œæ¯”å¦‚\n\n```bash\ndocker rm -f $(docker ps -aq) # æˆ–è€… docker container rm -f $(docker container ls -aq)\n```\n\n## åˆ é™¤æ‰€æœ‰é•œåƒ\n\nåˆ é™¤æ‰€æœ‰é•œåƒå¯ä»¥é€šè¿‡å‘½ä»¤`docker rmi -f $(docker images -q)`æ¥åˆ é™¤æ‰€æœ‰é•œåƒï¼Œæ¯”å¦‚\n\n```bash\ndocker rmi -f $(docker images -q) # æˆ–è€… docker image rm -f $(docker image ls -q)\n```\n\n## åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒ\n\nåˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒå¯ä»¥é€šè¿‡å‘½ä»¤`docker rmi -f $(docker images -f \"dangling=true\" -q)`æ¥åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒï¼Œæ¯”å¦‚\n\n```bash\ndocker rmi -f $(docker images -f \"dangling=true\" -q) # æˆ–è€… docker image rm -f $(docker image ls -f \"dangling=true\" -q)\n```\n\nä¸Šé¢å°±æ˜¯å¯¹`docker`çš„ä¸€äº›å¸¸ç”¨å‘½ä»¤ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚\n","slug":"æŠ€èƒ½å°å†Œ/å¤‡å¿˜å½•/docker","published":1,"updated":"2025-03-12T10:00:11.175Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j1004ffg9m0bbygyxf","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>æœ€è¿‘åœ¨<code>mac</code>ä¸Šé‡ç½®äº†ä¸€ä¸‹å¼€å‘ç¯å¢ƒï¼Œåƒä¸€äº›<code>æ•°æ®åº“ï¼Œnginx</code>ä¹‹å‰æ˜¯é€šè¿‡<code>brew install</code>ä¸‹è½½å®‰è£…çš„ï¼Œå¦‚æœä½ ä½¿ç”¨å‘½ä»¤<code>brew services start nginx</code>å¯åŠ¨å®ƒä¼šä¸€ç›´åœ¨åå°è¿è¡Œï¼Œå¦‚æœç”¨<code>docker</code>çš„è¯å°±å¯ä»¥ä¸ç”¨<code>brew services</code>äº†ï¼Œè€Œä¸”<code>docker</code>çš„<code>nginx</code>é…ç½®æ–‡ä»¶æ¯”<code>brew</code>çš„<code>nginx</code>é…ç½®æ–‡ä»¶è¦ç®€å•å¾ˆå¤šï¼Œè€Œä¸”<code>docker</code>çš„<code>nginx</code>é…ç½®æ–‡ä»¶å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ˜ å°„åˆ°<code>host</code>çš„æŸä¸ªç«¯å£ï¼Œè¿™æ ·<code>host</code>å°±å¯ä»¥ç›´æ¥è®¿é—®<code>nginx</code>äº†ã€‚</p>\n<p>æ€»ä¹‹ï¼Œä¹Ÿç®—æ˜¯å¦å¤–çš„ä¸€ç§å°è¯•äº†å§ï¼Œå°±æ˜¯å§æ‰€æœ‰çš„æœåŠ¡åˆ†å°å®¹å™¨è¿è¡Œèµ·æ¥ï¼Œç„¶åé€šè¿‡<code>docker-compose</code>æ¥ç®¡ç†è¿™äº›å®¹å™¨ã€‚è¿™æ ·åæœŸç®¡ç†å¸è½½å®‰è£…æ›´åŠ æ–¹ä¾¿ã€‚</p>\n<p>å®‰è£…<code>docker</code>çš„è¯å°±å¾ˆç®€å•äº†ï¼Œå¯ä»¥ç›´æ¥å®‰è£…æ¡Œé¢ç«¯ç‰ˆæœ¬ï¼Œæˆ–è€…é€šè¿‡å‘½ä»¤è¡Œå®‰è£…ã€‚<a href=\"https://www.docker.com/\">ç‚¹å‡»ä¸‹è½½</a></p>\n<p>å®‰è£…æˆåŠŸä¹‹åï¼Œå¯ä»¥é€šè¿‡</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker -v // æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ‹‰å–é•œåƒ\"><a href=\"#æ‹‰å–é•œåƒ\" class=\"headerlink\" title=\"æ‹‰å–é•œåƒ\"></a>æ‹‰å–é•œåƒ</h2><p>é•œåƒçš„æ‹‰å–æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦é€šè¿‡å‘½ä»¤<code>docker pull</code>å³å¯æ‹‰å–é•œåƒï¼Œæ¯”å¦‚æ‹‰å–<code>nginx</code>é•œåƒï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull nginx</span><br><span class=\"line\">docker pull nginx:1.21.6</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æŸ¥çœ‹é•œåƒ\"><a href=\"#æŸ¥çœ‹é•œåƒ\" class=\"headerlink\" title=\"æŸ¥çœ‹é•œåƒ\"></a>æŸ¥çœ‹é•œåƒ</h2><p>æ‹‰å–é•œåƒä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤<code>docker images</code>æ¥æŸ¥çœ‹å·²ç»æ‹‰å–çš„é•œåƒäº†ï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker images</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">REPOSITORY   TAG       IMAGE ID       CREATED       SIZE</span><br><span class=\"line\">mongo        latest    4b372541400c   13 days ago   761MB</span><br><span class=\"line\">nginx        latest    443d199e8bfc   3 weeks ago   193MB</span><br><span class=\"line\">redis        latest    db35fcf47f4b   7 weeks ago   139MB</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"è¿è¡Œå®¹å™¨\"><a href=\"#è¿è¡Œå®¹å™¨\" class=\"headerlink\" title=\"è¿è¡Œå®¹å™¨\"></a>è¿è¡Œå®¹å™¨</h2><p>é•œåƒæ‹‰å–ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤<code>docker run</code>æ¥è¿è¡Œå®¹å™¨äº†ï¼Œæ¯”å¦‚è¿è¡Œ<code>nginx</code>å®¹å™¨ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d -p 80:80 nginx</span><br></pre></td></tr></table></figure>\n\n<p><code>-d</code>è¡¨ç¤ºåå°è¿è¡Œï¼Œ<code>-p</code>è¡¨ç¤ºæ˜ å°„ç«¯å£ï¼Œ<code>80:80</code>è¡¨ç¤ºå°†<code>host</code>çš„<code>80</code>ç«¯å£æ˜ å°„åˆ°<code>nginx</code>çš„<code>80</code>ç«¯å£ï¼Œè¿™æ ·<code>host</code>å°±å¯ä»¥ç›´æ¥è®¿é—®<code>nginx</code>äº†ã€‚</p>\n<h2 id=\"æŸ¥çœ‹å®¹å™¨\"><a href=\"#æŸ¥çœ‹å®¹å™¨\" class=\"headerlink\" title=\"æŸ¥çœ‹å®¹å™¨\"></a>æŸ¥çœ‹å®¹å™¨</h2><p>è¿è¡Œå®¹å™¨ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤<code>docker ps</code>æ¥æŸ¥çœ‹å·²ç»è¿è¡Œçš„å®¹å™¨äº†ï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker ps <span class=\"comment\"># æˆ–è€… docker container ls -a</span></span><br><span class=\"line\"></span><br><span class=\"line\">CONTAINER ID   IMAGE     COMMAND                   CREATED          STATUS                   PORTS                    NAMES</span><br><span class=\"line\">71428fe3e26b   redis     <span class=\"string\">&quot;docker-entrypoint.sâ€¦&quot;</span>   50 minutes ago   Up 50 minutes            0.0.0.0:6379-&gt;6379/tcp   keen_williams</span><br><span class=\"line\">184730973f68   mongo     <span class=\"string\">&quot;docker-entrypoint.sâ€¦&quot;</span>   4 hours ago      Exited (0) 2 hours ago                            cool_shtern</span><br><span class=\"line\">8060b393b482   nginx     <span class=\"string\">&quot;/docker-entrypoint.â€¦&quot;</span>   6 hours ago      Exited (0) 2 hours ago                            suspicious_ishizaka</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åœæ­¢å®¹å™¨\"><a href=\"#åœæ­¢å®¹å™¨\" class=\"headerlink\" title=\"åœæ­¢å®¹å™¨\"></a>åœæ­¢å®¹å™¨</h2><p>åœæ­¢å®¹å™¨å¯ä»¥é€šè¿‡å‘½ä»¤<code>docker stop</code>æ¥åœæ­¢å®¹å™¨ï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 8060b393b482 å°±æ˜¯å®¹å™¨çš„id è¾“å…¥å‰å››ä½å³å¯</span></span><br><span class=\"line\">docker stop 8060b393b482 <span class=\"comment\"># æˆ–è€… docker container stop 8060b393b482</span></span><br></pre></td></tr></table></figure>\n\n<p>åœæ­¢å®¹å™¨ä¹‹åï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤<code>docker ps</code>æ¥æŸ¥çœ‹å·²ç»åœæ­¢çš„å®¹å™¨äº†ï¼›</p>\n<h2 id=\"åˆ é™¤å®¹å™¨\"><a href=\"#åˆ é™¤å®¹å™¨\" class=\"headerlink\" title=\"åˆ é™¤å®¹å™¨\"></a>åˆ é™¤å®¹å™¨</h2><p>åˆ é™¤å®¹å™¨å¯ä»¥é€šè¿‡å‘½ä»¤<code>docker rm</code>æ¥åˆ é™¤å®¹å™¨ï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker <span class=\"built_in\">rm</span> 8060b393b482 <span class=\"comment\"># æˆ–è€… docker container rm 8060b393b482</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å¯åŠ¨å®¹å™¨\"><a href=\"#å¯åŠ¨å®¹å™¨\" class=\"headerlink\" title=\"å¯åŠ¨å®¹å™¨\"></a>å¯åŠ¨å®¹å™¨</h2><p>å¯åŠ¨å®¹å™¨å¯ä»¥é€šè¿‡å‘½ä»¤<code>docker start</code>æ¥å¯åŠ¨å®¹å™¨ï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker start 8060b393b482 <span class=\"comment\"># æˆ–è€… docker container start 8060b393b482</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åˆ é™¤é•œåƒ\"><a href=\"#åˆ é™¤é•œåƒ\" class=\"headerlink\" title=\"åˆ é™¤é•œåƒ\"></a>åˆ é™¤é•œåƒ</h2><p>åˆ é™¤é•œåƒå¯ä»¥é€šè¿‡å‘½ä»¤<code>docker rmi</code>æ¥åˆ é™¤é•œåƒï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker rmi nginx:latest <span class=\"comment\"># æˆ–è€… docker image rm nginx:latest</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åˆ é™¤æ‰€æœ‰å®¹å™¨\"><a href=\"#åˆ é™¤æ‰€æœ‰å®¹å™¨\" class=\"headerlink\" title=\"åˆ é™¤æ‰€æœ‰å®¹å™¨\"></a>åˆ é™¤æ‰€æœ‰å®¹å™¨</h2><p>åˆ é™¤æ‰€æœ‰å®¹å™¨å¯ä»¥é€šè¿‡å‘½ä»¤<code>docker rm -f $(docker ps -aq)</code>æ¥åˆ é™¤æ‰€æœ‰å®¹å™¨ï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker <span class=\"built_in\">rm</span> -f $(docker ps -aq) <span class=\"comment\"># æˆ–è€… docker container rm -f $(docker container ls -aq)</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åˆ é™¤æ‰€æœ‰é•œåƒ\"><a href=\"#åˆ é™¤æ‰€æœ‰é•œåƒ\" class=\"headerlink\" title=\"åˆ é™¤æ‰€æœ‰é•œåƒ\"></a>åˆ é™¤æ‰€æœ‰é•œåƒ</h2><p>åˆ é™¤æ‰€æœ‰é•œåƒå¯ä»¥é€šè¿‡å‘½ä»¤<code>docker rmi -f $(docker images -q)</code>æ¥åˆ é™¤æ‰€æœ‰é•œåƒï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker rmi -f $(docker images -q) <span class=\"comment\"># æˆ–è€… docker image rm -f $(docker image ls -q)</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒ\"><a href=\"#åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒ\" class=\"headerlink\" title=\"åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒ\"></a>åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒ</h2><p>åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒå¯ä»¥é€šè¿‡å‘½ä»¤<code>docker rmi -f $(docker images -f &quot;dangling=true&quot; -q)</code>æ¥åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker rmi -f $(docker images -f <span class=\"string\">&quot;dangling=true&quot;</span> -q) <span class=\"comment\"># æˆ–è€… docker image rm -f $(docker image ls -f &quot;dangling=true&quot; -q)</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢å°±æ˜¯å¯¹<code>docker</code>çš„ä¸€äº›å¸¸ç”¨å‘½ä»¤ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚</p>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>æœ€è¿‘åœ¨<code>mac</code>ä¸Šé‡ç½®äº†ä¸€ä¸‹å¼€å‘ç¯å¢ƒï¼Œåƒä¸€äº›<code>æ•°æ®åº“ï¼Œnginx</code>ä¹‹å‰æ˜¯é€šè¿‡<code>brew install</code>ä¸‹è½½å®‰è£…çš„ï¼Œå¦‚æœä½ ä½¿ç”¨å‘½ä»¤<code>brew services start nginx</code>å¯åŠ¨å®ƒä¼šä¸€ç›´åœ¨åå°è¿è¡Œï¼Œå¦‚æœç”¨<code>docker</code>çš„è¯å°±å¯ä»¥ä¸ç”¨<code>brew services</code>äº†ï¼Œè€Œä¸”<code>docker</code>çš„<code>nginx</code>é…ç½®æ–‡ä»¶æ¯”<code>brew</code>çš„<code>nginx</code>é…ç½®æ–‡ä»¶è¦ç®€å•å¾ˆå¤šï¼Œè€Œä¸”<code>docker</code>çš„<code>nginx</code>é…ç½®æ–‡ä»¶å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ˜ å°„åˆ°<code>host</code>çš„æŸä¸ªç«¯å£ï¼Œè¿™æ ·<code>host</code>å°±å¯ä»¥ç›´æ¥è®¿é—®<code>nginx</code>äº†ã€‚</p>\n<p>æ€»ä¹‹ï¼Œä¹Ÿç®—æ˜¯å¦å¤–çš„ä¸€ç§å°è¯•äº†å§ï¼Œå°±æ˜¯å§æ‰€æœ‰çš„æœåŠ¡åˆ†å°å®¹å™¨è¿è¡Œèµ·æ¥ï¼Œç„¶åé€šè¿‡<code>docker-compose</code>æ¥ç®¡ç†è¿™äº›å®¹å™¨ã€‚è¿™æ ·åæœŸç®¡ç†å¸è½½å®‰è£…æ›´åŠ æ–¹ä¾¿ã€‚</p>\n<p>å®‰è£…<code>docker</code>çš„è¯å°±å¾ˆç®€å•äº†ï¼Œå¯ä»¥ç›´æ¥å®‰è£…æ¡Œé¢ç«¯ç‰ˆæœ¬ï¼Œæˆ–è€…é€šè¿‡å‘½ä»¤è¡Œå®‰è£…ã€‚<a href=\"https://www.docker.com/\">ç‚¹å‡»ä¸‹è½½</a></p>\n<p>å®‰è£…æˆåŠŸä¹‹åï¼Œå¯ä»¥é€šè¿‡</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker -v // æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ‹‰å–é•œåƒ\"><a href=\"#æ‹‰å–é•œåƒ\" class=\"headerlink\" title=\"æ‹‰å–é•œåƒ\"></a>æ‹‰å–é•œåƒ</h2><p>é•œåƒçš„æ‹‰å–æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦é€šè¿‡å‘½ä»¤<code>docker pull</code>å³å¯æ‹‰å–é•œåƒï¼Œæ¯”å¦‚æ‹‰å–<code>nginx</code>é•œåƒï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull nginx</span><br><span class=\"line\">docker pull nginx:1.21.6</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æŸ¥çœ‹é•œåƒ\"><a href=\"#æŸ¥çœ‹é•œåƒ\" class=\"headerlink\" title=\"æŸ¥çœ‹é•œåƒ\"></a>æŸ¥çœ‹é•œåƒ</h2><p>æ‹‰å–é•œåƒä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤<code>docker images</code>æ¥æŸ¥çœ‹å·²ç»æ‹‰å–çš„é•œåƒäº†ï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker images</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">REPOSITORY   TAG       IMAGE ID       CREATED       SIZE</span><br><span class=\"line\">mongo        latest    4b372541400c   13 days ago   761MB</span><br><span class=\"line\">nginx        latest    443d199e8bfc   3 weeks ago   193MB</span><br><span class=\"line\">redis        latest    db35fcf47f4b   7 weeks ago   139MB</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"è¿è¡Œå®¹å™¨\"><a href=\"#è¿è¡Œå®¹å™¨\" class=\"headerlink\" title=\"è¿è¡Œå®¹å™¨\"></a>è¿è¡Œå®¹å™¨</h2><p>é•œåƒæ‹‰å–ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤<code>docker run</code>æ¥è¿è¡Œå®¹å™¨äº†ï¼Œæ¯”å¦‚è¿è¡Œ<code>nginx</code>å®¹å™¨ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d -p 80:80 nginx</span><br></pre></td></tr></table></figure>\n\n<p><code>-d</code>è¡¨ç¤ºåå°è¿è¡Œï¼Œ<code>-p</code>è¡¨ç¤ºæ˜ å°„ç«¯å£ï¼Œ<code>80:80</code>è¡¨ç¤ºå°†<code>host</code>çš„<code>80</code>ç«¯å£æ˜ å°„åˆ°<code>nginx</code>çš„<code>80</code>ç«¯å£ï¼Œè¿™æ ·<code>host</code>å°±å¯ä»¥ç›´æ¥è®¿é—®<code>nginx</code>äº†ã€‚</p>\n<h2 id=\"æŸ¥çœ‹å®¹å™¨\"><a href=\"#æŸ¥çœ‹å®¹å™¨\" class=\"headerlink\" title=\"æŸ¥çœ‹å®¹å™¨\"></a>æŸ¥çœ‹å®¹å™¨</h2><p>è¿è¡Œå®¹å™¨ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤<code>docker ps</code>æ¥æŸ¥çœ‹å·²ç»è¿è¡Œçš„å®¹å™¨äº†ï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker ps <span class=\"comment\"># æˆ–è€… docker container ls -a</span></span><br><span class=\"line\"></span><br><span class=\"line\">CONTAINER ID   IMAGE     COMMAND                   CREATED          STATUS                   PORTS                    NAMES</span><br><span class=\"line\">71428fe3e26b   redis     <span class=\"string\">&quot;docker-entrypoint.sâ€¦&quot;</span>   50 minutes ago   Up 50 minutes            0.0.0.0:6379-&gt;6379/tcp   keen_williams</span><br><span class=\"line\">184730973f68   mongo     <span class=\"string\">&quot;docker-entrypoint.sâ€¦&quot;</span>   4 hours ago      Exited (0) 2 hours ago                            cool_shtern</span><br><span class=\"line\">8060b393b482   nginx     <span class=\"string\">&quot;/docker-entrypoint.â€¦&quot;</span>   6 hours ago      Exited (0) 2 hours ago                            suspicious_ishizaka</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åœæ­¢å®¹å™¨\"><a href=\"#åœæ­¢å®¹å™¨\" class=\"headerlink\" title=\"åœæ­¢å®¹å™¨\"></a>åœæ­¢å®¹å™¨</h2><p>åœæ­¢å®¹å™¨å¯ä»¥é€šè¿‡å‘½ä»¤<code>docker stop</code>æ¥åœæ­¢å®¹å™¨ï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 8060b393b482 å°±æ˜¯å®¹å™¨çš„id è¾“å…¥å‰å››ä½å³å¯</span></span><br><span class=\"line\">docker stop 8060b393b482 <span class=\"comment\"># æˆ–è€… docker container stop 8060b393b482</span></span><br></pre></td></tr></table></figure>\n\n<p>åœæ­¢å®¹å™¨ä¹‹åï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤<code>docker ps</code>æ¥æŸ¥çœ‹å·²ç»åœæ­¢çš„å®¹å™¨äº†ï¼›</p>\n<h2 id=\"åˆ é™¤å®¹å™¨\"><a href=\"#åˆ é™¤å®¹å™¨\" class=\"headerlink\" title=\"åˆ é™¤å®¹å™¨\"></a>åˆ é™¤å®¹å™¨</h2><p>åˆ é™¤å®¹å™¨å¯ä»¥é€šè¿‡å‘½ä»¤<code>docker rm</code>æ¥åˆ é™¤å®¹å™¨ï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker <span class=\"built_in\">rm</span> 8060b393b482 <span class=\"comment\"># æˆ–è€… docker container rm 8060b393b482</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å¯åŠ¨å®¹å™¨\"><a href=\"#å¯åŠ¨å®¹å™¨\" class=\"headerlink\" title=\"å¯åŠ¨å®¹å™¨\"></a>å¯åŠ¨å®¹å™¨</h2><p>å¯åŠ¨å®¹å™¨å¯ä»¥é€šè¿‡å‘½ä»¤<code>docker start</code>æ¥å¯åŠ¨å®¹å™¨ï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker start 8060b393b482 <span class=\"comment\"># æˆ–è€… docker container start 8060b393b482</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åˆ é™¤é•œåƒ\"><a href=\"#åˆ é™¤é•œåƒ\" class=\"headerlink\" title=\"åˆ é™¤é•œåƒ\"></a>åˆ é™¤é•œåƒ</h2><p>åˆ é™¤é•œåƒå¯ä»¥é€šè¿‡å‘½ä»¤<code>docker rmi</code>æ¥åˆ é™¤é•œåƒï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker rmi nginx:latest <span class=\"comment\"># æˆ–è€… docker image rm nginx:latest</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åˆ é™¤æ‰€æœ‰å®¹å™¨\"><a href=\"#åˆ é™¤æ‰€æœ‰å®¹å™¨\" class=\"headerlink\" title=\"åˆ é™¤æ‰€æœ‰å®¹å™¨\"></a>åˆ é™¤æ‰€æœ‰å®¹å™¨</h2><p>åˆ é™¤æ‰€æœ‰å®¹å™¨å¯ä»¥é€šè¿‡å‘½ä»¤<code>docker rm -f $(docker ps -aq)</code>æ¥åˆ é™¤æ‰€æœ‰å®¹å™¨ï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker <span class=\"built_in\">rm</span> -f $(docker ps -aq) <span class=\"comment\"># æˆ–è€… docker container rm -f $(docker container ls -aq)</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åˆ é™¤æ‰€æœ‰é•œåƒ\"><a href=\"#åˆ é™¤æ‰€æœ‰é•œåƒ\" class=\"headerlink\" title=\"åˆ é™¤æ‰€æœ‰é•œåƒ\"></a>åˆ é™¤æ‰€æœ‰é•œåƒ</h2><p>åˆ é™¤æ‰€æœ‰é•œåƒå¯ä»¥é€šè¿‡å‘½ä»¤<code>docker rmi -f $(docker images -q)</code>æ¥åˆ é™¤æ‰€æœ‰é•œåƒï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker rmi -f $(docker images -q) <span class=\"comment\"># æˆ–è€… docker image rm -f $(docker image ls -q)</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒ\"><a href=\"#åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒ\" class=\"headerlink\" title=\"åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒ\"></a>åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒ</h2><p>åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒå¯ä»¥é€šè¿‡å‘½ä»¤<code>docker rmi -f $(docker images -f &quot;dangling=true&quot; -q)</code>æ¥åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒï¼Œæ¯”å¦‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker rmi -f $(docker images -f <span class=\"string\">&quot;dangling=true&quot;</span> -q) <span class=\"comment\"># æˆ–è€… docker image rm -f $(docker image ls -f &quot;dangling=true&quot; -q)</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢å°±æ˜¯å¯¹<code>docker</code>çš„ä¸€äº›å¸¸ç”¨å‘½ä»¤ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚</p>\n"},{"title":"å¤‡å¿˜å½•-git","abbrlink":"518e617c","date":"2024-07-08T01:05:01.000Z","_content":"\n# æ¸©é¦¨æç¤º\n\n\nåŸºç¡€`git`æš‚æ—¶è¿™æ ·æ•´ç†å®Œæˆï¼ŒåæœŸå¯ç»§ç»­æ•´ç†;\n\n\n## é…ç½® user ä¿¡æ¯\n\n### å…¨å±€é…ç½® user\n\n```sh\ngit config --global user.name \"username\"\ngit config --global user.email \"username@example.com\"\n```\n\n### config çš„ä¸‰ä¸ªä½œç”¨åŸŸ\n\nç¼ºçœç­‰åŒäº localï¼›\n\n```sh\n# localåªå¯¹æŸä¸ªä»“åº“æœ‰æ•ˆ\ngit config --local\n\n# globalå¯¹å½“å‰ç”¨æˆ·æ‰€æœ‰ä»“åº“æœ‰æ•ˆ\ngit config --global\n\n# system å¯¹ç³»ç»Ÿæ‰€æœ‰ç™»å½•çš„ç”¨æˆ·æœ‰æ•ˆ\ngit config --system\n```\n\næ˜¾ç¤º config çš„é…ç½®ï¼ŒåŠ `--list`\n\n```sh\ngit config --list --local\ngit config --list --global\ngit config --list --system\n```\n\n## åˆ›å»ºä¸€ä¸ªä»“åº“å¹¶é…ç½® local ç”¨æˆ·ä¿¡æ¯\n\n### ä¿©ç§åœºæ™¯\n\n1. æŠŠå·²æœ‰çš„é¡¹ç›®ä»£ç çº³å…¥ git ç®¡ç†\n\n```sh\ncd é¡¹ç›®ä»£ç æ‰€æœ‰çš„æ–‡ä»¶å¤¹\ngit init\n```\n\n2. æ–°å»ºçš„é¡¹ç›®ç›´æ¥ä½¿ç”¨ git ç®¡ç†\n\n```sh\ncd æŸä¸ªæ–‡ä»¶å¤¹\n# ä¼šåœ¨å½“å‰è·¯å¾„åˆ›å»ºå’Œé¡¹ç›®åç§°ç›¸åŒçš„æ–‡ä»¶å¤¹\ngit init your_project\ncd your_project\n```\n\nå½“ git åˆå§‹åŒ–å®Œæˆä¹‹åï¼Œåˆ›å»ºä¸€ä¸ª`local`çš„ç”¨æˆ·ï¼›\n\n```sh\ncd your_project\ngit config --local user.name \"ä½ çš„ç”¨æˆ·å\"\ngit config --local user.email \"ä½ çš„å¯†ç \"\n```\n\næ·»åŠ å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤`git config --local --list`å¯ä»¥å¿«é€ŸæŸ¥çœ‹é…ç½®çš„ç”¨æˆ·ä¿¡æ¯ï¼›\n\n```sh\ncore.repositoryformatversion=0\ncore.filemode=true\ncore.bare=false\ncore.logallrefupdates=true\ncore.ignorecase=true\ncore.precomposeunicode=true\nuser.name=è¿™é‡Œæ˜¾ç¤ºçš„æ˜¯ä½ é…ç½®çš„ç”¨æˆ·å\nuser.email=è¿™æ˜¾ç¤ºçš„æ˜¯ä½ é…ç½®çš„ç”µå­é‚®ç®±\n```\n\né…ç½®æˆåŠŸä¹‹åï¼Œé€šè¿‡å‘½ä»¤æäº¤æ–‡ä»¶ï¼›\n\n```sh\n# åœ¨è¿™ä¹‹å‰ï¼Œå¯ä»¥å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ README.md\ngit add README.md\ngit commit -m \"Add README.md\"\n```\n\næäº¤æˆåŠŸä¹‹åä¼šé»˜è®¤åˆ›å»ºä¸€ä¸ª`master`çš„åˆ†æ”¯ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤`git log` æŸ¥çœ‹\n\n```sh\ngit log\n\n# æ—¥å¿—ä¿¡æ¯å¦‚ä¸‹\ncommit 3ffd6982361494c34c5ade40cd69777f1993812c (HEAD -> master)\nAuthor: æ˜¾ç¤ºçš„æ˜¯ä½ ç”¨æˆ·å <æ˜¾ç¤ºçš„æ˜¯ä½ çš„ç”µå­é‚®ç®±>\nDate:   Thu Jan 5 21:20:49 2023 +0800\n\n    Add Readme\n```\n\n## ç»™æ–‡ä»¶åé‡å‘½å\n\n```sh\n# æ­¥éª¤ä¸€ï¼š\nmv index.html index.copy.html\n\n\nChanges not staged for commit:\n  (use \"git add/rm <file>...\" to update what will be committed)\n  (use \"git restore <file>...\" to discard changes in working directory)\n        deleted:    index.html\n\nUntracked files:\n  (use \"git add <file>...\" to include in what will be committed)\n        index.copy.html\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\n```\n\nè¿™é‡Œè™½ç„¶æˆ‘ä»¬å·²ç»æ›´æ–°äº†æ–‡ä»¶åå­—ï¼Œä½†æ˜¯å¯¹äº git ä»“åº“é‡Œè¿˜æ˜¯ä¼šå­˜åœ¨åŸæ¥çš„æ–‡ä»¶åï¼Œè¿™æ˜¯æˆ‘ä»¬åˆ é™¤åŸæ¥çš„ï¼Œæ·»åŠ æœ€æ–°çš„ï¼›\n\n```sh\n# æ­¥éª¤äºŒï¼š åˆ é™¤åŸæ¥çš„\ngit rm index.html\n# æ­¥éª¤ä¸‰ï¼š æ·»åŠ æœ€æ–°çš„\ngit add index.copy.html\n# æŸ¥çœ‹çŠ¶æ€\ngit status\nChanges to be committed:\n  (use \"git restore --staged <file>...\" to unstage)\n        renamed:    index.html -> index.copy.html\n```\n\nè¿™é‡Œå¯ä»¥ä½¿ç”¨ git å‘½ä»¤æ’¤é”€ä¼šé€€ï¼Œ ä½†æ˜¯è¿™æ˜¯ä¸€ä¸ªå±é™©æ“ä½œï¼Œä¼šæŠŠæš‚å­˜åŒºçš„æ–‡ä»¶ä¼šé€€ï¼›`git reset --hard`\n\n```sh\n# ç®€åŒ–ä¸Šé¢çš„æ“ä½œï¼Œå˜æ›´çš„æ–‡ä»¶ ä»¥åŠå˜æ›´åçš„æ–‡ä»¶, è¿™é‡Œçš„æ•ˆæœç®€åŒ–æˆä¸Šé¢çš„ä¸‰æ­¥éª¤\ngit mv index.html index.copy.index\n```\n\nè¿™é‡Œå˜æ›´æˆ–è€…ç§»åŠ¨æ–‡ä»¶å¯ä»¥å‚è€ƒæ–‡çŒ®ï¼š [git mv å‘½ä»¤](https://www.yiibai.com/git/git_mv.html)\n\n## git çš„ç‰ˆæœ¬å†å²\n\n```sh\n# æ— å‚æ•°\ngit log\n\n# æ‰€æœ‰åˆ†æ”¯log, ä½†æ˜¯è¿™ç§æƒ…å†µå¯¹äºå¤šåˆ†æ”¯ å¤šæäº¤æ˜¯æ¯”è¾ƒç´¯çš„(æ²¡æœ‰çœ¼ç›æˆ–è€…*å·) å¯ä»¥ä½¿ç”¨ --graphï¼ˆæœ‰çœ¼ç›æˆ–è€…*å·ï¼‰\ngit log --all\n# å›¾å½¢åŒ–çš„ç”¨ç”¨æ³• || gitk\ngit log --all --graph\n\n\n# ç®€ä»‹æ¨¡å¼ã€\ngit log --oneline\n64b9a4b (HEAD -> master) Move index.html to index.copy.html\nebe990b Add index\n3ffd698 Add Readme\n\n# æœ€è¿‘çš„å‡ ä¸ªcommit\ngit log -n2 --oneline\n64b9a4b (HEAD -> master) Move index.html to index.copy.html\nebe990b Add index\n\n\n# æŸ¥çœ‹åˆ†æ”¯\ngit branch -v\n* master 64b9a4b Move index.html to index.copy.html\n```\n\n**`git log --all --graph`** çš„æ•ˆæœå¦‚ä¸‹ï¼š\n\n![git log --all --graph](https://wangxiaoze-view.github.io/picx-images-hosting/images/git_graph.jpeg)\n\n## æ€ä¹ˆåˆ é™¤ä¸éœ€è¦çš„åˆ†æ”¯ï¼Ÿ\n\n```sh\n# éƒ¨åˆ†æƒ…å†µä¸‹å¯èƒ½ä¼šåˆ é™¤ä¸æ‰\ngit branch -d åˆ†æ”¯å\n\ngit branch -D åˆ†æ”¯å\n\n# ä¾‹å¦‚ï¼š\ngit branch -d temp\n```\n\n## æ€ä¹ˆä¿®æ”¹æœ€æ–°çš„ commit çš„ message?\n\n> ä½¿ç”¨åœºæ™¯å¾ˆç®€å•ï¼Œ å°±æ˜¯æœ€æ–°æäº¤çš„ commit message ä¸æ˜¯å¾ˆæ˜ç¡®çš„æƒ…å†µä¸‹ï¼Œéœ€è¦ä½¿ç”¨è¯¥å‘½ä»¤åŒºä¿®æ”¹æœ€æ–°æäº¤ commit message çš„ï¼›\n\n```sh\ngit commit --amend\n# ç›´æ¥ è¾“å…¥iè¿›è¡Œç¼–è¾‘ï¼Œ wqä¿å­˜é€€å‡º\n\n```\n\nä¾‹å­ï¼š\næ¯”å¦‚æˆ‘åœ¨ git æäº¤äº† 3 æ¡ commit, å¦‚ä¸‹ï¼š\n\n```sh\ncommit 3\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬ä¸‰æ¬¡æäº¤\n\ncommit 2\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬äºŒæ¬¡æäº¤\n\ncommit 1\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬ä¸€æ¬¡æäº¤\n```\n\nç”±äºç¬¬ä¸‰æ¬¡æäº¤çš„æäº¤æ¶ˆæ¯æˆ‘è¾“é”™äº†ã€‚æˆ‘æƒ³ä¿®æ”¹æœ€æ–°çš„å³ç¬¬ä¸‰æ¬¡æäº¤çš„ commit message;\n\nè¿™æ—¶å¯ä»¥ä½¿ç”¨`git commit --amend`, è¿›å»ä¹‹åç›´æ¥æ“ä½œ vimã€‚ä¿®ç¨¿ä½ çš„ commit message å°±å¯ä»¥äº†ï¼›\n\n```sh\n# è§£é‡Šï¼š è¿™é‡Œå°±æ˜¯ä½  git commit --amendå‘½ä»¤ä¹‹åçš„ç•Œé¢â€œï¼Œ ç›´æ¥å°†ä¸‹é¢çš„æ¶ˆæ¯æ–‡æ¡ˆä¿®æ”¹ä¸ºä½ æƒ³è¦çš„commit messageå°±å¯ä»¥\nadd: æ·»åŠ æœåŠ¡\n\n# Please enter the commit message for your changes. Lines starting\n# with '#' will be ignored, and an empty message aborts the commit.\n#\n# Date:      Fri Jan 6 21:36:05 2023 +0800\n#\n# On branch master\n# Changes to be committed:\n#       new file:   server.js\n#\n```\n\n## æ€ä¹ˆä¿®æ”¹è€æ—§çš„ commit çš„ message?\n\n```sh\n# å˜åŸº\ngit rebase -i å˜æ›´çš„ä¸Šä¸€ä¸ªåˆ†æ”¯id\n```\n\nä¾‹å­ï¼š\næ¯”å¦‚æˆ‘åœ¨ git æäº¤äº† 3 æ¡ commit, å¦‚ä¸‹ï¼š\n\n```sh\ncommit 3\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬ä¸‰æ¬¡æäº¤\n\ncommit 2\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬äºŒæ¬¡æäº¤\n\ncommit 1\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬ä¸€æ¬¡æäº¤\n```\n\nä½†æ˜¯æˆ‘æƒ³ä¿®æ”¹ç¬¬äºŒæ¬¡æäº¤çš„ commit message; å¯ä»¥ä½¿ç”¨`git rebase -i 1`;\nè¿™é‡Œçš„`1` æ˜¯ä½ æƒ³è¦ä¿®æ”¹ç¬¬å‡ æ¬¡æäº¤çš„çˆ¶çº§ id;\n\n```sh\n# æ•ˆæœå¦‚ä¸‹\npick 3 add: ç¬¬ä¸‰æ¬¡æäº¤\n# è¿™æ˜¯ç¬¬äºŒæ¡çš„ï¼Œ å§pick ä¿®æ”¹ä¸º reword æˆ–è€… r å°±å¯ä»¥äº†ï¼› è®°å¾—ä¿å­˜\npick 2 add: ç¬¬äºŒæ¬¡æäº¤\n\n# Rebase 3ffd698..70639fd onto 3ffd698 (1 command)\n#\n# Commands:\n# p, pick <commit> = use commit\n# r, reword <commit> = use commit, but edit the commit message\n# e, edit <commit> = use commit, but stop for amending\n# s, squash <commit> = use commit, but meld into previous commit\n# f, fixup [-C | -c] <commit> = like \"squash\" but keep only the previous\n#                    commit's log message, unless -C is used, in which case\n#                    keep only this commit's message; -c is same as -C but\n#                    opens the editor\n# x, exec <command> = run command (the rest of the line) using shell\n# b, break = stop here (continue rebase later with 'git rebase --continue')\n# d, drop <commit> = remove commit\n# l, label <label> = label current HEAD with a name\n# t, reset <label> = reset HEAD to a label\n# m, merge [-C <commit> | -c <commit>] <label> [# <oneline>]\n\n```\n\n## æŠŠå¤šä¸ª(è¿ç»­çš„)commit åˆå¹¶æˆ 1 ä¸ª\n\n```sh\ngit rebase -i åˆå¹¶commitçš„çˆ¶çº§id\n```\n\næˆ‘æƒ³è¦å°† ç¬¬ä¸‰æ¬¡ å’Œ ç¬¬äºŒæ¬¡æäº¤çš„æ¶ˆæ¯åˆå¹¶æˆ 1 ä¸ªï¼Œå¯ä»¥ä½¿ç”¨`git rebase -i 1`, è¿™é‡Œçš„`1`æ˜¯ä½ ä¸ºè°åˆå¹¶çš„çˆ¶çº§ idï¼›\n\n```sh\n# æ•ˆæœå¦‚ä¸‹\n# è¿™é‡Œä¿ç•™æœ€æ–°çš„ä¸€æ¬¡çš„pick, å°†å…¶ä»–çš„pickä¿®æ”¹ä¸º squash || s\npick 3 add: ç¬¬ä¸‰æ¬¡æäº¤\npick 2 add: ç¬¬äºŒæ¬¡æäº¤\n\n# ä¿®æ”¹å¦‚ä¸‹ï¼š 3 æ˜¯æœ€æ–°çš„ 2 æ˜¯æœ€æ—©æäº¤çš„  å§ æœ€æ–°çš„åˆå¹¶åˆ°æœ€æ—©æäº¤çš„\npick 3 add: ç¬¬ä¸‰æ¬¡æäº¤\nsquash 2 add: ç¬¬äºŒæ¬¡æäº¤\n\n\n# Rebase 52f2b39..2f79131 onto 52f2b39 (3 commands)\n#\n# Commands:\n# p, pick <commit> = use commit\n# r, reword <commit> = use commit, but edit the commit message\n# e, edit <commit> = use commit, but stop for amending\n# s, squash <commit> = use commit, but meld into previous commit\n# f, fixup [-C | -c] <commit> = like \"squash\" but keep only the previous\n#                    commit's log message, unless -C is used, in which case\n#                    keep only this commit's message; -c is same as -C but\n#                    opens the editor\n# x, exec <command> = run command (the rest of the line) using shell\n# b, break = stop here (continue rebase later with 'git rebase --continue')\n# d, drop <commit> = remove commit\n# l, label <label> = label current HEAD with a name\n```\n\n## æ€æ ·å§é—´éš”çš„å‡ ä¸ª commit æ•´ç†æˆ 1 ä¸ªï¼Ÿ\n\n```sh\ngit rebase -i é—´éš”çš„çˆ¶çº§id\n```\n\nä¾‹å­ï¼š\næ¯”å¦‚æˆ‘åœ¨ git æäº¤äº† 4 æ¡ commit, å¦‚ä¸‹ï¼š\n\n```sh\ncommit 4\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬å››æ¬¡æäº¤\n\ncommit 3\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬ä¸‰æ¬¡æäº¤\n\ncommit 2\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬äºŒæ¬¡æäº¤\n\ncommit 1\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬ä¸€æ¬¡æäº¤\n```\n\nåˆå¹¶ 4 å’Œ 2ï¼Œ å¯ä»¥è¿™ä¹ˆä½¿ç”¨`git rebase -i 1`,\n\n```sh\n# æ•ˆæœå¦‚ä¸‹\npick 4 add: ç¬¬å››æ¬¡æäº¤\npick 3 add: ç¬¬ä¸‰æ¬¡æäº¤\npick 2 add: ç¬¬äºŒæ¬¡æäº¤\n\n# ä¿®æ”¹å¦‚ä¸‹ï¼š å°†4åˆå¹¶åˆ°2 ï¼Œ 2 æ˜¯æœ€æ—©æäº¤çš„ï¼Œ4æ˜¯æœ€æ–°æäº¤çš„ã€‚ å°† 2é‚£ä¸€è¡Œæ·»åŠ åœ¨4ä¸‹é¢ï¼Œåˆ é™¤åŸæ¥çš„2çš„é‚£ä¸€è¡Œï¼Œ\n# å¹¶ä¸”å°† 4ä¸‹é¢çš„2çš„é‚£ä¸€è¡Œ çš„ pick ä¿®æ”¹ä¸º squashå³å¯\npick 4 add: ç¬¬å››æ¬¡æäº¤\nsquash 2 add: ç¬¬ä¸‰æ¬¡æäº¤\npick 3 add: ç¬¬ä¸‰æ¬¡æäº¤\n\n# Rebase 52f2b39..2f79131 onto 52f2b39 (3 commands)\n#\n# Commands:\n# p, pick <commit> = use commit\n# r, reword <commit> = use commit, but edit the commit message\n# e, edit <commit> = use commit, but stop for amending\n# s, squash <commit> = use commit, but meld into previous commit\n# f, fixup [-C | -c] <commit> = like \"squash\" but keep only the previous\n#                    commit's log message, unless -C is used, in which case\n#                    keep only this commit's message; -c is same as -C but\n#                    opens the editor\n# x, exec <command> = run command (the rest of the line) using shell\n# b, break = stop here (continue rebase later with 'git rebase --continue')\n# d, drop <commit> = remove commit\n# l, label <label> = label current HEAD with a name\n```\n\n## æš‚å­˜åŒºå’Œ HEAD ä¹‹é—´çš„å·®å¼‚ï¼Ÿ\n\n```sh\ngit diff --cached\n```\n\n```js\n// HEAD ä¸Šçš„æ–‡ä»¶\nconsole.log(\"api\");\n```\n\næœ¬åœ°ä¿®æ”¹æ–‡ä»¶, å¹¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼›\n\n```js\n// HEAD ä¸Šçš„æ–‡ä»¶\nconsole.log(\"api\");\n\nlet a = 100;\n```\n\nç„¶åé€šè¿‡å‘½ä»¤`git diff --cached`æ¯”è¾ƒä¿©ä¸ªæ–‡ä»¶çš„åŒºåˆ«â€\n\n```sh\ndiff --git a/api.js b/api.js\nindex 8558a46..26731b7 100644\n--- a/api.js\n+++ b/api.js\n\n@@ -1 +1,3 @@\n-console.log('api')\n\\ No newline at end of file\n\n+console.log('api')\n+\n+let a = 100;\n\\ No newline at end of file\n\n```\n\n## æ€æ ·é€šè¿‡æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒºæ‰€å«æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ\n\n```sh\n# æ‰€æœ‰æ–‡ä»¶\ngit diff\n\n# api.js\ngit diff -- api.js\n```\n\né¢„è§ˆçš„æ•ˆæœç±»ä¼¼ ä¸Šé¢çš„æ•ˆæœï¼›\n\n## æš‚å­˜åŒºæ¢å¤æˆå’Œ HEAD ä¸€æ ·ï¼Ÿ\n\n```sh\n# æ¢å¤æ‰€æœ‰\ngit reset HEAD\n\n# æ¢å¤æŸä¸€ä¸ªæ–‡ä»¶\ngit reset HEAD api.js\n```\n\n## è®©å·¥ä½œåŒºæ–‡ä»¶æ¢å¤æˆæš‚å­˜åŒºä¸€æ ·ï¼Ÿ\n\n```sh\ngit checkout -- æ–‡ä»¶å\n```\n\n## å–æ¶ˆæš‚å­˜åŒºéƒ¨åˆ†æ–‡ä»¶çš„ä¿®æ”¹ï¼Ÿ\n\n```sh\ngit checkout -- api.js  main.js\n```\n\n## æ¶ˆé™¤æœ€è¿‘çš„å‡ æ¬¡æäº¤ï¼Ÿï¼ˆç‰ˆæœ¬å›é€€ï¼‰\n\n```sh\ngit reset --hard å›é€€ç‰ˆæœ¬id\n```\n\nä¾‹å­ï¼š\næ¯”å¦‚æˆ‘åœ¨ git æäº¤äº† 3 æ¡ commit, å¦‚ä¸‹ï¼š\n\n```sh\ncommit 3\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬ä¸‰æ¬¡æäº¤\n\ncommit 2\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬äºŒæ¬¡æäº¤\n\ncommit 1\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬ä¸€æ¬¡æäº¤\n```\n\nä½†æ˜¯æˆ‘ä¸æƒ³è¦ç¬¬ä¸‰æ¬¡æäº¤ï¼Œæƒ³è¦æ¶ˆé™¤ï¼ˆå›é€€ 2 çš„æäº¤ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ `git reset --hard 2`,\n\n## ä¸åŒæäº¤æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ\n\n```sh\n# æ‰€æœ‰çš„æ–‡æ–‡ä»¶\ngit diff åˆ†æ”¯1 åˆ†æ”¯2\n\n# æŒ‡å®šæ–‡ä»¶\ngit diff åˆ†æ”¯1 åˆ†æ”¯2 -- index.js\n\n# æŒ‡å®šçš„åˆ†æ”¯id 2 æ˜¯tempåˆ†æ”¯çš„commit id,  1æ˜¯masteråˆ†æ”¯çš„commit id\ngit diff 2 1 -- index.js\n```\n\n```sh\n# git diff åˆ†æ”¯1 åˆ†æ”¯2\ndiff --git a/api.js b/api.js\nindex 26731b7..0afa981 100644\n--- a/api.js\n+++ b/api.js\n@@ -1,3 +1,5 @@\n console.log('api')\n\n-let a = 100;\n\\ No newline at end of file\n+let a = 100;\n+\n+const b = 1000;\n```\n\n## æ­£ç¡®åˆ é™¤æ–‡ä»¶çš„æ–¹æ³•ï¼Ÿ\n\n```sh\ngit rm æ–‡ä»¶å\n\n# æš‚å­˜åŒº æ”¾å¼ƒæ›´æ”¹\ngit reset --hard HEAD\n```\n\n## å¼€å‘ä¸­ç´§æ€¥ä»»åŠ¡æ€ä¹ˆå¤„ç†ï¼Ÿ\n\n```sh\n# æ·»åŠ å­˜æ”¾åŒºï¼Œæš‚å­˜åŒºæ˜¯ä¸€ä¸ªå¹²å‡€çš„çŠ¶æ€ï¼›\ngit stash\n\ngit stash list\n# stash@{0}: WIP on master: 886f134 edit: ä¿®æ”¹diff\n\n# 1: æ‹¿å‡ºæ¥ï¼Œæ”¾åœ¨å·¥ä½œåŒº 2: git stash list å¯¹ç”¨çš„ä¿¡æ¯è¿˜å­˜åœ¨ï¼Œå¯ä»¥é‡å¤ä½¿ç”¨\n# å³è¿™æ¡ä¿¡æ¯è¿˜å­˜åœ¨ï¼š {stash@{0}: WIP on master: 886f134 edit: ä¿®æ”¹diff}\ngit stash apply\n\n# ä¸¢æ‰ Dropped refs/stash@{0} (6fc8e582adf57857a5a2af6eafbe375d6eae287f)\ngit stash pop\n\n```\n\n## æŒ‡å®šä¸éœ€è¦çš„ git ç®¡ç†æ–‡ä»¶ï¼Ÿ `.gitignore æ–‡ä»¶`\n\n```sh\nnode_modules/\nsrc/.vuepress/.cache/\nsrc/.vuepress/.temp/\nsrc/.vuepress/dist/\n```\n\n## å…¶ä»–æ•´ç†\n\n### é€‰é¡¹è§£é‡Š\n\n```sh\n-d --deleteï¼šåˆ é™¤\n\n-D --delete --forceçš„å¿«æ·é”®\n\n-f --forceï¼šå¼ºåˆ¶\n\n-m --moveï¼šç§»åŠ¨æˆ–é‡å‘½å\n\n-M --move --forceçš„å¿«æ·é”®\n\n-r --remoteï¼šè¿œç¨‹\n\n-a --allï¼šæ‰€æœ‰\n```\n\n### åˆ†æ”¯ç®¡ç†\n\n- æ–°å»ºåˆ†æ”¯: `git branch` åˆ†æ”¯å\n  - `git branch -r` æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯\n  - `git branch -a` æŸ¥çœ‹è¿œç¨‹å’Œæœ¬åœ°åˆ†æ”¯\n  - `git branch -f` æ–°å»ºåˆ†æ”¯ä½†ä¸åˆ‡æ¢\n  - `git branch -b` æ–°å»ºåˆ†æ”¯å¹¶åˆ‡æ¢\n  - `git branch -d|-D` åˆ é™¤æœ¬åœ°åˆ†æ”¯\n  - `git branch -m|-M` å¼ºåˆ¶é‡å‘½å\n- åˆ‡æ¢åˆ†æ”¯: `git checkout åˆ†æ”¯å`\n- åˆ—å‡ºåˆ†æ”¯: `git branch`\n- åˆ é™¤åˆ†æ”¯: `git branch -d åˆ†æ”¯å`\n- åˆå¹¶åˆ†æ”¯: `git merge éœ€è¦åˆå¹¶çš„åˆ†æ”¯`\n- åˆå¹¶åˆ†æ”¯: `git rebase åˆå¹¶åˆ°çš„åˆ†æ”¯`\n\n### ç›¸å¯¹å¼•ç”¨\n\n- `^`å‘ä¸Šç§»åŠ¨ä¸€ä¸ªè®°å½• `git checkout åˆ†æ”¯ HEAD^`\n- ä½¿ç”¨ `~` å‘ä¸Šç§»åŠ¨å¤šä¸ªæäº¤è®°å½•ï¼Œå¦‚ `~3`\n\n### æ’¤é”€å˜æ›´\n\n- `git reset` æœ¬åœ°å›æ»šä¸Šä¸€æ­¥ï¼ŒåŸæ¥æŒ‡å‘çš„æäº¤è®°å½•å°±è·Ÿä»æ¥æ²¡æœ‰æäº¤è¿‡ä¸€æ ·\n- `git revert` è¿œç¨‹å›æ»šï¼Œä½†ä¼šç”Ÿæˆä¸€æ¡æäº¤è®°å½•\n\n### æŸ¥çœ‹å†å²\n\n- `git log`\n  - `git log --oneline` æŸ¥çœ‹å†å²è®°å½•çš„ç®€æ´çš„ç‰ˆæœ¬ã€‚\n  - `git log --graph` æŸ¥çœ‹å†å²ä¸­ä»€ä¹ˆæ—¶å€™å‡ºç°äº†åˆ†æ”¯ã€åˆå¹¶ã€‚\n  - `git log --reverse` é€†å‘æ˜¾ç¤ºæ‰€æœ‰æ—¥å¿—ã€‚\n","source":"_posts/æŠ€èƒ½å°å†Œ/å¤‡å¿˜å½•/git.md","raw":"---\ntitle: å¤‡å¿˜å½•-git\nabbrlink: 518e617c\ndate: 2024-07-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å¤‡å¿˜å½•\n---\n\n# æ¸©é¦¨æç¤º\n\n\nåŸºç¡€`git`æš‚æ—¶è¿™æ ·æ•´ç†å®Œæˆï¼ŒåæœŸå¯ç»§ç»­æ•´ç†;\n\n\n## é…ç½® user ä¿¡æ¯\n\n### å…¨å±€é…ç½® user\n\n```sh\ngit config --global user.name \"username\"\ngit config --global user.email \"username@example.com\"\n```\n\n### config çš„ä¸‰ä¸ªä½œç”¨åŸŸ\n\nç¼ºçœç­‰åŒäº localï¼›\n\n```sh\n# localåªå¯¹æŸä¸ªä»“åº“æœ‰æ•ˆ\ngit config --local\n\n# globalå¯¹å½“å‰ç”¨æˆ·æ‰€æœ‰ä»“åº“æœ‰æ•ˆ\ngit config --global\n\n# system å¯¹ç³»ç»Ÿæ‰€æœ‰ç™»å½•çš„ç”¨æˆ·æœ‰æ•ˆ\ngit config --system\n```\n\næ˜¾ç¤º config çš„é…ç½®ï¼ŒåŠ `--list`\n\n```sh\ngit config --list --local\ngit config --list --global\ngit config --list --system\n```\n\n## åˆ›å»ºä¸€ä¸ªä»“åº“å¹¶é…ç½® local ç”¨æˆ·ä¿¡æ¯\n\n### ä¿©ç§åœºæ™¯\n\n1. æŠŠå·²æœ‰çš„é¡¹ç›®ä»£ç çº³å…¥ git ç®¡ç†\n\n```sh\ncd é¡¹ç›®ä»£ç æ‰€æœ‰çš„æ–‡ä»¶å¤¹\ngit init\n```\n\n2. æ–°å»ºçš„é¡¹ç›®ç›´æ¥ä½¿ç”¨ git ç®¡ç†\n\n```sh\ncd æŸä¸ªæ–‡ä»¶å¤¹\n# ä¼šåœ¨å½“å‰è·¯å¾„åˆ›å»ºå’Œé¡¹ç›®åç§°ç›¸åŒçš„æ–‡ä»¶å¤¹\ngit init your_project\ncd your_project\n```\n\nå½“ git åˆå§‹åŒ–å®Œæˆä¹‹åï¼Œåˆ›å»ºä¸€ä¸ª`local`çš„ç”¨æˆ·ï¼›\n\n```sh\ncd your_project\ngit config --local user.name \"ä½ çš„ç”¨æˆ·å\"\ngit config --local user.email \"ä½ çš„å¯†ç \"\n```\n\næ·»åŠ å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤`git config --local --list`å¯ä»¥å¿«é€ŸæŸ¥çœ‹é…ç½®çš„ç”¨æˆ·ä¿¡æ¯ï¼›\n\n```sh\ncore.repositoryformatversion=0\ncore.filemode=true\ncore.bare=false\ncore.logallrefupdates=true\ncore.ignorecase=true\ncore.precomposeunicode=true\nuser.name=è¿™é‡Œæ˜¾ç¤ºçš„æ˜¯ä½ é…ç½®çš„ç”¨æˆ·å\nuser.email=è¿™æ˜¾ç¤ºçš„æ˜¯ä½ é…ç½®çš„ç”µå­é‚®ç®±\n```\n\né…ç½®æˆåŠŸä¹‹åï¼Œé€šè¿‡å‘½ä»¤æäº¤æ–‡ä»¶ï¼›\n\n```sh\n# åœ¨è¿™ä¹‹å‰ï¼Œå¯ä»¥å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ README.md\ngit add README.md\ngit commit -m \"Add README.md\"\n```\n\næäº¤æˆåŠŸä¹‹åä¼šé»˜è®¤åˆ›å»ºä¸€ä¸ª`master`çš„åˆ†æ”¯ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤`git log` æŸ¥çœ‹\n\n```sh\ngit log\n\n# æ—¥å¿—ä¿¡æ¯å¦‚ä¸‹\ncommit 3ffd6982361494c34c5ade40cd69777f1993812c (HEAD -> master)\nAuthor: æ˜¾ç¤ºçš„æ˜¯ä½ ç”¨æˆ·å <æ˜¾ç¤ºçš„æ˜¯ä½ çš„ç”µå­é‚®ç®±>\nDate:   Thu Jan 5 21:20:49 2023 +0800\n\n    Add Readme\n```\n\n## ç»™æ–‡ä»¶åé‡å‘½å\n\n```sh\n# æ­¥éª¤ä¸€ï¼š\nmv index.html index.copy.html\n\n\nChanges not staged for commit:\n  (use \"git add/rm <file>...\" to update what will be committed)\n  (use \"git restore <file>...\" to discard changes in working directory)\n        deleted:    index.html\n\nUntracked files:\n  (use \"git add <file>...\" to include in what will be committed)\n        index.copy.html\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\n```\n\nè¿™é‡Œè™½ç„¶æˆ‘ä»¬å·²ç»æ›´æ–°äº†æ–‡ä»¶åå­—ï¼Œä½†æ˜¯å¯¹äº git ä»“åº“é‡Œè¿˜æ˜¯ä¼šå­˜åœ¨åŸæ¥çš„æ–‡ä»¶åï¼Œè¿™æ˜¯æˆ‘ä»¬åˆ é™¤åŸæ¥çš„ï¼Œæ·»åŠ æœ€æ–°çš„ï¼›\n\n```sh\n# æ­¥éª¤äºŒï¼š åˆ é™¤åŸæ¥çš„\ngit rm index.html\n# æ­¥éª¤ä¸‰ï¼š æ·»åŠ æœ€æ–°çš„\ngit add index.copy.html\n# æŸ¥çœ‹çŠ¶æ€\ngit status\nChanges to be committed:\n  (use \"git restore --staged <file>...\" to unstage)\n        renamed:    index.html -> index.copy.html\n```\n\nè¿™é‡Œå¯ä»¥ä½¿ç”¨ git å‘½ä»¤æ’¤é”€ä¼šé€€ï¼Œ ä½†æ˜¯è¿™æ˜¯ä¸€ä¸ªå±é™©æ“ä½œï¼Œä¼šæŠŠæš‚å­˜åŒºçš„æ–‡ä»¶ä¼šé€€ï¼›`git reset --hard`\n\n```sh\n# ç®€åŒ–ä¸Šé¢çš„æ“ä½œï¼Œå˜æ›´çš„æ–‡ä»¶ ä»¥åŠå˜æ›´åçš„æ–‡ä»¶, è¿™é‡Œçš„æ•ˆæœç®€åŒ–æˆä¸Šé¢çš„ä¸‰æ­¥éª¤\ngit mv index.html index.copy.index\n```\n\nè¿™é‡Œå˜æ›´æˆ–è€…ç§»åŠ¨æ–‡ä»¶å¯ä»¥å‚è€ƒæ–‡çŒ®ï¼š [git mv å‘½ä»¤](https://www.yiibai.com/git/git_mv.html)\n\n## git çš„ç‰ˆæœ¬å†å²\n\n```sh\n# æ— å‚æ•°\ngit log\n\n# æ‰€æœ‰åˆ†æ”¯log, ä½†æ˜¯è¿™ç§æƒ…å†µå¯¹äºå¤šåˆ†æ”¯ å¤šæäº¤æ˜¯æ¯”è¾ƒç´¯çš„(æ²¡æœ‰çœ¼ç›æˆ–è€…*å·) å¯ä»¥ä½¿ç”¨ --graphï¼ˆæœ‰çœ¼ç›æˆ–è€…*å·ï¼‰\ngit log --all\n# å›¾å½¢åŒ–çš„ç”¨ç”¨æ³• || gitk\ngit log --all --graph\n\n\n# ç®€ä»‹æ¨¡å¼ã€\ngit log --oneline\n64b9a4b (HEAD -> master) Move index.html to index.copy.html\nebe990b Add index\n3ffd698 Add Readme\n\n# æœ€è¿‘çš„å‡ ä¸ªcommit\ngit log -n2 --oneline\n64b9a4b (HEAD -> master) Move index.html to index.copy.html\nebe990b Add index\n\n\n# æŸ¥çœ‹åˆ†æ”¯\ngit branch -v\n* master 64b9a4b Move index.html to index.copy.html\n```\n\n**`git log --all --graph`** çš„æ•ˆæœå¦‚ä¸‹ï¼š\n\n![git log --all --graph](https://wangxiaoze-view.github.io/picx-images-hosting/images/git_graph.jpeg)\n\n## æ€ä¹ˆåˆ é™¤ä¸éœ€è¦çš„åˆ†æ”¯ï¼Ÿ\n\n```sh\n# éƒ¨åˆ†æƒ…å†µä¸‹å¯èƒ½ä¼šåˆ é™¤ä¸æ‰\ngit branch -d åˆ†æ”¯å\n\ngit branch -D åˆ†æ”¯å\n\n# ä¾‹å¦‚ï¼š\ngit branch -d temp\n```\n\n## æ€ä¹ˆä¿®æ”¹æœ€æ–°çš„ commit çš„ message?\n\n> ä½¿ç”¨åœºæ™¯å¾ˆç®€å•ï¼Œ å°±æ˜¯æœ€æ–°æäº¤çš„ commit message ä¸æ˜¯å¾ˆæ˜ç¡®çš„æƒ…å†µä¸‹ï¼Œéœ€è¦ä½¿ç”¨è¯¥å‘½ä»¤åŒºä¿®æ”¹æœ€æ–°æäº¤ commit message çš„ï¼›\n\n```sh\ngit commit --amend\n# ç›´æ¥ è¾“å…¥iè¿›è¡Œç¼–è¾‘ï¼Œ wqä¿å­˜é€€å‡º\n\n```\n\nä¾‹å­ï¼š\næ¯”å¦‚æˆ‘åœ¨ git æäº¤äº† 3 æ¡ commit, å¦‚ä¸‹ï¼š\n\n```sh\ncommit 3\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬ä¸‰æ¬¡æäº¤\n\ncommit 2\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬äºŒæ¬¡æäº¤\n\ncommit 1\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬ä¸€æ¬¡æäº¤\n```\n\nç”±äºç¬¬ä¸‰æ¬¡æäº¤çš„æäº¤æ¶ˆæ¯æˆ‘è¾“é”™äº†ã€‚æˆ‘æƒ³ä¿®æ”¹æœ€æ–°çš„å³ç¬¬ä¸‰æ¬¡æäº¤çš„ commit message;\n\nè¿™æ—¶å¯ä»¥ä½¿ç”¨`git commit --amend`, è¿›å»ä¹‹åç›´æ¥æ“ä½œ vimã€‚ä¿®ç¨¿ä½ çš„ commit message å°±å¯ä»¥äº†ï¼›\n\n```sh\n# è§£é‡Šï¼š è¿™é‡Œå°±æ˜¯ä½  git commit --amendå‘½ä»¤ä¹‹åçš„ç•Œé¢â€œï¼Œ ç›´æ¥å°†ä¸‹é¢çš„æ¶ˆæ¯æ–‡æ¡ˆä¿®æ”¹ä¸ºä½ æƒ³è¦çš„commit messageå°±å¯ä»¥\nadd: æ·»åŠ æœåŠ¡\n\n# Please enter the commit message for your changes. Lines starting\n# with '#' will be ignored, and an empty message aborts the commit.\n#\n# Date:      Fri Jan 6 21:36:05 2023 +0800\n#\n# On branch master\n# Changes to be committed:\n#       new file:   server.js\n#\n```\n\n## æ€ä¹ˆä¿®æ”¹è€æ—§çš„ commit çš„ message?\n\n```sh\n# å˜åŸº\ngit rebase -i å˜æ›´çš„ä¸Šä¸€ä¸ªåˆ†æ”¯id\n```\n\nä¾‹å­ï¼š\næ¯”å¦‚æˆ‘åœ¨ git æäº¤äº† 3 æ¡ commit, å¦‚ä¸‹ï¼š\n\n```sh\ncommit 3\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬ä¸‰æ¬¡æäº¤\n\ncommit 2\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬äºŒæ¬¡æäº¤\n\ncommit 1\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬ä¸€æ¬¡æäº¤\n```\n\nä½†æ˜¯æˆ‘æƒ³ä¿®æ”¹ç¬¬äºŒæ¬¡æäº¤çš„ commit message; å¯ä»¥ä½¿ç”¨`git rebase -i 1`;\nè¿™é‡Œçš„`1` æ˜¯ä½ æƒ³è¦ä¿®æ”¹ç¬¬å‡ æ¬¡æäº¤çš„çˆ¶çº§ id;\n\n```sh\n# æ•ˆæœå¦‚ä¸‹\npick 3 add: ç¬¬ä¸‰æ¬¡æäº¤\n# è¿™æ˜¯ç¬¬äºŒæ¡çš„ï¼Œ å§pick ä¿®æ”¹ä¸º reword æˆ–è€… r å°±å¯ä»¥äº†ï¼› è®°å¾—ä¿å­˜\npick 2 add: ç¬¬äºŒæ¬¡æäº¤\n\n# Rebase 3ffd698..70639fd onto 3ffd698 (1 command)\n#\n# Commands:\n# p, pick <commit> = use commit\n# r, reword <commit> = use commit, but edit the commit message\n# e, edit <commit> = use commit, but stop for amending\n# s, squash <commit> = use commit, but meld into previous commit\n# f, fixup [-C | -c] <commit> = like \"squash\" but keep only the previous\n#                    commit's log message, unless -C is used, in which case\n#                    keep only this commit's message; -c is same as -C but\n#                    opens the editor\n# x, exec <command> = run command (the rest of the line) using shell\n# b, break = stop here (continue rebase later with 'git rebase --continue')\n# d, drop <commit> = remove commit\n# l, label <label> = label current HEAD with a name\n# t, reset <label> = reset HEAD to a label\n# m, merge [-C <commit> | -c <commit>] <label> [# <oneline>]\n\n```\n\n## æŠŠå¤šä¸ª(è¿ç»­çš„)commit åˆå¹¶æˆ 1 ä¸ª\n\n```sh\ngit rebase -i åˆå¹¶commitçš„çˆ¶çº§id\n```\n\næˆ‘æƒ³è¦å°† ç¬¬ä¸‰æ¬¡ å’Œ ç¬¬äºŒæ¬¡æäº¤çš„æ¶ˆæ¯åˆå¹¶æˆ 1 ä¸ªï¼Œå¯ä»¥ä½¿ç”¨`git rebase -i 1`, è¿™é‡Œçš„`1`æ˜¯ä½ ä¸ºè°åˆå¹¶çš„çˆ¶çº§ idï¼›\n\n```sh\n# æ•ˆæœå¦‚ä¸‹\n# è¿™é‡Œä¿ç•™æœ€æ–°çš„ä¸€æ¬¡çš„pick, å°†å…¶ä»–çš„pickä¿®æ”¹ä¸º squash || s\npick 3 add: ç¬¬ä¸‰æ¬¡æäº¤\npick 2 add: ç¬¬äºŒæ¬¡æäº¤\n\n# ä¿®æ”¹å¦‚ä¸‹ï¼š 3 æ˜¯æœ€æ–°çš„ 2 æ˜¯æœ€æ—©æäº¤çš„  å§ æœ€æ–°çš„åˆå¹¶åˆ°æœ€æ—©æäº¤çš„\npick 3 add: ç¬¬ä¸‰æ¬¡æäº¤\nsquash 2 add: ç¬¬äºŒæ¬¡æäº¤\n\n\n# Rebase 52f2b39..2f79131 onto 52f2b39 (3 commands)\n#\n# Commands:\n# p, pick <commit> = use commit\n# r, reword <commit> = use commit, but edit the commit message\n# e, edit <commit> = use commit, but stop for amending\n# s, squash <commit> = use commit, but meld into previous commit\n# f, fixup [-C | -c] <commit> = like \"squash\" but keep only the previous\n#                    commit's log message, unless -C is used, in which case\n#                    keep only this commit's message; -c is same as -C but\n#                    opens the editor\n# x, exec <command> = run command (the rest of the line) using shell\n# b, break = stop here (continue rebase later with 'git rebase --continue')\n# d, drop <commit> = remove commit\n# l, label <label> = label current HEAD with a name\n```\n\n## æ€æ ·å§é—´éš”çš„å‡ ä¸ª commit æ•´ç†æˆ 1 ä¸ªï¼Ÿ\n\n```sh\ngit rebase -i é—´éš”çš„çˆ¶çº§id\n```\n\nä¾‹å­ï¼š\næ¯”å¦‚æˆ‘åœ¨ git æäº¤äº† 4 æ¡ commit, å¦‚ä¸‹ï¼š\n\n```sh\ncommit 4\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬å››æ¬¡æäº¤\n\ncommit 3\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬ä¸‰æ¬¡æäº¤\n\ncommit 2\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬äºŒæ¬¡æäº¤\n\ncommit 1\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬ä¸€æ¬¡æäº¤\n```\n\nåˆå¹¶ 4 å’Œ 2ï¼Œ å¯ä»¥è¿™ä¹ˆä½¿ç”¨`git rebase -i 1`,\n\n```sh\n# æ•ˆæœå¦‚ä¸‹\npick 4 add: ç¬¬å››æ¬¡æäº¤\npick 3 add: ç¬¬ä¸‰æ¬¡æäº¤\npick 2 add: ç¬¬äºŒæ¬¡æäº¤\n\n# ä¿®æ”¹å¦‚ä¸‹ï¼š å°†4åˆå¹¶åˆ°2 ï¼Œ 2 æ˜¯æœ€æ—©æäº¤çš„ï¼Œ4æ˜¯æœ€æ–°æäº¤çš„ã€‚ å°† 2é‚£ä¸€è¡Œæ·»åŠ åœ¨4ä¸‹é¢ï¼Œåˆ é™¤åŸæ¥çš„2çš„é‚£ä¸€è¡Œï¼Œ\n# å¹¶ä¸”å°† 4ä¸‹é¢çš„2çš„é‚£ä¸€è¡Œ çš„ pick ä¿®æ”¹ä¸º squashå³å¯\npick 4 add: ç¬¬å››æ¬¡æäº¤\nsquash 2 add: ç¬¬ä¸‰æ¬¡æäº¤\npick 3 add: ç¬¬ä¸‰æ¬¡æäº¤\n\n# Rebase 52f2b39..2f79131 onto 52f2b39 (3 commands)\n#\n# Commands:\n# p, pick <commit> = use commit\n# r, reword <commit> = use commit, but edit the commit message\n# e, edit <commit> = use commit, but stop for amending\n# s, squash <commit> = use commit, but meld into previous commit\n# f, fixup [-C | -c] <commit> = like \"squash\" but keep only the previous\n#                    commit's log message, unless -C is used, in which case\n#                    keep only this commit's message; -c is same as -C but\n#                    opens the editor\n# x, exec <command> = run command (the rest of the line) using shell\n# b, break = stop here (continue rebase later with 'git rebase --continue')\n# d, drop <commit> = remove commit\n# l, label <label> = label current HEAD with a name\n```\n\n## æš‚å­˜åŒºå’Œ HEAD ä¹‹é—´çš„å·®å¼‚ï¼Ÿ\n\n```sh\ngit diff --cached\n```\n\n```js\n// HEAD ä¸Šçš„æ–‡ä»¶\nconsole.log(\"api\");\n```\n\næœ¬åœ°ä¿®æ”¹æ–‡ä»¶, å¹¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼›\n\n```js\n// HEAD ä¸Šçš„æ–‡ä»¶\nconsole.log(\"api\");\n\nlet a = 100;\n```\n\nç„¶åé€šè¿‡å‘½ä»¤`git diff --cached`æ¯”è¾ƒä¿©ä¸ªæ–‡ä»¶çš„åŒºåˆ«â€\n\n```sh\ndiff --git a/api.js b/api.js\nindex 8558a46..26731b7 100644\n--- a/api.js\n+++ b/api.js\n\n@@ -1 +1,3 @@\n-console.log('api')\n\\ No newline at end of file\n\n+console.log('api')\n+\n+let a = 100;\n\\ No newline at end of file\n\n```\n\n## æ€æ ·é€šè¿‡æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒºæ‰€å«æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ\n\n```sh\n# æ‰€æœ‰æ–‡ä»¶\ngit diff\n\n# api.js\ngit diff -- api.js\n```\n\né¢„è§ˆçš„æ•ˆæœç±»ä¼¼ ä¸Šé¢çš„æ•ˆæœï¼›\n\n## æš‚å­˜åŒºæ¢å¤æˆå’Œ HEAD ä¸€æ ·ï¼Ÿ\n\n```sh\n# æ¢å¤æ‰€æœ‰\ngit reset HEAD\n\n# æ¢å¤æŸä¸€ä¸ªæ–‡ä»¶\ngit reset HEAD api.js\n```\n\n## è®©å·¥ä½œåŒºæ–‡ä»¶æ¢å¤æˆæš‚å­˜åŒºä¸€æ ·ï¼Ÿ\n\n```sh\ngit checkout -- æ–‡ä»¶å\n```\n\n## å–æ¶ˆæš‚å­˜åŒºéƒ¨åˆ†æ–‡ä»¶çš„ä¿®æ”¹ï¼Ÿ\n\n```sh\ngit checkout -- api.js  main.js\n```\n\n## æ¶ˆé™¤æœ€è¿‘çš„å‡ æ¬¡æäº¤ï¼Ÿï¼ˆç‰ˆæœ¬å›é€€ï¼‰\n\n```sh\ngit reset --hard å›é€€ç‰ˆæœ¬id\n```\n\nä¾‹å­ï¼š\næ¯”å¦‚æˆ‘åœ¨ git æäº¤äº† 3 æ¡ commit, å¦‚ä¸‹ï¼š\n\n```sh\ncommit 3\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬ä¸‰æ¬¡æäº¤\n\ncommit 2\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬äºŒæ¬¡æäº¤\n\ncommit 1\nAuthor: cs <123@qq.com>\nDate: 2023\n  add: ç¬¬ä¸€æ¬¡æäº¤\n```\n\nä½†æ˜¯æˆ‘ä¸æƒ³è¦ç¬¬ä¸‰æ¬¡æäº¤ï¼Œæƒ³è¦æ¶ˆé™¤ï¼ˆå›é€€ 2 çš„æäº¤ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ `git reset --hard 2`,\n\n## ä¸åŒæäº¤æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ\n\n```sh\n# æ‰€æœ‰çš„æ–‡æ–‡ä»¶\ngit diff åˆ†æ”¯1 åˆ†æ”¯2\n\n# æŒ‡å®šæ–‡ä»¶\ngit diff åˆ†æ”¯1 åˆ†æ”¯2 -- index.js\n\n# æŒ‡å®šçš„åˆ†æ”¯id 2 æ˜¯tempåˆ†æ”¯çš„commit id,  1æ˜¯masteråˆ†æ”¯çš„commit id\ngit diff 2 1 -- index.js\n```\n\n```sh\n# git diff åˆ†æ”¯1 åˆ†æ”¯2\ndiff --git a/api.js b/api.js\nindex 26731b7..0afa981 100644\n--- a/api.js\n+++ b/api.js\n@@ -1,3 +1,5 @@\n console.log('api')\n\n-let a = 100;\n\\ No newline at end of file\n+let a = 100;\n+\n+const b = 1000;\n```\n\n## æ­£ç¡®åˆ é™¤æ–‡ä»¶çš„æ–¹æ³•ï¼Ÿ\n\n```sh\ngit rm æ–‡ä»¶å\n\n# æš‚å­˜åŒº æ”¾å¼ƒæ›´æ”¹\ngit reset --hard HEAD\n```\n\n## å¼€å‘ä¸­ç´§æ€¥ä»»åŠ¡æ€ä¹ˆå¤„ç†ï¼Ÿ\n\n```sh\n# æ·»åŠ å­˜æ”¾åŒºï¼Œæš‚å­˜åŒºæ˜¯ä¸€ä¸ªå¹²å‡€çš„çŠ¶æ€ï¼›\ngit stash\n\ngit stash list\n# stash@{0}: WIP on master: 886f134 edit: ä¿®æ”¹diff\n\n# 1: æ‹¿å‡ºæ¥ï¼Œæ”¾åœ¨å·¥ä½œåŒº 2: git stash list å¯¹ç”¨çš„ä¿¡æ¯è¿˜å­˜åœ¨ï¼Œå¯ä»¥é‡å¤ä½¿ç”¨\n# å³è¿™æ¡ä¿¡æ¯è¿˜å­˜åœ¨ï¼š {stash@{0}: WIP on master: 886f134 edit: ä¿®æ”¹diff}\ngit stash apply\n\n# ä¸¢æ‰ Dropped refs/stash@{0} (6fc8e582adf57857a5a2af6eafbe375d6eae287f)\ngit stash pop\n\n```\n\n## æŒ‡å®šä¸éœ€è¦çš„ git ç®¡ç†æ–‡ä»¶ï¼Ÿ `.gitignore æ–‡ä»¶`\n\n```sh\nnode_modules/\nsrc/.vuepress/.cache/\nsrc/.vuepress/.temp/\nsrc/.vuepress/dist/\n```\n\n## å…¶ä»–æ•´ç†\n\n### é€‰é¡¹è§£é‡Š\n\n```sh\n-d --deleteï¼šåˆ é™¤\n\n-D --delete --forceçš„å¿«æ·é”®\n\n-f --forceï¼šå¼ºåˆ¶\n\n-m --moveï¼šç§»åŠ¨æˆ–é‡å‘½å\n\n-M --move --forceçš„å¿«æ·é”®\n\n-r --remoteï¼šè¿œç¨‹\n\n-a --allï¼šæ‰€æœ‰\n```\n\n### åˆ†æ”¯ç®¡ç†\n\n- æ–°å»ºåˆ†æ”¯: `git branch` åˆ†æ”¯å\n  - `git branch -r` æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯\n  - `git branch -a` æŸ¥çœ‹è¿œç¨‹å’Œæœ¬åœ°åˆ†æ”¯\n  - `git branch -f` æ–°å»ºåˆ†æ”¯ä½†ä¸åˆ‡æ¢\n  - `git branch -b` æ–°å»ºåˆ†æ”¯å¹¶åˆ‡æ¢\n  - `git branch -d|-D` åˆ é™¤æœ¬åœ°åˆ†æ”¯\n  - `git branch -m|-M` å¼ºåˆ¶é‡å‘½å\n- åˆ‡æ¢åˆ†æ”¯: `git checkout åˆ†æ”¯å`\n- åˆ—å‡ºåˆ†æ”¯: `git branch`\n- åˆ é™¤åˆ†æ”¯: `git branch -d åˆ†æ”¯å`\n- åˆå¹¶åˆ†æ”¯: `git merge éœ€è¦åˆå¹¶çš„åˆ†æ”¯`\n- åˆå¹¶åˆ†æ”¯: `git rebase åˆå¹¶åˆ°çš„åˆ†æ”¯`\n\n### ç›¸å¯¹å¼•ç”¨\n\n- `^`å‘ä¸Šç§»åŠ¨ä¸€ä¸ªè®°å½• `git checkout åˆ†æ”¯ HEAD^`\n- ä½¿ç”¨ `~` å‘ä¸Šç§»åŠ¨å¤šä¸ªæäº¤è®°å½•ï¼Œå¦‚ `~3`\n\n### æ’¤é”€å˜æ›´\n\n- `git reset` æœ¬åœ°å›æ»šä¸Šä¸€æ­¥ï¼ŒåŸæ¥æŒ‡å‘çš„æäº¤è®°å½•å°±è·Ÿä»æ¥æ²¡æœ‰æäº¤è¿‡ä¸€æ ·\n- `git revert` è¿œç¨‹å›æ»šï¼Œä½†ä¼šç”Ÿæˆä¸€æ¡æäº¤è®°å½•\n\n### æŸ¥çœ‹å†å²\n\n- `git log`\n  - `git log --oneline` æŸ¥çœ‹å†å²è®°å½•çš„ç®€æ´çš„ç‰ˆæœ¬ã€‚\n  - `git log --graph` æŸ¥çœ‹å†å²ä¸­ä»€ä¹ˆæ—¶å€™å‡ºç°äº†åˆ†æ”¯ã€åˆå¹¶ã€‚\n  - `git log --reverse` é€†å‘æ˜¾ç¤ºæ‰€æœ‰æ—¥å¿—ã€‚\n","slug":"æŠ€èƒ½å°å†Œ/å¤‡å¿˜å½•/git","published":1,"updated":"2025-03-13T10:16:18.072Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j1004ifg9md19ye2zo","content":"<h1 id=\"æ¸©é¦¨æç¤º\"><a href=\"#æ¸©é¦¨æç¤º\" class=\"headerlink\" title=\"æ¸©é¦¨æç¤º\"></a>æ¸©é¦¨æç¤º</h1><p>åŸºç¡€<code>git</code>æš‚æ—¶è¿™æ ·æ•´ç†å®Œæˆï¼ŒåæœŸå¯ç»§ç»­æ•´ç†;</p>\n<h2 id=\"é…ç½®-user-ä¿¡æ¯\"><a href=\"#é…ç½®-user-ä¿¡æ¯\" class=\"headerlink\" title=\"é…ç½® user ä¿¡æ¯\"></a>é…ç½® user ä¿¡æ¯</h2><h3 id=\"å…¨å±€é…ç½®-user\"><a href=\"#å…¨å±€é…ç½®-user\" class=\"headerlink\" title=\"å…¨å±€é…ç½® user\"></a>å…¨å±€é…ç½® user</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global user.name <span class=\"string\">&quot;username&quot;</span></span><br><span class=\"line\">git config --global user.email <span class=\"string\">&quot;username@example.com&quot;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"config-çš„ä¸‰ä¸ªä½œç”¨åŸŸ\"><a href=\"#config-çš„ä¸‰ä¸ªä½œç”¨åŸŸ\" class=\"headerlink\" title=\"config çš„ä¸‰ä¸ªä½œç”¨åŸŸ\"></a>config çš„ä¸‰ä¸ªä½œç”¨åŸŸ</h3><p>ç¼ºçœç­‰åŒäº localï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># localåªå¯¹æŸä¸ªä»“åº“æœ‰æ•ˆ</span></span><br><span class=\"line\">git config --<span class=\"built_in\">local</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># globalå¯¹å½“å‰ç”¨æˆ·æ‰€æœ‰ä»“åº“æœ‰æ•ˆ</span></span><br><span class=\"line\">git config --global</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># system å¯¹ç³»ç»Ÿæ‰€æœ‰ç™»å½•çš„ç”¨æˆ·æœ‰æ•ˆ</span></span><br><span class=\"line\">git config --system</span><br></pre></td></tr></table></figure>\n\n<p>æ˜¾ç¤º config çš„é…ç½®ï¼ŒåŠ <code>--list</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --list --<span class=\"built_in\">local</span></span><br><span class=\"line\">git config --list --global</span><br><span class=\"line\">git config --list --system</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åˆ›å»ºä¸€ä¸ªä»“åº“å¹¶é…ç½®-local-ç”¨æˆ·ä¿¡æ¯\"><a href=\"#åˆ›å»ºä¸€ä¸ªä»“åº“å¹¶é…ç½®-local-ç”¨æˆ·ä¿¡æ¯\" class=\"headerlink\" title=\"åˆ›å»ºä¸€ä¸ªä»“åº“å¹¶é…ç½® local ç”¨æˆ·ä¿¡æ¯\"></a>åˆ›å»ºä¸€ä¸ªä»“åº“å¹¶é…ç½® local ç”¨æˆ·ä¿¡æ¯</h2><h3 id=\"ä¿©ç§åœºæ™¯\"><a href=\"#ä¿©ç§åœºæ™¯\" class=\"headerlink\" title=\"ä¿©ç§åœºæ™¯\"></a>ä¿©ç§åœºæ™¯</h3><ol>\n<li>æŠŠå·²æœ‰çš„é¡¹ç›®ä»£ç çº³å…¥ git ç®¡ç†</li>\n</ol>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> é¡¹ç›®ä»£ç æ‰€æœ‰çš„æ–‡ä»¶å¤¹</span><br><span class=\"line\">git init</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>æ–°å»ºçš„é¡¹ç›®ç›´æ¥ä½¿ç”¨ git ç®¡ç†</li>\n</ol>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> æŸä¸ªæ–‡ä»¶å¤¹</span><br><span class=\"line\"><span class=\"comment\"># ä¼šåœ¨å½“å‰è·¯å¾„åˆ›å»ºå’Œé¡¹ç›®åç§°ç›¸åŒçš„æ–‡ä»¶å¤¹</span></span><br><span class=\"line\">git init your_project</span><br><span class=\"line\"><span class=\"built_in\">cd</span> your_project</span><br></pre></td></tr></table></figure>\n\n<p>å½“ git åˆå§‹åŒ–å®Œæˆä¹‹åï¼Œåˆ›å»ºä¸€ä¸ª<code>local</code>çš„ç”¨æˆ·ï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> your_project</span><br><span class=\"line\">git config --<span class=\"built_in\">local</span> user.name <span class=\"string\">&quot;ä½ çš„ç”¨æˆ·å&quot;</span></span><br><span class=\"line\">git config --<span class=\"built_in\">local</span> user.email <span class=\"string\">&quot;ä½ çš„å¯†ç &quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ·»åŠ å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤<code>git config --local --list</code>å¯ä»¥å¿«é€ŸæŸ¥çœ‹é…ç½®çš„ç”¨æˆ·ä¿¡æ¯ï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">core.repositoryformatversion=0</span><br><span class=\"line\">core.filemode=<span class=\"literal\">true</span></span><br><span class=\"line\">core.bare=<span class=\"literal\">false</span></span><br><span class=\"line\">core.logallrefupdates=<span class=\"literal\">true</span></span><br><span class=\"line\">core.ignorecase=<span class=\"literal\">true</span></span><br><span class=\"line\">core.precomposeunicode=<span class=\"literal\">true</span></span><br><span class=\"line\">user.name=è¿™é‡Œæ˜¾ç¤ºçš„æ˜¯ä½ é…ç½®çš„ç”¨æˆ·å</span><br><span class=\"line\">user.email=è¿™æ˜¾ç¤ºçš„æ˜¯ä½ é…ç½®çš„ç”µå­é‚®ç®±</span><br></pre></td></tr></table></figure>\n\n<p>é…ç½®æˆåŠŸä¹‹åï¼Œé€šè¿‡å‘½ä»¤æäº¤æ–‡ä»¶ï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># åœ¨è¿™ä¹‹å‰ï¼Œå¯ä»¥å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ README.md</span></span><br><span class=\"line\">git add README.md</span><br><span class=\"line\">git commit -m <span class=\"string\">&quot;Add README.md&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>æäº¤æˆåŠŸä¹‹åä¼šé»˜è®¤åˆ›å»ºä¸€ä¸ª<code>master</code>çš„åˆ†æ”¯ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤<code>git log</code> æŸ¥çœ‹</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">log</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æ—¥å¿—ä¿¡æ¯å¦‚ä¸‹</span></span><br><span class=\"line\">commit 3ffd6982361494c34c5ade40cd69777f1993812c (HEAD -&gt; master)</span><br><span class=\"line\">Author: æ˜¾ç¤ºçš„æ˜¯ä½ ç”¨æˆ·å &lt;æ˜¾ç¤ºçš„æ˜¯ä½ çš„ç”µå­é‚®ç®±&gt;</span><br><span class=\"line\">Date:   Thu Jan 5 21:20:49 2023 +0800</span><br><span class=\"line\"></span><br><span class=\"line\">    Add Readme</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ç»™æ–‡ä»¶åé‡å‘½å\"><a href=\"#ç»™æ–‡ä»¶åé‡å‘½å\" class=\"headerlink\" title=\"ç»™æ–‡ä»¶åé‡å‘½å\"></a>ç»™æ–‡ä»¶åé‡å‘½å</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ­¥éª¤ä¸€ï¼š</span></span><br><span class=\"line\"><span class=\"built_in\">mv</span> index.html index.copy.html</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Changes not staged <span class=\"keyword\">for</span> commit:</span><br><span class=\"line\">  (use <span class=\"string\">&quot;git add/rm &lt;file&gt;...&quot;</span> to update what will be committed)</span><br><span class=\"line\">  (use <span class=\"string\">&quot;git restore &lt;file&gt;...&quot;</span> to discard changes <span class=\"keyword\">in</span> working directory)</span><br><span class=\"line\">        deleted:    index.html</span><br><span class=\"line\"></span><br><span class=\"line\">Untracked files:</span><br><span class=\"line\">  (use <span class=\"string\">&quot;git add &lt;file&gt;...&quot;</span> to include <span class=\"keyword\">in</span> what will be committed)</span><br><span class=\"line\">        index.copy.html</span><br><span class=\"line\"></span><br><span class=\"line\">no changes added to commit (use <span class=\"string\">&quot;git add&quot;</span> and/or <span class=\"string\">&quot;git commit -a&quot;</span>)</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œè™½ç„¶æˆ‘ä»¬å·²ç»æ›´æ–°äº†æ–‡ä»¶åå­—ï¼Œä½†æ˜¯å¯¹äº git ä»“åº“é‡Œè¿˜æ˜¯ä¼šå­˜åœ¨åŸæ¥çš„æ–‡ä»¶åï¼Œè¿™æ˜¯æˆ‘ä»¬åˆ é™¤åŸæ¥çš„ï¼Œæ·»åŠ æœ€æ–°çš„ï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ­¥éª¤äºŒï¼š åˆ é™¤åŸæ¥çš„</span></span><br><span class=\"line\">git <span class=\"built_in\">rm</span> index.html</span><br><span class=\"line\"><span class=\"comment\"># æ­¥éª¤ä¸‰ï¼š æ·»åŠ æœ€æ–°çš„</span></span><br><span class=\"line\">git add index.copy.html</span><br><span class=\"line\"><span class=\"comment\"># æŸ¥çœ‹çŠ¶æ€</span></span><br><span class=\"line\">git status</span><br><span class=\"line\">Changes to be committed:</span><br><span class=\"line\">  (use <span class=\"string\">&quot;git restore --staged &lt;file&gt;...&quot;</span> to unstage)</span><br><span class=\"line\">        renamed:    index.html -&gt; index.copy.html</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œå¯ä»¥ä½¿ç”¨ git å‘½ä»¤æ’¤é”€ä¼šé€€ï¼Œ ä½†æ˜¯è¿™æ˜¯ä¸€ä¸ªå±é™©æ“ä½œï¼Œä¼šæŠŠæš‚å­˜åŒºçš„æ–‡ä»¶ä¼šé€€ï¼›<code>git reset --hard</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ç®€åŒ–ä¸Šé¢çš„æ“ä½œï¼Œå˜æ›´çš„æ–‡ä»¶ ä»¥åŠå˜æ›´åçš„æ–‡ä»¶, è¿™é‡Œçš„æ•ˆæœç®€åŒ–æˆä¸Šé¢çš„ä¸‰æ­¥éª¤</span></span><br><span class=\"line\">git <span class=\"built_in\">mv</span> index.html index.copy.index</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œå˜æ›´æˆ–è€…ç§»åŠ¨æ–‡ä»¶å¯ä»¥å‚è€ƒæ–‡çŒ®ï¼š <a href=\"https://www.yiibai.com/git/git_mv.html\">git mv å‘½ä»¤</a></p>\n<h2 id=\"git-çš„ç‰ˆæœ¬å†å²\"><a href=\"#git-çš„ç‰ˆæœ¬å†å²\" class=\"headerlink\" title=\"git çš„ç‰ˆæœ¬å†å²\"></a>git çš„ç‰ˆæœ¬å†å²</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ— å‚æ•°</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æ‰€æœ‰åˆ†æ”¯log, ä½†æ˜¯è¿™ç§æƒ…å†µå¯¹äºå¤šåˆ†æ”¯ å¤šæäº¤æ˜¯æ¯”è¾ƒç´¯çš„(æ²¡æœ‰çœ¼ç›æˆ–è€…*å·) å¯ä»¥ä½¿ç”¨ --graphï¼ˆæœ‰çœ¼ç›æˆ–è€…*å·ï¼‰</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> --all</span><br><span class=\"line\"><span class=\"comment\"># å›¾å½¢åŒ–çš„ç”¨ç”¨æ³• || gitk</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> --all --graph</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ç®€ä»‹æ¨¡å¼ã€</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> --oneline</span><br><span class=\"line\">64b9a4b (HEAD -&gt; master) Move index.html to index.copy.html</span><br><span class=\"line\">ebe990b Add index</span><br><span class=\"line\">3ffd698 Add Readme</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æœ€è¿‘çš„å‡ ä¸ªcommit</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> -n2 --oneline</span><br><span class=\"line\">64b9a4b (HEAD -&gt; master) Move index.html to index.copy.html</span><br><span class=\"line\">ebe990b Add index</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æŸ¥çœ‹åˆ†æ”¯</span></span><br><span class=\"line\">git branch -v</span><br><span class=\"line\">* master 64b9a4b Move index.html to index.copy.html</span><br></pre></td></tr></table></figure>\n\n<p><strong><code>git log --all --graph</code></strong> çš„æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/git_graph.jpeg\" alt=\"git log --all --graph\"></p>\n<h2 id=\"æ€ä¹ˆåˆ é™¤ä¸éœ€è¦çš„åˆ†æ”¯ï¼Ÿ\"><a href=\"#æ€ä¹ˆåˆ é™¤ä¸éœ€è¦çš„åˆ†æ”¯ï¼Ÿ\" class=\"headerlink\" title=\"æ€ä¹ˆåˆ é™¤ä¸éœ€è¦çš„åˆ†æ”¯ï¼Ÿ\"></a>æ€ä¹ˆåˆ é™¤ä¸éœ€è¦çš„åˆ†æ”¯ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># éƒ¨åˆ†æƒ…å†µä¸‹å¯èƒ½ä¼šåˆ é™¤ä¸æ‰</span></span><br><span class=\"line\">git branch -d åˆ†æ”¯å</span><br><span class=\"line\"></span><br><span class=\"line\">git branch -D åˆ†æ”¯å</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ä¾‹å¦‚ï¼š</span></span><br><span class=\"line\">git branch -d temp</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ€ä¹ˆä¿®æ”¹æœ€æ–°çš„-commit-çš„-message\"><a href=\"#æ€ä¹ˆä¿®æ”¹æœ€æ–°çš„-commit-çš„-message\" class=\"headerlink\" title=\"æ€ä¹ˆä¿®æ”¹æœ€æ–°çš„ commit çš„ message?\"></a>æ€ä¹ˆä¿®æ”¹æœ€æ–°çš„ commit çš„ message?</h2><blockquote>\n<p>ä½¿ç”¨åœºæ™¯å¾ˆç®€å•ï¼Œ å°±æ˜¯æœ€æ–°æäº¤çš„ commit message ä¸æ˜¯å¾ˆæ˜ç¡®çš„æƒ…å†µä¸‹ï¼Œéœ€è¦ä½¿ç”¨è¯¥å‘½ä»¤åŒºä¿®æ”¹æœ€æ–°æäº¤ commit message çš„ï¼›</p>\n</blockquote>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git commit --amend</span><br><span class=\"line\"><span class=\"comment\"># ç›´æ¥ è¾“å…¥iè¿›è¡Œç¼–è¾‘ï¼Œ wqä¿å­˜é€€å‡º</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>ä¾‹å­ï¼š<br>æ¯”å¦‚æˆ‘åœ¨ git æäº¤äº† 3 æ¡ commit, å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">commit 3</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 2</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬äºŒæ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 1</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬ä¸€æ¬¡æäº¤</span><br></pre></td></tr></table></figure>\n\n<p>ç”±äºç¬¬ä¸‰æ¬¡æäº¤çš„æäº¤æ¶ˆæ¯æˆ‘è¾“é”™äº†ã€‚æˆ‘æƒ³ä¿®æ”¹æœ€æ–°çš„å³ç¬¬ä¸‰æ¬¡æäº¤çš„ commit message;</p>\n<p>è¿™æ—¶å¯ä»¥ä½¿ç”¨<code>git commit --amend</code>, è¿›å»ä¹‹åç›´æ¥æ“ä½œ vimã€‚ä¿®ç¨¿ä½ çš„ commit message å°±å¯ä»¥äº†ï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># è§£é‡Šï¼š è¿™é‡Œå°±æ˜¯ä½  git commit --amendå‘½ä»¤ä¹‹åçš„ç•Œé¢â€œï¼Œ ç›´æ¥å°†ä¸‹é¢çš„æ¶ˆæ¯æ–‡æ¡ˆä¿®æ”¹ä¸ºä½ æƒ³è¦çš„commit messageå°±å¯ä»¥</span></span><br><span class=\"line\">add: æ·»åŠ æœåŠ¡</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Please enter the commit message for your changes. Lines starting</span></span><br><span class=\"line\"><span class=\"comment\"># with &#x27;#&#x27; will be ignored, and an empty message aborts the commit.</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># Date:      Fri Jan 6 21:36:05 2023 +0800</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># On branch master</span></span><br><span class=\"line\"><span class=\"comment\"># Changes to be committed:</span></span><br><span class=\"line\"><span class=\"comment\">#       new file:   server.js</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ€ä¹ˆä¿®æ”¹è€æ—§çš„-commit-çš„-message\"><a href=\"#æ€ä¹ˆä¿®æ”¹è€æ—§çš„-commit-çš„-message\" class=\"headerlink\" title=\"æ€ä¹ˆä¿®æ”¹è€æ—§çš„ commit çš„ message?\"></a>æ€ä¹ˆä¿®æ”¹è€æ—§çš„ commit çš„ message?</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># å˜åŸº</span></span><br><span class=\"line\">git rebase -i å˜æ›´çš„ä¸Šä¸€ä¸ªåˆ†æ”¯<span class=\"built_in\">id</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¾‹å­ï¼š<br>æ¯”å¦‚æˆ‘åœ¨ git æäº¤äº† 3 æ¡ commit, å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">commit 3</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 2</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬äºŒæ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 1</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬ä¸€æ¬¡æäº¤</span><br></pre></td></tr></table></figure>\n\n<p>ä½†æ˜¯æˆ‘æƒ³ä¿®æ”¹ç¬¬äºŒæ¬¡æäº¤çš„ commit message; å¯ä»¥ä½¿ç”¨<code>git rebase -i 1</code>;<br>è¿™é‡Œçš„<code>1</code> æ˜¯ä½ æƒ³è¦ä¿®æ”¹ç¬¬å‡ æ¬¡æäº¤çš„çˆ¶çº§ id;</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ•ˆæœå¦‚ä¸‹</span></span><br><span class=\"line\">pick 3 add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\"><span class=\"comment\"># è¿™æ˜¯ç¬¬äºŒæ¡çš„ï¼Œ å§pick ä¿®æ”¹ä¸º reword æˆ–è€… r å°±å¯ä»¥äº†ï¼› è®°å¾—ä¿å­˜</span></span><br><span class=\"line\">pick 2 add: ç¬¬äºŒæ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Rebase 3ffd698..70639fd onto 3ffd698 (1 command)</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># Commands:</span></span><br><span class=\"line\"><span class=\"comment\"># p, pick &lt;commit&gt; = use commit</span></span><br><span class=\"line\"><span class=\"comment\"># r, reword &lt;commit&gt; = use commit, but edit the commit message</span></span><br><span class=\"line\"><span class=\"comment\"># e, edit &lt;commit&gt; = use commit, but stop for amending</span></span><br><span class=\"line\"><span class=\"comment\"># s, squash &lt;commit&gt; = use commit, but meld into previous commit</span></span><br><span class=\"line\"><span class=\"comment\"># f, fixup [-C | -c] &lt;commit&gt; = like &quot;squash&quot; but keep only the previous</span></span><br><span class=\"line\"><span class=\"comment\">#                    commit&#x27;s log message, unless -C is used, in which case</span></span><br><span class=\"line\"><span class=\"comment\">#                    keep only this commit&#x27;s message; -c is same as -C but</span></span><br><span class=\"line\"><span class=\"comment\">#                    opens the editor</span></span><br><span class=\"line\"><span class=\"comment\"># x, exec &lt;command&gt; = run command (the rest of the line) using shell</span></span><br><span class=\"line\"><span class=\"comment\"># b, break = stop here (continue rebase later with &#x27;git rebase --continue&#x27;)</span></span><br><span class=\"line\"><span class=\"comment\"># d, drop &lt;commit&gt; = remove commit</span></span><br><span class=\"line\"><span class=\"comment\"># l, label &lt;label&gt; = label current HEAD with a name</span></span><br><span class=\"line\"><span class=\"comment\"># t, reset &lt;label&gt; = reset HEAD to a label</span></span><br><span class=\"line\"><span class=\"comment\"># m, merge [-C &lt;commit&gt; | -c &lt;commit&gt;] &lt;label&gt; [# &lt;oneline&gt;]</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æŠŠå¤šä¸ª-è¿ç»­çš„-commit-åˆå¹¶æˆ-1-ä¸ª\"><a href=\"#æŠŠå¤šä¸ª-è¿ç»­çš„-commit-åˆå¹¶æˆ-1-ä¸ª\" class=\"headerlink\" title=\"æŠŠå¤šä¸ª(è¿ç»­çš„)commit åˆå¹¶æˆ 1 ä¸ª\"></a>æŠŠå¤šä¸ª(è¿ç»­çš„)commit åˆå¹¶æˆ 1 ä¸ª</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git rebase -i åˆå¹¶commitçš„çˆ¶çº§<span class=\"built_in\">id</span></span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘æƒ³è¦å°† ç¬¬ä¸‰æ¬¡ å’Œ ç¬¬äºŒæ¬¡æäº¤çš„æ¶ˆæ¯åˆå¹¶æˆ 1 ä¸ªï¼Œå¯ä»¥ä½¿ç”¨<code>git rebase -i 1</code>, è¿™é‡Œçš„<code>1</code>æ˜¯ä½ ä¸ºè°åˆå¹¶çš„çˆ¶çº§ idï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ•ˆæœå¦‚ä¸‹</span></span><br><span class=\"line\"><span class=\"comment\"># è¿™é‡Œä¿ç•™æœ€æ–°çš„ä¸€æ¬¡çš„pick, å°†å…¶ä»–çš„pickä¿®æ”¹ä¸º squash || s</span></span><br><span class=\"line\">pick 3 add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\">pick 2 add: ç¬¬äºŒæ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ä¿®æ”¹å¦‚ä¸‹ï¼š 3 æ˜¯æœ€æ–°çš„ 2 æ˜¯æœ€æ—©æäº¤çš„  å§ æœ€æ–°çš„åˆå¹¶åˆ°æœ€æ—©æäº¤çš„</span></span><br><span class=\"line\">pick 3 add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\">squash 2 add: ç¬¬äºŒæ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Rebase 52f2b39..2f79131 onto 52f2b39 (3 commands)</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># Commands:</span></span><br><span class=\"line\"><span class=\"comment\"># p, pick &lt;commit&gt; = use commit</span></span><br><span class=\"line\"><span class=\"comment\"># r, reword &lt;commit&gt; = use commit, but edit the commit message</span></span><br><span class=\"line\"><span class=\"comment\"># e, edit &lt;commit&gt; = use commit, but stop for amending</span></span><br><span class=\"line\"><span class=\"comment\"># s, squash &lt;commit&gt; = use commit, but meld into previous commit</span></span><br><span class=\"line\"><span class=\"comment\"># f, fixup [-C | -c] &lt;commit&gt; = like &quot;squash&quot; but keep only the previous</span></span><br><span class=\"line\"><span class=\"comment\">#                    commit&#x27;s log message, unless -C is used, in which case</span></span><br><span class=\"line\"><span class=\"comment\">#                    keep only this commit&#x27;s message; -c is same as -C but</span></span><br><span class=\"line\"><span class=\"comment\">#                    opens the editor</span></span><br><span class=\"line\"><span class=\"comment\"># x, exec &lt;command&gt; = run command (the rest of the line) using shell</span></span><br><span class=\"line\"><span class=\"comment\"># b, break = stop here (continue rebase later with &#x27;git rebase --continue&#x27;)</span></span><br><span class=\"line\"><span class=\"comment\"># d, drop &lt;commit&gt; = remove commit</span></span><br><span class=\"line\"><span class=\"comment\"># l, label &lt;label&gt; = label current HEAD with a name</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ€æ ·å§é—´éš”çš„å‡ ä¸ª-commit-æ•´ç†æˆ-1-ä¸ªï¼Ÿ\"><a href=\"#æ€æ ·å§é—´éš”çš„å‡ ä¸ª-commit-æ•´ç†æˆ-1-ä¸ªï¼Ÿ\" class=\"headerlink\" title=\"æ€æ ·å§é—´éš”çš„å‡ ä¸ª commit æ•´ç†æˆ 1 ä¸ªï¼Ÿ\"></a>æ€æ ·å§é—´éš”çš„å‡ ä¸ª commit æ•´ç†æˆ 1 ä¸ªï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git rebase -i é—´éš”çš„çˆ¶çº§<span class=\"built_in\">id</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¾‹å­ï¼š<br>æ¯”å¦‚æˆ‘åœ¨ git æäº¤äº† 4 æ¡ commit, å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">commit 4</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬å››æ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 3</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 2</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬äºŒæ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 1</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬ä¸€æ¬¡æäº¤</span><br></pre></td></tr></table></figure>\n\n<p>åˆå¹¶ 4 å’Œ 2ï¼Œ å¯ä»¥è¿™ä¹ˆä½¿ç”¨<code>git rebase -i 1</code>,</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ•ˆæœå¦‚ä¸‹</span></span><br><span class=\"line\">pick 4 add: ç¬¬å››æ¬¡æäº¤</span><br><span class=\"line\">pick 3 add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\">pick 2 add: ç¬¬äºŒæ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ä¿®æ”¹å¦‚ä¸‹ï¼š å°†4åˆå¹¶åˆ°2 ï¼Œ 2 æ˜¯æœ€æ—©æäº¤çš„ï¼Œ4æ˜¯æœ€æ–°æäº¤çš„ã€‚ å°† 2é‚£ä¸€è¡Œæ·»åŠ åœ¨4ä¸‹é¢ï¼Œåˆ é™¤åŸæ¥çš„2çš„é‚£ä¸€è¡Œï¼Œ</span></span><br><span class=\"line\"><span class=\"comment\"># å¹¶ä¸”å°† 4ä¸‹é¢çš„2çš„é‚£ä¸€è¡Œ çš„ pick ä¿®æ”¹ä¸º squashå³å¯</span></span><br><span class=\"line\">pick 4 add: ç¬¬å››æ¬¡æäº¤</span><br><span class=\"line\">squash 2 add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\">pick 3 add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Rebase 52f2b39..2f79131 onto 52f2b39 (3 commands)</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># Commands:</span></span><br><span class=\"line\"><span class=\"comment\"># p, pick &lt;commit&gt; = use commit</span></span><br><span class=\"line\"><span class=\"comment\"># r, reword &lt;commit&gt; = use commit, but edit the commit message</span></span><br><span class=\"line\"><span class=\"comment\"># e, edit &lt;commit&gt; = use commit, but stop for amending</span></span><br><span class=\"line\"><span class=\"comment\"># s, squash &lt;commit&gt; = use commit, but meld into previous commit</span></span><br><span class=\"line\"><span class=\"comment\"># f, fixup [-C | -c] &lt;commit&gt; = like &quot;squash&quot; but keep only the previous</span></span><br><span class=\"line\"><span class=\"comment\">#                    commit&#x27;s log message, unless -C is used, in which case</span></span><br><span class=\"line\"><span class=\"comment\">#                    keep only this commit&#x27;s message; -c is same as -C but</span></span><br><span class=\"line\"><span class=\"comment\">#                    opens the editor</span></span><br><span class=\"line\"><span class=\"comment\"># x, exec &lt;command&gt; = run command (the rest of the line) using shell</span></span><br><span class=\"line\"><span class=\"comment\"># b, break = stop here (continue rebase later with &#x27;git rebase --continue&#x27;)</span></span><br><span class=\"line\"><span class=\"comment\"># d, drop &lt;commit&gt; = remove commit</span></span><br><span class=\"line\"><span class=\"comment\"># l, label &lt;label&gt; = label current HEAD with a name</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æš‚å­˜åŒºå’Œ-HEAD-ä¹‹é—´çš„å·®å¼‚ï¼Ÿ\"><a href=\"#æš‚å­˜åŒºå’Œ-HEAD-ä¹‹é—´çš„å·®å¼‚ï¼Ÿ\" class=\"headerlink\" title=\"æš‚å­˜åŒºå’Œ HEAD ä¹‹é—´çš„å·®å¼‚ï¼Ÿ\"></a>æš‚å­˜åŒºå’Œ HEAD ä¹‹é—´çš„å·®å¼‚ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git diff --cached</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// HEAD ä¸Šçš„æ–‡ä»¶</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;api&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<p>æœ¬åœ°ä¿®æ”¹æ–‡ä»¶, å¹¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼›</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// HEAD ä¸Šçš„æ–‡ä»¶</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;api&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> a = <span class=\"number\">100</span>;</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åé€šè¿‡å‘½ä»¤<code>git diff --cached</code>æ¯”è¾ƒä¿©ä¸ªæ–‡ä»¶çš„åŒºåˆ«â€</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">diff --git a/api.js b/api.js</span><br><span class=\"line\">index 8558a46..26731b7 100644</span><br><span class=\"line\">--- a/api.js</span><br><span class=\"line\">+++ b/api.js</span><br><span class=\"line\"></span><br><span class=\"line\">@@ -1 +1,3 @@</span><br><span class=\"line\">-console.log(<span class=\"string\">&#x27;api&#x27;</span>)</span><br><span class=\"line\">\\ No newline at end of file</span><br><span class=\"line\"></span><br><span class=\"line\">+console.log(<span class=\"string\">&#x27;api&#x27;</span>)</span><br><span class=\"line\">+</span><br><span class=\"line\">+<span class=\"built_in\">let</span> a = 100;</span><br><span class=\"line\">\\ No newline at end of file</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ€æ ·é€šè¿‡æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒºæ‰€å«æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ\"><a href=\"#æ€æ ·é€šè¿‡æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒºæ‰€å«æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ\" class=\"headerlink\" title=\"æ€æ ·é€šè¿‡æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒºæ‰€å«æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ\"></a>æ€æ ·é€šè¿‡æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒºæ‰€å«æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ‰€æœ‰æ–‡ä»¶</span></span><br><span class=\"line\">git diff</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># api.js</span></span><br><span class=\"line\">git diff -- api.js</span><br></pre></td></tr></table></figure>\n\n<p>é¢„è§ˆçš„æ•ˆæœç±»ä¼¼ ä¸Šé¢çš„æ•ˆæœï¼›</p>\n<h2 id=\"æš‚å­˜åŒºæ¢å¤æˆå’Œ-HEAD-ä¸€æ ·ï¼Ÿ\"><a href=\"#æš‚å­˜åŒºæ¢å¤æˆå’Œ-HEAD-ä¸€æ ·ï¼Ÿ\" class=\"headerlink\" title=\"æš‚å­˜åŒºæ¢å¤æˆå’Œ HEAD ä¸€æ ·ï¼Ÿ\"></a>æš‚å­˜åŒºæ¢å¤æˆå’Œ HEAD ä¸€æ ·ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ¢å¤æ‰€æœ‰</span></span><br><span class=\"line\">git reset HEAD</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æ¢å¤æŸä¸€ä¸ªæ–‡ä»¶</span></span><br><span class=\"line\">git reset HEAD api.js</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"è®©å·¥ä½œåŒºæ–‡ä»¶æ¢å¤æˆæš‚å­˜åŒºä¸€æ ·ï¼Ÿ\"><a href=\"#è®©å·¥ä½œåŒºæ–‡ä»¶æ¢å¤æˆæš‚å­˜åŒºä¸€æ ·ï¼Ÿ\" class=\"headerlink\" title=\"è®©å·¥ä½œåŒºæ–‡ä»¶æ¢å¤æˆæš‚å­˜åŒºä¸€æ ·ï¼Ÿ\"></a>è®©å·¥ä½œåŒºæ–‡ä»¶æ¢å¤æˆæš‚å­˜åŒºä¸€æ ·ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git checkout -- æ–‡ä»¶å</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å–æ¶ˆæš‚å­˜åŒºéƒ¨åˆ†æ–‡ä»¶çš„ä¿®æ”¹ï¼Ÿ\"><a href=\"#å–æ¶ˆæš‚å­˜åŒºéƒ¨åˆ†æ–‡ä»¶çš„ä¿®æ”¹ï¼Ÿ\" class=\"headerlink\" title=\"å–æ¶ˆæš‚å­˜åŒºéƒ¨åˆ†æ–‡ä»¶çš„ä¿®æ”¹ï¼Ÿ\"></a>å–æ¶ˆæš‚å­˜åŒºéƒ¨åˆ†æ–‡ä»¶çš„ä¿®æ”¹ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git checkout -- api.js  main.js</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ¶ˆé™¤æœ€è¿‘çš„å‡ æ¬¡æäº¤ï¼Ÿï¼ˆç‰ˆæœ¬å›é€€ï¼‰\"><a href=\"#æ¶ˆé™¤æœ€è¿‘çš„å‡ æ¬¡æäº¤ï¼Ÿï¼ˆç‰ˆæœ¬å›é€€ï¼‰\" class=\"headerlink\" title=\"æ¶ˆé™¤æœ€è¿‘çš„å‡ æ¬¡æäº¤ï¼Ÿï¼ˆç‰ˆæœ¬å›é€€ï¼‰\"></a>æ¶ˆé™¤æœ€è¿‘çš„å‡ æ¬¡æäº¤ï¼Ÿï¼ˆç‰ˆæœ¬å›é€€ï¼‰</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git reset --hard å›é€€ç‰ˆæœ¬<span class=\"built_in\">id</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¾‹å­ï¼š<br>æ¯”å¦‚æˆ‘åœ¨ git æäº¤äº† 3 æ¡ commit, å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">commit 3</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 2</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬äºŒæ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 1</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬ä¸€æ¬¡æäº¤</span><br></pre></td></tr></table></figure>\n\n<p>ä½†æ˜¯æˆ‘ä¸æƒ³è¦ç¬¬ä¸‰æ¬¡æäº¤ï¼Œæƒ³è¦æ¶ˆé™¤ï¼ˆå›é€€ 2 çš„æäº¤ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ <code>git reset --hard 2</code>,</p>\n<h2 id=\"ä¸åŒæäº¤æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ\"><a href=\"#ä¸åŒæäº¤æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ\" class=\"headerlink\" title=\"ä¸åŒæäº¤æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ\"></a>ä¸åŒæäº¤æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ‰€æœ‰çš„æ–‡æ–‡ä»¶</span></span><br><span class=\"line\">git diff åˆ†æ”¯1 åˆ†æ”¯2</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æŒ‡å®šæ–‡ä»¶</span></span><br><span class=\"line\">git diff åˆ†æ”¯1 åˆ†æ”¯2 -- index.js</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æŒ‡å®šçš„åˆ†æ”¯id 2 æ˜¯tempåˆ†æ”¯çš„commit id,  1æ˜¯masteråˆ†æ”¯çš„commit id</span></span><br><span class=\"line\">git diff 2 1 -- index.js</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># git diff åˆ†æ”¯1 åˆ†æ”¯2</span></span><br><span class=\"line\">diff --git a/api.js b/api.js</span><br><span class=\"line\">index 26731b7..0afa981 100644</span><br><span class=\"line\">--- a/api.js</span><br><span class=\"line\">+++ b/api.js</span><br><span class=\"line\">@@ -1,3 +1,5 @@</span><br><span class=\"line\"> console.log(<span class=\"string\">&#x27;api&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">-<span class=\"built_in\">let</span> a = 100;</span><br><span class=\"line\">\\ No newline at end of file</span><br><span class=\"line\">+<span class=\"built_in\">let</span> a = 100;</span><br><span class=\"line\">+</span><br><span class=\"line\">+const b = 1000;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ­£ç¡®åˆ é™¤æ–‡ä»¶çš„æ–¹æ³•ï¼Ÿ\"><a href=\"#æ­£ç¡®åˆ é™¤æ–‡ä»¶çš„æ–¹æ³•ï¼Ÿ\" class=\"headerlink\" title=\"æ­£ç¡®åˆ é™¤æ–‡ä»¶çš„æ–¹æ³•ï¼Ÿ\"></a>æ­£ç¡®åˆ é™¤æ–‡ä»¶çš„æ–¹æ³•ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">rm</span> æ–‡ä»¶å</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æš‚å­˜åŒº æ”¾å¼ƒæ›´æ”¹</span></span><br><span class=\"line\">git reset --hard HEAD</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å¼€å‘ä¸­ç´§æ€¥ä»»åŠ¡æ€ä¹ˆå¤„ç†ï¼Ÿ\"><a href=\"#å¼€å‘ä¸­ç´§æ€¥ä»»åŠ¡æ€ä¹ˆå¤„ç†ï¼Ÿ\" class=\"headerlink\" title=\"å¼€å‘ä¸­ç´§æ€¥ä»»åŠ¡æ€ä¹ˆå¤„ç†ï¼Ÿ\"></a>å¼€å‘ä¸­ç´§æ€¥ä»»åŠ¡æ€ä¹ˆå¤„ç†ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ·»åŠ å­˜æ”¾åŒºï¼Œæš‚å­˜åŒºæ˜¯ä¸€ä¸ªå¹²å‡€çš„çŠ¶æ€ï¼›</span></span><br><span class=\"line\">git stash</span><br><span class=\"line\"></span><br><span class=\"line\">git stash list</span><br><span class=\"line\"><span class=\"comment\"># stash@&#123;0&#125;: WIP on master: 886f134 edit: ä¿®æ”¹diff</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 1: æ‹¿å‡ºæ¥ï¼Œæ”¾åœ¨å·¥ä½œåŒº 2: git stash list å¯¹ç”¨çš„ä¿¡æ¯è¿˜å­˜åœ¨ï¼Œå¯ä»¥é‡å¤ä½¿ç”¨</span></span><br><span class=\"line\"><span class=\"comment\"># å³è¿™æ¡ä¿¡æ¯è¿˜å­˜åœ¨ï¼š &#123;stash@&#123;0&#125;: WIP on master: 886f134 edit: ä¿®æ”¹diff&#125;</span></span><br><span class=\"line\">git stash apply</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ä¸¢æ‰ Dropped refs/stash@&#123;0&#125; (6fc8e582adf57857a5a2af6eafbe375d6eae287f)</span></span><br><span class=\"line\">git stash pop</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æŒ‡å®šä¸éœ€è¦çš„-git-ç®¡ç†æ–‡ä»¶ï¼Ÿ-gitignore-æ–‡ä»¶\"><a href=\"#æŒ‡å®šä¸éœ€è¦çš„-git-ç®¡ç†æ–‡ä»¶ï¼Ÿ-gitignore-æ–‡ä»¶\" class=\"headerlink\" title=\"æŒ‡å®šä¸éœ€è¦çš„ git ç®¡ç†æ–‡ä»¶ï¼Ÿ .gitignore æ–‡ä»¶\"></a>æŒ‡å®šä¸éœ€è¦çš„ git ç®¡ç†æ–‡ä»¶ï¼Ÿ <code>.gitignore æ–‡ä»¶</code></h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node_modules/</span><br><span class=\"line\">src/.vuepress/.cache/</span><br><span class=\"line\">src/.vuepress/.temp/</span><br><span class=\"line\">src/.vuepress/dist/</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å…¶ä»–æ•´ç†\"><a href=\"#å…¶ä»–æ•´ç†\" class=\"headerlink\" title=\"å…¶ä»–æ•´ç†\"></a>å…¶ä»–æ•´ç†</h2><h3 id=\"é€‰é¡¹è§£é‡Š\"><a href=\"#é€‰é¡¹è§£é‡Š\" class=\"headerlink\" title=\"é€‰é¡¹è§£é‡Š\"></a>é€‰é¡¹è§£é‡Š</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-d --deleteï¼šåˆ é™¤</span><br><span class=\"line\"></span><br><span class=\"line\">-D --delete --forceçš„å¿«æ·é”®</span><br><span class=\"line\"></span><br><span class=\"line\">-f --forceï¼šå¼ºåˆ¶</span><br><span class=\"line\"></span><br><span class=\"line\">-m --moveï¼šç§»åŠ¨æˆ–é‡å‘½å</span><br><span class=\"line\"></span><br><span class=\"line\">-M --move --forceçš„å¿«æ·é”®</span><br><span class=\"line\"></span><br><span class=\"line\">-r --remoteï¼šè¿œç¨‹</span><br><span class=\"line\"></span><br><span class=\"line\">-a --allï¼šæ‰€æœ‰</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åˆ†æ”¯ç®¡ç†\"><a href=\"#åˆ†æ”¯ç®¡ç†\" class=\"headerlink\" title=\"åˆ†æ”¯ç®¡ç†\"></a>åˆ†æ”¯ç®¡ç†</h3><ul>\n<li>æ–°å»ºåˆ†æ”¯: <code>git branch</code> åˆ†æ”¯å<ul>\n<li><code>git branch -r</code> æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯</li>\n<li><code>git branch -a</code> æŸ¥çœ‹è¿œç¨‹å’Œæœ¬åœ°åˆ†æ”¯</li>\n<li><code>git branch -f</code> æ–°å»ºåˆ†æ”¯ä½†ä¸åˆ‡æ¢</li>\n<li><code>git branch -b</code> æ–°å»ºåˆ†æ”¯å¹¶åˆ‡æ¢</li>\n<li><code>git branch -d|-D</code> åˆ é™¤æœ¬åœ°åˆ†æ”¯</li>\n<li><code>git branch -m|-M</code> å¼ºåˆ¶é‡å‘½å</li>\n</ul>\n</li>\n<li>åˆ‡æ¢åˆ†æ”¯: <code>git checkout åˆ†æ”¯å</code></li>\n<li>åˆ—å‡ºåˆ†æ”¯: <code>git branch</code></li>\n<li>åˆ é™¤åˆ†æ”¯: <code>git branch -d åˆ†æ”¯å</code></li>\n<li>åˆå¹¶åˆ†æ”¯: <code>git merge éœ€è¦åˆå¹¶çš„åˆ†æ”¯</code></li>\n<li>åˆå¹¶åˆ†æ”¯: <code>git rebase åˆå¹¶åˆ°çš„åˆ†æ”¯</code></li>\n</ul>\n<h3 id=\"ç›¸å¯¹å¼•ç”¨\"><a href=\"#ç›¸å¯¹å¼•ç”¨\" class=\"headerlink\" title=\"ç›¸å¯¹å¼•ç”¨\"></a>ç›¸å¯¹å¼•ç”¨</h3><ul>\n<li><code>^</code>å‘ä¸Šç§»åŠ¨ä¸€ä¸ªè®°å½• <code>git checkout åˆ†æ”¯ HEAD^</code></li>\n<li>ä½¿ç”¨ <code>~</code> å‘ä¸Šç§»åŠ¨å¤šä¸ªæäº¤è®°å½•ï¼Œå¦‚ <code>~3</code></li>\n</ul>\n<h3 id=\"æ’¤é”€å˜æ›´\"><a href=\"#æ’¤é”€å˜æ›´\" class=\"headerlink\" title=\"æ’¤é”€å˜æ›´\"></a>æ’¤é”€å˜æ›´</h3><ul>\n<li><code>git reset</code> æœ¬åœ°å›æ»šä¸Šä¸€æ­¥ï¼ŒåŸæ¥æŒ‡å‘çš„æäº¤è®°å½•å°±è·Ÿä»æ¥æ²¡æœ‰æäº¤è¿‡ä¸€æ ·</li>\n<li><code>git revert</code> è¿œç¨‹å›æ»šï¼Œä½†ä¼šç”Ÿæˆä¸€æ¡æäº¤è®°å½•</li>\n</ul>\n<h3 id=\"æŸ¥çœ‹å†å²\"><a href=\"#æŸ¥çœ‹å†å²\" class=\"headerlink\" title=\"æŸ¥çœ‹å†å²\"></a>æŸ¥çœ‹å†å²</h3><ul>\n<li><code>git log</code><ul>\n<li><code>git log --oneline</code> æŸ¥çœ‹å†å²è®°å½•çš„ç®€æ´çš„ç‰ˆæœ¬ã€‚</li>\n<li><code>git log --graph</code> æŸ¥çœ‹å†å²ä¸­ä»€ä¹ˆæ—¶å€™å‡ºç°äº†åˆ†æ”¯ã€åˆå¹¶ã€‚</li>\n<li><code>git log --reverse</code> é€†å‘æ˜¾ç¤ºæ‰€æœ‰æ—¥å¿—ã€‚</li>\n</ul>\n</li>\n</ul>\n","excerpt":"","more":"<h1 id=\"æ¸©é¦¨æç¤º\"><a href=\"#æ¸©é¦¨æç¤º\" class=\"headerlink\" title=\"æ¸©é¦¨æç¤º\"></a>æ¸©é¦¨æç¤º</h1><p>åŸºç¡€<code>git</code>æš‚æ—¶è¿™æ ·æ•´ç†å®Œæˆï¼ŒåæœŸå¯ç»§ç»­æ•´ç†;</p>\n<h2 id=\"é…ç½®-user-ä¿¡æ¯\"><a href=\"#é…ç½®-user-ä¿¡æ¯\" class=\"headerlink\" title=\"é…ç½® user ä¿¡æ¯\"></a>é…ç½® user ä¿¡æ¯</h2><h3 id=\"å…¨å±€é…ç½®-user\"><a href=\"#å…¨å±€é…ç½®-user\" class=\"headerlink\" title=\"å…¨å±€é…ç½® user\"></a>å…¨å±€é…ç½® user</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global user.name <span class=\"string\">&quot;username&quot;</span></span><br><span class=\"line\">git config --global user.email <span class=\"string\">&quot;username@example.com&quot;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"config-çš„ä¸‰ä¸ªä½œç”¨åŸŸ\"><a href=\"#config-çš„ä¸‰ä¸ªä½œç”¨åŸŸ\" class=\"headerlink\" title=\"config çš„ä¸‰ä¸ªä½œç”¨åŸŸ\"></a>config çš„ä¸‰ä¸ªä½œç”¨åŸŸ</h3><p>ç¼ºçœç­‰åŒäº localï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># localåªå¯¹æŸä¸ªä»“åº“æœ‰æ•ˆ</span></span><br><span class=\"line\">git config --<span class=\"built_in\">local</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># globalå¯¹å½“å‰ç”¨æˆ·æ‰€æœ‰ä»“åº“æœ‰æ•ˆ</span></span><br><span class=\"line\">git config --global</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># system å¯¹ç³»ç»Ÿæ‰€æœ‰ç™»å½•çš„ç”¨æˆ·æœ‰æ•ˆ</span></span><br><span class=\"line\">git config --system</span><br></pre></td></tr></table></figure>\n\n<p>æ˜¾ç¤º config çš„é…ç½®ï¼ŒåŠ <code>--list</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --list --<span class=\"built_in\">local</span></span><br><span class=\"line\">git config --list --global</span><br><span class=\"line\">git config --list --system</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åˆ›å»ºä¸€ä¸ªä»“åº“å¹¶é…ç½®-local-ç”¨æˆ·ä¿¡æ¯\"><a href=\"#åˆ›å»ºä¸€ä¸ªä»“åº“å¹¶é…ç½®-local-ç”¨æˆ·ä¿¡æ¯\" class=\"headerlink\" title=\"åˆ›å»ºä¸€ä¸ªä»“åº“å¹¶é…ç½® local ç”¨æˆ·ä¿¡æ¯\"></a>åˆ›å»ºä¸€ä¸ªä»“åº“å¹¶é…ç½® local ç”¨æˆ·ä¿¡æ¯</h2><h3 id=\"ä¿©ç§åœºæ™¯\"><a href=\"#ä¿©ç§åœºæ™¯\" class=\"headerlink\" title=\"ä¿©ç§åœºæ™¯\"></a>ä¿©ç§åœºæ™¯</h3><ol>\n<li>æŠŠå·²æœ‰çš„é¡¹ç›®ä»£ç çº³å…¥ git ç®¡ç†</li>\n</ol>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> é¡¹ç›®ä»£ç æ‰€æœ‰çš„æ–‡ä»¶å¤¹</span><br><span class=\"line\">git init</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>æ–°å»ºçš„é¡¹ç›®ç›´æ¥ä½¿ç”¨ git ç®¡ç†</li>\n</ol>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> æŸä¸ªæ–‡ä»¶å¤¹</span><br><span class=\"line\"><span class=\"comment\"># ä¼šåœ¨å½“å‰è·¯å¾„åˆ›å»ºå’Œé¡¹ç›®åç§°ç›¸åŒçš„æ–‡ä»¶å¤¹</span></span><br><span class=\"line\">git init your_project</span><br><span class=\"line\"><span class=\"built_in\">cd</span> your_project</span><br></pre></td></tr></table></figure>\n\n<p>å½“ git åˆå§‹åŒ–å®Œæˆä¹‹åï¼Œåˆ›å»ºä¸€ä¸ª<code>local</code>çš„ç”¨æˆ·ï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> your_project</span><br><span class=\"line\">git config --<span class=\"built_in\">local</span> user.name <span class=\"string\">&quot;ä½ çš„ç”¨æˆ·å&quot;</span></span><br><span class=\"line\">git config --<span class=\"built_in\">local</span> user.email <span class=\"string\">&quot;ä½ çš„å¯†ç &quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ·»åŠ å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤<code>git config --local --list</code>å¯ä»¥å¿«é€ŸæŸ¥çœ‹é…ç½®çš„ç”¨æˆ·ä¿¡æ¯ï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">core.repositoryformatversion=0</span><br><span class=\"line\">core.filemode=<span class=\"literal\">true</span></span><br><span class=\"line\">core.bare=<span class=\"literal\">false</span></span><br><span class=\"line\">core.logallrefupdates=<span class=\"literal\">true</span></span><br><span class=\"line\">core.ignorecase=<span class=\"literal\">true</span></span><br><span class=\"line\">core.precomposeunicode=<span class=\"literal\">true</span></span><br><span class=\"line\">user.name=è¿™é‡Œæ˜¾ç¤ºçš„æ˜¯ä½ é…ç½®çš„ç”¨æˆ·å</span><br><span class=\"line\">user.email=è¿™æ˜¾ç¤ºçš„æ˜¯ä½ é…ç½®çš„ç”µå­é‚®ç®±</span><br></pre></td></tr></table></figure>\n\n<p>é…ç½®æˆåŠŸä¹‹åï¼Œé€šè¿‡å‘½ä»¤æäº¤æ–‡ä»¶ï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># åœ¨è¿™ä¹‹å‰ï¼Œå¯ä»¥å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ README.md</span></span><br><span class=\"line\">git add README.md</span><br><span class=\"line\">git commit -m <span class=\"string\">&quot;Add README.md&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>æäº¤æˆåŠŸä¹‹åä¼šé»˜è®¤åˆ›å»ºä¸€ä¸ª<code>master</code>çš„åˆ†æ”¯ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤<code>git log</code> æŸ¥çœ‹</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">log</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æ—¥å¿—ä¿¡æ¯å¦‚ä¸‹</span></span><br><span class=\"line\">commit 3ffd6982361494c34c5ade40cd69777f1993812c (HEAD -&gt; master)</span><br><span class=\"line\">Author: æ˜¾ç¤ºçš„æ˜¯ä½ ç”¨æˆ·å &lt;æ˜¾ç¤ºçš„æ˜¯ä½ çš„ç”µå­é‚®ç®±&gt;</span><br><span class=\"line\">Date:   Thu Jan 5 21:20:49 2023 +0800</span><br><span class=\"line\"></span><br><span class=\"line\">    Add Readme</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ç»™æ–‡ä»¶åé‡å‘½å\"><a href=\"#ç»™æ–‡ä»¶åé‡å‘½å\" class=\"headerlink\" title=\"ç»™æ–‡ä»¶åé‡å‘½å\"></a>ç»™æ–‡ä»¶åé‡å‘½å</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ­¥éª¤ä¸€ï¼š</span></span><br><span class=\"line\"><span class=\"built_in\">mv</span> index.html index.copy.html</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Changes not staged <span class=\"keyword\">for</span> commit:</span><br><span class=\"line\">  (use <span class=\"string\">&quot;git add/rm &lt;file&gt;...&quot;</span> to update what will be committed)</span><br><span class=\"line\">  (use <span class=\"string\">&quot;git restore &lt;file&gt;...&quot;</span> to discard changes <span class=\"keyword\">in</span> working directory)</span><br><span class=\"line\">        deleted:    index.html</span><br><span class=\"line\"></span><br><span class=\"line\">Untracked files:</span><br><span class=\"line\">  (use <span class=\"string\">&quot;git add &lt;file&gt;...&quot;</span> to include <span class=\"keyword\">in</span> what will be committed)</span><br><span class=\"line\">        index.copy.html</span><br><span class=\"line\"></span><br><span class=\"line\">no changes added to commit (use <span class=\"string\">&quot;git add&quot;</span> and/or <span class=\"string\">&quot;git commit -a&quot;</span>)</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œè™½ç„¶æˆ‘ä»¬å·²ç»æ›´æ–°äº†æ–‡ä»¶åå­—ï¼Œä½†æ˜¯å¯¹äº git ä»“åº“é‡Œè¿˜æ˜¯ä¼šå­˜åœ¨åŸæ¥çš„æ–‡ä»¶åï¼Œè¿™æ˜¯æˆ‘ä»¬åˆ é™¤åŸæ¥çš„ï¼Œæ·»åŠ æœ€æ–°çš„ï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ­¥éª¤äºŒï¼š åˆ é™¤åŸæ¥çš„</span></span><br><span class=\"line\">git <span class=\"built_in\">rm</span> index.html</span><br><span class=\"line\"><span class=\"comment\"># æ­¥éª¤ä¸‰ï¼š æ·»åŠ æœ€æ–°çš„</span></span><br><span class=\"line\">git add index.copy.html</span><br><span class=\"line\"><span class=\"comment\"># æŸ¥çœ‹çŠ¶æ€</span></span><br><span class=\"line\">git status</span><br><span class=\"line\">Changes to be committed:</span><br><span class=\"line\">  (use <span class=\"string\">&quot;git restore --staged &lt;file&gt;...&quot;</span> to unstage)</span><br><span class=\"line\">        renamed:    index.html -&gt; index.copy.html</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œå¯ä»¥ä½¿ç”¨ git å‘½ä»¤æ’¤é”€ä¼šé€€ï¼Œ ä½†æ˜¯è¿™æ˜¯ä¸€ä¸ªå±é™©æ“ä½œï¼Œä¼šæŠŠæš‚å­˜åŒºçš„æ–‡ä»¶ä¼šé€€ï¼›<code>git reset --hard</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ç®€åŒ–ä¸Šé¢çš„æ“ä½œï¼Œå˜æ›´çš„æ–‡ä»¶ ä»¥åŠå˜æ›´åçš„æ–‡ä»¶, è¿™é‡Œçš„æ•ˆæœç®€åŒ–æˆä¸Šé¢çš„ä¸‰æ­¥éª¤</span></span><br><span class=\"line\">git <span class=\"built_in\">mv</span> index.html index.copy.index</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œå˜æ›´æˆ–è€…ç§»åŠ¨æ–‡ä»¶å¯ä»¥å‚è€ƒæ–‡çŒ®ï¼š <a href=\"https://www.yiibai.com/git/git_mv.html\">git mv å‘½ä»¤</a></p>\n<h2 id=\"git-çš„ç‰ˆæœ¬å†å²\"><a href=\"#git-çš„ç‰ˆæœ¬å†å²\" class=\"headerlink\" title=\"git çš„ç‰ˆæœ¬å†å²\"></a>git çš„ç‰ˆæœ¬å†å²</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ— å‚æ•°</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æ‰€æœ‰åˆ†æ”¯log, ä½†æ˜¯è¿™ç§æƒ…å†µå¯¹äºå¤šåˆ†æ”¯ å¤šæäº¤æ˜¯æ¯”è¾ƒç´¯çš„(æ²¡æœ‰çœ¼ç›æˆ–è€…*å·) å¯ä»¥ä½¿ç”¨ --graphï¼ˆæœ‰çœ¼ç›æˆ–è€…*å·ï¼‰</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> --all</span><br><span class=\"line\"><span class=\"comment\"># å›¾å½¢åŒ–çš„ç”¨ç”¨æ³• || gitk</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> --all --graph</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ç®€ä»‹æ¨¡å¼ã€</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> --oneline</span><br><span class=\"line\">64b9a4b (HEAD -&gt; master) Move index.html to index.copy.html</span><br><span class=\"line\">ebe990b Add index</span><br><span class=\"line\">3ffd698 Add Readme</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æœ€è¿‘çš„å‡ ä¸ªcommit</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> -n2 --oneline</span><br><span class=\"line\">64b9a4b (HEAD -&gt; master) Move index.html to index.copy.html</span><br><span class=\"line\">ebe990b Add index</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æŸ¥çœ‹åˆ†æ”¯</span></span><br><span class=\"line\">git branch -v</span><br><span class=\"line\">* master 64b9a4b Move index.html to index.copy.html</span><br></pre></td></tr></table></figure>\n\n<p><strong><code>git log --all --graph</code></strong> çš„æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/git_graph.jpeg\" alt=\"git log --all --graph\"></p>\n<h2 id=\"æ€ä¹ˆåˆ é™¤ä¸éœ€è¦çš„åˆ†æ”¯ï¼Ÿ\"><a href=\"#æ€ä¹ˆåˆ é™¤ä¸éœ€è¦çš„åˆ†æ”¯ï¼Ÿ\" class=\"headerlink\" title=\"æ€ä¹ˆåˆ é™¤ä¸éœ€è¦çš„åˆ†æ”¯ï¼Ÿ\"></a>æ€ä¹ˆåˆ é™¤ä¸éœ€è¦çš„åˆ†æ”¯ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># éƒ¨åˆ†æƒ…å†µä¸‹å¯èƒ½ä¼šåˆ é™¤ä¸æ‰</span></span><br><span class=\"line\">git branch -d åˆ†æ”¯å</span><br><span class=\"line\"></span><br><span class=\"line\">git branch -D åˆ†æ”¯å</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ä¾‹å¦‚ï¼š</span></span><br><span class=\"line\">git branch -d temp</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ€ä¹ˆä¿®æ”¹æœ€æ–°çš„-commit-çš„-message\"><a href=\"#æ€ä¹ˆä¿®æ”¹æœ€æ–°çš„-commit-çš„-message\" class=\"headerlink\" title=\"æ€ä¹ˆä¿®æ”¹æœ€æ–°çš„ commit çš„ message?\"></a>æ€ä¹ˆä¿®æ”¹æœ€æ–°çš„ commit çš„ message?</h2><blockquote>\n<p>ä½¿ç”¨åœºæ™¯å¾ˆç®€å•ï¼Œ å°±æ˜¯æœ€æ–°æäº¤çš„ commit message ä¸æ˜¯å¾ˆæ˜ç¡®çš„æƒ…å†µä¸‹ï¼Œéœ€è¦ä½¿ç”¨è¯¥å‘½ä»¤åŒºä¿®æ”¹æœ€æ–°æäº¤ commit message çš„ï¼›</p>\n</blockquote>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git commit --amend</span><br><span class=\"line\"><span class=\"comment\"># ç›´æ¥ è¾“å…¥iè¿›è¡Œç¼–è¾‘ï¼Œ wqä¿å­˜é€€å‡º</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>ä¾‹å­ï¼š<br>æ¯”å¦‚æˆ‘åœ¨ git æäº¤äº† 3 æ¡ commit, å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">commit 3</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 2</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬äºŒæ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 1</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬ä¸€æ¬¡æäº¤</span><br></pre></td></tr></table></figure>\n\n<p>ç”±äºç¬¬ä¸‰æ¬¡æäº¤çš„æäº¤æ¶ˆæ¯æˆ‘è¾“é”™äº†ã€‚æˆ‘æƒ³ä¿®æ”¹æœ€æ–°çš„å³ç¬¬ä¸‰æ¬¡æäº¤çš„ commit message;</p>\n<p>è¿™æ—¶å¯ä»¥ä½¿ç”¨<code>git commit --amend</code>, è¿›å»ä¹‹åç›´æ¥æ“ä½œ vimã€‚ä¿®ç¨¿ä½ çš„ commit message å°±å¯ä»¥äº†ï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># è§£é‡Šï¼š è¿™é‡Œå°±æ˜¯ä½  git commit --amendå‘½ä»¤ä¹‹åçš„ç•Œé¢â€œï¼Œ ç›´æ¥å°†ä¸‹é¢çš„æ¶ˆæ¯æ–‡æ¡ˆä¿®æ”¹ä¸ºä½ æƒ³è¦çš„commit messageå°±å¯ä»¥</span></span><br><span class=\"line\">add: æ·»åŠ æœåŠ¡</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Please enter the commit message for your changes. Lines starting</span></span><br><span class=\"line\"><span class=\"comment\"># with &#x27;#&#x27; will be ignored, and an empty message aborts the commit.</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># Date:      Fri Jan 6 21:36:05 2023 +0800</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># On branch master</span></span><br><span class=\"line\"><span class=\"comment\"># Changes to be committed:</span></span><br><span class=\"line\"><span class=\"comment\">#       new file:   server.js</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ€ä¹ˆä¿®æ”¹è€æ—§çš„-commit-çš„-message\"><a href=\"#æ€ä¹ˆä¿®æ”¹è€æ—§çš„-commit-çš„-message\" class=\"headerlink\" title=\"æ€ä¹ˆä¿®æ”¹è€æ—§çš„ commit çš„ message?\"></a>æ€ä¹ˆä¿®æ”¹è€æ—§çš„ commit çš„ message?</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># å˜åŸº</span></span><br><span class=\"line\">git rebase -i å˜æ›´çš„ä¸Šä¸€ä¸ªåˆ†æ”¯<span class=\"built_in\">id</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¾‹å­ï¼š<br>æ¯”å¦‚æˆ‘åœ¨ git æäº¤äº† 3 æ¡ commit, å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">commit 3</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 2</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬äºŒæ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 1</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬ä¸€æ¬¡æäº¤</span><br></pre></td></tr></table></figure>\n\n<p>ä½†æ˜¯æˆ‘æƒ³ä¿®æ”¹ç¬¬äºŒæ¬¡æäº¤çš„ commit message; å¯ä»¥ä½¿ç”¨<code>git rebase -i 1</code>;<br>è¿™é‡Œçš„<code>1</code> æ˜¯ä½ æƒ³è¦ä¿®æ”¹ç¬¬å‡ æ¬¡æäº¤çš„çˆ¶çº§ id;</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ•ˆæœå¦‚ä¸‹</span></span><br><span class=\"line\">pick 3 add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\"><span class=\"comment\"># è¿™æ˜¯ç¬¬äºŒæ¡çš„ï¼Œ å§pick ä¿®æ”¹ä¸º reword æˆ–è€… r å°±å¯ä»¥äº†ï¼› è®°å¾—ä¿å­˜</span></span><br><span class=\"line\">pick 2 add: ç¬¬äºŒæ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Rebase 3ffd698..70639fd onto 3ffd698 (1 command)</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># Commands:</span></span><br><span class=\"line\"><span class=\"comment\"># p, pick &lt;commit&gt; = use commit</span></span><br><span class=\"line\"><span class=\"comment\"># r, reword &lt;commit&gt; = use commit, but edit the commit message</span></span><br><span class=\"line\"><span class=\"comment\"># e, edit &lt;commit&gt; = use commit, but stop for amending</span></span><br><span class=\"line\"><span class=\"comment\"># s, squash &lt;commit&gt; = use commit, but meld into previous commit</span></span><br><span class=\"line\"><span class=\"comment\"># f, fixup [-C | -c] &lt;commit&gt; = like &quot;squash&quot; but keep only the previous</span></span><br><span class=\"line\"><span class=\"comment\">#                    commit&#x27;s log message, unless -C is used, in which case</span></span><br><span class=\"line\"><span class=\"comment\">#                    keep only this commit&#x27;s message; -c is same as -C but</span></span><br><span class=\"line\"><span class=\"comment\">#                    opens the editor</span></span><br><span class=\"line\"><span class=\"comment\"># x, exec &lt;command&gt; = run command (the rest of the line) using shell</span></span><br><span class=\"line\"><span class=\"comment\"># b, break = stop here (continue rebase later with &#x27;git rebase --continue&#x27;)</span></span><br><span class=\"line\"><span class=\"comment\"># d, drop &lt;commit&gt; = remove commit</span></span><br><span class=\"line\"><span class=\"comment\"># l, label &lt;label&gt; = label current HEAD with a name</span></span><br><span class=\"line\"><span class=\"comment\"># t, reset &lt;label&gt; = reset HEAD to a label</span></span><br><span class=\"line\"><span class=\"comment\"># m, merge [-C &lt;commit&gt; | -c &lt;commit&gt;] &lt;label&gt; [# &lt;oneline&gt;]</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æŠŠå¤šä¸ª-è¿ç»­çš„-commit-åˆå¹¶æˆ-1-ä¸ª\"><a href=\"#æŠŠå¤šä¸ª-è¿ç»­çš„-commit-åˆå¹¶æˆ-1-ä¸ª\" class=\"headerlink\" title=\"æŠŠå¤šä¸ª(è¿ç»­çš„)commit åˆå¹¶æˆ 1 ä¸ª\"></a>æŠŠå¤šä¸ª(è¿ç»­çš„)commit åˆå¹¶æˆ 1 ä¸ª</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git rebase -i åˆå¹¶commitçš„çˆ¶çº§<span class=\"built_in\">id</span></span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘æƒ³è¦å°† ç¬¬ä¸‰æ¬¡ å’Œ ç¬¬äºŒæ¬¡æäº¤çš„æ¶ˆæ¯åˆå¹¶æˆ 1 ä¸ªï¼Œå¯ä»¥ä½¿ç”¨<code>git rebase -i 1</code>, è¿™é‡Œçš„<code>1</code>æ˜¯ä½ ä¸ºè°åˆå¹¶çš„çˆ¶çº§ idï¼›</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ•ˆæœå¦‚ä¸‹</span></span><br><span class=\"line\"><span class=\"comment\"># è¿™é‡Œä¿ç•™æœ€æ–°çš„ä¸€æ¬¡çš„pick, å°†å…¶ä»–çš„pickä¿®æ”¹ä¸º squash || s</span></span><br><span class=\"line\">pick 3 add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\">pick 2 add: ç¬¬äºŒæ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ä¿®æ”¹å¦‚ä¸‹ï¼š 3 æ˜¯æœ€æ–°çš„ 2 æ˜¯æœ€æ—©æäº¤çš„  å§ æœ€æ–°çš„åˆå¹¶åˆ°æœ€æ—©æäº¤çš„</span></span><br><span class=\"line\">pick 3 add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\">squash 2 add: ç¬¬äºŒæ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Rebase 52f2b39..2f79131 onto 52f2b39 (3 commands)</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># Commands:</span></span><br><span class=\"line\"><span class=\"comment\"># p, pick &lt;commit&gt; = use commit</span></span><br><span class=\"line\"><span class=\"comment\"># r, reword &lt;commit&gt; = use commit, but edit the commit message</span></span><br><span class=\"line\"><span class=\"comment\"># e, edit &lt;commit&gt; = use commit, but stop for amending</span></span><br><span class=\"line\"><span class=\"comment\"># s, squash &lt;commit&gt; = use commit, but meld into previous commit</span></span><br><span class=\"line\"><span class=\"comment\"># f, fixup [-C | -c] &lt;commit&gt; = like &quot;squash&quot; but keep only the previous</span></span><br><span class=\"line\"><span class=\"comment\">#                    commit&#x27;s log message, unless -C is used, in which case</span></span><br><span class=\"line\"><span class=\"comment\">#                    keep only this commit&#x27;s message; -c is same as -C but</span></span><br><span class=\"line\"><span class=\"comment\">#                    opens the editor</span></span><br><span class=\"line\"><span class=\"comment\"># x, exec &lt;command&gt; = run command (the rest of the line) using shell</span></span><br><span class=\"line\"><span class=\"comment\"># b, break = stop here (continue rebase later with &#x27;git rebase --continue&#x27;)</span></span><br><span class=\"line\"><span class=\"comment\"># d, drop &lt;commit&gt; = remove commit</span></span><br><span class=\"line\"><span class=\"comment\"># l, label &lt;label&gt; = label current HEAD with a name</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ€æ ·å§é—´éš”çš„å‡ ä¸ª-commit-æ•´ç†æˆ-1-ä¸ªï¼Ÿ\"><a href=\"#æ€æ ·å§é—´éš”çš„å‡ ä¸ª-commit-æ•´ç†æˆ-1-ä¸ªï¼Ÿ\" class=\"headerlink\" title=\"æ€æ ·å§é—´éš”çš„å‡ ä¸ª commit æ•´ç†æˆ 1 ä¸ªï¼Ÿ\"></a>æ€æ ·å§é—´éš”çš„å‡ ä¸ª commit æ•´ç†æˆ 1 ä¸ªï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git rebase -i é—´éš”çš„çˆ¶çº§<span class=\"built_in\">id</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¾‹å­ï¼š<br>æ¯”å¦‚æˆ‘åœ¨ git æäº¤äº† 4 æ¡ commit, å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">commit 4</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬å››æ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 3</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 2</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬äºŒæ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 1</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬ä¸€æ¬¡æäº¤</span><br></pre></td></tr></table></figure>\n\n<p>åˆå¹¶ 4 å’Œ 2ï¼Œ å¯ä»¥è¿™ä¹ˆä½¿ç”¨<code>git rebase -i 1</code>,</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ•ˆæœå¦‚ä¸‹</span></span><br><span class=\"line\">pick 4 add: ç¬¬å››æ¬¡æäº¤</span><br><span class=\"line\">pick 3 add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\">pick 2 add: ç¬¬äºŒæ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ä¿®æ”¹å¦‚ä¸‹ï¼š å°†4åˆå¹¶åˆ°2 ï¼Œ 2 æ˜¯æœ€æ—©æäº¤çš„ï¼Œ4æ˜¯æœ€æ–°æäº¤çš„ã€‚ å°† 2é‚£ä¸€è¡Œæ·»åŠ åœ¨4ä¸‹é¢ï¼Œåˆ é™¤åŸæ¥çš„2çš„é‚£ä¸€è¡Œï¼Œ</span></span><br><span class=\"line\"><span class=\"comment\"># å¹¶ä¸”å°† 4ä¸‹é¢çš„2çš„é‚£ä¸€è¡Œ çš„ pick ä¿®æ”¹ä¸º squashå³å¯</span></span><br><span class=\"line\">pick 4 add: ç¬¬å››æ¬¡æäº¤</span><br><span class=\"line\">squash 2 add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\">pick 3 add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Rebase 52f2b39..2f79131 onto 52f2b39 (3 commands)</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># Commands:</span></span><br><span class=\"line\"><span class=\"comment\"># p, pick &lt;commit&gt; = use commit</span></span><br><span class=\"line\"><span class=\"comment\"># r, reword &lt;commit&gt; = use commit, but edit the commit message</span></span><br><span class=\"line\"><span class=\"comment\"># e, edit &lt;commit&gt; = use commit, but stop for amending</span></span><br><span class=\"line\"><span class=\"comment\"># s, squash &lt;commit&gt; = use commit, but meld into previous commit</span></span><br><span class=\"line\"><span class=\"comment\"># f, fixup [-C | -c] &lt;commit&gt; = like &quot;squash&quot; but keep only the previous</span></span><br><span class=\"line\"><span class=\"comment\">#                    commit&#x27;s log message, unless -C is used, in which case</span></span><br><span class=\"line\"><span class=\"comment\">#                    keep only this commit&#x27;s message; -c is same as -C but</span></span><br><span class=\"line\"><span class=\"comment\">#                    opens the editor</span></span><br><span class=\"line\"><span class=\"comment\"># x, exec &lt;command&gt; = run command (the rest of the line) using shell</span></span><br><span class=\"line\"><span class=\"comment\"># b, break = stop here (continue rebase later with &#x27;git rebase --continue&#x27;)</span></span><br><span class=\"line\"><span class=\"comment\"># d, drop &lt;commit&gt; = remove commit</span></span><br><span class=\"line\"><span class=\"comment\"># l, label &lt;label&gt; = label current HEAD with a name</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æš‚å­˜åŒºå’Œ-HEAD-ä¹‹é—´çš„å·®å¼‚ï¼Ÿ\"><a href=\"#æš‚å­˜åŒºå’Œ-HEAD-ä¹‹é—´çš„å·®å¼‚ï¼Ÿ\" class=\"headerlink\" title=\"æš‚å­˜åŒºå’Œ HEAD ä¹‹é—´çš„å·®å¼‚ï¼Ÿ\"></a>æš‚å­˜åŒºå’Œ HEAD ä¹‹é—´çš„å·®å¼‚ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git diff --cached</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// HEAD ä¸Šçš„æ–‡ä»¶</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;api&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<p>æœ¬åœ°ä¿®æ”¹æ–‡ä»¶, å¹¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼›</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// HEAD ä¸Šçš„æ–‡ä»¶</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;api&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> a = <span class=\"number\">100</span>;</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åé€šè¿‡å‘½ä»¤<code>git diff --cached</code>æ¯”è¾ƒä¿©ä¸ªæ–‡ä»¶çš„åŒºåˆ«â€</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">diff --git a/api.js b/api.js</span><br><span class=\"line\">index 8558a46..26731b7 100644</span><br><span class=\"line\">--- a/api.js</span><br><span class=\"line\">+++ b/api.js</span><br><span class=\"line\"></span><br><span class=\"line\">@@ -1 +1,3 @@</span><br><span class=\"line\">-console.log(<span class=\"string\">&#x27;api&#x27;</span>)</span><br><span class=\"line\">\\ No newline at end of file</span><br><span class=\"line\"></span><br><span class=\"line\">+console.log(<span class=\"string\">&#x27;api&#x27;</span>)</span><br><span class=\"line\">+</span><br><span class=\"line\">+<span class=\"built_in\">let</span> a = 100;</span><br><span class=\"line\">\\ No newline at end of file</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ€æ ·é€šè¿‡æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒºæ‰€å«æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ\"><a href=\"#æ€æ ·é€šè¿‡æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒºæ‰€å«æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ\" class=\"headerlink\" title=\"æ€æ ·é€šè¿‡æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒºæ‰€å«æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ\"></a>æ€æ ·é€šè¿‡æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒºæ‰€å«æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ‰€æœ‰æ–‡ä»¶</span></span><br><span class=\"line\">git diff</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># api.js</span></span><br><span class=\"line\">git diff -- api.js</span><br></pre></td></tr></table></figure>\n\n<p>é¢„è§ˆçš„æ•ˆæœç±»ä¼¼ ä¸Šé¢çš„æ•ˆæœï¼›</p>\n<h2 id=\"æš‚å­˜åŒºæ¢å¤æˆå’Œ-HEAD-ä¸€æ ·ï¼Ÿ\"><a href=\"#æš‚å­˜åŒºæ¢å¤æˆå’Œ-HEAD-ä¸€æ ·ï¼Ÿ\" class=\"headerlink\" title=\"æš‚å­˜åŒºæ¢å¤æˆå’Œ HEAD ä¸€æ ·ï¼Ÿ\"></a>æš‚å­˜åŒºæ¢å¤æˆå’Œ HEAD ä¸€æ ·ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ¢å¤æ‰€æœ‰</span></span><br><span class=\"line\">git reset HEAD</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æ¢å¤æŸä¸€ä¸ªæ–‡ä»¶</span></span><br><span class=\"line\">git reset HEAD api.js</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"è®©å·¥ä½œåŒºæ–‡ä»¶æ¢å¤æˆæš‚å­˜åŒºä¸€æ ·ï¼Ÿ\"><a href=\"#è®©å·¥ä½œåŒºæ–‡ä»¶æ¢å¤æˆæš‚å­˜åŒºä¸€æ ·ï¼Ÿ\" class=\"headerlink\" title=\"è®©å·¥ä½œåŒºæ–‡ä»¶æ¢å¤æˆæš‚å­˜åŒºä¸€æ ·ï¼Ÿ\"></a>è®©å·¥ä½œåŒºæ–‡ä»¶æ¢å¤æˆæš‚å­˜åŒºä¸€æ ·ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git checkout -- æ–‡ä»¶å</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å–æ¶ˆæš‚å­˜åŒºéƒ¨åˆ†æ–‡ä»¶çš„ä¿®æ”¹ï¼Ÿ\"><a href=\"#å–æ¶ˆæš‚å­˜åŒºéƒ¨åˆ†æ–‡ä»¶çš„ä¿®æ”¹ï¼Ÿ\" class=\"headerlink\" title=\"å–æ¶ˆæš‚å­˜åŒºéƒ¨åˆ†æ–‡ä»¶çš„ä¿®æ”¹ï¼Ÿ\"></a>å–æ¶ˆæš‚å­˜åŒºéƒ¨åˆ†æ–‡ä»¶çš„ä¿®æ”¹ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git checkout -- api.js  main.js</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ¶ˆé™¤æœ€è¿‘çš„å‡ æ¬¡æäº¤ï¼Ÿï¼ˆç‰ˆæœ¬å›é€€ï¼‰\"><a href=\"#æ¶ˆé™¤æœ€è¿‘çš„å‡ æ¬¡æäº¤ï¼Ÿï¼ˆç‰ˆæœ¬å›é€€ï¼‰\" class=\"headerlink\" title=\"æ¶ˆé™¤æœ€è¿‘çš„å‡ æ¬¡æäº¤ï¼Ÿï¼ˆç‰ˆæœ¬å›é€€ï¼‰\"></a>æ¶ˆé™¤æœ€è¿‘çš„å‡ æ¬¡æäº¤ï¼Ÿï¼ˆç‰ˆæœ¬å›é€€ï¼‰</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git reset --hard å›é€€ç‰ˆæœ¬<span class=\"built_in\">id</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¾‹å­ï¼š<br>æ¯”å¦‚æˆ‘åœ¨ git æäº¤äº† 3 æ¡ commit, å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">commit 3</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬ä¸‰æ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 2</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬äºŒæ¬¡æäº¤</span><br><span class=\"line\"></span><br><span class=\"line\">commit 1</span><br><span class=\"line\">Author: cs &lt;123@qq.com&gt;</span><br><span class=\"line\">Date: 2023</span><br><span class=\"line\">  add: ç¬¬ä¸€æ¬¡æäº¤</span><br></pre></td></tr></table></figure>\n\n<p>ä½†æ˜¯æˆ‘ä¸æƒ³è¦ç¬¬ä¸‰æ¬¡æäº¤ï¼Œæƒ³è¦æ¶ˆé™¤ï¼ˆå›é€€ 2 çš„æäº¤ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ <code>git reset --hard 2</code>,</p>\n<h2 id=\"ä¸åŒæäº¤æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ\"><a href=\"#ä¸åŒæäº¤æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ\" class=\"headerlink\" title=\"ä¸åŒæäº¤æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ\"></a>ä¸åŒæäº¤æ–‡ä»¶çš„å·®å¼‚ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ‰€æœ‰çš„æ–‡æ–‡ä»¶</span></span><br><span class=\"line\">git diff åˆ†æ”¯1 åˆ†æ”¯2</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æŒ‡å®šæ–‡ä»¶</span></span><br><span class=\"line\">git diff åˆ†æ”¯1 åˆ†æ”¯2 -- index.js</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æŒ‡å®šçš„åˆ†æ”¯id 2 æ˜¯tempåˆ†æ”¯çš„commit id,  1æ˜¯masteråˆ†æ”¯çš„commit id</span></span><br><span class=\"line\">git diff 2 1 -- index.js</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># git diff åˆ†æ”¯1 åˆ†æ”¯2</span></span><br><span class=\"line\">diff --git a/api.js b/api.js</span><br><span class=\"line\">index 26731b7..0afa981 100644</span><br><span class=\"line\">--- a/api.js</span><br><span class=\"line\">+++ b/api.js</span><br><span class=\"line\">@@ -1,3 +1,5 @@</span><br><span class=\"line\"> console.log(<span class=\"string\">&#x27;api&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">-<span class=\"built_in\">let</span> a = 100;</span><br><span class=\"line\">\\ No newline at end of file</span><br><span class=\"line\">+<span class=\"built_in\">let</span> a = 100;</span><br><span class=\"line\">+</span><br><span class=\"line\">+const b = 1000;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ­£ç¡®åˆ é™¤æ–‡ä»¶çš„æ–¹æ³•ï¼Ÿ\"><a href=\"#æ­£ç¡®åˆ é™¤æ–‡ä»¶çš„æ–¹æ³•ï¼Ÿ\" class=\"headerlink\" title=\"æ­£ç¡®åˆ é™¤æ–‡ä»¶çš„æ–¹æ³•ï¼Ÿ\"></a>æ­£ç¡®åˆ é™¤æ–‡ä»¶çš„æ–¹æ³•ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">rm</span> æ–‡ä»¶å</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æš‚å­˜åŒº æ”¾å¼ƒæ›´æ”¹</span></span><br><span class=\"line\">git reset --hard HEAD</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å¼€å‘ä¸­ç´§æ€¥ä»»åŠ¡æ€ä¹ˆå¤„ç†ï¼Ÿ\"><a href=\"#å¼€å‘ä¸­ç´§æ€¥ä»»åŠ¡æ€ä¹ˆå¤„ç†ï¼Ÿ\" class=\"headerlink\" title=\"å¼€å‘ä¸­ç´§æ€¥ä»»åŠ¡æ€ä¹ˆå¤„ç†ï¼Ÿ\"></a>å¼€å‘ä¸­ç´§æ€¥ä»»åŠ¡æ€ä¹ˆå¤„ç†ï¼Ÿ</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ·»åŠ å­˜æ”¾åŒºï¼Œæš‚å­˜åŒºæ˜¯ä¸€ä¸ªå¹²å‡€çš„çŠ¶æ€ï¼›</span></span><br><span class=\"line\">git stash</span><br><span class=\"line\"></span><br><span class=\"line\">git stash list</span><br><span class=\"line\"><span class=\"comment\"># stash@&#123;0&#125;: WIP on master: 886f134 edit: ä¿®æ”¹diff</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 1: æ‹¿å‡ºæ¥ï¼Œæ”¾åœ¨å·¥ä½œåŒº 2: git stash list å¯¹ç”¨çš„ä¿¡æ¯è¿˜å­˜åœ¨ï¼Œå¯ä»¥é‡å¤ä½¿ç”¨</span></span><br><span class=\"line\"><span class=\"comment\"># å³è¿™æ¡ä¿¡æ¯è¿˜å­˜åœ¨ï¼š &#123;stash@&#123;0&#125;: WIP on master: 886f134 edit: ä¿®æ”¹diff&#125;</span></span><br><span class=\"line\">git stash apply</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ä¸¢æ‰ Dropped refs/stash@&#123;0&#125; (6fc8e582adf57857a5a2af6eafbe375d6eae287f)</span></span><br><span class=\"line\">git stash pop</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æŒ‡å®šä¸éœ€è¦çš„-git-ç®¡ç†æ–‡ä»¶ï¼Ÿ-gitignore-æ–‡ä»¶\"><a href=\"#æŒ‡å®šä¸éœ€è¦çš„-git-ç®¡ç†æ–‡ä»¶ï¼Ÿ-gitignore-æ–‡ä»¶\" class=\"headerlink\" title=\"æŒ‡å®šä¸éœ€è¦çš„ git ç®¡ç†æ–‡ä»¶ï¼Ÿ .gitignore æ–‡ä»¶\"></a>æŒ‡å®šä¸éœ€è¦çš„ git ç®¡ç†æ–‡ä»¶ï¼Ÿ <code>.gitignore æ–‡ä»¶</code></h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node_modules/</span><br><span class=\"line\">src/.vuepress/.cache/</span><br><span class=\"line\">src/.vuepress/.temp/</span><br><span class=\"line\">src/.vuepress/dist/</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å…¶ä»–æ•´ç†\"><a href=\"#å…¶ä»–æ•´ç†\" class=\"headerlink\" title=\"å…¶ä»–æ•´ç†\"></a>å…¶ä»–æ•´ç†</h2><h3 id=\"é€‰é¡¹è§£é‡Š\"><a href=\"#é€‰é¡¹è§£é‡Š\" class=\"headerlink\" title=\"é€‰é¡¹è§£é‡Š\"></a>é€‰é¡¹è§£é‡Š</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-d --deleteï¼šåˆ é™¤</span><br><span class=\"line\"></span><br><span class=\"line\">-D --delete --forceçš„å¿«æ·é”®</span><br><span class=\"line\"></span><br><span class=\"line\">-f --forceï¼šå¼ºåˆ¶</span><br><span class=\"line\"></span><br><span class=\"line\">-m --moveï¼šç§»åŠ¨æˆ–é‡å‘½å</span><br><span class=\"line\"></span><br><span class=\"line\">-M --move --forceçš„å¿«æ·é”®</span><br><span class=\"line\"></span><br><span class=\"line\">-r --remoteï¼šè¿œç¨‹</span><br><span class=\"line\"></span><br><span class=\"line\">-a --allï¼šæ‰€æœ‰</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åˆ†æ”¯ç®¡ç†\"><a href=\"#åˆ†æ”¯ç®¡ç†\" class=\"headerlink\" title=\"åˆ†æ”¯ç®¡ç†\"></a>åˆ†æ”¯ç®¡ç†</h3><ul>\n<li>æ–°å»ºåˆ†æ”¯: <code>git branch</code> åˆ†æ”¯å<ul>\n<li><code>git branch -r</code> æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯</li>\n<li><code>git branch -a</code> æŸ¥çœ‹è¿œç¨‹å’Œæœ¬åœ°åˆ†æ”¯</li>\n<li><code>git branch -f</code> æ–°å»ºåˆ†æ”¯ä½†ä¸åˆ‡æ¢</li>\n<li><code>git branch -b</code> æ–°å»ºåˆ†æ”¯å¹¶åˆ‡æ¢</li>\n<li><code>git branch -d|-D</code> åˆ é™¤æœ¬åœ°åˆ†æ”¯</li>\n<li><code>git branch -m|-M</code> å¼ºåˆ¶é‡å‘½å</li>\n</ul>\n</li>\n<li>åˆ‡æ¢åˆ†æ”¯: <code>git checkout åˆ†æ”¯å</code></li>\n<li>åˆ—å‡ºåˆ†æ”¯: <code>git branch</code></li>\n<li>åˆ é™¤åˆ†æ”¯: <code>git branch -d åˆ†æ”¯å</code></li>\n<li>åˆå¹¶åˆ†æ”¯: <code>git merge éœ€è¦åˆå¹¶çš„åˆ†æ”¯</code></li>\n<li>åˆå¹¶åˆ†æ”¯: <code>git rebase åˆå¹¶åˆ°çš„åˆ†æ”¯</code></li>\n</ul>\n<h3 id=\"ç›¸å¯¹å¼•ç”¨\"><a href=\"#ç›¸å¯¹å¼•ç”¨\" class=\"headerlink\" title=\"ç›¸å¯¹å¼•ç”¨\"></a>ç›¸å¯¹å¼•ç”¨</h3><ul>\n<li><code>^</code>å‘ä¸Šç§»åŠ¨ä¸€ä¸ªè®°å½• <code>git checkout åˆ†æ”¯ HEAD^</code></li>\n<li>ä½¿ç”¨ <code>~</code> å‘ä¸Šç§»åŠ¨å¤šä¸ªæäº¤è®°å½•ï¼Œå¦‚ <code>~3</code></li>\n</ul>\n<h3 id=\"æ’¤é”€å˜æ›´\"><a href=\"#æ’¤é”€å˜æ›´\" class=\"headerlink\" title=\"æ’¤é”€å˜æ›´\"></a>æ’¤é”€å˜æ›´</h3><ul>\n<li><code>git reset</code> æœ¬åœ°å›æ»šä¸Šä¸€æ­¥ï¼ŒåŸæ¥æŒ‡å‘çš„æäº¤è®°å½•å°±è·Ÿä»æ¥æ²¡æœ‰æäº¤è¿‡ä¸€æ ·</li>\n<li><code>git revert</code> è¿œç¨‹å›æ»šï¼Œä½†ä¼šç”Ÿæˆä¸€æ¡æäº¤è®°å½•</li>\n</ul>\n<h3 id=\"æŸ¥çœ‹å†å²\"><a href=\"#æŸ¥çœ‹å†å²\" class=\"headerlink\" title=\"æŸ¥çœ‹å†å²\"></a>æŸ¥çœ‹å†å²</h3><ul>\n<li><code>git log</code><ul>\n<li><code>git log --oneline</code> æŸ¥çœ‹å†å²è®°å½•çš„ç®€æ´çš„ç‰ˆæœ¬ã€‚</li>\n<li><code>git log --graph</code> æŸ¥çœ‹å†å²ä¸­ä»€ä¹ˆæ—¶å€™å‡ºç°äº†åˆ†æ”¯ã€åˆå¹¶ã€‚</li>\n<li><code>git log --reverse</code> é€†å‘æ˜¾ç¤ºæ‰€æœ‰æ—¥å¿—ã€‚</li>\n</ul>\n</li>\n</ul>\n"},{"title":"æœåŠ¡å™¨/è¿è¥-1panel","abbrlink":"39a6487c","date":"2024-07-08T01:05:01.000Z","_content":"\nä¸Šç¯‡æ–‡ç« è¯´äº†ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨`å®å¡”`åœ¨æœåŠ¡å™¨éƒ¨ç½²å‰ç«¯çš„é¡¹ç›®ï¼Œä½†æ˜¯è¿™ç§åšæ³•è™½ç„¶ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œæ¯æ¬¡è¿­ä»£æ›´æ–°æ‰“åŒ…éƒ½éœ€è¦æ‰‹åŠ¨ä¸Šä¼ `dist`æ–‡ä»¶åˆ°æœåŠ¡å™¨ä¸‹ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥è¯´ä¸€ä¸‹ä½¿ç”¨`jenkins`åœ¨æœåŠ¡å™¨ä¸Šå‘å¸ƒé¡¹ç›®ï¼›\n\n`1panel`éœ€è¦ä½¿ç”¨`docker`ç¯å¢ƒå®‰è£…ï¼Œå…·ä½“[çœ‹å®˜ç½‘](https://1panel.cn/)\n\næ¥ä¸‹æ¥å…·ä½“è¯´ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨`jenkins`éƒ¨ç½²å‰ç«¯é¡¹ç›®\n\n## å®‰è£… Jenkins\n\né¦–å…ˆåœ¨`åº”ç”¨å•†åº—`æœç´¢`jenkins`ï¼Œç„¶åè¿›è¡Œå®‰è£…ï¼Œæ¥ç€å‚»ç“œå¼å®‰è£…ï¼Œå½“ç„¶è¦å‹¾é€‰å¤–éƒ¨ç«¯å£ï¼Œè¿™æ ·æ‰èƒ½è®¿é—®`http:xxxx:8080`,ç­‰å¾…å…¶å®‰è£…å®Œæˆï¼Œå®‰è£…æˆåŠŸä¹‹åï¼Œå¦‚ä¸‹å›¾:\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.pfcitpy1g.webp)\n\næ‰¾åˆ°å›¾ä¸­çš„`æœåŠ¡ç«¯å£`æŒ‰é’®ï¼Œæ‰“å¼€ç½‘é¡µå¦‚å›¾ï¼š\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.45hoax4ywn.webp)\nè¿™é‡Œéœ€è¦è¾“å…¥å¯†ç ï¼Œå¯†ç çš„å­˜æ”¾åœ°å€åœ¨ç½‘é¡µä¸­å·²ç»æ ‡æ˜ï¼Œåªéœ€è¦åœ¨æœåŠ¡å™¨ä¸Šæ‰¾åˆ°å³å¯ï¼Œä½†æ˜¯è¿™é‡Œæˆ‘ä»¬åœ¨`1panel`ä¸­æ‰¾åˆ°å›¾ä¸€ä¸­çš„`æ—¥å¿—`æŒ‰é’®ï¼Œå¦‚å›¾ï¼š\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.m2ytak8q.webp)\næ¥ç€åœ¨`jenkins`å‚»ç“œå¼å®‰è£…å³å¯ï¼Œå¦‚å›¾ï¼š\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.6t74la2a1r.webp)\n\nç„¶åç­‰å¾…`jenkins`å®‰è£…å®Œæˆ\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.5c0zjj3435.webp)\nè‡ªè¡Œé…ç½®ç”¨æˆ·å\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.99td07jjq5.webp)\nå®‰è£…å¯¹åº”çš„æ’ä»¶, `Nodejs, Git Parameter, Publish Over SSH`å½“ç„¶æ‚¨ä¹Ÿå°±å¯ä»¥å®‰è£…éœ€è¦çš„æ’ä»¶\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7lk030znhw.webp)\n\n## æ·»åŠ æµæ°´çº¿\n\nåœ¨å·¦ä¾§èœå•`æ–°å»ºItem`æ„å»ºï¼Œå¤§è‡´æµç¨‹å°±æ˜¯\n\n1. æ·»åŠ `git`åœ°å€ï¼Œé…ç½®ä½ çš„è´¦å·å¯†ç \n2. é…ç½®å¯¹åº”çš„æ“ä½œï¼Œå¦‚ï¼šé€‰æ‹©åˆ†æ”¯ï¼Œé€‰æ‹©å‘å¸ƒç¯å¢ƒ\n3. é…ç½®æ„å»ºå‘½ä»¤ç­‰ï¼Œå°†æ‰“åŒ…åçš„æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å¯¹åº”çš„åŸŸå\n4. é…ç½®å‘å¸ƒä¹‹åå‘é€çš„é‚®ä»¶ä¿¡æ¯ï¼Œè¿™æ ·å°±èƒ½æ”¶åˆ°æˆåŠŸæˆ–è€…å¤±è´¥çš„é‚®ä»¶\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7sn7yhfzn8.webp)\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.1ap0565tsc.webp)\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.5j47ezwx9u.webp)\n\n## åˆ›å»ºç½‘ç«™\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7i0e5d1o0o.webp)\n\næœ€ååœ¨`jenkins`é…ç½®`shell`\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.9rjeoul3sr.webp)\nè§£é‡Šä¸Šå›¾ï¼š\n\n1. ç³»ç»Ÿè¿ç”¨çš„æ˜¯`docker`, é‚£ä¹ˆå°±ç”¨`docker cp`å½“å‰çš„ç›®å½•æˆ–è€…çš„ dist çš„ç›®å½•\n2. å¤åˆ¶åˆ°å¯¹åº”å®¹å™¨çš„ç½‘ç«™\n3. `1Panel-openresty-qVw7`æ˜¯`docker`å®¹å™¨ï¼Œä¹Ÿæ˜¯`1panel`å®¹å™¨\n4. `/www/sites/154.37.212.237`æ˜¯åˆšåˆšåˆ›å»ºçš„ç½‘ç«™, `index`æ˜¯è¿™ä¸ªç½‘ç«™çš„æ ¹ç›®å½•ï¼›\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.9nzsr4zaeb.webp)\n\né‚£ä¹ˆè®¾ç½®å®Œæˆä¹‹åï¼Œå°±å¯ä»¥é‡æ–°æ‰“å¼€ç½‘é¡µå°±å¯ä»¥äº†ï¼›\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.39l6vjlekc.webp)\n\nå…³äº`jenkins`çš„ç®€å•ä½¿ç”¨å°±åˆ°è¿™é‡Œäº†ï¼Œå¦‚æœå–œæ¬¢`1Panel`é‚£å°±è‡ªå·±èŠ±æ—¶é—´ç ”ç©¶ä¸€ä¸‹å§ï¼\n","source":"_posts/æŠ€èƒ½å°å†Œ/æœåŠ¡å™¨-è¿è¥/1panelé¢æ¿.md","raw":"---\ntitle: æœåŠ¡å™¨/è¿è¥-1panel\nabbrlink: 39a6487c\ndate: 2024-07-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - æœåŠ¡å™¨/è¿è¥\n---\n\nä¸Šç¯‡æ–‡ç« è¯´äº†ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨`å®å¡”`åœ¨æœåŠ¡å™¨éƒ¨ç½²å‰ç«¯çš„é¡¹ç›®ï¼Œä½†æ˜¯è¿™ç§åšæ³•è™½ç„¶ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œæ¯æ¬¡è¿­ä»£æ›´æ–°æ‰“åŒ…éƒ½éœ€è¦æ‰‹åŠ¨ä¸Šä¼ `dist`æ–‡ä»¶åˆ°æœåŠ¡å™¨ä¸‹ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥è¯´ä¸€ä¸‹ä½¿ç”¨`jenkins`åœ¨æœåŠ¡å™¨ä¸Šå‘å¸ƒé¡¹ç›®ï¼›\n\n`1panel`éœ€è¦ä½¿ç”¨`docker`ç¯å¢ƒå®‰è£…ï¼Œå…·ä½“[çœ‹å®˜ç½‘](https://1panel.cn/)\n\næ¥ä¸‹æ¥å…·ä½“è¯´ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨`jenkins`éƒ¨ç½²å‰ç«¯é¡¹ç›®\n\n## å®‰è£… Jenkins\n\né¦–å…ˆåœ¨`åº”ç”¨å•†åº—`æœç´¢`jenkins`ï¼Œç„¶åè¿›è¡Œå®‰è£…ï¼Œæ¥ç€å‚»ç“œå¼å®‰è£…ï¼Œå½“ç„¶è¦å‹¾é€‰å¤–éƒ¨ç«¯å£ï¼Œè¿™æ ·æ‰èƒ½è®¿é—®`http:xxxx:8080`,ç­‰å¾…å…¶å®‰è£…å®Œæˆï¼Œå®‰è£…æˆåŠŸä¹‹åï¼Œå¦‚ä¸‹å›¾:\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.pfcitpy1g.webp)\n\næ‰¾åˆ°å›¾ä¸­çš„`æœåŠ¡ç«¯å£`æŒ‰é’®ï¼Œæ‰“å¼€ç½‘é¡µå¦‚å›¾ï¼š\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.45hoax4ywn.webp)\nè¿™é‡Œéœ€è¦è¾“å…¥å¯†ç ï¼Œå¯†ç çš„å­˜æ”¾åœ°å€åœ¨ç½‘é¡µä¸­å·²ç»æ ‡æ˜ï¼Œåªéœ€è¦åœ¨æœåŠ¡å™¨ä¸Šæ‰¾åˆ°å³å¯ï¼Œä½†æ˜¯è¿™é‡Œæˆ‘ä»¬åœ¨`1panel`ä¸­æ‰¾åˆ°å›¾ä¸€ä¸­çš„`æ—¥å¿—`æŒ‰é’®ï¼Œå¦‚å›¾ï¼š\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.m2ytak8q.webp)\næ¥ç€åœ¨`jenkins`å‚»ç“œå¼å®‰è£…å³å¯ï¼Œå¦‚å›¾ï¼š\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.6t74la2a1r.webp)\n\nç„¶åç­‰å¾…`jenkins`å®‰è£…å®Œæˆ\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.5c0zjj3435.webp)\nè‡ªè¡Œé…ç½®ç”¨æˆ·å\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.99td07jjq5.webp)\nå®‰è£…å¯¹åº”çš„æ’ä»¶, `Nodejs, Git Parameter, Publish Over SSH`å½“ç„¶æ‚¨ä¹Ÿå°±å¯ä»¥å®‰è£…éœ€è¦çš„æ’ä»¶\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7lk030znhw.webp)\n\n## æ·»åŠ æµæ°´çº¿\n\nåœ¨å·¦ä¾§èœå•`æ–°å»ºItem`æ„å»ºï¼Œå¤§è‡´æµç¨‹å°±æ˜¯\n\n1. æ·»åŠ `git`åœ°å€ï¼Œé…ç½®ä½ çš„è´¦å·å¯†ç \n2. é…ç½®å¯¹åº”çš„æ“ä½œï¼Œå¦‚ï¼šé€‰æ‹©åˆ†æ”¯ï¼Œé€‰æ‹©å‘å¸ƒç¯å¢ƒ\n3. é…ç½®æ„å»ºå‘½ä»¤ç­‰ï¼Œå°†æ‰“åŒ…åçš„æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å¯¹åº”çš„åŸŸå\n4. é…ç½®å‘å¸ƒä¹‹åå‘é€çš„é‚®ä»¶ä¿¡æ¯ï¼Œè¿™æ ·å°±èƒ½æ”¶åˆ°æˆåŠŸæˆ–è€…å¤±è´¥çš„é‚®ä»¶\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7sn7yhfzn8.webp)\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.1ap0565tsc.webp)\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.5j47ezwx9u.webp)\n\n## åˆ›å»ºç½‘ç«™\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7i0e5d1o0o.webp)\n\næœ€ååœ¨`jenkins`é…ç½®`shell`\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.9rjeoul3sr.webp)\nè§£é‡Šä¸Šå›¾ï¼š\n\n1. ç³»ç»Ÿè¿ç”¨çš„æ˜¯`docker`, é‚£ä¹ˆå°±ç”¨`docker cp`å½“å‰çš„ç›®å½•æˆ–è€…çš„ dist çš„ç›®å½•\n2. å¤åˆ¶åˆ°å¯¹åº”å®¹å™¨çš„ç½‘ç«™\n3. `1Panel-openresty-qVw7`æ˜¯`docker`å®¹å™¨ï¼Œä¹Ÿæ˜¯`1panel`å®¹å™¨\n4. `/www/sites/154.37.212.237`æ˜¯åˆšåˆšåˆ›å»ºçš„ç½‘ç«™, `index`æ˜¯è¿™ä¸ªç½‘ç«™çš„æ ¹ç›®å½•ï¼›\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.9nzsr4zaeb.webp)\n\né‚£ä¹ˆè®¾ç½®å®Œæˆä¹‹åï¼Œå°±å¯ä»¥é‡æ–°æ‰“å¼€ç½‘é¡µå°±å¯ä»¥äº†ï¼›\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.39l6vjlekc.webp)\n\nå…³äº`jenkins`çš„ç®€å•ä½¿ç”¨å°±åˆ°è¿™é‡Œäº†ï¼Œå¦‚æœå–œæ¬¢`1Panel`é‚£å°±è‡ªå·±èŠ±æ—¶é—´ç ”ç©¶ä¸€ä¸‹å§ï¼\n","slug":"æŠ€èƒ½å°å†Œ/æœåŠ¡å™¨-è¿è¥/1panelé¢æ¿","published":1,"updated":"2025-03-13T10:16:18.140Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j2004lfg9m7kmb7x8a","content":"<p>ä¸Šç¯‡æ–‡ç« è¯´äº†ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨<code>å®å¡”</code>åœ¨æœåŠ¡å™¨éƒ¨ç½²å‰ç«¯çš„é¡¹ç›®ï¼Œä½†æ˜¯è¿™ç§åšæ³•è™½ç„¶ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œæ¯æ¬¡è¿­ä»£æ›´æ–°æ‰“åŒ…éƒ½éœ€è¦æ‰‹åŠ¨ä¸Šä¼ <code>dist</code>æ–‡ä»¶åˆ°æœåŠ¡å™¨ä¸‹ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥è¯´ä¸€ä¸‹ä½¿ç”¨<code>jenkins</code>åœ¨æœåŠ¡å™¨ä¸Šå‘å¸ƒé¡¹ç›®ï¼›</p>\n<p><code>1panel</code>éœ€è¦ä½¿ç”¨<code>docker</code>ç¯å¢ƒå®‰è£…ï¼Œå…·ä½“<a href=\"https://1panel.cn/\">çœ‹å®˜ç½‘</a></p>\n<p>æ¥ä¸‹æ¥å…·ä½“è¯´ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨<code>jenkins</code>éƒ¨ç½²å‰ç«¯é¡¹ç›®</p>\n<h2 id=\"å®‰è£…-Jenkins\"><a href=\"#å®‰è£…-Jenkins\" class=\"headerlink\" title=\"å®‰è£… Jenkins\"></a>å®‰è£… Jenkins</h2><p>é¦–å…ˆåœ¨<code>åº”ç”¨å•†åº—</code>æœç´¢<code>jenkins</code>ï¼Œç„¶åè¿›è¡Œå®‰è£…ï¼Œæ¥ç€å‚»ç“œå¼å®‰è£…ï¼Œå½“ç„¶è¦å‹¾é€‰å¤–éƒ¨ç«¯å£ï¼Œè¿™æ ·æ‰èƒ½è®¿é—®<code>http:xxxx:8080</code>,ç­‰å¾…å…¶å®‰è£…å®Œæˆï¼Œå®‰è£…æˆåŠŸä¹‹åï¼Œå¦‚ä¸‹å›¾:</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.pfcitpy1g.webp\" alt=\"x\"></p>\n<p>æ‰¾åˆ°å›¾ä¸­çš„<code>æœåŠ¡ç«¯å£</code>æŒ‰é’®ï¼Œæ‰“å¼€ç½‘é¡µå¦‚å›¾ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.45hoax4ywn.webp\" alt=\"X\"><br>è¿™é‡Œéœ€è¦è¾“å…¥å¯†ç ï¼Œå¯†ç çš„å­˜æ”¾åœ°å€åœ¨ç½‘é¡µä¸­å·²ç»æ ‡æ˜ï¼Œåªéœ€è¦åœ¨æœåŠ¡å™¨ä¸Šæ‰¾åˆ°å³å¯ï¼Œä½†æ˜¯è¿™é‡Œæˆ‘ä»¬åœ¨<code>1panel</code>ä¸­æ‰¾åˆ°å›¾ä¸€ä¸­çš„<code>æ—¥å¿—</code>æŒ‰é’®ï¼Œå¦‚å›¾ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.m2ytak8q.webp\" alt=\"X\"><br>æ¥ç€åœ¨<code>jenkins</code>å‚»ç“œå¼å®‰è£…å³å¯ï¼Œå¦‚å›¾ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.6t74la2a1r.webp\" alt=\"X\"></p>\n<p>ç„¶åç­‰å¾…<code>jenkins</code>å®‰è£…å®Œæˆ<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.5c0zjj3435.webp\" alt=\"X\"><br>è‡ªè¡Œé…ç½®ç”¨æˆ·å<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.99td07jjq5.webp\" alt=\"X\"><br>å®‰è£…å¯¹åº”çš„æ’ä»¶, <code>Nodejs, Git Parameter, Publish Over SSH</code>å½“ç„¶æ‚¨ä¹Ÿå°±å¯ä»¥å®‰è£…éœ€è¦çš„æ’ä»¶<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7lk030znhw.webp\" alt=\"X\"></p>\n<h2 id=\"æ·»åŠ æµæ°´çº¿\"><a href=\"#æ·»åŠ æµæ°´çº¿\" class=\"headerlink\" title=\"æ·»åŠ æµæ°´çº¿\"></a>æ·»åŠ æµæ°´çº¿</h2><p>åœ¨å·¦ä¾§èœå•<code>æ–°å»ºItem</code>æ„å»ºï¼Œå¤§è‡´æµç¨‹å°±æ˜¯</p>\n<ol>\n<li>æ·»åŠ <code>git</code>åœ°å€ï¼Œé…ç½®ä½ çš„è´¦å·å¯†ç </li>\n<li>é…ç½®å¯¹åº”çš„æ“ä½œï¼Œå¦‚ï¼šé€‰æ‹©åˆ†æ”¯ï¼Œé€‰æ‹©å‘å¸ƒç¯å¢ƒ</li>\n<li>é…ç½®æ„å»ºå‘½ä»¤ç­‰ï¼Œå°†æ‰“åŒ…åçš„æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å¯¹åº”çš„åŸŸå</li>\n<li>é…ç½®å‘å¸ƒä¹‹åå‘é€çš„é‚®ä»¶ä¿¡æ¯ï¼Œè¿™æ ·å°±èƒ½æ”¶åˆ°æˆåŠŸæˆ–è€…å¤±è´¥çš„é‚®ä»¶</li>\n</ol>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7sn7yhfzn8.webp\" alt=\"X\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.1ap0565tsc.webp\" alt=\"X\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.5j47ezwx9u.webp\" alt=\"X\"></p>\n<h2 id=\"åˆ›å»ºç½‘ç«™\"><a href=\"#åˆ›å»ºç½‘ç«™\" class=\"headerlink\" title=\"åˆ›å»ºç½‘ç«™\"></a>åˆ›å»ºç½‘ç«™</h2><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7i0e5d1o0o.webp\" alt=\"X\"></p>\n<p>æœ€ååœ¨<code>jenkins</code>é…ç½®<code>shell</code><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.9rjeoul3sr.webp\" alt=\"X\"><br>è§£é‡Šä¸Šå›¾ï¼š</p>\n<ol>\n<li>ç³»ç»Ÿè¿ç”¨çš„æ˜¯<code>docker</code>, é‚£ä¹ˆå°±ç”¨<code>docker cp</code>å½“å‰çš„ç›®å½•æˆ–è€…çš„ dist çš„ç›®å½•</li>\n<li>å¤åˆ¶åˆ°å¯¹åº”å®¹å™¨çš„ç½‘ç«™</li>\n<li><code>1Panel-openresty-qVw7</code>æ˜¯<code>docker</code>å®¹å™¨ï¼Œä¹Ÿæ˜¯<code>1panel</code>å®¹å™¨</li>\n<li><code>/www/sites/154.37.212.237</code>æ˜¯åˆšåˆšåˆ›å»ºçš„ç½‘ç«™, <code>index</code>æ˜¯è¿™ä¸ªç½‘ç«™çš„æ ¹ç›®å½•ï¼›</li>\n</ol>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.9nzsr4zaeb.webp\" alt=\"X\"></p>\n<p>é‚£ä¹ˆè®¾ç½®å®Œæˆä¹‹åï¼Œå°±å¯ä»¥é‡æ–°æ‰“å¼€ç½‘é¡µå°±å¯ä»¥äº†ï¼›<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.39l6vjlekc.webp\" alt=\"X\"></p>\n<p>å…³äº<code>jenkins</code>çš„ç®€å•ä½¿ç”¨å°±åˆ°è¿™é‡Œäº†ï¼Œå¦‚æœå–œæ¬¢<code>1Panel</code>é‚£å°±è‡ªå·±èŠ±æ—¶é—´ç ”ç©¶ä¸€ä¸‹å§ï¼</p>\n","excerpt":"","more":"<p>ä¸Šç¯‡æ–‡ç« è¯´äº†ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨<code>å®å¡”</code>åœ¨æœåŠ¡å™¨éƒ¨ç½²å‰ç«¯çš„é¡¹ç›®ï¼Œä½†æ˜¯è¿™ç§åšæ³•è™½ç„¶ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œæ¯æ¬¡è¿­ä»£æ›´æ–°æ‰“åŒ…éƒ½éœ€è¦æ‰‹åŠ¨ä¸Šä¼ <code>dist</code>æ–‡ä»¶åˆ°æœåŠ¡å™¨ä¸‹ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥è¯´ä¸€ä¸‹ä½¿ç”¨<code>jenkins</code>åœ¨æœåŠ¡å™¨ä¸Šå‘å¸ƒé¡¹ç›®ï¼›</p>\n<p><code>1panel</code>éœ€è¦ä½¿ç”¨<code>docker</code>ç¯å¢ƒå®‰è£…ï¼Œå…·ä½“<a href=\"https://1panel.cn/\">çœ‹å®˜ç½‘</a></p>\n<p>æ¥ä¸‹æ¥å…·ä½“è¯´ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨<code>jenkins</code>éƒ¨ç½²å‰ç«¯é¡¹ç›®</p>\n<h2 id=\"å®‰è£…-Jenkins\"><a href=\"#å®‰è£…-Jenkins\" class=\"headerlink\" title=\"å®‰è£… Jenkins\"></a>å®‰è£… Jenkins</h2><p>é¦–å…ˆåœ¨<code>åº”ç”¨å•†åº—</code>æœç´¢<code>jenkins</code>ï¼Œç„¶åè¿›è¡Œå®‰è£…ï¼Œæ¥ç€å‚»ç“œå¼å®‰è£…ï¼Œå½“ç„¶è¦å‹¾é€‰å¤–éƒ¨ç«¯å£ï¼Œè¿™æ ·æ‰èƒ½è®¿é—®<code>http:xxxx:8080</code>,ç­‰å¾…å…¶å®‰è£…å®Œæˆï¼Œå®‰è£…æˆåŠŸä¹‹åï¼Œå¦‚ä¸‹å›¾:</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.pfcitpy1g.webp\" alt=\"x\"></p>\n<p>æ‰¾åˆ°å›¾ä¸­çš„<code>æœåŠ¡ç«¯å£</code>æŒ‰é’®ï¼Œæ‰“å¼€ç½‘é¡µå¦‚å›¾ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.45hoax4ywn.webp\" alt=\"X\"><br>è¿™é‡Œéœ€è¦è¾“å…¥å¯†ç ï¼Œå¯†ç çš„å­˜æ”¾åœ°å€åœ¨ç½‘é¡µä¸­å·²ç»æ ‡æ˜ï¼Œåªéœ€è¦åœ¨æœåŠ¡å™¨ä¸Šæ‰¾åˆ°å³å¯ï¼Œä½†æ˜¯è¿™é‡Œæˆ‘ä»¬åœ¨<code>1panel</code>ä¸­æ‰¾åˆ°å›¾ä¸€ä¸­çš„<code>æ—¥å¿—</code>æŒ‰é’®ï¼Œå¦‚å›¾ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.m2ytak8q.webp\" alt=\"X\"><br>æ¥ç€åœ¨<code>jenkins</code>å‚»ç“œå¼å®‰è£…å³å¯ï¼Œå¦‚å›¾ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.6t74la2a1r.webp\" alt=\"X\"></p>\n<p>ç„¶åç­‰å¾…<code>jenkins</code>å®‰è£…å®Œæˆ<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.5c0zjj3435.webp\" alt=\"X\"><br>è‡ªè¡Œé…ç½®ç”¨æˆ·å<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.99td07jjq5.webp\" alt=\"X\"><br>å®‰è£…å¯¹åº”çš„æ’ä»¶, <code>Nodejs, Git Parameter, Publish Over SSH</code>å½“ç„¶æ‚¨ä¹Ÿå°±å¯ä»¥å®‰è£…éœ€è¦çš„æ’ä»¶<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7lk030znhw.webp\" alt=\"X\"></p>\n<h2 id=\"æ·»åŠ æµæ°´çº¿\"><a href=\"#æ·»åŠ æµæ°´çº¿\" class=\"headerlink\" title=\"æ·»åŠ æµæ°´çº¿\"></a>æ·»åŠ æµæ°´çº¿</h2><p>åœ¨å·¦ä¾§èœå•<code>æ–°å»ºItem</code>æ„å»ºï¼Œå¤§è‡´æµç¨‹å°±æ˜¯</p>\n<ol>\n<li>æ·»åŠ <code>git</code>åœ°å€ï¼Œé…ç½®ä½ çš„è´¦å·å¯†ç </li>\n<li>é…ç½®å¯¹åº”çš„æ“ä½œï¼Œå¦‚ï¼šé€‰æ‹©åˆ†æ”¯ï¼Œé€‰æ‹©å‘å¸ƒç¯å¢ƒ</li>\n<li>é…ç½®æ„å»ºå‘½ä»¤ç­‰ï¼Œå°†æ‰“åŒ…åçš„æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å¯¹åº”çš„åŸŸå</li>\n<li>é…ç½®å‘å¸ƒä¹‹åå‘é€çš„é‚®ä»¶ä¿¡æ¯ï¼Œè¿™æ ·å°±èƒ½æ”¶åˆ°æˆåŠŸæˆ–è€…å¤±è´¥çš„é‚®ä»¶</li>\n</ol>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7sn7yhfzn8.webp\" alt=\"X\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.1ap0565tsc.webp\" alt=\"X\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.5j47ezwx9u.webp\" alt=\"X\"></p>\n<h2 id=\"åˆ›å»ºç½‘ç«™\"><a href=\"#åˆ›å»ºç½‘ç«™\" class=\"headerlink\" title=\"åˆ›å»ºç½‘ç«™\"></a>åˆ›å»ºç½‘ç«™</h2><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7i0e5d1o0o.webp\" alt=\"X\"></p>\n<p>æœ€ååœ¨<code>jenkins</code>é…ç½®<code>shell</code><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.9rjeoul3sr.webp\" alt=\"X\"><br>è§£é‡Šä¸Šå›¾ï¼š</p>\n<ol>\n<li>ç³»ç»Ÿè¿ç”¨çš„æ˜¯<code>docker</code>, é‚£ä¹ˆå°±ç”¨<code>docker cp</code>å½“å‰çš„ç›®å½•æˆ–è€…çš„ dist çš„ç›®å½•</li>\n<li>å¤åˆ¶åˆ°å¯¹åº”å®¹å™¨çš„ç½‘ç«™</li>\n<li><code>1Panel-openresty-qVw7</code>æ˜¯<code>docker</code>å®¹å™¨ï¼Œä¹Ÿæ˜¯<code>1panel</code>å®¹å™¨</li>\n<li><code>/www/sites/154.37.212.237</code>æ˜¯åˆšåˆšåˆ›å»ºçš„ç½‘ç«™, <code>index</code>æ˜¯è¿™ä¸ªç½‘ç«™çš„æ ¹ç›®å½•ï¼›</li>\n</ol>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.9nzsr4zaeb.webp\" alt=\"X\"></p>\n<p>é‚£ä¹ˆè®¾ç½®å®Œæˆä¹‹åï¼Œå°±å¯ä»¥é‡æ–°æ‰“å¼€ç½‘é¡µå°±å¯ä»¥äº†ï¼›<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.39l6vjlekc.webp\" alt=\"X\"></p>\n<p>å…³äº<code>jenkins</code>çš„ç®€å•ä½¿ç”¨å°±åˆ°è¿™é‡Œäº†ï¼Œå¦‚æœå–œæ¬¢<code>1Panel</code>é‚£å°±è‡ªå·±èŠ±æ—¶é—´ç ”ç©¶ä¸€ä¸‹å§ï¼</p>\n"},{"title":"æœåŠ¡å™¨/è¿è¥-pm2","abbrlink":"b334f528","date":"2024-07-08T01:05:01.000Z","_content":"\n# ä½¿ç”¨åœºæ™¯\n\né¡¹ç›®ä½¿ç”¨ node å¼€å‘, å¼€å‘è¿‡ç¨‹ä¸­ä¼šé‡åˆ° node ä¸€æ—¦æŠ¥é”™å°±ä¼šåœæ­¢æœåŠ¡çš„é—®é¢˜ï¼Œæ¯æ¬¡è¿˜è¦é‡æ–°å¯åŠ¨ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œä¹Ÿæ˜¯éå¸¸ä¸æ–¹ä¾¿çš„ï¼Œ ä¸ºäº†è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œå»ºè®®ä½¿ç”¨ pm2 å»ç®¡ç†é¡¹ç›®ã€‚\n\n## PM2 æ˜¯ä»€ä¹ˆï¼Ÿ\n\nPM2ï¼ˆProcess Manager 2 ï¼‰æ˜¯å…·æœ‰å†…ç½®è´Ÿè½½å‡è¡¡å™¨çš„ Node.js åº”ç”¨ç¨‹åºçš„ç”Ÿäº§è¿è¡Œæ—¶å’Œè¿›ç¨‹ç®¡ç†å™¨ã€‚ å®ƒå…è®¸æ‚¨æ°¸ä¹…ä¿æŒåº”ç”¨ç¨‹åºæ´»è·ƒï¼Œæ— éœ€åœæœºå³å¯é‡æ–°åŠ è½½å®ƒä»¬ï¼Œå¹¶ä¿ƒè¿›å¸¸è§çš„ Devops ä»»åŠ¡ã€‚\n\n### PM2 ç‰¹æ€§\n\n- æ—¥å¿—ç®¡ç†ï¼šåº”ç”¨ç¨‹åºæ—¥å¿—ä¿å­˜åœ¨æœåŠ¡å™¨çš„ç¡¬ç›˜ä¸­~/.pm2/logs/\n- è´Ÿè½½å‡è¡¡ï¼šPM2 å¯ä»¥é€šè¿‡åˆ›å»ºå…±äº«åŒä¸€æœåŠ¡å™¨ç«¯å£çš„å¤šä¸ªå­è¿›ç¨‹æ¥æ‰©å±•æ‚¨çš„åº”ç”¨ç¨‹åºã€‚è¿™æ ·åšè¿˜å…è®¸æ‚¨ä»¥é›¶ç§’åœæœºæ—¶é—´é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºã€‚\n- ç»ˆç«¯ç›‘æ§ï¼šå¯ä»¥åœ¨ç»ˆç«¯ä¸­ç›‘æ§æ‚¨çš„åº”ç”¨ç¨‹åºå¹¶æ£€æŸ¥åº”ç”¨ç¨‹åºè¿è¡ŒçŠ¶å†µï¼ˆCPU ä½¿ç”¨ç‡ï¼Œä½¿ç”¨çš„å†…å­˜ï¼Œè¯·æ±‚/åˆ†é’Ÿç­‰ï¼‰ã€‚\n- SSH éƒ¨ç½²ï¼šè‡ªåŠ¨éƒ¨ç½²ï¼Œé¿å…é€ä¸ªåœ¨æ‰€æœ‰æœåŠ¡å™¨ä¸­è¿›è¡Œ sshã€‚\n- é™æ€æœåŠ¡ï¼šæ”¯æŒé™æ€æœåŠ¡å™¨åŠŸèƒ½\n- å¤šå¹³å°æ”¯æŒï¼šé€‚ç”¨äº Linuxï¼ˆç¨³å®šï¼‰å’Œ macOSï¼ˆç¨³å®šï¼‰å’Œ Windowsï¼ˆç¨³å®šï¼‰\n\n### å®‰è£…ä½¿ç”¨\n\n```sh\n// npmæ–¹å¼\nnpm install pm2 -g\n\n// yarnæ–¹å¼\nyarn global add pm2\n```\n\n### å¯åŠ¨æœåŠ¡\n\n```sh\n// å¯åŠ¨\npm2 start app.js\n\n// æ›´æ”¹åå­—å¯åŠ¨\npm2 start app.js --name xxx\n```\n\n### åœæ­¢æœåŠ¡\n\n```sh\n// åœæ­¢å¯¹åº”çš„idæœåŠ¡\npm2 stop [id]\n\n// åœæ­¢æ‰€æœ‰\npm2 stop all\n\n// åœæ­¢å½“å‰æœåŠ¡\npm2 stop [AppName]\n```\n\n### åˆ é™¤æœåŠ¡\n\n```sh\n// åˆ é™¤å¯¹åº”çš„idæœåŠ¡\npm2 delete [id]\n\n// åˆ é™¤æ‰€æœ‰\npm2 delete all\n\n// åˆ é™¤å½“å‰æœåŠ¡\npm2 delete [AppName]\n```\n\n### å¼€æœºè‡ªå¯\n\n```sh\n// å¼€æœºè‡ªå¯\npm2 startup\n```\n\n### æ›´æ–° pm2\n\n```sh\npm2 updatePM2\npm2 update\n```\n\n### ç›‘å¬é¡¹ç›®\n\n```sh\n// å½“é¡¹ç›®æ–‡ä»¶å‘ç”Ÿå˜åŒ–å, è‡ªåŠ¨é‡å¯\npm2 start app.js --watch\n```\n\n### é™æ€æœåŠ¡å™¨\n\n```sh\n// å°†ç›®å½•distä½œä¸ºé™æ€æœåŠ¡å™¨æ ¹ç›®å½•ï¼Œç«¯å£ä¸º9090\npm2 serve ./dist 9090\n```\n\n### é‡å¯æœåŠ¡\n\n```sh\n// é‡å¯å¯¹åº”çš„idæœåŠ¡\npm2 reload  [id]\n\n// é‡å¯æ‰€æœ‰\npm2 reload  all\n\n// é‡å¯å½“å‰æœåŠ¡\npm2 reload  [AppName]\n```\n\n### æŸ¥çœ‹ pm2 å¯åŠ¨çš„é¡¹ç›®\n\n```sh\npm2 list\n```\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112161839.4qralqpkna.webp)\n\n### æ˜¾ç¤ºæ¯ä¸ªåº”ç”¨ç¨‹åºå ç”¨æƒ…å†µ\n\n```sh\npm2 monit\n```\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112162030.5mns170i11.webp)\n\n### æ˜¾ç¤ºåº”ç”¨ç¨‹åºæ‰€æœ‰ä¿¡æ¯\n\n```sh\n// å¯¹åº”çš„idæœåŠ¡\npm2 show  [id]\n\n// å½“å‰æœåŠ¡\npm2 show  [AppName]\n```\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112162232.64dtps30al.webp)\n\n### æ—¥å¿—æŸ¥çœ‹\n\n```sh\n// å¯¹åº”çš„idæœåŠ¡\npm2 logs  [id]\n\n// æ‰€æœ‰\npm2 logs\n\n// å½“å‰æœåŠ¡\npm2 logs  [AppName]\n```\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112161915.2h8a298d3g.webp)\n\n## å‚è€ƒèµ„æ–™\n\n- [pm2](https://pm2.keymetrics.io/)\n- [pm2 ä¸­æ–‡æ–‡æ¡£](https://www.npmjs.com/package/pm2)\n- [PM2 ä»‹ç»åŠç®€æ˜“ä½¿ç”¨æ‰‹å†Œ](https://auan.cn/internet/2059.html)\n","source":"_posts/æŠ€èƒ½å°å†Œ/æœåŠ¡å™¨-è¿è¥/pm2.md","raw":"---\ntitle: æœåŠ¡å™¨/è¿è¥-pm2\nabbrlink: b334f528\ndate: 2024-07-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - æœåŠ¡å™¨/è¿è¥\n---\n\n# ä½¿ç”¨åœºæ™¯\n\né¡¹ç›®ä½¿ç”¨ node å¼€å‘, å¼€å‘è¿‡ç¨‹ä¸­ä¼šé‡åˆ° node ä¸€æ—¦æŠ¥é”™å°±ä¼šåœæ­¢æœåŠ¡çš„é—®é¢˜ï¼Œæ¯æ¬¡è¿˜è¦é‡æ–°å¯åŠ¨ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œä¹Ÿæ˜¯éå¸¸ä¸æ–¹ä¾¿çš„ï¼Œ ä¸ºäº†è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œå»ºè®®ä½¿ç”¨ pm2 å»ç®¡ç†é¡¹ç›®ã€‚\n\n## PM2 æ˜¯ä»€ä¹ˆï¼Ÿ\n\nPM2ï¼ˆProcess Manager 2 ï¼‰æ˜¯å…·æœ‰å†…ç½®è´Ÿè½½å‡è¡¡å™¨çš„ Node.js åº”ç”¨ç¨‹åºçš„ç”Ÿäº§è¿è¡Œæ—¶å’Œè¿›ç¨‹ç®¡ç†å™¨ã€‚ å®ƒå…è®¸æ‚¨æ°¸ä¹…ä¿æŒåº”ç”¨ç¨‹åºæ´»è·ƒï¼Œæ— éœ€åœæœºå³å¯é‡æ–°åŠ è½½å®ƒä»¬ï¼Œå¹¶ä¿ƒè¿›å¸¸è§çš„ Devops ä»»åŠ¡ã€‚\n\n### PM2 ç‰¹æ€§\n\n- æ—¥å¿—ç®¡ç†ï¼šåº”ç”¨ç¨‹åºæ—¥å¿—ä¿å­˜åœ¨æœåŠ¡å™¨çš„ç¡¬ç›˜ä¸­~/.pm2/logs/\n- è´Ÿè½½å‡è¡¡ï¼šPM2 å¯ä»¥é€šè¿‡åˆ›å»ºå…±äº«åŒä¸€æœåŠ¡å™¨ç«¯å£çš„å¤šä¸ªå­è¿›ç¨‹æ¥æ‰©å±•æ‚¨çš„åº”ç”¨ç¨‹åºã€‚è¿™æ ·åšè¿˜å…è®¸æ‚¨ä»¥é›¶ç§’åœæœºæ—¶é—´é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºã€‚\n- ç»ˆç«¯ç›‘æ§ï¼šå¯ä»¥åœ¨ç»ˆç«¯ä¸­ç›‘æ§æ‚¨çš„åº”ç”¨ç¨‹åºå¹¶æ£€æŸ¥åº”ç”¨ç¨‹åºè¿è¡ŒçŠ¶å†µï¼ˆCPU ä½¿ç”¨ç‡ï¼Œä½¿ç”¨çš„å†…å­˜ï¼Œè¯·æ±‚/åˆ†é’Ÿç­‰ï¼‰ã€‚\n- SSH éƒ¨ç½²ï¼šè‡ªåŠ¨éƒ¨ç½²ï¼Œé¿å…é€ä¸ªåœ¨æ‰€æœ‰æœåŠ¡å™¨ä¸­è¿›è¡Œ sshã€‚\n- é™æ€æœåŠ¡ï¼šæ”¯æŒé™æ€æœåŠ¡å™¨åŠŸèƒ½\n- å¤šå¹³å°æ”¯æŒï¼šé€‚ç”¨äº Linuxï¼ˆç¨³å®šï¼‰å’Œ macOSï¼ˆç¨³å®šï¼‰å’Œ Windowsï¼ˆç¨³å®šï¼‰\n\n### å®‰è£…ä½¿ç”¨\n\n```sh\n// npmæ–¹å¼\nnpm install pm2 -g\n\n// yarnæ–¹å¼\nyarn global add pm2\n```\n\n### å¯åŠ¨æœåŠ¡\n\n```sh\n// å¯åŠ¨\npm2 start app.js\n\n// æ›´æ”¹åå­—å¯åŠ¨\npm2 start app.js --name xxx\n```\n\n### åœæ­¢æœåŠ¡\n\n```sh\n// åœæ­¢å¯¹åº”çš„idæœåŠ¡\npm2 stop [id]\n\n// åœæ­¢æ‰€æœ‰\npm2 stop all\n\n// åœæ­¢å½“å‰æœåŠ¡\npm2 stop [AppName]\n```\n\n### åˆ é™¤æœåŠ¡\n\n```sh\n// åˆ é™¤å¯¹åº”çš„idæœåŠ¡\npm2 delete [id]\n\n// åˆ é™¤æ‰€æœ‰\npm2 delete all\n\n// åˆ é™¤å½“å‰æœåŠ¡\npm2 delete [AppName]\n```\n\n### å¼€æœºè‡ªå¯\n\n```sh\n// å¼€æœºè‡ªå¯\npm2 startup\n```\n\n### æ›´æ–° pm2\n\n```sh\npm2 updatePM2\npm2 update\n```\n\n### ç›‘å¬é¡¹ç›®\n\n```sh\n// å½“é¡¹ç›®æ–‡ä»¶å‘ç”Ÿå˜åŒ–å, è‡ªåŠ¨é‡å¯\npm2 start app.js --watch\n```\n\n### é™æ€æœåŠ¡å™¨\n\n```sh\n// å°†ç›®å½•distä½œä¸ºé™æ€æœåŠ¡å™¨æ ¹ç›®å½•ï¼Œç«¯å£ä¸º9090\npm2 serve ./dist 9090\n```\n\n### é‡å¯æœåŠ¡\n\n```sh\n// é‡å¯å¯¹åº”çš„idæœåŠ¡\npm2 reload  [id]\n\n// é‡å¯æ‰€æœ‰\npm2 reload  all\n\n// é‡å¯å½“å‰æœåŠ¡\npm2 reload  [AppName]\n```\n\n### æŸ¥çœ‹ pm2 å¯åŠ¨çš„é¡¹ç›®\n\n```sh\npm2 list\n```\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112161839.4qralqpkna.webp)\n\n### æ˜¾ç¤ºæ¯ä¸ªåº”ç”¨ç¨‹åºå ç”¨æƒ…å†µ\n\n```sh\npm2 monit\n```\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112162030.5mns170i11.webp)\n\n### æ˜¾ç¤ºåº”ç”¨ç¨‹åºæ‰€æœ‰ä¿¡æ¯\n\n```sh\n// å¯¹åº”çš„idæœåŠ¡\npm2 show  [id]\n\n// å½“å‰æœåŠ¡\npm2 show  [AppName]\n```\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112162232.64dtps30al.webp)\n\n### æ—¥å¿—æŸ¥çœ‹\n\n```sh\n// å¯¹åº”çš„idæœåŠ¡\npm2 logs  [id]\n\n// æ‰€æœ‰\npm2 logs\n\n// å½“å‰æœåŠ¡\npm2 logs  [AppName]\n```\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112161915.2h8a298d3g.webp)\n\n## å‚è€ƒèµ„æ–™\n\n- [pm2](https://pm2.keymetrics.io/)\n- [pm2 ä¸­æ–‡æ–‡æ¡£](https://www.npmjs.com/package/pm2)\n- [PM2 ä»‹ç»åŠç®€æ˜“ä½¿ç”¨æ‰‹å†Œ](https://auan.cn/internet/2059.html)\n","slug":"æŠ€èƒ½å°å†Œ/æœåŠ¡å™¨-è¿è¥/pm2","published":1,"updated":"2025-03-13T10:16:17.978Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j2004ofg9mdpe02cnp","content":"<h1 id=\"ä½¿ç”¨åœºæ™¯\"><a href=\"#ä½¿ç”¨åœºæ™¯\" class=\"headerlink\" title=\"ä½¿ç”¨åœºæ™¯\"></a>ä½¿ç”¨åœºæ™¯</h1><p>é¡¹ç›®ä½¿ç”¨ node å¼€å‘, å¼€å‘è¿‡ç¨‹ä¸­ä¼šé‡åˆ° node ä¸€æ—¦æŠ¥é”™å°±ä¼šåœæ­¢æœåŠ¡çš„é—®é¢˜ï¼Œæ¯æ¬¡è¿˜è¦é‡æ–°å¯åŠ¨ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œä¹Ÿæ˜¯éå¸¸ä¸æ–¹ä¾¿çš„ï¼Œ ä¸ºäº†è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œå»ºè®®ä½¿ç”¨ pm2 å»ç®¡ç†é¡¹ç›®ã€‚</p>\n<h2 id=\"PM2-æ˜¯ä»€ä¹ˆï¼Ÿ\"><a href=\"#PM2-æ˜¯ä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"PM2 æ˜¯ä»€ä¹ˆï¼Ÿ\"></a>PM2 æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>PM2ï¼ˆProcess Manager 2 ï¼‰æ˜¯å…·æœ‰å†…ç½®è´Ÿè½½å‡è¡¡å™¨çš„ Node.js åº”ç”¨ç¨‹åºçš„ç”Ÿäº§è¿è¡Œæ—¶å’Œè¿›ç¨‹ç®¡ç†å™¨ã€‚ å®ƒå…è®¸æ‚¨æ°¸ä¹…ä¿æŒåº”ç”¨ç¨‹åºæ´»è·ƒï¼Œæ— éœ€åœæœºå³å¯é‡æ–°åŠ è½½å®ƒä»¬ï¼Œå¹¶ä¿ƒè¿›å¸¸è§çš„ Devops ä»»åŠ¡ã€‚</p>\n<h3 id=\"PM2-ç‰¹æ€§\"><a href=\"#PM2-ç‰¹æ€§\" class=\"headerlink\" title=\"PM2 ç‰¹æ€§\"></a>PM2 ç‰¹æ€§</h3><ul>\n<li>æ—¥å¿—ç®¡ç†ï¼šåº”ç”¨ç¨‹åºæ—¥å¿—ä¿å­˜åœ¨æœåŠ¡å™¨çš„ç¡¬ç›˜ä¸­~&#x2F;.pm2&#x2F;logs&#x2F;</li>\n<li>è´Ÿè½½å‡è¡¡ï¼šPM2 å¯ä»¥é€šè¿‡åˆ›å»ºå…±äº«åŒä¸€æœåŠ¡å™¨ç«¯å£çš„å¤šä¸ªå­è¿›ç¨‹æ¥æ‰©å±•æ‚¨çš„åº”ç”¨ç¨‹åºã€‚è¿™æ ·åšè¿˜å…è®¸æ‚¨ä»¥é›¶ç§’åœæœºæ—¶é—´é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºã€‚</li>\n<li>ç»ˆç«¯ç›‘æ§ï¼šå¯ä»¥åœ¨ç»ˆç«¯ä¸­ç›‘æ§æ‚¨çš„åº”ç”¨ç¨‹åºå¹¶æ£€æŸ¥åº”ç”¨ç¨‹åºè¿è¡ŒçŠ¶å†µï¼ˆCPU ä½¿ç”¨ç‡ï¼Œä½¿ç”¨çš„å†…å­˜ï¼Œè¯·æ±‚&#x2F;åˆ†é’Ÿç­‰ï¼‰ã€‚</li>\n<li>SSH éƒ¨ç½²ï¼šè‡ªåŠ¨éƒ¨ç½²ï¼Œé¿å…é€ä¸ªåœ¨æ‰€æœ‰æœåŠ¡å™¨ä¸­è¿›è¡Œ sshã€‚</li>\n<li>é™æ€æœåŠ¡ï¼šæ”¯æŒé™æ€æœåŠ¡å™¨åŠŸèƒ½</li>\n<li>å¤šå¹³å°æ”¯æŒï¼šé€‚ç”¨äº Linuxï¼ˆç¨³å®šï¼‰å’Œ macOSï¼ˆç¨³å®šï¼‰å’Œ Windowsï¼ˆç¨³å®šï¼‰</li>\n</ul>\n<h3 id=\"å®‰è£…ä½¿ç”¨\"><a href=\"#å®‰è£…ä½¿ç”¨\" class=\"headerlink\" title=\"å®‰è£…ä½¿ç”¨\"></a>å®‰è£…ä½¿ç”¨</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// npmæ–¹å¼</span><br><span class=\"line\">npm install pm2 -g</span><br><span class=\"line\"></span><br><span class=\"line\">// yarnæ–¹å¼</span><br><span class=\"line\">yarn global add pm2</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¯åŠ¨æœåŠ¡\"><a href=\"#å¯åŠ¨æœåŠ¡\" class=\"headerlink\" title=\"å¯åŠ¨æœåŠ¡\"></a>å¯åŠ¨æœåŠ¡</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å¯åŠ¨</span><br><span class=\"line\">pm2 start app.js</span><br><span class=\"line\"></span><br><span class=\"line\">// æ›´æ”¹åå­—å¯åŠ¨</span><br><span class=\"line\">pm2 start app.js --name xxx</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åœæ­¢æœåŠ¡\"><a href=\"#åœæ­¢æœåŠ¡\" class=\"headerlink\" title=\"åœæ­¢æœåŠ¡\"></a>åœæ­¢æœåŠ¡</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// åœæ­¢å¯¹åº”çš„<span class=\"built_in\">id</span>æœåŠ¡</span><br><span class=\"line\">pm2 stop [<span class=\"built_in\">id</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">// åœæ­¢æ‰€æœ‰</span><br><span class=\"line\">pm2 stop all</span><br><span class=\"line\"></span><br><span class=\"line\">// åœæ­¢å½“å‰æœåŠ¡</span><br><span class=\"line\">pm2 stop [AppName]</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åˆ é™¤æœåŠ¡\"><a href=\"#åˆ é™¤æœåŠ¡\" class=\"headerlink\" title=\"åˆ é™¤æœåŠ¡\"></a>åˆ é™¤æœåŠ¡</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// åˆ é™¤å¯¹åº”çš„<span class=\"built_in\">id</span>æœåŠ¡</span><br><span class=\"line\">pm2 delete [<span class=\"built_in\">id</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">// åˆ é™¤æ‰€æœ‰</span><br><span class=\"line\">pm2 delete all</span><br><span class=\"line\"></span><br><span class=\"line\">// åˆ é™¤å½“å‰æœåŠ¡</span><br><span class=\"line\">pm2 delete [AppName]</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¼€æœºè‡ªå¯\"><a href=\"#å¼€æœºè‡ªå¯\" class=\"headerlink\" title=\"å¼€æœºè‡ªå¯\"></a>å¼€æœºè‡ªå¯</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å¼€æœºè‡ªå¯</span><br><span class=\"line\">pm2 startup</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ›´æ–°-pm2\"><a href=\"#æ›´æ–°-pm2\" class=\"headerlink\" title=\"æ›´æ–° pm2\"></a>æ›´æ–° pm2</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pm2 updatePM2</span><br><span class=\"line\">pm2 update</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ç›‘å¬é¡¹ç›®\"><a href=\"#ç›‘å¬é¡¹ç›®\" class=\"headerlink\" title=\"ç›‘å¬é¡¹ç›®\"></a>ç›‘å¬é¡¹ç›®</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å½“é¡¹ç›®æ–‡ä»¶å‘ç”Ÿå˜åŒ–å, è‡ªåŠ¨é‡å¯</span><br><span class=\"line\">pm2 start app.js --watch</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"é™æ€æœåŠ¡å™¨\"><a href=\"#é™æ€æœåŠ¡å™¨\" class=\"headerlink\" title=\"é™æ€æœåŠ¡å™¨\"></a>é™æ€æœåŠ¡å™¨</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å°†ç›®å½•distä½œä¸ºé™æ€æœåŠ¡å™¨æ ¹ç›®å½•ï¼Œç«¯å£ä¸º9090</span><br><span class=\"line\">pm2 serve ./dist 9090</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"é‡å¯æœåŠ¡\"><a href=\"#é‡å¯æœåŠ¡\" class=\"headerlink\" title=\"é‡å¯æœåŠ¡\"></a>é‡å¯æœåŠ¡</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// é‡å¯å¯¹åº”çš„<span class=\"built_in\">id</span>æœåŠ¡</span><br><span class=\"line\">pm2 reload  [<span class=\"built_in\">id</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">// é‡å¯æ‰€æœ‰</span><br><span class=\"line\">pm2 reload  all</span><br><span class=\"line\"></span><br><span class=\"line\">// é‡å¯å½“å‰æœåŠ¡</span><br><span class=\"line\">pm2 reload  [AppName]</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æŸ¥çœ‹-pm2-å¯åŠ¨çš„é¡¹ç›®\"><a href=\"#æŸ¥çœ‹-pm2-å¯åŠ¨çš„é¡¹ç›®\" class=\"headerlink\" title=\"æŸ¥çœ‹ pm2 å¯åŠ¨çš„é¡¹ç›®\"></a>æŸ¥çœ‹ pm2 å¯åŠ¨çš„é¡¹ç›®</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pm2 list</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112161839.4qralqpkna.webp\" alt=\"x\"></p>\n<h3 id=\"æ˜¾ç¤ºæ¯ä¸ªåº”ç”¨ç¨‹åºå ç”¨æƒ…å†µ\"><a href=\"#æ˜¾ç¤ºæ¯ä¸ªåº”ç”¨ç¨‹åºå ç”¨æƒ…å†µ\" class=\"headerlink\" title=\"æ˜¾ç¤ºæ¯ä¸ªåº”ç”¨ç¨‹åºå ç”¨æƒ…å†µ\"></a>æ˜¾ç¤ºæ¯ä¸ªåº”ç”¨ç¨‹åºå ç”¨æƒ…å†µ</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pm2 monit</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112162030.5mns170i11.webp\" alt=\"x\"></p>\n<h3 id=\"æ˜¾ç¤ºåº”ç”¨ç¨‹åºæ‰€æœ‰ä¿¡æ¯\"><a href=\"#æ˜¾ç¤ºåº”ç”¨ç¨‹åºæ‰€æœ‰ä¿¡æ¯\" class=\"headerlink\" title=\"æ˜¾ç¤ºåº”ç”¨ç¨‹åºæ‰€æœ‰ä¿¡æ¯\"></a>æ˜¾ç¤ºåº”ç”¨ç¨‹åºæ‰€æœ‰ä¿¡æ¯</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å¯¹åº”çš„<span class=\"built_in\">id</span>æœåŠ¡</span><br><span class=\"line\">pm2 show  [<span class=\"built_in\">id</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">// å½“å‰æœåŠ¡</span><br><span class=\"line\">pm2 show  [AppName]</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112162232.64dtps30al.webp\" alt=\"x\"></p>\n<h3 id=\"æ—¥å¿—æŸ¥çœ‹\"><a href=\"#æ—¥å¿—æŸ¥çœ‹\" class=\"headerlink\" title=\"æ—¥å¿—æŸ¥çœ‹\"></a>æ—¥å¿—æŸ¥çœ‹</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å¯¹åº”çš„<span class=\"built_in\">id</span>æœåŠ¡</span><br><span class=\"line\">pm2 logs  [<span class=\"built_in\">id</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">// æ‰€æœ‰</span><br><span class=\"line\">pm2 logs</span><br><span class=\"line\"></span><br><span class=\"line\">// å½“å‰æœåŠ¡</span><br><span class=\"line\">pm2 logs  [AppName]</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112161915.2h8a298d3g.webp\" alt=\"x\"></p>\n<h2 id=\"å‚è€ƒèµ„æ–™\"><a href=\"#å‚è€ƒèµ„æ–™\" class=\"headerlink\" title=\"å‚è€ƒèµ„æ–™\"></a>å‚è€ƒèµ„æ–™</h2><ul>\n<li><a href=\"https://pm2.keymetrics.io/\">pm2</a></li>\n<li><a href=\"https://www.npmjs.com/package/pm2\">pm2 ä¸­æ–‡æ–‡æ¡£</a></li>\n<li><a href=\"https://auan.cn/internet/2059.html\">PM2 ä»‹ç»åŠç®€æ˜“ä½¿ç”¨æ‰‹å†Œ</a></li>\n</ul>\n","excerpt":"","more":"<h1 id=\"ä½¿ç”¨åœºæ™¯\"><a href=\"#ä½¿ç”¨åœºæ™¯\" class=\"headerlink\" title=\"ä½¿ç”¨åœºæ™¯\"></a>ä½¿ç”¨åœºæ™¯</h1><p>é¡¹ç›®ä½¿ç”¨ node å¼€å‘, å¼€å‘è¿‡ç¨‹ä¸­ä¼šé‡åˆ° node ä¸€æ—¦æŠ¥é”™å°±ä¼šåœæ­¢æœåŠ¡çš„é—®é¢˜ï¼Œæ¯æ¬¡è¿˜è¦é‡æ–°å¯åŠ¨ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œä¹Ÿæ˜¯éå¸¸ä¸æ–¹ä¾¿çš„ï¼Œ ä¸ºäº†è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œå»ºè®®ä½¿ç”¨ pm2 å»ç®¡ç†é¡¹ç›®ã€‚</p>\n<h2 id=\"PM2-æ˜¯ä»€ä¹ˆï¼Ÿ\"><a href=\"#PM2-æ˜¯ä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"PM2 æ˜¯ä»€ä¹ˆï¼Ÿ\"></a>PM2 æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>PM2ï¼ˆProcess Manager 2 ï¼‰æ˜¯å…·æœ‰å†…ç½®è´Ÿè½½å‡è¡¡å™¨çš„ Node.js åº”ç”¨ç¨‹åºçš„ç”Ÿäº§è¿è¡Œæ—¶å’Œè¿›ç¨‹ç®¡ç†å™¨ã€‚ å®ƒå…è®¸æ‚¨æ°¸ä¹…ä¿æŒåº”ç”¨ç¨‹åºæ´»è·ƒï¼Œæ— éœ€åœæœºå³å¯é‡æ–°åŠ è½½å®ƒä»¬ï¼Œå¹¶ä¿ƒè¿›å¸¸è§çš„ Devops ä»»åŠ¡ã€‚</p>\n<h3 id=\"PM2-ç‰¹æ€§\"><a href=\"#PM2-ç‰¹æ€§\" class=\"headerlink\" title=\"PM2 ç‰¹æ€§\"></a>PM2 ç‰¹æ€§</h3><ul>\n<li>æ—¥å¿—ç®¡ç†ï¼šåº”ç”¨ç¨‹åºæ—¥å¿—ä¿å­˜åœ¨æœåŠ¡å™¨çš„ç¡¬ç›˜ä¸­~&#x2F;.pm2&#x2F;logs&#x2F;</li>\n<li>è´Ÿè½½å‡è¡¡ï¼šPM2 å¯ä»¥é€šè¿‡åˆ›å»ºå…±äº«åŒä¸€æœåŠ¡å™¨ç«¯å£çš„å¤šä¸ªå­è¿›ç¨‹æ¥æ‰©å±•æ‚¨çš„åº”ç”¨ç¨‹åºã€‚è¿™æ ·åšè¿˜å…è®¸æ‚¨ä»¥é›¶ç§’åœæœºæ—¶é—´é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºã€‚</li>\n<li>ç»ˆç«¯ç›‘æ§ï¼šå¯ä»¥åœ¨ç»ˆç«¯ä¸­ç›‘æ§æ‚¨çš„åº”ç”¨ç¨‹åºå¹¶æ£€æŸ¥åº”ç”¨ç¨‹åºè¿è¡ŒçŠ¶å†µï¼ˆCPU ä½¿ç”¨ç‡ï¼Œä½¿ç”¨çš„å†…å­˜ï¼Œè¯·æ±‚&#x2F;åˆ†é’Ÿç­‰ï¼‰ã€‚</li>\n<li>SSH éƒ¨ç½²ï¼šè‡ªåŠ¨éƒ¨ç½²ï¼Œé¿å…é€ä¸ªåœ¨æ‰€æœ‰æœåŠ¡å™¨ä¸­è¿›è¡Œ sshã€‚</li>\n<li>é™æ€æœåŠ¡ï¼šæ”¯æŒé™æ€æœåŠ¡å™¨åŠŸèƒ½</li>\n<li>å¤šå¹³å°æ”¯æŒï¼šé€‚ç”¨äº Linuxï¼ˆç¨³å®šï¼‰å’Œ macOSï¼ˆç¨³å®šï¼‰å’Œ Windowsï¼ˆç¨³å®šï¼‰</li>\n</ul>\n<h3 id=\"å®‰è£…ä½¿ç”¨\"><a href=\"#å®‰è£…ä½¿ç”¨\" class=\"headerlink\" title=\"å®‰è£…ä½¿ç”¨\"></a>å®‰è£…ä½¿ç”¨</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// npmæ–¹å¼</span><br><span class=\"line\">npm install pm2 -g</span><br><span class=\"line\"></span><br><span class=\"line\">// yarnæ–¹å¼</span><br><span class=\"line\">yarn global add pm2</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¯åŠ¨æœåŠ¡\"><a href=\"#å¯åŠ¨æœåŠ¡\" class=\"headerlink\" title=\"å¯åŠ¨æœåŠ¡\"></a>å¯åŠ¨æœåŠ¡</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å¯åŠ¨</span><br><span class=\"line\">pm2 start app.js</span><br><span class=\"line\"></span><br><span class=\"line\">// æ›´æ”¹åå­—å¯åŠ¨</span><br><span class=\"line\">pm2 start app.js --name xxx</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åœæ­¢æœåŠ¡\"><a href=\"#åœæ­¢æœåŠ¡\" class=\"headerlink\" title=\"åœæ­¢æœåŠ¡\"></a>åœæ­¢æœåŠ¡</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// åœæ­¢å¯¹åº”çš„<span class=\"built_in\">id</span>æœåŠ¡</span><br><span class=\"line\">pm2 stop [<span class=\"built_in\">id</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">// åœæ­¢æ‰€æœ‰</span><br><span class=\"line\">pm2 stop all</span><br><span class=\"line\"></span><br><span class=\"line\">// åœæ­¢å½“å‰æœåŠ¡</span><br><span class=\"line\">pm2 stop [AppName]</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åˆ é™¤æœåŠ¡\"><a href=\"#åˆ é™¤æœåŠ¡\" class=\"headerlink\" title=\"åˆ é™¤æœåŠ¡\"></a>åˆ é™¤æœåŠ¡</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// åˆ é™¤å¯¹åº”çš„<span class=\"built_in\">id</span>æœåŠ¡</span><br><span class=\"line\">pm2 delete [<span class=\"built_in\">id</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">// åˆ é™¤æ‰€æœ‰</span><br><span class=\"line\">pm2 delete all</span><br><span class=\"line\"></span><br><span class=\"line\">// åˆ é™¤å½“å‰æœåŠ¡</span><br><span class=\"line\">pm2 delete [AppName]</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¼€æœºè‡ªå¯\"><a href=\"#å¼€æœºè‡ªå¯\" class=\"headerlink\" title=\"å¼€æœºè‡ªå¯\"></a>å¼€æœºè‡ªå¯</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å¼€æœºè‡ªå¯</span><br><span class=\"line\">pm2 startup</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ›´æ–°-pm2\"><a href=\"#æ›´æ–°-pm2\" class=\"headerlink\" title=\"æ›´æ–° pm2\"></a>æ›´æ–° pm2</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pm2 updatePM2</span><br><span class=\"line\">pm2 update</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ç›‘å¬é¡¹ç›®\"><a href=\"#ç›‘å¬é¡¹ç›®\" class=\"headerlink\" title=\"ç›‘å¬é¡¹ç›®\"></a>ç›‘å¬é¡¹ç›®</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å½“é¡¹ç›®æ–‡ä»¶å‘ç”Ÿå˜åŒ–å, è‡ªåŠ¨é‡å¯</span><br><span class=\"line\">pm2 start app.js --watch</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"é™æ€æœåŠ¡å™¨\"><a href=\"#é™æ€æœåŠ¡å™¨\" class=\"headerlink\" title=\"é™æ€æœåŠ¡å™¨\"></a>é™æ€æœåŠ¡å™¨</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å°†ç›®å½•distä½œä¸ºé™æ€æœåŠ¡å™¨æ ¹ç›®å½•ï¼Œç«¯å£ä¸º9090</span><br><span class=\"line\">pm2 serve ./dist 9090</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"é‡å¯æœåŠ¡\"><a href=\"#é‡å¯æœåŠ¡\" class=\"headerlink\" title=\"é‡å¯æœåŠ¡\"></a>é‡å¯æœåŠ¡</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// é‡å¯å¯¹åº”çš„<span class=\"built_in\">id</span>æœåŠ¡</span><br><span class=\"line\">pm2 reload  [<span class=\"built_in\">id</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">// é‡å¯æ‰€æœ‰</span><br><span class=\"line\">pm2 reload  all</span><br><span class=\"line\"></span><br><span class=\"line\">// é‡å¯å½“å‰æœåŠ¡</span><br><span class=\"line\">pm2 reload  [AppName]</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æŸ¥çœ‹-pm2-å¯åŠ¨çš„é¡¹ç›®\"><a href=\"#æŸ¥çœ‹-pm2-å¯åŠ¨çš„é¡¹ç›®\" class=\"headerlink\" title=\"æŸ¥çœ‹ pm2 å¯åŠ¨çš„é¡¹ç›®\"></a>æŸ¥çœ‹ pm2 å¯åŠ¨çš„é¡¹ç›®</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pm2 list</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112161839.4qralqpkna.webp\" alt=\"x\"></p>\n<h3 id=\"æ˜¾ç¤ºæ¯ä¸ªåº”ç”¨ç¨‹åºå ç”¨æƒ…å†µ\"><a href=\"#æ˜¾ç¤ºæ¯ä¸ªåº”ç”¨ç¨‹åºå ç”¨æƒ…å†µ\" class=\"headerlink\" title=\"æ˜¾ç¤ºæ¯ä¸ªåº”ç”¨ç¨‹åºå ç”¨æƒ…å†µ\"></a>æ˜¾ç¤ºæ¯ä¸ªåº”ç”¨ç¨‹åºå ç”¨æƒ…å†µ</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pm2 monit</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112162030.5mns170i11.webp\" alt=\"x\"></p>\n<h3 id=\"æ˜¾ç¤ºåº”ç”¨ç¨‹åºæ‰€æœ‰ä¿¡æ¯\"><a href=\"#æ˜¾ç¤ºåº”ç”¨ç¨‹åºæ‰€æœ‰ä¿¡æ¯\" class=\"headerlink\" title=\"æ˜¾ç¤ºåº”ç”¨ç¨‹åºæ‰€æœ‰ä¿¡æ¯\"></a>æ˜¾ç¤ºåº”ç”¨ç¨‹åºæ‰€æœ‰ä¿¡æ¯</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å¯¹åº”çš„<span class=\"built_in\">id</span>æœåŠ¡</span><br><span class=\"line\">pm2 show  [<span class=\"built_in\">id</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">// å½“å‰æœåŠ¡</span><br><span class=\"line\">pm2 show  [AppName]</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112162232.64dtps30al.webp\" alt=\"x\"></p>\n<h3 id=\"æ—¥å¿—æŸ¥çœ‹\"><a href=\"#æ—¥å¿—æŸ¥çœ‹\" class=\"headerlink\" title=\"æ—¥å¿—æŸ¥çœ‹\"></a>æ—¥å¿—æŸ¥çœ‹</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å¯¹åº”çš„<span class=\"built_in\">id</span>æœåŠ¡</span><br><span class=\"line\">pm2 logs  [<span class=\"built_in\">id</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">// æ‰€æœ‰</span><br><span class=\"line\">pm2 logs</span><br><span class=\"line\"></span><br><span class=\"line\">// å½“å‰æœåŠ¡</span><br><span class=\"line\">pm2 logs  [AppName]</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112161915.2h8a298d3g.webp\" alt=\"x\"></p>\n<h2 id=\"å‚è€ƒèµ„æ–™\"><a href=\"#å‚è€ƒèµ„æ–™\" class=\"headerlink\" title=\"å‚è€ƒèµ„æ–™\"></a>å‚è€ƒèµ„æ–™</h2><ul>\n<li><a href=\"https://pm2.keymetrics.io/\">pm2</a></li>\n<li><a href=\"https://www.npmjs.com/package/pm2\">pm2 ä¸­æ–‡æ–‡æ¡£</a></li>\n<li><a href=\"https://auan.cn/internet/2059.html\">PM2 ä»‹ç»åŠç®€æ˜“ä½¿ç”¨æ‰‹å†Œ</a></li>\n</ul>\n"},{"title":"æœåŠ¡å™¨/è¿è¥-å®å¡”é¢æ¿","abbrlink":"28e84b51","date":"2024-07-08T01:05:01.000Z","_content":"\n# ä»‹ç»\n\næ­å»ºå±äºè‡ªå·±çš„ç½‘ç«™, å‰å‡ å¤©è‡ªå·±åŠ¨æ‰‹è´­ä¹°äº†ä¸€å°è…¾è®¯äº‘è½»é‡çº§æœåŠ¡å™¨ï¼Œè‡ªå·±å†™ä»£ç ï¼Œnode ä½œä¸ºæœåŠ¡ç«¯å»å†™æ¥å£, ç®€å•éƒ¨ç½²ä¸€ä¸‹ç½‘ç«™çš„æ­å»ºåˆ°æœåŠ¡å™¨çš„éƒ¨ç½²å†åˆ°æ•°æ®åº“çš„æ“ä½œã€‚ æ•´ä½“ä¸‹æ¥æ„Ÿè§‰è¿˜æ˜¯æœ‰ç‚¹å‘ï¼Œä»Šå¤©æ­£å¥½æœ‰æ—¶é—´ï¼Œè®°å½•ä¸€ä¸‹æ­å»ºç¯å¢ƒæ—¶éœ€è¦æ³¨æ„çš„ï¼Œ è‡ªå·±ä¹Ÿæ€»ç»“ä¸€ä¸‹æ­å»ºçš„æ­¥éª¤ã€‚\n\n## é¦–å…ˆæ‹¥æœ‰å±äºè‡ªå·±çš„åŸŸå\n\nè¿™é‡Œä¸åšè¿‡å¤šçš„ä»‹ç», ,\n\n- [è…¾è®¯äº‘](https://dnspod.cloud.tencent.com/)æ³¨å†ŒåŸŸååŠä½¿ç”¨, ä»‹ç»äº†åŸŸåçš„ä½¿ç”¨åŠå¤‡æ¡ˆã€‚\n- `DNS` è§£æåŸŸå\n- å…¶ä»–çš„å¯ä»¥å†å®˜ç½‘æˆ–è€…ç™¾åº¦ä¸Šè¿›è¡ŒæŸ¥é˜…\n\n## æ¥ä¸‹æ¥è´­ä¹°å±äºè‡ªå·±çš„æœåŠ¡å™¨\n\n- å…¶å®è¿˜æ˜¯å¾ˆç®€å•çš„,é¦–å…ˆæˆ‘ä»¬å…ˆåœ¨è…¾è®¯äº‘è´­ä¹°å±äºè‡ªå·±çš„ `è½»é‡çº§æœåŠ¡å™¨(è¾ƒä¾¿å®œ,é€‚åˆæ–°æ‰‹)`, ç›´æ¥ç™»å½•è‡ªå·±çš„å¾®ä¿¡å·, å¦‚æœæ‰¾ä¸åˆ°, ç›´æ¥æœç´¢ `è½»é‡çº§æœåŠ¡å™¨` å°±åœ¨å·¦ä¸Šè§’çš„äº‘äº§å“é‡Œã€‚\n  ![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112203053.7p3kp8d4ry.webp)\n- æ¥ç€, æˆ‘ä»¬é€‰æ‹©é•œåƒï¼Œ é€‰æ‹© å®å¡”é•œåƒå°±å¯ä»¥äº†ã€‚\n- å®‰è£…å®å¡”ï¼Œé¿å…äº†å»æ“ä½œå¤§é‡æ“ä½œ Linuxï¼Œ å®å¡”è‡ªå¸¦å¯è§†åŒ–é¢æ¿ã€‚\n- å…¶ä»–çš„æ ¹æ®è‡ªå·±éœ€è¦å»è´­ä¹°é…ç½®å³å¯ã€‚\n- æœåŠ¡å™¨åˆ›å»ºä¹‹åï¼Œåœ¨åº”ç”¨ç®¡ç†æ‰¾åˆ°ç™»å½•ï¼Œæ ¹æ®è¦æ±‚å°±å¯ä»¥æœ‰è‡ªå·±çš„å®å¡”é¢æ¿çš„ç™»å½•é“¾æ¥å’Œè´¦å·å¯†ç äº†ã€‚\n- ç™»å½•è¿‡åï¼Œå…³è”è‡ªå·±çš„äº‘æœåŠ¡å™¨ï¼Œæ ¹æ®è¦æ±‚å°±å¯ä»¥ï¼Œ è¿™é‡Œæˆ‘ç•¥è¿‡ (å®˜æ–¹æœ‰è¯´æ˜æ–‡æ¡£)\n  ![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112205120.6f0niwxflg.webp)\n- ç‚¹å‡»å·¦ä¾§çš„ç½‘ç«™ï¼Œéƒ¨ç½²è‡ªå·±çš„åŸŸåç½‘ç«™ï¼Œæ·»åŠ ç«™ç‚¹ æ˜¯ä½ çš„è´­ä¹°åŸŸå, ä¸‹é¢ç›´æ¥åš DNS è§£æå°±å¯ä»¥äº†ã€‚ç›´æ¥åœ¨æµè§ˆå™¨è¾“å…¥è‡ªå·±çš„åŸŸå å°±å¯ä»¥è®¿é—®ï¼Œ\n  ![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112205257.92q3t9rehv.webp)\n- å‘ç°è‡ªå·±çš„ç½‘ç«™æ˜¯å¯ä»¥æ‰“å¼€çš„ï¼Œ è§‰å¾—é¡µé¢ç©ºç©ºå¦‚ä¹Ÿï¼Œ åªæœ‰é»˜è®¤çš„é¡µé¢ï¼Œ é‚£å°±åªæœ‰è‡ªå·±æ‰‹åŠ¨å»æ•²ä»£ç , å†™é¡µé¢äº†ã€‚\n\n## éœ€è¦æ³¨æ„çš„åœ°æ–¹\n\n- æœåŠ¡å™¨å®‰å…¨ç»„å’Œå®å¡”é¢æ¿çš„ç«¯å£è¦æš´éœ²å‡ºå»\n- å°±åƒ `mongodb 27017` ç«¯å£æš´éœ², è¿™æ ·è‡ªå·±æœ¬åœ°å°±å¯ä»¥è®¿é—®æœåŠ¡å™¨çš„æ•°æ®åº“äº†ï¼Œ æœåŠ¡å™¨çš„æ•°æ®åº“ æ•°æ®åªæ˜¯å­˜åœ¨è‡ªå·±çš„ç½‘ç«™ä¸Šé¢ï¼Œ è¦å®šæ—¶å¤‡ä»½æ•°æ®\n  ![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.3uut6a0hhv.webp)\n  åœ¨è¿™é‡Œæ·»åŠ è‡ªå·±çš„å®šæ—¶ä»»åŠ¡.\n\n## éƒ¨ç½² node æœåŠ¡\n\n- åœ¨è½¯ä»¶å•†åŸä¸‹è½½ `pm2`ç®¡ç†å™¨, æ ¹æ®è‡ªå·±çš„éœ€è¦ å»å®‰è£… `yarn`, é»˜è®¤çš„æ˜¯`nm`, æˆ‘ä¸ªäººå–œæ¬¢`yarn`ï¼Œ é€Ÿåº¦å¿«ä¸€äº›ã€‚\n  ![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/server_bs_5.6m3veco42b.webp)\n- æ ¹æ®è‡ªå·±çš„éœ€è¦å»é…ç½®ä¸€ä¸‹è‡ªå·±çš„ node æœåŠ¡çš„é¡¹ç›®ï¼Œ è¿™æ—¶è¿™ä¸ªç«¯å£å· æ˜¯ä½  `node bin/www` æ–‡ä»¶é‡Œé¢çš„ `port`ï¼Œ åŒæ—¶å®‰å…¨ç»„ä¹Ÿè¦æ”¾å¼€ç«¯å£, æˆ‘ä»¬åœ¨ `web` é¡¹ç›®ä¸­å¯ä»¥è®¿é—® æœåŠ¡å™¨ä¸­çš„ `api` æ¥å£åœ°å€äº†\n- æ¥ä¸‹æ¥å°±å¯ä»¥å¯åŠ¨ `node` æœåŠ¡äº†ï¼Œ å¯ä»¥åœ¨ä½ çš„æµè§ˆå™¨è®¿é—®ä½ çš„ `node` æ¥å£äº†\n\n## éƒ¨ç½²å‰ç«¯é¡¹ç›®\n\n- åœ¨å®å¡”é¢æ¿å·¦ä¾§ç½‘ç«™ä¸­æ‰¾åˆ°è‡ªå·±çš„ç½‘ç«™ï¼Œå¯ä»¥å†ç½‘ç«™é‡Œé¢æ‰‹åŠ¨æ·»åŠ æ–‡ä»¶ï¼Œæ–‡ä»¶å¤¹ç­‰ç­‰ï¼Œé€šè¿‡ url çš„æ–¹å¼å»è®¿é—®ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è®¾ç½®æƒé™ã€‚\n  ![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112210036.13lqy7hdeo.webp)\n- è¿™é‡Œå°±æ˜¯æˆ‘ä¸Šä¼ çš„å‰ç«¯é¡µé¢äº†ï¼Œ å½“ç„¶ä½ å¯ä»¥æ‰‹åŠ¨æ‰“åŒ…å‰ç«¯é¡¹ç›®ï¼Œ é€šè¿‡æ‰‹åŠ¨ä¸Šä¼ ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å·¥å…· `xftp7`å»ä¸Šä¼ , éƒ½æ˜¯å¯ä»¥çš„ï¼Œ æ ¹æ®ä¸ªäººå–œå¥½å»ä¸Šä¼ ã€‚\n\n## éƒ¨ç½² MongoDB æ•°æ®åº“\n\n- å·¦ä¾§è½¯ä»¶å•†åŸä¸‹è½½ `mongodb`è½¯ä»¶ï¼Œ ä¸‹è½½ä¹‹åæ‰“å¼€è®¾ç½®,\n  ![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112210336.175cvxc7oj.png)\n- æ¥ç€è®¾ç½®æ•°æ®åº“ç”¨æˆ·å¯†ç ï¼Œä¿è¯å…¶å®‰å…¨æ€§\n- è¿›å…¥ç›®å½•\n\n```sh\n// è¿›å…¥ç›®å½•\ncd /www/server/mongodb/bin\n\n// åˆ‡æ¢ mongoç¯å¢ƒ\nmongo\n\n// åˆ‡æ¢åˆ°adminæ•°æ®åº“\nuse admin\n\n// ç»™adminæ•°æ®åº“è®¾ç½®ç”¨æˆ·å¯†ç \ndb.createUser({user: 'ä½ çš„ç”¨æˆ·å', pwd: 'ä½ çš„å¯†ç ', roles: ['root']})\n\n// éªŒè¯æ˜¯å¦æ·»åŠ æˆåŠŸ\ndb.auth('ä½ çš„ç”¨æˆ·å', 'ä½ çš„å¯†ç ')\n\n// å¦‚æœè¿”å› â€˜1â€™è¡¨ç¤ºéªŒè¯æˆåŠŸï¼Œ å¦‚æœæ˜¯ â€˜0â€™ è¡¨ç¤ºéªŒè¯å¤±è´¥ã€‚\n```\n\n- [å®å¡”é¢æ¿ä½¿ç”¨ MongoDB](https://blog.csdn.net/qq_39314291/article/details/112561177)\n\n## è¿œç¨‹è¿æ¥æœåŠ¡å™¨çš„æ•°æ®åº“\n\n- å…¶å®å°±ä¸€è¡Œä»£ç å°±å¯ä»¥äº†\n\n```sh\n// mongodb://ä½ çš„ç”¨æˆ·å:ä½ çš„å¯†ç @æœåŠ¡å™¨å…¬ç½‘ip:27017/æ•°æ®åº“å?authSource=admin\nmongodb://myName:123456@xx.xxx.xxx.xx:27017/myMall?authSource=admin\n```\n\n- å…·ä½“ä½¿ç”¨å¯ä»¥å‚è€ƒæ–‡ç« ï¼š [Node å¦‚ä½•é€šè¿‡è´¦å·å¯†ç è¿æ¥è¿œç¨‹æœåŠ¡å™¨çš„ MongoDB æ•°æ®åº“ï¼Ÿ](http://www.qianduan8.com/1794.html)\n\n## æ‰€æœ‰çš„æ­¥éª¤æ“ä½œå®Œæˆä¹‹åï¼Œä¸Šä¼ è‡ªå·±å†™çš„ç½‘ç«™ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112211239.7ax4ydiekt.webp)\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112211302.4qralqikfz.webp)\n","source":"_posts/æŠ€èƒ½å°å†Œ/æœåŠ¡å™¨-è¿è¥/å®å¡”é¢æ¿.md","raw":"---\ntitle: æœåŠ¡å™¨/è¿è¥-å®å¡”é¢æ¿\nabbrlink: 28e84b51\ndate: 2024-07-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - æœåŠ¡å™¨/è¿è¥\n---\n\n# ä»‹ç»\n\næ­å»ºå±äºè‡ªå·±çš„ç½‘ç«™, å‰å‡ å¤©è‡ªå·±åŠ¨æ‰‹è´­ä¹°äº†ä¸€å°è…¾è®¯äº‘è½»é‡çº§æœåŠ¡å™¨ï¼Œè‡ªå·±å†™ä»£ç ï¼Œnode ä½œä¸ºæœåŠ¡ç«¯å»å†™æ¥å£, ç®€å•éƒ¨ç½²ä¸€ä¸‹ç½‘ç«™çš„æ­å»ºåˆ°æœåŠ¡å™¨çš„éƒ¨ç½²å†åˆ°æ•°æ®åº“çš„æ“ä½œã€‚ æ•´ä½“ä¸‹æ¥æ„Ÿè§‰è¿˜æ˜¯æœ‰ç‚¹å‘ï¼Œä»Šå¤©æ­£å¥½æœ‰æ—¶é—´ï¼Œè®°å½•ä¸€ä¸‹æ­å»ºç¯å¢ƒæ—¶éœ€è¦æ³¨æ„çš„ï¼Œ è‡ªå·±ä¹Ÿæ€»ç»“ä¸€ä¸‹æ­å»ºçš„æ­¥éª¤ã€‚\n\n## é¦–å…ˆæ‹¥æœ‰å±äºè‡ªå·±çš„åŸŸå\n\nè¿™é‡Œä¸åšè¿‡å¤šçš„ä»‹ç», ,\n\n- [è…¾è®¯äº‘](https://dnspod.cloud.tencent.com/)æ³¨å†ŒåŸŸååŠä½¿ç”¨, ä»‹ç»äº†åŸŸåçš„ä½¿ç”¨åŠå¤‡æ¡ˆã€‚\n- `DNS` è§£æåŸŸå\n- å…¶ä»–çš„å¯ä»¥å†å®˜ç½‘æˆ–è€…ç™¾åº¦ä¸Šè¿›è¡ŒæŸ¥é˜…\n\n## æ¥ä¸‹æ¥è´­ä¹°å±äºè‡ªå·±çš„æœåŠ¡å™¨\n\n- å…¶å®è¿˜æ˜¯å¾ˆç®€å•çš„,é¦–å…ˆæˆ‘ä»¬å…ˆåœ¨è…¾è®¯äº‘è´­ä¹°å±äºè‡ªå·±çš„ `è½»é‡çº§æœåŠ¡å™¨(è¾ƒä¾¿å®œ,é€‚åˆæ–°æ‰‹)`, ç›´æ¥ç™»å½•è‡ªå·±çš„å¾®ä¿¡å·, å¦‚æœæ‰¾ä¸åˆ°, ç›´æ¥æœç´¢ `è½»é‡çº§æœåŠ¡å™¨` å°±åœ¨å·¦ä¸Šè§’çš„äº‘äº§å“é‡Œã€‚\n  ![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112203053.7p3kp8d4ry.webp)\n- æ¥ç€, æˆ‘ä»¬é€‰æ‹©é•œåƒï¼Œ é€‰æ‹© å®å¡”é•œåƒå°±å¯ä»¥äº†ã€‚\n- å®‰è£…å®å¡”ï¼Œé¿å…äº†å»æ“ä½œå¤§é‡æ“ä½œ Linuxï¼Œ å®å¡”è‡ªå¸¦å¯è§†åŒ–é¢æ¿ã€‚\n- å…¶ä»–çš„æ ¹æ®è‡ªå·±éœ€è¦å»è´­ä¹°é…ç½®å³å¯ã€‚\n- æœåŠ¡å™¨åˆ›å»ºä¹‹åï¼Œåœ¨åº”ç”¨ç®¡ç†æ‰¾åˆ°ç™»å½•ï¼Œæ ¹æ®è¦æ±‚å°±å¯ä»¥æœ‰è‡ªå·±çš„å®å¡”é¢æ¿çš„ç™»å½•é“¾æ¥å’Œè´¦å·å¯†ç äº†ã€‚\n- ç™»å½•è¿‡åï¼Œå…³è”è‡ªå·±çš„äº‘æœåŠ¡å™¨ï¼Œæ ¹æ®è¦æ±‚å°±å¯ä»¥ï¼Œ è¿™é‡Œæˆ‘ç•¥è¿‡ (å®˜æ–¹æœ‰è¯´æ˜æ–‡æ¡£)\n  ![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112205120.6f0niwxflg.webp)\n- ç‚¹å‡»å·¦ä¾§çš„ç½‘ç«™ï¼Œéƒ¨ç½²è‡ªå·±çš„åŸŸåç½‘ç«™ï¼Œæ·»åŠ ç«™ç‚¹ æ˜¯ä½ çš„è´­ä¹°åŸŸå, ä¸‹é¢ç›´æ¥åš DNS è§£æå°±å¯ä»¥äº†ã€‚ç›´æ¥åœ¨æµè§ˆå™¨è¾“å…¥è‡ªå·±çš„åŸŸå å°±å¯ä»¥è®¿é—®ï¼Œ\n  ![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112205257.92q3t9rehv.webp)\n- å‘ç°è‡ªå·±çš„ç½‘ç«™æ˜¯å¯ä»¥æ‰“å¼€çš„ï¼Œ è§‰å¾—é¡µé¢ç©ºç©ºå¦‚ä¹Ÿï¼Œ åªæœ‰é»˜è®¤çš„é¡µé¢ï¼Œ é‚£å°±åªæœ‰è‡ªå·±æ‰‹åŠ¨å»æ•²ä»£ç , å†™é¡µé¢äº†ã€‚\n\n## éœ€è¦æ³¨æ„çš„åœ°æ–¹\n\n- æœåŠ¡å™¨å®‰å…¨ç»„å’Œå®å¡”é¢æ¿çš„ç«¯å£è¦æš´éœ²å‡ºå»\n- å°±åƒ `mongodb 27017` ç«¯å£æš´éœ², è¿™æ ·è‡ªå·±æœ¬åœ°å°±å¯ä»¥è®¿é—®æœåŠ¡å™¨çš„æ•°æ®åº“äº†ï¼Œ æœåŠ¡å™¨çš„æ•°æ®åº“ æ•°æ®åªæ˜¯å­˜åœ¨è‡ªå·±çš„ç½‘ç«™ä¸Šé¢ï¼Œ è¦å®šæ—¶å¤‡ä»½æ•°æ®\n  ![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.3uut6a0hhv.webp)\n  åœ¨è¿™é‡Œæ·»åŠ è‡ªå·±çš„å®šæ—¶ä»»åŠ¡.\n\n## éƒ¨ç½² node æœåŠ¡\n\n- åœ¨è½¯ä»¶å•†åŸä¸‹è½½ `pm2`ç®¡ç†å™¨, æ ¹æ®è‡ªå·±çš„éœ€è¦ å»å®‰è£… `yarn`, é»˜è®¤çš„æ˜¯`nm`, æˆ‘ä¸ªäººå–œæ¬¢`yarn`ï¼Œ é€Ÿåº¦å¿«ä¸€äº›ã€‚\n  ![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/server_bs_5.6m3veco42b.webp)\n- æ ¹æ®è‡ªå·±çš„éœ€è¦å»é…ç½®ä¸€ä¸‹è‡ªå·±çš„ node æœåŠ¡çš„é¡¹ç›®ï¼Œ è¿™æ—¶è¿™ä¸ªç«¯å£å· æ˜¯ä½  `node bin/www` æ–‡ä»¶é‡Œé¢çš„ `port`ï¼Œ åŒæ—¶å®‰å…¨ç»„ä¹Ÿè¦æ”¾å¼€ç«¯å£, æˆ‘ä»¬åœ¨ `web` é¡¹ç›®ä¸­å¯ä»¥è®¿é—® æœåŠ¡å™¨ä¸­çš„ `api` æ¥å£åœ°å€äº†\n- æ¥ä¸‹æ¥å°±å¯ä»¥å¯åŠ¨ `node` æœåŠ¡äº†ï¼Œ å¯ä»¥åœ¨ä½ çš„æµè§ˆå™¨è®¿é—®ä½ çš„ `node` æ¥å£äº†\n\n## éƒ¨ç½²å‰ç«¯é¡¹ç›®\n\n- åœ¨å®å¡”é¢æ¿å·¦ä¾§ç½‘ç«™ä¸­æ‰¾åˆ°è‡ªå·±çš„ç½‘ç«™ï¼Œå¯ä»¥å†ç½‘ç«™é‡Œé¢æ‰‹åŠ¨æ·»åŠ æ–‡ä»¶ï¼Œæ–‡ä»¶å¤¹ç­‰ç­‰ï¼Œé€šè¿‡ url çš„æ–¹å¼å»è®¿é—®ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è®¾ç½®æƒé™ã€‚\n  ![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112210036.13lqy7hdeo.webp)\n- è¿™é‡Œå°±æ˜¯æˆ‘ä¸Šä¼ çš„å‰ç«¯é¡µé¢äº†ï¼Œ å½“ç„¶ä½ å¯ä»¥æ‰‹åŠ¨æ‰“åŒ…å‰ç«¯é¡¹ç›®ï¼Œ é€šè¿‡æ‰‹åŠ¨ä¸Šä¼ ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å·¥å…· `xftp7`å»ä¸Šä¼ , éƒ½æ˜¯å¯ä»¥çš„ï¼Œ æ ¹æ®ä¸ªäººå–œå¥½å»ä¸Šä¼ ã€‚\n\n## éƒ¨ç½² MongoDB æ•°æ®åº“\n\n- å·¦ä¾§è½¯ä»¶å•†åŸä¸‹è½½ `mongodb`è½¯ä»¶ï¼Œ ä¸‹è½½ä¹‹åæ‰“å¼€è®¾ç½®,\n  ![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112210336.175cvxc7oj.png)\n- æ¥ç€è®¾ç½®æ•°æ®åº“ç”¨æˆ·å¯†ç ï¼Œä¿è¯å…¶å®‰å…¨æ€§\n- è¿›å…¥ç›®å½•\n\n```sh\n// è¿›å…¥ç›®å½•\ncd /www/server/mongodb/bin\n\n// åˆ‡æ¢ mongoç¯å¢ƒ\nmongo\n\n// åˆ‡æ¢åˆ°adminæ•°æ®åº“\nuse admin\n\n// ç»™adminæ•°æ®åº“è®¾ç½®ç”¨æˆ·å¯†ç \ndb.createUser({user: 'ä½ çš„ç”¨æˆ·å', pwd: 'ä½ çš„å¯†ç ', roles: ['root']})\n\n// éªŒè¯æ˜¯å¦æ·»åŠ æˆåŠŸ\ndb.auth('ä½ çš„ç”¨æˆ·å', 'ä½ çš„å¯†ç ')\n\n// å¦‚æœè¿”å› â€˜1â€™è¡¨ç¤ºéªŒè¯æˆåŠŸï¼Œ å¦‚æœæ˜¯ â€˜0â€™ è¡¨ç¤ºéªŒè¯å¤±è´¥ã€‚\n```\n\n- [å®å¡”é¢æ¿ä½¿ç”¨ MongoDB](https://blog.csdn.net/qq_39314291/article/details/112561177)\n\n## è¿œç¨‹è¿æ¥æœåŠ¡å™¨çš„æ•°æ®åº“\n\n- å…¶å®å°±ä¸€è¡Œä»£ç å°±å¯ä»¥äº†\n\n```sh\n// mongodb://ä½ çš„ç”¨æˆ·å:ä½ çš„å¯†ç @æœåŠ¡å™¨å…¬ç½‘ip:27017/æ•°æ®åº“å?authSource=admin\nmongodb://myName:123456@xx.xxx.xxx.xx:27017/myMall?authSource=admin\n```\n\n- å…·ä½“ä½¿ç”¨å¯ä»¥å‚è€ƒæ–‡ç« ï¼š [Node å¦‚ä½•é€šè¿‡è´¦å·å¯†ç è¿æ¥è¿œç¨‹æœåŠ¡å™¨çš„ MongoDB æ•°æ®åº“ï¼Ÿ](http://www.qianduan8.com/1794.html)\n\n## æ‰€æœ‰çš„æ­¥éª¤æ“ä½œå®Œæˆä¹‹åï¼Œä¸Šä¼ è‡ªå·±å†™çš„ç½‘ç«™ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112211239.7ax4ydiekt.webp)\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112211302.4qralqikfz.webp)\n","slug":"æŠ€èƒ½å°å†Œ/æœåŠ¡å™¨-è¿è¥/å®å¡”é¢æ¿","published":1,"updated":"2025-03-13T10:16:17.906Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j2004rfg9m8ire5nk3","content":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>æ­å»ºå±äºè‡ªå·±çš„ç½‘ç«™, å‰å‡ å¤©è‡ªå·±åŠ¨æ‰‹è´­ä¹°äº†ä¸€å°è…¾è®¯äº‘è½»é‡çº§æœåŠ¡å™¨ï¼Œè‡ªå·±å†™ä»£ç ï¼Œnode ä½œä¸ºæœåŠ¡ç«¯å»å†™æ¥å£, ç®€å•éƒ¨ç½²ä¸€ä¸‹ç½‘ç«™çš„æ­å»ºåˆ°æœåŠ¡å™¨çš„éƒ¨ç½²å†åˆ°æ•°æ®åº“çš„æ“ä½œã€‚ æ•´ä½“ä¸‹æ¥æ„Ÿè§‰è¿˜æ˜¯æœ‰ç‚¹å‘ï¼Œä»Šå¤©æ­£å¥½æœ‰æ—¶é—´ï¼Œè®°å½•ä¸€ä¸‹æ­å»ºç¯å¢ƒæ—¶éœ€è¦æ³¨æ„çš„ï¼Œ è‡ªå·±ä¹Ÿæ€»ç»“ä¸€ä¸‹æ­å»ºçš„æ­¥éª¤ã€‚</p>\n<h2 id=\"é¦–å…ˆæ‹¥æœ‰å±äºè‡ªå·±çš„åŸŸå\"><a href=\"#é¦–å…ˆæ‹¥æœ‰å±äºè‡ªå·±çš„åŸŸå\" class=\"headerlink\" title=\"é¦–å…ˆæ‹¥æœ‰å±äºè‡ªå·±çš„åŸŸå\"></a>é¦–å…ˆæ‹¥æœ‰å±äºè‡ªå·±çš„åŸŸå</h2><p>è¿™é‡Œä¸åšè¿‡å¤šçš„ä»‹ç», ,</p>\n<ul>\n<li><a href=\"https://dnspod.cloud.tencent.com/\">è…¾è®¯äº‘</a>æ³¨å†ŒåŸŸååŠä½¿ç”¨, ä»‹ç»äº†åŸŸåçš„ä½¿ç”¨åŠå¤‡æ¡ˆã€‚</li>\n<li><code>DNS</code> è§£æåŸŸå</li>\n<li>å…¶ä»–çš„å¯ä»¥å†å®˜ç½‘æˆ–è€…ç™¾åº¦ä¸Šè¿›è¡ŒæŸ¥é˜…</li>\n</ul>\n<h2 id=\"æ¥ä¸‹æ¥è´­ä¹°å±äºè‡ªå·±çš„æœåŠ¡å™¨\"><a href=\"#æ¥ä¸‹æ¥è´­ä¹°å±äºè‡ªå·±çš„æœåŠ¡å™¨\" class=\"headerlink\" title=\"æ¥ä¸‹æ¥è´­ä¹°å±äºè‡ªå·±çš„æœåŠ¡å™¨\"></a>æ¥ä¸‹æ¥è´­ä¹°å±äºè‡ªå·±çš„æœåŠ¡å™¨</h2><ul>\n<li>å…¶å®è¿˜æ˜¯å¾ˆç®€å•çš„,é¦–å…ˆæˆ‘ä»¬å…ˆåœ¨è…¾è®¯äº‘è´­ä¹°å±äºè‡ªå·±çš„ <code>è½»é‡çº§æœåŠ¡å™¨(è¾ƒä¾¿å®œ,é€‚åˆæ–°æ‰‹)</code>, ç›´æ¥ç™»å½•è‡ªå·±çš„å¾®ä¿¡å·, å¦‚æœæ‰¾ä¸åˆ°, ç›´æ¥æœç´¢ <code>è½»é‡çº§æœåŠ¡å™¨</code> å°±åœ¨å·¦ä¸Šè§’çš„äº‘äº§å“é‡Œã€‚<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112203053.7p3kp8d4ry.webp\" alt=\"x\"></li>\n<li>æ¥ç€, æˆ‘ä»¬é€‰æ‹©é•œåƒï¼Œ é€‰æ‹© å®å¡”é•œåƒå°±å¯ä»¥äº†ã€‚</li>\n<li>å®‰è£…å®å¡”ï¼Œé¿å…äº†å»æ“ä½œå¤§é‡æ“ä½œ Linuxï¼Œ å®å¡”è‡ªå¸¦å¯è§†åŒ–é¢æ¿ã€‚</li>\n<li>å…¶ä»–çš„æ ¹æ®è‡ªå·±éœ€è¦å»è´­ä¹°é…ç½®å³å¯ã€‚</li>\n<li>æœåŠ¡å™¨åˆ›å»ºä¹‹åï¼Œåœ¨åº”ç”¨ç®¡ç†æ‰¾åˆ°ç™»å½•ï¼Œæ ¹æ®è¦æ±‚å°±å¯ä»¥æœ‰è‡ªå·±çš„å®å¡”é¢æ¿çš„ç™»å½•é“¾æ¥å’Œè´¦å·å¯†ç äº†ã€‚</li>\n<li>ç™»å½•è¿‡åï¼Œå…³è”è‡ªå·±çš„äº‘æœåŠ¡å™¨ï¼Œæ ¹æ®è¦æ±‚å°±å¯ä»¥ï¼Œ è¿™é‡Œæˆ‘ç•¥è¿‡ (å®˜æ–¹æœ‰è¯´æ˜æ–‡æ¡£)<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112205120.6f0niwxflg.webp\" alt=\"x\"></li>\n<li>ç‚¹å‡»å·¦ä¾§çš„ç½‘ç«™ï¼Œéƒ¨ç½²è‡ªå·±çš„åŸŸåç½‘ç«™ï¼Œæ·»åŠ ç«™ç‚¹ æ˜¯ä½ çš„è´­ä¹°åŸŸå, ä¸‹é¢ç›´æ¥åš DNS è§£æå°±å¯ä»¥äº†ã€‚ç›´æ¥åœ¨æµè§ˆå™¨è¾“å…¥è‡ªå·±çš„åŸŸå å°±å¯ä»¥è®¿é—®ï¼Œ<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112205257.92q3t9rehv.webp\" alt=\"x\"></li>\n<li>å‘ç°è‡ªå·±çš„ç½‘ç«™æ˜¯å¯ä»¥æ‰“å¼€çš„ï¼Œ è§‰å¾—é¡µé¢ç©ºç©ºå¦‚ä¹Ÿï¼Œ åªæœ‰é»˜è®¤çš„é¡µé¢ï¼Œ é‚£å°±åªæœ‰è‡ªå·±æ‰‹åŠ¨å»æ•²ä»£ç , å†™é¡µé¢äº†ã€‚</li>\n</ul>\n<h2 id=\"éœ€è¦æ³¨æ„çš„åœ°æ–¹\"><a href=\"#éœ€è¦æ³¨æ„çš„åœ°æ–¹\" class=\"headerlink\" title=\"éœ€è¦æ³¨æ„çš„åœ°æ–¹\"></a>éœ€è¦æ³¨æ„çš„åœ°æ–¹</h2><ul>\n<li>æœåŠ¡å™¨å®‰å…¨ç»„å’Œå®å¡”é¢æ¿çš„ç«¯å£è¦æš´éœ²å‡ºå»</li>\n<li>å°±åƒ <code>mongodb 27017</code> ç«¯å£æš´éœ², è¿™æ ·è‡ªå·±æœ¬åœ°å°±å¯ä»¥è®¿é—®æœåŠ¡å™¨çš„æ•°æ®åº“äº†ï¼Œ æœåŠ¡å™¨çš„æ•°æ®åº“ æ•°æ®åªæ˜¯å­˜åœ¨è‡ªå·±çš„ç½‘ç«™ä¸Šé¢ï¼Œ è¦å®šæ—¶å¤‡ä»½æ•°æ®<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.3uut6a0hhv.webp\" alt=\"x\"><br>åœ¨è¿™é‡Œæ·»åŠ è‡ªå·±çš„å®šæ—¶ä»»åŠ¡.</li>\n</ul>\n<h2 id=\"éƒ¨ç½²-node-æœåŠ¡\"><a href=\"#éƒ¨ç½²-node-æœåŠ¡\" class=\"headerlink\" title=\"éƒ¨ç½² node æœåŠ¡\"></a>éƒ¨ç½² node æœåŠ¡</h2><ul>\n<li>åœ¨è½¯ä»¶å•†åŸä¸‹è½½ <code>pm2</code>ç®¡ç†å™¨, æ ¹æ®è‡ªå·±çš„éœ€è¦ å»å®‰è£… <code>yarn</code>, é»˜è®¤çš„æ˜¯<code>nm</code>, æˆ‘ä¸ªäººå–œæ¬¢<code>yarn</code>ï¼Œ é€Ÿåº¦å¿«ä¸€äº›ã€‚<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/server_bs_5.6m3veco42b.webp\" alt=\"x\"></li>\n<li>æ ¹æ®è‡ªå·±çš„éœ€è¦å»é…ç½®ä¸€ä¸‹è‡ªå·±çš„ node æœåŠ¡çš„é¡¹ç›®ï¼Œ è¿™æ—¶è¿™ä¸ªç«¯å£å· æ˜¯ä½  <code>node bin/www</code> æ–‡ä»¶é‡Œé¢çš„ <code>port</code>ï¼Œ åŒæ—¶å®‰å…¨ç»„ä¹Ÿè¦æ”¾å¼€ç«¯å£, æˆ‘ä»¬åœ¨ <code>web</code> é¡¹ç›®ä¸­å¯ä»¥è®¿é—® æœåŠ¡å™¨ä¸­çš„ <code>api</code> æ¥å£åœ°å€äº†</li>\n<li>æ¥ä¸‹æ¥å°±å¯ä»¥å¯åŠ¨ <code>node</code> æœåŠ¡äº†ï¼Œ å¯ä»¥åœ¨ä½ çš„æµè§ˆå™¨è®¿é—®ä½ çš„ <code>node</code> æ¥å£äº†</li>\n</ul>\n<h2 id=\"éƒ¨ç½²å‰ç«¯é¡¹ç›®\"><a href=\"#éƒ¨ç½²å‰ç«¯é¡¹ç›®\" class=\"headerlink\" title=\"éƒ¨ç½²å‰ç«¯é¡¹ç›®\"></a>éƒ¨ç½²å‰ç«¯é¡¹ç›®</h2><ul>\n<li>åœ¨å®å¡”é¢æ¿å·¦ä¾§ç½‘ç«™ä¸­æ‰¾åˆ°è‡ªå·±çš„ç½‘ç«™ï¼Œå¯ä»¥å†ç½‘ç«™é‡Œé¢æ‰‹åŠ¨æ·»åŠ æ–‡ä»¶ï¼Œæ–‡ä»¶å¤¹ç­‰ç­‰ï¼Œé€šè¿‡ url çš„æ–¹å¼å»è®¿é—®ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è®¾ç½®æƒé™ã€‚<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112210036.13lqy7hdeo.webp\" alt=\"x\"></li>\n<li>è¿™é‡Œå°±æ˜¯æˆ‘ä¸Šä¼ çš„å‰ç«¯é¡µé¢äº†ï¼Œ å½“ç„¶ä½ å¯ä»¥æ‰‹åŠ¨æ‰“åŒ…å‰ç«¯é¡¹ç›®ï¼Œ é€šè¿‡æ‰‹åŠ¨ä¸Šä¼ ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å·¥å…· <code>xftp7</code>å»ä¸Šä¼ , éƒ½æ˜¯å¯ä»¥çš„ï¼Œ æ ¹æ®ä¸ªäººå–œå¥½å»ä¸Šä¼ ã€‚</li>\n</ul>\n<h2 id=\"éƒ¨ç½²-MongoDB-æ•°æ®åº“\"><a href=\"#éƒ¨ç½²-MongoDB-æ•°æ®åº“\" class=\"headerlink\" title=\"éƒ¨ç½² MongoDB æ•°æ®åº“\"></a>éƒ¨ç½² MongoDB æ•°æ®åº“</h2><ul>\n<li>å·¦ä¾§è½¯ä»¶å•†åŸä¸‹è½½ <code>mongodb</code>è½¯ä»¶ï¼Œ ä¸‹è½½ä¹‹åæ‰“å¼€è®¾ç½®,<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112210336.175cvxc7oj.png\" alt=\"x\"></li>\n<li>æ¥ç€è®¾ç½®æ•°æ®åº“ç”¨æˆ·å¯†ç ï¼Œä¿è¯å…¶å®‰å…¨æ€§</li>\n<li>è¿›å…¥ç›®å½•</li>\n</ul>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// è¿›å…¥ç›®å½•</span><br><span class=\"line\"><span class=\"built_in\">cd</span> /www/server/mongodb/bin</span><br><span class=\"line\"></span><br><span class=\"line\">// åˆ‡æ¢ mongoç¯å¢ƒ</span><br><span class=\"line\">mongo</span><br><span class=\"line\"></span><br><span class=\"line\">// åˆ‡æ¢åˆ°adminæ•°æ®åº“</span><br><span class=\"line\">use admin</span><br><span class=\"line\"></span><br><span class=\"line\">// ç»™adminæ•°æ®åº“è®¾ç½®ç”¨æˆ·å¯†ç </span><br><span class=\"line\">db.createUser(&#123;user: <span class=\"string\">&#x27;ä½ çš„ç”¨æˆ·å&#x27;</span>, <span class=\"built_in\">pwd</span>: <span class=\"string\">&#x27;ä½ çš„å¯†ç &#x27;</span>, roles: [<span class=\"string\">&#x27;root&#x27;</span>]&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// éªŒè¯æ˜¯å¦æ·»åŠ æˆåŠŸ</span><br><span class=\"line\">db.auth(<span class=\"string\">&#x27;ä½ çš„ç”¨æˆ·å&#x27;</span>, <span class=\"string\">&#x27;ä½ çš„å¯†ç &#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">// å¦‚æœè¿”å› â€˜1â€™è¡¨ç¤ºéªŒè¯æˆåŠŸï¼Œ å¦‚æœæ˜¯ â€˜0â€™ è¡¨ç¤ºéªŒè¯å¤±è´¥ã€‚</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><a href=\"https://blog.csdn.net/qq_39314291/article/details/112561177\">å®å¡”é¢æ¿ä½¿ç”¨ MongoDB</a></li>\n</ul>\n<h2 id=\"è¿œç¨‹è¿æ¥æœåŠ¡å™¨çš„æ•°æ®åº“\"><a href=\"#è¿œç¨‹è¿æ¥æœåŠ¡å™¨çš„æ•°æ®åº“\" class=\"headerlink\" title=\"è¿œç¨‹è¿æ¥æœåŠ¡å™¨çš„æ•°æ®åº“\"></a>è¿œç¨‹è¿æ¥æœåŠ¡å™¨çš„æ•°æ®åº“</h2><ul>\n<li>å…¶å®å°±ä¸€è¡Œä»£ç å°±å¯ä»¥äº†</li>\n</ul>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// mongodb://ä½ çš„ç”¨æˆ·å:ä½ çš„å¯†ç @æœåŠ¡å™¨å…¬ç½‘ip:27017/æ•°æ®åº“å?authSource=admin</span><br><span class=\"line\">mongodb://myName:123456@xx.xxx.xxx.xx:27017/myMall?authSource=admin</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å…·ä½“ä½¿ç”¨å¯ä»¥å‚è€ƒæ–‡ç« ï¼š <a href=\"http://www.qianduan8.com/1794.html\">Node å¦‚ä½•é€šè¿‡è´¦å·å¯†ç è¿æ¥è¿œç¨‹æœåŠ¡å™¨çš„ MongoDB æ•°æ®åº“ï¼Ÿ</a></li>\n</ul>\n<h2 id=\"æ‰€æœ‰çš„æ­¥éª¤æ“ä½œå®Œæˆä¹‹åï¼Œä¸Šä¼ è‡ªå·±å†™çš„ç½‘ç«™ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š\"><a href=\"#æ‰€æœ‰çš„æ­¥éª¤æ“ä½œå®Œæˆä¹‹åï¼Œä¸Šä¼ è‡ªå·±å†™çš„ç½‘ç«™ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š\" class=\"headerlink\" title=\"æ‰€æœ‰çš„æ­¥éª¤æ“ä½œå®Œæˆä¹‹åï¼Œä¸Šä¼ è‡ªå·±å†™çš„ç½‘ç«™ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š\"></a>æ‰€æœ‰çš„æ­¥éª¤æ“ä½œå®Œæˆä¹‹åï¼Œä¸Šä¼ è‡ªå·±å†™çš„ç½‘ç«™ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</h2><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112211239.7ax4ydiekt.webp\" alt=\"x\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112211302.4qralqikfz.webp\" alt=\"x\"></p>\n","excerpt":"","more":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>æ­å»ºå±äºè‡ªå·±çš„ç½‘ç«™, å‰å‡ å¤©è‡ªå·±åŠ¨æ‰‹è´­ä¹°äº†ä¸€å°è…¾è®¯äº‘è½»é‡çº§æœåŠ¡å™¨ï¼Œè‡ªå·±å†™ä»£ç ï¼Œnode ä½œä¸ºæœåŠ¡ç«¯å»å†™æ¥å£, ç®€å•éƒ¨ç½²ä¸€ä¸‹ç½‘ç«™çš„æ­å»ºåˆ°æœåŠ¡å™¨çš„éƒ¨ç½²å†åˆ°æ•°æ®åº“çš„æ“ä½œã€‚ æ•´ä½“ä¸‹æ¥æ„Ÿè§‰è¿˜æ˜¯æœ‰ç‚¹å‘ï¼Œä»Šå¤©æ­£å¥½æœ‰æ—¶é—´ï¼Œè®°å½•ä¸€ä¸‹æ­å»ºç¯å¢ƒæ—¶éœ€è¦æ³¨æ„çš„ï¼Œ è‡ªå·±ä¹Ÿæ€»ç»“ä¸€ä¸‹æ­å»ºçš„æ­¥éª¤ã€‚</p>\n<h2 id=\"é¦–å…ˆæ‹¥æœ‰å±äºè‡ªå·±çš„åŸŸå\"><a href=\"#é¦–å…ˆæ‹¥æœ‰å±äºè‡ªå·±çš„åŸŸå\" class=\"headerlink\" title=\"é¦–å…ˆæ‹¥æœ‰å±äºè‡ªå·±çš„åŸŸå\"></a>é¦–å…ˆæ‹¥æœ‰å±äºè‡ªå·±çš„åŸŸå</h2><p>è¿™é‡Œä¸åšè¿‡å¤šçš„ä»‹ç», ,</p>\n<ul>\n<li><a href=\"https://dnspod.cloud.tencent.com/\">è…¾è®¯äº‘</a>æ³¨å†ŒåŸŸååŠä½¿ç”¨, ä»‹ç»äº†åŸŸåçš„ä½¿ç”¨åŠå¤‡æ¡ˆã€‚</li>\n<li><code>DNS</code> è§£æåŸŸå</li>\n<li>å…¶ä»–çš„å¯ä»¥å†å®˜ç½‘æˆ–è€…ç™¾åº¦ä¸Šè¿›è¡ŒæŸ¥é˜…</li>\n</ul>\n<h2 id=\"æ¥ä¸‹æ¥è´­ä¹°å±äºè‡ªå·±çš„æœåŠ¡å™¨\"><a href=\"#æ¥ä¸‹æ¥è´­ä¹°å±äºè‡ªå·±çš„æœåŠ¡å™¨\" class=\"headerlink\" title=\"æ¥ä¸‹æ¥è´­ä¹°å±äºè‡ªå·±çš„æœåŠ¡å™¨\"></a>æ¥ä¸‹æ¥è´­ä¹°å±äºè‡ªå·±çš„æœåŠ¡å™¨</h2><ul>\n<li>å…¶å®è¿˜æ˜¯å¾ˆç®€å•çš„,é¦–å…ˆæˆ‘ä»¬å…ˆåœ¨è…¾è®¯äº‘è´­ä¹°å±äºè‡ªå·±çš„ <code>è½»é‡çº§æœåŠ¡å™¨(è¾ƒä¾¿å®œ,é€‚åˆæ–°æ‰‹)</code>, ç›´æ¥ç™»å½•è‡ªå·±çš„å¾®ä¿¡å·, å¦‚æœæ‰¾ä¸åˆ°, ç›´æ¥æœç´¢ <code>è½»é‡çº§æœåŠ¡å™¨</code> å°±åœ¨å·¦ä¸Šè§’çš„äº‘äº§å“é‡Œã€‚<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112203053.7p3kp8d4ry.webp\" alt=\"x\"></li>\n<li>æ¥ç€, æˆ‘ä»¬é€‰æ‹©é•œåƒï¼Œ é€‰æ‹© å®å¡”é•œåƒå°±å¯ä»¥äº†ã€‚</li>\n<li>å®‰è£…å®å¡”ï¼Œé¿å…äº†å»æ“ä½œå¤§é‡æ“ä½œ Linuxï¼Œ å®å¡”è‡ªå¸¦å¯è§†åŒ–é¢æ¿ã€‚</li>\n<li>å…¶ä»–çš„æ ¹æ®è‡ªå·±éœ€è¦å»è´­ä¹°é…ç½®å³å¯ã€‚</li>\n<li>æœåŠ¡å™¨åˆ›å»ºä¹‹åï¼Œåœ¨åº”ç”¨ç®¡ç†æ‰¾åˆ°ç™»å½•ï¼Œæ ¹æ®è¦æ±‚å°±å¯ä»¥æœ‰è‡ªå·±çš„å®å¡”é¢æ¿çš„ç™»å½•é“¾æ¥å’Œè´¦å·å¯†ç äº†ã€‚</li>\n<li>ç™»å½•è¿‡åï¼Œå…³è”è‡ªå·±çš„äº‘æœåŠ¡å™¨ï¼Œæ ¹æ®è¦æ±‚å°±å¯ä»¥ï¼Œ è¿™é‡Œæˆ‘ç•¥è¿‡ (å®˜æ–¹æœ‰è¯´æ˜æ–‡æ¡£)<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112205120.6f0niwxflg.webp\" alt=\"x\"></li>\n<li>ç‚¹å‡»å·¦ä¾§çš„ç½‘ç«™ï¼Œéƒ¨ç½²è‡ªå·±çš„åŸŸåç½‘ç«™ï¼Œæ·»åŠ ç«™ç‚¹ æ˜¯ä½ çš„è´­ä¹°åŸŸå, ä¸‹é¢ç›´æ¥åš DNS è§£æå°±å¯ä»¥äº†ã€‚ç›´æ¥åœ¨æµè§ˆå™¨è¾“å…¥è‡ªå·±çš„åŸŸå å°±å¯ä»¥è®¿é—®ï¼Œ<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112205257.92q3t9rehv.webp\" alt=\"x\"></li>\n<li>å‘ç°è‡ªå·±çš„ç½‘ç«™æ˜¯å¯ä»¥æ‰“å¼€çš„ï¼Œ è§‰å¾—é¡µé¢ç©ºç©ºå¦‚ä¹Ÿï¼Œ åªæœ‰é»˜è®¤çš„é¡µé¢ï¼Œ é‚£å°±åªæœ‰è‡ªå·±æ‰‹åŠ¨å»æ•²ä»£ç , å†™é¡µé¢äº†ã€‚</li>\n</ul>\n<h2 id=\"éœ€è¦æ³¨æ„çš„åœ°æ–¹\"><a href=\"#éœ€è¦æ³¨æ„çš„åœ°æ–¹\" class=\"headerlink\" title=\"éœ€è¦æ³¨æ„çš„åœ°æ–¹\"></a>éœ€è¦æ³¨æ„çš„åœ°æ–¹</h2><ul>\n<li>æœåŠ¡å™¨å®‰å…¨ç»„å’Œå®å¡”é¢æ¿çš„ç«¯å£è¦æš´éœ²å‡ºå»</li>\n<li>å°±åƒ <code>mongodb 27017</code> ç«¯å£æš´éœ², è¿™æ ·è‡ªå·±æœ¬åœ°å°±å¯ä»¥è®¿é—®æœåŠ¡å™¨çš„æ•°æ®åº“äº†ï¼Œ æœåŠ¡å™¨çš„æ•°æ®åº“ æ•°æ®åªæ˜¯å­˜åœ¨è‡ªå·±çš„ç½‘ç«™ä¸Šé¢ï¼Œ è¦å®šæ—¶å¤‡ä»½æ•°æ®<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.3uut6a0hhv.webp\" alt=\"x\"><br>åœ¨è¿™é‡Œæ·»åŠ è‡ªå·±çš„å®šæ—¶ä»»åŠ¡.</li>\n</ul>\n<h2 id=\"éƒ¨ç½²-node-æœåŠ¡\"><a href=\"#éƒ¨ç½²-node-æœåŠ¡\" class=\"headerlink\" title=\"éƒ¨ç½² node æœåŠ¡\"></a>éƒ¨ç½² node æœåŠ¡</h2><ul>\n<li>åœ¨è½¯ä»¶å•†åŸä¸‹è½½ <code>pm2</code>ç®¡ç†å™¨, æ ¹æ®è‡ªå·±çš„éœ€è¦ å»å®‰è£… <code>yarn</code>, é»˜è®¤çš„æ˜¯<code>nm</code>, æˆ‘ä¸ªäººå–œæ¬¢<code>yarn</code>ï¼Œ é€Ÿåº¦å¿«ä¸€äº›ã€‚<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/server_bs_5.6m3veco42b.webp\" alt=\"x\"></li>\n<li>æ ¹æ®è‡ªå·±çš„éœ€è¦å»é…ç½®ä¸€ä¸‹è‡ªå·±çš„ node æœåŠ¡çš„é¡¹ç›®ï¼Œ è¿™æ—¶è¿™ä¸ªç«¯å£å· æ˜¯ä½  <code>node bin/www</code> æ–‡ä»¶é‡Œé¢çš„ <code>port</code>ï¼Œ åŒæ—¶å®‰å…¨ç»„ä¹Ÿè¦æ”¾å¼€ç«¯å£, æˆ‘ä»¬åœ¨ <code>web</code> é¡¹ç›®ä¸­å¯ä»¥è®¿é—® æœåŠ¡å™¨ä¸­çš„ <code>api</code> æ¥å£åœ°å€äº†</li>\n<li>æ¥ä¸‹æ¥å°±å¯ä»¥å¯åŠ¨ <code>node</code> æœåŠ¡äº†ï¼Œ å¯ä»¥åœ¨ä½ çš„æµè§ˆå™¨è®¿é—®ä½ çš„ <code>node</code> æ¥å£äº†</li>\n</ul>\n<h2 id=\"éƒ¨ç½²å‰ç«¯é¡¹ç›®\"><a href=\"#éƒ¨ç½²å‰ç«¯é¡¹ç›®\" class=\"headerlink\" title=\"éƒ¨ç½²å‰ç«¯é¡¹ç›®\"></a>éƒ¨ç½²å‰ç«¯é¡¹ç›®</h2><ul>\n<li>åœ¨å®å¡”é¢æ¿å·¦ä¾§ç½‘ç«™ä¸­æ‰¾åˆ°è‡ªå·±çš„ç½‘ç«™ï¼Œå¯ä»¥å†ç½‘ç«™é‡Œé¢æ‰‹åŠ¨æ·»åŠ æ–‡ä»¶ï¼Œæ–‡ä»¶å¤¹ç­‰ç­‰ï¼Œé€šè¿‡ url çš„æ–¹å¼å»è®¿é—®ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è®¾ç½®æƒé™ã€‚<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112210036.13lqy7hdeo.webp\" alt=\"x\"></li>\n<li>è¿™é‡Œå°±æ˜¯æˆ‘ä¸Šä¼ çš„å‰ç«¯é¡µé¢äº†ï¼Œ å½“ç„¶ä½ å¯ä»¥æ‰‹åŠ¨æ‰“åŒ…å‰ç«¯é¡¹ç›®ï¼Œ é€šè¿‡æ‰‹åŠ¨ä¸Šä¼ ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å·¥å…· <code>xftp7</code>å»ä¸Šä¼ , éƒ½æ˜¯å¯ä»¥çš„ï¼Œ æ ¹æ®ä¸ªäººå–œå¥½å»ä¸Šä¼ ã€‚</li>\n</ul>\n<h2 id=\"éƒ¨ç½²-MongoDB-æ•°æ®åº“\"><a href=\"#éƒ¨ç½²-MongoDB-æ•°æ®åº“\" class=\"headerlink\" title=\"éƒ¨ç½² MongoDB æ•°æ®åº“\"></a>éƒ¨ç½² MongoDB æ•°æ®åº“</h2><ul>\n<li>å·¦ä¾§è½¯ä»¶å•†åŸä¸‹è½½ <code>mongodb</code>è½¯ä»¶ï¼Œ ä¸‹è½½ä¹‹åæ‰“å¼€è®¾ç½®,<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112210336.175cvxc7oj.png\" alt=\"x\"></li>\n<li>æ¥ç€è®¾ç½®æ•°æ®åº“ç”¨æˆ·å¯†ç ï¼Œä¿è¯å…¶å®‰å…¨æ€§</li>\n<li>è¿›å…¥ç›®å½•</li>\n</ul>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// è¿›å…¥ç›®å½•</span><br><span class=\"line\"><span class=\"built_in\">cd</span> /www/server/mongodb/bin</span><br><span class=\"line\"></span><br><span class=\"line\">// åˆ‡æ¢ mongoç¯å¢ƒ</span><br><span class=\"line\">mongo</span><br><span class=\"line\"></span><br><span class=\"line\">// åˆ‡æ¢åˆ°adminæ•°æ®åº“</span><br><span class=\"line\">use admin</span><br><span class=\"line\"></span><br><span class=\"line\">// ç»™adminæ•°æ®åº“è®¾ç½®ç”¨æˆ·å¯†ç </span><br><span class=\"line\">db.createUser(&#123;user: <span class=\"string\">&#x27;ä½ çš„ç”¨æˆ·å&#x27;</span>, <span class=\"built_in\">pwd</span>: <span class=\"string\">&#x27;ä½ çš„å¯†ç &#x27;</span>, roles: [<span class=\"string\">&#x27;root&#x27;</span>]&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// éªŒè¯æ˜¯å¦æ·»åŠ æˆåŠŸ</span><br><span class=\"line\">db.auth(<span class=\"string\">&#x27;ä½ çš„ç”¨æˆ·å&#x27;</span>, <span class=\"string\">&#x27;ä½ çš„å¯†ç &#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">// å¦‚æœè¿”å› â€˜1â€™è¡¨ç¤ºéªŒè¯æˆåŠŸï¼Œ å¦‚æœæ˜¯ â€˜0â€™ è¡¨ç¤ºéªŒè¯å¤±è´¥ã€‚</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><a href=\"https://blog.csdn.net/qq_39314291/article/details/112561177\">å®å¡”é¢æ¿ä½¿ç”¨ MongoDB</a></li>\n</ul>\n<h2 id=\"è¿œç¨‹è¿æ¥æœåŠ¡å™¨çš„æ•°æ®åº“\"><a href=\"#è¿œç¨‹è¿æ¥æœåŠ¡å™¨çš„æ•°æ®åº“\" class=\"headerlink\" title=\"è¿œç¨‹è¿æ¥æœåŠ¡å™¨çš„æ•°æ®åº“\"></a>è¿œç¨‹è¿æ¥æœåŠ¡å™¨çš„æ•°æ®åº“</h2><ul>\n<li>å…¶å®å°±ä¸€è¡Œä»£ç å°±å¯ä»¥äº†</li>\n</ul>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// mongodb://ä½ çš„ç”¨æˆ·å:ä½ çš„å¯†ç @æœåŠ¡å™¨å…¬ç½‘ip:27017/æ•°æ®åº“å?authSource=admin</span><br><span class=\"line\">mongodb://myName:123456@xx.xxx.xxx.xx:27017/myMall?authSource=admin</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å…·ä½“ä½¿ç”¨å¯ä»¥å‚è€ƒæ–‡ç« ï¼š <a href=\"http://www.qianduan8.com/1794.html\">Node å¦‚ä½•é€šè¿‡è´¦å·å¯†ç è¿æ¥è¿œç¨‹æœåŠ¡å™¨çš„ MongoDB æ•°æ®åº“ï¼Ÿ</a></li>\n</ul>\n<h2 id=\"æ‰€æœ‰çš„æ­¥éª¤æ“ä½œå®Œæˆä¹‹åï¼Œä¸Šä¼ è‡ªå·±å†™çš„ç½‘ç«™ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š\"><a href=\"#æ‰€æœ‰çš„æ­¥éª¤æ“ä½œå®Œæˆä¹‹åï¼Œä¸Šä¼ è‡ªå·±å†™çš„ç½‘ç«™ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š\" class=\"headerlink\" title=\"æ‰€æœ‰çš„æ­¥éª¤æ“ä½œå®Œæˆä¹‹åï¼Œä¸Šä¼ è‡ªå·±å†™çš„ç½‘ç«™ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š\"></a>æ‰€æœ‰çš„æ­¥éª¤æ“ä½œå®Œæˆä¹‹åï¼Œä¸Šä¼ è‡ªå·±å†™çš„ç½‘ç«™ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</h2><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112211239.7ax4ydiekt.webp\" alt=\"x\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112211302.4qralqikfz.webp\" alt=\"x\"></p>\n"},{"title":"æœåŠ¡å™¨/è¿è¥-ç§åº“","abbrlink":"f5648ec6","date":"2024-07-08T01:05:01.000Z","_content":"\n# ä»‹ç»\n\nè¿‘æœŸåœ¨`review`ä»£ç çš„æ—¶å€™å‘ç°äº†ä¸€äº›å…³äºé¡¹ç›®çš„é—®é¢˜ï¼Œé¡¹ç›®ä¸­å†—ä½™çš„ä»£ç æ¯”è¾ƒå¤šï¼Œæœ‰å¾ˆå¤šéƒ½æ˜¯è¾…åŠ©ç²˜è´´çš„ï¼Œ\nä¸€äº›`utils`å·¥å…·ä»¥åŠä¸€äº›æ–¹æ³•éƒ½æ˜¯å¤šä½™çš„ï¼Œè¿™æ ·ä¸æ˜¯ä¸€ä¸ªä¿©ä¸ªé¡¹ç›®æ˜¯è¿™æ ·çš„ï¼ŒåŸºæœ¬å¤§éƒ¨åˆ†é¡¹ç›®éƒ½æ˜¯è¿™æ ·çš„ï¼›\n\nå¯¹äºä¼ä¸šçº§çš„é¡¹ç›®ï¼Œæ²¡æœ‰ä»»ä½•å…³äºä¼ä¸šçš„ä¸€äº›å·¥å…·ï¼Œè¿™æ ·æˆ‘æƒ³åˆ°ä¸€ç§å¯èƒ½ï¼šå°±æ˜¯å°†ä¸€äº›å·¥å…·ç»Ÿä¸€å°è£…æˆå…¬å¸å†…éƒ¨\nä¸“ç”¨çš„ç»„ä»¶æˆ–è€…å·¥å…·ï¼Œå› ä¸ºå…¬å¸å†…éƒ¨éƒ½æ˜¯å†…ç½‘å¼€å‘çš„ï¼Œä¸é€‚ç”¨äºå°†`npm`åŒ…ä¸Šä¼ åˆ°`npm`ä¸Šï¼Œé‚£ä¹ˆæˆ‘äº†è§£åˆ°ä¸€ä¸ª`nexus3`\nåˆšå¥½å¯ä»¥éƒ¨ç½²ç§æœ‰åŒ–çš„å·¥å…·ï¼›\n\n## ä½¿ç”¨\n\né¦–å…ˆè¿˜æ˜¯ç”¨åˆ°ä¹‹å‰`1Panel`éƒ¨ç½²çš„æœåŠ¡ï¼ŒåŒæ ·åœ¨`åº”ç”¨å•†åº—`ä¸‹è½½`nexus`;\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2obja6y7m7.webp)\n\nç„¶åç­‰å¾…å®‰è£…ï¼Œå®‰è£…å®Œæˆè¿‡ä¹‹åå°±å¯ä»¥æ‰“å¼€äº†ï¼Œæ‰“å¼€ä¹‹åç‚¹å‡»å³ä¸Šè§’çš„ç™»å½•ï¼Œç¬¬ä¸€æ¬¡ç™»å½•å¯†ç æœ‰å­˜æ”¾çš„ç›®å½•ï¼Œæ‰¾åˆ°è¾“å…¥ç„¶åéœ€è¦\né‡ç½®å¯†ç ï¼›\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.3d4su7rvhz.webp)\n\n### åˆ›å»º blob å­˜å‚¨\n\nè¿™é‡Œéœ€è¦è¯´æ˜ä¸€ä¸‹ï¼š\n\n- `hosted`: æœ¬åœ°å­˜å‚¨ï¼Œåƒå®˜æ–¹ä¸€æ ·æä¾›æœ¬åœ°ç§åº“åŠŸèƒ½\n- `proxy`ï¼šæä¾›ä»£ç†å…¶ä»–ä»“åº“çš„ç±»å‹ï¼Œå¦‚ docker ä¸­å¤®ä»“\n- `group`ï¼šç»„ç±»å‹ï¼Œå®è´¨ä½œç”¨æ˜¯ç»„åˆå¤šä¸ªä»“åº“ä¸ºä¸€ä¸ªåœ°å€\n\næ¥ç€ï¼Œä¸ºå…¶åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„å­˜å‚¨ç©ºé—´ï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.39l6wi4ad2.webp)\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2a53jc3z6u.webp)\n\n### åˆ›å»º hosted ç±»å‹çš„ npm\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.5xan6v0od1.webp)\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7egs8m721a.webp)\n\n- `Name`: å®šä¹‰ä¸€ä¸ªåç§°\n- `Storage`ï¼šæˆ‘ä»¬ä¸‹æ‹‰é€‰æ‹©å‰é¢åˆ›å»ºå¥½çš„ä¸“ç”¨ ã€‚\n- `Hosted`ï¼šå¼€å‘ç¯å¢ƒï¼Œæˆ‘ä»¬è¿è¡Œé‡å¤å‘å¸ƒï¼Œå› æ­¤ Delpoyment policy æˆ‘ä»¬é€‰æ‹© Allow redeployã€‚è¿™ä¸ªå¾ˆé‡è¦ï¼\n\n### åˆ›å»ºä¸€ä¸ª proxy ç±»å‹çš„ npm ä»“åº“\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8ojpextl98.webp)\n\n### åˆ›å»ºä¸€ä¸ª group ç±»å‹çš„ npm ä»“åº“ã€‚\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.70achr5tdh.webp)\n\nè¿™äº›é…ç½®å®Œæˆä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ã€‚\n\né‚£å°±åœ¨è‡ªå·±ç”µè„‘ä¸Šæµ‹è¯•ä¸€ä¸‹ï¼š\n\n## æµ‹è¯•ä½¿ç”¨\n\nåˆ›å»ºä¸€ä¸ªç›®å½•`demo-npm`çš„ç©ºç™½é¡¹ç›®ï¼Œç„¶ååœ¨ç»ˆç«¯è¾“å‡º`npm config get registry`çœ‹ä¸€ä¸‹è‡ªå·±ç”µè„‘çš„æºåœ°å€:\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2krxchyss8.webp)\n\næ¥ç€æˆ‘ä»¬éœ€è¦åœ¨è¿™ä¸ªé¡¹ç›®é…ç½®ç§æœ‰æº\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.3nrmndxyn3.webp)\n\n```bash\nnpm config set registry http://154.37.212.237:8081/repository/npm-store-group/\n```\n\nè®¾ç½®æˆåŠŸä¹‹åï¼Œå¦‚å›¾\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.6t74mbt6ir.webp)\næ˜¯æ²¡æœ‰ä»»ä½•çš„ä¾èµ–çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨`demo-npm`æ‰§è¡Œä¸€ä¸‹`pnpm init  pnpm add express`, æ‰§è¡Œå®Œæˆä¹‹åå°±å¯ä»¥çœ‹è§\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7egs8mszat.webp)\n\nè¿™æ ·çš„è¯æˆ‘ä»¬å°±ä¼šæŠŠä¸€äº›ä¾èµ–ä¸Šä¼ åˆ°`nexus`,åé¢å°±ç›´æ¥ä½¿ç”¨ç§åº“è¿›è¡Œ`install`,è¿™æ ·åœ¨å†…ç½‘ä¸Šçº¿è¿›è¡Œ`install`å°±ä¼šå¿«å¾ˆå¤šï¼›\n\nå½“ç„¶å¯¹äºä¸åŒé¡¹ç›®çš„ç‰ˆæœ¬éƒ½æ˜¯ä¸ä¸€è‡´çš„ï¼Œé‚£ä¹ˆå®ƒæœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯ä¸ä¼šè¦†ç›–ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè€Œæ˜¯åœ¨åŸæ¥çš„åŸºç¡€ä¸Šåœ¨æ–°å¢ä¸€ä¸ªç‰ˆæœ¬ï¼›è¿™é‡Œæ‹¿`vue`ä¸¾ä¾‹ï¼Œå¦‚å›¾ï¼š\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.13lsarggrr.webp)\n\n## ç§åº“å¼€å‘æ’ä»¶\n\nå°±å¥½å¦‚ä½ å¼€å‘å±äºå…¬å¸çš„æ’ä»¶é‚£ä¹ˆå°±éœ€è¦ä¸Šä¼ åˆ°ç§åº“ï¼Œé¦–å…ˆä½ éœ€è¦è®¾ç½®å¯¹åº”çš„æºåœ°å€ï¼Œä¸è¿‡è¿™é‡Œåªèƒ½è®¾ç½®`hosted`å¦‚å›¾ï¼š\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.6f0ovh6a1n.webp)\n\nåœ¨é¡¹ç›®ä¸­è®¾ç½®æºåœ°å€\n\n```bash\nnpm config set registry http://154.37.212.237:8081/repository/npm-store-local/\n```\n\nè®¾ç½®å®Œæˆä¹‹åï¼Œéœ€è¦è®¾ç½®ä¸€ä¸ªè§’è‰²ï¼š\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7i0e6dccyb.webp)\n\nè®¾ç½®å®Œæˆä¹‹åï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªæ’ä»¶çš„ç”¨æˆ·ï¼š\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8vmxaepudl.webp)\n\n<p style=\"color: #ff0000\">æ³¨æ„ï¼šå¯èƒ½ä¼šå‡ºç°æ²¡æœ‰æƒé™çš„æƒ…å†µï¼šBASIC realm=\"Sonatype Nexus Repository Manager\", å¦‚æœå‡ºç°ä»¥ä¸‹æƒ…å†µï¼Œéœ€è¦è®¾ç½®å¦‚å›¾</p>\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.60u97nud0p.webp)\n\nå®Œæˆä¹‹ååœ¨éœ€è¦ä¸Šä¼ æ’ä»¶çš„é¡¹ç›®æ‰§è¡Œ\n\n```bash\nnpm login\n```\n\nè¾“å…¥åˆšåˆšåˆ›å»ºçš„ç”¨æˆ·ä»¥åŠå¯†ç ï¼š\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.4jo42vasbt.webp)\n\nç™»å½•æˆåŠŸä¹‹åï¼Œå†æ¬¡æ‰§è¡Œ\n\n```bash\nnpm publish\n```\n\nå›è½¦ä¹‹åå‘ç°ä¸€ä¸ªé”™è¯¯ï¼Œ\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.4n7q0l6hnj.webp)\n\nè¿™ä¸ªé”™è¯¯çš„æ„æ€æ˜¯ï¼š`package.json`ä¸­ä¸èƒ½è®¾ç½®`\"private\": true`;ç„¶ååˆ é™¤ä¹‹åé‡æ–°æ‰§è¡Œ`npm publish`\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.1ap067wp4u.webp)\n\nçœ‹ï¼Œå‘å¸ƒæˆåŠŸäº†ï¼Œæ¥ç€çœ‹ä¸‹ç§åº“é‡Œæœ‰æ²¡æœ‰\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.4xujtqt583.webp)\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8ad9o4asbw.webp)\n\nå˜¿å˜¿ï¼Œè¿™æ ·å°±æˆåŠŸäº†ï¼Œæ¥ç€åœ¨`demo-npm`é¡¹ç›®ä¸­å®‰è£…è¿™ä¸ªæ’ä»¶\n\nè¿è¡Œ`npm config get registry` å¦‚æœè¿”å›çš„æ˜¯`local`ï¼Œ é‚£ä¹ˆå°±éœ€è¦è®¾ç½®`groUp`\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8s3bcpkjog.webp)\n","source":"_posts/æŠ€èƒ½å°å†Œ/æœåŠ¡å™¨-è¿è¥/ç§åº“.md","raw":"---\ntitle: æœåŠ¡å™¨/è¿è¥-ç§åº“\nabbrlink: f5648ec6\ndate: 2024-07-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - æœåŠ¡å™¨/è¿è¥\n---\n\n# ä»‹ç»\n\nè¿‘æœŸåœ¨`review`ä»£ç çš„æ—¶å€™å‘ç°äº†ä¸€äº›å…³äºé¡¹ç›®çš„é—®é¢˜ï¼Œé¡¹ç›®ä¸­å†—ä½™çš„ä»£ç æ¯”è¾ƒå¤šï¼Œæœ‰å¾ˆå¤šéƒ½æ˜¯è¾…åŠ©ç²˜è´´çš„ï¼Œ\nä¸€äº›`utils`å·¥å…·ä»¥åŠä¸€äº›æ–¹æ³•éƒ½æ˜¯å¤šä½™çš„ï¼Œè¿™æ ·ä¸æ˜¯ä¸€ä¸ªä¿©ä¸ªé¡¹ç›®æ˜¯è¿™æ ·çš„ï¼ŒåŸºæœ¬å¤§éƒ¨åˆ†é¡¹ç›®éƒ½æ˜¯è¿™æ ·çš„ï¼›\n\nå¯¹äºä¼ä¸šçº§çš„é¡¹ç›®ï¼Œæ²¡æœ‰ä»»ä½•å…³äºä¼ä¸šçš„ä¸€äº›å·¥å…·ï¼Œè¿™æ ·æˆ‘æƒ³åˆ°ä¸€ç§å¯èƒ½ï¼šå°±æ˜¯å°†ä¸€äº›å·¥å…·ç»Ÿä¸€å°è£…æˆå…¬å¸å†…éƒ¨\nä¸“ç”¨çš„ç»„ä»¶æˆ–è€…å·¥å…·ï¼Œå› ä¸ºå…¬å¸å†…éƒ¨éƒ½æ˜¯å†…ç½‘å¼€å‘çš„ï¼Œä¸é€‚ç”¨äºå°†`npm`åŒ…ä¸Šä¼ åˆ°`npm`ä¸Šï¼Œé‚£ä¹ˆæˆ‘äº†è§£åˆ°ä¸€ä¸ª`nexus3`\nåˆšå¥½å¯ä»¥éƒ¨ç½²ç§æœ‰åŒ–çš„å·¥å…·ï¼›\n\n## ä½¿ç”¨\n\né¦–å…ˆè¿˜æ˜¯ç”¨åˆ°ä¹‹å‰`1Panel`éƒ¨ç½²çš„æœåŠ¡ï¼ŒåŒæ ·åœ¨`åº”ç”¨å•†åº—`ä¸‹è½½`nexus`;\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2obja6y7m7.webp)\n\nç„¶åç­‰å¾…å®‰è£…ï¼Œå®‰è£…å®Œæˆè¿‡ä¹‹åå°±å¯ä»¥æ‰“å¼€äº†ï¼Œæ‰“å¼€ä¹‹åç‚¹å‡»å³ä¸Šè§’çš„ç™»å½•ï¼Œç¬¬ä¸€æ¬¡ç™»å½•å¯†ç æœ‰å­˜æ”¾çš„ç›®å½•ï¼Œæ‰¾åˆ°è¾“å…¥ç„¶åéœ€è¦\né‡ç½®å¯†ç ï¼›\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.3d4su7rvhz.webp)\n\n### åˆ›å»º blob å­˜å‚¨\n\nè¿™é‡Œéœ€è¦è¯´æ˜ä¸€ä¸‹ï¼š\n\n- `hosted`: æœ¬åœ°å­˜å‚¨ï¼Œåƒå®˜æ–¹ä¸€æ ·æä¾›æœ¬åœ°ç§åº“åŠŸèƒ½\n- `proxy`ï¼šæä¾›ä»£ç†å…¶ä»–ä»“åº“çš„ç±»å‹ï¼Œå¦‚ docker ä¸­å¤®ä»“\n- `group`ï¼šç»„ç±»å‹ï¼Œå®è´¨ä½œç”¨æ˜¯ç»„åˆå¤šä¸ªä»“åº“ä¸ºä¸€ä¸ªåœ°å€\n\næ¥ç€ï¼Œä¸ºå…¶åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„å­˜å‚¨ç©ºé—´ï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.39l6wi4ad2.webp)\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2a53jc3z6u.webp)\n\n### åˆ›å»º hosted ç±»å‹çš„ npm\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.5xan6v0od1.webp)\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7egs8m721a.webp)\n\n- `Name`: å®šä¹‰ä¸€ä¸ªåç§°\n- `Storage`ï¼šæˆ‘ä»¬ä¸‹æ‹‰é€‰æ‹©å‰é¢åˆ›å»ºå¥½çš„ä¸“ç”¨ ã€‚\n- `Hosted`ï¼šå¼€å‘ç¯å¢ƒï¼Œæˆ‘ä»¬è¿è¡Œé‡å¤å‘å¸ƒï¼Œå› æ­¤ Delpoyment policy æˆ‘ä»¬é€‰æ‹© Allow redeployã€‚è¿™ä¸ªå¾ˆé‡è¦ï¼\n\n### åˆ›å»ºä¸€ä¸ª proxy ç±»å‹çš„ npm ä»“åº“\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8ojpextl98.webp)\n\n### åˆ›å»ºä¸€ä¸ª group ç±»å‹çš„ npm ä»“åº“ã€‚\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.70achr5tdh.webp)\n\nè¿™äº›é…ç½®å®Œæˆä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ã€‚\n\né‚£å°±åœ¨è‡ªå·±ç”µè„‘ä¸Šæµ‹è¯•ä¸€ä¸‹ï¼š\n\n## æµ‹è¯•ä½¿ç”¨\n\nåˆ›å»ºä¸€ä¸ªç›®å½•`demo-npm`çš„ç©ºç™½é¡¹ç›®ï¼Œç„¶ååœ¨ç»ˆç«¯è¾“å‡º`npm config get registry`çœ‹ä¸€ä¸‹è‡ªå·±ç”µè„‘çš„æºåœ°å€:\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2krxchyss8.webp)\n\næ¥ç€æˆ‘ä»¬éœ€è¦åœ¨è¿™ä¸ªé¡¹ç›®é…ç½®ç§æœ‰æº\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.3nrmndxyn3.webp)\n\n```bash\nnpm config set registry http://154.37.212.237:8081/repository/npm-store-group/\n```\n\nè®¾ç½®æˆåŠŸä¹‹åï¼Œå¦‚å›¾\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.6t74mbt6ir.webp)\næ˜¯æ²¡æœ‰ä»»ä½•çš„ä¾èµ–çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨`demo-npm`æ‰§è¡Œä¸€ä¸‹`pnpm init  pnpm add express`, æ‰§è¡Œå®Œæˆä¹‹åå°±å¯ä»¥çœ‹è§\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7egs8mszat.webp)\n\nè¿™æ ·çš„è¯æˆ‘ä»¬å°±ä¼šæŠŠä¸€äº›ä¾èµ–ä¸Šä¼ åˆ°`nexus`,åé¢å°±ç›´æ¥ä½¿ç”¨ç§åº“è¿›è¡Œ`install`,è¿™æ ·åœ¨å†…ç½‘ä¸Šçº¿è¿›è¡Œ`install`å°±ä¼šå¿«å¾ˆå¤šï¼›\n\nå½“ç„¶å¯¹äºä¸åŒé¡¹ç›®çš„ç‰ˆæœ¬éƒ½æ˜¯ä¸ä¸€è‡´çš„ï¼Œé‚£ä¹ˆå®ƒæœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯ä¸ä¼šè¦†ç›–ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè€Œæ˜¯åœ¨åŸæ¥çš„åŸºç¡€ä¸Šåœ¨æ–°å¢ä¸€ä¸ªç‰ˆæœ¬ï¼›è¿™é‡Œæ‹¿`vue`ä¸¾ä¾‹ï¼Œå¦‚å›¾ï¼š\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.13lsarggrr.webp)\n\n## ç§åº“å¼€å‘æ’ä»¶\n\nå°±å¥½å¦‚ä½ å¼€å‘å±äºå…¬å¸çš„æ’ä»¶é‚£ä¹ˆå°±éœ€è¦ä¸Šä¼ åˆ°ç§åº“ï¼Œé¦–å…ˆä½ éœ€è¦è®¾ç½®å¯¹åº”çš„æºåœ°å€ï¼Œä¸è¿‡è¿™é‡Œåªèƒ½è®¾ç½®`hosted`å¦‚å›¾ï¼š\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.6f0ovh6a1n.webp)\n\nåœ¨é¡¹ç›®ä¸­è®¾ç½®æºåœ°å€\n\n```bash\nnpm config set registry http://154.37.212.237:8081/repository/npm-store-local/\n```\n\nè®¾ç½®å®Œæˆä¹‹åï¼Œéœ€è¦è®¾ç½®ä¸€ä¸ªè§’è‰²ï¼š\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7i0e6dccyb.webp)\n\nè®¾ç½®å®Œæˆä¹‹åï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªæ’ä»¶çš„ç”¨æˆ·ï¼š\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8vmxaepudl.webp)\n\n<p style=\"color: #ff0000\">æ³¨æ„ï¼šå¯èƒ½ä¼šå‡ºç°æ²¡æœ‰æƒé™çš„æƒ…å†µï¼šBASIC realm=\"Sonatype Nexus Repository Manager\", å¦‚æœå‡ºç°ä»¥ä¸‹æƒ…å†µï¼Œéœ€è¦è®¾ç½®å¦‚å›¾</p>\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.60u97nud0p.webp)\n\nå®Œæˆä¹‹ååœ¨éœ€è¦ä¸Šä¼ æ’ä»¶çš„é¡¹ç›®æ‰§è¡Œ\n\n```bash\nnpm login\n```\n\nè¾“å…¥åˆšåˆšåˆ›å»ºçš„ç”¨æˆ·ä»¥åŠå¯†ç ï¼š\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.4jo42vasbt.webp)\n\nç™»å½•æˆåŠŸä¹‹åï¼Œå†æ¬¡æ‰§è¡Œ\n\n```bash\nnpm publish\n```\n\nå›è½¦ä¹‹åå‘ç°ä¸€ä¸ªé”™è¯¯ï¼Œ\n\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.4n7q0l6hnj.webp)\n\nè¿™ä¸ªé”™è¯¯çš„æ„æ€æ˜¯ï¼š`package.json`ä¸­ä¸èƒ½è®¾ç½®`\"private\": true`;ç„¶ååˆ é™¤ä¹‹åé‡æ–°æ‰§è¡Œ`npm publish`\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.1ap067wp4u.webp)\n\nçœ‹ï¼Œå‘å¸ƒæˆåŠŸäº†ï¼Œæ¥ç€çœ‹ä¸‹ç§åº“é‡Œæœ‰æ²¡æœ‰\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.4xujtqt583.webp)\n![X](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8ad9o4asbw.webp)\n\nå˜¿å˜¿ï¼Œè¿™æ ·å°±æˆåŠŸäº†ï¼Œæ¥ç€åœ¨`demo-npm`é¡¹ç›®ä¸­å®‰è£…è¿™ä¸ªæ’ä»¶\n\nè¿è¡Œ`npm config get registry` å¦‚æœè¿”å›çš„æ˜¯`local`ï¼Œ é‚£ä¹ˆå°±éœ€è¦è®¾ç½®`groUp`\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8s3bcpkjog.webp)\n","slug":"æŠ€èƒ½å°å†Œ/æœåŠ¡å™¨-è¿è¥/ç§åº“","published":1,"updated":"2025-03-13T10:16:18.300Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j2004ufg9mho0u47si","content":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>è¿‘æœŸåœ¨<code>review</code>ä»£ç çš„æ—¶å€™å‘ç°äº†ä¸€äº›å…³äºé¡¹ç›®çš„é—®é¢˜ï¼Œé¡¹ç›®ä¸­å†—ä½™çš„ä»£ç æ¯”è¾ƒå¤šï¼Œæœ‰å¾ˆå¤šéƒ½æ˜¯è¾…åŠ©ç²˜è´´çš„ï¼Œ<br>ä¸€äº›<code>utils</code>å·¥å…·ä»¥åŠä¸€äº›æ–¹æ³•éƒ½æ˜¯å¤šä½™çš„ï¼Œè¿™æ ·ä¸æ˜¯ä¸€ä¸ªä¿©ä¸ªé¡¹ç›®æ˜¯è¿™æ ·çš„ï¼ŒåŸºæœ¬å¤§éƒ¨åˆ†é¡¹ç›®éƒ½æ˜¯è¿™æ ·çš„ï¼›</p>\n<p>å¯¹äºä¼ä¸šçº§çš„é¡¹ç›®ï¼Œæ²¡æœ‰ä»»ä½•å…³äºä¼ä¸šçš„ä¸€äº›å·¥å…·ï¼Œè¿™æ ·æˆ‘æƒ³åˆ°ä¸€ç§å¯èƒ½ï¼šå°±æ˜¯å°†ä¸€äº›å·¥å…·ç»Ÿä¸€å°è£…æˆå…¬å¸å†…éƒ¨<br>ä¸“ç”¨çš„ç»„ä»¶æˆ–è€…å·¥å…·ï¼Œå› ä¸ºå…¬å¸å†…éƒ¨éƒ½æ˜¯å†…ç½‘å¼€å‘çš„ï¼Œä¸é€‚ç”¨äºå°†<code>npm</code>åŒ…ä¸Šä¼ åˆ°<code>npm</code>ä¸Šï¼Œé‚£ä¹ˆæˆ‘äº†è§£åˆ°ä¸€ä¸ª<code>nexus3</code><br>åˆšå¥½å¯ä»¥éƒ¨ç½²ç§æœ‰åŒ–çš„å·¥å…·ï¼›</p>\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><p>é¦–å…ˆè¿˜æ˜¯ç”¨åˆ°ä¹‹å‰<code>1Panel</code>éƒ¨ç½²çš„æœåŠ¡ï¼ŒåŒæ ·åœ¨<code>åº”ç”¨å•†åº—</code>ä¸‹è½½<code>nexus</code>;</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2obja6y7m7.webp\" alt=\"X\"></p>\n<p>ç„¶åç­‰å¾…å®‰è£…ï¼Œå®‰è£…å®Œæˆè¿‡ä¹‹åå°±å¯ä»¥æ‰“å¼€äº†ï¼Œæ‰“å¼€ä¹‹åç‚¹å‡»å³ä¸Šè§’çš„ç™»å½•ï¼Œç¬¬ä¸€æ¬¡ç™»å½•å¯†ç æœ‰å­˜æ”¾çš„ç›®å½•ï¼Œæ‰¾åˆ°è¾“å…¥ç„¶åéœ€è¦<br>é‡ç½®å¯†ç ï¼›</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.3d4su7rvhz.webp\" alt=\"X\"></p>\n<h3 id=\"åˆ›å»º-blob-å­˜å‚¨\"><a href=\"#åˆ›å»º-blob-å­˜å‚¨\" class=\"headerlink\" title=\"åˆ›å»º blob å­˜å‚¨\"></a>åˆ›å»º blob å­˜å‚¨</h3><p>è¿™é‡Œéœ€è¦è¯´æ˜ä¸€ä¸‹ï¼š</p>\n<ul>\n<li><code>hosted</code>: æœ¬åœ°å­˜å‚¨ï¼Œåƒå®˜æ–¹ä¸€æ ·æä¾›æœ¬åœ°ç§åº“åŠŸèƒ½</li>\n<li><code>proxy</code>ï¼šæä¾›ä»£ç†å…¶ä»–ä»“åº“çš„ç±»å‹ï¼Œå¦‚ docker ä¸­å¤®ä»“</li>\n<li><code>group</code>ï¼šç»„ç±»å‹ï¼Œå®è´¨ä½œç”¨æ˜¯ç»„åˆå¤šä¸ªä»“åº“ä¸ºä¸€ä¸ªåœ°å€</li>\n</ul>\n<p>æ¥ç€ï¼Œä¸ºå…¶åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„å­˜å‚¨ç©ºé—´ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.39l6wi4ad2.webp\" alt=\"x\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2a53jc3z6u.webp\" alt=\"x\"></p>\n<h3 id=\"åˆ›å»º-hosted-ç±»å‹çš„-npm\"><a href=\"#åˆ›å»º-hosted-ç±»å‹çš„-npm\" class=\"headerlink\" title=\"åˆ›å»º hosted ç±»å‹çš„ npm\"></a>åˆ›å»º hosted ç±»å‹çš„ npm</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.5xan6v0od1.webp\" alt=\"x\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7egs8m721a.webp\" alt=\"x\"></p>\n<ul>\n<li><code>Name</code>: å®šä¹‰ä¸€ä¸ªåç§°</li>\n<li><code>Storage</code>ï¼šæˆ‘ä»¬ä¸‹æ‹‰é€‰æ‹©å‰é¢åˆ›å»ºå¥½çš„ä¸“ç”¨ ã€‚</li>\n<li><code>Hosted</code>ï¼šå¼€å‘ç¯å¢ƒï¼Œæˆ‘ä»¬è¿è¡Œé‡å¤å‘å¸ƒï¼Œå› æ­¤ Delpoyment policy æˆ‘ä»¬é€‰æ‹© Allow redeployã€‚è¿™ä¸ªå¾ˆé‡è¦ï¼</li>\n</ul>\n<h3 id=\"åˆ›å»ºä¸€ä¸ª-proxy-ç±»å‹çš„-npm-ä»“åº“\"><a href=\"#åˆ›å»ºä¸€ä¸ª-proxy-ç±»å‹çš„-npm-ä»“åº“\" class=\"headerlink\" title=\"åˆ›å»ºä¸€ä¸ª proxy ç±»å‹çš„ npm ä»“åº“\"></a>åˆ›å»ºä¸€ä¸ª proxy ç±»å‹çš„ npm ä»“åº“</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8ojpextl98.webp\" alt=\"X\"></p>\n<h3 id=\"åˆ›å»ºä¸€ä¸ª-group-ç±»å‹çš„-npm-ä»“åº“ã€‚\"><a href=\"#åˆ›å»ºä¸€ä¸ª-group-ç±»å‹çš„-npm-ä»“åº“ã€‚\" class=\"headerlink\" title=\"åˆ›å»ºä¸€ä¸ª group ç±»å‹çš„ npm ä»“åº“ã€‚\"></a>åˆ›å»ºä¸€ä¸ª group ç±»å‹çš„ npm ä»“åº“ã€‚</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.70achr5tdh.webp\" alt=\"X\"></p>\n<p>è¿™äº›é…ç½®å®Œæˆä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p>\n<p>é‚£å°±åœ¨è‡ªå·±ç”µè„‘ä¸Šæµ‹è¯•ä¸€ä¸‹ï¼š</p>\n<h2 id=\"æµ‹è¯•ä½¿ç”¨\"><a href=\"#æµ‹è¯•ä½¿ç”¨\" class=\"headerlink\" title=\"æµ‹è¯•ä½¿ç”¨\"></a>æµ‹è¯•ä½¿ç”¨</h2><p>åˆ›å»ºä¸€ä¸ªç›®å½•<code>demo-npm</code>çš„ç©ºç™½é¡¹ç›®ï¼Œç„¶ååœ¨ç»ˆç«¯è¾“å‡º<code>npm config get registry</code>çœ‹ä¸€ä¸‹è‡ªå·±ç”µè„‘çš„æºåœ°å€:<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2krxchyss8.webp\" alt=\"x\"></p>\n<p>æ¥ç€æˆ‘ä»¬éœ€è¦åœ¨è¿™ä¸ªé¡¹ç›®é…ç½®ç§æœ‰æº<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.3nrmndxyn3.webp\" alt=\"x\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm config <span class=\"built_in\">set</span> registry http://154.37.212.237:8081/repository/npm-store-group/</span><br></pre></td></tr></table></figure>\n\n<p>è®¾ç½®æˆåŠŸä¹‹åï¼Œå¦‚å›¾<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.6t74mbt6ir.webp\" alt=\"X\"><br>æ˜¯æ²¡æœ‰ä»»ä½•çš„ä¾èµ–çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨<code>demo-npm</code>æ‰§è¡Œä¸€ä¸‹<code>pnpm init  pnpm add express</code>, æ‰§è¡Œå®Œæˆä¹‹åå°±å¯ä»¥çœ‹è§</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7egs8mszat.webp\" alt=\"X\"></p>\n<p>è¿™æ ·çš„è¯æˆ‘ä»¬å°±ä¼šæŠŠä¸€äº›ä¾èµ–ä¸Šä¼ åˆ°<code>nexus</code>,åé¢å°±ç›´æ¥ä½¿ç”¨ç§åº“è¿›è¡Œ<code>install</code>,è¿™æ ·åœ¨å†…ç½‘ä¸Šçº¿è¿›è¡Œ<code>install</code>å°±ä¼šå¿«å¾ˆå¤šï¼›</p>\n<p>å½“ç„¶å¯¹äºä¸åŒé¡¹ç›®çš„ç‰ˆæœ¬éƒ½æ˜¯ä¸ä¸€è‡´çš„ï¼Œé‚£ä¹ˆå®ƒæœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯ä¸ä¼šè¦†ç›–ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè€Œæ˜¯åœ¨åŸæ¥çš„åŸºç¡€ä¸Šåœ¨æ–°å¢ä¸€ä¸ªç‰ˆæœ¬ï¼›è¿™é‡Œæ‹¿<code>vue</code>ä¸¾ä¾‹ï¼Œå¦‚å›¾ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.13lsarggrr.webp\" alt=\"X\"></p>\n<h2 id=\"ç§åº“å¼€å‘æ’ä»¶\"><a href=\"#ç§åº“å¼€å‘æ’ä»¶\" class=\"headerlink\" title=\"ç§åº“å¼€å‘æ’ä»¶\"></a>ç§åº“å¼€å‘æ’ä»¶</h2><p>å°±å¥½å¦‚ä½ å¼€å‘å±äºå…¬å¸çš„æ’ä»¶é‚£ä¹ˆå°±éœ€è¦ä¸Šä¼ åˆ°ç§åº“ï¼Œé¦–å…ˆä½ éœ€è¦è®¾ç½®å¯¹åº”çš„æºåœ°å€ï¼Œä¸è¿‡è¿™é‡Œåªèƒ½è®¾ç½®<code>hosted</code>å¦‚å›¾ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.6f0ovh6a1n.webp\" alt=\"X\"></p>\n<p>åœ¨é¡¹ç›®ä¸­è®¾ç½®æºåœ°å€</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm config <span class=\"built_in\">set</span> registry http://154.37.212.237:8081/repository/npm-store-local/</span><br></pre></td></tr></table></figure>\n\n<p>è®¾ç½®å®Œæˆä¹‹åï¼Œéœ€è¦è®¾ç½®ä¸€ä¸ªè§’è‰²ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7i0e6dccyb.webp\" alt=\"X\"></p>\n<p>è®¾ç½®å®Œæˆä¹‹åï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªæ’ä»¶çš„ç”¨æˆ·ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8vmxaepudl.webp\" alt=\"X\"></p>\n<p style=\"color: #ff0000\">æ³¨æ„ï¼šå¯èƒ½ä¼šå‡ºç°æ²¡æœ‰æƒé™çš„æƒ…å†µï¼šBASIC realm=\"Sonatype Nexus Repository Manager\", å¦‚æœå‡ºç°ä»¥ä¸‹æƒ…å†µï¼Œéœ€è¦è®¾ç½®å¦‚å›¾</p>\n\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.60u97nud0p.webp\" alt=\"x\"></p>\n<p>å®Œæˆä¹‹ååœ¨éœ€è¦ä¸Šä¼ æ’ä»¶çš„é¡¹ç›®æ‰§è¡Œ</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm login</span><br></pre></td></tr></table></figure>\n\n<p>è¾“å…¥åˆšåˆšåˆ›å»ºçš„ç”¨æˆ·ä»¥åŠå¯†ç ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.4jo42vasbt.webp\" alt=\"X\"></p>\n<p>ç™»å½•æˆåŠŸä¹‹åï¼Œå†æ¬¡æ‰§è¡Œ</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm publish</span><br></pre></td></tr></table></figure>\n\n<p>å›è½¦ä¹‹åå‘ç°ä¸€ä¸ªé”™è¯¯ï¼Œ</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.4n7q0l6hnj.webp\" alt=\"X\"></p>\n<p>è¿™ä¸ªé”™è¯¯çš„æ„æ€æ˜¯ï¼š<code>package.json</code>ä¸­ä¸èƒ½è®¾ç½®<code>&quot;private&quot;: true</code>;ç„¶ååˆ é™¤ä¹‹åé‡æ–°æ‰§è¡Œ<code>npm publish</code></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.1ap067wp4u.webp\" alt=\"x\"></p>\n<p>çœ‹ï¼Œå‘å¸ƒæˆåŠŸäº†ï¼Œæ¥ç€çœ‹ä¸‹ç§åº“é‡Œæœ‰æ²¡æœ‰<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.4xujtqt583.webp\" alt=\"X\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8ad9o4asbw.webp\" alt=\"X\"></p>\n<p>å˜¿å˜¿ï¼Œè¿™æ ·å°±æˆåŠŸäº†ï¼Œæ¥ç€åœ¨<code>demo-npm</code>é¡¹ç›®ä¸­å®‰è£…è¿™ä¸ªæ’ä»¶</p>\n<p>è¿è¡Œ<code>npm config get registry</code> å¦‚æœè¿”å›çš„æ˜¯<code>local</code>ï¼Œ é‚£ä¹ˆå°±éœ€è¦è®¾ç½®<code>groUp</code></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8s3bcpkjog.webp\" alt=\"x\"></p>\n","excerpt":"","more":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>è¿‘æœŸåœ¨<code>review</code>ä»£ç çš„æ—¶å€™å‘ç°äº†ä¸€äº›å…³äºé¡¹ç›®çš„é—®é¢˜ï¼Œé¡¹ç›®ä¸­å†—ä½™çš„ä»£ç æ¯”è¾ƒå¤šï¼Œæœ‰å¾ˆå¤šéƒ½æ˜¯è¾…åŠ©ç²˜è´´çš„ï¼Œ<br>ä¸€äº›<code>utils</code>å·¥å…·ä»¥åŠä¸€äº›æ–¹æ³•éƒ½æ˜¯å¤šä½™çš„ï¼Œè¿™æ ·ä¸æ˜¯ä¸€ä¸ªä¿©ä¸ªé¡¹ç›®æ˜¯è¿™æ ·çš„ï¼ŒåŸºæœ¬å¤§éƒ¨åˆ†é¡¹ç›®éƒ½æ˜¯è¿™æ ·çš„ï¼›</p>\n<p>å¯¹äºä¼ä¸šçº§çš„é¡¹ç›®ï¼Œæ²¡æœ‰ä»»ä½•å…³äºä¼ä¸šçš„ä¸€äº›å·¥å…·ï¼Œè¿™æ ·æˆ‘æƒ³åˆ°ä¸€ç§å¯èƒ½ï¼šå°±æ˜¯å°†ä¸€äº›å·¥å…·ç»Ÿä¸€å°è£…æˆå…¬å¸å†…éƒ¨<br>ä¸“ç”¨çš„ç»„ä»¶æˆ–è€…å·¥å…·ï¼Œå› ä¸ºå…¬å¸å†…éƒ¨éƒ½æ˜¯å†…ç½‘å¼€å‘çš„ï¼Œä¸é€‚ç”¨äºå°†<code>npm</code>åŒ…ä¸Šä¼ åˆ°<code>npm</code>ä¸Šï¼Œé‚£ä¹ˆæˆ‘äº†è§£åˆ°ä¸€ä¸ª<code>nexus3</code><br>åˆšå¥½å¯ä»¥éƒ¨ç½²ç§æœ‰åŒ–çš„å·¥å…·ï¼›</p>\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><p>é¦–å…ˆè¿˜æ˜¯ç”¨åˆ°ä¹‹å‰<code>1Panel</code>éƒ¨ç½²çš„æœåŠ¡ï¼ŒåŒæ ·åœ¨<code>åº”ç”¨å•†åº—</code>ä¸‹è½½<code>nexus</code>;</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2obja6y7m7.webp\" alt=\"X\"></p>\n<p>ç„¶åç­‰å¾…å®‰è£…ï¼Œå®‰è£…å®Œæˆè¿‡ä¹‹åå°±å¯ä»¥æ‰“å¼€äº†ï¼Œæ‰“å¼€ä¹‹åç‚¹å‡»å³ä¸Šè§’çš„ç™»å½•ï¼Œç¬¬ä¸€æ¬¡ç™»å½•å¯†ç æœ‰å­˜æ”¾çš„ç›®å½•ï¼Œæ‰¾åˆ°è¾“å…¥ç„¶åéœ€è¦<br>é‡ç½®å¯†ç ï¼›</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.3d4su7rvhz.webp\" alt=\"X\"></p>\n<h3 id=\"åˆ›å»º-blob-å­˜å‚¨\"><a href=\"#åˆ›å»º-blob-å­˜å‚¨\" class=\"headerlink\" title=\"åˆ›å»º blob å­˜å‚¨\"></a>åˆ›å»º blob å­˜å‚¨</h3><p>è¿™é‡Œéœ€è¦è¯´æ˜ä¸€ä¸‹ï¼š</p>\n<ul>\n<li><code>hosted</code>: æœ¬åœ°å­˜å‚¨ï¼Œåƒå®˜æ–¹ä¸€æ ·æä¾›æœ¬åœ°ç§åº“åŠŸèƒ½</li>\n<li><code>proxy</code>ï¼šæä¾›ä»£ç†å…¶ä»–ä»“åº“çš„ç±»å‹ï¼Œå¦‚ docker ä¸­å¤®ä»“</li>\n<li><code>group</code>ï¼šç»„ç±»å‹ï¼Œå®è´¨ä½œç”¨æ˜¯ç»„åˆå¤šä¸ªä»“åº“ä¸ºä¸€ä¸ªåœ°å€</li>\n</ul>\n<p>æ¥ç€ï¼Œä¸ºå…¶åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„å­˜å‚¨ç©ºé—´ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.39l6wi4ad2.webp\" alt=\"x\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2a53jc3z6u.webp\" alt=\"x\"></p>\n<h3 id=\"åˆ›å»º-hosted-ç±»å‹çš„-npm\"><a href=\"#åˆ›å»º-hosted-ç±»å‹çš„-npm\" class=\"headerlink\" title=\"åˆ›å»º hosted ç±»å‹çš„ npm\"></a>åˆ›å»º hosted ç±»å‹çš„ npm</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.5xan6v0od1.webp\" alt=\"x\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7egs8m721a.webp\" alt=\"x\"></p>\n<ul>\n<li><code>Name</code>: å®šä¹‰ä¸€ä¸ªåç§°</li>\n<li><code>Storage</code>ï¼šæˆ‘ä»¬ä¸‹æ‹‰é€‰æ‹©å‰é¢åˆ›å»ºå¥½çš„ä¸“ç”¨ ã€‚</li>\n<li><code>Hosted</code>ï¼šå¼€å‘ç¯å¢ƒï¼Œæˆ‘ä»¬è¿è¡Œé‡å¤å‘å¸ƒï¼Œå› æ­¤ Delpoyment policy æˆ‘ä»¬é€‰æ‹© Allow redeployã€‚è¿™ä¸ªå¾ˆé‡è¦ï¼</li>\n</ul>\n<h3 id=\"åˆ›å»ºä¸€ä¸ª-proxy-ç±»å‹çš„-npm-ä»“åº“\"><a href=\"#åˆ›å»ºä¸€ä¸ª-proxy-ç±»å‹çš„-npm-ä»“åº“\" class=\"headerlink\" title=\"åˆ›å»ºä¸€ä¸ª proxy ç±»å‹çš„ npm ä»“åº“\"></a>åˆ›å»ºä¸€ä¸ª proxy ç±»å‹çš„ npm ä»“åº“</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8ojpextl98.webp\" alt=\"X\"></p>\n<h3 id=\"åˆ›å»ºä¸€ä¸ª-group-ç±»å‹çš„-npm-ä»“åº“ã€‚\"><a href=\"#åˆ›å»ºä¸€ä¸ª-group-ç±»å‹çš„-npm-ä»“åº“ã€‚\" class=\"headerlink\" title=\"åˆ›å»ºä¸€ä¸ª group ç±»å‹çš„ npm ä»“åº“ã€‚\"></a>åˆ›å»ºä¸€ä¸ª group ç±»å‹çš„ npm ä»“åº“ã€‚</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.70achr5tdh.webp\" alt=\"X\"></p>\n<p>è¿™äº›é…ç½®å®Œæˆä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p>\n<p>é‚£å°±åœ¨è‡ªå·±ç”µè„‘ä¸Šæµ‹è¯•ä¸€ä¸‹ï¼š</p>\n<h2 id=\"æµ‹è¯•ä½¿ç”¨\"><a href=\"#æµ‹è¯•ä½¿ç”¨\" class=\"headerlink\" title=\"æµ‹è¯•ä½¿ç”¨\"></a>æµ‹è¯•ä½¿ç”¨</h2><p>åˆ›å»ºä¸€ä¸ªç›®å½•<code>demo-npm</code>çš„ç©ºç™½é¡¹ç›®ï¼Œç„¶ååœ¨ç»ˆç«¯è¾“å‡º<code>npm config get registry</code>çœ‹ä¸€ä¸‹è‡ªå·±ç”µè„‘çš„æºåœ°å€:<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.2krxchyss8.webp\" alt=\"x\"></p>\n<p>æ¥ç€æˆ‘ä»¬éœ€è¦åœ¨è¿™ä¸ªé¡¹ç›®é…ç½®ç§æœ‰æº<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.3nrmndxyn3.webp\" alt=\"x\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm config <span class=\"built_in\">set</span> registry http://154.37.212.237:8081/repository/npm-store-group/</span><br></pre></td></tr></table></figure>\n\n<p>è®¾ç½®æˆåŠŸä¹‹åï¼Œå¦‚å›¾<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.6t74mbt6ir.webp\" alt=\"X\"><br>æ˜¯æ²¡æœ‰ä»»ä½•çš„ä¾èµ–çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨<code>demo-npm</code>æ‰§è¡Œä¸€ä¸‹<code>pnpm init  pnpm add express</code>, æ‰§è¡Œå®Œæˆä¹‹åå°±å¯ä»¥çœ‹è§</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7egs8mszat.webp\" alt=\"X\"></p>\n<p>è¿™æ ·çš„è¯æˆ‘ä»¬å°±ä¼šæŠŠä¸€äº›ä¾èµ–ä¸Šä¼ åˆ°<code>nexus</code>,åé¢å°±ç›´æ¥ä½¿ç”¨ç§åº“è¿›è¡Œ<code>install</code>,è¿™æ ·åœ¨å†…ç½‘ä¸Šçº¿è¿›è¡Œ<code>install</code>å°±ä¼šå¿«å¾ˆå¤šï¼›</p>\n<p>å½“ç„¶å¯¹äºä¸åŒé¡¹ç›®çš„ç‰ˆæœ¬éƒ½æ˜¯ä¸ä¸€è‡´çš„ï¼Œé‚£ä¹ˆå®ƒæœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯ä¸ä¼šè¦†ç›–ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè€Œæ˜¯åœ¨åŸæ¥çš„åŸºç¡€ä¸Šåœ¨æ–°å¢ä¸€ä¸ªç‰ˆæœ¬ï¼›è¿™é‡Œæ‹¿<code>vue</code>ä¸¾ä¾‹ï¼Œå¦‚å›¾ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.13lsarggrr.webp\" alt=\"X\"></p>\n<h2 id=\"ç§åº“å¼€å‘æ’ä»¶\"><a href=\"#ç§åº“å¼€å‘æ’ä»¶\" class=\"headerlink\" title=\"ç§åº“å¼€å‘æ’ä»¶\"></a>ç§åº“å¼€å‘æ’ä»¶</h2><p>å°±å¥½å¦‚ä½ å¼€å‘å±äºå…¬å¸çš„æ’ä»¶é‚£ä¹ˆå°±éœ€è¦ä¸Šä¼ åˆ°ç§åº“ï¼Œé¦–å…ˆä½ éœ€è¦è®¾ç½®å¯¹åº”çš„æºåœ°å€ï¼Œä¸è¿‡è¿™é‡Œåªèƒ½è®¾ç½®<code>hosted</code>å¦‚å›¾ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.6f0ovh6a1n.webp\" alt=\"X\"></p>\n<p>åœ¨é¡¹ç›®ä¸­è®¾ç½®æºåœ°å€</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm config <span class=\"built_in\">set</span> registry http://154.37.212.237:8081/repository/npm-store-local/</span><br></pre></td></tr></table></figure>\n\n<p>è®¾ç½®å®Œæˆä¹‹åï¼Œéœ€è¦è®¾ç½®ä¸€ä¸ªè§’è‰²ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7i0e6dccyb.webp\" alt=\"X\"></p>\n<p>è®¾ç½®å®Œæˆä¹‹åï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªæ’ä»¶çš„ç”¨æˆ·ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8vmxaepudl.webp\" alt=\"X\"></p>\n<p style=\"color: #ff0000\">æ³¨æ„ï¼šå¯èƒ½ä¼šå‡ºç°æ²¡æœ‰æƒé™çš„æƒ…å†µï¼šBASIC realm=\"Sonatype Nexus Repository Manager\", å¦‚æœå‡ºç°ä»¥ä¸‹æƒ…å†µï¼Œéœ€è¦è®¾ç½®å¦‚å›¾</p>\n\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.60u97nud0p.webp\" alt=\"x\"></p>\n<p>å®Œæˆä¹‹ååœ¨éœ€è¦ä¸Šä¼ æ’ä»¶çš„é¡¹ç›®æ‰§è¡Œ</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm login</span><br></pre></td></tr></table></figure>\n\n<p>è¾“å…¥åˆšåˆšåˆ›å»ºçš„ç”¨æˆ·ä»¥åŠå¯†ç ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.4jo42vasbt.webp\" alt=\"X\"></p>\n<p>ç™»å½•æˆåŠŸä¹‹åï¼Œå†æ¬¡æ‰§è¡Œ</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm publish</span><br></pre></td></tr></table></figure>\n\n<p>å›è½¦ä¹‹åå‘ç°ä¸€ä¸ªé”™è¯¯ï¼Œ</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.4n7q0l6hnj.webp\" alt=\"X\"></p>\n<p>è¿™ä¸ªé”™è¯¯çš„æ„æ€æ˜¯ï¼š<code>package.json</code>ä¸­ä¸èƒ½è®¾ç½®<code>&quot;private&quot;: true</code>;ç„¶ååˆ é™¤ä¹‹åé‡æ–°æ‰§è¡Œ<code>npm publish</code></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.1ap067wp4u.webp\" alt=\"x\"></p>\n<p>çœ‹ï¼Œå‘å¸ƒæˆåŠŸäº†ï¼Œæ¥ç€çœ‹ä¸‹ç§åº“é‡Œæœ‰æ²¡æœ‰<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.4xujtqt583.webp\" alt=\"X\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8ad9o4asbw.webp\" alt=\"X\"></p>\n<p>å˜¿å˜¿ï¼Œè¿™æ ·å°±æˆåŠŸäº†ï¼Œæ¥ç€åœ¨<code>demo-npm</code>é¡¹ç›®ä¸­å®‰è£…è¿™ä¸ªæ’ä»¶</p>\n<p>è¿è¡Œ<code>npm config get registry</code> å¦‚æœè¿”å›çš„æ˜¯<code>local</code>ï¼Œ é‚£ä¹ˆå°±éœ€è¦è®¾ç½®<code>groUp</code></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8s3bcpkjog.webp\" alt=\"x\"></p>\n"},{"title":"ç”Ÿæ´»-â€œèˆï¼Œå¾—ï¼Œæ”¾â€ ä¸‹ä¹‹ â€œæ”¾â€","abbrlink":"f7f421d9","date":"2023-10-08T01:05:01.000Z","_content":"\n# åº\n\n**äººç”Ÿåœ¨ä¸–ï¼Œæˆ‘ä»¬æ›´åº”è¯¥æ‡‚å¾—ï¼Œé€‚å½“çš„æ”¾å¼ƒï¼Œæ‰èƒ½å¾—åˆ°ï¼Œä¸€å‘³çš„å¼ºæ±‚ï¼Œåè€Œä¼šé€‚å¾—å…¶åã€‚ ä½›è¯´ï¼šèˆï¼Œå°±æ˜¯å¾—ï¼›ä¸èˆï¼Œå“ªæœ‰å¾—ã€‚ æ”¾ä¸‹ï¼Œä¾¿å¾—è‡ªåœ¨ã€‚ äººç”Ÿåœ¨ä¸–ï¼Œæ›´åº”è¯¥æ‡‚å¾—é€‚å½“çš„æ”¾ä¸‹ï¼Œæ‰ä¼šè½»æ¾ï¼Œæ”¾ä¸‹å¿ƒä¸­çš„æ·é”ï¼Œè®©è‡ªå·±çš„å¿ƒçµè‡ªç”±ã€‚**\n\n## å‰è¨€\n\nå‰æ®µæ—¶é—´è€ w å°±å’Œæˆ‘è¯´äº†ä¸€ä»¶éšè—åœ¨ä»–å†…å¿ƒçš„ä¸€ä»¶äº‹ï¼Œ**èˆï¼Œå¾—ï¼Œæ”¾ä¸‹**è¯¥æ€ä¹ˆåšæ‰èƒ½æ”¾ä¸‹å¿ƒä¸­æ·é”ï¼Œæ‰èƒ½è½»æ¾è‡ªåœ¨ï¼›æˆ‘è¿Ÿç–‘äº†ä¸€ä¼šå„¿æ²¡æœ‰å›å¤ä»–ï¼Œå› ä¸ºæˆ‘ä¹Ÿä¸çŸ¥é“è¯¥æ€ä¹ˆå›å¤ä»–ï¼›å› ä¸ºæ¯ä¸ªäººå¿ƒä¸­ä¹Ÿè®¸éƒ½æœ‰é‚£ä¹ˆä¸€ä»¶æ”¾ä¸ä¸‹ï¼Œèˆä¸å¾—çš„äº‹æƒ…å§ï¼›\n\nè€ w å’Œæˆ‘è¯´ï¼Œä»–å¸¸å¸¸å°±åœ¨æƒ³ï¼Œ**â€œèˆå¾—â€** è¯¥å¦‚ä½•åšæ‰èƒ½ç®—æ˜¯çœŸæ­£çš„æœ‰èˆæœ‰å¾—ï¼Œèˆä¸å¾—å¯¹ä»–æ¥è®²è²Œä¼¼å°±æ˜¯å¹³è¡¡ç§°ï¼Œåªè¦å¦ä¸€æ–¹å‘ç”Ÿç¯‡é‡å·®ï¼Œé‚£ä¹ˆå¹³è¡¡ç§°å°±ä¸å†å¹³è¡¡ï¼›è€Œ **â€œæ”¾ä¸‹â€** å°±æ˜¯ä¸€ä¸ªç§¯å‹å¤šå¹´çš„çŸ³å¤´ï¼ŒæŒ‰ç†è¯´ç»è¿‡é£å¹æ—¥æ™’çŸ³å¤´ä¼šæ…¢æ…¢é£åŒ–ï¼Œç›´è‡³æ¶ˆåŒ–æ‰æœ€åçš„ä¸€å—è±è§’æˆä¸ºæ¼‚æµ®åœ¨é£ä¸­çš„ä¸€ç²’å°˜åŸƒï¼Œè¿™ä¹ˆå¤šå¹´äº†è¿™å—çŸ³å¤´åˆ†é‡ç»è¿‡å¤šå¹´çš„ç£¨ç»ƒä¸å‡åå¢ï¼›\n\nä»Šå¹´ 5 æœˆä»½çš„åŠ³åŠ¨èŠ‚ï¼Œå’Œä»–å»äº†ä¸€è¶Ÿçµéšå¯ºï¼Œçµéšå¯ºä¹Ÿæ˜¯æˆ‘å¤šå¹´ä»¥æ¥æƒ³å»çš„åœ°æ–¹ä¹‹ä¸€ï¼Œä¸ä¸ºåˆ«çš„å¿ƒä¸­æœ‰å› ï¼Œä¹Ÿè®¸è¿™ä¸€æ¬¡è‹æ­ä¹‹æ¸¸å¯è§£å¿ƒä¸­ä¹‹å› ï¼ŒåŒ–è§£å¿ƒä¸­æ‰€æƒ³ï¼›å½“ç„¶æˆ‘å¿ƒä¸­ä¹Ÿæœ‰æ”¾ä¸ä¸‹çš„äº‹æƒ…ï¼Œä½†å¤šæ•°åŸå› æ˜¯å› ä¸ºçµéšå¯ºåœ¨æˆ‘å¿ƒä¸­çš„ç¥ç§˜æ„Ÿï¼›\n\nä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œçµéšå¯ºåœ¨æˆ‘å¿ƒä¸­ä¹Ÿè®¸æœ‰ä¸€ç§æ¯”è¾ƒç¥ç§˜çš„è‰²å½©ï¼Œä¹Ÿè®¸æ˜¯å½“åˆçš„ç”µè§†ä¸ºäº†å¢æ·»äº†å¯¹çµéšå¯ºçš„å¥½å¥‡ï¼›å¿ƒä¸­æ€»è®¤ä¸ºå¿ƒä¸­æœ‰å› åœ¨çµéšå¯ºä¹Ÿè®¸æœ‰æƒ³ï¼Œæœ‰æ‚Ÿï¼›å°±å¥½æ¯”å…¥å£çš„ç¦…ç‰Œï¼š**èˆå¾—ï¼Œæ”¾åœ¨**ï¼›æˆ‘æ„Ÿè§‰è¿™æ¬¡æ˜¯æ¥å¯¹äº†åœ°æ–¹ï¼Œä¹Ÿè®¸è¿™æ¬¡çœŸçš„å¯ä»¥å¸®åŠ©è€ wï¼›æˆ‘çŸ¥é“å¿ƒä¸­æœ‰å› æœ€åè¿˜çš„é è‡ªå·±ï¼›\n\n## å› \n\nè€ w çš„å› ï¼Œä¹Ÿå°±æ˜¯ä»–å¿ƒä¸­ï¼Œ**â€œæ”¾ä¸‹â€**çš„äº‹æƒ…ï¼Œè¯è¯´è¿˜çš„è¿½æº¯åˆ°ä¸­å­¦å¹´ä»£ï¼Œé‚£æ®µåœ¨æ ¡å­¦ä¹ æ—¶æœŸä»–ä¹Ÿç®—ä¸€ä¸ªè°ƒçš®æ£è›‹ä¹‹äººï¼Œå¯¹äºå­¦ä¹ ä¹¦æœ¬çŸ¥è¯†é‚£æ˜¯æŒ‘å‰”çš„å¾ˆï¼Œåªè¦æ˜¯ä¹¦æœ¬çŸ¥è¯†å°±å¥½åƒé›·è¾¾ä¼¼çš„è‡ªåŠ¨èº²é¿ï¼Œå¯¹ä»–å¥½å¥‡çš„ä¸œè¥¿å­¦çš„é‚£æ˜¯ä¸€ä¸ªæ»‹å‘³ï¼›\n\nè¯´åˆ°ä»€ä¹ˆå¯¹ä»–å¥½å¥‡ï¼Œé‚£å°±æ˜¯è®¡ç®—æœºï¼Œé‚£æ®µæ—¶ä»£äº’è”ç½‘å…´èµ·ï¼Œè®¡ç®—æœºä¹Ÿæ˜¯è¿›å…¥æŒ¨å®¶æŒ¨æˆ·ï¼Œä½†æ˜¯å¯¹ä»–å®¶å¢ƒä¸€èˆ¬çš„æƒ…å†µï¼Œä»–å®¶é‡Œä¸ä¼šä¹°è®¡ç®—æœºåŒæ—¶è¿™æ ·ä¹Ÿä¼šå½±å“å­¦ä¸šï¼Œå› æ­¤ä¾¿è¯è´¹é›¶èŠ±é’±å»äº†ç½‘å§ï¼Œä¸è¿‡æˆ‘ä¹Ÿå¾ˆä½©æœä»–ï¼Œåˆ«äººç©è®¡ç®—æœºå°±æ˜¯æ‰“æ¸¸æˆï¼Œä»–å¯çœŸæ˜¯ä¸€ä¸ªå¥‡è‘©ï¼Œç ”ç©¶ä¸€äº›ç¨€å¥‡å¤æ€ªçš„ä¸œè¥¿ï¼Œé‚£æ®µæ—¶é—´æ‰‹æœºè½¯ä»¶å…´èµ·ä¸€æ¬¾ç—…æ¯’ï¼Œåªè¦æ˜¯å®‰è£…æ‰‹æœºæˆæƒä¹‹åï¼Œæ‰‹æœºä¾¿è‡ªåŠ¨ä¸Šé”ï¼Œéœ€è¦è¾“å…¥è®¾å®šçš„å¯†ç æ‰èƒ½è§£é”å¸è½½ç—…æ¯’ï¼›\n\nå› ä¸ºå¶ç„¶åœ¨ç¤¾åŒºçœ‹åˆ°è¿™ä¹ˆä¸€ä¸ªç½‘å‹é—®ï¼Œè¯´æ˜¯ä¸‹è½½äº†ä¸€ä¸ªè½¯ä»¶ä¸­äº†ç—…æ¯’ï¼Œéœ€è¦è¾“å…¥å¯†ç ï¼Œä½†æ˜¯å¯†ç æ˜¯éœ€è¦èŠ±é’±å‘è¢«äººç´¢è¦çš„ï¼Œåˆ°ç°åœ¨ä¸ºæ­¢è¿™åº”è¯¥å±äºè¯ˆéª—äº†å§ï¼›è€ w å½“æ—¶çœ‹äº†è¿™ä¸ªå¸–å­ï¼Œå°±æ¥äº†å¥½å¥‡å¿ƒï¼Œç©¶ç«Ÿæ˜¯ä»€ä¹ˆèƒ½è®©æ‰‹æœºä¸Šé”ï¼Œè²Œä¼¼å¯¹ä»–æ¥è¯´æ˜¯å¾ˆå¥½ç©çš„ï¼›\n\nä»–ç ”ç©¶äº†ä¸€æ®µæ—¶é—´ï¼Œå¤§æ¦‚ç®—æ˜¯æ˜ç™½äº†ï¼Œæ˜¯ä¸€æ¬¾åˆ¶ä½œè½¯ä»¶çš„å¼€å‘è¯­è¨€ï¼Œè€Œæˆæƒéœ€è¦è¾“å…¥çš„å¯†ç ä¸º`pin`ç ï¼Œå°±ç›¸å½“äºæ‰‹æœºæˆæƒä¹‹åï¼Œè®¾å®šä¸€ä¸ªå¯†ç ç”¨äºå¯¹æ‰‹æœºæ“ä½œçš„å¯†ç ï¼›è€Œå¯¹äºè¿™å¯†ç å¤§æ¦‚ä¹Ÿåˆ†ä¸ºå‡ ç±»ï¼šå…¶ä¸€ï¼šè®¾å®šå›ºå®šå¯†ç ï¼Œåªæœ‰åç¼–è¯‘çœ‹æºç ä¹‹åæ‰èƒ½çœ‹åˆ°ï¼Œå…¶äºŒï¼šå›ºå®šç®—æ³•è®¾å®šå¯†ç ï¼Œæ¯”å…¶ä¸€çš„å®‰å…¨æ€§é«˜ä¸€ç‚¹ï¼Œå•éœ€è¦èŠ±è´¹ä¸€ç‚¹æ—¶é—´ç ”ç©¶ç®—æ³•ï¼Œä¾‹å¦‚ï¼šå½“å‰çš„æ—¶é—´ä½œä¸ºå¯†ç ï¼Œä¸€èˆ¬äººä¸ä¼šæƒ³åˆ°è¿™æ ·çš„å¯†ç ï¼Œä½†æ˜¯è¿™æ ·çš„å¯†ç æ˜¯ä¸å›ºå®šçš„ï¼Œæ˜¯æ ¹æ®æ—¶é—´çš„å˜åŒ–äºŒå˜åŒ–çš„ï¼›\n\nä¹‹åï¼Œä»–å°±åœ¨ä¹‹å‰çš„é‚£ç¯‡å¸–å­ä¸‹é¢è¯„è®ºäº†è¯¥ç½‘å‹ï¼Œå¤§è‡´è¯´äº†å¤§è‡´å¯†ç çš„æ–¹å‘ï¼Œä¹‹åä»–å½•åˆ¶äº†ç›¸å…³çš„å®‰å…¨å¦‚ä½•è§£å¯†è§†é¢‘åŒæ—¶è¯„è®ºäº†è¯¥ç½‘å‹ï¼›åæ¥æˆ‘å†å»çœ‹è¯¥è¯„è®ºçš„è§†é¢‘çš„æ—¶å€™ï¼Œå‘ç°å·²ç»æ‰¾ä¸åˆ°äº†ï¼›\n\nè¿™ä¹Ÿå°±æ˜¯åé¢**æ”¾ä¸ä¸‹**äº‹æƒ…çš„èµ·å› ï¼›ä¹Ÿå°±æ˜¯è¿™æ ·çš„èµ·å› è®©ä»–ç»å†å¤šå¹´è¿˜åœ¨å…¶ä¸­ï¼›\n\nå› ä¸ºä»–è²Œä¼¼å·²ç»å¯¹è®¡ç®—æœºä¸Šç˜¾ï¼Œä»–å¹¶ä¸æ˜¯æ¯æ¬¡éƒ½ä¼šç ”ç©¶ç¨€å¥‡å¤æ€ªçš„ä¸œè¥¿ï¼Œä¸ä¹…`ç©¿è¶Šç«çº¿`æ—¶ä»£åˆ°æ¥ï¼Œä»–è¿·ä¸Šäº†æªæˆ˜æ¸¸æˆï¼›åœ¨æ ¡æœŸé—´ä»–å¯ä¸ºæ˜¯èµ°åœ¨äº†åŒå¹´é¾„çš„ç½‘ç»œç¬¬ä¸€äººï¼›\n\nä¸ä¹…è®¡ç®—æœºçš„å‡ºç°ï¼Œæœ‰åˆ©æœ‰å¼Šï¼ŒåŒåˆƒå‰‘çš„å¼Šç«¯å°±è¢«æ‰©å¤§ï¼Œç½‘ä¸Šè¯ˆéª—ï¼Œé’“é±¼ç½‘ç«™ç­‰è‚†æ„å…´èµ·ï¼›é‚£ä¸ªæ—¶å€™è¿˜ä¸çŸ¥é“è¿™äº›`ä»£åè¯`ï¼Œåªæ˜¯çŸ¥é“é‚£äº›éƒ½æ˜¯å‡çš„ï¼›åæ¥å¯¹äº`æ‰‹æœºè½¯ä»¶idea`å…·ä½“æ˜¯ä»€ä¹ˆè½¯ä»¶åç§°ï¼Œæˆ‘ä¹Ÿå¿˜äº†ã€‚å¤§è‡´å°±æ˜¯ä¸€æ¬¾åœ¨æ‰‹æœºä¸Šå†™è½¯ä»¶çš„å·¥å…·ï¼›ä¹‹ååˆå½•åˆ¶äº†ä¸€ä¸ªè§†é¢‘ï¼Œå¤§è‡´å°±æ˜¯è¾“å…¥æ‰‹æœºå¯†ç ä¹‹åï¼Œå°±èƒ½ä»åå°è·å–åˆ°äº†è¾“å…¥çš„æ‰‹æœºå¯†ç ï¼Œè¿™å’Œè¯ˆéª—ï¼Œé’“é±¼ç½‘ç«™çš„å¼‚ç«¯ç±»ä¼¼ï¼›å‘å¸ƒåœ¨äº†ç½‘ä¸Šé¿å…åˆ«äººä¸Šå½“ï¼›æ›´åŠ è°¨æ…ä¸€ç‚¹ï¼›\n\n## æœ\n\nä¸ä¹…ï¼Œä»–æ¥åˆ°äº†å®¶é‡Œçš„ç”µè¯ï¼Œè¯´æ˜¯å®¶é‡Œé•¿è¾ˆäº²äººå‡ºäº†æ„å¤–ï¼›å½“æ—¶ä»–è¿˜åœ¨ç¡è§‰ï¼Œé¦–æ¬¡æ‰“ç”µè¯ä»–å°±æŒ‚äº†ï¼Œç›´åˆ°ç¬¬ä¸‰æ¬¡çš„æ—¶å€™ä»–æ¥åˆ°äº†ï¼Œè¯´æ˜¯èµ¶ç´§å›å®¶ï¼›ç®€å•å‡ å¥ï¼Œæ²¡æƒ³åˆ°ä¹‹åå¤šå¹´è¿™ä»¶äº‹æƒ…è¿˜åœ¨å¿ƒä¸­æ”¾ä¸ä¸‹ï¼›\n\nä»–çˆ¶äº²çš„ç¦»ä¸–ï¼Œå¹¶æœªç»™å½“æ—¶ä¸­å­¦å¹´ä»£çš„ä»–é€ æˆå¤ªå¤§å½±å“ï¼Œå› ä¸ºå¹´çºªè¿˜å°ï¼Œç¨šå«©çš„å¾ˆï¼›å¯¹äºè¿™äº›äº‹æƒ…ä»–å¹¶ä¸çŸ¥é“ï¼Œä¹Ÿä¸çŸ¥é“åˆ°åº•æ˜¯æ€ä¹ˆäº†ï¼›æˆ‘å½“æ—¶å¬åˆ°ä¹‹åå¿ƒé‡Œä¹Ÿæ˜¯éš¾å—äº†å¾ˆä¹…ï¼›40 å¤šå²çš„å¹´çºªï¼Œ10 å‡ å²å·¦å³çš„å¹´çºªå¤©äººç›¸éš”ï¼›\næ™šä¸Šå®ˆçµä»–ç¡åœ¨äº†ä»–çˆ¶äº²èº«è¾¹ï¼Œå•ä»–è¿·è¿·ç³Šç³Šçš„è§åˆ°äº†å¤©èŠ±æ¿å½©è‰²çš„ç¯ï¼ŒçŸ¥é“ç¬¬äºŒå¤©é—®å®¶é‡Œäººè¯´ï¼Œè¿™äº›ç¯è€æ—©å°±åæ‰äº†ï¼Œä¸ä¼šäº®çš„ï¼Œä»–ä¹Ÿä¸æ¸…æ¥šå½“æ—¶æ˜¯åšæ¢¦è¿˜æ˜¯æ€ä¹ˆåœ°ï¼›äº²æˆšé—®ä»–æ€ä¹ˆäº†ï¼Œä»–æŠŠè¿™ä»¶äº‹æƒ…éšè—èµ·æ¥äº†ï¼Œè¯´æ˜¯æ¢¦è§ä»–çˆ¶äº²äº†ï¼Œé—®è¯´ä»€ä¹ˆäº†ï¼Œâ€œè®©æˆ‘å¥½å¥½å­¦ä¹ â€ï¼›å› ä¸ºä»–å¹¶ä¸å¥½å­¦ï¼Œä¹Ÿä¸æ˜¯å±äºå­¦ä¹ çš„ç±»å‹ï¼Œè¿™æ ·çš„å›ç­”å¿…å®šä¸ä¼šç›¸ä¿¡ï¼›\n\nçŸ¥é“å¹´é¾„çš„å¢é•¿ï¼Œæ…¢æ…¢çš„ä»–ä¹Ÿæ‡‚å¾—äº†å¾ˆå¤šï¼Œä»–å› ä¸ºå¤šç§åŸå› æŠ‘éƒäº†ä¸€æ®µæ—¶é—´ï¼Œåˆ°ç°åœ¨è¿™ä»¶äº‹æƒ…å§‹ç»ˆå¯¹ä»–æ¥è¯´æ˜¯ä¸€å—å¤§çŸ³å¤´ï¼Œæ°¸è¿œæ”¾ä¸ä¸‹ï¼›éšç€å¹´çºªçš„å¢é•¿ï¼ŒçŸ³å¤´çš„é‡é‡ä¹Ÿå°±æ…¢æ…¢ç´¯ç§¯äº†èµ·æ¥ï¼›\n\nç›´åˆ°ç°åœ¨ï¼Œä»–åªè¦æƒ³åˆ°ï¼Œåˆ·åˆ°ç›¸å…³äº‹æƒ…ï¼Œè§†é¢‘ä¹‹åï¼Œå¿ƒä¸­ä¹Ÿè¶Šå‘éš¾å—ï¼Œä»–è¡¨é¢ä¸Šä¹Ÿè®¸ä¸ä¼šå˜ç°ï¼Œç™½å¤©è¡¨ç°çš„å¼€å¼€å¿ƒå¿ƒçš„ï¼Œæ™šä¸Šä¼¼ä¹å°±å˜äº†ä¸€ä¸ªäººä¼¼çš„ï¼Œä¹Ÿè®¸æ˜¯ç½‘ä¸Šè¯´çš„`é˜³å…‰å‹æŠ‘éƒç—‡`;\n\næˆ‘ä¹‹åå’Œä»–è¯´ï¼Œâ€œæ”¾ä¸‹â€å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•ï¼Œä¹Ÿå¹¶ä¸æ˜¯å˜´ä¸Šè¯´è¯´ï¼Œå®åˆ™ä½ å†…å¿ƒè¿‡ä¸å»é‚£é“åï¼Œå°±å¥½æ¯”ç”µè§†ä¿®ä»™ä¸–ç•Œçš„é‚£é“ç“¶é¢ˆï¼Œè¿‡å»äº†ä¸€åˆ‡ä¹Ÿå°±è¿‡å»äº†ï¼Œèƒ½ä¸èƒ½è·¨è¿‡å»è¿˜çš„é ä½ è‡ªèº«ï¼›ä½ æ¯å¤©éƒ½ä¼šæ‚”æ¨ï¼Œå¿ƒä¸­æœ‰æ‚”ï¼Œæ—¶é—´ä¸€é•¿ä¼šå½±å“ä½ çš„ç”Ÿæ´»ï¼Œå·¥ä½œç­‰ï¼›ä½†æ˜¯ä½ ç°åœ¨çš„ä¸æ˜¯å¤©å¤©æƒ³äº‹æƒ…ï¼Œä½ éœ€è¦çš„æ˜¯é€‚å½“æ”¾æ¾ï¼Œæ”¾ä¸‹ï¼Œå°±å¥½æ¯”æŠŠé—²æš‡æ—¶é—´äº¤ç»™ç”Ÿæ´»ï¼Œäº¤ç»™ä¹è¶£ï¼Œä¹Ÿè®¸æ—¶é—´é•¿äº†ï¼Œä½ å¿ƒä¸­çš„å› æ…¢æ…¢ä¹Ÿä¼šæ·¡æ‰ï¼›ä½ ç°åœ¨åœ¨ä¸Šæµ·å·¥ä½œï¼Œå·¥ä½œå‹åŠ›å¤§ï¼Œç™½å¤©ä¸Šç­ï¼Œæ™šä¸Šå›å»ä½ åˆæƒ³ä¸œæƒ³è¥¿ï¼Œè„‘è¢‹ä¸€å¤©å¾—ä¸åˆ°çœŸæ­£çš„æ”¾æ¾ï¼Œæ—¶é—´ä¸€é•¿ï¼Œèº«ä½“æœºèƒ½ä¼šç½¢å·¥çš„ï¼›ä½ ç°åœ¨çš„çŠ¶æ€ï¼Œä¿è¯å¿ƒé‡Œçš„å› ä¸ä¼šå½±å“ä½ çš„ç”Ÿæ´»ï¼Œå·¥ä½œï¼Œå…¶ä»–çš„äº¤ç»™æ—¶é—´ï¼Œå­¦ä¼šæ”¾å¼ƒï¼Œæ‡‚å¾—æ”¾ä¸‹ï¼Œä½•å°ä¸æ˜¯å¦ä¸€ç§è·å¾—ï¼›\n\n---\n\nâ€œèˆï¼Œå¾—â€ä¼šåœ¨åæœŸè¿›è¡Œæ›´æ–°å‘å¸ƒï¼Œâ€œç”Ÿæ´»â€å½’ç±»ï¼Œä»…ä»…æ˜¯è®°å½•ç”Ÿæ´»ï¼Œæ—¥å¸¸ç­‰ç­‰ï¼Œå¹¶ä¸ä¼šä½œä¸ºå…¶ä»–ä½œä¸ºã€‚\n\nâ€èˆï¼Œå¾—ï¼Œæ”¾ä¸‹â€œ ä¹‹ â€èˆï¼Œå¾—â€œä¼šåœ¨ä¸‹ç¯‡æ–‡ç« æ›´æ–°ï¼›\n\nç»­.......\n","source":"_posts/ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/â€œèˆï¼Œå¾—ï¼Œæ”¾â€ ä¸‹ä¹‹ â€œæ”¾â€.md","raw":"---\ntitle: ç”Ÿæ´»-â€œèˆï¼Œå¾—ï¼Œæ”¾â€ ä¸‹ä¹‹ â€œæ”¾â€\nabbrlink: f7f421d9\ndate: 2023-10-08 09:05:01\ncategories:\n  - ç”Ÿæ´»æ—¥å¿—\ntags:\n  - ç”Ÿæ´»\n---\n\n# åº\n\n**äººç”Ÿåœ¨ä¸–ï¼Œæˆ‘ä»¬æ›´åº”è¯¥æ‡‚å¾—ï¼Œé€‚å½“çš„æ”¾å¼ƒï¼Œæ‰èƒ½å¾—åˆ°ï¼Œä¸€å‘³çš„å¼ºæ±‚ï¼Œåè€Œä¼šé€‚å¾—å…¶åã€‚ ä½›è¯´ï¼šèˆï¼Œå°±æ˜¯å¾—ï¼›ä¸èˆï¼Œå“ªæœ‰å¾—ã€‚ æ”¾ä¸‹ï¼Œä¾¿å¾—è‡ªåœ¨ã€‚ äººç”Ÿåœ¨ä¸–ï¼Œæ›´åº”è¯¥æ‡‚å¾—é€‚å½“çš„æ”¾ä¸‹ï¼Œæ‰ä¼šè½»æ¾ï¼Œæ”¾ä¸‹å¿ƒä¸­çš„æ·é”ï¼Œè®©è‡ªå·±çš„å¿ƒçµè‡ªç”±ã€‚**\n\n## å‰è¨€\n\nå‰æ®µæ—¶é—´è€ w å°±å’Œæˆ‘è¯´äº†ä¸€ä»¶éšè—åœ¨ä»–å†…å¿ƒçš„ä¸€ä»¶äº‹ï¼Œ**èˆï¼Œå¾—ï¼Œæ”¾ä¸‹**è¯¥æ€ä¹ˆåšæ‰èƒ½æ”¾ä¸‹å¿ƒä¸­æ·é”ï¼Œæ‰èƒ½è½»æ¾è‡ªåœ¨ï¼›æˆ‘è¿Ÿç–‘äº†ä¸€ä¼šå„¿æ²¡æœ‰å›å¤ä»–ï¼Œå› ä¸ºæˆ‘ä¹Ÿä¸çŸ¥é“è¯¥æ€ä¹ˆå›å¤ä»–ï¼›å› ä¸ºæ¯ä¸ªäººå¿ƒä¸­ä¹Ÿè®¸éƒ½æœ‰é‚£ä¹ˆä¸€ä»¶æ”¾ä¸ä¸‹ï¼Œèˆä¸å¾—çš„äº‹æƒ…å§ï¼›\n\nè€ w å’Œæˆ‘è¯´ï¼Œä»–å¸¸å¸¸å°±åœ¨æƒ³ï¼Œ**â€œèˆå¾—â€** è¯¥å¦‚ä½•åšæ‰èƒ½ç®—æ˜¯çœŸæ­£çš„æœ‰èˆæœ‰å¾—ï¼Œèˆä¸å¾—å¯¹ä»–æ¥è®²è²Œä¼¼å°±æ˜¯å¹³è¡¡ç§°ï¼Œåªè¦å¦ä¸€æ–¹å‘ç”Ÿç¯‡é‡å·®ï¼Œé‚£ä¹ˆå¹³è¡¡ç§°å°±ä¸å†å¹³è¡¡ï¼›è€Œ **â€œæ”¾ä¸‹â€** å°±æ˜¯ä¸€ä¸ªç§¯å‹å¤šå¹´çš„çŸ³å¤´ï¼ŒæŒ‰ç†è¯´ç»è¿‡é£å¹æ—¥æ™’çŸ³å¤´ä¼šæ…¢æ…¢é£åŒ–ï¼Œç›´è‡³æ¶ˆåŒ–æ‰æœ€åçš„ä¸€å—è±è§’æˆä¸ºæ¼‚æµ®åœ¨é£ä¸­çš„ä¸€ç²’å°˜åŸƒï¼Œè¿™ä¹ˆå¤šå¹´äº†è¿™å—çŸ³å¤´åˆ†é‡ç»è¿‡å¤šå¹´çš„ç£¨ç»ƒä¸å‡åå¢ï¼›\n\nä»Šå¹´ 5 æœˆä»½çš„åŠ³åŠ¨èŠ‚ï¼Œå’Œä»–å»äº†ä¸€è¶Ÿçµéšå¯ºï¼Œçµéšå¯ºä¹Ÿæ˜¯æˆ‘å¤šå¹´ä»¥æ¥æƒ³å»çš„åœ°æ–¹ä¹‹ä¸€ï¼Œä¸ä¸ºåˆ«çš„å¿ƒä¸­æœ‰å› ï¼Œä¹Ÿè®¸è¿™ä¸€æ¬¡è‹æ­ä¹‹æ¸¸å¯è§£å¿ƒä¸­ä¹‹å› ï¼ŒåŒ–è§£å¿ƒä¸­æ‰€æƒ³ï¼›å½“ç„¶æˆ‘å¿ƒä¸­ä¹Ÿæœ‰æ”¾ä¸ä¸‹çš„äº‹æƒ…ï¼Œä½†å¤šæ•°åŸå› æ˜¯å› ä¸ºçµéšå¯ºåœ¨æˆ‘å¿ƒä¸­çš„ç¥ç§˜æ„Ÿï¼›\n\nä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œçµéšå¯ºåœ¨æˆ‘å¿ƒä¸­ä¹Ÿè®¸æœ‰ä¸€ç§æ¯”è¾ƒç¥ç§˜çš„è‰²å½©ï¼Œä¹Ÿè®¸æ˜¯å½“åˆçš„ç”µè§†ä¸ºäº†å¢æ·»äº†å¯¹çµéšå¯ºçš„å¥½å¥‡ï¼›å¿ƒä¸­æ€»è®¤ä¸ºå¿ƒä¸­æœ‰å› åœ¨çµéšå¯ºä¹Ÿè®¸æœ‰æƒ³ï¼Œæœ‰æ‚Ÿï¼›å°±å¥½æ¯”å…¥å£çš„ç¦…ç‰Œï¼š**èˆå¾—ï¼Œæ”¾åœ¨**ï¼›æˆ‘æ„Ÿè§‰è¿™æ¬¡æ˜¯æ¥å¯¹äº†åœ°æ–¹ï¼Œä¹Ÿè®¸è¿™æ¬¡çœŸçš„å¯ä»¥å¸®åŠ©è€ wï¼›æˆ‘çŸ¥é“å¿ƒä¸­æœ‰å› æœ€åè¿˜çš„é è‡ªå·±ï¼›\n\n## å› \n\nè€ w çš„å› ï¼Œä¹Ÿå°±æ˜¯ä»–å¿ƒä¸­ï¼Œ**â€œæ”¾ä¸‹â€**çš„äº‹æƒ…ï¼Œè¯è¯´è¿˜çš„è¿½æº¯åˆ°ä¸­å­¦å¹´ä»£ï¼Œé‚£æ®µåœ¨æ ¡å­¦ä¹ æ—¶æœŸä»–ä¹Ÿç®—ä¸€ä¸ªè°ƒçš®æ£è›‹ä¹‹äººï¼Œå¯¹äºå­¦ä¹ ä¹¦æœ¬çŸ¥è¯†é‚£æ˜¯æŒ‘å‰”çš„å¾ˆï¼Œåªè¦æ˜¯ä¹¦æœ¬çŸ¥è¯†å°±å¥½åƒé›·è¾¾ä¼¼çš„è‡ªåŠ¨èº²é¿ï¼Œå¯¹ä»–å¥½å¥‡çš„ä¸œè¥¿å­¦çš„é‚£æ˜¯ä¸€ä¸ªæ»‹å‘³ï¼›\n\nè¯´åˆ°ä»€ä¹ˆå¯¹ä»–å¥½å¥‡ï¼Œé‚£å°±æ˜¯è®¡ç®—æœºï¼Œé‚£æ®µæ—¶ä»£äº’è”ç½‘å…´èµ·ï¼Œè®¡ç®—æœºä¹Ÿæ˜¯è¿›å…¥æŒ¨å®¶æŒ¨æˆ·ï¼Œä½†æ˜¯å¯¹ä»–å®¶å¢ƒä¸€èˆ¬çš„æƒ…å†µï¼Œä»–å®¶é‡Œä¸ä¼šä¹°è®¡ç®—æœºåŒæ—¶è¿™æ ·ä¹Ÿä¼šå½±å“å­¦ä¸šï¼Œå› æ­¤ä¾¿è¯è´¹é›¶èŠ±é’±å»äº†ç½‘å§ï¼Œä¸è¿‡æˆ‘ä¹Ÿå¾ˆä½©æœä»–ï¼Œåˆ«äººç©è®¡ç®—æœºå°±æ˜¯æ‰“æ¸¸æˆï¼Œä»–å¯çœŸæ˜¯ä¸€ä¸ªå¥‡è‘©ï¼Œç ”ç©¶ä¸€äº›ç¨€å¥‡å¤æ€ªçš„ä¸œè¥¿ï¼Œé‚£æ®µæ—¶é—´æ‰‹æœºè½¯ä»¶å…´èµ·ä¸€æ¬¾ç—…æ¯’ï¼Œåªè¦æ˜¯å®‰è£…æ‰‹æœºæˆæƒä¹‹åï¼Œæ‰‹æœºä¾¿è‡ªåŠ¨ä¸Šé”ï¼Œéœ€è¦è¾“å…¥è®¾å®šçš„å¯†ç æ‰èƒ½è§£é”å¸è½½ç—…æ¯’ï¼›\n\nå› ä¸ºå¶ç„¶åœ¨ç¤¾åŒºçœ‹åˆ°è¿™ä¹ˆä¸€ä¸ªç½‘å‹é—®ï¼Œè¯´æ˜¯ä¸‹è½½äº†ä¸€ä¸ªè½¯ä»¶ä¸­äº†ç—…æ¯’ï¼Œéœ€è¦è¾“å…¥å¯†ç ï¼Œä½†æ˜¯å¯†ç æ˜¯éœ€è¦èŠ±é’±å‘è¢«äººç´¢è¦çš„ï¼Œåˆ°ç°åœ¨ä¸ºæ­¢è¿™åº”è¯¥å±äºè¯ˆéª—äº†å§ï¼›è€ w å½“æ—¶çœ‹äº†è¿™ä¸ªå¸–å­ï¼Œå°±æ¥äº†å¥½å¥‡å¿ƒï¼Œç©¶ç«Ÿæ˜¯ä»€ä¹ˆèƒ½è®©æ‰‹æœºä¸Šé”ï¼Œè²Œä¼¼å¯¹ä»–æ¥è¯´æ˜¯å¾ˆå¥½ç©çš„ï¼›\n\nä»–ç ”ç©¶äº†ä¸€æ®µæ—¶é—´ï¼Œå¤§æ¦‚ç®—æ˜¯æ˜ç™½äº†ï¼Œæ˜¯ä¸€æ¬¾åˆ¶ä½œè½¯ä»¶çš„å¼€å‘è¯­è¨€ï¼Œè€Œæˆæƒéœ€è¦è¾“å…¥çš„å¯†ç ä¸º`pin`ç ï¼Œå°±ç›¸å½“äºæ‰‹æœºæˆæƒä¹‹åï¼Œè®¾å®šä¸€ä¸ªå¯†ç ç”¨äºå¯¹æ‰‹æœºæ“ä½œçš„å¯†ç ï¼›è€Œå¯¹äºè¿™å¯†ç å¤§æ¦‚ä¹Ÿåˆ†ä¸ºå‡ ç±»ï¼šå…¶ä¸€ï¼šè®¾å®šå›ºå®šå¯†ç ï¼Œåªæœ‰åç¼–è¯‘çœ‹æºç ä¹‹åæ‰èƒ½çœ‹åˆ°ï¼Œå…¶äºŒï¼šå›ºå®šç®—æ³•è®¾å®šå¯†ç ï¼Œæ¯”å…¶ä¸€çš„å®‰å…¨æ€§é«˜ä¸€ç‚¹ï¼Œå•éœ€è¦èŠ±è´¹ä¸€ç‚¹æ—¶é—´ç ”ç©¶ç®—æ³•ï¼Œä¾‹å¦‚ï¼šå½“å‰çš„æ—¶é—´ä½œä¸ºå¯†ç ï¼Œä¸€èˆ¬äººä¸ä¼šæƒ³åˆ°è¿™æ ·çš„å¯†ç ï¼Œä½†æ˜¯è¿™æ ·çš„å¯†ç æ˜¯ä¸å›ºå®šçš„ï¼Œæ˜¯æ ¹æ®æ—¶é—´çš„å˜åŒ–äºŒå˜åŒ–çš„ï¼›\n\nä¹‹åï¼Œä»–å°±åœ¨ä¹‹å‰çš„é‚£ç¯‡å¸–å­ä¸‹é¢è¯„è®ºäº†è¯¥ç½‘å‹ï¼Œå¤§è‡´è¯´äº†å¤§è‡´å¯†ç çš„æ–¹å‘ï¼Œä¹‹åä»–å½•åˆ¶äº†ç›¸å…³çš„å®‰å…¨å¦‚ä½•è§£å¯†è§†é¢‘åŒæ—¶è¯„è®ºäº†è¯¥ç½‘å‹ï¼›åæ¥æˆ‘å†å»çœ‹è¯¥è¯„è®ºçš„è§†é¢‘çš„æ—¶å€™ï¼Œå‘ç°å·²ç»æ‰¾ä¸åˆ°äº†ï¼›\n\nè¿™ä¹Ÿå°±æ˜¯åé¢**æ”¾ä¸ä¸‹**äº‹æƒ…çš„èµ·å› ï¼›ä¹Ÿå°±æ˜¯è¿™æ ·çš„èµ·å› è®©ä»–ç»å†å¤šå¹´è¿˜åœ¨å…¶ä¸­ï¼›\n\nå› ä¸ºä»–è²Œä¼¼å·²ç»å¯¹è®¡ç®—æœºä¸Šç˜¾ï¼Œä»–å¹¶ä¸æ˜¯æ¯æ¬¡éƒ½ä¼šç ”ç©¶ç¨€å¥‡å¤æ€ªçš„ä¸œè¥¿ï¼Œä¸ä¹…`ç©¿è¶Šç«çº¿`æ—¶ä»£åˆ°æ¥ï¼Œä»–è¿·ä¸Šäº†æªæˆ˜æ¸¸æˆï¼›åœ¨æ ¡æœŸé—´ä»–å¯ä¸ºæ˜¯èµ°åœ¨äº†åŒå¹´é¾„çš„ç½‘ç»œç¬¬ä¸€äººï¼›\n\nä¸ä¹…è®¡ç®—æœºçš„å‡ºç°ï¼Œæœ‰åˆ©æœ‰å¼Šï¼ŒåŒåˆƒå‰‘çš„å¼Šç«¯å°±è¢«æ‰©å¤§ï¼Œç½‘ä¸Šè¯ˆéª—ï¼Œé’“é±¼ç½‘ç«™ç­‰è‚†æ„å…´èµ·ï¼›é‚£ä¸ªæ—¶å€™è¿˜ä¸çŸ¥é“è¿™äº›`ä»£åè¯`ï¼Œåªæ˜¯çŸ¥é“é‚£äº›éƒ½æ˜¯å‡çš„ï¼›åæ¥å¯¹äº`æ‰‹æœºè½¯ä»¶idea`å…·ä½“æ˜¯ä»€ä¹ˆè½¯ä»¶åç§°ï¼Œæˆ‘ä¹Ÿå¿˜äº†ã€‚å¤§è‡´å°±æ˜¯ä¸€æ¬¾åœ¨æ‰‹æœºä¸Šå†™è½¯ä»¶çš„å·¥å…·ï¼›ä¹‹ååˆå½•åˆ¶äº†ä¸€ä¸ªè§†é¢‘ï¼Œå¤§è‡´å°±æ˜¯è¾“å…¥æ‰‹æœºå¯†ç ä¹‹åï¼Œå°±èƒ½ä»åå°è·å–åˆ°äº†è¾“å…¥çš„æ‰‹æœºå¯†ç ï¼Œè¿™å’Œè¯ˆéª—ï¼Œé’“é±¼ç½‘ç«™çš„å¼‚ç«¯ç±»ä¼¼ï¼›å‘å¸ƒåœ¨äº†ç½‘ä¸Šé¿å…åˆ«äººä¸Šå½“ï¼›æ›´åŠ è°¨æ…ä¸€ç‚¹ï¼›\n\n## æœ\n\nä¸ä¹…ï¼Œä»–æ¥åˆ°äº†å®¶é‡Œçš„ç”µè¯ï¼Œè¯´æ˜¯å®¶é‡Œé•¿è¾ˆäº²äººå‡ºäº†æ„å¤–ï¼›å½“æ—¶ä»–è¿˜åœ¨ç¡è§‰ï¼Œé¦–æ¬¡æ‰“ç”µè¯ä»–å°±æŒ‚äº†ï¼Œç›´åˆ°ç¬¬ä¸‰æ¬¡çš„æ—¶å€™ä»–æ¥åˆ°äº†ï¼Œè¯´æ˜¯èµ¶ç´§å›å®¶ï¼›ç®€å•å‡ å¥ï¼Œæ²¡æƒ³åˆ°ä¹‹åå¤šå¹´è¿™ä»¶äº‹æƒ…è¿˜åœ¨å¿ƒä¸­æ”¾ä¸ä¸‹ï¼›\n\nä»–çˆ¶äº²çš„ç¦»ä¸–ï¼Œå¹¶æœªç»™å½“æ—¶ä¸­å­¦å¹´ä»£çš„ä»–é€ æˆå¤ªå¤§å½±å“ï¼Œå› ä¸ºå¹´çºªè¿˜å°ï¼Œç¨šå«©çš„å¾ˆï¼›å¯¹äºè¿™äº›äº‹æƒ…ä»–å¹¶ä¸çŸ¥é“ï¼Œä¹Ÿä¸çŸ¥é“åˆ°åº•æ˜¯æ€ä¹ˆäº†ï¼›æˆ‘å½“æ—¶å¬åˆ°ä¹‹åå¿ƒé‡Œä¹Ÿæ˜¯éš¾å—äº†å¾ˆä¹…ï¼›40 å¤šå²çš„å¹´çºªï¼Œ10 å‡ å²å·¦å³çš„å¹´çºªå¤©äººç›¸éš”ï¼›\næ™šä¸Šå®ˆçµä»–ç¡åœ¨äº†ä»–çˆ¶äº²èº«è¾¹ï¼Œå•ä»–è¿·è¿·ç³Šç³Šçš„è§åˆ°äº†å¤©èŠ±æ¿å½©è‰²çš„ç¯ï¼ŒçŸ¥é“ç¬¬äºŒå¤©é—®å®¶é‡Œäººè¯´ï¼Œè¿™äº›ç¯è€æ—©å°±åæ‰äº†ï¼Œä¸ä¼šäº®çš„ï¼Œä»–ä¹Ÿä¸æ¸…æ¥šå½“æ—¶æ˜¯åšæ¢¦è¿˜æ˜¯æ€ä¹ˆåœ°ï¼›äº²æˆšé—®ä»–æ€ä¹ˆäº†ï¼Œä»–æŠŠè¿™ä»¶äº‹æƒ…éšè—èµ·æ¥äº†ï¼Œè¯´æ˜¯æ¢¦è§ä»–çˆ¶äº²äº†ï¼Œé—®è¯´ä»€ä¹ˆäº†ï¼Œâ€œè®©æˆ‘å¥½å¥½å­¦ä¹ â€ï¼›å› ä¸ºä»–å¹¶ä¸å¥½å­¦ï¼Œä¹Ÿä¸æ˜¯å±äºå­¦ä¹ çš„ç±»å‹ï¼Œè¿™æ ·çš„å›ç­”å¿…å®šä¸ä¼šç›¸ä¿¡ï¼›\n\nçŸ¥é“å¹´é¾„çš„å¢é•¿ï¼Œæ…¢æ…¢çš„ä»–ä¹Ÿæ‡‚å¾—äº†å¾ˆå¤šï¼Œä»–å› ä¸ºå¤šç§åŸå› æŠ‘éƒäº†ä¸€æ®µæ—¶é—´ï¼Œåˆ°ç°åœ¨è¿™ä»¶äº‹æƒ…å§‹ç»ˆå¯¹ä»–æ¥è¯´æ˜¯ä¸€å—å¤§çŸ³å¤´ï¼Œæ°¸è¿œæ”¾ä¸ä¸‹ï¼›éšç€å¹´çºªçš„å¢é•¿ï¼ŒçŸ³å¤´çš„é‡é‡ä¹Ÿå°±æ…¢æ…¢ç´¯ç§¯äº†èµ·æ¥ï¼›\n\nç›´åˆ°ç°åœ¨ï¼Œä»–åªè¦æƒ³åˆ°ï¼Œåˆ·åˆ°ç›¸å…³äº‹æƒ…ï¼Œè§†é¢‘ä¹‹åï¼Œå¿ƒä¸­ä¹Ÿè¶Šå‘éš¾å—ï¼Œä»–è¡¨é¢ä¸Šä¹Ÿè®¸ä¸ä¼šå˜ç°ï¼Œç™½å¤©è¡¨ç°çš„å¼€å¼€å¿ƒå¿ƒçš„ï¼Œæ™šä¸Šä¼¼ä¹å°±å˜äº†ä¸€ä¸ªäººä¼¼çš„ï¼Œä¹Ÿè®¸æ˜¯ç½‘ä¸Šè¯´çš„`é˜³å…‰å‹æŠ‘éƒç—‡`;\n\næˆ‘ä¹‹åå’Œä»–è¯´ï¼Œâ€œæ”¾ä¸‹â€å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•ï¼Œä¹Ÿå¹¶ä¸æ˜¯å˜´ä¸Šè¯´è¯´ï¼Œå®åˆ™ä½ å†…å¿ƒè¿‡ä¸å»é‚£é“åï¼Œå°±å¥½æ¯”ç”µè§†ä¿®ä»™ä¸–ç•Œçš„é‚£é“ç“¶é¢ˆï¼Œè¿‡å»äº†ä¸€åˆ‡ä¹Ÿå°±è¿‡å»äº†ï¼Œèƒ½ä¸èƒ½è·¨è¿‡å»è¿˜çš„é ä½ è‡ªèº«ï¼›ä½ æ¯å¤©éƒ½ä¼šæ‚”æ¨ï¼Œå¿ƒä¸­æœ‰æ‚”ï¼Œæ—¶é—´ä¸€é•¿ä¼šå½±å“ä½ çš„ç”Ÿæ´»ï¼Œå·¥ä½œç­‰ï¼›ä½†æ˜¯ä½ ç°åœ¨çš„ä¸æ˜¯å¤©å¤©æƒ³äº‹æƒ…ï¼Œä½ éœ€è¦çš„æ˜¯é€‚å½“æ”¾æ¾ï¼Œæ”¾ä¸‹ï¼Œå°±å¥½æ¯”æŠŠé—²æš‡æ—¶é—´äº¤ç»™ç”Ÿæ´»ï¼Œäº¤ç»™ä¹è¶£ï¼Œä¹Ÿè®¸æ—¶é—´é•¿äº†ï¼Œä½ å¿ƒä¸­çš„å› æ…¢æ…¢ä¹Ÿä¼šæ·¡æ‰ï¼›ä½ ç°åœ¨åœ¨ä¸Šæµ·å·¥ä½œï¼Œå·¥ä½œå‹åŠ›å¤§ï¼Œç™½å¤©ä¸Šç­ï¼Œæ™šä¸Šå›å»ä½ åˆæƒ³ä¸œæƒ³è¥¿ï¼Œè„‘è¢‹ä¸€å¤©å¾—ä¸åˆ°çœŸæ­£çš„æ”¾æ¾ï¼Œæ—¶é—´ä¸€é•¿ï¼Œèº«ä½“æœºèƒ½ä¼šç½¢å·¥çš„ï¼›ä½ ç°åœ¨çš„çŠ¶æ€ï¼Œä¿è¯å¿ƒé‡Œçš„å› ä¸ä¼šå½±å“ä½ çš„ç”Ÿæ´»ï¼Œå·¥ä½œï¼Œå…¶ä»–çš„äº¤ç»™æ—¶é—´ï¼Œå­¦ä¼šæ”¾å¼ƒï¼Œæ‡‚å¾—æ”¾ä¸‹ï¼Œä½•å°ä¸æ˜¯å¦ä¸€ç§è·å¾—ï¼›\n\n---\n\nâ€œèˆï¼Œå¾—â€ä¼šåœ¨åæœŸè¿›è¡Œæ›´æ–°å‘å¸ƒï¼Œâ€œç”Ÿæ´»â€å½’ç±»ï¼Œä»…ä»…æ˜¯è®°å½•ç”Ÿæ´»ï¼Œæ—¥å¸¸ç­‰ç­‰ï¼Œå¹¶ä¸ä¼šä½œä¸ºå…¶ä»–ä½œä¸ºã€‚\n\nâ€èˆï¼Œå¾—ï¼Œæ”¾ä¸‹â€œ ä¹‹ â€èˆï¼Œå¾—â€œä¼šåœ¨ä¸‹ç¯‡æ–‡ç« æ›´æ–°ï¼›\n\nç»­.......\n","slug":"ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/â€œèˆï¼Œå¾—ï¼Œæ”¾â€ ä¸‹ä¹‹ â€œæ”¾â€","published":1,"updated":"2025-03-12T10:05:46.799Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j2004xfg9m1yjf5w6h","content":"<h1 id=\"åº\"><a href=\"#åº\" class=\"headerlink\" title=\"åº\"></a>åº</h1><p><strong>äººç”Ÿåœ¨ä¸–ï¼Œæˆ‘ä»¬æ›´åº”è¯¥æ‡‚å¾—ï¼Œé€‚å½“çš„æ”¾å¼ƒï¼Œæ‰èƒ½å¾—åˆ°ï¼Œä¸€å‘³çš„å¼ºæ±‚ï¼Œåè€Œä¼šé€‚å¾—å…¶åã€‚ ä½›è¯´ï¼šèˆï¼Œå°±æ˜¯å¾—ï¼›ä¸èˆï¼Œå“ªæœ‰å¾—ã€‚ æ”¾ä¸‹ï¼Œä¾¿å¾—è‡ªåœ¨ã€‚ äººç”Ÿåœ¨ä¸–ï¼Œæ›´åº”è¯¥æ‡‚å¾—é€‚å½“çš„æ”¾ä¸‹ï¼Œæ‰ä¼šè½»æ¾ï¼Œæ”¾ä¸‹å¿ƒä¸­çš„æ·é”ï¼Œè®©è‡ªå·±çš„å¿ƒçµè‡ªç”±ã€‚</strong></p>\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>å‰æ®µæ—¶é—´è€ w å°±å’Œæˆ‘è¯´äº†ä¸€ä»¶éšè—åœ¨ä»–å†…å¿ƒçš„ä¸€ä»¶äº‹ï¼Œ<strong>èˆï¼Œå¾—ï¼Œæ”¾ä¸‹</strong>è¯¥æ€ä¹ˆåšæ‰èƒ½æ”¾ä¸‹å¿ƒä¸­æ·é”ï¼Œæ‰èƒ½è½»æ¾è‡ªåœ¨ï¼›æˆ‘è¿Ÿç–‘äº†ä¸€ä¼šå„¿æ²¡æœ‰å›å¤ä»–ï¼Œå› ä¸ºæˆ‘ä¹Ÿä¸çŸ¥é“è¯¥æ€ä¹ˆå›å¤ä»–ï¼›å› ä¸ºæ¯ä¸ªäººå¿ƒä¸­ä¹Ÿè®¸éƒ½æœ‰é‚£ä¹ˆä¸€ä»¶æ”¾ä¸ä¸‹ï¼Œèˆä¸å¾—çš„äº‹æƒ…å§ï¼›</p>\n<p>è€ w å’Œæˆ‘è¯´ï¼Œä»–å¸¸å¸¸å°±åœ¨æƒ³ï¼Œ<strong>â€œèˆå¾—â€</strong> è¯¥å¦‚ä½•åšæ‰èƒ½ç®—æ˜¯çœŸæ­£çš„æœ‰èˆæœ‰å¾—ï¼Œèˆä¸å¾—å¯¹ä»–æ¥è®²è²Œä¼¼å°±æ˜¯å¹³è¡¡ç§°ï¼Œåªè¦å¦ä¸€æ–¹å‘ç”Ÿç¯‡é‡å·®ï¼Œé‚£ä¹ˆå¹³è¡¡ç§°å°±ä¸å†å¹³è¡¡ï¼›è€Œ <strong>â€œæ”¾ä¸‹â€</strong> å°±æ˜¯ä¸€ä¸ªç§¯å‹å¤šå¹´çš„çŸ³å¤´ï¼ŒæŒ‰ç†è¯´ç»è¿‡é£å¹æ—¥æ™’çŸ³å¤´ä¼šæ…¢æ…¢é£åŒ–ï¼Œç›´è‡³æ¶ˆåŒ–æ‰æœ€åçš„ä¸€å—è±è§’æˆä¸ºæ¼‚æµ®åœ¨é£ä¸­çš„ä¸€ç²’å°˜åŸƒï¼Œè¿™ä¹ˆå¤šå¹´äº†è¿™å—çŸ³å¤´åˆ†é‡ç»è¿‡å¤šå¹´çš„ç£¨ç»ƒä¸å‡åå¢ï¼›</p>\n<p>ä»Šå¹´ 5 æœˆä»½çš„åŠ³åŠ¨èŠ‚ï¼Œå’Œä»–å»äº†ä¸€è¶Ÿçµéšå¯ºï¼Œçµéšå¯ºä¹Ÿæ˜¯æˆ‘å¤šå¹´ä»¥æ¥æƒ³å»çš„åœ°æ–¹ä¹‹ä¸€ï¼Œä¸ä¸ºåˆ«çš„å¿ƒä¸­æœ‰å› ï¼Œä¹Ÿè®¸è¿™ä¸€æ¬¡è‹æ­ä¹‹æ¸¸å¯è§£å¿ƒä¸­ä¹‹å› ï¼ŒåŒ–è§£å¿ƒä¸­æ‰€æƒ³ï¼›å½“ç„¶æˆ‘å¿ƒä¸­ä¹Ÿæœ‰æ”¾ä¸ä¸‹çš„äº‹æƒ…ï¼Œä½†å¤šæ•°åŸå› æ˜¯å› ä¸ºçµéšå¯ºåœ¨æˆ‘å¿ƒä¸­çš„ç¥ç§˜æ„Ÿï¼›</p>\n<p>ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œçµéšå¯ºåœ¨æˆ‘å¿ƒä¸­ä¹Ÿè®¸æœ‰ä¸€ç§æ¯”è¾ƒç¥ç§˜çš„è‰²å½©ï¼Œä¹Ÿè®¸æ˜¯å½“åˆçš„ç”µè§†ä¸ºäº†å¢æ·»äº†å¯¹çµéšå¯ºçš„å¥½å¥‡ï¼›å¿ƒä¸­æ€»è®¤ä¸ºå¿ƒä¸­æœ‰å› åœ¨çµéšå¯ºä¹Ÿè®¸æœ‰æƒ³ï¼Œæœ‰æ‚Ÿï¼›å°±å¥½æ¯”å…¥å£çš„ç¦…ç‰Œï¼š<strong>èˆå¾—ï¼Œæ”¾åœ¨</strong>ï¼›æˆ‘æ„Ÿè§‰è¿™æ¬¡æ˜¯æ¥å¯¹äº†åœ°æ–¹ï¼Œä¹Ÿè®¸è¿™æ¬¡çœŸçš„å¯ä»¥å¸®åŠ©è€ wï¼›æˆ‘çŸ¥é“å¿ƒä¸­æœ‰å› æœ€åè¿˜çš„é è‡ªå·±ï¼›</p>\n<h2 id=\"å› \"><a href=\"#å› \" class=\"headerlink\" title=\"å› \"></a>å› </h2><p>è€ w çš„å› ï¼Œä¹Ÿå°±æ˜¯ä»–å¿ƒä¸­ï¼Œ**â€œæ”¾ä¸‹â€**çš„äº‹æƒ…ï¼Œè¯è¯´è¿˜çš„è¿½æº¯åˆ°ä¸­å­¦å¹´ä»£ï¼Œé‚£æ®µåœ¨æ ¡å­¦ä¹ æ—¶æœŸä»–ä¹Ÿç®—ä¸€ä¸ªè°ƒçš®æ£è›‹ä¹‹äººï¼Œå¯¹äºå­¦ä¹ ä¹¦æœ¬çŸ¥è¯†é‚£æ˜¯æŒ‘å‰”çš„å¾ˆï¼Œåªè¦æ˜¯ä¹¦æœ¬çŸ¥è¯†å°±å¥½åƒé›·è¾¾ä¼¼çš„è‡ªåŠ¨èº²é¿ï¼Œå¯¹ä»–å¥½å¥‡çš„ä¸œè¥¿å­¦çš„é‚£æ˜¯ä¸€ä¸ªæ»‹å‘³ï¼›</p>\n<p>è¯´åˆ°ä»€ä¹ˆå¯¹ä»–å¥½å¥‡ï¼Œé‚£å°±æ˜¯è®¡ç®—æœºï¼Œé‚£æ®µæ—¶ä»£äº’è”ç½‘å…´èµ·ï¼Œè®¡ç®—æœºä¹Ÿæ˜¯è¿›å…¥æŒ¨å®¶æŒ¨æˆ·ï¼Œä½†æ˜¯å¯¹ä»–å®¶å¢ƒä¸€èˆ¬çš„æƒ…å†µï¼Œä»–å®¶é‡Œä¸ä¼šä¹°è®¡ç®—æœºåŒæ—¶è¿™æ ·ä¹Ÿä¼šå½±å“å­¦ä¸šï¼Œå› æ­¤ä¾¿è¯è´¹é›¶èŠ±é’±å»äº†ç½‘å§ï¼Œä¸è¿‡æˆ‘ä¹Ÿå¾ˆä½©æœä»–ï¼Œåˆ«äººç©è®¡ç®—æœºå°±æ˜¯æ‰“æ¸¸æˆï¼Œä»–å¯çœŸæ˜¯ä¸€ä¸ªå¥‡è‘©ï¼Œç ”ç©¶ä¸€äº›ç¨€å¥‡å¤æ€ªçš„ä¸œè¥¿ï¼Œé‚£æ®µæ—¶é—´æ‰‹æœºè½¯ä»¶å…´èµ·ä¸€æ¬¾ç—…æ¯’ï¼Œåªè¦æ˜¯å®‰è£…æ‰‹æœºæˆæƒä¹‹åï¼Œæ‰‹æœºä¾¿è‡ªåŠ¨ä¸Šé”ï¼Œéœ€è¦è¾“å…¥è®¾å®šçš„å¯†ç æ‰èƒ½è§£é”å¸è½½ç—…æ¯’ï¼›</p>\n<p>å› ä¸ºå¶ç„¶åœ¨ç¤¾åŒºçœ‹åˆ°è¿™ä¹ˆä¸€ä¸ªç½‘å‹é—®ï¼Œè¯´æ˜¯ä¸‹è½½äº†ä¸€ä¸ªè½¯ä»¶ä¸­äº†ç—…æ¯’ï¼Œéœ€è¦è¾“å…¥å¯†ç ï¼Œä½†æ˜¯å¯†ç æ˜¯éœ€è¦èŠ±é’±å‘è¢«äººç´¢è¦çš„ï¼Œåˆ°ç°åœ¨ä¸ºæ­¢è¿™åº”è¯¥å±äºè¯ˆéª—äº†å§ï¼›è€ w å½“æ—¶çœ‹äº†è¿™ä¸ªå¸–å­ï¼Œå°±æ¥äº†å¥½å¥‡å¿ƒï¼Œç©¶ç«Ÿæ˜¯ä»€ä¹ˆèƒ½è®©æ‰‹æœºä¸Šé”ï¼Œè²Œä¼¼å¯¹ä»–æ¥è¯´æ˜¯å¾ˆå¥½ç©çš„ï¼›</p>\n<p>ä»–ç ”ç©¶äº†ä¸€æ®µæ—¶é—´ï¼Œå¤§æ¦‚ç®—æ˜¯æ˜ç™½äº†ï¼Œæ˜¯ä¸€æ¬¾åˆ¶ä½œè½¯ä»¶çš„å¼€å‘è¯­è¨€ï¼Œè€Œæˆæƒéœ€è¦è¾“å…¥çš„å¯†ç ä¸º<code>pin</code>ç ï¼Œå°±ç›¸å½“äºæ‰‹æœºæˆæƒä¹‹åï¼Œè®¾å®šä¸€ä¸ªå¯†ç ç”¨äºå¯¹æ‰‹æœºæ“ä½œçš„å¯†ç ï¼›è€Œå¯¹äºè¿™å¯†ç å¤§æ¦‚ä¹Ÿåˆ†ä¸ºå‡ ç±»ï¼šå…¶ä¸€ï¼šè®¾å®šå›ºå®šå¯†ç ï¼Œåªæœ‰åç¼–è¯‘çœ‹æºç ä¹‹åæ‰èƒ½çœ‹åˆ°ï¼Œå…¶äºŒï¼šå›ºå®šç®—æ³•è®¾å®šå¯†ç ï¼Œæ¯”å…¶ä¸€çš„å®‰å…¨æ€§é«˜ä¸€ç‚¹ï¼Œå•éœ€è¦èŠ±è´¹ä¸€ç‚¹æ—¶é—´ç ”ç©¶ç®—æ³•ï¼Œä¾‹å¦‚ï¼šå½“å‰çš„æ—¶é—´ä½œä¸ºå¯†ç ï¼Œä¸€èˆ¬äººä¸ä¼šæƒ³åˆ°è¿™æ ·çš„å¯†ç ï¼Œä½†æ˜¯è¿™æ ·çš„å¯†ç æ˜¯ä¸å›ºå®šçš„ï¼Œæ˜¯æ ¹æ®æ—¶é—´çš„å˜åŒ–äºŒå˜åŒ–çš„ï¼›</p>\n<p>ä¹‹åï¼Œä»–å°±åœ¨ä¹‹å‰çš„é‚£ç¯‡å¸–å­ä¸‹é¢è¯„è®ºäº†è¯¥ç½‘å‹ï¼Œå¤§è‡´è¯´äº†å¤§è‡´å¯†ç çš„æ–¹å‘ï¼Œä¹‹åä»–å½•åˆ¶äº†ç›¸å…³çš„å®‰å…¨å¦‚ä½•è§£å¯†è§†é¢‘åŒæ—¶è¯„è®ºäº†è¯¥ç½‘å‹ï¼›åæ¥æˆ‘å†å»çœ‹è¯¥è¯„è®ºçš„è§†é¢‘çš„æ—¶å€™ï¼Œå‘ç°å·²ç»æ‰¾ä¸åˆ°äº†ï¼›</p>\n<p>è¿™ä¹Ÿå°±æ˜¯åé¢<strong>æ”¾ä¸ä¸‹</strong>äº‹æƒ…çš„èµ·å› ï¼›ä¹Ÿå°±æ˜¯è¿™æ ·çš„èµ·å› è®©ä»–ç»å†å¤šå¹´è¿˜åœ¨å…¶ä¸­ï¼›</p>\n<p>å› ä¸ºä»–è²Œä¼¼å·²ç»å¯¹è®¡ç®—æœºä¸Šç˜¾ï¼Œä»–å¹¶ä¸æ˜¯æ¯æ¬¡éƒ½ä¼šç ”ç©¶ç¨€å¥‡å¤æ€ªçš„ä¸œè¥¿ï¼Œä¸ä¹…<code>ç©¿è¶Šç«çº¿</code>æ—¶ä»£åˆ°æ¥ï¼Œä»–è¿·ä¸Šäº†æªæˆ˜æ¸¸æˆï¼›åœ¨æ ¡æœŸé—´ä»–å¯ä¸ºæ˜¯èµ°åœ¨äº†åŒå¹´é¾„çš„ç½‘ç»œç¬¬ä¸€äººï¼›</p>\n<p>ä¸ä¹…è®¡ç®—æœºçš„å‡ºç°ï¼Œæœ‰åˆ©æœ‰å¼Šï¼ŒåŒåˆƒå‰‘çš„å¼Šç«¯å°±è¢«æ‰©å¤§ï¼Œç½‘ä¸Šè¯ˆéª—ï¼Œé’“é±¼ç½‘ç«™ç­‰è‚†æ„å…´èµ·ï¼›é‚£ä¸ªæ—¶å€™è¿˜ä¸çŸ¥é“è¿™äº›<code>ä»£åè¯</code>ï¼Œåªæ˜¯çŸ¥é“é‚£äº›éƒ½æ˜¯å‡çš„ï¼›åæ¥å¯¹äº<code>æ‰‹æœºè½¯ä»¶idea</code>å…·ä½“æ˜¯ä»€ä¹ˆè½¯ä»¶åç§°ï¼Œæˆ‘ä¹Ÿå¿˜äº†ã€‚å¤§è‡´å°±æ˜¯ä¸€æ¬¾åœ¨æ‰‹æœºä¸Šå†™è½¯ä»¶çš„å·¥å…·ï¼›ä¹‹ååˆå½•åˆ¶äº†ä¸€ä¸ªè§†é¢‘ï¼Œå¤§è‡´å°±æ˜¯è¾“å…¥æ‰‹æœºå¯†ç ä¹‹åï¼Œå°±èƒ½ä»åå°è·å–åˆ°äº†è¾“å…¥çš„æ‰‹æœºå¯†ç ï¼Œè¿™å’Œè¯ˆéª—ï¼Œé’“é±¼ç½‘ç«™çš„å¼‚ç«¯ç±»ä¼¼ï¼›å‘å¸ƒåœ¨äº†ç½‘ä¸Šé¿å…åˆ«äººä¸Šå½“ï¼›æ›´åŠ è°¨æ…ä¸€ç‚¹ï¼›</p>\n<h2 id=\"æœ\"><a href=\"#æœ\" class=\"headerlink\" title=\"æœ\"></a>æœ</h2><p>ä¸ä¹…ï¼Œä»–æ¥åˆ°äº†å®¶é‡Œçš„ç”µè¯ï¼Œè¯´æ˜¯å®¶é‡Œé•¿è¾ˆäº²äººå‡ºäº†æ„å¤–ï¼›å½“æ—¶ä»–è¿˜åœ¨ç¡è§‰ï¼Œé¦–æ¬¡æ‰“ç”µè¯ä»–å°±æŒ‚äº†ï¼Œç›´åˆ°ç¬¬ä¸‰æ¬¡çš„æ—¶å€™ä»–æ¥åˆ°äº†ï¼Œè¯´æ˜¯èµ¶ç´§å›å®¶ï¼›ç®€å•å‡ å¥ï¼Œæ²¡æƒ³åˆ°ä¹‹åå¤šå¹´è¿™ä»¶äº‹æƒ…è¿˜åœ¨å¿ƒä¸­æ”¾ä¸ä¸‹ï¼›</p>\n<p>ä»–çˆ¶äº²çš„ç¦»ä¸–ï¼Œå¹¶æœªç»™å½“æ—¶ä¸­å­¦å¹´ä»£çš„ä»–é€ æˆå¤ªå¤§å½±å“ï¼Œå› ä¸ºå¹´çºªè¿˜å°ï¼Œç¨šå«©çš„å¾ˆï¼›å¯¹äºè¿™äº›äº‹æƒ…ä»–å¹¶ä¸çŸ¥é“ï¼Œä¹Ÿä¸çŸ¥é“åˆ°åº•æ˜¯æ€ä¹ˆäº†ï¼›æˆ‘å½“æ—¶å¬åˆ°ä¹‹åå¿ƒé‡Œä¹Ÿæ˜¯éš¾å—äº†å¾ˆä¹…ï¼›40 å¤šå²çš„å¹´çºªï¼Œ10 å‡ å²å·¦å³çš„å¹´çºªå¤©äººç›¸éš”ï¼›<br>æ™šä¸Šå®ˆçµä»–ç¡åœ¨äº†ä»–çˆ¶äº²èº«è¾¹ï¼Œå•ä»–è¿·è¿·ç³Šç³Šçš„è§åˆ°äº†å¤©èŠ±æ¿å½©è‰²çš„ç¯ï¼ŒçŸ¥é“ç¬¬äºŒå¤©é—®å®¶é‡Œäººè¯´ï¼Œè¿™äº›ç¯è€æ—©å°±åæ‰äº†ï¼Œä¸ä¼šäº®çš„ï¼Œä»–ä¹Ÿä¸æ¸…æ¥šå½“æ—¶æ˜¯åšæ¢¦è¿˜æ˜¯æ€ä¹ˆåœ°ï¼›äº²æˆšé—®ä»–æ€ä¹ˆäº†ï¼Œä»–æŠŠè¿™ä»¶äº‹æƒ…éšè—èµ·æ¥äº†ï¼Œè¯´æ˜¯æ¢¦è§ä»–çˆ¶äº²äº†ï¼Œé—®è¯´ä»€ä¹ˆäº†ï¼Œâ€œè®©æˆ‘å¥½å¥½å­¦ä¹ â€ï¼›å› ä¸ºä»–å¹¶ä¸å¥½å­¦ï¼Œä¹Ÿä¸æ˜¯å±äºå­¦ä¹ çš„ç±»å‹ï¼Œè¿™æ ·çš„å›ç­”å¿…å®šä¸ä¼šç›¸ä¿¡ï¼›</p>\n<p>çŸ¥é“å¹´é¾„çš„å¢é•¿ï¼Œæ…¢æ…¢çš„ä»–ä¹Ÿæ‡‚å¾—äº†å¾ˆå¤šï¼Œä»–å› ä¸ºå¤šç§åŸå› æŠ‘éƒäº†ä¸€æ®µæ—¶é—´ï¼Œåˆ°ç°åœ¨è¿™ä»¶äº‹æƒ…å§‹ç»ˆå¯¹ä»–æ¥è¯´æ˜¯ä¸€å—å¤§çŸ³å¤´ï¼Œæ°¸è¿œæ”¾ä¸ä¸‹ï¼›éšç€å¹´çºªçš„å¢é•¿ï¼ŒçŸ³å¤´çš„é‡é‡ä¹Ÿå°±æ…¢æ…¢ç´¯ç§¯äº†èµ·æ¥ï¼›</p>\n<p>ç›´åˆ°ç°åœ¨ï¼Œä»–åªè¦æƒ³åˆ°ï¼Œåˆ·åˆ°ç›¸å…³äº‹æƒ…ï¼Œè§†é¢‘ä¹‹åï¼Œå¿ƒä¸­ä¹Ÿè¶Šå‘éš¾å—ï¼Œä»–è¡¨é¢ä¸Šä¹Ÿè®¸ä¸ä¼šå˜ç°ï¼Œç™½å¤©è¡¨ç°çš„å¼€å¼€å¿ƒå¿ƒçš„ï¼Œæ™šä¸Šä¼¼ä¹å°±å˜äº†ä¸€ä¸ªäººä¼¼çš„ï¼Œä¹Ÿè®¸æ˜¯ç½‘ä¸Šè¯´çš„<code>é˜³å…‰å‹æŠ‘éƒç—‡</code>;</p>\n<p>æˆ‘ä¹‹åå’Œä»–è¯´ï¼Œâ€œæ”¾ä¸‹â€å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•ï¼Œä¹Ÿå¹¶ä¸æ˜¯å˜´ä¸Šè¯´è¯´ï¼Œå®åˆ™ä½ å†…å¿ƒè¿‡ä¸å»é‚£é“åï¼Œå°±å¥½æ¯”ç”µè§†ä¿®ä»™ä¸–ç•Œçš„é‚£é“ç“¶é¢ˆï¼Œè¿‡å»äº†ä¸€åˆ‡ä¹Ÿå°±è¿‡å»äº†ï¼Œèƒ½ä¸èƒ½è·¨è¿‡å»è¿˜çš„é ä½ è‡ªèº«ï¼›ä½ æ¯å¤©éƒ½ä¼šæ‚”æ¨ï¼Œå¿ƒä¸­æœ‰æ‚”ï¼Œæ—¶é—´ä¸€é•¿ä¼šå½±å“ä½ çš„ç”Ÿæ´»ï¼Œå·¥ä½œç­‰ï¼›ä½†æ˜¯ä½ ç°åœ¨çš„ä¸æ˜¯å¤©å¤©æƒ³äº‹æƒ…ï¼Œä½ éœ€è¦çš„æ˜¯é€‚å½“æ”¾æ¾ï¼Œæ”¾ä¸‹ï¼Œå°±å¥½æ¯”æŠŠé—²æš‡æ—¶é—´äº¤ç»™ç”Ÿæ´»ï¼Œäº¤ç»™ä¹è¶£ï¼Œä¹Ÿè®¸æ—¶é—´é•¿äº†ï¼Œä½ å¿ƒä¸­çš„å› æ…¢æ…¢ä¹Ÿä¼šæ·¡æ‰ï¼›ä½ ç°åœ¨åœ¨ä¸Šæµ·å·¥ä½œï¼Œå·¥ä½œå‹åŠ›å¤§ï¼Œç™½å¤©ä¸Šç­ï¼Œæ™šä¸Šå›å»ä½ åˆæƒ³ä¸œæƒ³è¥¿ï¼Œè„‘è¢‹ä¸€å¤©å¾—ä¸åˆ°çœŸæ­£çš„æ”¾æ¾ï¼Œæ—¶é—´ä¸€é•¿ï¼Œèº«ä½“æœºèƒ½ä¼šç½¢å·¥çš„ï¼›ä½ ç°åœ¨çš„çŠ¶æ€ï¼Œä¿è¯å¿ƒé‡Œçš„å› ä¸ä¼šå½±å“ä½ çš„ç”Ÿæ´»ï¼Œå·¥ä½œï¼Œå…¶ä»–çš„äº¤ç»™æ—¶é—´ï¼Œå­¦ä¼šæ”¾å¼ƒï¼Œæ‡‚å¾—æ”¾ä¸‹ï¼Œä½•å°ä¸æ˜¯å¦ä¸€ç§è·å¾—ï¼›</p>\n<hr>\n<p>â€œèˆï¼Œå¾—â€ä¼šåœ¨åæœŸè¿›è¡Œæ›´æ–°å‘å¸ƒï¼Œâ€œç”Ÿæ´»â€å½’ç±»ï¼Œä»…ä»…æ˜¯è®°å½•ç”Ÿæ´»ï¼Œæ—¥å¸¸ç­‰ç­‰ï¼Œå¹¶ä¸ä¼šä½œä¸ºå…¶ä»–ä½œä¸ºã€‚</p>\n<p>â€èˆï¼Œå¾—ï¼Œæ”¾ä¸‹â€œ ä¹‹ â€èˆï¼Œå¾—â€œä¼šåœ¨ä¸‹ç¯‡æ–‡ç« æ›´æ–°ï¼›</p>\n<p>ç»­â€¦â€¦.</p>\n","excerpt":"","more":"<h1 id=\"åº\"><a href=\"#åº\" class=\"headerlink\" title=\"åº\"></a>åº</h1><p><strong>äººç”Ÿåœ¨ä¸–ï¼Œæˆ‘ä»¬æ›´åº”è¯¥æ‡‚å¾—ï¼Œé€‚å½“çš„æ”¾å¼ƒï¼Œæ‰èƒ½å¾—åˆ°ï¼Œä¸€å‘³çš„å¼ºæ±‚ï¼Œåè€Œä¼šé€‚å¾—å…¶åã€‚ ä½›è¯´ï¼šèˆï¼Œå°±æ˜¯å¾—ï¼›ä¸èˆï¼Œå“ªæœ‰å¾—ã€‚ æ”¾ä¸‹ï¼Œä¾¿å¾—è‡ªåœ¨ã€‚ äººç”Ÿåœ¨ä¸–ï¼Œæ›´åº”è¯¥æ‡‚å¾—é€‚å½“çš„æ”¾ä¸‹ï¼Œæ‰ä¼šè½»æ¾ï¼Œæ”¾ä¸‹å¿ƒä¸­çš„æ·é”ï¼Œè®©è‡ªå·±çš„å¿ƒçµè‡ªç”±ã€‚</strong></p>\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>å‰æ®µæ—¶é—´è€ w å°±å’Œæˆ‘è¯´äº†ä¸€ä»¶éšè—åœ¨ä»–å†…å¿ƒçš„ä¸€ä»¶äº‹ï¼Œ<strong>èˆï¼Œå¾—ï¼Œæ”¾ä¸‹</strong>è¯¥æ€ä¹ˆåšæ‰èƒ½æ”¾ä¸‹å¿ƒä¸­æ·é”ï¼Œæ‰èƒ½è½»æ¾è‡ªåœ¨ï¼›æˆ‘è¿Ÿç–‘äº†ä¸€ä¼šå„¿æ²¡æœ‰å›å¤ä»–ï¼Œå› ä¸ºæˆ‘ä¹Ÿä¸çŸ¥é“è¯¥æ€ä¹ˆå›å¤ä»–ï¼›å› ä¸ºæ¯ä¸ªäººå¿ƒä¸­ä¹Ÿè®¸éƒ½æœ‰é‚£ä¹ˆä¸€ä»¶æ”¾ä¸ä¸‹ï¼Œèˆä¸å¾—çš„äº‹æƒ…å§ï¼›</p>\n<p>è€ w å’Œæˆ‘è¯´ï¼Œä»–å¸¸å¸¸å°±åœ¨æƒ³ï¼Œ<strong>â€œèˆå¾—â€</strong> è¯¥å¦‚ä½•åšæ‰èƒ½ç®—æ˜¯çœŸæ­£çš„æœ‰èˆæœ‰å¾—ï¼Œèˆä¸å¾—å¯¹ä»–æ¥è®²è²Œä¼¼å°±æ˜¯å¹³è¡¡ç§°ï¼Œåªè¦å¦ä¸€æ–¹å‘ç”Ÿç¯‡é‡å·®ï¼Œé‚£ä¹ˆå¹³è¡¡ç§°å°±ä¸å†å¹³è¡¡ï¼›è€Œ <strong>â€œæ”¾ä¸‹â€</strong> å°±æ˜¯ä¸€ä¸ªç§¯å‹å¤šå¹´çš„çŸ³å¤´ï¼ŒæŒ‰ç†è¯´ç»è¿‡é£å¹æ—¥æ™’çŸ³å¤´ä¼šæ…¢æ…¢é£åŒ–ï¼Œç›´è‡³æ¶ˆåŒ–æ‰æœ€åçš„ä¸€å—è±è§’æˆä¸ºæ¼‚æµ®åœ¨é£ä¸­çš„ä¸€ç²’å°˜åŸƒï¼Œè¿™ä¹ˆå¤šå¹´äº†è¿™å—çŸ³å¤´åˆ†é‡ç»è¿‡å¤šå¹´çš„ç£¨ç»ƒä¸å‡åå¢ï¼›</p>\n<p>ä»Šå¹´ 5 æœˆä»½çš„åŠ³åŠ¨èŠ‚ï¼Œå’Œä»–å»äº†ä¸€è¶Ÿçµéšå¯ºï¼Œçµéšå¯ºä¹Ÿæ˜¯æˆ‘å¤šå¹´ä»¥æ¥æƒ³å»çš„åœ°æ–¹ä¹‹ä¸€ï¼Œä¸ä¸ºåˆ«çš„å¿ƒä¸­æœ‰å› ï¼Œä¹Ÿè®¸è¿™ä¸€æ¬¡è‹æ­ä¹‹æ¸¸å¯è§£å¿ƒä¸­ä¹‹å› ï¼ŒåŒ–è§£å¿ƒä¸­æ‰€æƒ³ï¼›å½“ç„¶æˆ‘å¿ƒä¸­ä¹Ÿæœ‰æ”¾ä¸ä¸‹çš„äº‹æƒ…ï¼Œä½†å¤šæ•°åŸå› æ˜¯å› ä¸ºçµéšå¯ºåœ¨æˆ‘å¿ƒä¸­çš„ç¥ç§˜æ„Ÿï¼›</p>\n<p>ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œçµéšå¯ºåœ¨æˆ‘å¿ƒä¸­ä¹Ÿè®¸æœ‰ä¸€ç§æ¯”è¾ƒç¥ç§˜çš„è‰²å½©ï¼Œä¹Ÿè®¸æ˜¯å½“åˆçš„ç”µè§†ä¸ºäº†å¢æ·»äº†å¯¹çµéšå¯ºçš„å¥½å¥‡ï¼›å¿ƒä¸­æ€»è®¤ä¸ºå¿ƒä¸­æœ‰å› åœ¨çµéšå¯ºä¹Ÿè®¸æœ‰æƒ³ï¼Œæœ‰æ‚Ÿï¼›å°±å¥½æ¯”å…¥å£çš„ç¦…ç‰Œï¼š<strong>èˆå¾—ï¼Œæ”¾åœ¨</strong>ï¼›æˆ‘æ„Ÿè§‰è¿™æ¬¡æ˜¯æ¥å¯¹äº†åœ°æ–¹ï¼Œä¹Ÿè®¸è¿™æ¬¡çœŸçš„å¯ä»¥å¸®åŠ©è€ wï¼›æˆ‘çŸ¥é“å¿ƒä¸­æœ‰å› æœ€åè¿˜çš„é è‡ªå·±ï¼›</p>\n<h2 id=\"å› \"><a href=\"#å› \" class=\"headerlink\" title=\"å› \"></a>å› </h2><p>è€ w çš„å› ï¼Œä¹Ÿå°±æ˜¯ä»–å¿ƒä¸­ï¼Œ**â€œæ”¾ä¸‹â€**çš„äº‹æƒ…ï¼Œè¯è¯´è¿˜çš„è¿½æº¯åˆ°ä¸­å­¦å¹´ä»£ï¼Œé‚£æ®µåœ¨æ ¡å­¦ä¹ æ—¶æœŸä»–ä¹Ÿç®—ä¸€ä¸ªè°ƒçš®æ£è›‹ä¹‹äººï¼Œå¯¹äºå­¦ä¹ ä¹¦æœ¬çŸ¥è¯†é‚£æ˜¯æŒ‘å‰”çš„å¾ˆï¼Œåªè¦æ˜¯ä¹¦æœ¬çŸ¥è¯†å°±å¥½åƒé›·è¾¾ä¼¼çš„è‡ªåŠ¨èº²é¿ï¼Œå¯¹ä»–å¥½å¥‡çš„ä¸œè¥¿å­¦çš„é‚£æ˜¯ä¸€ä¸ªæ»‹å‘³ï¼›</p>\n<p>è¯´åˆ°ä»€ä¹ˆå¯¹ä»–å¥½å¥‡ï¼Œé‚£å°±æ˜¯è®¡ç®—æœºï¼Œé‚£æ®µæ—¶ä»£äº’è”ç½‘å…´èµ·ï¼Œè®¡ç®—æœºä¹Ÿæ˜¯è¿›å…¥æŒ¨å®¶æŒ¨æˆ·ï¼Œä½†æ˜¯å¯¹ä»–å®¶å¢ƒä¸€èˆ¬çš„æƒ…å†µï¼Œä»–å®¶é‡Œä¸ä¼šä¹°è®¡ç®—æœºåŒæ—¶è¿™æ ·ä¹Ÿä¼šå½±å“å­¦ä¸šï¼Œå› æ­¤ä¾¿è¯è´¹é›¶èŠ±é’±å»äº†ç½‘å§ï¼Œä¸è¿‡æˆ‘ä¹Ÿå¾ˆä½©æœä»–ï¼Œåˆ«äººç©è®¡ç®—æœºå°±æ˜¯æ‰“æ¸¸æˆï¼Œä»–å¯çœŸæ˜¯ä¸€ä¸ªå¥‡è‘©ï¼Œç ”ç©¶ä¸€äº›ç¨€å¥‡å¤æ€ªçš„ä¸œè¥¿ï¼Œé‚£æ®µæ—¶é—´æ‰‹æœºè½¯ä»¶å…´èµ·ä¸€æ¬¾ç—…æ¯’ï¼Œåªè¦æ˜¯å®‰è£…æ‰‹æœºæˆæƒä¹‹åï¼Œæ‰‹æœºä¾¿è‡ªåŠ¨ä¸Šé”ï¼Œéœ€è¦è¾“å…¥è®¾å®šçš„å¯†ç æ‰èƒ½è§£é”å¸è½½ç—…æ¯’ï¼›</p>\n<p>å› ä¸ºå¶ç„¶åœ¨ç¤¾åŒºçœ‹åˆ°è¿™ä¹ˆä¸€ä¸ªç½‘å‹é—®ï¼Œè¯´æ˜¯ä¸‹è½½äº†ä¸€ä¸ªè½¯ä»¶ä¸­äº†ç—…æ¯’ï¼Œéœ€è¦è¾“å…¥å¯†ç ï¼Œä½†æ˜¯å¯†ç æ˜¯éœ€è¦èŠ±é’±å‘è¢«äººç´¢è¦çš„ï¼Œåˆ°ç°åœ¨ä¸ºæ­¢è¿™åº”è¯¥å±äºè¯ˆéª—äº†å§ï¼›è€ w å½“æ—¶çœ‹äº†è¿™ä¸ªå¸–å­ï¼Œå°±æ¥äº†å¥½å¥‡å¿ƒï¼Œç©¶ç«Ÿæ˜¯ä»€ä¹ˆèƒ½è®©æ‰‹æœºä¸Šé”ï¼Œè²Œä¼¼å¯¹ä»–æ¥è¯´æ˜¯å¾ˆå¥½ç©çš„ï¼›</p>\n<p>ä»–ç ”ç©¶äº†ä¸€æ®µæ—¶é—´ï¼Œå¤§æ¦‚ç®—æ˜¯æ˜ç™½äº†ï¼Œæ˜¯ä¸€æ¬¾åˆ¶ä½œè½¯ä»¶çš„å¼€å‘è¯­è¨€ï¼Œè€Œæˆæƒéœ€è¦è¾“å…¥çš„å¯†ç ä¸º<code>pin</code>ç ï¼Œå°±ç›¸å½“äºæ‰‹æœºæˆæƒä¹‹åï¼Œè®¾å®šä¸€ä¸ªå¯†ç ç”¨äºå¯¹æ‰‹æœºæ“ä½œçš„å¯†ç ï¼›è€Œå¯¹äºè¿™å¯†ç å¤§æ¦‚ä¹Ÿåˆ†ä¸ºå‡ ç±»ï¼šå…¶ä¸€ï¼šè®¾å®šå›ºå®šå¯†ç ï¼Œåªæœ‰åç¼–è¯‘çœ‹æºç ä¹‹åæ‰èƒ½çœ‹åˆ°ï¼Œå…¶äºŒï¼šå›ºå®šç®—æ³•è®¾å®šå¯†ç ï¼Œæ¯”å…¶ä¸€çš„å®‰å…¨æ€§é«˜ä¸€ç‚¹ï¼Œå•éœ€è¦èŠ±è´¹ä¸€ç‚¹æ—¶é—´ç ”ç©¶ç®—æ³•ï¼Œä¾‹å¦‚ï¼šå½“å‰çš„æ—¶é—´ä½œä¸ºå¯†ç ï¼Œä¸€èˆ¬äººä¸ä¼šæƒ³åˆ°è¿™æ ·çš„å¯†ç ï¼Œä½†æ˜¯è¿™æ ·çš„å¯†ç æ˜¯ä¸å›ºå®šçš„ï¼Œæ˜¯æ ¹æ®æ—¶é—´çš„å˜åŒ–äºŒå˜åŒ–çš„ï¼›</p>\n<p>ä¹‹åï¼Œä»–å°±åœ¨ä¹‹å‰çš„é‚£ç¯‡å¸–å­ä¸‹é¢è¯„è®ºäº†è¯¥ç½‘å‹ï¼Œå¤§è‡´è¯´äº†å¤§è‡´å¯†ç çš„æ–¹å‘ï¼Œä¹‹åä»–å½•åˆ¶äº†ç›¸å…³çš„å®‰å…¨å¦‚ä½•è§£å¯†è§†é¢‘åŒæ—¶è¯„è®ºäº†è¯¥ç½‘å‹ï¼›åæ¥æˆ‘å†å»çœ‹è¯¥è¯„è®ºçš„è§†é¢‘çš„æ—¶å€™ï¼Œå‘ç°å·²ç»æ‰¾ä¸åˆ°äº†ï¼›</p>\n<p>è¿™ä¹Ÿå°±æ˜¯åé¢<strong>æ”¾ä¸ä¸‹</strong>äº‹æƒ…çš„èµ·å› ï¼›ä¹Ÿå°±æ˜¯è¿™æ ·çš„èµ·å› è®©ä»–ç»å†å¤šå¹´è¿˜åœ¨å…¶ä¸­ï¼›</p>\n<p>å› ä¸ºä»–è²Œä¼¼å·²ç»å¯¹è®¡ç®—æœºä¸Šç˜¾ï¼Œä»–å¹¶ä¸æ˜¯æ¯æ¬¡éƒ½ä¼šç ”ç©¶ç¨€å¥‡å¤æ€ªçš„ä¸œè¥¿ï¼Œä¸ä¹…<code>ç©¿è¶Šç«çº¿</code>æ—¶ä»£åˆ°æ¥ï¼Œä»–è¿·ä¸Šäº†æªæˆ˜æ¸¸æˆï¼›åœ¨æ ¡æœŸé—´ä»–å¯ä¸ºæ˜¯èµ°åœ¨äº†åŒå¹´é¾„çš„ç½‘ç»œç¬¬ä¸€äººï¼›</p>\n<p>ä¸ä¹…è®¡ç®—æœºçš„å‡ºç°ï¼Œæœ‰åˆ©æœ‰å¼Šï¼ŒåŒåˆƒå‰‘çš„å¼Šç«¯å°±è¢«æ‰©å¤§ï¼Œç½‘ä¸Šè¯ˆéª—ï¼Œé’“é±¼ç½‘ç«™ç­‰è‚†æ„å…´èµ·ï¼›é‚£ä¸ªæ—¶å€™è¿˜ä¸çŸ¥é“è¿™äº›<code>ä»£åè¯</code>ï¼Œåªæ˜¯çŸ¥é“é‚£äº›éƒ½æ˜¯å‡çš„ï¼›åæ¥å¯¹äº<code>æ‰‹æœºè½¯ä»¶idea</code>å…·ä½“æ˜¯ä»€ä¹ˆè½¯ä»¶åç§°ï¼Œæˆ‘ä¹Ÿå¿˜äº†ã€‚å¤§è‡´å°±æ˜¯ä¸€æ¬¾åœ¨æ‰‹æœºä¸Šå†™è½¯ä»¶çš„å·¥å…·ï¼›ä¹‹ååˆå½•åˆ¶äº†ä¸€ä¸ªè§†é¢‘ï¼Œå¤§è‡´å°±æ˜¯è¾“å…¥æ‰‹æœºå¯†ç ä¹‹åï¼Œå°±èƒ½ä»åå°è·å–åˆ°äº†è¾“å…¥çš„æ‰‹æœºå¯†ç ï¼Œè¿™å’Œè¯ˆéª—ï¼Œé’“é±¼ç½‘ç«™çš„å¼‚ç«¯ç±»ä¼¼ï¼›å‘å¸ƒåœ¨äº†ç½‘ä¸Šé¿å…åˆ«äººä¸Šå½“ï¼›æ›´åŠ è°¨æ…ä¸€ç‚¹ï¼›</p>\n<h2 id=\"æœ\"><a href=\"#æœ\" class=\"headerlink\" title=\"æœ\"></a>æœ</h2><p>ä¸ä¹…ï¼Œä»–æ¥åˆ°äº†å®¶é‡Œçš„ç”µè¯ï¼Œè¯´æ˜¯å®¶é‡Œé•¿è¾ˆäº²äººå‡ºäº†æ„å¤–ï¼›å½“æ—¶ä»–è¿˜åœ¨ç¡è§‰ï¼Œé¦–æ¬¡æ‰“ç”µè¯ä»–å°±æŒ‚äº†ï¼Œç›´åˆ°ç¬¬ä¸‰æ¬¡çš„æ—¶å€™ä»–æ¥åˆ°äº†ï¼Œè¯´æ˜¯èµ¶ç´§å›å®¶ï¼›ç®€å•å‡ å¥ï¼Œæ²¡æƒ³åˆ°ä¹‹åå¤šå¹´è¿™ä»¶äº‹æƒ…è¿˜åœ¨å¿ƒä¸­æ”¾ä¸ä¸‹ï¼›</p>\n<p>ä»–çˆ¶äº²çš„ç¦»ä¸–ï¼Œå¹¶æœªç»™å½“æ—¶ä¸­å­¦å¹´ä»£çš„ä»–é€ æˆå¤ªå¤§å½±å“ï¼Œå› ä¸ºå¹´çºªè¿˜å°ï¼Œç¨šå«©çš„å¾ˆï¼›å¯¹äºè¿™äº›äº‹æƒ…ä»–å¹¶ä¸çŸ¥é“ï¼Œä¹Ÿä¸çŸ¥é“åˆ°åº•æ˜¯æ€ä¹ˆäº†ï¼›æˆ‘å½“æ—¶å¬åˆ°ä¹‹åå¿ƒé‡Œä¹Ÿæ˜¯éš¾å—äº†å¾ˆä¹…ï¼›40 å¤šå²çš„å¹´çºªï¼Œ10 å‡ å²å·¦å³çš„å¹´çºªå¤©äººç›¸éš”ï¼›<br>æ™šä¸Šå®ˆçµä»–ç¡åœ¨äº†ä»–çˆ¶äº²èº«è¾¹ï¼Œå•ä»–è¿·è¿·ç³Šç³Šçš„è§åˆ°äº†å¤©èŠ±æ¿å½©è‰²çš„ç¯ï¼ŒçŸ¥é“ç¬¬äºŒå¤©é—®å®¶é‡Œäººè¯´ï¼Œè¿™äº›ç¯è€æ—©å°±åæ‰äº†ï¼Œä¸ä¼šäº®çš„ï¼Œä»–ä¹Ÿä¸æ¸…æ¥šå½“æ—¶æ˜¯åšæ¢¦è¿˜æ˜¯æ€ä¹ˆåœ°ï¼›äº²æˆšé—®ä»–æ€ä¹ˆäº†ï¼Œä»–æŠŠè¿™ä»¶äº‹æƒ…éšè—èµ·æ¥äº†ï¼Œè¯´æ˜¯æ¢¦è§ä»–çˆ¶äº²äº†ï¼Œé—®è¯´ä»€ä¹ˆäº†ï¼Œâ€œè®©æˆ‘å¥½å¥½å­¦ä¹ â€ï¼›å› ä¸ºä»–å¹¶ä¸å¥½å­¦ï¼Œä¹Ÿä¸æ˜¯å±äºå­¦ä¹ çš„ç±»å‹ï¼Œè¿™æ ·çš„å›ç­”å¿…å®šä¸ä¼šç›¸ä¿¡ï¼›</p>\n<p>çŸ¥é“å¹´é¾„çš„å¢é•¿ï¼Œæ…¢æ…¢çš„ä»–ä¹Ÿæ‡‚å¾—äº†å¾ˆå¤šï¼Œä»–å› ä¸ºå¤šç§åŸå› æŠ‘éƒäº†ä¸€æ®µæ—¶é—´ï¼Œåˆ°ç°åœ¨è¿™ä»¶äº‹æƒ…å§‹ç»ˆå¯¹ä»–æ¥è¯´æ˜¯ä¸€å—å¤§çŸ³å¤´ï¼Œæ°¸è¿œæ”¾ä¸ä¸‹ï¼›éšç€å¹´çºªçš„å¢é•¿ï¼ŒçŸ³å¤´çš„é‡é‡ä¹Ÿå°±æ…¢æ…¢ç´¯ç§¯äº†èµ·æ¥ï¼›</p>\n<p>ç›´åˆ°ç°åœ¨ï¼Œä»–åªè¦æƒ³åˆ°ï¼Œåˆ·åˆ°ç›¸å…³äº‹æƒ…ï¼Œè§†é¢‘ä¹‹åï¼Œå¿ƒä¸­ä¹Ÿè¶Šå‘éš¾å—ï¼Œä»–è¡¨é¢ä¸Šä¹Ÿè®¸ä¸ä¼šå˜ç°ï¼Œç™½å¤©è¡¨ç°çš„å¼€å¼€å¿ƒå¿ƒçš„ï¼Œæ™šä¸Šä¼¼ä¹å°±å˜äº†ä¸€ä¸ªäººä¼¼çš„ï¼Œä¹Ÿè®¸æ˜¯ç½‘ä¸Šè¯´çš„<code>é˜³å…‰å‹æŠ‘éƒç—‡</code>;</p>\n<p>æˆ‘ä¹‹åå’Œä»–è¯´ï¼Œâ€œæ”¾ä¸‹â€å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•ï¼Œä¹Ÿå¹¶ä¸æ˜¯å˜´ä¸Šè¯´è¯´ï¼Œå®åˆ™ä½ å†…å¿ƒè¿‡ä¸å»é‚£é“åï¼Œå°±å¥½æ¯”ç”µè§†ä¿®ä»™ä¸–ç•Œçš„é‚£é“ç“¶é¢ˆï¼Œè¿‡å»äº†ä¸€åˆ‡ä¹Ÿå°±è¿‡å»äº†ï¼Œèƒ½ä¸èƒ½è·¨è¿‡å»è¿˜çš„é ä½ è‡ªèº«ï¼›ä½ æ¯å¤©éƒ½ä¼šæ‚”æ¨ï¼Œå¿ƒä¸­æœ‰æ‚”ï¼Œæ—¶é—´ä¸€é•¿ä¼šå½±å“ä½ çš„ç”Ÿæ´»ï¼Œå·¥ä½œç­‰ï¼›ä½†æ˜¯ä½ ç°åœ¨çš„ä¸æ˜¯å¤©å¤©æƒ³äº‹æƒ…ï¼Œä½ éœ€è¦çš„æ˜¯é€‚å½“æ”¾æ¾ï¼Œæ”¾ä¸‹ï¼Œå°±å¥½æ¯”æŠŠé—²æš‡æ—¶é—´äº¤ç»™ç”Ÿæ´»ï¼Œäº¤ç»™ä¹è¶£ï¼Œä¹Ÿè®¸æ—¶é—´é•¿äº†ï¼Œä½ å¿ƒä¸­çš„å› æ…¢æ…¢ä¹Ÿä¼šæ·¡æ‰ï¼›ä½ ç°åœ¨åœ¨ä¸Šæµ·å·¥ä½œï¼Œå·¥ä½œå‹åŠ›å¤§ï¼Œç™½å¤©ä¸Šç­ï¼Œæ™šä¸Šå›å»ä½ åˆæƒ³ä¸œæƒ³è¥¿ï¼Œè„‘è¢‹ä¸€å¤©å¾—ä¸åˆ°çœŸæ­£çš„æ”¾æ¾ï¼Œæ—¶é—´ä¸€é•¿ï¼Œèº«ä½“æœºèƒ½ä¼šç½¢å·¥çš„ï¼›ä½ ç°åœ¨çš„çŠ¶æ€ï¼Œä¿è¯å¿ƒé‡Œçš„å› ä¸ä¼šå½±å“ä½ çš„ç”Ÿæ´»ï¼Œå·¥ä½œï¼Œå…¶ä»–çš„äº¤ç»™æ—¶é—´ï¼Œå­¦ä¼šæ”¾å¼ƒï¼Œæ‡‚å¾—æ”¾ä¸‹ï¼Œä½•å°ä¸æ˜¯å¦ä¸€ç§è·å¾—ï¼›</p>\n<hr>\n<p>â€œèˆï¼Œå¾—â€ä¼šåœ¨åæœŸè¿›è¡Œæ›´æ–°å‘å¸ƒï¼Œâ€œç”Ÿæ´»â€å½’ç±»ï¼Œä»…ä»…æ˜¯è®°å½•ç”Ÿæ´»ï¼Œæ—¥å¸¸ç­‰ç­‰ï¼Œå¹¶ä¸ä¼šä½œä¸ºå…¶ä»–ä½œä¸ºã€‚</p>\n<p>â€èˆï¼Œå¾—ï¼Œæ”¾ä¸‹â€œ ä¹‹ â€èˆï¼Œå¾—â€œä¼šåœ¨ä¸‹ç¯‡æ–‡ç« æ›´æ–°ï¼›</p>\n<p>ç»­â€¦â€¦.</p>\n"},{"title":"ç”Ÿæ´»-â€œèˆï¼Œå¾—ï¼Œæ”¾â€ ä¸‹ä¹‹ â€œèˆï¼Œå¾—â€","abbrlink":"3bf21246","date":"2023-10-08T01:05:01.000Z","_content":"\n# åº\n\n**æˆ‘ç°åœ¨ä¸å’Œäººäº‰åµï¼Œå› ä¸ºæˆ‘æ„è¯†åˆ°ï¼Œæ¯ä¸ªäººåªèƒ½ç«™åœ¨è‡ªå·±çš„è®¤çŸ¥è§’åº¦å»æ€è€ƒã€‚æ‰€ä»¥ï¼Œå¦‚æœæœ‰äººè·Ÿä½ è¯´æŸ æª¬æ—¶ç”œçš„ï¼Œä½ åªéœ€è¦å¯¹ä»–è¯´ä¼¼çš„ï¼Œé‚£ä½ å¤šåƒç‚¹ã€‚ä½ æ²¡å¿…è¦å’Œåˆ«äººäº‰è¾©ä»€ä¹ˆï¼Œå› ä¸ºè®¤çŸ¥ä¸åŒï¼Œæ‰€å¤„çš„è§’åº¦ä¹Ÿä¸åŒï¼Œåšå¥½è‡ªå·±å³å¯ï¼›æ¯•ç«Ÿåœ¨ä¹Œé¸¦çš„ä¸–ç•Œé‡Œï¼Œå¤©é¹…ä¹Ÿæ˜¯æœ‰ç½ªçš„ï¼Œè®¤çŸ¥ç›¸åŒï¼Œæ— éœ€äº‰è¾©ï¼Œè®¤çŸ¥ä¸åŒä½•é¡»äº‰è¾©ï¼Ÿæ€æƒ³ä¸åœ¨ä¸€ä¸ªé«˜åº¦æ²¡å¿…è¦äº’ç›¸å¾æœï¼Œä¸‰è§‚åœ¨ä¸€ä¸ªå±‚æ¬¡ï¼Œå¾®ç¬‘å°±å¥½**\n\n## å‰è¨€\n\nç»­æ¥ä¸Šå›è¯´åˆ°ï¼Œè€ w ä¹Ÿæ˜¯ç»è¿‡äº†å¾ˆä¹…çš„æ€æƒ³æ–—äº‰ï¼Œå°†æ”¾ä¸‹çš„äº‹æƒ…ï¼Œäººï¼Œç‰©éƒ½å·²ç»æ”¾ä¸‹ï¼›ä¸è¿‡ä»–è·Ÿæˆ‘è¯´ï¼šâ€œæˆ‘ä¹Ÿä¸æ¸…æ¥šæ˜¯ä¸æ˜¯å·²ç»æ”¾ä¸‹äº†ï¼Œä¹Ÿä¸çŸ¥é“ä¼šä¸ä¼šåœ¨æ¢¦ä¸­æ¢¦åˆ°æ›¾ç»çš„äº‹ï¼Œä½†è‡³å°‘è¿™ä¸€åˆ»æˆ‘ä¸ä¼šå†å»å› ä¸ºæ›¾ç»çš„äº‹æƒ…è‹¦æ¼ä¸åæ‚”ï¼›è™½ç„¶æ›¾ç»æˆ‘åæ‚”è¿‡ï¼Œæ‡Šæ¼è¿‡ï¼Œä½†è¿™äº›ç¡®å®ç»™æˆ‘çš„ç”Ÿæ´»å¸¦æ¥äº†å¾ˆå¤šå½±å“ã€‚è™½è¯´å®Œå…¨æ”¾ä¸‹åœ¨çŸ­æ—¶é—´å†…æ˜¯ä¸èŠ‚èƒ½çš„ï¼Œä½†æ˜¯æˆ‘ä¼šä¿æŒæ¯å¤©ç§¯æå‘ä¸Šçš„å¿ƒæ€ï¼Œä¸ä¼šå› ä¸ºè¿™äº›äº‹æƒ…å†å»å½±å“æˆ‘çš„ç”Ÿæ´»ï¼â€\n\nè€ w ä¸æˆ‘æ˜¯å¤šå¹´å¥½å‹ï¼Œæˆ‘ä¹ŸçŸ¥é“ä»–å¾ˆå¤šçš„äº‹æƒ…ï¼Œä¸€å®šç¨‹åº¦ä¸Šæ¥è®²æˆ‘ä»¬ç®—æ˜¯ç”Ÿæ­»ä¹‹äº¤äº†ï¼›ä»–ä¹‹å‰æŠ‘éƒè¿‡ï¼Œè‡ªè´Ÿè¿‡ï¼Œæ›¾ç»ä¹Ÿå·®ç‚¹åšè¿‡æç«¯çš„äº‹æƒ…ï¼›é‚£æ®µæ—¶é—´ä»¿ä½›ä»–çš„äººç”Ÿæ²¡æœ‰äº†ä¸€ç‚¹å…‰äº®ï¼Œå®¶é‡Œå‡ºäº†æ„å¤–ï¼Œèº«è¾¹æœ‹å‹çš„å†·æ¼ ç­‰ç­‰ï¼Œè®©ä»–ä¸€åº¦æœ‰äº†æƒ³ä¸å¼€çš„æƒ³æ³•ï¼›ä»–ä¸å–„è¨€è¯­ï¼Œè¡¨é¢ä¸Šä¹Ÿçœ‹ä¸å‡ºå…³äºä»–å†…å¿ƒçš„äº‹æƒ…ï¼Œåæ¥å†ä¸€æ¬¡èšä¼šä¸Šä»–å–å¤šäº†ï¼Œè·Ÿæˆ‘è®²äº†å¾ˆå¤šå…³äºä»–å†…å¿ƒçš„äº‹æƒ…ï¼›æˆ‘ç«Ÿç„¶ä¸çŸ¥é“ä»–çš„è¿™äº›äº‹æƒ…ï¼Œè™½ç„¶æˆ‘ä»¬ç»å¸¸èšåœ¨ä¸€èµ·ï¼Œä½†ç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯ä»–å¾ˆä¹è§‚ï¼Œå¬å®Œä»–çš„æ•…äº‹æˆ‘æ„Ÿåˆ°æœ‰ç‚¹å¿ƒé…¸ï¼Œä¹Ÿæœ‰ç‚¹å¯æƒœï¼›å› ä¸ºé‚£æ®µæ—¶é—´æ­£æ˜¯å±äºç”·å­©å­çš„å¹´çºªï¼Œå¬å®Œä»–æ•…äº‹ä¹‹åæˆ‘æ„Ÿè§‰ä»–è„¸ä¸Šä¼¼ä¹æ—¶è‹è€äº†å¾ˆå¤šï¼Œä¹Ÿä¸çŸ¥é“æ˜¯å†…å¿ƒçš„æŠ˜ç£¨è¿˜æ˜¯å¯¹å†…å¿ƒæ”¾ä¸ä¸‹äº‹æƒ…çš„å‹æŠ‘ï¼›\n\n## â€œä»–â€ä¸è§äº†\n\næœ€è¿‘ä¸€æ®µæ—¶é—´å†æ¬¡è§åˆ°ä»–ï¼Œä»–å˜äº†ï¼Œå˜å¾—æˆ‘éƒ½å·®ç‚¹ä¸è®¤è¯†ä»–äº†ï¼›ä»–ä¸åœ¨å»æƒ³æ›¾ç»å‘ç”Ÿçš„äº‹æƒ…ï¼Œä¹Ÿä¸ä¼šå†å»å› ä¸ºæ›¾ç»çš„ç§ç§æ”¾ä¸ä¸‹å¯¼è‡´è‡ªå·±çš„ç”Ÿæ´»æ°´å¹³ä¸‹é™ï¼Œåšåˆ°çš„åªæœ‰ä¿æŒè‡ªèº«ï¼Œå¾®ç¬‘åº¦è¿‡ï¼›é‚£ä¸ªæ›¾ç»ä¸å–„è¨€è¯­çš„ä»–ä¸è§äº†ï¼Œå†æ¬¡è§åˆ°ä»–çš„æ˜¯ä¸€ä¸ªå¾®ç¬‘è¯å¤šçš„ç”·å­©å„¿ï¼›æˆ‘è®¤ä¸ºä»–åº”è¯¥æ˜¯å®Œå…¨æ”¾ä¸‹äº†ã€‚æ¯•ç«Ÿæˆ‘åœ¨ä»–èº«ä¸Šçœ‹åˆ°äº†æˆ‘åˆšè®¤è¯†çš„ä»–çš„èº«å½±ï¼Œåˆšè®¤è¯†ä»–çš„æ—¶å€™ç»™æˆ‘å°è±¡æœ€æ·±çš„æ˜¯å®ƒæœ‰ç€è¢«äººéƒ½æƒ³æ‹¥æœ‰çš„å·å‘ï¼Œé‚£ä¸ªæ—¶å€™çš„ä»–ç›¸è²Œè™½ç„¶å¹³å¹³ï¼Œæ²¡æœ‰å¤ªå¤šçš„æ‰åï¼Œä½†æ˜¯ä»–å´æœ‰ç€ä¸€é¢—ç«¥çœŸå¥½å¥‡å‘ä¸Šçš„å¿ƒï¼Œè‡³å°‘æˆ‘è®¤ä¸ºä»–é‚£ä¸ªå¹´çºªæ˜¯æœ€å¼€å¿ƒçš„ï¼›\n\næˆ‘ä»¬èŠäº†èŠå®¶å¸¸ï¼Œå·¥ä½œç”Ÿæ´»ï¼Œä»–è·Ÿæˆ‘è¯´æˆ‘æœ€è¿‘çœŸçš„æœ‰åœ¨å¥½å¥½ç”Ÿæ´»ï¼Œæ¯å¤©æœ‰åœ¨èŠ±è´¹åŠä¸ªå°æ—¶æ—¶é—´å»é”»ç‚¼èº«ä½“ï¼Œä¸ºäº†å­¦åšé¥­ï¼Œè®¤çœŸçš„åˆ·äº†å¥½å‡ ä¸ªå°æ—¶çš„æŠ–éŸ³ï¼›å½“å¿ƒæƒ…æœ‰ç‚¹å°ç³Ÿç³•é™ä¸ä¸‹å¿ƒçš„æ—¶å€™ï¼Œä»–éƒ½ä¼šå»ç»ƒå­—ï¼Œå°½ç®¡å­—ä¸æ˜¯å¾ˆç¾è§‚ï¼Œä½†æ˜¯å¯¹äºå†…å¿ƒçš„ä¿®å…»è¿˜æ˜¯æœ‰ä¸€å®šä½œç”¨çš„ï¼›å› ä¸ºä»–çš„èŒä¸šæ˜¯ç¨‹åºå‘˜ï¼Œæ¯å¤©éƒ½æ˜¯é¢å¯¹ç€ç”µè„‘ï¼Œæ—¶é—´é•¿äº†èº«ä½“ä¹Ÿä¼šåƒä¸æ¶ˆï¼›è¯´æ˜¯è¿‘æœŸé”»ç‚¼å¥èº«æ˜¯ä¸ºäº†ä¿è¯è‡ªå·±çš„èº«ä½“å¥åº·ï¼Œå¥åº·æ‰æ˜¯æœ¬é’±ï¼›\n\nè¯´åˆ°åšé¥­ï¼Œä»–è¯´æˆ‘æœ€è¿‘åšäº†ä¸€ä¸ªæ‹¿æ‰‹çš„å¥½èœï¼Œè¯´ç­‰æ™šä¸Šæˆ‘ä¸‹å¨ç»™ä½ å°å° w å¤§å¨çš„æ‰‹è‰ºï¼›ä¸çŸ¥è¿‡äº†å¤šä¹…ï¼Œå¾ˆå¿«åˆ°äº†å‚æ™šä»–è¯´è®©æˆ‘åœ¨å®¶é‡Œç­‰ä»–ï¼Œä»–å»ä¹°ç‚¹èœï¼›æˆ‘ä¹Ÿåä¸ä½å°±å’Œä»–ä¸€èµ·å»äº†ï¼›èœå¸‚åœºé‡Œå¥¹ä½çš„åœ°æ–¹ä¸è¿œï¼Œä¹Ÿå°±å°†è¿‘ 1 å…¬é‡Œçš„è·ç¦»ï¼Œèœå¸‚åœºä¸å¤§ä½†æ˜¯äººå¾ˆå¤šï¼›ä»–ä¹°äº†ç‚¹æ’éª¨ï¼Œç‚–æ±¤ï¼Œæ—¥å¸¸çš„ææ–™ä¹‹å¤–ï¼Œæˆ‘åˆåœ¨é™„è¿‘å•†åŸä¹°äº†ä¸€ç‚¹ç‰›å¥¶ï¼Œæ—©é¤ï¼Œæ°´æœä¹‹ç±»çš„é£Ÿå“ï¼›å½“æ—¶æ¥çœ‹ä»–çš„æ—¶å€™æ²¡æœ‰å¸¦ä»€ä¹ˆä¸œè¥¿å°±ç´¢æ€§åœ¨é™„è¿‘ä¹°ç‚¹ï¼›ä»–æ—©ä¸Šæ¯”è¾ƒæ€¥æ¥ä¸åŠåƒæ—©é¥­ï¼Œå°±ç´¢æ€§ä¹°ç‚¹æ°´æœç‰›å¥¶ç»™ä»–ï¼›æˆ‘å¯ä¸æƒ³å†çœ‹åˆ°ä»–ä¸€ç‚¹ç‚¹é¢“åºŸä¸‹å»ï¼›ææ–™ä¹°å¥½ä¹‹åä»–è¯´æˆ‘æ¥ï¼Œä½ å°±ååœ¨æ²™å‘ä¸Šç©ç©æ¸¸æˆåˆ·åˆ·è§†é¢‘ï¼Œä»Šå¤©éè®©ä½ çœ‹çœ‹æˆ‘æœ€è¿‘å­¦çš„æ‰‹è‰ºï¼›\n\nå¾ˆå¿«ä»–ä¸‹å¨äº†ï¼Œç“¶ç“¶ç½ç½çš„å¾ˆå¤šï¼Œè¿™æ ·çœŸçš„å°±åƒå¤§å¨ä¼¼çš„ï¼›ä»–å…ˆå§è”¬èœæ¸…æ´—å¹²å‡€å¤‡ç”¨ï¼Œå°†ä¹°æ¥çš„æ’éª¨ç„¯æ°´å¤‡ç”¨ï¼›æœ‰çœ‹è§ä»–æ‹¿å‡ºäº†ç±»ä¼¼ç ‚é”…çš„ä¸œè¥¿ï¼Œç ‚é”…æ¸…æ´—å¹²å‡€ï¼Œå°†å°‘é‡æ’éª¨æ”¾è¿›ç ‚é”…ï¼Œåˆå°†å—çŠ¶ç‰ç±³ï¼Œè‘«èŠ¦åœï¼Œ å‡ é¢—å¾ˆå¤§çš„çº¢æ£ç­‰æ”¾è¿›ç ‚é”…ï¼Œæ³¨å…¥å¼€æ°´ä¹‹åå°±å¼€å§‹ä¸Šç«ç‚–æ±¤äº†ï¼›ä¸€é¡¿æ“ä½œä¸‹æ¥ï¼Œæˆ‘éƒ½æ€€ç–‘è¿™è¿˜æ˜¯ä»–å—ï¼Œå˜åŒ–æ˜¯çœŸçš„å¤ªå¤§äº†ï¼›è¦ä¸æ˜¯æˆ‘çŸ¥é“ä»–ä¹‹å‰ä¸ä¼šåšé¥­ï¼Œä»–ä¸€æ­¥æ­¥çš„æ“ä½œæœ‰æ¡ä¸ç´Šçš„ï¼Œè¿˜çœŸä»¥ä¸ºä»–åœ¨é¥­åº—å¹²äº†å¥½å‡ å¹´ï¼›\n\næ—¶é—´å°†è¿‘è¿‡äº†ä¸€å°æ—¶åï¼Œä»–è·Ÿæˆ‘è¯´é©¬ä¸Šå°±å¥½äº†å†ç­‰å‡ åˆ†é’Ÿï¼Œæˆ‘ä¹Ÿèµ¶ç´§æŠŠæ¡Œå­æ“¦å¹²å‡€ï¼ŒèŒ¶ç¢—åœ¨å¹²å‡€å¤‡ç”¨ï¼›åæ¥åˆè§ä»–åœ¨ç‰ç±³æ±¤ä¸Šæ”¾äº†ç‚¹æ¸æï¼Œè¿‘æœ‰ç‚¹ç¾¡æ…•ä»–çš„ç”Ÿæ´»äº†ï¼›å‡ åˆ†é’Ÿä¹‹åä»–æ²¡åŠ¨ç­·ï¼Œæƒ³è®©æˆ‘å°äº†å°ï¼Œæˆ‘è¯´ä¸“ä¸šï¼Œä½ è¿™è¡Œä¸ºä¹Ÿä¸æƒ³æ˜¯åˆšåšé¥­å§ï¼Œæ˜¯ä¸æ˜¯ä¹‹å‰å°±ä¼šçš„ï¼› ä»–ä¸å¥½æ„æ€çš„æŒ äº†æŒ å¤´è¯´åˆ°ï¼šâ€œä¸æ˜¯å•Šï¼Œä¹‹å‰ä¸ä¼šçš„ï¼Œä¸ºäº†æ”¹å˜è‡ªå·±ä¹Ÿæ˜¯åå¤çœ‹äº†å¥½å‡ æ¬¡è§†å±æ•™ç¨‹æ‰ä¼šä¸€ç‚¹çš„ï¼›â€ï¼›æˆ‘è¯´åˆ°ï¼šâ€œè¿™æ±¤ä¸é”™ï¼Œä¸è…¥ä¸è…»â€ï¼›ä»–è¯´é“ï¼šâ€œè¦ä¸è¦å­¦ï¼Œå…è´¹çš„ï¼Œæˆ‘æ•™ä½ â€ï¼›ä¹‹åæˆ‘ä»¬åƒå®Œæ”¶æ‹¾å®Œä¹‹åï¼Œå°±åœ¨ä»–å®¶ä½äº†ä¸€æ™šä¸Šï¼›\n\n## ä»–è¿·èŒ«äº†\n\nä»–çš„èŒä¸šæ˜¯ç¨‹åºå‘˜ï¼Œåˆå› ä¸ºæœ€è¿‘çš„å¤§ç¯å¢ƒä¸æ˜¯å¤ªå¥½ï¼Œå¯¹äºä»–æœ¬èº«æŒæ¡çš„èŒä¸šæŠ€èƒ½æ¥çœ‹ï¼Œè²Œä¼¼å¤§å¤§å°å°çš„ä¸œè¥¿ä¹Ÿåšäº†ä¸å°‘ï¼Œå¥½åƒæ˜¯åˆ°äº†ç“¶é¢ˆæœŸï¼›ä»–è·Ÿæˆ‘è¯´äº†è¿‘æœŸå®¶é‡Œäººå‚¬ä»–ç»“å©šçš„æƒ…å†µï¼Œåº”è¯¥ä¸ä¼šåœ¨ä¸Šæµ·å†å¾…å¾ˆé•¿ä¸€æ®µæ—¶é—´äº†ï¼Œå¯èƒ½å‡ å¹´å°±è¦å›åˆ°è€å®¶äº†ï¼›ä½†æ˜¯å›è€å®¶è¿·èŒ«äº†ï¼Œä¸Šæµ·çš„è–ªèµ„å¯ä»¥ç”Ÿæ´»çš„æ´¥æ´¥æœ‰å‘³ï¼Œä½†æ˜¯å›å»å°±è¦æ¥å—ç°å®æ¯ä¸ªæœˆä¸€åˆ†ä¸å‰©ï¼Œå†åŠ ä¸Šè½¦è´·æˆ¿è´·ä¹‹ç±»çš„åˆ°æ—¶å€™å¯èƒ½è¿˜éœ€è¦å€Ÿé’±å¼¥è¡¥ï¼›\n\næˆ‘å¬åˆ°è¿™ï¼Œå¿ƒé‡Œæƒ³ä¹Ÿæ˜¯è¿™æ ·çš„æƒ…å†µï¼Œæ¯•ç«Ÿè€å®¶ä¸æ˜¯å¤§åŸå¸‚ï¼Œæ²¡æœ‰å¤§åŸå¸‚å…ˆè¿›çš„æŠ€æœ¯ï¼Œç›¸å¯¹äºå°åŸå¸‚çš„æŠ€æœ¯ä¿å®ˆå·²ç»å¤Ÿç”¨äº†ï¼Œä¸ä¼šåœ¨èŠ±è´¹å¤§ä»£ä»·å»ç ”ç©¶æ–°æŠ€æœ¯ç­‰ï¼›è¿™æ ·çš„æƒ…å†µçš„è¯è–ªèµ„å°±å¾ˆä½å¾ˆä½äº†ï¼›\n\næˆ‘å¯¹ä»–è¯´ï¼šâ€œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¤šäººéƒ½åœ¨è¿·èŒ«çš„é—®é¢˜ï¼Œå¦‚æœç»§ç»­åœ¨å¤§åŸå¸‚ç”Ÿæ´»ï¼ŒçŸ­æ—¶é—´å†…ç”Ÿæ´»çš„æ´¥æ´¥æœ‰å‘³ï¼Œä½†æ˜¯æ—¶é—´ä¸€ä¹…ä½ ä¹°ä¸èµ·æˆ¿ï¼Œä¹°ä¸èµ·ä¸Šæµ·çš„è½¦ç‰Œï¼Œå°±è¿ç­‰ä½ ç»“å©šäº†å¤«å¦»äºŒäººåœ¨ä¸Šæµ·ç”Ÿæ´»éƒ½ä¼šè§‰å¾—å‹åŠ›å¾ˆå¤§å¾ˆå¤§ï¼Œæœ‰äº†å­©å­ä¹‹åæ€»ä¸èƒ½è®©å­©å­è¾“åœ¨èµ·è·‘çº¿å§ï¼Œä»€ä¹ˆåŸ¹è®­ç­ï¼Œå…´è¶£çˆ±å¥½ç­ç­‰ç­‰å¯¹å¤§åŸå¸‚çš„è´¹ç”¨è¿˜æ˜¯å¾ˆå¤§çš„ï¼›å¦‚æœä½ å›è€å®¶äº†ï¼Œå¯èƒ½å·¥èµ„å°±æ˜¯å›ºå®šçš„ï¼Œæ²¡æœ‰å‡èŒåŠ è–ªçš„æœºä¼šï¼Œæ‰€æŠŠæ¡çš„æœºä¼šå¾ˆæ¸ºèŒ«ï¼›ä½†ç›¸å¯¹äºå¤§åŸå¸‚çš„èŠ±é”€ï¼Œå°åŸå¸‚çš„èŠ±é”€å¾ˆå°å¾ˆå°ï¼Œä½†æ˜¯è¿™æ ·æ¯ä¸ªæœˆè¿˜æ˜¯å‹’ç´§è£¤è…°å¸¦ï¼›â€\n\nèµ°ä»€ä¹ˆè·¯ï¼Œæ€ä¹ˆèµ°æ˜¯ä½ è‡ªå·±çš„æƒ³æ³•ï¼Œä¸åˆ«äººæ— å…³ï¼›è¦èµ°ä»€ä¹ˆè·¯ï¼Œæ€ä¹ˆé€‰æ‹©ï¼Œé€‰æ‹©æƒåœ¨ä½ ï¼›æˆ‘æ›¾ç»ä¹Ÿæœ‰è¿™ä¸ªæƒ³æ³•ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºå…ˆçæƒœç”Ÿæ´»å½“ä¸‹ä¸ºå‡†ï¼Œå…¶ä»–çš„åœ¨çœ‹è‡ªå·±çš„é€‰æ‹©å§ï¼›å½“ç„¶æ¯”äººä¸ä¼šå·¦å³çš„ä½ é€‰æ‹©ï¼Œè¿™ä¸ªåªæœ‰é è‡ªå·±äº†ï¼›\n\nä½ è¦æƒ³å›è€å®¶ï¼Œç…§é¡¾çˆ¶æ¯é™ªä¼´çˆ¶æ¯ï¼Œäº²äººï¼Œé‚£ä½ è¦ä¹ˆèˆå¼ƒå¤§åŸå¸‚ï¼Œé‚£ä¹ˆè¿™æ ·ä½ å°±ä¼šé™ªä¼´çˆ¶æ¯èº«è¾¹äº†ï¼Œä½ æƒ³å¾—åˆ°å¾ˆå¤šä»·å€¼ï¼Œé‚£ä¹ˆä½ å°±åªèƒ½ç”Ÿæ´»åœ¨å¤§åŸå¸‚ï¼Œç›¸å¯¹äºå°åŸå¸‚å¤§åŸå¸‚çš„æœºä¼šä¼šæ›´å¤§ä¸€äº›ï¼›\n\nâ€œæ€ä¹ˆèˆï¼Œæ€ä¹ˆå¾—ï¼Œèˆå“ªäº›ï¼Œå¾—å“ªäº›â€ï¼Œæ€ä¹ˆé€‰æ‹©è¿˜æ˜¯çœ‹è‡ªå·±çš„æ–¹å‘äº†ï¼›ä¸è¿‡æˆ‘ç›¸ä¿¡ä½ æ€ä¹ˆé€‰æ‹©éƒ½ä¼šæœ‰å±äºè‡ªå·±çš„ä¸€ä»½å¹¸ç¦ï¼›\n\n---\n\nç»­.......\n","source":"_posts/ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/â€œèˆï¼Œå¾—ï¼Œæ”¾â€ ä¸‹ä¹‹ â€œèˆï¼Œå¾—â€.md","raw":"---\ntitle: ç”Ÿæ´»-â€œèˆï¼Œå¾—ï¼Œæ”¾â€ ä¸‹ä¹‹ â€œèˆï¼Œå¾—â€\nabbrlink: 3bf21246\ndate: 2023-10-08 09:05:01\ncategories:\n  - ç”Ÿæ´»æ—¥å¿—\ntags:\n  - ç”Ÿæ´»\n---\n\n# åº\n\n**æˆ‘ç°åœ¨ä¸å’Œäººäº‰åµï¼Œå› ä¸ºæˆ‘æ„è¯†åˆ°ï¼Œæ¯ä¸ªäººåªèƒ½ç«™åœ¨è‡ªå·±çš„è®¤çŸ¥è§’åº¦å»æ€è€ƒã€‚æ‰€ä»¥ï¼Œå¦‚æœæœ‰äººè·Ÿä½ è¯´æŸ æª¬æ—¶ç”œçš„ï¼Œä½ åªéœ€è¦å¯¹ä»–è¯´ä¼¼çš„ï¼Œé‚£ä½ å¤šåƒç‚¹ã€‚ä½ æ²¡å¿…è¦å’Œåˆ«äººäº‰è¾©ä»€ä¹ˆï¼Œå› ä¸ºè®¤çŸ¥ä¸åŒï¼Œæ‰€å¤„çš„è§’åº¦ä¹Ÿä¸åŒï¼Œåšå¥½è‡ªå·±å³å¯ï¼›æ¯•ç«Ÿåœ¨ä¹Œé¸¦çš„ä¸–ç•Œé‡Œï¼Œå¤©é¹…ä¹Ÿæ˜¯æœ‰ç½ªçš„ï¼Œè®¤çŸ¥ç›¸åŒï¼Œæ— éœ€äº‰è¾©ï¼Œè®¤çŸ¥ä¸åŒä½•é¡»äº‰è¾©ï¼Ÿæ€æƒ³ä¸åœ¨ä¸€ä¸ªé«˜åº¦æ²¡å¿…è¦äº’ç›¸å¾æœï¼Œä¸‰è§‚åœ¨ä¸€ä¸ªå±‚æ¬¡ï¼Œå¾®ç¬‘å°±å¥½**\n\n## å‰è¨€\n\nç»­æ¥ä¸Šå›è¯´åˆ°ï¼Œè€ w ä¹Ÿæ˜¯ç»è¿‡äº†å¾ˆä¹…çš„æ€æƒ³æ–—äº‰ï¼Œå°†æ”¾ä¸‹çš„äº‹æƒ…ï¼Œäººï¼Œç‰©éƒ½å·²ç»æ”¾ä¸‹ï¼›ä¸è¿‡ä»–è·Ÿæˆ‘è¯´ï¼šâ€œæˆ‘ä¹Ÿä¸æ¸…æ¥šæ˜¯ä¸æ˜¯å·²ç»æ”¾ä¸‹äº†ï¼Œä¹Ÿä¸çŸ¥é“ä¼šä¸ä¼šåœ¨æ¢¦ä¸­æ¢¦åˆ°æ›¾ç»çš„äº‹ï¼Œä½†è‡³å°‘è¿™ä¸€åˆ»æˆ‘ä¸ä¼šå†å»å› ä¸ºæ›¾ç»çš„äº‹æƒ…è‹¦æ¼ä¸åæ‚”ï¼›è™½ç„¶æ›¾ç»æˆ‘åæ‚”è¿‡ï¼Œæ‡Šæ¼è¿‡ï¼Œä½†è¿™äº›ç¡®å®ç»™æˆ‘çš„ç”Ÿæ´»å¸¦æ¥äº†å¾ˆå¤šå½±å“ã€‚è™½è¯´å®Œå…¨æ”¾ä¸‹åœ¨çŸ­æ—¶é—´å†…æ˜¯ä¸èŠ‚èƒ½çš„ï¼Œä½†æ˜¯æˆ‘ä¼šä¿æŒæ¯å¤©ç§¯æå‘ä¸Šçš„å¿ƒæ€ï¼Œä¸ä¼šå› ä¸ºè¿™äº›äº‹æƒ…å†å»å½±å“æˆ‘çš„ç”Ÿæ´»ï¼â€\n\nè€ w ä¸æˆ‘æ˜¯å¤šå¹´å¥½å‹ï¼Œæˆ‘ä¹ŸçŸ¥é“ä»–å¾ˆå¤šçš„äº‹æƒ…ï¼Œä¸€å®šç¨‹åº¦ä¸Šæ¥è®²æˆ‘ä»¬ç®—æ˜¯ç”Ÿæ­»ä¹‹äº¤äº†ï¼›ä»–ä¹‹å‰æŠ‘éƒè¿‡ï¼Œè‡ªè´Ÿè¿‡ï¼Œæ›¾ç»ä¹Ÿå·®ç‚¹åšè¿‡æç«¯çš„äº‹æƒ…ï¼›é‚£æ®µæ—¶é—´ä»¿ä½›ä»–çš„äººç”Ÿæ²¡æœ‰äº†ä¸€ç‚¹å…‰äº®ï¼Œå®¶é‡Œå‡ºäº†æ„å¤–ï¼Œèº«è¾¹æœ‹å‹çš„å†·æ¼ ç­‰ç­‰ï¼Œè®©ä»–ä¸€åº¦æœ‰äº†æƒ³ä¸å¼€çš„æƒ³æ³•ï¼›ä»–ä¸å–„è¨€è¯­ï¼Œè¡¨é¢ä¸Šä¹Ÿçœ‹ä¸å‡ºå…³äºä»–å†…å¿ƒçš„äº‹æƒ…ï¼Œåæ¥å†ä¸€æ¬¡èšä¼šä¸Šä»–å–å¤šäº†ï¼Œè·Ÿæˆ‘è®²äº†å¾ˆå¤šå…³äºä»–å†…å¿ƒçš„äº‹æƒ…ï¼›æˆ‘ç«Ÿç„¶ä¸çŸ¥é“ä»–çš„è¿™äº›äº‹æƒ…ï¼Œè™½ç„¶æˆ‘ä»¬ç»å¸¸èšåœ¨ä¸€èµ·ï¼Œä½†ç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯ä»–å¾ˆä¹è§‚ï¼Œå¬å®Œä»–çš„æ•…äº‹æˆ‘æ„Ÿåˆ°æœ‰ç‚¹å¿ƒé…¸ï¼Œä¹Ÿæœ‰ç‚¹å¯æƒœï¼›å› ä¸ºé‚£æ®µæ—¶é—´æ­£æ˜¯å±äºç”·å­©å­çš„å¹´çºªï¼Œå¬å®Œä»–æ•…äº‹ä¹‹åæˆ‘æ„Ÿè§‰ä»–è„¸ä¸Šä¼¼ä¹æ—¶è‹è€äº†å¾ˆå¤šï¼Œä¹Ÿä¸çŸ¥é“æ˜¯å†…å¿ƒçš„æŠ˜ç£¨è¿˜æ˜¯å¯¹å†…å¿ƒæ”¾ä¸ä¸‹äº‹æƒ…çš„å‹æŠ‘ï¼›\n\n## â€œä»–â€ä¸è§äº†\n\næœ€è¿‘ä¸€æ®µæ—¶é—´å†æ¬¡è§åˆ°ä»–ï¼Œä»–å˜äº†ï¼Œå˜å¾—æˆ‘éƒ½å·®ç‚¹ä¸è®¤è¯†ä»–äº†ï¼›ä»–ä¸åœ¨å»æƒ³æ›¾ç»å‘ç”Ÿçš„äº‹æƒ…ï¼Œä¹Ÿä¸ä¼šå†å»å› ä¸ºæ›¾ç»çš„ç§ç§æ”¾ä¸ä¸‹å¯¼è‡´è‡ªå·±çš„ç”Ÿæ´»æ°´å¹³ä¸‹é™ï¼Œåšåˆ°çš„åªæœ‰ä¿æŒè‡ªèº«ï¼Œå¾®ç¬‘åº¦è¿‡ï¼›é‚£ä¸ªæ›¾ç»ä¸å–„è¨€è¯­çš„ä»–ä¸è§äº†ï¼Œå†æ¬¡è§åˆ°ä»–çš„æ˜¯ä¸€ä¸ªå¾®ç¬‘è¯å¤šçš„ç”·å­©å„¿ï¼›æˆ‘è®¤ä¸ºä»–åº”è¯¥æ˜¯å®Œå…¨æ”¾ä¸‹äº†ã€‚æ¯•ç«Ÿæˆ‘åœ¨ä»–èº«ä¸Šçœ‹åˆ°äº†æˆ‘åˆšè®¤è¯†çš„ä»–çš„èº«å½±ï¼Œåˆšè®¤è¯†ä»–çš„æ—¶å€™ç»™æˆ‘å°è±¡æœ€æ·±çš„æ˜¯å®ƒæœ‰ç€è¢«äººéƒ½æƒ³æ‹¥æœ‰çš„å·å‘ï¼Œé‚£ä¸ªæ—¶å€™çš„ä»–ç›¸è²Œè™½ç„¶å¹³å¹³ï¼Œæ²¡æœ‰å¤ªå¤šçš„æ‰åï¼Œä½†æ˜¯ä»–å´æœ‰ç€ä¸€é¢—ç«¥çœŸå¥½å¥‡å‘ä¸Šçš„å¿ƒï¼Œè‡³å°‘æˆ‘è®¤ä¸ºä»–é‚£ä¸ªå¹´çºªæ˜¯æœ€å¼€å¿ƒçš„ï¼›\n\næˆ‘ä»¬èŠäº†èŠå®¶å¸¸ï¼Œå·¥ä½œç”Ÿæ´»ï¼Œä»–è·Ÿæˆ‘è¯´æˆ‘æœ€è¿‘çœŸçš„æœ‰åœ¨å¥½å¥½ç”Ÿæ´»ï¼Œæ¯å¤©æœ‰åœ¨èŠ±è´¹åŠä¸ªå°æ—¶æ—¶é—´å»é”»ç‚¼èº«ä½“ï¼Œä¸ºäº†å­¦åšé¥­ï¼Œè®¤çœŸçš„åˆ·äº†å¥½å‡ ä¸ªå°æ—¶çš„æŠ–éŸ³ï¼›å½“å¿ƒæƒ…æœ‰ç‚¹å°ç³Ÿç³•é™ä¸ä¸‹å¿ƒçš„æ—¶å€™ï¼Œä»–éƒ½ä¼šå»ç»ƒå­—ï¼Œå°½ç®¡å­—ä¸æ˜¯å¾ˆç¾è§‚ï¼Œä½†æ˜¯å¯¹äºå†…å¿ƒçš„ä¿®å…»è¿˜æ˜¯æœ‰ä¸€å®šä½œç”¨çš„ï¼›å› ä¸ºä»–çš„èŒä¸šæ˜¯ç¨‹åºå‘˜ï¼Œæ¯å¤©éƒ½æ˜¯é¢å¯¹ç€ç”µè„‘ï¼Œæ—¶é—´é•¿äº†èº«ä½“ä¹Ÿä¼šåƒä¸æ¶ˆï¼›è¯´æ˜¯è¿‘æœŸé”»ç‚¼å¥èº«æ˜¯ä¸ºäº†ä¿è¯è‡ªå·±çš„èº«ä½“å¥åº·ï¼Œå¥åº·æ‰æ˜¯æœ¬é’±ï¼›\n\nè¯´åˆ°åšé¥­ï¼Œä»–è¯´æˆ‘æœ€è¿‘åšäº†ä¸€ä¸ªæ‹¿æ‰‹çš„å¥½èœï¼Œè¯´ç­‰æ™šä¸Šæˆ‘ä¸‹å¨ç»™ä½ å°å° w å¤§å¨çš„æ‰‹è‰ºï¼›ä¸çŸ¥è¿‡äº†å¤šä¹…ï¼Œå¾ˆå¿«åˆ°äº†å‚æ™šä»–è¯´è®©æˆ‘åœ¨å®¶é‡Œç­‰ä»–ï¼Œä»–å»ä¹°ç‚¹èœï¼›æˆ‘ä¹Ÿåä¸ä½å°±å’Œä»–ä¸€èµ·å»äº†ï¼›èœå¸‚åœºé‡Œå¥¹ä½çš„åœ°æ–¹ä¸è¿œï¼Œä¹Ÿå°±å°†è¿‘ 1 å…¬é‡Œçš„è·ç¦»ï¼Œèœå¸‚åœºä¸å¤§ä½†æ˜¯äººå¾ˆå¤šï¼›ä»–ä¹°äº†ç‚¹æ’éª¨ï¼Œç‚–æ±¤ï¼Œæ—¥å¸¸çš„ææ–™ä¹‹å¤–ï¼Œæˆ‘åˆåœ¨é™„è¿‘å•†åŸä¹°äº†ä¸€ç‚¹ç‰›å¥¶ï¼Œæ—©é¤ï¼Œæ°´æœä¹‹ç±»çš„é£Ÿå“ï¼›å½“æ—¶æ¥çœ‹ä»–çš„æ—¶å€™æ²¡æœ‰å¸¦ä»€ä¹ˆä¸œè¥¿å°±ç´¢æ€§åœ¨é™„è¿‘ä¹°ç‚¹ï¼›ä»–æ—©ä¸Šæ¯”è¾ƒæ€¥æ¥ä¸åŠåƒæ—©é¥­ï¼Œå°±ç´¢æ€§ä¹°ç‚¹æ°´æœç‰›å¥¶ç»™ä»–ï¼›æˆ‘å¯ä¸æƒ³å†çœ‹åˆ°ä»–ä¸€ç‚¹ç‚¹é¢“åºŸä¸‹å»ï¼›ææ–™ä¹°å¥½ä¹‹åä»–è¯´æˆ‘æ¥ï¼Œä½ å°±ååœ¨æ²™å‘ä¸Šç©ç©æ¸¸æˆåˆ·åˆ·è§†é¢‘ï¼Œä»Šå¤©éè®©ä½ çœ‹çœ‹æˆ‘æœ€è¿‘å­¦çš„æ‰‹è‰ºï¼›\n\nå¾ˆå¿«ä»–ä¸‹å¨äº†ï¼Œç“¶ç“¶ç½ç½çš„å¾ˆå¤šï¼Œè¿™æ ·çœŸçš„å°±åƒå¤§å¨ä¼¼çš„ï¼›ä»–å…ˆå§è”¬èœæ¸…æ´—å¹²å‡€å¤‡ç”¨ï¼Œå°†ä¹°æ¥çš„æ’éª¨ç„¯æ°´å¤‡ç”¨ï¼›æœ‰çœ‹è§ä»–æ‹¿å‡ºäº†ç±»ä¼¼ç ‚é”…çš„ä¸œè¥¿ï¼Œç ‚é”…æ¸…æ´—å¹²å‡€ï¼Œå°†å°‘é‡æ’éª¨æ”¾è¿›ç ‚é”…ï¼Œåˆå°†å—çŠ¶ç‰ç±³ï¼Œè‘«èŠ¦åœï¼Œ å‡ é¢—å¾ˆå¤§çš„çº¢æ£ç­‰æ”¾è¿›ç ‚é”…ï¼Œæ³¨å…¥å¼€æ°´ä¹‹åå°±å¼€å§‹ä¸Šç«ç‚–æ±¤äº†ï¼›ä¸€é¡¿æ“ä½œä¸‹æ¥ï¼Œæˆ‘éƒ½æ€€ç–‘è¿™è¿˜æ˜¯ä»–å—ï¼Œå˜åŒ–æ˜¯çœŸçš„å¤ªå¤§äº†ï¼›è¦ä¸æ˜¯æˆ‘çŸ¥é“ä»–ä¹‹å‰ä¸ä¼šåšé¥­ï¼Œä»–ä¸€æ­¥æ­¥çš„æ“ä½œæœ‰æ¡ä¸ç´Šçš„ï¼Œè¿˜çœŸä»¥ä¸ºä»–åœ¨é¥­åº—å¹²äº†å¥½å‡ å¹´ï¼›\n\næ—¶é—´å°†è¿‘è¿‡äº†ä¸€å°æ—¶åï¼Œä»–è·Ÿæˆ‘è¯´é©¬ä¸Šå°±å¥½äº†å†ç­‰å‡ åˆ†é’Ÿï¼Œæˆ‘ä¹Ÿèµ¶ç´§æŠŠæ¡Œå­æ“¦å¹²å‡€ï¼ŒèŒ¶ç¢—åœ¨å¹²å‡€å¤‡ç”¨ï¼›åæ¥åˆè§ä»–åœ¨ç‰ç±³æ±¤ä¸Šæ”¾äº†ç‚¹æ¸æï¼Œè¿‘æœ‰ç‚¹ç¾¡æ…•ä»–çš„ç”Ÿæ´»äº†ï¼›å‡ åˆ†é’Ÿä¹‹åä»–æ²¡åŠ¨ç­·ï¼Œæƒ³è®©æˆ‘å°äº†å°ï¼Œæˆ‘è¯´ä¸“ä¸šï¼Œä½ è¿™è¡Œä¸ºä¹Ÿä¸æƒ³æ˜¯åˆšåšé¥­å§ï¼Œæ˜¯ä¸æ˜¯ä¹‹å‰å°±ä¼šçš„ï¼› ä»–ä¸å¥½æ„æ€çš„æŒ äº†æŒ å¤´è¯´åˆ°ï¼šâ€œä¸æ˜¯å•Šï¼Œä¹‹å‰ä¸ä¼šçš„ï¼Œä¸ºäº†æ”¹å˜è‡ªå·±ä¹Ÿæ˜¯åå¤çœ‹äº†å¥½å‡ æ¬¡è§†å±æ•™ç¨‹æ‰ä¼šä¸€ç‚¹çš„ï¼›â€ï¼›æˆ‘è¯´åˆ°ï¼šâ€œè¿™æ±¤ä¸é”™ï¼Œä¸è…¥ä¸è…»â€ï¼›ä»–è¯´é“ï¼šâ€œè¦ä¸è¦å­¦ï¼Œå…è´¹çš„ï¼Œæˆ‘æ•™ä½ â€ï¼›ä¹‹åæˆ‘ä»¬åƒå®Œæ”¶æ‹¾å®Œä¹‹åï¼Œå°±åœ¨ä»–å®¶ä½äº†ä¸€æ™šä¸Šï¼›\n\n## ä»–è¿·èŒ«äº†\n\nä»–çš„èŒä¸šæ˜¯ç¨‹åºå‘˜ï¼Œåˆå› ä¸ºæœ€è¿‘çš„å¤§ç¯å¢ƒä¸æ˜¯å¤ªå¥½ï¼Œå¯¹äºä»–æœ¬èº«æŒæ¡çš„èŒä¸šæŠ€èƒ½æ¥çœ‹ï¼Œè²Œä¼¼å¤§å¤§å°å°çš„ä¸œè¥¿ä¹Ÿåšäº†ä¸å°‘ï¼Œå¥½åƒæ˜¯åˆ°äº†ç“¶é¢ˆæœŸï¼›ä»–è·Ÿæˆ‘è¯´äº†è¿‘æœŸå®¶é‡Œäººå‚¬ä»–ç»“å©šçš„æƒ…å†µï¼Œåº”è¯¥ä¸ä¼šåœ¨ä¸Šæµ·å†å¾…å¾ˆé•¿ä¸€æ®µæ—¶é—´äº†ï¼Œå¯èƒ½å‡ å¹´å°±è¦å›åˆ°è€å®¶äº†ï¼›ä½†æ˜¯å›è€å®¶è¿·èŒ«äº†ï¼Œä¸Šæµ·çš„è–ªèµ„å¯ä»¥ç”Ÿæ´»çš„æ´¥æ´¥æœ‰å‘³ï¼Œä½†æ˜¯å›å»å°±è¦æ¥å—ç°å®æ¯ä¸ªæœˆä¸€åˆ†ä¸å‰©ï¼Œå†åŠ ä¸Šè½¦è´·æˆ¿è´·ä¹‹ç±»çš„åˆ°æ—¶å€™å¯èƒ½è¿˜éœ€è¦å€Ÿé’±å¼¥è¡¥ï¼›\n\næˆ‘å¬åˆ°è¿™ï¼Œå¿ƒé‡Œæƒ³ä¹Ÿæ˜¯è¿™æ ·çš„æƒ…å†µï¼Œæ¯•ç«Ÿè€å®¶ä¸æ˜¯å¤§åŸå¸‚ï¼Œæ²¡æœ‰å¤§åŸå¸‚å…ˆè¿›çš„æŠ€æœ¯ï¼Œç›¸å¯¹äºå°åŸå¸‚çš„æŠ€æœ¯ä¿å®ˆå·²ç»å¤Ÿç”¨äº†ï¼Œä¸ä¼šåœ¨èŠ±è´¹å¤§ä»£ä»·å»ç ”ç©¶æ–°æŠ€æœ¯ç­‰ï¼›è¿™æ ·çš„æƒ…å†µçš„è¯è–ªèµ„å°±å¾ˆä½å¾ˆä½äº†ï¼›\n\næˆ‘å¯¹ä»–è¯´ï¼šâ€œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¤šäººéƒ½åœ¨è¿·èŒ«çš„é—®é¢˜ï¼Œå¦‚æœç»§ç»­åœ¨å¤§åŸå¸‚ç”Ÿæ´»ï¼ŒçŸ­æ—¶é—´å†…ç”Ÿæ´»çš„æ´¥æ´¥æœ‰å‘³ï¼Œä½†æ˜¯æ—¶é—´ä¸€ä¹…ä½ ä¹°ä¸èµ·æˆ¿ï¼Œä¹°ä¸èµ·ä¸Šæµ·çš„è½¦ç‰Œï¼Œå°±è¿ç­‰ä½ ç»“å©šäº†å¤«å¦»äºŒäººåœ¨ä¸Šæµ·ç”Ÿæ´»éƒ½ä¼šè§‰å¾—å‹åŠ›å¾ˆå¤§å¾ˆå¤§ï¼Œæœ‰äº†å­©å­ä¹‹åæ€»ä¸èƒ½è®©å­©å­è¾“åœ¨èµ·è·‘çº¿å§ï¼Œä»€ä¹ˆåŸ¹è®­ç­ï¼Œå…´è¶£çˆ±å¥½ç­ç­‰ç­‰å¯¹å¤§åŸå¸‚çš„è´¹ç”¨è¿˜æ˜¯å¾ˆå¤§çš„ï¼›å¦‚æœä½ å›è€å®¶äº†ï¼Œå¯èƒ½å·¥èµ„å°±æ˜¯å›ºå®šçš„ï¼Œæ²¡æœ‰å‡èŒåŠ è–ªçš„æœºä¼šï¼Œæ‰€æŠŠæ¡çš„æœºä¼šå¾ˆæ¸ºèŒ«ï¼›ä½†ç›¸å¯¹äºå¤§åŸå¸‚çš„èŠ±é”€ï¼Œå°åŸå¸‚çš„èŠ±é”€å¾ˆå°å¾ˆå°ï¼Œä½†æ˜¯è¿™æ ·æ¯ä¸ªæœˆè¿˜æ˜¯å‹’ç´§è£¤è…°å¸¦ï¼›â€\n\nèµ°ä»€ä¹ˆè·¯ï¼Œæ€ä¹ˆèµ°æ˜¯ä½ è‡ªå·±çš„æƒ³æ³•ï¼Œä¸åˆ«äººæ— å…³ï¼›è¦èµ°ä»€ä¹ˆè·¯ï¼Œæ€ä¹ˆé€‰æ‹©ï¼Œé€‰æ‹©æƒåœ¨ä½ ï¼›æˆ‘æ›¾ç»ä¹Ÿæœ‰è¿™ä¸ªæƒ³æ³•ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºå…ˆçæƒœç”Ÿæ´»å½“ä¸‹ä¸ºå‡†ï¼Œå…¶ä»–çš„åœ¨çœ‹è‡ªå·±çš„é€‰æ‹©å§ï¼›å½“ç„¶æ¯”äººä¸ä¼šå·¦å³çš„ä½ é€‰æ‹©ï¼Œè¿™ä¸ªåªæœ‰é è‡ªå·±äº†ï¼›\n\nä½ è¦æƒ³å›è€å®¶ï¼Œç…§é¡¾çˆ¶æ¯é™ªä¼´çˆ¶æ¯ï¼Œäº²äººï¼Œé‚£ä½ è¦ä¹ˆèˆå¼ƒå¤§åŸå¸‚ï¼Œé‚£ä¹ˆè¿™æ ·ä½ å°±ä¼šé™ªä¼´çˆ¶æ¯èº«è¾¹äº†ï¼Œä½ æƒ³å¾—åˆ°å¾ˆå¤šä»·å€¼ï¼Œé‚£ä¹ˆä½ å°±åªèƒ½ç”Ÿæ´»åœ¨å¤§åŸå¸‚ï¼Œç›¸å¯¹äºå°åŸå¸‚å¤§åŸå¸‚çš„æœºä¼šä¼šæ›´å¤§ä¸€äº›ï¼›\n\nâ€œæ€ä¹ˆèˆï¼Œæ€ä¹ˆå¾—ï¼Œèˆå“ªäº›ï¼Œå¾—å“ªäº›â€ï¼Œæ€ä¹ˆé€‰æ‹©è¿˜æ˜¯çœ‹è‡ªå·±çš„æ–¹å‘äº†ï¼›ä¸è¿‡æˆ‘ç›¸ä¿¡ä½ æ€ä¹ˆé€‰æ‹©éƒ½ä¼šæœ‰å±äºè‡ªå·±çš„ä¸€ä»½å¹¸ç¦ï¼›\n\n---\n\nç»­.......\n","slug":"ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/â€œèˆï¼Œå¾—ï¼Œæ”¾â€ ä¸‹ä¹‹ â€œèˆï¼Œå¾—â€","published":1,"updated":"2025-03-12T10:05:51.567Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j20050fg9m02yq4rj3","content":"<h1 id=\"åº\"><a href=\"#åº\" class=\"headerlink\" title=\"åº\"></a>åº</h1><p><strong>æˆ‘ç°åœ¨ä¸å’Œäººäº‰åµï¼Œå› ä¸ºæˆ‘æ„è¯†åˆ°ï¼Œæ¯ä¸ªäººåªèƒ½ç«™åœ¨è‡ªå·±çš„è®¤çŸ¥è§’åº¦å»æ€è€ƒã€‚æ‰€ä»¥ï¼Œå¦‚æœæœ‰äººè·Ÿä½ è¯´æŸ æª¬æ—¶ç”œçš„ï¼Œä½ åªéœ€è¦å¯¹ä»–è¯´ä¼¼çš„ï¼Œé‚£ä½ å¤šåƒç‚¹ã€‚ä½ æ²¡å¿…è¦å’Œåˆ«äººäº‰è¾©ä»€ä¹ˆï¼Œå› ä¸ºè®¤çŸ¥ä¸åŒï¼Œæ‰€å¤„çš„è§’åº¦ä¹Ÿä¸åŒï¼Œåšå¥½è‡ªå·±å³å¯ï¼›æ¯•ç«Ÿåœ¨ä¹Œé¸¦çš„ä¸–ç•Œé‡Œï¼Œå¤©é¹…ä¹Ÿæ˜¯æœ‰ç½ªçš„ï¼Œè®¤çŸ¥ç›¸åŒï¼Œæ— éœ€äº‰è¾©ï¼Œè®¤çŸ¥ä¸åŒä½•é¡»äº‰è¾©ï¼Ÿæ€æƒ³ä¸åœ¨ä¸€ä¸ªé«˜åº¦æ²¡å¿…è¦äº’ç›¸å¾æœï¼Œä¸‰è§‚åœ¨ä¸€ä¸ªå±‚æ¬¡ï¼Œå¾®ç¬‘å°±å¥½</strong></p>\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>ç»­æ¥ä¸Šå›è¯´åˆ°ï¼Œè€ w ä¹Ÿæ˜¯ç»è¿‡äº†å¾ˆä¹…çš„æ€æƒ³æ–—äº‰ï¼Œå°†æ”¾ä¸‹çš„äº‹æƒ…ï¼Œäººï¼Œç‰©éƒ½å·²ç»æ”¾ä¸‹ï¼›ä¸è¿‡ä»–è·Ÿæˆ‘è¯´ï¼šâ€œæˆ‘ä¹Ÿä¸æ¸…æ¥šæ˜¯ä¸æ˜¯å·²ç»æ”¾ä¸‹äº†ï¼Œä¹Ÿä¸çŸ¥é“ä¼šä¸ä¼šåœ¨æ¢¦ä¸­æ¢¦åˆ°æ›¾ç»çš„äº‹ï¼Œä½†è‡³å°‘è¿™ä¸€åˆ»æˆ‘ä¸ä¼šå†å»å› ä¸ºæ›¾ç»çš„äº‹æƒ…è‹¦æ¼ä¸åæ‚”ï¼›è™½ç„¶æ›¾ç»æˆ‘åæ‚”è¿‡ï¼Œæ‡Šæ¼è¿‡ï¼Œä½†è¿™äº›ç¡®å®ç»™æˆ‘çš„ç”Ÿæ´»å¸¦æ¥äº†å¾ˆå¤šå½±å“ã€‚è™½è¯´å®Œå…¨æ”¾ä¸‹åœ¨çŸ­æ—¶é—´å†…æ˜¯ä¸èŠ‚èƒ½çš„ï¼Œä½†æ˜¯æˆ‘ä¼šä¿æŒæ¯å¤©ç§¯æå‘ä¸Šçš„å¿ƒæ€ï¼Œä¸ä¼šå› ä¸ºè¿™äº›äº‹æƒ…å†å»å½±å“æˆ‘çš„ç”Ÿæ´»ï¼â€</p>\n<p>è€ w ä¸æˆ‘æ˜¯å¤šå¹´å¥½å‹ï¼Œæˆ‘ä¹ŸçŸ¥é“ä»–å¾ˆå¤šçš„äº‹æƒ…ï¼Œä¸€å®šç¨‹åº¦ä¸Šæ¥è®²æˆ‘ä»¬ç®—æ˜¯ç”Ÿæ­»ä¹‹äº¤äº†ï¼›ä»–ä¹‹å‰æŠ‘éƒè¿‡ï¼Œè‡ªè´Ÿè¿‡ï¼Œæ›¾ç»ä¹Ÿå·®ç‚¹åšè¿‡æç«¯çš„äº‹æƒ…ï¼›é‚£æ®µæ—¶é—´ä»¿ä½›ä»–çš„äººç”Ÿæ²¡æœ‰äº†ä¸€ç‚¹å…‰äº®ï¼Œå®¶é‡Œå‡ºäº†æ„å¤–ï¼Œèº«è¾¹æœ‹å‹çš„å†·æ¼ ç­‰ç­‰ï¼Œè®©ä»–ä¸€åº¦æœ‰äº†æƒ³ä¸å¼€çš„æƒ³æ³•ï¼›ä»–ä¸å–„è¨€è¯­ï¼Œè¡¨é¢ä¸Šä¹Ÿçœ‹ä¸å‡ºå…³äºä»–å†…å¿ƒçš„äº‹æƒ…ï¼Œåæ¥å†ä¸€æ¬¡èšä¼šä¸Šä»–å–å¤šäº†ï¼Œè·Ÿæˆ‘è®²äº†å¾ˆå¤šå…³äºä»–å†…å¿ƒçš„äº‹æƒ…ï¼›æˆ‘ç«Ÿç„¶ä¸çŸ¥é“ä»–çš„è¿™äº›äº‹æƒ…ï¼Œè™½ç„¶æˆ‘ä»¬ç»å¸¸èšåœ¨ä¸€èµ·ï¼Œä½†ç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯ä»–å¾ˆä¹è§‚ï¼Œå¬å®Œä»–çš„æ•…äº‹æˆ‘æ„Ÿåˆ°æœ‰ç‚¹å¿ƒé…¸ï¼Œä¹Ÿæœ‰ç‚¹å¯æƒœï¼›å› ä¸ºé‚£æ®µæ—¶é—´æ­£æ˜¯å±äºç”·å­©å­çš„å¹´çºªï¼Œå¬å®Œä»–æ•…äº‹ä¹‹åæˆ‘æ„Ÿè§‰ä»–è„¸ä¸Šä¼¼ä¹æ—¶è‹è€äº†å¾ˆå¤šï¼Œä¹Ÿä¸çŸ¥é“æ˜¯å†…å¿ƒçš„æŠ˜ç£¨è¿˜æ˜¯å¯¹å†…å¿ƒæ”¾ä¸ä¸‹äº‹æƒ…çš„å‹æŠ‘ï¼›</p>\n<h2 id=\"â€œä»–â€ä¸è§äº†\"><a href=\"#â€œä»–â€ä¸è§äº†\" class=\"headerlink\" title=\"â€œä»–â€ä¸è§äº†\"></a>â€œä»–â€ä¸è§äº†</h2><p>æœ€è¿‘ä¸€æ®µæ—¶é—´å†æ¬¡è§åˆ°ä»–ï¼Œä»–å˜äº†ï¼Œå˜å¾—æˆ‘éƒ½å·®ç‚¹ä¸è®¤è¯†ä»–äº†ï¼›ä»–ä¸åœ¨å»æƒ³æ›¾ç»å‘ç”Ÿçš„äº‹æƒ…ï¼Œä¹Ÿä¸ä¼šå†å»å› ä¸ºæ›¾ç»çš„ç§ç§æ”¾ä¸ä¸‹å¯¼è‡´è‡ªå·±çš„ç”Ÿæ´»æ°´å¹³ä¸‹é™ï¼Œåšåˆ°çš„åªæœ‰ä¿æŒè‡ªèº«ï¼Œå¾®ç¬‘åº¦è¿‡ï¼›é‚£ä¸ªæ›¾ç»ä¸å–„è¨€è¯­çš„ä»–ä¸è§äº†ï¼Œå†æ¬¡è§åˆ°ä»–çš„æ˜¯ä¸€ä¸ªå¾®ç¬‘è¯å¤šçš„ç”·å­©å„¿ï¼›æˆ‘è®¤ä¸ºä»–åº”è¯¥æ˜¯å®Œå…¨æ”¾ä¸‹äº†ã€‚æ¯•ç«Ÿæˆ‘åœ¨ä»–èº«ä¸Šçœ‹åˆ°äº†æˆ‘åˆšè®¤è¯†çš„ä»–çš„èº«å½±ï¼Œåˆšè®¤è¯†ä»–çš„æ—¶å€™ç»™æˆ‘å°è±¡æœ€æ·±çš„æ˜¯å®ƒæœ‰ç€è¢«äººéƒ½æƒ³æ‹¥æœ‰çš„å·å‘ï¼Œé‚£ä¸ªæ—¶å€™çš„ä»–ç›¸è²Œè™½ç„¶å¹³å¹³ï¼Œæ²¡æœ‰å¤ªå¤šçš„æ‰åï¼Œä½†æ˜¯ä»–å´æœ‰ç€ä¸€é¢—ç«¥çœŸå¥½å¥‡å‘ä¸Šçš„å¿ƒï¼Œè‡³å°‘æˆ‘è®¤ä¸ºä»–é‚£ä¸ªå¹´çºªæ˜¯æœ€å¼€å¿ƒçš„ï¼›</p>\n<p>æˆ‘ä»¬èŠäº†èŠå®¶å¸¸ï¼Œå·¥ä½œç”Ÿæ´»ï¼Œä»–è·Ÿæˆ‘è¯´æˆ‘æœ€è¿‘çœŸçš„æœ‰åœ¨å¥½å¥½ç”Ÿæ´»ï¼Œæ¯å¤©æœ‰åœ¨èŠ±è´¹åŠä¸ªå°æ—¶æ—¶é—´å»é”»ç‚¼èº«ä½“ï¼Œä¸ºäº†å­¦åšé¥­ï¼Œè®¤çœŸçš„åˆ·äº†å¥½å‡ ä¸ªå°æ—¶çš„æŠ–éŸ³ï¼›å½“å¿ƒæƒ…æœ‰ç‚¹å°ç³Ÿç³•é™ä¸ä¸‹å¿ƒçš„æ—¶å€™ï¼Œä»–éƒ½ä¼šå»ç»ƒå­—ï¼Œå°½ç®¡å­—ä¸æ˜¯å¾ˆç¾è§‚ï¼Œä½†æ˜¯å¯¹äºå†…å¿ƒçš„ä¿®å…»è¿˜æ˜¯æœ‰ä¸€å®šä½œç”¨çš„ï¼›å› ä¸ºä»–çš„èŒä¸šæ˜¯ç¨‹åºå‘˜ï¼Œæ¯å¤©éƒ½æ˜¯é¢å¯¹ç€ç”µè„‘ï¼Œæ—¶é—´é•¿äº†èº«ä½“ä¹Ÿä¼šåƒä¸æ¶ˆï¼›è¯´æ˜¯è¿‘æœŸé”»ç‚¼å¥èº«æ˜¯ä¸ºäº†ä¿è¯è‡ªå·±çš„èº«ä½“å¥åº·ï¼Œå¥åº·æ‰æ˜¯æœ¬é’±ï¼›</p>\n<p>è¯´åˆ°åšé¥­ï¼Œä»–è¯´æˆ‘æœ€è¿‘åšäº†ä¸€ä¸ªæ‹¿æ‰‹çš„å¥½èœï¼Œè¯´ç­‰æ™šä¸Šæˆ‘ä¸‹å¨ç»™ä½ å°å° w å¤§å¨çš„æ‰‹è‰ºï¼›ä¸çŸ¥è¿‡äº†å¤šä¹…ï¼Œå¾ˆå¿«åˆ°äº†å‚æ™šä»–è¯´è®©æˆ‘åœ¨å®¶é‡Œç­‰ä»–ï¼Œä»–å»ä¹°ç‚¹èœï¼›æˆ‘ä¹Ÿåä¸ä½å°±å’Œä»–ä¸€èµ·å»äº†ï¼›èœå¸‚åœºé‡Œå¥¹ä½çš„åœ°æ–¹ä¸è¿œï¼Œä¹Ÿå°±å°†è¿‘ 1 å…¬é‡Œçš„è·ç¦»ï¼Œèœå¸‚åœºä¸å¤§ä½†æ˜¯äººå¾ˆå¤šï¼›ä»–ä¹°äº†ç‚¹æ’éª¨ï¼Œç‚–æ±¤ï¼Œæ—¥å¸¸çš„ææ–™ä¹‹å¤–ï¼Œæˆ‘åˆåœ¨é™„è¿‘å•†åŸä¹°äº†ä¸€ç‚¹ç‰›å¥¶ï¼Œæ—©é¤ï¼Œæ°´æœä¹‹ç±»çš„é£Ÿå“ï¼›å½“æ—¶æ¥çœ‹ä»–çš„æ—¶å€™æ²¡æœ‰å¸¦ä»€ä¹ˆä¸œè¥¿å°±ç´¢æ€§åœ¨é™„è¿‘ä¹°ç‚¹ï¼›ä»–æ—©ä¸Šæ¯”è¾ƒæ€¥æ¥ä¸åŠåƒæ—©é¥­ï¼Œå°±ç´¢æ€§ä¹°ç‚¹æ°´æœç‰›å¥¶ç»™ä»–ï¼›æˆ‘å¯ä¸æƒ³å†çœ‹åˆ°ä»–ä¸€ç‚¹ç‚¹é¢“åºŸä¸‹å»ï¼›ææ–™ä¹°å¥½ä¹‹åä»–è¯´æˆ‘æ¥ï¼Œä½ å°±ååœ¨æ²™å‘ä¸Šç©ç©æ¸¸æˆåˆ·åˆ·è§†é¢‘ï¼Œä»Šå¤©éè®©ä½ çœ‹çœ‹æˆ‘æœ€è¿‘å­¦çš„æ‰‹è‰ºï¼›</p>\n<p>å¾ˆå¿«ä»–ä¸‹å¨äº†ï¼Œç“¶ç“¶ç½ç½çš„å¾ˆå¤šï¼Œè¿™æ ·çœŸçš„å°±åƒå¤§å¨ä¼¼çš„ï¼›ä»–å…ˆå§è”¬èœæ¸…æ´—å¹²å‡€å¤‡ç”¨ï¼Œå°†ä¹°æ¥çš„æ’éª¨ç„¯æ°´å¤‡ç”¨ï¼›æœ‰çœ‹è§ä»–æ‹¿å‡ºäº†ç±»ä¼¼ç ‚é”…çš„ä¸œè¥¿ï¼Œç ‚é”…æ¸…æ´—å¹²å‡€ï¼Œå°†å°‘é‡æ’éª¨æ”¾è¿›ç ‚é”…ï¼Œåˆå°†å—çŠ¶ç‰ç±³ï¼Œè‘«èŠ¦åœï¼Œ å‡ é¢—å¾ˆå¤§çš„çº¢æ£ç­‰æ”¾è¿›ç ‚é”…ï¼Œæ³¨å…¥å¼€æ°´ä¹‹åå°±å¼€å§‹ä¸Šç«ç‚–æ±¤äº†ï¼›ä¸€é¡¿æ“ä½œä¸‹æ¥ï¼Œæˆ‘éƒ½æ€€ç–‘è¿™è¿˜æ˜¯ä»–å—ï¼Œå˜åŒ–æ˜¯çœŸçš„å¤ªå¤§äº†ï¼›è¦ä¸æ˜¯æˆ‘çŸ¥é“ä»–ä¹‹å‰ä¸ä¼šåšé¥­ï¼Œä»–ä¸€æ­¥æ­¥çš„æ“ä½œæœ‰æ¡ä¸ç´Šçš„ï¼Œè¿˜çœŸä»¥ä¸ºä»–åœ¨é¥­åº—å¹²äº†å¥½å‡ å¹´ï¼›</p>\n<p>æ—¶é—´å°†è¿‘è¿‡äº†ä¸€å°æ—¶åï¼Œä»–è·Ÿæˆ‘è¯´é©¬ä¸Šå°±å¥½äº†å†ç­‰å‡ åˆ†é’Ÿï¼Œæˆ‘ä¹Ÿèµ¶ç´§æŠŠæ¡Œå­æ“¦å¹²å‡€ï¼ŒèŒ¶ç¢—åœ¨å¹²å‡€å¤‡ç”¨ï¼›åæ¥åˆè§ä»–åœ¨ç‰ç±³æ±¤ä¸Šæ”¾äº†ç‚¹æ¸æï¼Œè¿‘æœ‰ç‚¹ç¾¡æ…•ä»–çš„ç”Ÿæ´»äº†ï¼›å‡ åˆ†é’Ÿä¹‹åä»–æ²¡åŠ¨ç­·ï¼Œæƒ³è®©æˆ‘å°äº†å°ï¼Œæˆ‘è¯´ä¸“ä¸šï¼Œä½ è¿™è¡Œä¸ºä¹Ÿä¸æƒ³æ˜¯åˆšåšé¥­å§ï¼Œæ˜¯ä¸æ˜¯ä¹‹å‰å°±ä¼šçš„ï¼› ä»–ä¸å¥½æ„æ€çš„æŒ äº†æŒ å¤´è¯´åˆ°ï¼šâ€œä¸æ˜¯å•Šï¼Œä¹‹å‰ä¸ä¼šçš„ï¼Œä¸ºäº†æ”¹å˜è‡ªå·±ä¹Ÿæ˜¯åå¤çœ‹äº†å¥½å‡ æ¬¡è§†å±æ•™ç¨‹æ‰ä¼šä¸€ç‚¹çš„ï¼›â€ï¼›æˆ‘è¯´åˆ°ï¼šâ€œè¿™æ±¤ä¸é”™ï¼Œä¸è…¥ä¸è…»â€ï¼›ä»–è¯´é“ï¼šâ€œè¦ä¸è¦å­¦ï¼Œå…è´¹çš„ï¼Œæˆ‘æ•™ä½ â€ï¼›ä¹‹åæˆ‘ä»¬åƒå®Œæ”¶æ‹¾å®Œä¹‹åï¼Œå°±åœ¨ä»–å®¶ä½äº†ä¸€æ™šä¸Šï¼›</p>\n<h2 id=\"ä»–è¿·èŒ«äº†\"><a href=\"#ä»–è¿·èŒ«äº†\" class=\"headerlink\" title=\"ä»–è¿·èŒ«äº†\"></a>ä»–è¿·èŒ«äº†</h2><p>ä»–çš„èŒä¸šæ˜¯ç¨‹åºå‘˜ï¼Œåˆå› ä¸ºæœ€è¿‘çš„å¤§ç¯å¢ƒä¸æ˜¯å¤ªå¥½ï¼Œå¯¹äºä»–æœ¬èº«æŒæ¡çš„èŒä¸šæŠ€èƒ½æ¥çœ‹ï¼Œè²Œä¼¼å¤§å¤§å°å°çš„ä¸œè¥¿ä¹Ÿåšäº†ä¸å°‘ï¼Œå¥½åƒæ˜¯åˆ°äº†ç“¶é¢ˆæœŸï¼›ä»–è·Ÿæˆ‘è¯´äº†è¿‘æœŸå®¶é‡Œäººå‚¬ä»–ç»“å©šçš„æƒ…å†µï¼Œåº”è¯¥ä¸ä¼šåœ¨ä¸Šæµ·å†å¾…å¾ˆé•¿ä¸€æ®µæ—¶é—´äº†ï¼Œå¯èƒ½å‡ å¹´å°±è¦å›åˆ°è€å®¶äº†ï¼›ä½†æ˜¯å›è€å®¶è¿·èŒ«äº†ï¼Œä¸Šæµ·çš„è–ªèµ„å¯ä»¥ç”Ÿæ´»çš„æ´¥æ´¥æœ‰å‘³ï¼Œä½†æ˜¯å›å»å°±è¦æ¥å—ç°å®æ¯ä¸ªæœˆä¸€åˆ†ä¸å‰©ï¼Œå†åŠ ä¸Šè½¦è´·æˆ¿è´·ä¹‹ç±»çš„åˆ°æ—¶å€™å¯èƒ½è¿˜éœ€è¦å€Ÿé’±å¼¥è¡¥ï¼›</p>\n<p>æˆ‘å¬åˆ°è¿™ï¼Œå¿ƒé‡Œæƒ³ä¹Ÿæ˜¯è¿™æ ·çš„æƒ…å†µï¼Œæ¯•ç«Ÿè€å®¶ä¸æ˜¯å¤§åŸå¸‚ï¼Œæ²¡æœ‰å¤§åŸå¸‚å…ˆè¿›çš„æŠ€æœ¯ï¼Œç›¸å¯¹äºå°åŸå¸‚çš„æŠ€æœ¯ä¿å®ˆå·²ç»å¤Ÿç”¨äº†ï¼Œä¸ä¼šåœ¨èŠ±è´¹å¤§ä»£ä»·å»ç ”ç©¶æ–°æŠ€æœ¯ç­‰ï¼›è¿™æ ·çš„æƒ…å†µçš„è¯è–ªèµ„å°±å¾ˆä½å¾ˆä½äº†ï¼›</p>\n<p>æˆ‘å¯¹ä»–è¯´ï¼šâ€œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¤šäººéƒ½åœ¨è¿·èŒ«çš„é—®é¢˜ï¼Œå¦‚æœç»§ç»­åœ¨å¤§åŸå¸‚ç”Ÿæ´»ï¼ŒçŸ­æ—¶é—´å†…ç”Ÿæ´»çš„æ´¥æ´¥æœ‰å‘³ï¼Œä½†æ˜¯æ—¶é—´ä¸€ä¹…ä½ ä¹°ä¸èµ·æˆ¿ï¼Œä¹°ä¸èµ·ä¸Šæµ·çš„è½¦ç‰Œï¼Œå°±è¿ç­‰ä½ ç»“å©šäº†å¤«å¦»äºŒäººåœ¨ä¸Šæµ·ç”Ÿæ´»éƒ½ä¼šè§‰å¾—å‹åŠ›å¾ˆå¤§å¾ˆå¤§ï¼Œæœ‰äº†å­©å­ä¹‹åæ€»ä¸èƒ½è®©å­©å­è¾“åœ¨èµ·è·‘çº¿å§ï¼Œä»€ä¹ˆåŸ¹è®­ç­ï¼Œå…´è¶£çˆ±å¥½ç­ç­‰ç­‰å¯¹å¤§åŸå¸‚çš„è´¹ç”¨è¿˜æ˜¯å¾ˆå¤§çš„ï¼›å¦‚æœä½ å›è€å®¶äº†ï¼Œå¯èƒ½å·¥èµ„å°±æ˜¯å›ºå®šçš„ï¼Œæ²¡æœ‰å‡èŒåŠ è–ªçš„æœºä¼šï¼Œæ‰€æŠŠæ¡çš„æœºä¼šå¾ˆæ¸ºèŒ«ï¼›ä½†ç›¸å¯¹äºå¤§åŸå¸‚çš„èŠ±é”€ï¼Œå°åŸå¸‚çš„èŠ±é”€å¾ˆå°å¾ˆå°ï¼Œä½†æ˜¯è¿™æ ·æ¯ä¸ªæœˆè¿˜æ˜¯å‹’ç´§è£¤è…°å¸¦ï¼›â€</p>\n<p>èµ°ä»€ä¹ˆè·¯ï¼Œæ€ä¹ˆèµ°æ˜¯ä½ è‡ªå·±çš„æƒ³æ³•ï¼Œä¸åˆ«äººæ— å…³ï¼›è¦èµ°ä»€ä¹ˆè·¯ï¼Œæ€ä¹ˆé€‰æ‹©ï¼Œé€‰æ‹©æƒåœ¨ä½ ï¼›æˆ‘æ›¾ç»ä¹Ÿæœ‰è¿™ä¸ªæƒ³æ³•ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºå…ˆçæƒœç”Ÿæ´»å½“ä¸‹ä¸ºå‡†ï¼Œå…¶ä»–çš„åœ¨çœ‹è‡ªå·±çš„é€‰æ‹©å§ï¼›å½“ç„¶æ¯”äººä¸ä¼šå·¦å³çš„ä½ é€‰æ‹©ï¼Œè¿™ä¸ªåªæœ‰é è‡ªå·±äº†ï¼›</p>\n<p>ä½ è¦æƒ³å›è€å®¶ï¼Œç…§é¡¾çˆ¶æ¯é™ªä¼´çˆ¶æ¯ï¼Œäº²äººï¼Œé‚£ä½ è¦ä¹ˆèˆå¼ƒå¤§åŸå¸‚ï¼Œé‚£ä¹ˆè¿™æ ·ä½ å°±ä¼šé™ªä¼´çˆ¶æ¯èº«è¾¹äº†ï¼Œä½ æƒ³å¾—åˆ°å¾ˆå¤šä»·å€¼ï¼Œé‚£ä¹ˆä½ å°±åªèƒ½ç”Ÿæ´»åœ¨å¤§åŸå¸‚ï¼Œç›¸å¯¹äºå°åŸå¸‚å¤§åŸå¸‚çš„æœºä¼šä¼šæ›´å¤§ä¸€äº›ï¼›</p>\n<p>â€œæ€ä¹ˆèˆï¼Œæ€ä¹ˆå¾—ï¼Œèˆå“ªäº›ï¼Œå¾—å“ªäº›â€ï¼Œæ€ä¹ˆé€‰æ‹©è¿˜æ˜¯çœ‹è‡ªå·±çš„æ–¹å‘äº†ï¼›ä¸è¿‡æˆ‘ç›¸ä¿¡ä½ æ€ä¹ˆé€‰æ‹©éƒ½ä¼šæœ‰å±äºè‡ªå·±çš„ä¸€ä»½å¹¸ç¦ï¼›</p>\n<hr>\n<p>ç»­â€¦â€¦.</p>\n","excerpt":"","more":"<h1 id=\"åº\"><a href=\"#åº\" class=\"headerlink\" title=\"åº\"></a>åº</h1><p><strong>æˆ‘ç°åœ¨ä¸å’Œäººäº‰åµï¼Œå› ä¸ºæˆ‘æ„è¯†åˆ°ï¼Œæ¯ä¸ªäººåªèƒ½ç«™åœ¨è‡ªå·±çš„è®¤çŸ¥è§’åº¦å»æ€è€ƒã€‚æ‰€ä»¥ï¼Œå¦‚æœæœ‰äººè·Ÿä½ è¯´æŸ æª¬æ—¶ç”œçš„ï¼Œä½ åªéœ€è¦å¯¹ä»–è¯´ä¼¼çš„ï¼Œé‚£ä½ å¤šåƒç‚¹ã€‚ä½ æ²¡å¿…è¦å’Œåˆ«äººäº‰è¾©ä»€ä¹ˆï¼Œå› ä¸ºè®¤çŸ¥ä¸åŒï¼Œæ‰€å¤„çš„è§’åº¦ä¹Ÿä¸åŒï¼Œåšå¥½è‡ªå·±å³å¯ï¼›æ¯•ç«Ÿåœ¨ä¹Œé¸¦çš„ä¸–ç•Œé‡Œï¼Œå¤©é¹…ä¹Ÿæ˜¯æœ‰ç½ªçš„ï¼Œè®¤çŸ¥ç›¸åŒï¼Œæ— éœ€äº‰è¾©ï¼Œè®¤çŸ¥ä¸åŒä½•é¡»äº‰è¾©ï¼Ÿæ€æƒ³ä¸åœ¨ä¸€ä¸ªé«˜åº¦æ²¡å¿…è¦äº’ç›¸å¾æœï¼Œä¸‰è§‚åœ¨ä¸€ä¸ªå±‚æ¬¡ï¼Œå¾®ç¬‘å°±å¥½</strong></p>\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>ç»­æ¥ä¸Šå›è¯´åˆ°ï¼Œè€ w ä¹Ÿæ˜¯ç»è¿‡äº†å¾ˆä¹…çš„æ€æƒ³æ–—äº‰ï¼Œå°†æ”¾ä¸‹çš„äº‹æƒ…ï¼Œäººï¼Œç‰©éƒ½å·²ç»æ”¾ä¸‹ï¼›ä¸è¿‡ä»–è·Ÿæˆ‘è¯´ï¼šâ€œæˆ‘ä¹Ÿä¸æ¸…æ¥šæ˜¯ä¸æ˜¯å·²ç»æ”¾ä¸‹äº†ï¼Œä¹Ÿä¸çŸ¥é“ä¼šä¸ä¼šåœ¨æ¢¦ä¸­æ¢¦åˆ°æ›¾ç»çš„äº‹ï¼Œä½†è‡³å°‘è¿™ä¸€åˆ»æˆ‘ä¸ä¼šå†å»å› ä¸ºæ›¾ç»çš„äº‹æƒ…è‹¦æ¼ä¸åæ‚”ï¼›è™½ç„¶æ›¾ç»æˆ‘åæ‚”è¿‡ï¼Œæ‡Šæ¼è¿‡ï¼Œä½†è¿™äº›ç¡®å®ç»™æˆ‘çš„ç”Ÿæ´»å¸¦æ¥äº†å¾ˆå¤šå½±å“ã€‚è™½è¯´å®Œå…¨æ”¾ä¸‹åœ¨çŸ­æ—¶é—´å†…æ˜¯ä¸èŠ‚èƒ½çš„ï¼Œä½†æ˜¯æˆ‘ä¼šä¿æŒæ¯å¤©ç§¯æå‘ä¸Šçš„å¿ƒæ€ï¼Œä¸ä¼šå› ä¸ºè¿™äº›äº‹æƒ…å†å»å½±å“æˆ‘çš„ç”Ÿæ´»ï¼â€</p>\n<p>è€ w ä¸æˆ‘æ˜¯å¤šå¹´å¥½å‹ï¼Œæˆ‘ä¹ŸçŸ¥é“ä»–å¾ˆå¤šçš„äº‹æƒ…ï¼Œä¸€å®šç¨‹åº¦ä¸Šæ¥è®²æˆ‘ä»¬ç®—æ˜¯ç”Ÿæ­»ä¹‹äº¤äº†ï¼›ä»–ä¹‹å‰æŠ‘éƒè¿‡ï¼Œè‡ªè´Ÿè¿‡ï¼Œæ›¾ç»ä¹Ÿå·®ç‚¹åšè¿‡æç«¯çš„äº‹æƒ…ï¼›é‚£æ®µæ—¶é—´ä»¿ä½›ä»–çš„äººç”Ÿæ²¡æœ‰äº†ä¸€ç‚¹å…‰äº®ï¼Œå®¶é‡Œå‡ºäº†æ„å¤–ï¼Œèº«è¾¹æœ‹å‹çš„å†·æ¼ ç­‰ç­‰ï¼Œè®©ä»–ä¸€åº¦æœ‰äº†æƒ³ä¸å¼€çš„æƒ³æ³•ï¼›ä»–ä¸å–„è¨€è¯­ï¼Œè¡¨é¢ä¸Šä¹Ÿçœ‹ä¸å‡ºå…³äºä»–å†…å¿ƒçš„äº‹æƒ…ï¼Œåæ¥å†ä¸€æ¬¡èšä¼šä¸Šä»–å–å¤šäº†ï¼Œè·Ÿæˆ‘è®²äº†å¾ˆå¤šå…³äºä»–å†…å¿ƒçš„äº‹æƒ…ï¼›æˆ‘ç«Ÿç„¶ä¸çŸ¥é“ä»–çš„è¿™äº›äº‹æƒ…ï¼Œè™½ç„¶æˆ‘ä»¬ç»å¸¸èšåœ¨ä¸€èµ·ï¼Œä½†ç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯ä»–å¾ˆä¹è§‚ï¼Œå¬å®Œä»–çš„æ•…äº‹æˆ‘æ„Ÿåˆ°æœ‰ç‚¹å¿ƒé…¸ï¼Œä¹Ÿæœ‰ç‚¹å¯æƒœï¼›å› ä¸ºé‚£æ®µæ—¶é—´æ­£æ˜¯å±äºç”·å­©å­çš„å¹´çºªï¼Œå¬å®Œä»–æ•…äº‹ä¹‹åæˆ‘æ„Ÿè§‰ä»–è„¸ä¸Šä¼¼ä¹æ—¶è‹è€äº†å¾ˆå¤šï¼Œä¹Ÿä¸çŸ¥é“æ˜¯å†…å¿ƒçš„æŠ˜ç£¨è¿˜æ˜¯å¯¹å†…å¿ƒæ”¾ä¸ä¸‹äº‹æƒ…çš„å‹æŠ‘ï¼›</p>\n<h2 id=\"â€œä»–â€ä¸è§äº†\"><a href=\"#â€œä»–â€ä¸è§äº†\" class=\"headerlink\" title=\"â€œä»–â€ä¸è§äº†\"></a>â€œä»–â€ä¸è§äº†</h2><p>æœ€è¿‘ä¸€æ®µæ—¶é—´å†æ¬¡è§åˆ°ä»–ï¼Œä»–å˜äº†ï¼Œå˜å¾—æˆ‘éƒ½å·®ç‚¹ä¸è®¤è¯†ä»–äº†ï¼›ä»–ä¸åœ¨å»æƒ³æ›¾ç»å‘ç”Ÿçš„äº‹æƒ…ï¼Œä¹Ÿä¸ä¼šå†å»å› ä¸ºæ›¾ç»çš„ç§ç§æ”¾ä¸ä¸‹å¯¼è‡´è‡ªå·±çš„ç”Ÿæ´»æ°´å¹³ä¸‹é™ï¼Œåšåˆ°çš„åªæœ‰ä¿æŒè‡ªèº«ï¼Œå¾®ç¬‘åº¦è¿‡ï¼›é‚£ä¸ªæ›¾ç»ä¸å–„è¨€è¯­çš„ä»–ä¸è§äº†ï¼Œå†æ¬¡è§åˆ°ä»–çš„æ˜¯ä¸€ä¸ªå¾®ç¬‘è¯å¤šçš„ç”·å­©å„¿ï¼›æˆ‘è®¤ä¸ºä»–åº”è¯¥æ˜¯å®Œå…¨æ”¾ä¸‹äº†ã€‚æ¯•ç«Ÿæˆ‘åœ¨ä»–èº«ä¸Šçœ‹åˆ°äº†æˆ‘åˆšè®¤è¯†çš„ä»–çš„èº«å½±ï¼Œåˆšè®¤è¯†ä»–çš„æ—¶å€™ç»™æˆ‘å°è±¡æœ€æ·±çš„æ˜¯å®ƒæœ‰ç€è¢«äººéƒ½æƒ³æ‹¥æœ‰çš„å·å‘ï¼Œé‚£ä¸ªæ—¶å€™çš„ä»–ç›¸è²Œè™½ç„¶å¹³å¹³ï¼Œæ²¡æœ‰å¤ªå¤šçš„æ‰åï¼Œä½†æ˜¯ä»–å´æœ‰ç€ä¸€é¢—ç«¥çœŸå¥½å¥‡å‘ä¸Šçš„å¿ƒï¼Œè‡³å°‘æˆ‘è®¤ä¸ºä»–é‚£ä¸ªå¹´çºªæ˜¯æœ€å¼€å¿ƒçš„ï¼›</p>\n<p>æˆ‘ä»¬èŠäº†èŠå®¶å¸¸ï¼Œå·¥ä½œç”Ÿæ´»ï¼Œä»–è·Ÿæˆ‘è¯´æˆ‘æœ€è¿‘çœŸçš„æœ‰åœ¨å¥½å¥½ç”Ÿæ´»ï¼Œæ¯å¤©æœ‰åœ¨èŠ±è´¹åŠä¸ªå°æ—¶æ—¶é—´å»é”»ç‚¼èº«ä½“ï¼Œä¸ºäº†å­¦åšé¥­ï¼Œè®¤çœŸçš„åˆ·äº†å¥½å‡ ä¸ªå°æ—¶çš„æŠ–éŸ³ï¼›å½“å¿ƒæƒ…æœ‰ç‚¹å°ç³Ÿç³•é™ä¸ä¸‹å¿ƒçš„æ—¶å€™ï¼Œä»–éƒ½ä¼šå»ç»ƒå­—ï¼Œå°½ç®¡å­—ä¸æ˜¯å¾ˆç¾è§‚ï¼Œä½†æ˜¯å¯¹äºå†…å¿ƒçš„ä¿®å…»è¿˜æ˜¯æœ‰ä¸€å®šä½œç”¨çš„ï¼›å› ä¸ºä»–çš„èŒä¸šæ˜¯ç¨‹åºå‘˜ï¼Œæ¯å¤©éƒ½æ˜¯é¢å¯¹ç€ç”µè„‘ï¼Œæ—¶é—´é•¿äº†èº«ä½“ä¹Ÿä¼šåƒä¸æ¶ˆï¼›è¯´æ˜¯è¿‘æœŸé”»ç‚¼å¥èº«æ˜¯ä¸ºäº†ä¿è¯è‡ªå·±çš„èº«ä½“å¥åº·ï¼Œå¥åº·æ‰æ˜¯æœ¬é’±ï¼›</p>\n<p>è¯´åˆ°åšé¥­ï¼Œä»–è¯´æˆ‘æœ€è¿‘åšäº†ä¸€ä¸ªæ‹¿æ‰‹çš„å¥½èœï¼Œè¯´ç­‰æ™šä¸Šæˆ‘ä¸‹å¨ç»™ä½ å°å° w å¤§å¨çš„æ‰‹è‰ºï¼›ä¸çŸ¥è¿‡äº†å¤šä¹…ï¼Œå¾ˆå¿«åˆ°äº†å‚æ™šä»–è¯´è®©æˆ‘åœ¨å®¶é‡Œç­‰ä»–ï¼Œä»–å»ä¹°ç‚¹èœï¼›æˆ‘ä¹Ÿåä¸ä½å°±å’Œä»–ä¸€èµ·å»äº†ï¼›èœå¸‚åœºé‡Œå¥¹ä½çš„åœ°æ–¹ä¸è¿œï¼Œä¹Ÿå°±å°†è¿‘ 1 å…¬é‡Œçš„è·ç¦»ï¼Œèœå¸‚åœºä¸å¤§ä½†æ˜¯äººå¾ˆå¤šï¼›ä»–ä¹°äº†ç‚¹æ’éª¨ï¼Œç‚–æ±¤ï¼Œæ—¥å¸¸çš„ææ–™ä¹‹å¤–ï¼Œæˆ‘åˆåœ¨é™„è¿‘å•†åŸä¹°äº†ä¸€ç‚¹ç‰›å¥¶ï¼Œæ—©é¤ï¼Œæ°´æœä¹‹ç±»çš„é£Ÿå“ï¼›å½“æ—¶æ¥çœ‹ä»–çš„æ—¶å€™æ²¡æœ‰å¸¦ä»€ä¹ˆä¸œè¥¿å°±ç´¢æ€§åœ¨é™„è¿‘ä¹°ç‚¹ï¼›ä»–æ—©ä¸Šæ¯”è¾ƒæ€¥æ¥ä¸åŠåƒæ—©é¥­ï¼Œå°±ç´¢æ€§ä¹°ç‚¹æ°´æœç‰›å¥¶ç»™ä»–ï¼›æˆ‘å¯ä¸æƒ³å†çœ‹åˆ°ä»–ä¸€ç‚¹ç‚¹é¢“åºŸä¸‹å»ï¼›ææ–™ä¹°å¥½ä¹‹åä»–è¯´æˆ‘æ¥ï¼Œä½ å°±ååœ¨æ²™å‘ä¸Šç©ç©æ¸¸æˆåˆ·åˆ·è§†é¢‘ï¼Œä»Šå¤©éè®©ä½ çœ‹çœ‹æˆ‘æœ€è¿‘å­¦çš„æ‰‹è‰ºï¼›</p>\n<p>å¾ˆå¿«ä»–ä¸‹å¨äº†ï¼Œç“¶ç“¶ç½ç½çš„å¾ˆå¤šï¼Œè¿™æ ·çœŸçš„å°±åƒå¤§å¨ä¼¼çš„ï¼›ä»–å…ˆå§è”¬èœæ¸…æ´—å¹²å‡€å¤‡ç”¨ï¼Œå°†ä¹°æ¥çš„æ’éª¨ç„¯æ°´å¤‡ç”¨ï¼›æœ‰çœ‹è§ä»–æ‹¿å‡ºäº†ç±»ä¼¼ç ‚é”…çš„ä¸œè¥¿ï¼Œç ‚é”…æ¸…æ´—å¹²å‡€ï¼Œå°†å°‘é‡æ’éª¨æ”¾è¿›ç ‚é”…ï¼Œåˆå°†å—çŠ¶ç‰ç±³ï¼Œè‘«èŠ¦åœï¼Œ å‡ é¢—å¾ˆå¤§çš„çº¢æ£ç­‰æ”¾è¿›ç ‚é”…ï¼Œæ³¨å…¥å¼€æ°´ä¹‹åå°±å¼€å§‹ä¸Šç«ç‚–æ±¤äº†ï¼›ä¸€é¡¿æ“ä½œä¸‹æ¥ï¼Œæˆ‘éƒ½æ€€ç–‘è¿™è¿˜æ˜¯ä»–å—ï¼Œå˜åŒ–æ˜¯çœŸçš„å¤ªå¤§äº†ï¼›è¦ä¸æ˜¯æˆ‘çŸ¥é“ä»–ä¹‹å‰ä¸ä¼šåšé¥­ï¼Œä»–ä¸€æ­¥æ­¥çš„æ“ä½œæœ‰æ¡ä¸ç´Šçš„ï¼Œè¿˜çœŸä»¥ä¸ºä»–åœ¨é¥­åº—å¹²äº†å¥½å‡ å¹´ï¼›</p>\n<p>æ—¶é—´å°†è¿‘è¿‡äº†ä¸€å°æ—¶åï¼Œä»–è·Ÿæˆ‘è¯´é©¬ä¸Šå°±å¥½äº†å†ç­‰å‡ åˆ†é’Ÿï¼Œæˆ‘ä¹Ÿèµ¶ç´§æŠŠæ¡Œå­æ“¦å¹²å‡€ï¼ŒèŒ¶ç¢—åœ¨å¹²å‡€å¤‡ç”¨ï¼›åæ¥åˆè§ä»–åœ¨ç‰ç±³æ±¤ä¸Šæ”¾äº†ç‚¹æ¸æï¼Œè¿‘æœ‰ç‚¹ç¾¡æ…•ä»–çš„ç”Ÿæ´»äº†ï¼›å‡ åˆ†é’Ÿä¹‹åä»–æ²¡åŠ¨ç­·ï¼Œæƒ³è®©æˆ‘å°äº†å°ï¼Œæˆ‘è¯´ä¸“ä¸šï¼Œä½ è¿™è¡Œä¸ºä¹Ÿä¸æƒ³æ˜¯åˆšåšé¥­å§ï¼Œæ˜¯ä¸æ˜¯ä¹‹å‰å°±ä¼šçš„ï¼› ä»–ä¸å¥½æ„æ€çš„æŒ äº†æŒ å¤´è¯´åˆ°ï¼šâ€œä¸æ˜¯å•Šï¼Œä¹‹å‰ä¸ä¼šçš„ï¼Œä¸ºäº†æ”¹å˜è‡ªå·±ä¹Ÿæ˜¯åå¤çœ‹äº†å¥½å‡ æ¬¡è§†å±æ•™ç¨‹æ‰ä¼šä¸€ç‚¹çš„ï¼›â€ï¼›æˆ‘è¯´åˆ°ï¼šâ€œè¿™æ±¤ä¸é”™ï¼Œä¸è…¥ä¸è…»â€ï¼›ä»–è¯´é“ï¼šâ€œè¦ä¸è¦å­¦ï¼Œå…è´¹çš„ï¼Œæˆ‘æ•™ä½ â€ï¼›ä¹‹åæˆ‘ä»¬åƒå®Œæ”¶æ‹¾å®Œä¹‹åï¼Œå°±åœ¨ä»–å®¶ä½äº†ä¸€æ™šä¸Šï¼›</p>\n<h2 id=\"ä»–è¿·èŒ«äº†\"><a href=\"#ä»–è¿·èŒ«äº†\" class=\"headerlink\" title=\"ä»–è¿·èŒ«äº†\"></a>ä»–è¿·èŒ«äº†</h2><p>ä»–çš„èŒä¸šæ˜¯ç¨‹åºå‘˜ï¼Œåˆå› ä¸ºæœ€è¿‘çš„å¤§ç¯å¢ƒä¸æ˜¯å¤ªå¥½ï¼Œå¯¹äºä»–æœ¬èº«æŒæ¡çš„èŒä¸šæŠ€èƒ½æ¥çœ‹ï¼Œè²Œä¼¼å¤§å¤§å°å°çš„ä¸œè¥¿ä¹Ÿåšäº†ä¸å°‘ï¼Œå¥½åƒæ˜¯åˆ°äº†ç“¶é¢ˆæœŸï¼›ä»–è·Ÿæˆ‘è¯´äº†è¿‘æœŸå®¶é‡Œäººå‚¬ä»–ç»“å©šçš„æƒ…å†µï¼Œåº”è¯¥ä¸ä¼šåœ¨ä¸Šæµ·å†å¾…å¾ˆé•¿ä¸€æ®µæ—¶é—´äº†ï¼Œå¯èƒ½å‡ å¹´å°±è¦å›åˆ°è€å®¶äº†ï¼›ä½†æ˜¯å›è€å®¶è¿·èŒ«äº†ï¼Œä¸Šæµ·çš„è–ªèµ„å¯ä»¥ç”Ÿæ´»çš„æ´¥æ´¥æœ‰å‘³ï¼Œä½†æ˜¯å›å»å°±è¦æ¥å—ç°å®æ¯ä¸ªæœˆä¸€åˆ†ä¸å‰©ï¼Œå†åŠ ä¸Šè½¦è´·æˆ¿è´·ä¹‹ç±»çš„åˆ°æ—¶å€™å¯èƒ½è¿˜éœ€è¦å€Ÿé’±å¼¥è¡¥ï¼›</p>\n<p>æˆ‘å¬åˆ°è¿™ï¼Œå¿ƒé‡Œæƒ³ä¹Ÿæ˜¯è¿™æ ·çš„æƒ…å†µï¼Œæ¯•ç«Ÿè€å®¶ä¸æ˜¯å¤§åŸå¸‚ï¼Œæ²¡æœ‰å¤§åŸå¸‚å…ˆè¿›çš„æŠ€æœ¯ï¼Œç›¸å¯¹äºå°åŸå¸‚çš„æŠ€æœ¯ä¿å®ˆå·²ç»å¤Ÿç”¨äº†ï¼Œä¸ä¼šåœ¨èŠ±è´¹å¤§ä»£ä»·å»ç ”ç©¶æ–°æŠ€æœ¯ç­‰ï¼›è¿™æ ·çš„æƒ…å†µçš„è¯è–ªèµ„å°±å¾ˆä½å¾ˆä½äº†ï¼›</p>\n<p>æˆ‘å¯¹ä»–è¯´ï¼šâ€œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¤šäººéƒ½åœ¨è¿·èŒ«çš„é—®é¢˜ï¼Œå¦‚æœç»§ç»­åœ¨å¤§åŸå¸‚ç”Ÿæ´»ï¼ŒçŸ­æ—¶é—´å†…ç”Ÿæ´»çš„æ´¥æ´¥æœ‰å‘³ï¼Œä½†æ˜¯æ—¶é—´ä¸€ä¹…ä½ ä¹°ä¸èµ·æˆ¿ï¼Œä¹°ä¸èµ·ä¸Šæµ·çš„è½¦ç‰Œï¼Œå°±è¿ç­‰ä½ ç»“å©šäº†å¤«å¦»äºŒäººåœ¨ä¸Šæµ·ç”Ÿæ´»éƒ½ä¼šè§‰å¾—å‹åŠ›å¾ˆå¤§å¾ˆå¤§ï¼Œæœ‰äº†å­©å­ä¹‹åæ€»ä¸èƒ½è®©å­©å­è¾“åœ¨èµ·è·‘çº¿å§ï¼Œä»€ä¹ˆåŸ¹è®­ç­ï¼Œå…´è¶£çˆ±å¥½ç­ç­‰ç­‰å¯¹å¤§åŸå¸‚çš„è´¹ç”¨è¿˜æ˜¯å¾ˆå¤§çš„ï¼›å¦‚æœä½ å›è€å®¶äº†ï¼Œå¯èƒ½å·¥èµ„å°±æ˜¯å›ºå®šçš„ï¼Œæ²¡æœ‰å‡èŒåŠ è–ªçš„æœºä¼šï¼Œæ‰€æŠŠæ¡çš„æœºä¼šå¾ˆæ¸ºèŒ«ï¼›ä½†ç›¸å¯¹äºå¤§åŸå¸‚çš„èŠ±é”€ï¼Œå°åŸå¸‚çš„èŠ±é”€å¾ˆå°å¾ˆå°ï¼Œä½†æ˜¯è¿™æ ·æ¯ä¸ªæœˆè¿˜æ˜¯å‹’ç´§è£¤è…°å¸¦ï¼›â€</p>\n<p>èµ°ä»€ä¹ˆè·¯ï¼Œæ€ä¹ˆèµ°æ˜¯ä½ è‡ªå·±çš„æƒ³æ³•ï¼Œä¸åˆ«äººæ— å…³ï¼›è¦èµ°ä»€ä¹ˆè·¯ï¼Œæ€ä¹ˆé€‰æ‹©ï¼Œé€‰æ‹©æƒåœ¨ä½ ï¼›æˆ‘æ›¾ç»ä¹Ÿæœ‰è¿™ä¸ªæƒ³æ³•ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºå…ˆçæƒœç”Ÿæ´»å½“ä¸‹ä¸ºå‡†ï¼Œå…¶ä»–çš„åœ¨çœ‹è‡ªå·±çš„é€‰æ‹©å§ï¼›å½“ç„¶æ¯”äººä¸ä¼šå·¦å³çš„ä½ é€‰æ‹©ï¼Œè¿™ä¸ªåªæœ‰é è‡ªå·±äº†ï¼›</p>\n<p>ä½ è¦æƒ³å›è€å®¶ï¼Œç…§é¡¾çˆ¶æ¯é™ªä¼´çˆ¶æ¯ï¼Œäº²äººï¼Œé‚£ä½ è¦ä¹ˆèˆå¼ƒå¤§åŸå¸‚ï¼Œé‚£ä¹ˆè¿™æ ·ä½ å°±ä¼šé™ªä¼´çˆ¶æ¯èº«è¾¹äº†ï¼Œä½ æƒ³å¾—åˆ°å¾ˆå¤šä»·å€¼ï¼Œé‚£ä¹ˆä½ å°±åªèƒ½ç”Ÿæ´»åœ¨å¤§åŸå¸‚ï¼Œç›¸å¯¹äºå°åŸå¸‚å¤§åŸå¸‚çš„æœºä¼šä¼šæ›´å¤§ä¸€äº›ï¼›</p>\n<p>â€œæ€ä¹ˆèˆï¼Œæ€ä¹ˆå¾—ï¼Œèˆå“ªäº›ï¼Œå¾—å“ªäº›â€ï¼Œæ€ä¹ˆé€‰æ‹©è¿˜æ˜¯çœ‹è‡ªå·±çš„æ–¹å‘äº†ï¼›ä¸è¿‡æˆ‘ç›¸ä¿¡ä½ æ€ä¹ˆé€‰æ‹©éƒ½ä¼šæœ‰å±äºè‡ªå·±çš„ä¸€ä»½å¹¸ç¦ï¼›</p>\n<hr>\n<p>ç»­â€¦â€¦.</p>\n"},{"title":"ç”Ÿæ´»-äº”å¹´æ—¶é—´çš„èœ•å˜, ä»–å›æ¥äº†!","abbrlink":"56f60a88","date":"2023-10-08T01:05:01.000Z","_content":"\n# å‰è¨€\n\n**æˆ‘ä¹‹å‰å°±åœ¨æƒ³ æœ‰æ²¡æœ‰é‚£æ ·çš„ä¸€ç§äººå°±æ˜¯ï¼šå¹´å°‘è½»ç‹‚ï¼Œä»¥è‡ªæˆ‘ä¸ºä¸­å¿ƒï¼Œå½“çœŸæ­£å›å¤´çš„é‚£ä¸€åˆ»æ‰ä¼šæ”¾ä¸‹è¿‡å»çš„ç§ç§ï¼›ä»¥å¦ä¸€ç§èº«ä»½çæƒœå‰©ä¸‹çš„æ—¶é—´ï¼Œçæƒœç”Ÿæ´»ï¼›è¿‡ä¸‹è¿‡å»ï¼Œä¸ä¼šå†å»çº ç»“è¿‡å»çš„ç§ç§!**\n\nå¿ƒç†å­¦æœ‰ä¸€ç§å°±è¿™æ ·çš„ç»“è®ºï¼š**å¦‚æœä¸€ä¸ªäººçš„å†…å¿ƒå¾ˆå¼ºå¤§ï¼Œé‚£ä¹ˆä»–å°±ä¼šå¾ˆæ·¡ç„¶ï¼Œä¸ä¼šå› ä¸ºä¸€äº›äº‹æƒ…è€Œå½±å“è‡ªå·±ï¼Œä¹Ÿä¸ä¼šå› ä¸ºä¸€äº›äº‹æƒ…è€Œå½±å“è‡ªå·±ã€‚å¦‚æœä¸€ä¸ªäººå†…å¿ƒå¾ˆè„†å¼±ï¼Œé‚£ä¹ˆä»–å°±ä¼šå¾ˆæ•æ„Ÿï¼Œä¼šå› ä¸ºä¸€äº›äº‹æƒ…è€Œå½±å“è‡ªå·±ï¼Œå½±å“è‡ªå·±ã€‚å¦‚æœä¸€ä¸ªäººä¸æ„¿å›å¿†è¿‡å»èº²é¿è¿‡å»ï¼Œé‚£ä¹ˆä»–å°±ä¼šå¾ˆç—›è‹¦ï¼Œç—›è‹¦åˆ°æ— æ³•å¿å—ã€‚**\n\nè¿‘æœŸå·¥ä½œä¸æ˜¯å¤ªå¿™ï¼Œå»å’Œè€ W åƒäº†ä¸€é¡¿é¥­ï¼Œå½“æ—¶æˆ‘å°±æŠŠæˆ‘çš„ç–‘é—®è¯´äº†å‡ºæ¥ï¼šå¹´å°‘è½»ç‹‚ä»¥è‡ªæˆ‘ä¸ºä¸­å¿ƒï¼Œåé¢å› ä¸ºä¸€ä»¶äº‹æ”¾ä¸‹äº†è¿‡å»çš„ç§ç§ä¸ä¼šå†å»æŠ˜ç£¨è‡ªå·±ï¼›\n\nä»–è¯´è¿™æ ·çš„äººæ˜¯å­˜åœ¨ï¼šå¾€å¾€è¿™æ ·äººéƒ½æ˜¯å¾ˆå‰å®³çš„ï¼ŒæŠ˜ç£¨çº ç»“è‡ªå·±è¿™ä¹ˆé•¿æ—¶é—´çš„äººï¼Œäº‹ï¼Œç‰©ç­‰ç­‰ï¼›èƒ½åœ¨è¾ƒé•¿çš„æ—¶é—´å»å¿˜è®°ï¼Œæ”¾ä¸‹ï¼Œé‡æ–°å¼€å§‹;ä¸éš¾ä¸ºä¸€ç§å¤§æ™ºæ…§ï¼›\n\nä»–åæ¥åˆå’Œæˆ‘åˆ†äº«äº†ä¸€ä»¶ä»–çš„äº‹æƒ…ï¼šè€ w ç¡®å®ä¹Ÿæ˜¯è¿™æ ·ä¸€ç§äººï¼Œä»–å¹´è½»çš„æ—¶å€™ï¼Œå¾ˆè½»ç‹‚ï¼Œå¾ˆè‡ªå¤§ï¼Œå¾ˆè‡ªæˆ‘ï¼Œä»¥è‡ªæˆ‘ä¸ºä¸­å¿ƒï¼Œå¹¶ä¸ä¼šå»ç…§é¡¾å…¶ä»–çš„äººä¸€äº›æ„Ÿå—ï¼Œä¸€äº›äº‹æƒ…ä»–éƒ½æ˜¯æ”¾åœ¨å†…å¿ƒä¸–ç•Œï¼Œæƒ³è¦ä»ä»–å˜´é‡Œå¥—å‡ºç‚¹ä»€ä¹ˆåŸºæœ¬ä¸å¯èƒ½ï¼›\n\nä»–å¹´è½»çš„æ—¶å€™ï¼Œé‚£æ—¶å€™çš„ä»–ç®€ç›´æ˜¯å°é­”ç‹ï¼Œå›é€†çš„å¾ˆï¼›è€å®¶ç››è¡Œèµ¶é›†ï¼Œæ²¡åˆ°ä¸€å®šçš„æ—¶é—´å°±ä¼šåœ¨æ‘é‡Œè¿›è¡Œèµ¶é›†ï¼Œå½“æ—¶ä»–å’Œå®¶é‡Œäººå»äº†è¿œåœ¨ 10km çš„å§‘å§‘å®¶ï¼Œå› ä¸ºé‚£ä¸ªæ—¶é—´ä»–è¿·æ‹ç”µè„‘ï¼Œæ­£å¥½ä»–å§‘å§‘å®¶æœ‰ç”µè„‘ï¼Œä»–æƒ³å»ç©è¢«å®¶é‡Œäººé˜»æ­¢äº†ï¼›å¥½è¯´æ­¹è¯´å°±æ˜¯ä¸è®©ç©ï¼Œç»“æœä»–â€œç¦»å®¶å‡ºèµ°äº†â€ï¼Œç«Ÿç„¶åœ¨å†œæ‘çš„ç”°åœ°äº†èµ°äº†å°†è¿‘ 12km çš„è·¯ç¨‹å›å®¶äº†ï¼›é‚£ä¸ªæ—¶é—´äº²æˆšé•¿è¾ˆéƒ½åœ¨æ‰¾ä»–ï¼Œç»“æœæ‘é‡Œäººæ‰“ç”µè¯è¯´ä»–å·²ç»å›æ¥äº†ï¼›\n\nç­‰åˆ°å®¶é‡Œäººéª‘ç€æ‘©æ‰˜å›å»ä¹‹åï¼Œè‚¯å®šå…ä¸äº†ä¸€é¡¿â€œçš®é­ç‚’è‚‰ä¸â€ï¼›\n\né‚£æ—¶å€™ä»–è¿˜æ˜¯ä¸ªå°‘å¹´ï¼Œä»–ä»¥ä¸ºè‡ªå·±å¾ˆç‰›é€¼ï¼Œä»¥ä¸ºè‡ªå·±å¾ˆå‰å®³ï¼Œä»¥ä¸ºè‡ªå·±å¾ˆè‡ªæˆ‘ï¼›ç»“æœæ¢æ¥çš„æ˜¯ä¸€é¡¿æ¯’æ‰“ï¼›\n\né‚£æˆ‘é—®ä»–ï¼šå¦‚æœæ¢æˆç°åœ¨ï¼Œä»–ä¼šè¿™æ ·å—ï¼Ÿä»–è¯´ï¼šä¸ä¼šï¼›å› ä¸ºè°éƒ½å¸Œæœ›åˆ«äººèƒ½ä½“è°…è‡ªå·±ï¼Œå¦‚æœåˆ«äººä¸ä½“è°…ï¼Œé‚£è‡ªå·±ä¹Ÿä¸ä½“è°…ï¼›è°è¿˜æ„¿æ„å†åƒä¸€é¡¿æ¯’æ‰“å‘¢~ï¼ æˆ‘ä»ä»–çš„çœ¼ç¥é‡Œé¢çœ‹å‡ºäº†ä¸€ç§å‡„å‡‰ï¼Œæ„Ÿä¼¤!\n\nä¸è¿‡ï¼Œç°åœ¨æˆ‘èƒ½æ„Ÿè§‰å‡ºæ¥ä»–ä¼¼ä¹ä»¥å·²ç»å‘Šåˆ«äº†è¿‡å»äº†ï¼›ä¸åœ¨æ˜¯é‚£ä¸ªå¤©å¤©æƒ¦è®°çš„å°å­©å­äº†\n\nè€ w è¯´æ›¾ç»èŠ±äº†å¾ˆä¹…çš„æ—¶é—´å°è¯•çš„è¿™æ”¾ä¸‹è¿‡å»çš„ç§ç§ï¼Œä½†æ˜¯ç”±äºè‡ªå·±çš„æ€§æ ¼ï¼Œè¿˜æ˜¯å¾ˆéš¾æ”¾ä¸‹ï¼Œå¾ˆéš¾å¿˜è®°ï¼›ä»–æ˜¯æ€€æ—§çš„äººï¼Œè®©ä¸€ä¸ªæ€€æ—§çš„äººå»å¿˜å´è¿‡å»ï¼Œæ”¾è¿‡è‡ªå·±å†å»é‡æ–°ç”Ÿæ´»ï¼Œé‚£å¯¹ä»–æ¥è¯´ç»å¯¹æ˜¯åšä¸åˆ°çš„ï¼›\n\nä»–å¹´è½»çš„æ—¶å€™ä¹Ÿä¸åƒç°åœ¨ä¸€æ ·æˆç†Ÿç¨³é‡ï¼Œè„¾æ°”ä¸å¥½ï¼Œä¹Ÿå¾ˆå†²åŠ¨ï¼Œä½†æ˜¯ç°åœ¨ä»–å˜å¾—æˆç†Ÿäº†ï¼Œä¹Ÿå˜å¾—æ¸©æŸ”äº†ï¼Œä¹Ÿå˜å¾—æœ‰è€å¿ƒäº†ï¼Œä¹Ÿå˜å¾—æœ‰è€å¿ƒäº†ï¼Œä»–çŸ¥é“æ€ä¹ˆå»ä½“è°…åˆ«äººï¼Œæ€ä¹ˆå»ç…§é¡¾åˆ«äººçš„æ„Ÿå—ï¼Œæ€ä¹ˆå»ç†è§£åˆ«äººï¼Œæ€ä¹ˆå»å°Šé‡åˆ«äººï¼›\n\næˆ‘æ²¡æœ‰é—®ä»–ç©¶ç«Ÿæ˜¯é‡åˆ°äº†ä»€ä¹ˆäº‹æƒ…ï¼Œè®©ä»–æ”¾ä¸‹è¿‡å»ï¼Œé‡æ–°å¼€å§‹ï¼Œè¿˜æ˜¯è¯´ä»–ä¸€ç›´éƒ½åœ¨åŠªåŠ›;\n\nå› ä¸ºæ¯ä¸ªäººéƒ½ä¼šæœ‰ä¸æƒ³è¯‰è¯´çš„äº‹æƒ…ï¼Œä¸æƒ³å›å¿†çš„äº‹æƒ…ï¼Œä¸æƒ³å»è¯´ï¼Œä½†æ˜¯åˆä¸å¾—ä¸å»è¯´;äº”å¹´ç£¨ä¸€äººï¼Œä¸è®ºæ˜¯æ€§æ ¼è¿˜æ˜¯è„¾æ°”è¿˜æ˜¯å…¶ä»–ï¼›\n\nä¸è¿‡ç°åœ¨çš„ä»– å´è®©æˆ‘å¾ˆå°Šæ•¬ï¼Œä»–è®©æˆ‘è§‰å¾—ä»–æ˜¯ä¸€ä¸ªå¾ˆä¼˜ç§€çš„äººï¼›è¿™æ ·çš„ç²¾ç¥ï¼Œæ™ºæ…§ç¡®å®å€¼å¾—æˆ‘å­¦ä¹ çš„ï¼›äººéƒ½æ˜¯æœç€å‰é¢èµ°çš„ï¼Œè°ä¹Ÿä¸æ„¿æ„å›å¿†è‡ªå·±çš„é‚£æ®µä¸æƒ³å›å¿†çš„æ•…äº‹ï¼›\n\nä¸è¿‡ï¼Œä»–èƒ½ä»ä¹‹å‰çš„å°é­”ç‹è½¬å¤´è½¬æ¢æˆå¦ä¸€äººï¼Œæˆ‘å°±å·²ç»è§‰å¾—å¾ˆå‰å®³äº†ï¼› å› ä¸ºè¿™æ ·çš„äººæ‹¥æœ‰å¤§æ™ºæ…§ï¼Œ ä¸ä¼šå› ä¸ºä¸€äº›äº‹æƒ…è€Œå½±å“è‡ªå·±ï¼›ä»–ç¡®å®å¾ˆåœ¨åŠªåŠ›çš„ç”Ÿæ´»ï¼›\n\nè™½ç„¶åˆ«äººè§‰å¾—ç®€å•ï¼Œå°±æ˜¯æ—¶é—´ä¸€é•¿ä»€ä¹ˆäº‹æƒ…å°±å¿˜äº†ï¼Œä½†æ˜¯å®é™…è¡ŒåŠ¨èµ·æ¥å¹¶æ²¡æœ‰å˜´ä¸Šè¯´çš„é‚£ä¹ˆç®€å•ï¼›æƒ³è¦ä¸€ä¸ªäººå®Œå…¨æ”¹å˜ï¼Œä¸æ˜¯è¯´æ—¶é—´é•¿äº†å°±è¡Œï¼Œä»–çš„æ”¹å˜çœŸçš„å°±åƒæ˜¯ä¿®ä»™å°è¯´é‡Œé¢ï¼Œè¢«äººæ€æ­»ï¼Œç„¶åé‡ç”Ÿï¼Œç„¶åä¿®æˆæ­£æœä¸€æ ·ï¼›æˆ–è€…è¯´è¢«å¤ºèˆï¼Œè™½ç„¶æœ‰ç€ä¹‹å‰çš„è®°å¿†ï¼Œä½†æ˜¯æ´»ä¸‹æ¥çš„ç¡®å®å¦å¤–çš„ä¸€ä¸ªäºº;\n","source":"_posts/ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/äº”å¹´æ—¶é—´çš„èœ•å˜, ä»–å›æ¥äº†!.md","raw":"---\ntitle: ç”Ÿæ´»-äº”å¹´æ—¶é—´çš„èœ•å˜, ä»–å›æ¥äº†!\nabbrlink: 56f60a88\ndate: 2023-10-08 09:05:01\ncategories:\n  - ç”Ÿæ´»æ—¥å¿—\ntags:\n  - ç”Ÿæ´»\n---\n\n# å‰è¨€\n\n**æˆ‘ä¹‹å‰å°±åœ¨æƒ³ æœ‰æ²¡æœ‰é‚£æ ·çš„ä¸€ç§äººå°±æ˜¯ï¼šå¹´å°‘è½»ç‹‚ï¼Œä»¥è‡ªæˆ‘ä¸ºä¸­å¿ƒï¼Œå½“çœŸæ­£å›å¤´çš„é‚£ä¸€åˆ»æ‰ä¼šæ”¾ä¸‹è¿‡å»çš„ç§ç§ï¼›ä»¥å¦ä¸€ç§èº«ä»½çæƒœå‰©ä¸‹çš„æ—¶é—´ï¼Œçæƒœç”Ÿæ´»ï¼›è¿‡ä¸‹è¿‡å»ï¼Œä¸ä¼šå†å»çº ç»“è¿‡å»çš„ç§ç§!**\n\nå¿ƒç†å­¦æœ‰ä¸€ç§å°±è¿™æ ·çš„ç»“è®ºï¼š**å¦‚æœä¸€ä¸ªäººçš„å†…å¿ƒå¾ˆå¼ºå¤§ï¼Œé‚£ä¹ˆä»–å°±ä¼šå¾ˆæ·¡ç„¶ï¼Œä¸ä¼šå› ä¸ºä¸€äº›äº‹æƒ…è€Œå½±å“è‡ªå·±ï¼Œä¹Ÿä¸ä¼šå› ä¸ºä¸€äº›äº‹æƒ…è€Œå½±å“è‡ªå·±ã€‚å¦‚æœä¸€ä¸ªäººå†…å¿ƒå¾ˆè„†å¼±ï¼Œé‚£ä¹ˆä»–å°±ä¼šå¾ˆæ•æ„Ÿï¼Œä¼šå› ä¸ºä¸€äº›äº‹æƒ…è€Œå½±å“è‡ªå·±ï¼Œå½±å“è‡ªå·±ã€‚å¦‚æœä¸€ä¸ªäººä¸æ„¿å›å¿†è¿‡å»èº²é¿è¿‡å»ï¼Œé‚£ä¹ˆä»–å°±ä¼šå¾ˆç—›è‹¦ï¼Œç—›è‹¦åˆ°æ— æ³•å¿å—ã€‚**\n\nè¿‘æœŸå·¥ä½œä¸æ˜¯å¤ªå¿™ï¼Œå»å’Œè€ W åƒäº†ä¸€é¡¿é¥­ï¼Œå½“æ—¶æˆ‘å°±æŠŠæˆ‘çš„ç–‘é—®è¯´äº†å‡ºæ¥ï¼šå¹´å°‘è½»ç‹‚ä»¥è‡ªæˆ‘ä¸ºä¸­å¿ƒï¼Œåé¢å› ä¸ºä¸€ä»¶äº‹æ”¾ä¸‹äº†è¿‡å»çš„ç§ç§ä¸ä¼šå†å»æŠ˜ç£¨è‡ªå·±ï¼›\n\nä»–è¯´è¿™æ ·çš„äººæ˜¯å­˜åœ¨ï¼šå¾€å¾€è¿™æ ·äººéƒ½æ˜¯å¾ˆå‰å®³çš„ï¼ŒæŠ˜ç£¨çº ç»“è‡ªå·±è¿™ä¹ˆé•¿æ—¶é—´çš„äººï¼Œäº‹ï¼Œç‰©ç­‰ç­‰ï¼›èƒ½åœ¨è¾ƒé•¿çš„æ—¶é—´å»å¿˜è®°ï¼Œæ”¾ä¸‹ï¼Œé‡æ–°å¼€å§‹;ä¸éš¾ä¸ºä¸€ç§å¤§æ™ºæ…§ï¼›\n\nä»–åæ¥åˆå’Œæˆ‘åˆ†äº«äº†ä¸€ä»¶ä»–çš„äº‹æƒ…ï¼šè€ w ç¡®å®ä¹Ÿæ˜¯è¿™æ ·ä¸€ç§äººï¼Œä»–å¹´è½»çš„æ—¶å€™ï¼Œå¾ˆè½»ç‹‚ï¼Œå¾ˆè‡ªå¤§ï¼Œå¾ˆè‡ªæˆ‘ï¼Œä»¥è‡ªæˆ‘ä¸ºä¸­å¿ƒï¼Œå¹¶ä¸ä¼šå»ç…§é¡¾å…¶ä»–çš„äººä¸€äº›æ„Ÿå—ï¼Œä¸€äº›äº‹æƒ…ä»–éƒ½æ˜¯æ”¾åœ¨å†…å¿ƒä¸–ç•Œï¼Œæƒ³è¦ä»ä»–å˜´é‡Œå¥—å‡ºç‚¹ä»€ä¹ˆåŸºæœ¬ä¸å¯èƒ½ï¼›\n\nä»–å¹´è½»çš„æ—¶å€™ï¼Œé‚£æ—¶å€™çš„ä»–ç®€ç›´æ˜¯å°é­”ç‹ï¼Œå›é€†çš„å¾ˆï¼›è€å®¶ç››è¡Œèµ¶é›†ï¼Œæ²¡åˆ°ä¸€å®šçš„æ—¶é—´å°±ä¼šåœ¨æ‘é‡Œè¿›è¡Œèµ¶é›†ï¼Œå½“æ—¶ä»–å’Œå®¶é‡Œäººå»äº†è¿œåœ¨ 10km çš„å§‘å§‘å®¶ï¼Œå› ä¸ºé‚£ä¸ªæ—¶é—´ä»–è¿·æ‹ç”µè„‘ï¼Œæ­£å¥½ä»–å§‘å§‘å®¶æœ‰ç”µè„‘ï¼Œä»–æƒ³å»ç©è¢«å®¶é‡Œäººé˜»æ­¢äº†ï¼›å¥½è¯´æ­¹è¯´å°±æ˜¯ä¸è®©ç©ï¼Œç»“æœä»–â€œç¦»å®¶å‡ºèµ°äº†â€ï¼Œç«Ÿç„¶åœ¨å†œæ‘çš„ç”°åœ°äº†èµ°äº†å°†è¿‘ 12km çš„è·¯ç¨‹å›å®¶äº†ï¼›é‚£ä¸ªæ—¶é—´äº²æˆšé•¿è¾ˆéƒ½åœ¨æ‰¾ä»–ï¼Œç»“æœæ‘é‡Œäººæ‰“ç”µè¯è¯´ä»–å·²ç»å›æ¥äº†ï¼›\n\nç­‰åˆ°å®¶é‡Œäººéª‘ç€æ‘©æ‰˜å›å»ä¹‹åï¼Œè‚¯å®šå…ä¸äº†ä¸€é¡¿â€œçš®é­ç‚’è‚‰ä¸â€ï¼›\n\né‚£æ—¶å€™ä»–è¿˜æ˜¯ä¸ªå°‘å¹´ï¼Œä»–ä»¥ä¸ºè‡ªå·±å¾ˆç‰›é€¼ï¼Œä»¥ä¸ºè‡ªå·±å¾ˆå‰å®³ï¼Œä»¥ä¸ºè‡ªå·±å¾ˆè‡ªæˆ‘ï¼›ç»“æœæ¢æ¥çš„æ˜¯ä¸€é¡¿æ¯’æ‰“ï¼›\n\né‚£æˆ‘é—®ä»–ï¼šå¦‚æœæ¢æˆç°åœ¨ï¼Œä»–ä¼šè¿™æ ·å—ï¼Ÿä»–è¯´ï¼šä¸ä¼šï¼›å› ä¸ºè°éƒ½å¸Œæœ›åˆ«äººèƒ½ä½“è°…è‡ªå·±ï¼Œå¦‚æœåˆ«äººä¸ä½“è°…ï¼Œé‚£è‡ªå·±ä¹Ÿä¸ä½“è°…ï¼›è°è¿˜æ„¿æ„å†åƒä¸€é¡¿æ¯’æ‰“å‘¢~ï¼ æˆ‘ä»ä»–çš„çœ¼ç¥é‡Œé¢çœ‹å‡ºäº†ä¸€ç§å‡„å‡‰ï¼Œæ„Ÿä¼¤!\n\nä¸è¿‡ï¼Œç°åœ¨æˆ‘èƒ½æ„Ÿè§‰å‡ºæ¥ä»–ä¼¼ä¹ä»¥å·²ç»å‘Šåˆ«äº†è¿‡å»äº†ï¼›ä¸åœ¨æ˜¯é‚£ä¸ªå¤©å¤©æƒ¦è®°çš„å°å­©å­äº†\n\nè€ w è¯´æ›¾ç»èŠ±äº†å¾ˆä¹…çš„æ—¶é—´å°è¯•çš„è¿™æ”¾ä¸‹è¿‡å»çš„ç§ç§ï¼Œä½†æ˜¯ç”±äºè‡ªå·±çš„æ€§æ ¼ï¼Œè¿˜æ˜¯å¾ˆéš¾æ”¾ä¸‹ï¼Œå¾ˆéš¾å¿˜è®°ï¼›ä»–æ˜¯æ€€æ—§çš„äººï¼Œè®©ä¸€ä¸ªæ€€æ—§çš„äººå»å¿˜å´è¿‡å»ï¼Œæ”¾è¿‡è‡ªå·±å†å»é‡æ–°ç”Ÿæ´»ï¼Œé‚£å¯¹ä»–æ¥è¯´ç»å¯¹æ˜¯åšä¸åˆ°çš„ï¼›\n\nä»–å¹´è½»çš„æ—¶å€™ä¹Ÿä¸åƒç°åœ¨ä¸€æ ·æˆç†Ÿç¨³é‡ï¼Œè„¾æ°”ä¸å¥½ï¼Œä¹Ÿå¾ˆå†²åŠ¨ï¼Œä½†æ˜¯ç°åœ¨ä»–å˜å¾—æˆç†Ÿäº†ï¼Œä¹Ÿå˜å¾—æ¸©æŸ”äº†ï¼Œä¹Ÿå˜å¾—æœ‰è€å¿ƒäº†ï¼Œä¹Ÿå˜å¾—æœ‰è€å¿ƒäº†ï¼Œä»–çŸ¥é“æ€ä¹ˆå»ä½“è°…åˆ«äººï¼Œæ€ä¹ˆå»ç…§é¡¾åˆ«äººçš„æ„Ÿå—ï¼Œæ€ä¹ˆå»ç†è§£åˆ«äººï¼Œæ€ä¹ˆå»å°Šé‡åˆ«äººï¼›\n\næˆ‘æ²¡æœ‰é—®ä»–ç©¶ç«Ÿæ˜¯é‡åˆ°äº†ä»€ä¹ˆäº‹æƒ…ï¼Œè®©ä»–æ”¾ä¸‹è¿‡å»ï¼Œé‡æ–°å¼€å§‹ï¼Œè¿˜æ˜¯è¯´ä»–ä¸€ç›´éƒ½åœ¨åŠªåŠ›;\n\nå› ä¸ºæ¯ä¸ªäººéƒ½ä¼šæœ‰ä¸æƒ³è¯‰è¯´çš„äº‹æƒ…ï¼Œä¸æƒ³å›å¿†çš„äº‹æƒ…ï¼Œä¸æƒ³å»è¯´ï¼Œä½†æ˜¯åˆä¸å¾—ä¸å»è¯´;äº”å¹´ç£¨ä¸€äººï¼Œä¸è®ºæ˜¯æ€§æ ¼è¿˜æ˜¯è„¾æ°”è¿˜æ˜¯å…¶ä»–ï¼›\n\nä¸è¿‡ç°åœ¨çš„ä»– å´è®©æˆ‘å¾ˆå°Šæ•¬ï¼Œä»–è®©æˆ‘è§‰å¾—ä»–æ˜¯ä¸€ä¸ªå¾ˆä¼˜ç§€çš„äººï¼›è¿™æ ·çš„ç²¾ç¥ï¼Œæ™ºæ…§ç¡®å®å€¼å¾—æˆ‘å­¦ä¹ çš„ï¼›äººéƒ½æ˜¯æœç€å‰é¢èµ°çš„ï¼Œè°ä¹Ÿä¸æ„¿æ„å›å¿†è‡ªå·±çš„é‚£æ®µä¸æƒ³å›å¿†çš„æ•…äº‹ï¼›\n\nä¸è¿‡ï¼Œä»–èƒ½ä»ä¹‹å‰çš„å°é­”ç‹è½¬å¤´è½¬æ¢æˆå¦ä¸€äººï¼Œæˆ‘å°±å·²ç»è§‰å¾—å¾ˆå‰å®³äº†ï¼› å› ä¸ºè¿™æ ·çš„äººæ‹¥æœ‰å¤§æ™ºæ…§ï¼Œ ä¸ä¼šå› ä¸ºä¸€äº›äº‹æƒ…è€Œå½±å“è‡ªå·±ï¼›ä»–ç¡®å®å¾ˆåœ¨åŠªåŠ›çš„ç”Ÿæ´»ï¼›\n\nè™½ç„¶åˆ«äººè§‰å¾—ç®€å•ï¼Œå°±æ˜¯æ—¶é—´ä¸€é•¿ä»€ä¹ˆäº‹æƒ…å°±å¿˜äº†ï¼Œä½†æ˜¯å®é™…è¡ŒåŠ¨èµ·æ¥å¹¶æ²¡æœ‰å˜´ä¸Šè¯´çš„é‚£ä¹ˆç®€å•ï¼›æƒ³è¦ä¸€ä¸ªäººå®Œå…¨æ”¹å˜ï¼Œä¸æ˜¯è¯´æ—¶é—´é•¿äº†å°±è¡Œï¼Œä»–çš„æ”¹å˜çœŸçš„å°±åƒæ˜¯ä¿®ä»™å°è¯´é‡Œé¢ï¼Œè¢«äººæ€æ­»ï¼Œç„¶åé‡ç”Ÿï¼Œç„¶åä¿®æˆæ­£æœä¸€æ ·ï¼›æˆ–è€…è¯´è¢«å¤ºèˆï¼Œè™½ç„¶æœ‰ç€ä¹‹å‰çš„è®°å¿†ï¼Œä½†æ˜¯æ´»ä¸‹æ¥çš„ç¡®å®å¦å¤–çš„ä¸€ä¸ªäºº;\n","slug":"ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/äº”å¹´æ—¶é—´çš„èœ•å˜, ä»–å›æ¥äº†!","published":1,"updated":"2025-03-12T10:06:46.480Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j30054fg9m9ue66cz9","content":"<h1 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h1><p><strong>æˆ‘ä¹‹å‰å°±åœ¨æƒ³ æœ‰æ²¡æœ‰é‚£æ ·çš„ä¸€ç§äººå°±æ˜¯ï¼šå¹´å°‘è½»ç‹‚ï¼Œä»¥è‡ªæˆ‘ä¸ºä¸­å¿ƒï¼Œå½“çœŸæ­£å›å¤´çš„é‚£ä¸€åˆ»æ‰ä¼šæ”¾ä¸‹è¿‡å»çš„ç§ç§ï¼›ä»¥å¦ä¸€ç§èº«ä»½çæƒœå‰©ä¸‹çš„æ—¶é—´ï¼Œçæƒœç”Ÿæ´»ï¼›è¿‡ä¸‹è¿‡å»ï¼Œä¸ä¼šå†å»çº ç»“è¿‡å»çš„ç§ç§!</strong></p>\n<p>å¿ƒç†å­¦æœ‰ä¸€ç§å°±è¿™æ ·çš„ç»“è®ºï¼š<strong>å¦‚æœä¸€ä¸ªäººçš„å†…å¿ƒå¾ˆå¼ºå¤§ï¼Œé‚£ä¹ˆä»–å°±ä¼šå¾ˆæ·¡ç„¶ï¼Œä¸ä¼šå› ä¸ºä¸€äº›äº‹æƒ…è€Œå½±å“è‡ªå·±ï¼Œä¹Ÿä¸ä¼šå› ä¸ºä¸€äº›äº‹æƒ…è€Œå½±å“è‡ªå·±ã€‚å¦‚æœä¸€ä¸ªäººå†…å¿ƒå¾ˆè„†å¼±ï¼Œé‚£ä¹ˆä»–å°±ä¼šå¾ˆæ•æ„Ÿï¼Œä¼šå› ä¸ºä¸€äº›äº‹æƒ…è€Œå½±å“è‡ªå·±ï¼Œå½±å“è‡ªå·±ã€‚å¦‚æœä¸€ä¸ªäººä¸æ„¿å›å¿†è¿‡å»èº²é¿è¿‡å»ï¼Œé‚£ä¹ˆä»–å°±ä¼šå¾ˆç—›è‹¦ï¼Œç—›è‹¦åˆ°æ— æ³•å¿å—ã€‚</strong></p>\n<p>è¿‘æœŸå·¥ä½œä¸æ˜¯å¤ªå¿™ï¼Œå»å’Œè€ W åƒäº†ä¸€é¡¿é¥­ï¼Œå½“æ—¶æˆ‘å°±æŠŠæˆ‘çš„ç–‘é—®è¯´äº†å‡ºæ¥ï¼šå¹´å°‘è½»ç‹‚ä»¥è‡ªæˆ‘ä¸ºä¸­å¿ƒï¼Œåé¢å› ä¸ºä¸€ä»¶äº‹æ”¾ä¸‹äº†è¿‡å»çš„ç§ç§ä¸ä¼šå†å»æŠ˜ç£¨è‡ªå·±ï¼›</p>\n<p>ä»–è¯´è¿™æ ·çš„äººæ˜¯å­˜åœ¨ï¼šå¾€å¾€è¿™æ ·äººéƒ½æ˜¯å¾ˆå‰å®³çš„ï¼ŒæŠ˜ç£¨çº ç»“è‡ªå·±è¿™ä¹ˆé•¿æ—¶é—´çš„äººï¼Œäº‹ï¼Œç‰©ç­‰ç­‰ï¼›èƒ½åœ¨è¾ƒé•¿çš„æ—¶é—´å»å¿˜è®°ï¼Œæ”¾ä¸‹ï¼Œé‡æ–°å¼€å§‹;ä¸éš¾ä¸ºä¸€ç§å¤§æ™ºæ…§ï¼›</p>\n<p>ä»–åæ¥åˆå’Œæˆ‘åˆ†äº«äº†ä¸€ä»¶ä»–çš„äº‹æƒ…ï¼šè€ w ç¡®å®ä¹Ÿæ˜¯è¿™æ ·ä¸€ç§äººï¼Œä»–å¹´è½»çš„æ—¶å€™ï¼Œå¾ˆè½»ç‹‚ï¼Œå¾ˆè‡ªå¤§ï¼Œå¾ˆè‡ªæˆ‘ï¼Œä»¥è‡ªæˆ‘ä¸ºä¸­å¿ƒï¼Œå¹¶ä¸ä¼šå»ç…§é¡¾å…¶ä»–çš„äººä¸€äº›æ„Ÿå—ï¼Œä¸€äº›äº‹æƒ…ä»–éƒ½æ˜¯æ”¾åœ¨å†…å¿ƒä¸–ç•Œï¼Œæƒ³è¦ä»ä»–å˜´é‡Œå¥—å‡ºç‚¹ä»€ä¹ˆåŸºæœ¬ä¸å¯èƒ½ï¼›</p>\n<p>ä»–å¹´è½»çš„æ—¶å€™ï¼Œé‚£æ—¶å€™çš„ä»–ç®€ç›´æ˜¯å°é­”ç‹ï¼Œå›é€†çš„å¾ˆï¼›è€å®¶ç››è¡Œèµ¶é›†ï¼Œæ²¡åˆ°ä¸€å®šçš„æ—¶é—´å°±ä¼šåœ¨æ‘é‡Œè¿›è¡Œèµ¶é›†ï¼Œå½“æ—¶ä»–å’Œå®¶é‡Œäººå»äº†è¿œåœ¨ 10km çš„å§‘å§‘å®¶ï¼Œå› ä¸ºé‚£ä¸ªæ—¶é—´ä»–è¿·æ‹ç”µè„‘ï¼Œæ­£å¥½ä»–å§‘å§‘å®¶æœ‰ç”µè„‘ï¼Œä»–æƒ³å»ç©è¢«å®¶é‡Œäººé˜»æ­¢äº†ï¼›å¥½è¯´æ­¹è¯´å°±æ˜¯ä¸è®©ç©ï¼Œç»“æœä»–â€œç¦»å®¶å‡ºèµ°äº†â€ï¼Œç«Ÿç„¶åœ¨å†œæ‘çš„ç”°åœ°äº†èµ°äº†å°†è¿‘ 12km çš„è·¯ç¨‹å›å®¶äº†ï¼›é‚£ä¸ªæ—¶é—´äº²æˆšé•¿è¾ˆéƒ½åœ¨æ‰¾ä»–ï¼Œç»“æœæ‘é‡Œäººæ‰“ç”µè¯è¯´ä»–å·²ç»å›æ¥äº†ï¼›</p>\n<p>ç­‰åˆ°å®¶é‡Œäººéª‘ç€æ‘©æ‰˜å›å»ä¹‹åï¼Œè‚¯å®šå…ä¸äº†ä¸€é¡¿â€œçš®é­ç‚’è‚‰ä¸â€ï¼›</p>\n<p>é‚£æ—¶å€™ä»–è¿˜æ˜¯ä¸ªå°‘å¹´ï¼Œä»–ä»¥ä¸ºè‡ªå·±å¾ˆç‰›é€¼ï¼Œä»¥ä¸ºè‡ªå·±å¾ˆå‰å®³ï¼Œä»¥ä¸ºè‡ªå·±å¾ˆè‡ªæˆ‘ï¼›ç»“æœæ¢æ¥çš„æ˜¯ä¸€é¡¿æ¯’æ‰“ï¼›</p>\n<p>é‚£æˆ‘é—®ä»–ï¼šå¦‚æœæ¢æˆç°åœ¨ï¼Œä»–ä¼šè¿™æ ·å—ï¼Ÿä»–è¯´ï¼šä¸ä¼šï¼›å› ä¸ºè°éƒ½å¸Œæœ›åˆ«äººèƒ½ä½“è°…è‡ªå·±ï¼Œå¦‚æœåˆ«äººä¸ä½“è°…ï¼Œé‚£è‡ªå·±ä¹Ÿä¸ä½“è°…ï¼›è°è¿˜æ„¿æ„å†åƒä¸€é¡¿æ¯’æ‰“å‘¢~ï¼ æˆ‘ä»ä»–çš„çœ¼ç¥é‡Œé¢çœ‹å‡ºäº†ä¸€ç§å‡„å‡‰ï¼Œæ„Ÿä¼¤!</p>\n<p>ä¸è¿‡ï¼Œç°åœ¨æˆ‘èƒ½æ„Ÿè§‰å‡ºæ¥ä»–ä¼¼ä¹ä»¥å·²ç»å‘Šåˆ«äº†è¿‡å»äº†ï¼›ä¸åœ¨æ˜¯é‚£ä¸ªå¤©å¤©æƒ¦è®°çš„å°å­©å­äº†</p>\n<p>è€ w è¯´æ›¾ç»èŠ±äº†å¾ˆä¹…çš„æ—¶é—´å°è¯•çš„è¿™æ”¾ä¸‹è¿‡å»çš„ç§ç§ï¼Œä½†æ˜¯ç”±äºè‡ªå·±çš„æ€§æ ¼ï¼Œè¿˜æ˜¯å¾ˆéš¾æ”¾ä¸‹ï¼Œå¾ˆéš¾å¿˜è®°ï¼›ä»–æ˜¯æ€€æ—§çš„äººï¼Œè®©ä¸€ä¸ªæ€€æ—§çš„äººå»å¿˜å´è¿‡å»ï¼Œæ”¾è¿‡è‡ªå·±å†å»é‡æ–°ç”Ÿæ´»ï¼Œé‚£å¯¹ä»–æ¥è¯´ç»å¯¹æ˜¯åšä¸åˆ°çš„ï¼›</p>\n<p>ä»–å¹´è½»çš„æ—¶å€™ä¹Ÿä¸åƒç°åœ¨ä¸€æ ·æˆç†Ÿç¨³é‡ï¼Œè„¾æ°”ä¸å¥½ï¼Œä¹Ÿå¾ˆå†²åŠ¨ï¼Œä½†æ˜¯ç°åœ¨ä»–å˜å¾—æˆç†Ÿäº†ï¼Œä¹Ÿå˜å¾—æ¸©æŸ”äº†ï¼Œä¹Ÿå˜å¾—æœ‰è€å¿ƒäº†ï¼Œä¹Ÿå˜å¾—æœ‰è€å¿ƒäº†ï¼Œä»–çŸ¥é“æ€ä¹ˆå»ä½“è°…åˆ«äººï¼Œæ€ä¹ˆå»ç…§é¡¾åˆ«äººçš„æ„Ÿå—ï¼Œæ€ä¹ˆå»ç†è§£åˆ«äººï¼Œæ€ä¹ˆå»å°Šé‡åˆ«äººï¼›</p>\n<p>æˆ‘æ²¡æœ‰é—®ä»–ç©¶ç«Ÿæ˜¯é‡åˆ°äº†ä»€ä¹ˆäº‹æƒ…ï¼Œè®©ä»–æ”¾ä¸‹è¿‡å»ï¼Œé‡æ–°å¼€å§‹ï¼Œè¿˜æ˜¯è¯´ä»–ä¸€ç›´éƒ½åœ¨åŠªåŠ›;</p>\n<p>å› ä¸ºæ¯ä¸ªäººéƒ½ä¼šæœ‰ä¸æƒ³è¯‰è¯´çš„äº‹æƒ…ï¼Œä¸æƒ³å›å¿†çš„äº‹æƒ…ï¼Œä¸æƒ³å»è¯´ï¼Œä½†æ˜¯åˆä¸å¾—ä¸å»è¯´;äº”å¹´ç£¨ä¸€äººï¼Œä¸è®ºæ˜¯æ€§æ ¼è¿˜æ˜¯è„¾æ°”è¿˜æ˜¯å…¶ä»–ï¼›</p>\n<p>ä¸è¿‡ç°åœ¨çš„ä»– å´è®©æˆ‘å¾ˆå°Šæ•¬ï¼Œä»–è®©æˆ‘è§‰å¾—ä»–æ˜¯ä¸€ä¸ªå¾ˆä¼˜ç§€çš„äººï¼›è¿™æ ·çš„ç²¾ç¥ï¼Œæ™ºæ…§ç¡®å®å€¼å¾—æˆ‘å­¦ä¹ çš„ï¼›äººéƒ½æ˜¯æœç€å‰é¢èµ°çš„ï¼Œè°ä¹Ÿä¸æ„¿æ„å›å¿†è‡ªå·±çš„é‚£æ®µä¸æƒ³å›å¿†çš„æ•…äº‹ï¼›</p>\n<p>ä¸è¿‡ï¼Œä»–èƒ½ä»ä¹‹å‰çš„å°é­”ç‹è½¬å¤´è½¬æ¢æˆå¦ä¸€äººï¼Œæˆ‘å°±å·²ç»è§‰å¾—å¾ˆå‰å®³äº†ï¼› å› ä¸ºè¿™æ ·çš„äººæ‹¥æœ‰å¤§æ™ºæ…§ï¼Œ ä¸ä¼šå› ä¸ºä¸€äº›äº‹æƒ…è€Œå½±å“è‡ªå·±ï¼›ä»–ç¡®å®å¾ˆåœ¨åŠªåŠ›çš„ç”Ÿæ´»ï¼›</p>\n<p>è™½ç„¶åˆ«äººè§‰å¾—ç®€å•ï¼Œå°±æ˜¯æ—¶é—´ä¸€é•¿ä»€ä¹ˆäº‹æƒ…å°±å¿˜äº†ï¼Œä½†æ˜¯å®é™…è¡ŒåŠ¨èµ·æ¥å¹¶æ²¡æœ‰å˜´ä¸Šè¯´çš„é‚£ä¹ˆç®€å•ï¼›æƒ³è¦ä¸€ä¸ªäººå®Œå…¨æ”¹å˜ï¼Œä¸æ˜¯è¯´æ—¶é—´é•¿äº†å°±è¡Œï¼Œä»–çš„æ”¹å˜çœŸçš„å°±åƒæ˜¯ä¿®ä»™å°è¯´é‡Œé¢ï¼Œè¢«äººæ€æ­»ï¼Œç„¶åé‡ç”Ÿï¼Œç„¶åä¿®æˆæ­£æœä¸€æ ·ï¼›æˆ–è€…è¯´è¢«å¤ºèˆï¼Œè™½ç„¶æœ‰ç€ä¹‹å‰çš„è®°å¿†ï¼Œä½†æ˜¯æ´»ä¸‹æ¥çš„ç¡®å®å¦å¤–çš„ä¸€ä¸ªäºº;</p>\n","excerpt":"","more":"<h1 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h1><p><strong>æˆ‘ä¹‹å‰å°±åœ¨æƒ³ æœ‰æ²¡æœ‰é‚£æ ·çš„ä¸€ç§äººå°±æ˜¯ï¼šå¹´å°‘è½»ç‹‚ï¼Œä»¥è‡ªæˆ‘ä¸ºä¸­å¿ƒï¼Œå½“çœŸæ­£å›å¤´çš„é‚£ä¸€åˆ»æ‰ä¼šæ”¾ä¸‹è¿‡å»çš„ç§ç§ï¼›ä»¥å¦ä¸€ç§èº«ä»½çæƒœå‰©ä¸‹çš„æ—¶é—´ï¼Œçæƒœç”Ÿæ´»ï¼›è¿‡ä¸‹è¿‡å»ï¼Œä¸ä¼šå†å»çº ç»“è¿‡å»çš„ç§ç§!</strong></p>\n<p>å¿ƒç†å­¦æœ‰ä¸€ç§å°±è¿™æ ·çš„ç»“è®ºï¼š<strong>å¦‚æœä¸€ä¸ªäººçš„å†…å¿ƒå¾ˆå¼ºå¤§ï¼Œé‚£ä¹ˆä»–å°±ä¼šå¾ˆæ·¡ç„¶ï¼Œä¸ä¼šå› ä¸ºä¸€äº›äº‹æƒ…è€Œå½±å“è‡ªå·±ï¼Œä¹Ÿä¸ä¼šå› ä¸ºä¸€äº›äº‹æƒ…è€Œå½±å“è‡ªå·±ã€‚å¦‚æœä¸€ä¸ªäººå†…å¿ƒå¾ˆè„†å¼±ï¼Œé‚£ä¹ˆä»–å°±ä¼šå¾ˆæ•æ„Ÿï¼Œä¼šå› ä¸ºä¸€äº›äº‹æƒ…è€Œå½±å“è‡ªå·±ï¼Œå½±å“è‡ªå·±ã€‚å¦‚æœä¸€ä¸ªäººä¸æ„¿å›å¿†è¿‡å»èº²é¿è¿‡å»ï¼Œé‚£ä¹ˆä»–å°±ä¼šå¾ˆç—›è‹¦ï¼Œç—›è‹¦åˆ°æ— æ³•å¿å—ã€‚</strong></p>\n<p>è¿‘æœŸå·¥ä½œä¸æ˜¯å¤ªå¿™ï¼Œå»å’Œè€ W åƒäº†ä¸€é¡¿é¥­ï¼Œå½“æ—¶æˆ‘å°±æŠŠæˆ‘çš„ç–‘é—®è¯´äº†å‡ºæ¥ï¼šå¹´å°‘è½»ç‹‚ä»¥è‡ªæˆ‘ä¸ºä¸­å¿ƒï¼Œåé¢å› ä¸ºä¸€ä»¶äº‹æ”¾ä¸‹äº†è¿‡å»çš„ç§ç§ä¸ä¼šå†å»æŠ˜ç£¨è‡ªå·±ï¼›</p>\n<p>ä»–è¯´è¿™æ ·çš„äººæ˜¯å­˜åœ¨ï¼šå¾€å¾€è¿™æ ·äººéƒ½æ˜¯å¾ˆå‰å®³çš„ï¼ŒæŠ˜ç£¨çº ç»“è‡ªå·±è¿™ä¹ˆé•¿æ—¶é—´çš„äººï¼Œäº‹ï¼Œç‰©ç­‰ç­‰ï¼›èƒ½åœ¨è¾ƒé•¿çš„æ—¶é—´å»å¿˜è®°ï¼Œæ”¾ä¸‹ï¼Œé‡æ–°å¼€å§‹;ä¸éš¾ä¸ºä¸€ç§å¤§æ™ºæ…§ï¼›</p>\n<p>ä»–åæ¥åˆå’Œæˆ‘åˆ†äº«äº†ä¸€ä»¶ä»–çš„äº‹æƒ…ï¼šè€ w ç¡®å®ä¹Ÿæ˜¯è¿™æ ·ä¸€ç§äººï¼Œä»–å¹´è½»çš„æ—¶å€™ï¼Œå¾ˆè½»ç‹‚ï¼Œå¾ˆè‡ªå¤§ï¼Œå¾ˆè‡ªæˆ‘ï¼Œä»¥è‡ªæˆ‘ä¸ºä¸­å¿ƒï¼Œå¹¶ä¸ä¼šå»ç…§é¡¾å…¶ä»–çš„äººä¸€äº›æ„Ÿå—ï¼Œä¸€äº›äº‹æƒ…ä»–éƒ½æ˜¯æ”¾åœ¨å†…å¿ƒä¸–ç•Œï¼Œæƒ³è¦ä»ä»–å˜´é‡Œå¥—å‡ºç‚¹ä»€ä¹ˆåŸºæœ¬ä¸å¯èƒ½ï¼›</p>\n<p>ä»–å¹´è½»çš„æ—¶å€™ï¼Œé‚£æ—¶å€™çš„ä»–ç®€ç›´æ˜¯å°é­”ç‹ï¼Œå›é€†çš„å¾ˆï¼›è€å®¶ç››è¡Œèµ¶é›†ï¼Œæ²¡åˆ°ä¸€å®šçš„æ—¶é—´å°±ä¼šåœ¨æ‘é‡Œè¿›è¡Œèµ¶é›†ï¼Œå½“æ—¶ä»–å’Œå®¶é‡Œäººå»äº†è¿œåœ¨ 10km çš„å§‘å§‘å®¶ï¼Œå› ä¸ºé‚£ä¸ªæ—¶é—´ä»–è¿·æ‹ç”µè„‘ï¼Œæ­£å¥½ä»–å§‘å§‘å®¶æœ‰ç”µè„‘ï¼Œä»–æƒ³å»ç©è¢«å®¶é‡Œäººé˜»æ­¢äº†ï¼›å¥½è¯´æ­¹è¯´å°±æ˜¯ä¸è®©ç©ï¼Œç»“æœä»–â€œç¦»å®¶å‡ºèµ°äº†â€ï¼Œç«Ÿç„¶åœ¨å†œæ‘çš„ç”°åœ°äº†èµ°äº†å°†è¿‘ 12km çš„è·¯ç¨‹å›å®¶äº†ï¼›é‚£ä¸ªæ—¶é—´äº²æˆšé•¿è¾ˆéƒ½åœ¨æ‰¾ä»–ï¼Œç»“æœæ‘é‡Œäººæ‰“ç”µè¯è¯´ä»–å·²ç»å›æ¥äº†ï¼›</p>\n<p>ç­‰åˆ°å®¶é‡Œäººéª‘ç€æ‘©æ‰˜å›å»ä¹‹åï¼Œè‚¯å®šå…ä¸äº†ä¸€é¡¿â€œçš®é­ç‚’è‚‰ä¸â€ï¼›</p>\n<p>é‚£æ—¶å€™ä»–è¿˜æ˜¯ä¸ªå°‘å¹´ï¼Œä»–ä»¥ä¸ºè‡ªå·±å¾ˆç‰›é€¼ï¼Œä»¥ä¸ºè‡ªå·±å¾ˆå‰å®³ï¼Œä»¥ä¸ºè‡ªå·±å¾ˆè‡ªæˆ‘ï¼›ç»“æœæ¢æ¥çš„æ˜¯ä¸€é¡¿æ¯’æ‰“ï¼›</p>\n<p>é‚£æˆ‘é—®ä»–ï¼šå¦‚æœæ¢æˆç°åœ¨ï¼Œä»–ä¼šè¿™æ ·å—ï¼Ÿä»–è¯´ï¼šä¸ä¼šï¼›å› ä¸ºè°éƒ½å¸Œæœ›åˆ«äººèƒ½ä½“è°…è‡ªå·±ï¼Œå¦‚æœåˆ«äººä¸ä½“è°…ï¼Œé‚£è‡ªå·±ä¹Ÿä¸ä½“è°…ï¼›è°è¿˜æ„¿æ„å†åƒä¸€é¡¿æ¯’æ‰“å‘¢~ï¼ æˆ‘ä»ä»–çš„çœ¼ç¥é‡Œé¢çœ‹å‡ºäº†ä¸€ç§å‡„å‡‰ï¼Œæ„Ÿä¼¤!</p>\n<p>ä¸è¿‡ï¼Œç°åœ¨æˆ‘èƒ½æ„Ÿè§‰å‡ºæ¥ä»–ä¼¼ä¹ä»¥å·²ç»å‘Šåˆ«äº†è¿‡å»äº†ï¼›ä¸åœ¨æ˜¯é‚£ä¸ªå¤©å¤©æƒ¦è®°çš„å°å­©å­äº†</p>\n<p>è€ w è¯´æ›¾ç»èŠ±äº†å¾ˆä¹…çš„æ—¶é—´å°è¯•çš„è¿™æ”¾ä¸‹è¿‡å»çš„ç§ç§ï¼Œä½†æ˜¯ç”±äºè‡ªå·±çš„æ€§æ ¼ï¼Œè¿˜æ˜¯å¾ˆéš¾æ”¾ä¸‹ï¼Œå¾ˆéš¾å¿˜è®°ï¼›ä»–æ˜¯æ€€æ—§çš„äººï¼Œè®©ä¸€ä¸ªæ€€æ—§çš„äººå»å¿˜å´è¿‡å»ï¼Œæ”¾è¿‡è‡ªå·±å†å»é‡æ–°ç”Ÿæ´»ï¼Œé‚£å¯¹ä»–æ¥è¯´ç»å¯¹æ˜¯åšä¸åˆ°çš„ï¼›</p>\n<p>ä»–å¹´è½»çš„æ—¶å€™ä¹Ÿä¸åƒç°åœ¨ä¸€æ ·æˆç†Ÿç¨³é‡ï¼Œè„¾æ°”ä¸å¥½ï¼Œä¹Ÿå¾ˆå†²åŠ¨ï¼Œä½†æ˜¯ç°åœ¨ä»–å˜å¾—æˆç†Ÿäº†ï¼Œä¹Ÿå˜å¾—æ¸©æŸ”äº†ï¼Œä¹Ÿå˜å¾—æœ‰è€å¿ƒäº†ï¼Œä¹Ÿå˜å¾—æœ‰è€å¿ƒäº†ï¼Œä»–çŸ¥é“æ€ä¹ˆå»ä½“è°…åˆ«äººï¼Œæ€ä¹ˆå»ç…§é¡¾åˆ«äººçš„æ„Ÿå—ï¼Œæ€ä¹ˆå»ç†è§£åˆ«äººï¼Œæ€ä¹ˆå»å°Šé‡åˆ«äººï¼›</p>\n<p>æˆ‘æ²¡æœ‰é—®ä»–ç©¶ç«Ÿæ˜¯é‡åˆ°äº†ä»€ä¹ˆäº‹æƒ…ï¼Œè®©ä»–æ”¾ä¸‹è¿‡å»ï¼Œé‡æ–°å¼€å§‹ï¼Œè¿˜æ˜¯è¯´ä»–ä¸€ç›´éƒ½åœ¨åŠªåŠ›;</p>\n<p>å› ä¸ºæ¯ä¸ªäººéƒ½ä¼šæœ‰ä¸æƒ³è¯‰è¯´çš„äº‹æƒ…ï¼Œä¸æƒ³å›å¿†çš„äº‹æƒ…ï¼Œä¸æƒ³å»è¯´ï¼Œä½†æ˜¯åˆä¸å¾—ä¸å»è¯´;äº”å¹´ç£¨ä¸€äººï¼Œä¸è®ºæ˜¯æ€§æ ¼è¿˜æ˜¯è„¾æ°”è¿˜æ˜¯å…¶ä»–ï¼›</p>\n<p>ä¸è¿‡ç°åœ¨çš„ä»– å´è®©æˆ‘å¾ˆå°Šæ•¬ï¼Œä»–è®©æˆ‘è§‰å¾—ä»–æ˜¯ä¸€ä¸ªå¾ˆä¼˜ç§€çš„äººï¼›è¿™æ ·çš„ç²¾ç¥ï¼Œæ™ºæ…§ç¡®å®å€¼å¾—æˆ‘å­¦ä¹ çš„ï¼›äººéƒ½æ˜¯æœç€å‰é¢èµ°çš„ï¼Œè°ä¹Ÿä¸æ„¿æ„å›å¿†è‡ªå·±çš„é‚£æ®µä¸æƒ³å›å¿†çš„æ•…äº‹ï¼›</p>\n<p>ä¸è¿‡ï¼Œä»–èƒ½ä»ä¹‹å‰çš„å°é­”ç‹è½¬å¤´è½¬æ¢æˆå¦ä¸€äººï¼Œæˆ‘å°±å·²ç»è§‰å¾—å¾ˆå‰å®³äº†ï¼› å› ä¸ºè¿™æ ·çš„äººæ‹¥æœ‰å¤§æ™ºæ…§ï¼Œ ä¸ä¼šå› ä¸ºä¸€äº›äº‹æƒ…è€Œå½±å“è‡ªå·±ï¼›ä»–ç¡®å®å¾ˆåœ¨åŠªåŠ›çš„ç”Ÿæ´»ï¼›</p>\n<p>è™½ç„¶åˆ«äººè§‰å¾—ç®€å•ï¼Œå°±æ˜¯æ—¶é—´ä¸€é•¿ä»€ä¹ˆäº‹æƒ…å°±å¿˜äº†ï¼Œä½†æ˜¯å®é™…è¡ŒåŠ¨èµ·æ¥å¹¶æ²¡æœ‰å˜´ä¸Šè¯´çš„é‚£ä¹ˆç®€å•ï¼›æƒ³è¦ä¸€ä¸ªäººå®Œå…¨æ”¹å˜ï¼Œä¸æ˜¯è¯´æ—¶é—´é•¿äº†å°±è¡Œï¼Œä»–çš„æ”¹å˜çœŸçš„å°±åƒæ˜¯ä¿®ä»™å°è¯´é‡Œé¢ï¼Œè¢«äººæ€æ­»ï¼Œç„¶åé‡ç”Ÿï¼Œç„¶åä¿®æˆæ­£æœä¸€æ ·ï¼›æˆ–è€…è¯´è¢«å¤ºèˆï¼Œè™½ç„¶æœ‰ç€ä¹‹å‰çš„è®°å¿†ï¼Œä½†æ˜¯æ´»ä¸‹æ¥çš„ç¡®å®å¦å¤–çš„ä¸€ä¸ªäºº;</p>\n"},{"title":"ç”Ÿæ´»-æˆ‘è‡ªå·±æ‹¿æ‰‹å¥½èœ-çº¢çƒ§ç‰›è‚‰é¢","abbrlink":"f19ae29b","date":"2023-10-08T01:05:01.000Z","_content":"\n# å‰è¨€\n\n**çµæ„Ÿæ¥æºäºç”Ÿæ´»ï¼Œåªæœ‰çæƒœç”Ÿæ´»æ‰èƒ½ä½“éªŒåˆ°äººç”Ÿçš„æ„ä¹‰ï¼›**\n\n## å‡†å¤‡èµ·æ¥\n\n1. æ–°é²œçš„ç‰›è‚‰å—æˆ–è€…ç‰›è‚‰ç²’ ğŸ¥©, ä¿©ç¢—é¢æ¡å¤§æ¦‚ 10 ç²’ç‰›è‚‰ç²’å·¦å³ï¼›çœ‹è‡ªå·±æƒ…å†µè€Œå®šï¼›\n2. ç„¯æ°´ç‰›è‚‰ç”¨çš„è‘±å§œè’œæ–™é…’ ğŸ·ï¼Œ3 ç‰‡å§œç‰‡ï¼Œæ–œåˆ€åˆ‡æˆ 3 å—å¤§è‘±ï¼›\n3. æ–°é²œé¢æ¡ ğŸœ ä¸€ç›’ï¼Œå½“ç„¶æŒ‚é¢ä¹Ÿæ˜¯å¯ä»¥çš„ï¼›å¯ä»¥æ ¹æ®è‡ªå·±çš„å£å‘³è€Œå®šï¼›\n4. åˆçº¢åˆå¤§çš„ç•ªèŒ„ ğŸ…ï¼Œæˆ–è€…å¯ä»¥å‡†å¤‡ç‚¹é’èœ ğŸ¥¬ï¼Œæˆ–è€…å¯ä»¥æ”¾ç‚¹å…¶ä»–çš„è”¬èœ\n5. å‡†å¤‡å¼€æ°´ä¸€å£¶ï¼Œåé¢ä¼šç”¨äºç‚–è‚‰ ğŸ’¦\n\n## æ¥å§ï¼Œä¸Šæ‰‹\n\né¦–å…ˆå…ˆæŠŠææ–™å‡†å¤‡å¥½ï¼Œå–å‡ºç‰›è‚‰ç²’ 10 ç²’å·¦å³å¤‡ç”¨ï¼Œå°†ç„¯æ°´çš„ææ–™è‘±å§œæ–™é…’å¤‡å¥½ï¼Œç‰›è‚‰å†·æ°´ä¸‹é”…ï¼ŒåŠ å…¥è‘±å§œæ–™é…’ï¼Œå¤§æ¦‚ 10 åˆ†é’Ÿå·¦å³ï¼Œå°†ç„¯å‡ºçš„è¡€æ²«æå‡ºï¼Œè¿™é›ªæ²«æ˜¯æœ‰è…¥å‘³çš„ï¼ŒæŠŠè¿™äº›è…¥å‘³æå‡ºå°±ä¼šå¤§å¤§å‡å°‘è‡ªå¸¦è…¥å‘³ï¼›ç‰›è‚‰æå‡ºä¹‹å‰å…ˆç”¨æ±¤æ°´å°†ç‰›è‚‰å†²æ´—å¹²å‡€ï¼›ä¹‹åæ”¾åœ¨ç›˜å­é‡Œå¤‡å¥½ï¼›\n\næ¥å§ï¼Œèµ·é”…çƒ§æ²¹ï¼Œå…ˆç‚’ä¸€ä¸‹ç‰›è‚‰å¢æ·»å‡ åˆ†é¦™å‘³ï¼›æ²¹çƒ­ä¹‹åï¼Œå°†å¤§è’œï¼Œå¤§è‘±æ”¾å…¥é”…ä¸­ï¼Œè‘±å‘³ç‚’å‡ºä¹‹åå°†å¤‡å¥½çš„ç‰›è‚‰ç²’æ”¾å…¥é”…ä¸­ï¼Œç­‰ 8s å·¦å³ç¿»ç‚’ä¸€ä¸‹ï¼Œä¹‹åæ”¾ç‚¹æ–™é…’å†ç¿»ç‚’åŠ ä¸‹ï¼Œæ”¾ç‚¹å¹²è¾£æ¤’ï¼Œæ¡‚çš®ï¼Œé¦™å¶ï¼Œå…«è§’ï¼Œç”ŸæŠ½ï¼Œå°‘é‡è€æŠ½è¿›è¡Œç¿»ç‚’ï¼Œæ¯å—ç‰›è‚‰å‡åŒ€ä¸Šè‰²ä¹‹åï¼Œæ”¾ç‚¹çº¢æ²¹è±†ç“£é…±ï¼Œè¿™ä¸€æ­¥æ˜¯ä¸ºäº†æ±¤æ±é¢œè‰²ä¸Šè‰²ï¼›\n\nç‰›è‚‰ä¸Šè‰²ä¹‹åæ±¤æ±å‘ˆçº¢è‰²ï¼Œè¿™æ—¶å¯ä»¥æ”¾ç‚¹ç•ªèŒ„è¿›å»ï¼Œå¯ä»¥åˆ‡æˆå¤§å—å½¢çŠ¶çš„ï¼›æ”¾å…¥é”…ä¸­è¿›è¡Œç¿»ç‚’ï¼Œä¹‹åæ”¾å…¥å‹åŠ›é”…ä¸­ï¼Œåˆ‡è¿‘ï¼š**æ³¨æ°´åˆ‡è®°æ˜¯å¼€æ°´æˆ–è€…æ¸©æ°´ï¼Œå¦‚æœæ˜¯å†·æ°´çš„è¯ç‰›è‚‰è‚‰è´¨å£æ„Ÿä¼šå¾ˆå·®ï¼›**ï¼›æˆ‘çš„å‹åŠ›é”…é™æ—¶æ˜¯`45åˆ†é’Ÿ`ï¼Œæˆ‘å–œæ¬¢è½¯çƒ‚çš„ç‰›è‚‰ï¼Œæ‰€ä»¥ç‚–çš„æ—¶é—´ä¼šé•¿ä¸€äº›ï¼›\n\nè·ç‚–å¥½çš„ç‰›å¤´è¿˜å‰©`10åˆ†é’Ÿå·¦å³`ï¼Œèµ·é”…çƒ§æ°´ï¼Œå‡†å¤‡ä¸‹é¢æ¡ï¼Œè¿™é‡Œå°±æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„æ­¥éª¤äº†ï¼Œå°±æ˜¯æ°´å¼€ä¹‹åæ”¾å…¥é€‚é‡çš„é¢æ¡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯é¢æ¡è½¯ç¡¬ç¨‹åº¦çœ‹ä¸ªäººå£å‘³ï¼›ä¸ç”¨å¤ªè½¯å³å¯ï¼›\n\né¢æ¡ç…®å¥½ä¹‹åï¼Œç‰›è‚‰å°±å°±å¥½äº†ï¼›å°†å‹åŠ›é”…ä¸­çš„å‹åŠ›é‡Šæ”¾å‡ºå»ï¼ˆå¦‚ä½•é‡Šæ”¾å¯çœ‹äº§å“è¯´æ˜ä¹¦ï¼‰ï¼›ä¹‹åå°±ä¼šé—®åˆ°é¦™å–·å–·çš„ç‰›è‚‰ï¼›\n\nå°†ç…®å¥½çš„é¢æ¡æå‡ºæ”¾è‡³ç¢—ä¸­ï¼Œå°†å‹åŠ›é”…ä¸­çš„ç‰›è‚‰å’Œæ±¤æ±æµ‡åœ¨é¢æ¡ä¹‹ä¸Šï¼Œè¿™æ ·ä¸€ç¢—ç®€å•çš„ç‰›è‚‰é¢å°±åšå¥½äº†ï¼›ç­‰å“å°çš„æ—¶å€™ä¼šæœ‰è¾£æ¤’çš„å£æ„Ÿï¼Œä¹Ÿæœ‰ç•ªèŒ„çš„é¦™å‘³ï¼›\n\n## æ¥å§ï¼Œå±•ç¤º\n\n![ç‰›è‚‰é¢](https://wangxiaoze-view.github.io/picx-images-hosting/images/life_food_1.jpeg)\n","source":"_posts/ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/æˆ‘çš„æ‹¿æ‰‹å¥½èœ-çº¢çƒ§ç‰›è‚‰é¢.md","raw":"---\ntitle: ç”Ÿæ´»-æˆ‘è‡ªå·±æ‹¿æ‰‹å¥½èœ-çº¢çƒ§ç‰›è‚‰é¢\nabbrlink: f19ae29b\ndate: 2023-10-08 09:05:01\ncategories: \n  - ç”Ÿæ´»æ—¥å¿—\ntags:\n  - ç”Ÿæ´»\n---\n\n# å‰è¨€\n\n**çµæ„Ÿæ¥æºäºç”Ÿæ´»ï¼Œåªæœ‰çæƒœç”Ÿæ´»æ‰èƒ½ä½“éªŒåˆ°äººç”Ÿçš„æ„ä¹‰ï¼›**\n\n## å‡†å¤‡èµ·æ¥\n\n1. æ–°é²œçš„ç‰›è‚‰å—æˆ–è€…ç‰›è‚‰ç²’ ğŸ¥©, ä¿©ç¢—é¢æ¡å¤§æ¦‚ 10 ç²’ç‰›è‚‰ç²’å·¦å³ï¼›çœ‹è‡ªå·±æƒ…å†µè€Œå®šï¼›\n2. ç„¯æ°´ç‰›è‚‰ç”¨çš„è‘±å§œè’œæ–™é…’ ğŸ·ï¼Œ3 ç‰‡å§œç‰‡ï¼Œæ–œåˆ€åˆ‡æˆ 3 å—å¤§è‘±ï¼›\n3. æ–°é²œé¢æ¡ ğŸœ ä¸€ç›’ï¼Œå½“ç„¶æŒ‚é¢ä¹Ÿæ˜¯å¯ä»¥çš„ï¼›å¯ä»¥æ ¹æ®è‡ªå·±çš„å£å‘³è€Œå®šï¼›\n4. åˆçº¢åˆå¤§çš„ç•ªèŒ„ ğŸ…ï¼Œæˆ–è€…å¯ä»¥å‡†å¤‡ç‚¹é’èœ ğŸ¥¬ï¼Œæˆ–è€…å¯ä»¥æ”¾ç‚¹å…¶ä»–çš„è”¬èœ\n5. å‡†å¤‡å¼€æ°´ä¸€å£¶ï¼Œåé¢ä¼šç”¨äºç‚–è‚‰ ğŸ’¦\n\n## æ¥å§ï¼Œä¸Šæ‰‹\n\né¦–å…ˆå…ˆæŠŠææ–™å‡†å¤‡å¥½ï¼Œå–å‡ºç‰›è‚‰ç²’ 10 ç²’å·¦å³å¤‡ç”¨ï¼Œå°†ç„¯æ°´çš„ææ–™è‘±å§œæ–™é…’å¤‡å¥½ï¼Œç‰›è‚‰å†·æ°´ä¸‹é”…ï¼ŒåŠ å…¥è‘±å§œæ–™é…’ï¼Œå¤§æ¦‚ 10 åˆ†é’Ÿå·¦å³ï¼Œå°†ç„¯å‡ºçš„è¡€æ²«æå‡ºï¼Œè¿™é›ªæ²«æ˜¯æœ‰è…¥å‘³çš„ï¼ŒæŠŠè¿™äº›è…¥å‘³æå‡ºå°±ä¼šå¤§å¤§å‡å°‘è‡ªå¸¦è…¥å‘³ï¼›ç‰›è‚‰æå‡ºä¹‹å‰å…ˆç”¨æ±¤æ°´å°†ç‰›è‚‰å†²æ´—å¹²å‡€ï¼›ä¹‹åæ”¾åœ¨ç›˜å­é‡Œå¤‡å¥½ï¼›\n\næ¥å§ï¼Œèµ·é”…çƒ§æ²¹ï¼Œå…ˆç‚’ä¸€ä¸‹ç‰›è‚‰å¢æ·»å‡ åˆ†é¦™å‘³ï¼›æ²¹çƒ­ä¹‹åï¼Œå°†å¤§è’œï¼Œå¤§è‘±æ”¾å…¥é”…ä¸­ï¼Œè‘±å‘³ç‚’å‡ºä¹‹åå°†å¤‡å¥½çš„ç‰›è‚‰ç²’æ”¾å…¥é”…ä¸­ï¼Œç­‰ 8s å·¦å³ç¿»ç‚’ä¸€ä¸‹ï¼Œä¹‹åæ”¾ç‚¹æ–™é…’å†ç¿»ç‚’åŠ ä¸‹ï¼Œæ”¾ç‚¹å¹²è¾£æ¤’ï¼Œæ¡‚çš®ï¼Œé¦™å¶ï¼Œå…«è§’ï¼Œç”ŸæŠ½ï¼Œå°‘é‡è€æŠ½è¿›è¡Œç¿»ç‚’ï¼Œæ¯å—ç‰›è‚‰å‡åŒ€ä¸Šè‰²ä¹‹åï¼Œæ”¾ç‚¹çº¢æ²¹è±†ç“£é…±ï¼Œè¿™ä¸€æ­¥æ˜¯ä¸ºäº†æ±¤æ±é¢œè‰²ä¸Šè‰²ï¼›\n\nç‰›è‚‰ä¸Šè‰²ä¹‹åæ±¤æ±å‘ˆçº¢è‰²ï¼Œè¿™æ—¶å¯ä»¥æ”¾ç‚¹ç•ªèŒ„è¿›å»ï¼Œå¯ä»¥åˆ‡æˆå¤§å—å½¢çŠ¶çš„ï¼›æ”¾å…¥é”…ä¸­è¿›è¡Œç¿»ç‚’ï¼Œä¹‹åæ”¾å…¥å‹åŠ›é”…ä¸­ï¼Œåˆ‡è¿‘ï¼š**æ³¨æ°´åˆ‡è®°æ˜¯å¼€æ°´æˆ–è€…æ¸©æ°´ï¼Œå¦‚æœæ˜¯å†·æ°´çš„è¯ç‰›è‚‰è‚‰è´¨å£æ„Ÿä¼šå¾ˆå·®ï¼›**ï¼›æˆ‘çš„å‹åŠ›é”…é™æ—¶æ˜¯`45åˆ†é’Ÿ`ï¼Œæˆ‘å–œæ¬¢è½¯çƒ‚çš„ç‰›è‚‰ï¼Œæ‰€ä»¥ç‚–çš„æ—¶é—´ä¼šé•¿ä¸€äº›ï¼›\n\nè·ç‚–å¥½çš„ç‰›å¤´è¿˜å‰©`10åˆ†é’Ÿå·¦å³`ï¼Œèµ·é”…çƒ§æ°´ï¼Œå‡†å¤‡ä¸‹é¢æ¡ï¼Œè¿™é‡Œå°±æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„æ­¥éª¤äº†ï¼Œå°±æ˜¯æ°´å¼€ä¹‹åæ”¾å…¥é€‚é‡çš„é¢æ¡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯é¢æ¡è½¯ç¡¬ç¨‹åº¦çœ‹ä¸ªäººå£å‘³ï¼›ä¸ç”¨å¤ªè½¯å³å¯ï¼›\n\né¢æ¡ç…®å¥½ä¹‹åï¼Œç‰›è‚‰å°±å°±å¥½äº†ï¼›å°†å‹åŠ›é”…ä¸­çš„å‹åŠ›é‡Šæ”¾å‡ºå»ï¼ˆå¦‚ä½•é‡Šæ”¾å¯çœ‹äº§å“è¯´æ˜ä¹¦ï¼‰ï¼›ä¹‹åå°±ä¼šé—®åˆ°é¦™å–·å–·çš„ç‰›è‚‰ï¼›\n\nå°†ç…®å¥½çš„é¢æ¡æå‡ºæ”¾è‡³ç¢—ä¸­ï¼Œå°†å‹åŠ›é”…ä¸­çš„ç‰›è‚‰å’Œæ±¤æ±æµ‡åœ¨é¢æ¡ä¹‹ä¸Šï¼Œè¿™æ ·ä¸€ç¢—ç®€å•çš„ç‰›è‚‰é¢å°±åšå¥½äº†ï¼›ç­‰å“å°çš„æ—¶å€™ä¼šæœ‰è¾£æ¤’çš„å£æ„Ÿï¼Œä¹Ÿæœ‰ç•ªèŒ„çš„é¦™å‘³ï¼›\n\n## æ¥å§ï¼Œå±•ç¤º\n\n![ç‰›è‚‰é¢](https://wangxiaoze-view.github.io/picx-images-hosting/images/life_food_1.jpeg)\n","slug":"ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/æˆ‘çš„æ‹¿æ‰‹å¥½èœ-çº¢çƒ§ç‰›è‚‰é¢","published":1,"updated":"2025-03-13T10:16:16.551Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j30057fg9m7bsscwkx","content":"<h1 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h1><p><strong>çµæ„Ÿæ¥æºäºç”Ÿæ´»ï¼Œåªæœ‰çæƒœç”Ÿæ´»æ‰èƒ½ä½“éªŒåˆ°äººç”Ÿçš„æ„ä¹‰ï¼›</strong></p>\n<h2 id=\"å‡†å¤‡èµ·æ¥\"><a href=\"#å‡†å¤‡èµ·æ¥\" class=\"headerlink\" title=\"å‡†å¤‡èµ·æ¥\"></a>å‡†å¤‡èµ·æ¥</h2><ol>\n<li>æ–°é²œçš„ç‰›è‚‰å—æˆ–è€…ç‰›è‚‰ç²’ ğŸ¥©, ä¿©ç¢—é¢æ¡å¤§æ¦‚ 10 ç²’ç‰›è‚‰ç²’å·¦å³ï¼›çœ‹è‡ªå·±æƒ…å†µè€Œå®šï¼›</li>\n<li>ç„¯æ°´ç‰›è‚‰ç”¨çš„è‘±å§œè’œæ–™é…’ ğŸ·ï¼Œ3 ç‰‡å§œç‰‡ï¼Œæ–œåˆ€åˆ‡æˆ 3 å—å¤§è‘±ï¼›</li>\n<li>æ–°é²œé¢æ¡ ğŸœ ä¸€ç›’ï¼Œå½“ç„¶æŒ‚é¢ä¹Ÿæ˜¯å¯ä»¥çš„ï¼›å¯ä»¥æ ¹æ®è‡ªå·±çš„å£å‘³è€Œå®šï¼›</li>\n<li>åˆçº¢åˆå¤§çš„ç•ªèŒ„ ğŸ…ï¼Œæˆ–è€…å¯ä»¥å‡†å¤‡ç‚¹é’èœ ğŸ¥¬ï¼Œæˆ–è€…å¯ä»¥æ”¾ç‚¹å…¶ä»–çš„è”¬èœ</li>\n<li>å‡†å¤‡å¼€æ°´ä¸€å£¶ï¼Œåé¢ä¼šç”¨äºç‚–è‚‰ ğŸ’¦</li>\n</ol>\n<h2 id=\"æ¥å§ï¼Œä¸Šæ‰‹\"><a href=\"#æ¥å§ï¼Œä¸Šæ‰‹\" class=\"headerlink\" title=\"æ¥å§ï¼Œä¸Šæ‰‹\"></a>æ¥å§ï¼Œä¸Šæ‰‹</h2><p>é¦–å…ˆå…ˆæŠŠææ–™å‡†å¤‡å¥½ï¼Œå–å‡ºç‰›è‚‰ç²’ 10 ç²’å·¦å³å¤‡ç”¨ï¼Œå°†ç„¯æ°´çš„ææ–™è‘±å§œæ–™é…’å¤‡å¥½ï¼Œç‰›è‚‰å†·æ°´ä¸‹é”…ï¼ŒåŠ å…¥è‘±å§œæ–™é…’ï¼Œå¤§æ¦‚ 10 åˆ†é’Ÿå·¦å³ï¼Œå°†ç„¯å‡ºçš„è¡€æ²«æå‡ºï¼Œè¿™é›ªæ²«æ˜¯æœ‰è…¥å‘³çš„ï¼ŒæŠŠè¿™äº›è…¥å‘³æå‡ºå°±ä¼šå¤§å¤§å‡å°‘è‡ªå¸¦è…¥å‘³ï¼›ç‰›è‚‰æå‡ºä¹‹å‰å…ˆç”¨æ±¤æ°´å°†ç‰›è‚‰å†²æ´—å¹²å‡€ï¼›ä¹‹åæ”¾åœ¨ç›˜å­é‡Œå¤‡å¥½ï¼›</p>\n<p>æ¥å§ï¼Œèµ·é”…çƒ§æ²¹ï¼Œå…ˆç‚’ä¸€ä¸‹ç‰›è‚‰å¢æ·»å‡ åˆ†é¦™å‘³ï¼›æ²¹çƒ­ä¹‹åï¼Œå°†å¤§è’œï¼Œå¤§è‘±æ”¾å…¥é”…ä¸­ï¼Œè‘±å‘³ç‚’å‡ºä¹‹åå°†å¤‡å¥½çš„ç‰›è‚‰ç²’æ”¾å…¥é”…ä¸­ï¼Œç­‰ 8s å·¦å³ç¿»ç‚’ä¸€ä¸‹ï¼Œä¹‹åæ”¾ç‚¹æ–™é…’å†ç¿»ç‚’åŠ ä¸‹ï¼Œæ”¾ç‚¹å¹²è¾£æ¤’ï¼Œæ¡‚çš®ï¼Œé¦™å¶ï¼Œå…«è§’ï¼Œç”ŸæŠ½ï¼Œå°‘é‡è€æŠ½è¿›è¡Œç¿»ç‚’ï¼Œæ¯å—ç‰›è‚‰å‡åŒ€ä¸Šè‰²ä¹‹åï¼Œæ”¾ç‚¹çº¢æ²¹è±†ç“£é…±ï¼Œè¿™ä¸€æ­¥æ˜¯ä¸ºäº†æ±¤æ±é¢œè‰²ä¸Šè‰²ï¼›</p>\n<p>ç‰›è‚‰ä¸Šè‰²ä¹‹åæ±¤æ±å‘ˆçº¢è‰²ï¼Œè¿™æ—¶å¯ä»¥æ”¾ç‚¹ç•ªèŒ„è¿›å»ï¼Œå¯ä»¥åˆ‡æˆå¤§å—å½¢çŠ¶çš„ï¼›æ”¾å…¥é”…ä¸­è¿›è¡Œç¿»ç‚’ï¼Œä¹‹åæ”¾å…¥å‹åŠ›é”…ä¸­ï¼Œåˆ‡è¿‘ï¼š<strong>æ³¨æ°´åˆ‡è®°æ˜¯å¼€æ°´æˆ–è€…æ¸©æ°´ï¼Œå¦‚æœæ˜¯å†·æ°´çš„è¯ç‰›è‚‰è‚‰è´¨å£æ„Ÿä¼šå¾ˆå·®ï¼›</strong>ï¼›æˆ‘çš„å‹åŠ›é”…é™æ—¶æ˜¯<code>45åˆ†é’Ÿ</code>ï¼Œæˆ‘å–œæ¬¢è½¯çƒ‚çš„ç‰›è‚‰ï¼Œæ‰€ä»¥ç‚–çš„æ—¶é—´ä¼šé•¿ä¸€äº›ï¼›</p>\n<p>è·ç‚–å¥½çš„ç‰›å¤´è¿˜å‰©<code>10åˆ†é’Ÿå·¦å³</code>ï¼Œèµ·é”…çƒ§æ°´ï¼Œå‡†å¤‡ä¸‹é¢æ¡ï¼Œè¿™é‡Œå°±æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„æ­¥éª¤äº†ï¼Œå°±æ˜¯æ°´å¼€ä¹‹åæ”¾å…¥é€‚é‡çš„é¢æ¡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯é¢æ¡è½¯ç¡¬ç¨‹åº¦çœ‹ä¸ªäººå£å‘³ï¼›ä¸ç”¨å¤ªè½¯å³å¯ï¼›</p>\n<p>é¢æ¡ç…®å¥½ä¹‹åï¼Œç‰›è‚‰å°±å°±å¥½äº†ï¼›å°†å‹åŠ›é”…ä¸­çš„å‹åŠ›é‡Šæ”¾å‡ºå»ï¼ˆå¦‚ä½•é‡Šæ”¾å¯çœ‹äº§å“è¯´æ˜ä¹¦ï¼‰ï¼›ä¹‹åå°±ä¼šé—®åˆ°é¦™å–·å–·çš„ç‰›è‚‰ï¼›</p>\n<p>å°†ç…®å¥½çš„é¢æ¡æå‡ºæ”¾è‡³ç¢—ä¸­ï¼Œå°†å‹åŠ›é”…ä¸­çš„ç‰›è‚‰å’Œæ±¤æ±æµ‡åœ¨é¢æ¡ä¹‹ä¸Šï¼Œè¿™æ ·ä¸€ç¢—ç®€å•çš„ç‰›è‚‰é¢å°±åšå¥½äº†ï¼›ç­‰å“å°çš„æ—¶å€™ä¼šæœ‰è¾£æ¤’çš„å£æ„Ÿï¼Œä¹Ÿæœ‰ç•ªèŒ„çš„é¦™å‘³ï¼›</p>\n<h2 id=\"æ¥å§ï¼Œå±•ç¤º\"><a href=\"#æ¥å§ï¼Œå±•ç¤º\" class=\"headerlink\" title=\"æ¥å§ï¼Œå±•ç¤º\"></a>æ¥å§ï¼Œå±•ç¤º</h2><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/life_food_1.jpeg\" alt=\"ç‰›è‚‰é¢\"></p>\n","excerpt":"","more":"<h1 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h1><p><strong>çµæ„Ÿæ¥æºäºç”Ÿæ´»ï¼Œåªæœ‰çæƒœç”Ÿæ´»æ‰èƒ½ä½“éªŒåˆ°äººç”Ÿçš„æ„ä¹‰ï¼›</strong></p>\n<h2 id=\"å‡†å¤‡èµ·æ¥\"><a href=\"#å‡†å¤‡èµ·æ¥\" class=\"headerlink\" title=\"å‡†å¤‡èµ·æ¥\"></a>å‡†å¤‡èµ·æ¥</h2><ol>\n<li>æ–°é²œçš„ç‰›è‚‰å—æˆ–è€…ç‰›è‚‰ç²’ ğŸ¥©, ä¿©ç¢—é¢æ¡å¤§æ¦‚ 10 ç²’ç‰›è‚‰ç²’å·¦å³ï¼›çœ‹è‡ªå·±æƒ…å†µè€Œå®šï¼›</li>\n<li>ç„¯æ°´ç‰›è‚‰ç”¨çš„è‘±å§œè’œæ–™é…’ ğŸ·ï¼Œ3 ç‰‡å§œç‰‡ï¼Œæ–œåˆ€åˆ‡æˆ 3 å—å¤§è‘±ï¼›</li>\n<li>æ–°é²œé¢æ¡ ğŸœ ä¸€ç›’ï¼Œå½“ç„¶æŒ‚é¢ä¹Ÿæ˜¯å¯ä»¥çš„ï¼›å¯ä»¥æ ¹æ®è‡ªå·±çš„å£å‘³è€Œå®šï¼›</li>\n<li>åˆçº¢åˆå¤§çš„ç•ªèŒ„ ğŸ…ï¼Œæˆ–è€…å¯ä»¥å‡†å¤‡ç‚¹é’èœ ğŸ¥¬ï¼Œæˆ–è€…å¯ä»¥æ”¾ç‚¹å…¶ä»–çš„è”¬èœ</li>\n<li>å‡†å¤‡å¼€æ°´ä¸€å£¶ï¼Œåé¢ä¼šç”¨äºç‚–è‚‰ ğŸ’¦</li>\n</ol>\n<h2 id=\"æ¥å§ï¼Œä¸Šæ‰‹\"><a href=\"#æ¥å§ï¼Œä¸Šæ‰‹\" class=\"headerlink\" title=\"æ¥å§ï¼Œä¸Šæ‰‹\"></a>æ¥å§ï¼Œä¸Šæ‰‹</h2><p>é¦–å…ˆå…ˆæŠŠææ–™å‡†å¤‡å¥½ï¼Œå–å‡ºç‰›è‚‰ç²’ 10 ç²’å·¦å³å¤‡ç”¨ï¼Œå°†ç„¯æ°´çš„ææ–™è‘±å§œæ–™é…’å¤‡å¥½ï¼Œç‰›è‚‰å†·æ°´ä¸‹é”…ï¼ŒåŠ å…¥è‘±å§œæ–™é…’ï¼Œå¤§æ¦‚ 10 åˆ†é’Ÿå·¦å³ï¼Œå°†ç„¯å‡ºçš„è¡€æ²«æå‡ºï¼Œè¿™é›ªæ²«æ˜¯æœ‰è…¥å‘³çš„ï¼ŒæŠŠè¿™äº›è…¥å‘³æå‡ºå°±ä¼šå¤§å¤§å‡å°‘è‡ªå¸¦è…¥å‘³ï¼›ç‰›è‚‰æå‡ºä¹‹å‰å…ˆç”¨æ±¤æ°´å°†ç‰›è‚‰å†²æ´—å¹²å‡€ï¼›ä¹‹åæ”¾åœ¨ç›˜å­é‡Œå¤‡å¥½ï¼›</p>\n<p>æ¥å§ï¼Œèµ·é”…çƒ§æ²¹ï¼Œå…ˆç‚’ä¸€ä¸‹ç‰›è‚‰å¢æ·»å‡ åˆ†é¦™å‘³ï¼›æ²¹çƒ­ä¹‹åï¼Œå°†å¤§è’œï¼Œå¤§è‘±æ”¾å…¥é”…ä¸­ï¼Œè‘±å‘³ç‚’å‡ºä¹‹åå°†å¤‡å¥½çš„ç‰›è‚‰ç²’æ”¾å…¥é”…ä¸­ï¼Œç­‰ 8s å·¦å³ç¿»ç‚’ä¸€ä¸‹ï¼Œä¹‹åæ”¾ç‚¹æ–™é…’å†ç¿»ç‚’åŠ ä¸‹ï¼Œæ”¾ç‚¹å¹²è¾£æ¤’ï¼Œæ¡‚çš®ï¼Œé¦™å¶ï¼Œå…«è§’ï¼Œç”ŸæŠ½ï¼Œå°‘é‡è€æŠ½è¿›è¡Œç¿»ç‚’ï¼Œæ¯å—ç‰›è‚‰å‡åŒ€ä¸Šè‰²ä¹‹åï¼Œæ”¾ç‚¹çº¢æ²¹è±†ç“£é…±ï¼Œè¿™ä¸€æ­¥æ˜¯ä¸ºäº†æ±¤æ±é¢œè‰²ä¸Šè‰²ï¼›</p>\n<p>ç‰›è‚‰ä¸Šè‰²ä¹‹åæ±¤æ±å‘ˆçº¢è‰²ï¼Œè¿™æ—¶å¯ä»¥æ”¾ç‚¹ç•ªèŒ„è¿›å»ï¼Œå¯ä»¥åˆ‡æˆå¤§å—å½¢çŠ¶çš„ï¼›æ”¾å…¥é”…ä¸­è¿›è¡Œç¿»ç‚’ï¼Œä¹‹åæ”¾å…¥å‹åŠ›é”…ä¸­ï¼Œåˆ‡è¿‘ï¼š<strong>æ³¨æ°´åˆ‡è®°æ˜¯å¼€æ°´æˆ–è€…æ¸©æ°´ï¼Œå¦‚æœæ˜¯å†·æ°´çš„è¯ç‰›è‚‰è‚‰è´¨å£æ„Ÿä¼šå¾ˆå·®ï¼›</strong>ï¼›æˆ‘çš„å‹åŠ›é”…é™æ—¶æ˜¯<code>45åˆ†é’Ÿ</code>ï¼Œæˆ‘å–œæ¬¢è½¯çƒ‚çš„ç‰›è‚‰ï¼Œæ‰€ä»¥ç‚–çš„æ—¶é—´ä¼šé•¿ä¸€äº›ï¼›</p>\n<p>è·ç‚–å¥½çš„ç‰›å¤´è¿˜å‰©<code>10åˆ†é’Ÿå·¦å³</code>ï¼Œèµ·é”…çƒ§æ°´ï¼Œå‡†å¤‡ä¸‹é¢æ¡ï¼Œè¿™é‡Œå°±æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„æ­¥éª¤äº†ï¼Œå°±æ˜¯æ°´å¼€ä¹‹åæ”¾å…¥é€‚é‡çš„é¢æ¡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯é¢æ¡è½¯ç¡¬ç¨‹åº¦çœ‹ä¸ªäººå£å‘³ï¼›ä¸ç”¨å¤ªè½¯å³å¯ï¼›</p>\n<p>é¢æ¡ç…®å¥½ä¹‹åï¼Œç‰›è‚‰å°±å°±å¥½äº†ï¼›å°†å‹åŠ›é”…ä¸­çš„å‹åŠ›é‡Šæ”¾å‡ºå»ï¼ˆå¦‚ä½•é‡Šæ”¾å¯çœ‹äº§å“è¯´æ˜ä¹¦ï¼‰ï¼›ä¹‹åå°±ä¼šé—®åˆ°é¦™å–·å–·çš„ç‰›è‚‰ï¼›</p>\n<p>å°†ç…®å¥½çš„é¢æ¡æå‡ºæ”¾è‡³ç¢—ä¸­ï¼Œå°†å‹åŠ›é”…ä¸­çš„ç‰›è‚‰å’Œæ±¤æ±æµ‡åœ¨é¢æ¡ä¹‹ä¸Šï¼Œè¿™æ ·ä¸€ç¢—ç®€å•çš„ç‰›è‚‰é¢å°±åšå¥½äº†ï¼›ç­‰å“å°çš„æ—¶å€™ä¼šæœ‰è¾£æ¤’çš„å£æ„Ÿï¼Œä¹Ÿæœ‰ç•ªèŒ„çš„é¦™å‘³ï¼›</p>\n<h2 id=\"æ¥å§ï¼Œå±•ç¤º\"><a href=\"#æ¥å§ï¼Œå±•ç¤º\" class=\"headerlink\" title=\"æ¥å§ï¼Œå±•ç¤º\"></a>æ¥å§ï¼Œå±•ç¤º</h2><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/life_food_1.jpeg\" alt=\"ç‰›è‚‰é¢\"></p>\n"},{"title":"ç”Ÿæ´»-æ‹æ‘„ä¸‰è¦ç´ ","abbrlink":"57424cee","date":"2023-10-08T01:05:01.000Z","_content":"\n# èƒŒæ™¯\n\nä¸ºä»€ä¹ˆä¼šæ€»ç»“æ‹æ‘„å‘¢ï¼Ÿ\n\n**ä½ å¯ä»¥ä¸ä¼šæ‹ç…§ï¼Œä½†æ˜¯ä½ çš„å­¦ä¼šæ‹ç…§** æ‹æ‘„ä¸æ˜¯ä¸ºäº†ç‚«è€€ï¼Œè€Œæ˜¯ä¸ºäº†**è®°å½•ç”Ÿæ´»**ã€‚\n\nå½“ç„¶æœ€è¿‘æˆ‘ä¹Ÿæ˜¯åœ¨å­¦ä¹ æ‹æ‘„ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰å¾ˆå¤šä¸œè¥¿éœ€è¦æ€»ç»“ï¼Œæ¯”å¦‚ï¼š\n\n1. æ‹æ‘„ä¸‰è¦ç´ ï¼š æ„Ÿå…‰åº¦ã€å…‰åœˆã€å¿«é—¨\n2. æ‹æ‘„æŠ€å·§ï¼š æ›å…‰æŠ€å·§ã€å…‰åœˆæŠ€å·§ã€å¿«é—¨æŠ€å·§\n3. æ„å›¾æŠ€å·§ï¼š ä¸‰åˆ†çº¿æ„å›¾ã€å¯¹è§’çº¿æ„å›¾ã€æ¡†æ¶å¼æ„å›¾ç­‰ç­‰\n4. ...\n\næ¥ä¸‹æ¥ï¼Œæ€»ç»“ä¸€ä¸‹ä¸‰å…ƒç´ \n\n## å¿«é—¨\n\n### ä»€ä¹ˆæ˜¯å¿«é—¨ï¼Ÿ\n\nå¿«é—¨æ˜¯æ‹æ‘„çš„ä¸‰è¦ç´ ä¹‹ä¸€ï¼Œå¿«é—¨æ˜¯æ§åˆ¶æ›å…‰æ—¶é—´çš„å…³é”®; å¿«é—¨æ˜¯ç›¸æœºä¸­ **<font color=\"#ff0000\">ç”¨æ¥æ§åˆ¶å…‰çº¿ç…§å°„æ„Ÿå…‰å…ƒä»¶æ—¶é—´çš„è£…ç½®</font>**, ç”±è–„é‡‘å±ç‰‡æˆ–ä¸€ç»„ä¸é€å…‰çš„å¶ç‰‡ç»„æˆï¼›\n\nå½“ç„¶å¯ä»¥æŠŠå¿«é—¨ç†è§£æˆä¸€é“é—¨ï¼š\n\n- é—¨å¼€å¯ï¼Œå…‰çº¿è¿›å…¥ï¼Œé—¨å…³é—­ï¼Œå…‰çº¿åœæ­¢è¿›å…¥\n- é—¨å¼€å¯ä¸å…³é—­çš„æ—¶é—´(å¿«é—¨é€Ÿåº¦)å½±å“ç›¸æœºçš„è¿›å…‰é‡ï¼Œè€Œä»æ§åˆ¶ç…§ç‰‡çš„æ›å…‰ï¼›\n\nå¼€é—¨çš„é€Ÿåº¦å•ä½ä¸ºï¼š<font color=\"#ff0000\">ç§’</font>ï¼š æ¯”å¦‚ 1/125 å°±æ˜¯ä¸€ç™¾äºŒåäº”åˆ†æ”¯ä¸€ç§’ï¼›\næ•°å€¼è¶Šå¤§ï¼Œ æ¯”å¦‚ 1/125s < 1/50s < 1/15s < 1s: <font color=\"#ff0000\">å¿«é—¨å¼€å¯çš„æ—¶é—´è¶Šé•¿ï¼Œç›¸æœºè¿›å…‰é‡è¶Šå¤šï¼Œç”»é¢è¶Šäº®ï¼Œåä¹‹è¶Šå°ï¼Œè¿›å…‰é‡è¶Šå°‘ï¼Œç”»é¢è¶Šæš—ã€‚</font>\n\n### å¿«é—¨é€Ÿåº¦\n\nå…‰åœˆ, iso ä¸å˜çš„æƒ…å†µä¸‹ï¼š\n\n1. å¿«é—¨å¼€å¯çš„æ—¶é—´è¶Šé•¿ï¼Œå¿«é—¨é€Ÿåº¦è¶Šæ…¢ï¼Œç”»é¢è¶Šäº®\n2. å¿«é—¨å¼€å¯çš„æ—¶é—´è¶ŠçŸ­ï¼Œå¿«é—¨é€Ÿåº¦è¶Šå¿«ï¼Œç”»é¢è¶Šæš—\n\n![å¿«é—¨é€Ÿåº¦](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621200359.7ax0zp1o70.webp)\n\n![å¿«é—¨é€Ÿåº¦](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621200415.73tt49firh.webp)\n\n### å¿«é—¨çš„åº”ç”¨\n\n1. é«˜é€Ÿå¿«é—¨-å®šæ ¼æŠ“æ‹ï¼šå¿«é—¨é€Ÿåº¦è¾ƒå¿«ï¼Œå¯ä»¥å®šæ ¼åˆ¹é‚£é—´çš„å½¢çŠ¶ï¼Œæ¯”å¦‚ï¼šæŠ“æ‹åŠ¨ç‰©ï¼Œè¿åŠ¨å‘˜ç­‰ç­‰\n2. æ…¢é€Ÿå¿«é—¨-å°¾ç¯æ‹‰ä¸ï¼šæ‹æ‘„å°¾ç¯æ‹‰ä¸æ•ˆæœéœ€è¦æ…¢é—¨æ‹æ‘„ä¹Ÿç§°â€œé•¿æ›å…‰â€æ˜¯ç›¸æœºè®°å½•è½¦æµè¿åŠ¨è½¨è¿¹ä¹‹åè¡Œç¨‹çš„ç…§ç‰‡æ•ˆæœï¼›\n\n**æ…¢é€Ÿå¿«é—¨ä¹Ÿä¼šé€ æˆç”»é¢æ¨¡ç³Šï¼Œè¦æ³¨æ„å¿«é—¨é€Ÿåº¦ä¸èƒ½ä½äºå®‰å…¨å¿«é—¨é€Ÿåº¦**\n\n## å…‰åœˆ\n\n### ä»€ä¹ˆæ˜¯å…‰åœˆï¼Ÿ\n\nå…‰åœˆå°±æ˜¯é•œå¤´ä¸Šçš„ä¸€ä¸ªæ´ï¼Œä¸€ä¸ªæ§åˆ¶å…‰çº¿è¿›å…¥ç›¸æœºå†…éƒ¨çš„å­”å¾„è£…ç½®ï¼Œé€šè¿‡æ§åˆ¶å¶ç‰‡çš„å¼€åˆç¨‹åº¦æ§åˆ¶å…‰å­”çš„å¤§å°ï¼Œè¿›è€Œå½±å“è¿›å…‰é‡ï¼›\n\nåœ¨ç›¸æœºä¸Šé€šå¸¸<font color=\"#ff0000\">F</font>è¡¨ç¤ºçš„æ˜¯å…‰åœˆçš„å¤§å°\n\n- F å€¼è¶Šå°ï¼Œå…‰åœˆè¶Šå¤§ï¼Œè¿›å…‰é‡è¶Šå¤š\n- F å€¼è¶Šå¤§ï¼Œå…‰åœˆè¶Šå°ï¼Œè¿›å…‰é‡è¶Šå°\n\n![å…‰åœˆ](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621201653.1zi4eztwgs.webp)\n\n### å¸¸ç”¨å‚æ•°\n\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621201823.2a4y85bktd.webp)\n\n![2](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621201836.7ljusuxnhf.webp)\n\n## æ„Ÿå…‰åº¦ ISO\n\n### ä»€ä¹ˆæ˜¯æ„Ÿå…‰åº¦ï¼Ÿ\n\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621202116.45hj0rr8sa.webp)\n![2](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621202218.8ad4cvppfy.webp)\n\n### å½±å“æ›å…‰\n\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621202319.4n7kpcvd5n.webp)\n![2](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621202329.5j424t51lo.webp)\n\n### å½±å“ç”»è´¨\n\nåœ¨èƒ½ä¿è¯ç›¸æœºçš„ç¨³å®šï¼Œèƒ½ä¿è¯è¢«æ‹æ‘„ä¸»ä½“æ¸…æ™°æ—¶ï¼Œä½¿ç”¨å°½å¯èƒ½ä½çš„æ„Ÿå…‰åº¦ï¼Œä»è€Œä¿è¯ç”»è´¨ï¼›\n\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621202504.2h863l5tg0.webp)\n\n### å¸¸ç”¨å‚æ•°\n\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621202645.99t7q1y9ot.webp)\n","source":"_posts/ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/æ‹æ‘„ä¸‰è¦ç´ .md","raw":"---\ntitle: ç”Ÿæ´»-æ‹æ‘„ä¸‰è¦ç´ \nabbrlink: 57424cee\ndate: 2023-10-08 09:05:01\ncategories:\n  - ç”Ÿæ´»æ—¥å¿—\ntags:\n  - æ‘„å½±\n---\n\n# èƒŒæ™¯\n\nä¸ºä»€ä¹ˆä¼šæ€»ç»“æ‹æ‘„å‘¢ï¼Ÿ\n\n**ä½ å¯ä»¥ä¸ä¼šæ‹ç…§ï¼Œä½†æ˜¯ä½ çš„å­¦ä¼šæ‹ç…§** æ‹æ‘„ä¸æ˜¯ä¸ºäº†ç‚«è€€ï¼Œè€Œæ˜¯ä¸ºäº†**è®°å½•ç”Ÿæ´»**ã€‚\n\nå½“ç„¶æœ€è¿‘æˆ‘ä¹Ÿæ˜¯åœ¨å­¦ä¹ æ‹æ‘„ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰å¾ˆå¤šä¸œè¥¿éœ€è¦æ€»ç»“ï¼Œæ¯”å¦‚ï¼š\n\n1. æ‹æ‘„ä¸‰è¦ç´ ï¼š æ„Ÿå…‰åº¦ã€å…‰åœˆã€å¿«é—¨\n2. æ‹æ‘„æŠ€å·§ï¼š æ›å…‰æŠ€å·§ã€å…‰åœˆæŠ€å·§ã€å¿«é—¨æŠ€å·§\n3. æ„å›¾æŠ€å·§ï¼š ä¸‰åˆ†çº¿æ„å›¾ã€å¯¹è§’çº¿æ„å›¾ã€æ¡†æ¶å¼æ„å›¾ç­‰ç­‰\n4. ...\n\næ¥ä¸‹æ¥ï¼Œæ€»ç»“ä¸€ä¸‹ä¸‰å…ƒç´ \n\n## å¿«é—¨\n\n### ä»€ä¹ˆæ˜¯å¿«é—¨ï¼Ÿ\n\nå¿«é—¨æ˜¯æ‹æ‘„çš„ä¸‰è¦ç´ ä¹‹ä¸€ï¼Œå¿«é—¨æ˜¯æ§åˆ¶æ›å…‰æ—¶é—´çš„å…³é”®; å¿«é—¨æ˜¯ç›¸æœºä¸­ **<font color=\"#ff0000\">ç”¨æ¥æ§åˆ¶å…‰çº¿ç…§å°„æ„Ÿå…‰å…ƒä»¶æ—¶é—´çš„è£…ç½®</font>**, ç”±è–„é‡‘å±ç‰‡æˆ–ä¸€ç»„ä¸é€å…‰çš„å¶ç‰‡ç»„æˆï¼›\n\nå½“ç„¶å¯ä»¥æŠŠå¿«é—¨ç†è§£æˆä¸€é“é—¨ï¼š\n\n- é—¨å¼€å¯ï¼Œå…‰çº¿è¿›å…¥ï¼Œé—¨å…³é—­ï¼Œå…‰çº¿åœæ­¢è¿›å…¥\n- é—¨å¼€å¯ä¸å…³é—­çš„æ—¶é—´(å¿«é—¨é€Ÿåº¦)å½±å“ç›¸æœºçš„è¿›å…‰é‡ï¼Œè€Œä»æ§åˆ¶ç…§ç‰‡çš„æ›å…‰ï¼›\n\nå¼€é—¨çš„é€Ÿåº¦å•ä½ä¸ºï¼š<font color=\"#ff0000\">ç§’</font>ï¼š æ¯”å¦‚ 1/125 å°±æ˜¯ä¸€ç™¾äºŒåäº”åˆ†æ”¯ä¸€ç§’ï¼›\næ•°å€¼è¶Šå¤§ï¼Œ æ¯”å¦‚ 1/125s < 1/50s < 1/15s < 1s: <font color=\"#ff0000\">å¿«é—¨å¼€å¯çš„æ—¶é—´è¶Šé•¿ï¼Œç›¸æœºè¿›å…‰é‡è¶Šå¤šï¼Œç”»é¢è¶Šäº®ï¼Œåä¹‹è¶Šå°ï¼Œè¿›å…‰é‡è¶Šå°‘ï¼Œç”»é¢è¶Šæš—ã€‚</font>\n\n### å¿«é—¨é€Ÿåº¦\n\nå…‰åœˆ, iso ä¸å˜çš„æƒ…å†µä¸‹ï¼š\n\n1. å¿«é—¨å¼€å¯çš„æ—¶é—´è¶Šé•¿ï¼Œå¿«é—¨é€Ÿåº¦è¶Šæ…¢ï¼Œç”»é¢è¶Šäº®\n2. å¿«é—¨å¼€å¯çš„æ—¶é—´è¶ŠçŸ­ï¼Œå¿«é—¨é€Ÿåº¦è¶Šå¿«ï¼Œç”»é¢è¶Šæš—\n\n![å¿«é—¨é€Ÿåº¦](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621200359.7ax0zp1o70.webp)\n\n![å¿«é—¨é€Ÿåº¦](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621200415.73tt49firh.webp)\n\n### å¿«é—¨çš„åº”ç”¨\n\n1. é«˜é€Ÿå¿«é—¨-å®šæ ¼æŠ“æ‹ï¼šå¿«é—¨é€Ÿåº¦è¾ƒå¿«ï¼Œå¯ä»¥å®šæ ¼åˆ¹é‚£é—´çš„å½¢çŠ¶ï¼Œæ¯”å¦‚ï¼šæŠ“æ‹åŠ¨ç‰©ï¼Œè¿åŠ¨å‘˜ç­‰ç­‰\n2. æ…¢é€Ÿå¿«é—¨-å°¾ç¯æ‹‰ä¸ï¼šæ‹æ‘„å°¾ç¯æ‹‰ä¸æ•ˆæœéœ€è¦æ…¢é—¨æ‹æ‘„ä¹Ÿç§°â€œé•¿æ›å…‰â€æ˜¯ç›¸æœºè®°å½•è½¦æµè¿åŠ¨è½¨è¿¹ä¹‹åè¡Œç¨‹çš„ç…§ç‰‡æ•ˆæœï¼›\n\n**æ…¢é€Ÿå¿«é—¨ä¹Ÿä¼šé€ æˆç”»é¢æ¨¡ç³Šï¼Œè¦æ³¨æ„å¿«é—¨é€Ÿåº¦ä¸èƒ½ä½äºå®‰å…¨å¿«é—¨é€Ÿåº¦**\n\n## å…‰åœˆ\n\n### ä»€ä¹ˆæ˜¯å…‰åœˆï¼Ÿ\n\nå…‰åœˆå°±æ˜¯é•œå¤´ä¸Šçš„ä¸€ä¸ªæ´ï¼Œä¸€ä¸ªæ§åˆ¶å…‰çº¿è¿›å…¥ç›¸æœºå†…éƒ¨çš„å­”å¾„è£…ç½®ï¼Œé€šè¿‡æ§åˆ¶å¶ç‰‡çš„å¼€åˆç¨‹åº¦æ§åˆ¶å…‰å­”çš„å¤§å°ï¼Œè¿›è€Œå½±å“è¿›å…‰é‡ï¼›\n\nåœ¨ç›¸æœºä¸Šé€šå¸¸<font color=\"#ff0000\">F</font>è¡¨ç¤ºçš„æ˜¯å…‰åœˆçš„å¤§å°\n\n- F å€¼è¶Šå°ï¼Œå…‰åœˆè¶Šå¤§ï¼Œè¿›å…‰é‡è¶Šå¤š\n- F å€¼è¶Šå¤§ï¼Œå…‰åœˆè¶Šå°ï¼Œè¿›å…‰é‡è¶Šå°\n\n![å…‰åœˆ](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621201653.1zi4eztwgs.webp)\n\n### å¸¸ç”¨å‚æ•°\n\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621201823.2a4y85bktd.webp)\n\n![2](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621201836.7ljusuxnhf.webp)\n\n## æ„Ÿå…‰åº¦ ISO\n\n### ä»€ä¹ˆæ˜¯æ„Ÿå…‰åº¦ï¼Ÿ\n\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621202116.45hj0rr8sa.webp)\n![2](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621202218.8ad4cvppfy.webp)\n\n### å½±å“æ›å…‰\n\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621202319.4n7kpcvd5n.webp)\n![2](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621202329.5j424t51lo.webp)\n\n### å½±å“ç”»è´¨\n\nåœ¨èƒ½ä¿è¯ç›¸æœºçš„ç¨³å®šï¼Œèƒ½ä¿è¯è¢«æ‹æ‘„ä¸»ä½“æ¸…æ™°æ—¶ï¼Œä½¿ç”¨å°½å¯èƒ½ä½çš„æ„Ÿå…‰åº¦ï¼Œä»è€Œä¿è¯ç”»è´¨ï¼›\n\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621202504.2h863l5tg0.webp)\n\n### å¸¸ç”¨å‚æ•°\n\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/å¾®ä¿¡æˆªå›¾_20240621202645.99t7q1y9ot.webp)\n","slug":"ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/æ‹æ‘„ä¸‰è¦ç´ ","published":1,"updated":"2025-03-13T10:16:15.421Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j3005afg9m12666xqn","content":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>ä¸ºä»€ä¹ˆä¼šæ€»ç»“æ‹æ‘„å‘¢ï¼Ÿ</p>\n<p><strong>ä½ å¯ä»¥ä¸ä¼šæ‹ç…§ï¼Œä½†æ˜¯ä½ çš„å­¦ä¼šæ‹ç…§</strong> æ‹æ‘„ä¸æ˜¯ä¸ºäº†ç‚«è€€ï¼Œè€Œæ˜¯ä¸ºäº†<strong>è®°å½•ç”Ÿæ´»</strong>ã€‚</p>\n<p>å½“ç„¶æœ€è¿‘æˆ‘ä¹Ÿæ˜¯åœ¨å­¦ä¹ æ‹æ‘„ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰å¾ˆå¤šä¸œè¥¿éœ€è¦æ€»ç»“ï¼Œæ¯”å¦‚ï¼š</p>\n<ol>\n<li>æ‹æ‘„ä¸‰è¦ç´ ï¼š æ„Ÿå…‰åº¦ã€å…‰åœˆã€å¿«é—¨</li>\n<li>æ‹æ‘„æŠ€å·§ï¼š æ›å…‰æŠ€å·§ã€å…‰åœˆæŠ€å·§ã€å¿«é—¨æŠ€å·§</li>\n<li>æ„å›¾æŠ€å·§ï¼š ä¸‰åˆ†çº¿æ„å›¾ã€å¯¹è§’çº¿æ„å›¾ã€æ¡†æ¶å¼æ„å›¾ç­‰ç­‰</li>\n<li>â€¦</li>\n</ol>\n<p>æ¥ä¸‹æ¥ï¼Œæ€»ç»“ä¸€ä¸‹ä¸‰å…ƒç´ </p>\n<h2 id=\"å¿«é—¨\"><a href=\"#å¿«é—¨\" class=\"headerlink\" title=\"å¿«é—¨\"></a>å¿«é—¨</h2><h3 id=\"ä»€ä¹ˆæ˜¯å¿«é—¨ï¼Ÿ\"><a href=\"#ä»€ä¹ˆæ˜¯å¿«é—¨ï¼Ÿ\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯å¿«é—¨ï¼Ÿ\"></a>ä»€ä¹ˆæ˜¯å¿«é—¨ï¼Ÿ</h3><p>å¿«é—¨æ˜¯æ‹æ‘„çš„ä¸‰è¦ç´ ä¹‹ä¸€ï¼Œå¿«é—¨æ˜¯æ§åˆ¶æ›å…‰æ—¶é—´çš„å…³é”®; å¿«é—¨æ˜¯ç›¸æœºä¸­ <strong><font color=\"#ff0000\">ç”¨æ¥æ§åˆ¶å…‰çº¿ç…§å°„æ„Ÿå…‰å…ƒä»¶æ—¶é—´çš„è£…ç½®</font></strong>, ç”±è–„é‡‘å±ç‰‡æˆ–ä¸€ç»„ä¸é€å…‰çš„å¶ç‰‡ç»„æˆï¼›</p>\n<p>å½“ç„¶å¯ä»¥æŠŠå¿«é—¨ç†è§£æˆä¸€é“é—¨ï¼š</p>\n<ul>\n<li>é—¨å¼€å¯ï¼Œå…‰çº¿è¿›å…¥ï¼Œé—¨å…³é—­ï¼Œå…‰çº¿åœæ­¢è¿›å…¥</li>\n<li>é—¨å¼€å¯ä¸å…³é—­çš„æ—¶é—´(å¿«é—¨é€Ÿåº¦)å½±å“ç›¸æœºçš„è¿›å…‰é‡ï¼Œè€Œä»æ§åˆ¶ç…§ç‰‡çš„æ›å…‰ï¼›</li>\n</ul>\n<p>å¼€é—¨çš„é€Ÿåº¦å•ä½ä¸ºï¼š<font color=\"#ff0000\">ç§’</font>ï¼š æ¯”å¦‚ 1&#x2F;125 å°±æ˜¯ä¸€ç™¾äºŒåäº”åˆ†æ”¯ä¸€ç§’ï¼›<br>æ•°å€¼è¶Šå¤§ï¼Œ æ¯”å¦‚ 1&#x2F;125s &lt; 1&#x2F;50s &lt; 1&#x2F;15s &lt; 1s: <font color=\"#ff0000\">å¿«é—¨å¼€å¯çš„æ—¶é—´è¶Šé•¿ï¼Œç›¸æœºè¿›å…‰é‡è¶Šå¤šï¼Œç”»é¢è¶Šäº®ï¼Œåä¹‹è¶Šå°ï¼Œè¿›å…‰é‡è¶Šå°‘ï¼Œç”»é¢è¶Šæš—ã€‚</font></p>\n<h3 id=\"å¿«é—¨é€Ÿåº¦\"><a href=\"#å¿«é—¨é€Ÿåº¦\" class=\"headerlink\" title=\"å¿«é—¨é€Ÿåº¦\"></a>å¿«é—¨é€Ÿåº¦</h3><p>å…‰åœˆ, iso ä¸å˜çš„æƒ…å†µä¸‹ï¼š</p>\n<ol>\n<li>å¿«é—¨å¼€å¯çš„æ—¶é—´è¶Šé•¿ï¼Œå¿«é—¨é€Ÿåº¦è¶Šæ…¢ï¼Œç”»é¢è¶Šäº®</li>\n<li>å¿«é—¨å¼€å¯çš„æ—¶é—´è¶ŠçŸ­ï¼Œå¿«é—¨é€Ÿåº¦è¶Šå¿«ï¼Œç”»é¢è¶Šæš—</li>\n</ol>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621200359.7ax0zp1o70.webp\" alt=\"å¿«é—¨é€Ÿåº¦\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621200415.73tt49firh.webp\" alt=\"å¿«é—¨é€Ÿåº¦\"></p>\n<h3 id=\"å¿«é—¨çš„åº”ç”¨\"><a href=\"#å¿«é—¨çš„åº”ç”¨\" class=\"headerlink\" title=\"å¿«é—¨çš„åº”ç”¨\"></a>å¿«é—¨çš„åº”ç”¨</h3><ol>\n<li>é«˜é€Ÿå¿«é—¨-å®šæ ¼æŠ“æ‹ï¼šå¿«é—¨é€Ÿåº¦è¾ƒå¿«ï¼Œå¯ä»¥å®šæ ¼åˆ¹é‚£é—´çš„å½¢çŠ¶ï¼Œæ¯”å¦‚ï¼šæŠ“æ‹åŠ¨ç‰©ï¼Œè¿åŠ¨å‘˜ç­‰ç­‰</li>\n<li>æ…¢é€Ÿå¿«é—¨-å°¾ç¯æ‹‰ä¸ï¼šæ‹æ‘„å°¾ç¯æ‹‰ä¸æ•ˆæœéœ€è¦æ…¢é—¨æ‹æ‘„ä¹Ÿç§°â€œé•¿æ›å…‰â€æ˜¯ç›¸æœºè®°å½•è½¦æµè¿åŠ¨è½¨è¿¹ä¹‹åè¡Œç¨‹çš„ç…§ç‰‡æ•ˆæœï¼›</li>\n</ol>\n<p><strong>æ…¢é€Ÿå¿«é—¨ä¹Ÿä¼šé€ æˆç”»é¢æ¨¡ç³Šï¼Œè¦æ³¨æ„å¿«é—¨é€Ÿåº¦ä¸èƒ½ä½äºå®‰å…¨å¿«é—¨é€Ÿåº¦</strong></p>\n<h2 id=\"å…‰åœˆ\"><a href=\"#å…‰åœˆ\" class=\"headerlink\" title=\"å…‰åœˆ\"></a>å…‰åœˆ</h2><h3 id=\"ä»€ä¹ˆæ˜¯å…‰åœˆï¼Ÿ\"><a href=\"#ä»€ä¹ˆæ˜¯å…‰åœˆï¼Ÿ\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯å…‰åœˆï¼Ÿ\"></a>ä»€ä¹ˆæ˜¯å…‰åœˆï¼Ÿ</h3><p>å…‰åœˆå°±æ˜¯é•œå¤´ä¸Šçš„ä¸€ä¸ªæ´ï¼Œä¸€ä¸ªæ§åˆ¶å…‰çº¿è¿›å…¥ç›¸æœºå†…éƒ¨çš„å­”å¾„è£…ç½®ï¼Œé€šè¿‡æ§åˆ¶å¶ç‰‡çš„å¼€åˆç¨‹åº¦æ§åˆ¶å…‰å­”çš„å¤§å°ï¼Œè¿›è€Œå½±å“è¿›å…‰é‡ï¼›</p>\n<p>åœ¨ç›¸æœºä¸Šé€šå¸¸<font color=\"#ff0000\">F</font>è¡¨ç¤ºçš„æ˜¯å…‰åœˆçš„å¤§å°</p>\n<ul>\n<li>F å€¼è¶Šå°ï¼Œå…‰åœˆè¶Šå¤§ï¼Œè¿›å…‰é‡è¶Šå¤š</li>\n<li>F å€¼è¶Šå¤§ï¼Œå…‰åœˆè¶Šå°ï¼Œè¿›å…‰é‡è¶Šå°</li>\n</ul>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621201653.1zi4eztwgs.webp\" alt=\"å…‰åœˆ\"></p>\n<h3 id=\"å¸¸ç”¨å‚æ•°\"><a href=\"#å¸¸ç”¨å‚æ•°\" class=\"headerlink\" title=\"å¸¸ç”¨å‚æ•°\"></a>å¸¸ç”¨å‚æ•°</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621201823.2a4y85bktd.webp\" alt=\"1\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621201836.7ljusuxnhf.webp\" alt=\"2\"></p>\n<h2 id=\"æ„Ÿå…‰åº¦-ISO\"><a href=\"#æ„Ÿå…‰åº¦-ISO\" class=\"headerlink\" title=\"æ„Ÿå…‰åº¦ ISO\"></a>æ„Ÿå…‰åº¦ ISO</h2><h3 id=\"ä»€ä¹ˆæ˜¯æ„Ÿå…‰åº¦ï¼Ÿ\"><a href=\"#ä»€ä¹ˆæ˜¯æ„Ÿå…‰åº¦ï¼Ÿ\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯æ„Ÿå…‰åº¦ï¼Ÿ\"></a>ä»€ä¹ˆæ˜¯æ„Ÿå…‰åº¦ï¼Ÿ</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621202116.45hj0rr8sa.webp\" alt=\"1\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621202218.8ad4cvppfy.webp\" alt=\"2\"></p>\n<h3 id=\"å½±å“æ›å…‰\"><a href=\"#å½±å“æ›å…‰\" class=\"headerlink\" title=\"å½±å“æ›å…‰\"></a>å½±å“æ›å…‰</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621202319.4n7kpcvd5n.webp\" alt=\"1\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621202329.5j424t51lo.webp\" alt=\"2\"></p>\n<h3 id=\"å½±å“ç”»è´¨\"><a href=\"#å½±å“ç”»è´¨\" class=\"headerlink\" title=\"å½±å“ç”»è´¨\"></a>å½±å“ç”»è´¨</h3><p>åœ¨èƒ½ä¿è¯ç›¸æœºçš„ç¨³å®šï¼Œèƒ½ä¿è¯è¢«æ‹æ‘„ä¸»ä½“æ¸…æ™°æ—¶ï¼Œä½¿ç”¨å°½å¯èƒ½ä½çš„æ„Ÿå…‰åº¦ï¼Œä»è€Œä¿è¯ç”»è´¨ï¼›</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621202504.2h863l5tg0.webp\" alt=\"1\"></p>\n<h3 id=\"å¸¸ç”¨å‚æ•°-1\"><a href=\"#å¸¸ç”¨å‚æ•°-1\" class=\"headerlink\" title=\"å¸¸ç”¨å‚æ•°\"></a>å¸¸ç”¨å‚æ•°</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621202645.99t7q1y9ot.webp\" alt=\"1\"></p>\n","excerpt":"","more":"<h1 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h1><p>ä¸ºä»€ä¹ˆä¼šæ€»ç»“æ‹æ‘„å‘¢ï¼Ÿ</p>\n<p><strong>ä½ å¯ä»¥ä¸ä¼šæ‹ç…§ï¼Œä½†æ˜¯ä½ çš„å­¦ä¼šæ‹ç…§</strong> æ‹æ‘„ä¸æ˜¯ä¸ºäº†ç‚«è€€ï¼Œè€Œæ˜¯ä¸ºäº†<strong>è®°å½•ç”Ÿæ´»</strong>ã€‚</p>\n<p>å½“ç„¶æœ€è¿‘æˆ‘ä¹Ÿæ˜¯åœ¨å­¦ä¹ æ‹æ‘„ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰å¾ˆå¤šä¸œè¥¿éœ€è¦æ€»ç»“ï¼Œæ¯”å¦‚ï¼š</p>\n<ol>\n<li>æ‹æ‘„ä¸‰è¦ç´ ï¼š æ„Ÿå…‰åº¦ã€å…‰åœˆã€å¿«é—¨</li>\n<li>æ‹æ‘„æŠ€å·§ï¼š æ›å…‰æŠ€å·§ã€å…‰åœˆæŠ€å·§ã€å¿«é—¨æŠ€å·§</li>\n<li>æ„å›¾æŠ€å·§ï¼š ä¸‰åˆ†çº¿æ„å›¾ã€å¯¹è§’çº¿æ„å›¾ã€æ¡†æ¶å¼æ„å›¾ç­‰ç­‰</li>\n<li>â€¦</li>\n</ol>\n<p>æ¥ä¸‹æ¥ï¼Œæ€»ç»“ä¸€ä¸‹ä¸‰å…ƒç´ </p>\n<h2 id=\"å¿«é—¨\"><a href=\"#å¿«é—¨\" class=\"headerlink\" title=\"å¿«é—¨\"></a>å¿«é—¨</h2><h3 id=\"ä»€ä¹ˆæ˜¯å¿«é—¨ï¼Ÿ\"><a href=\"#ä»€ä¹ˆæ˜¯å¿«é—¨ï¼Ÿ\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯å¿«é—¨ï¼Ÿ\"></a>ä»€ä¹ˆæ˜¯å¿«é—¨ï¼Ÿ</h3><p>å¿«é—¨æ˜¯æ‹æ‘„çš„ä¸‰è¦ç´ ä¹‹ä¸€ï¼Œå¿«é—¨æ˜¯æ§åˆ¶æ›å…‰æ—¶é—´çš„å…³é”®; å¿«é—¨æ˜¯ç›¸æœºä¸­ <strong><font color=\"#ff0000\">ç”¨æ¥æ§åˆ¶å…‰çº¿ç…§å°„æ„Ÿå…‰å…ƒä»¶æ—¶é—´çš„è£…ç½®</font></strong>, ç”±è–„é‡‘å±ç‰‡æˆ–ä¸€ç»„ä¸é€å…‰çš„å¶ç‰‡ç»„æˆï¼›</p>\n<p>å½“ç„¶å¯ä»¥æŠŠå¿«é—¨ç†è§£æˆä¸€é“é—¨ï¼š</p>\n<ul>\n<li>é—¨å¼€å¯ï¼Œå…‰çº¿è¿›å…¥ï¼Œé—¨å…³é—­ï¼Œå…‰çº¿åœæ­¢è¿›å…¥</li>\n<li>é—¨å¼€å¯ä¸å…³é—­çš„æ—¶é—´(å¿«é—¨é€Ÿåº¦)å½±å“ç›¸æœºçš„è¿›å…‰é‡ï¼Œè€Œä»æ§åˆ¶ç…§ç‰‡çš„æ›å…‰ï¼›</li>\n</ul>\n<p>å¼€é—¨çš„é€Ÿåº¦å•ä½ä¸ºï¼š<font color=\"#ff0000\">ç§’</font>ï¼š æ¯”å¦‚ 1&#x2F;125 å°±æ˜¯ä¸€ç™¾äºŒåäº”åˆ†æ”¯ä¸€ç§’ï¼›<br>æ•°å€¼è¶Šå¤§ï¼Œ æ¯”å¦‚ 1&#x2F;125s &lt; 1&#x2F;50s &lt; 1&#x2F;15s &lt; 1s: <font color=\"#ff0000\">å¿«é—¨å¼€å¯çš„æ—¶é—´è¶Šé•¿ï¼Œç›¸æœºè¿›å…‰é‡è¶Šå¤šï¼Œç”»é¢è¶Šäº®ï¼Œåä¹‹è¶Šå°ï¼Œè¿›å…‰é‡è¶Šå°‘ï¼Œç”»é¢è¶Šæš—ã€‚</font></p>\n<h3 id=\"å¿«é—¨é€Ÿåº¦\"><a href=\"#å¿«é—¨é€Ÿåº¦\" class=\"headerlink\" title=\"å¿«é—¨é€Ÿåº¦\"></a>å¿«é—¨é€Ÿåº¦</h3><p>å…‰åœˆ, iso ä¸å˜çš„æƒ…å†µä¸‹ï¼š</p>\n<ol>\n<li>å¿«é—¨å¼€å¯çš„æ—¶é—´è¶Šé•¿ï¼Œå¿«é—¨é€Ÿåº¦è¶Šæ…¢ï¼Œç”»é¢è¶Šäº®</li>\n<li>å¿«é—¨å¼€å¯çš„æ—¶é—´è¶ŠçŸ­ï¼Œå¿«é—¨é€Ÿåº¦è¶Šå¿«ï¼Œç”»é¢è¶Šæš—</li>\n</ol>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621200359.7ax0zp1o70.webp\" alt=\"å¿«é—¨é€Ÿåº¦\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621200415.73tt49firh.webp\" alt=\"å¿«é—¨é€Ÿåº¦\"></p>\n<h3 id=\"å¿«é—¨çš„åº”ç”¨\"><a href=\"#å¿«é—¨çš„åº”ç”¨\" class=\"headerlink\" title=\"å¿«é—¨çš„åº”ç”¨\"></a>å¿«é—¨çš„åº”ç”¨</h3><ol>\n<li>é«˜é€Ÿå¿«é—¨-å®šæ ¼æŠ“æ‹ï¼šå¿«é—¨é€Ÿåº¦è¾ƒå¿«ï¼Œå¯ä»¥å®šæ ¼åˆ¹é‚£é—´çš„å½¢çŠ¶ï¼Œæ¯”å¦‚ï¼šæŠ“æ‹åŠ¨ç‰©ï¼Œè¿åŠ¨å‘˜ç­‰ç­‰</li>\n<li>æ…¢é€Ÿå¿«é—¨-å°¾ç¯æ‹‰ä¸ï¼šæ‹æ‘„å°¾ç¯æ‹‰ä¸æ•ˆæœéœ€è¦æ…¢é—¨æ‹æ‘„ä¹Ÿç§°â€œé•¿æ›å…‰â€æ˜¯ç›¸æœºè®°å½•è½¦æµè¿åŠ¨è½¨è¿¹ä¹‹åè¡Œç¨‹çš„ç…§ç‰‡æ•ˆæœï¼›</li>\n</ol>\n<p><strong>æ…¢é€Ÿå¿«é—¨ä¹Ÿä¼šé€ æˆç”»é¢æ¨¡ç³Šï¼Œè¦æ³¨æ„å¿«é—¨é€Ÿåº¦ä¸èƒ½ä½äºå®‰å…¨å¿«é—¨é€Ÿåº¦</strong></p>\n<h2 id=\"å…‰åœˆ\"><a href=\"#å…‰åœˆ\" class=\"headerlink\" title=\"å…‰åœˆ\"></a>å…‰åœˆ</h2><h3 id=\"ä»€ä¹ˆæ˜¯å…‰åœˆï¼Ÿ\"><a href=\"#ä»€ä¹ˆæ˜¯å…‰åœˆï¼Ÿ\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯å…‰åœˆï¼Ÿ\"></a>ä»€ä¹ˆæ˜¯å…‰åœˆï¼Ÿ</h3><p>å…‰åœˆå°±æ˜¯é•œå¤´ä¸Šçš„ä¸€ä¸ªæ´ï¼Œä¸€ä¸ªæ§åˆ¶å…‰çº¿è¿›å…¥ç›¸æœºå†…éƒ¨çš„å­”å¾„è£…ç½®ï¼Œé€šè¿‡æ§åˆ¶å¶ç‰‡çš„å¼€åˆç¨‹åº¦æ§åˆ¶å…‰å­”çš„å¤§å°ï¼Œè¿›è€Œå½±å“è¿›å…‰é‡ï¼›</p>\n<p>åœ¨ç›¸æœºä¸Šé€šå¸¸<font color=\"#ff0000\">F</font>è¡¨ç¤ºçš„æ˜¯å…‰åœˆçš„å¤§å°</p>\n<ul>\n<li>F å€¼è¶Šå°ï¼Œå…‰åœˆè¶Šå¤§ï¼Œè¿›å…‰é‡è¶Šå¤š</li>\n<li>F å€¼è¶Šå¤§ï¼Œå…‰åœˆè¶Šå°ï¼Œè¿›å…‰é‡è¶Šå°</li>\n</ul>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621201653.1zi4eztwgs.webp\" alt=\"å…‰åœˆ\"></p>\n<h3 id=\"å¸¸ç”¨å‚æ•°\"><a href=\"#å¸¸ç”¨å‚æ•°\" class=\"headerlink\" title=\"å¸¸ç”¨å‚æ•°\"></a>å¸¸ç”¨å‚æ•°</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621201823.2a4y85bktd.webp\" alt=\"1\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621201836.7ljusuxnhf.webp\" alt=\"2\"></p>\n<h2 id=\"æ„Ÿå…‰åº¦-ISO\"><a href=\"#æ„Ÿå…‰åº¦-ISO\" class=\"headerlink\" title=\"æ„Ÿå…‰åº¦ ISO\"></a>æ„Ÿå…‰åº¦ ISO</h2><h3 id=\"ä»€ä¹ˆæ˜¯æ„Ÿå…‰åº¦ï¼Ÿ\"><a href=\"#ä»€ä¹ˆæ˜¯æ„Ÿå…‰åº¦ï¼Ÿ\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯æ„Ÿå…‰åº¦ï¼Ÿ\"></a>ä»€ä¹ˆæ˜¯æ„Ÿå…‰åº¦ï¼Ÿ</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621202116.45hj0rr8sa.webp\" alt=\"1\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621202218.8ad4cvppfy.webp\" alt=\"2\"></p>\n<h3 id=\"å½±å“æ›å…‰\"><a href=\"#å½±å“æ›å…‰\" class=\"headerlink\" title=\"å½±å“æ›å…‰\"></a>å½±å“æ›å…‰</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621202319.4n7kpcvd5n.webp\" alt=\"1\"><br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621202329.5j424t51lo.webp\" alt=\"2\"></p>\n<h3 id=\"å½±å“ç”»è´¨\"><a href=\"#å½±å“ç”»è´¨\" class=\"headerlink\" title=\"å½±å“ç”»è´¨\"></a>å½±å“ç”»è´¨</h3><p>åœ¨èƒ½ä¿è¯ç›¸æœºçš„ç¨³å®šï¼Œèƒ½ä¿è¯è¢«æ‹æ‘„ä¸»ä½“æ¸…æ™°æ—¶ï¼Œä½¿ç”¨å°½å¯èƒ½ä½çš„æ„Ÿå…‰åº¦ï¼Œä»è€Œä¿è¯ç”»è´¨ï¼›</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621202504.2h863l5tg0.webp\" alt=\"1\"></p>\n<h3 id=\"å¸¸ç”¨å‚æ•°-1\"><a href=\"#å¸¸ç”¨å‚æ•°-1\" class=\"headerlink\" title=\"å¸¸ç”¨å‚æ•°\"></a>å¸¸ç”¨å‚æ•°</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240621202645.99t7q1y9ot.webp\" alt=\"1\"></p>\n"},{"title":"ç”Ÿæ´»-æ²‰æµ¸ä¹‹åçš„æ€»ç»“ï¼ˆä¸€ï¼‰","abbrlink":"7aee36a8","date":"2023-10-08T01:05:01.000Z","_content":"\n# å‰è¨€\n\n\"æ²‰æµ¸\"äº†ä¸€æ®µæ—¶é—´ï¼Œä»Šå¤©å†æ¬¡å‘åšæ–‡ï¼Œå¿ƒæƒ…å¾ˆæ˜¯ä¸ä¸€æ ·ï¼›ä¸ºä»€ä¹ˆä¼šâ€œæ²‰æµ¸â€ä¸€æ®µæ—¶é—´å‘¢ï¼Ÿ\n\nè¯´æ¥è¯é•¿äº†, æœ¬æƒ³ç€æ¯ä¸ªæœˆå‘å¤§çº¦ 4 ç¯‡åšæ–‡æ€»ç»“ï¼Œä½†æ˜¯è¿‘æœŸäº‹æƒ…æ¯”è¾ƒå¤šï¼Œé’ˆå¯¹å…¬å¸ä¸šåŠ¡åŠ ç­ï¼Œèµ¶è¿›åº¦ï¼Œå¼€å‘å¯¹åº”éœ€æ±‚ï¼›æ¯å¤©æ™šä¸Šå›æ¥å‡ ä¹éƒ½åœ¨ 9.30 å·¦å³ï¼Œåœ¨ç‚¹ä¸ªå¤–å–ï¼Œæ”¶æ‹¾ å«ç”Ÿï¼Œåœ¨æ´—ä¸ªæ¾¡å°±å·®ä¸å¤šå°± 0.00 äº†ï¼Œä¹Ÿå°±æ²¡ä»€ä¹ˆæ—¶é—´å‘æ–‡ç« äº†ï¼›\n\nåœ¨å‡ å¹´ä¹‹å‰ï¼Œä¹Ÿå°±æ˜¯å¤§çº¦æ˜¯åœ¨åˆšæ¥ä¸Šæµ·çš„é‚£ 2 å¹´å·¦å³å§ï¼Œè‡ªå·±çš„å¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯åœ¨å­¦ä¹ å·¥ä½œæŠ€èƒ½ï¼Œæˆ‘æœ¬èº«å°±æ˜¯å‰ç«¯å¼€å‘äººå‘˜ï¼Œæ¯•ç«Ÿæ¥è§¦çš„èŒƒå›´å’Œå±‚æ¬¡ä¸åŒï¼Œæ‰ä¼šèŠ±è´¹å¤§éƒ¨åˆ†æ—¶é—´å»å­¦ä¹ ã€‚è‡ªå·±çš„å¾ˆå¤§ç²¾åŠ›éƒ½åœ¨è‡ªå·±çš„æŠ€æœ¯å±‚é¢ï¼ŒçŸ¥é“æœ€è¿‘æ…¢æ…¢å›å½’ç”Ÿæ´»äº†ï¼Œæœ€åæ‰å‘ç°è‡ªå·±å¤±å»çš„æ—¶é—´å¤ªå¤šã€‚ç°åœ¨æŠ€æœ¯ç»è¿‡é¡¹ç›®çš„æ²‰æ·€ï¼Œç°åœ¨æ…¢æ…¢å›å½’ç”Ÿæ´»ï¼Œæ‰å‘ç°å¥½å¥½ç”Ÿæ´»ï¼Œè‡ªå·±çš„çŠ¶æ€æ…¢æ…¢å›åˆ°äº†æ­£è½¨â€™\n\n## æ”¾æ¾-æ—…æ¸¸\n\nåœ¨ä»Šå¹´å›½åº†å‰åå»äº†èººä¹Œé•‡ï¼Œä¹Ÿå½“æ—¶æ”¾æ¾ï¼ŒåŒæ—¶æ»¡è¶³è‡ªå·±çš„æ—…æ¸¸æ¢¦ï¼›\n\nè¿™æ¬¡æ—…æ¸¸æå‡ºè€…å‘¢ï¼Œä¸å‡ºæ„å¤–çš„è¯å°±æ˜¯æˆ‘æå‡ºçš„ï¼Œèµ·åˆæ˜¯åœ¨æŠ–éŸ³ä¸Šçœ‹è§å¾å·å°åƒè¡—çš„å°åƒï¼Œå˜´ç˜¾å°±ä¸Šæ¥äº†ï¼Œç„¶åå°±åœ¨å¾®ä¿¡ä¸Šè·Ÿæœ‹å‹è¯´ï¼šâ€œä¸€å‘¨ä¸€åº§åŸâ€ã€‚ç„¶åç®€å•éœ¸æ°”çš„å›äº†æˆ‘ä¸€ä¸ªå­—ï¼šâ€èµ°â€œï¼›è¯´èµ°å’±å°±èµ°ï¼Œå°±å–œæ¬¢è¿™ä¹ˆç›´æ¥çš„ï¼Œç„¶åè¿‡äº†ä¿©å¤©å°±ç›´æ¥æ‹‰ä¸ªå°ç¾¤ï¼Œä¸€å…±ä¸‰äººï¼Œå°±å¼€å§‹è¿™éƒ¨ç½²å‘¨å…­æ—¥çš„æ—…æ¸¸è®¡åˆ’ï¼›\n\nå› ä¸ºæ—¶é—´å¾ˆç´§å¼ ï¼Œæ‰€ä»¥ç›´æ¥æ¥äº†ä¸€ä¸ªè¯´èµ°å°±èµ°çš„æ—…è¡Œï¼Œå°±æŠŠæ—¶é—´å®šäº†ä¸‹æ¥ï¼Œå‘¨å…­ä¸­åˆå°±å‡ºå‘ï¼›æœ‹å‹å¼€è½¦ï¼Œå‰ä¸€å¤©è¯´è½¦è½®è¢«é’‰å­æ‰äº†ï¼Œå¯èƒ½å»ä¸äº†ï¼Œæˆ‘ä»¬èµ¶ç´§å°±ä¹°äº†å‘¨å…­ä¸‹åˆçš„ç¥¨ï¼Œè™¹æ¡¥ç«è½¦ç«™å‡ºå‘ï¼Œåˆ°äº†ç¬¬äºŒå¤©æœ‹å‹å§è½¦ç¥¨é€€äº†è¯´æ˜¯è½¦èƒå¥½äº†ï¼Œç„¶åæˆ‘å°±é—®äº†ä¸€ä¸‹å…·ä½“å‡ºå‘æ—¶é—´ï¼Œè¶ç€è¿™æ®µæ—¶é—´æŠŠå®¶é‡Œå«ç”Ÿæ”¶æ‹¾ä¸€ä¸‹ï¼›\n\nä¸‹åˆæœ‹å‹å¼€è½¦åˆ°äº†æˆ‘å°åŒºï¼Œç„¶åç›´æ¥å¼€å¯äº†ä¿©å¤©ä¸€å¤œçš„ä¹Œé•‡ä¸€æ¸¸ï¼›\n\nä¸‹åˆçš„æ—¶å€™å°±åˆ°äº†**åŒ—æ …**, åˆ°äº†ä¹‹åï¼ŒçŸ­æš‚ä¼‘æ¯äº†ç‰‡åˆ»ï¼Œæ™šä¸Šå°±ç›´æ¥å»äº†åŒ—æ …ï¼ŒåŒ—æ …å°±æ˜¯ä¸€ä¸ªé£ä¿—æ–‡åŒ–çš„åœ°æ–¹ï¼Œé¡ºå¸¦åœ¨é™„è¿‘åƒäº†ä¸ªé¥­ï¼›\n\nç¬¬äºŒå¤©æœ‹å‹å°±ç›´æ¥å¼€è½¦å»äº†**å—æ …**ï¼Œå—æ …æ˜¯ä¸€ä¸ªå†å²å»ºç­‘ï¼Œé‡Œé¢æœ‰å¾ˆå¤šå†å²æ•…äº‹ï¼Œè¿˜æœ‰è®¸å¤šæ™¯ç‚¹ï¼Œå½“ç„¶ä¹Ÿåƒäº†ä¸ªé¥­ï¼›\nä¸è¿‡é‚£ä¸ªé¥­çœŸçš„ä¸é”™ï¼Œç¾Šè‚‰é¢è‚¥è€Œä¸è…»ï¼Œå…¥å£å³åŒ–ï¼Œå°±æ˜¯æ™¯åŒºä»·æ ¼æœ‰ç‚¹è´µï¼›\n\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/070A2001.JPG)\n\n![2](https://wangxiaoze-view.github.io/picx-images-hosting/images/7684aa5598222e4fb6c5da1242264e4.jpg)\n\n![3](https://wangxiaoze-view.github.io/picx-images-hosting/images/b37a9bfe7b4035aa9d1ab5db5ce15b1.jpg)\n\n![4](https://wangxiaoze-view.github.io/picx-images-hosting/images/d1d7945f6766e3f554b884bc5848342.jpg)\n\n![5](https://wangxiaoze-view.github.io/picx-images-hosting/images/7cd6c95e5777a0389c48f44694c9d7d.jpg)\n\n![6](https://wangxiaoze-view.github.io/picx-images-hosting/images/9e8609733f4a8658f2519b47df068f9.jpg)\n\nç©è€æ—¶é—´å¾ˆçŸ­ï¼Œå¿ƒæƒ…å¾ˆçˆ½ï¼Œè·¯ä¸Šçš„æ—¶å€™ä¹Ÿæ˜¯éšæ‰‹æ‹äº†å‡ å¼ ç…§ç‰‡ï¼Œè¦è¯´ç…§ç‰‡è‚¯å®šæ¯”ä¸ä¸Šä¸“ä¸šè®¾å¤‡ metzï¼Œä¸è¿‡æ‹å‡ºæ¥çš„ç…§ç‰‡ä¹ŸæŒºå¥½çœ‹çš„ï¼›æœ‹å‹åˆ†äº«çš„ç…§ç‰‡æˆ‘ä¿å­˜åœ¨ç½‘ç›˜ä¸Šäº†ï¼Œæ–‡ä»¶å¤ªå¤§äº†ï¼Œæ™®é€šè®¾å¤‡è¿˜ä¸è¡Œè¿™ä¸€ä¸‹ä¼°è®¡ 7 ä¸ª G å·¦å³çš„å†…å®¹ï¼Œé‡Œé¢æœ‰å›¾ç‰‡ï¼Œæœ‰æ–‡è‰ºçš„ä½œå“ç­‰ç­‰ï¼›\n\n**é“¾æ¥: https://pan.baidu.com/s/1SDKkbyALTTqeKsdNmFSdOA æå–ç : nryb å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœº Appï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦**\n","source":"_posts/ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/æ²‰æµ¸ä¹‹åçš„æ€»ç»“ï¼ˆä¸€ï¼‰.md","raw":"---\ntitle: ç”Ÿæ´»-æ²‰æµ¸ä¹‹åçš„æ€»ç»“ï¼ˆä¸€ï¼‰\nabbrlink: 7aee36a8\ndate: 2023-10-08 09:05:01\ncategories:\n  - ç”Ÿæ´»æ—¥å¿—\ntags:\n  - ç”Ÿæ´»\n---\n\n# å‰è¨€\n\n\"æ²‰æµ¸\"äº†ä¸€æ®µæ—¶é—´ï¼Œä»Šå¤©å†æ¬¡å‘åšæ–‡ï¼Œå¿ƒæƒ…å¾ˆæ˜¯ä¸ä¸€æ ·ï¼›ä¸ºä»€ä¹ˆä¼šâ€œæ²‰æµ¸â€ä¸€æ®µæ—¶é—´å‘¢ï¼Ÿ\n\nè¯´æ¥è¯é•¿äº†, æœ¬æƒ³ç€æ¯ä¸ªæœˆå‘å¤§çº¦ 4 ç¯‡åšæ–‡æ€»ç»“ï¼Œä½†æ˜¯è¿‘æœŸäº‹æƒ…æ¯”è¾ƒå¤šï¼Œé’ˆå¯¹å…¬å¸ä¸šåŠ¡åŠ ç­ï¼Œèµ¶è¿›åº¦ï¼Œå¼€å‘å¯¹åº”éœ€æ±‚ï¼›æ¯å¤©æ™šä¸Šå›æ¥å‡ ä¹éƒ½åœ¨ 9.30 å·¦å³ï¼Œåœ¨ç‚¹ä¸ªå¤–å–ï¼Œæ”¶æ‹¾ å«ç”Ÿï¼Œåœ¨æ´—ä¸ªæ¾¡å°±å·®ä¸å¤šå°± 0.00 äº†ï¼Œä¹Ÿå°±æ²¡ä»€ä¹ˆæ—¶é—´å‘æ–‡ç« äº†ï¼›\n\nåœ¨å‡ å¹´ä¹‹å‰ï¼Œä¹Ÿå°±æ˜¯å¤§çº¦æ˜¯åœ¨åˆšæ¥ä¸Šæµ·çš„é‚£ 2 å¹´å·¦å³å§ï¼Œè‡ªå·±çš„å¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯åœ¨å­¦ä¹ å·¥ä½œæŠ€èƒ½ï¼Œæˆ‘æœ¬èº«å°±æ˜¯å‰ç«¯å¼€å‘äººå‘˜ï¼Œæ¯•ç«Ÿæ¥è§¦çš„èŒƒå›´å’Œå±‚æ¬¡ä¸åŒï¼Œæ‰ä¼šèŠ±è´¹å¤§éƒ¨åˆ†æ—¶é—´å»å­¦ä¹ ã€‚è‡ªå·±çš„å¾ˆå¤§ç²¾åŠ›éƒ½åœ¨è‡ªå·±çš„æŠ€æœ¯å±‚é¢ï¼ŒçŸ¥é“æœ€è¿‘æ…¢æ…¢å›å½’ç”Ÿæ´»äº†ï¼Œæœ€åæ‰å‘ç°è‡ªå·±å¤±å»çš„æ—¶é—´å¤ªå¤šã€‚ç°åœ¨æŠ€æœ¯ç»è¿‡é¡¹ç›®çš„æ²‰æ·€ï¼Œç°åœ¨æ…¢æ…¢å›å½’ç”Ÿæ´»ï¼Œæ‰å‘ç°å¥½å¥½ç”Ÿæ´»ï¼Œè‡ªå·±çš„çŠ¶æ€æ…¢æ…¢å›åˆ°äº†æ­£è½¨â€™\n\n## æ”¾æ¾-æ—…æ¸¸\n\nåœ¨ä»Šå¹´å›½åº†å‰åå»äº†èººä¹Œé•‡ï¼Œä¹Ÿå½“æ—¶æ”¾æ¾ï¼ŒåŒæ—¶æ»¡è¶³è‡ªå·±çš„æ—…æ¸¸æ¢¦ï¼›\n\nè¿™æ¬¡æ—…æ¸¸æå‡ºè€…å‘¢ï¼Œä¸å‡ºæ„å¤–çš„è¯å°±æ˜¯æˆ‘æå‡ºçš„ï¼Œèµ·åˆæ˜¯åœ¨æŠ–éŸ³ä¸Šçœ‹è§å¾å·å°åƒè¡—çš„å°åƒï¼Œå˜´ç˜¾å°±ä¸Šæ¥äº†ï¼Œç„¶åå°±åœ¨å¾®ä¿¡ä¸Šè·Ÿæœ‹å‹è¯´ï¼šâ€œä¸€å‘¨ä¸€åº§åŸâ€ã€‚ç„¶åç®€å•éœ¸æ°”çš„å›äº†æˆ‘ä¸€ä¸ªå­—ï¼šâ€èµ°â€œï¼›è¯´èµ°å’±å°±èµ°ï¼Œå°±å–œæ¬¢è¿™ä¹ˆç›´æ¥çš„ï¼Œç„¶åè¿‡äº†ä¿©å¤©å°±ç›´æ¥æ‹‰ä¸ªå°ç¾¤ï¼Œä¸€å…±ä¸‰äººï¼Œå°±å¼€å§‹è¿™éƒ¨ç½²å‘¨å…­æ—¥çš„æ—…æ¸¸è®¡åˆ’ï¼›\n\nå› ä¸ºæ—¶é—´å¾ˆç´§å¼ ï¼Œæ‰€ä»¥ç›´æ¥æ¥äº†ä¸€ä¸ªè¯´èµ°å°±èµ°çš„æ—…è¡Œï¼Œå°±æŠŠæ—¶é—´å®šäº†ä¸‹æ¥ï¼Œå‘¨å…­ä¸­åˆå°±å‡ºå‘ï¼›æœ‹å‹å¼€è½¦ï¼Œå‰ä¸€å¤©è¯´è½¦è½®è¢«é’‰å­æ‰äº†ï¼Œå¯èƒ½å»ä¸äº†ï¼Œæˆ‘ä»¬èµ¶ç´§å°±ä¹°äº†å‘¨å…­ä¸‹åˆçš„ç¥¨ï¼Œè™¹æ¡¥ç«è½¦ç«™å‡ºå‘ï¼Œåˆ°äº†ç¬¬äºŒå¤©æœ‹å‹å§è½¦ç¥¨é€€äº†è¯´æ˜¯è½¦èƒå¥½äº†ï¼Œç„¶åæˆ‘å°±é—®äº†ä¸€ä¸‹å…·ä½“å‡ºå‘æ—¶é—´ï¼Œè¶ç€è¿™æ®µæ—¶é—´æŠŠå®¶é‡Œå«ç”Ÿæ”¶æ‹¾ä¸€ä¸‹ï¼›\n\nä¸‹åˆæœ‹å‹å¼€è½¦åˆ°äº†æˆ‘å°åŒºï¼Œç„¶åç›´æ¥å¼€å¯äº†ä¿©å¤©ä¸€å¤œçš„ä¹Œé•‡ä¸€æ¸¸ï¼›\n\nä¸‹åˆçš„æ—¶å€™å°±åˆ°äº†**åŒ—æ …**, åˆ°äº†ä¹‹åï¼ŒçŸ­æš‚ä¼‘æ¯äº†ç‰‡åˆ»ï¼Œæ™šä¸Šå°±ç›´æ¥å»äº†åŒ—æ …ï¼ŒåŒ—æ …å°±æ˜¯ä¸€ä¸ªé£ä¿—æ–‡åŒ–çš„åœ°æ–¹ï¼Œé¡ºå¸¦åœ¨é™„è¿‘åƒäº†ä¸ªé¥­ï¼›\n\nç¬¬äºŒå¤©æœ‹å‹å°±ç›´æ¥å¼€è½¦å»äº†**å—æ …**ï¼Œå—æ …æ˜¯ä¸€ä¸ªå†å²å»ºç­‘ï¼Œé‡Œé¢æœ‰å¾ˆå¤šå†å²æ•…äº‹ï¼Œè¿˜æœ‰è®¸å¤šæ™¯ç‚¹ï¼Œå½“ç„¶ä¹Ÿåƒäº†ä¸ªé¥­ï¼›\nä¸è¿‡é‚£ä¸ªé¥­çœŸçš„ä¸é”™ï¼Œç¾Šè‚‰é¢è‚¥è€Œä¸è…»ï¼Œå…¥å£å³åŒ–ï¼Œå°±æ˜¯æ™¯åŒºä»·æ ¼æœ‰ç‚¹è´µï¼›\n\n![1](https://wangxiaoze-view.github.io/picx-images-hosting/images/070A2001.JPG)\n\n![2](https://wangxiaoze-view.github.io/picx-images-hosting/images/7684aa5598222e4fb6c5da1242264e4.jpg)\n\n![3](https://wangxiaoze-view.github.io/picx-images-hosting/images/b37a9bfe7b4035aa9d1ab5db5ce15b1.jpg)\n\n![4](https://wangxiaoze-view.github.io/picx-images-hosting/images/d1d7945f6766e3f554b884bc5848342.jpg)\n\n![5](https://wangxiaoze-view.github.io/picx-images-hosting/images/7cd6c95e5777a0389c48f44694c9d7d.jpg)\n\n![6](https://wangxiaoze-view.github.io/picx-images-hosting/images/9e8609733f4a8658f2519b47df068f9.jpg)\n\nç©è€æ—¶é—´å¾ˆçŸ­ï¼Œå¿ƒæƒ…å¾ˆçˆ½ï¼Œè·¯ä¸Šçš„æ—¶å€™ä¹Ÿæ˜¯éšæ‰‹æ‹äº†å‡ å¼ ç…§ç‰‡ï¼Œè¦è¯´ç…§ç‰‡è‚¯å®šæ¯”ä¸ä¸Šä¸“ä¸šè®¾å¤‡ metzï¼Œä¸è¿‡æ‹å‡ºæ¥çš„ç…§ç‰‡ä¹ŸæŒºå¥½çœ‹çš„ï¼›æœ‹å‹åˆ†äº«çš„ç…§ç‰‡æˆ‘ä¿å­˜åœ¨ç½‘ç›˜ä¸Šäº†ï¼Œæ–‡ä»¶å¤ªå¤§äº†ï¼Œæ™®é€šè®¾å¤‡è¿˜ä¸è¡Œè¿™ä¸€ä¸‹ä¼°è®¡ 7 ä¸ª G å·¦å³çš„å†…å®¹ï¼Œé‡Œé¢æœ‰å›¾ç‰‡ï¼Œæœ‰æ–‡è‰ºçš„ä½œå“ç­‰ç­‰ï¼›\n\n**é“¾æ¥: https://pan.baidu.com/s/1SDKkbyALTTqeKsdNmFSdOA æå–ç : nryb å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœº Appï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦**\n","slug":"ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/æ²‰æµ¸ä¹‹åçš„æ€»ç»“ï¼ˆä¸€ï¼‰","published":1,"updated":"2025-03-13T10:16:15.421Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j3005efg9m9vbc16pc","content":"<h1 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h1><p>â€œæ²‰æµ¸â€äº†ä¸€æ®µæ—¶é—´ï¼Œä»Šå¤©å†æ¬¡å‘åšæ–‡ï¼Œå¿ƒæƒ…å¾ˆæ˜¯ä¸ä¸€æ ·ï¼›ä¸ºä»€ä¹ˆä¼šâ€œæ²‰æµ¸â€ä¸€æ®µæ—¶é—´å‘¢ï¼Ÿ</p>\n<p>è¯´æ¥è¯é•¿äº†, æœ¬æƒ³ç€æ¯ä¸ªæœˆå‘å¤§çº¦ 4 ç¯‡åšæ–‡æ€»ç»“ï¼Œä½†æ˜¯è¿‘æœŸäº‹æƒ…æ¯”è¾ƒå¤šï¼Œé’ˆå¯¹å…¬å¸ä¸šåŠ¡åŠ ç­ï¼Œèµ¶è¿›åº¦ï¼Œå¼€å‘å¯¹åº”éœ€æ±‚ï¼›æ¯å¤©æ™šä¸Šå›æ¥å‡ ä¹éƒ½åœ¨ 9.30 å·¦å³ï¼Œåœ¨ç‚¹ä¸ªå¤–å–ï¼Œæ”¶æ‹¾ å«ç”Ÿï¼Œåœ¨æ´—ä¸ªæ¾¡å°±å·®ä¸å¤šå°± 0.00 äº†ï¼Œä¹Ÿå°±æ²¡ä»€ä¹ˆæ—¶é—´å‘æ–‡ç« äº†ï¼›</p>\n<p>åœ¨å‡ å¹´ä¹‹å‰ï¼Œä¹Ÿå°±æ˜¯å¤§çº¦æ˜¯åœ¨åˆšæ¥ä¸Šæµ·çš„é‚£ 2 å¹´å·¦å³å§ï¼Œè‡ªå·±çš„å¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯åœ¨å­¦ä¹ å·¥ä½œæŠ€èƒ½ï¼Œæˆ‘æœ¬èº«å°±æ˜¯å‰ç«¯å¼€å‘äººå‘˜ï¼Œæ¯•ç«Ÿæ¥è§¦çš„èŒƒå›´å’Œå±‚æ¬¡ä¸åŒï¼Œæ‰ä¼šèŠ±è´¹å¤§éƒ¨åˆ†æ—¶é—´å»å­¦ä¹ ã€‚è‡ªå·±çš„å¾ˆå¤§ç²¾åŠ›éƒ½åœ¨è‡ªå·±çš„æŠ€æœ¯å±‚é¢ï¼ŒçŸ¥é“æœ€è¿‘æ…¢æ…¢å›å½’ç”Ÿæ´»äº†ï¼Œæœ€åæ‰å‘ç°è‡ªå·±å¤±å»çš„æ—¶é—´å¤ªå¤šã€‚ç°åœ¨æŠ€æœ¯ç»è¿‡é¡¹ç›®çš„æ²‰æ·€ï¼Œç°åœ¨æ…¢æ…¢å›å½’ç”Ÿæ´»ï¼Œæ‰å‘ç°å¥½å¥½ç”Ÿæ´»ï¼Œè‡ªå·±çš„çŠ¶æ€æ…¢æ…¢å›åˆ°äº†æ­£è½¨â€™</p>\n<h2 id=\"æ”¾æ¾-æ—…æ¸¸\"><a href=\"#æ”¾æ¾-æ—…æ¸¸\" class=\"headerlink\" title=\"æ”¾æ¾-æ—…æ¸¸\"></a>æ”¾æ¾-æ—…æ¸¸</h2><p>åœ¨ä»Šå¹´å›½åº†å‰åå»äº†èººä¹Œé•‡ï¼Œä¹Ÿå½“æ—¶æ”¾æ¾ï¼ŒåŒæ—¶æ»¡è¶³è‡ªå·±çš„æ—…æ¸¸æ¢¦ï¼›</p>\n<p>è¿™æ¬¡æ—…æ¸¸æå‡ºè€…å‘¢ï¼Œä¸å‡ºæ„å¤–çš„è¯å°±æ˜¯æˆ‘æå‡ºçš„ï¼Œèµ·åˆæ˜¯åœ¨æŠ–éŸ³ä¸Šçœ‹è§å¾å·å°åƒè¡—çš„å°åƒï¼Œå˜´ç˜¾å°±ä¸Šæ¥äº†ï¼Œç„¶åå°±åœ¨å¾®ä¿¡ä¸Šè·Ÿæœ‹å‹è¯´ï¼šâ€œä¸€å‘¨ä¸€åº§åŸâ€ã€‚ç„¶åç®€å•éœ¸æ°”çš„å›äº†æˆ‘ä¸€ä¸ªå­—ï¼šâ€èµ°â€œï¼›è¯´èµ°å’±å°±èµ°ï¼Œå°±å–œæ¬¢è¿™ä¹ˆç›´æ¥çš„ï¼Œç„¶åè¿‡äº†ä¿©å¤©å°±ç›´æ¥æ‹‰ä¸ªå°ç¾¤ï¼Œä¸€å…±ä¸‰äººï¼Œå°±å¼€å§‹è¿™éƒ¨ç½²å‘¨å…­æ—¥çš„æ—…æ¸¸è®¡åˆ’ï¼›</p>\n<p>å› ä¸ºæ—¶é—´å¾ˆç´§å¼ ï¼Œæ‰€ä»¥ç›´æ¥æ¥äº†ä¸€ä¸ªè¯´èµ°å°±èµ°çš„æ—…è¡Œï¼Œå°±æŠŠæ—¶é—´å®šäº†ä¸‹æ¥ï¼Œå‘¨å…­ä¸­åˆå°±å‡ºå‘ï¼›æœ‹å‹å¼€è½¦ï¼Œå‰ä¸€å¤©è¯´è½¦è½®è¢«é’‰å­æ‰äº†ï¼Œå¯èƒ½å»ä¸äº†ï¼Œæˆ‘ä»¬èµ¶ç´§å°±ä¹°äº†å‘¨å…­ä¸‹åˆçš„ç¥¨ï¼Œè™¹æ¡¥ç«è½¦ç«™å‡ºå‘ï¼Œåˆ°äº†ç¬¬äºŒå¤©æœ‹å‹å§è½¦ç¥¨é€€äº†è¯´æ˜¯è½¦èƒå¥½äº†ï¼Œç„¶åæˆ‘å°±é—®äº†ä¸€ä¸‹å…·ä½“å‡ºå‘æ—¶é—´ï¼Œè¶ç€è¿™æ®µæ—¶é—´æŠŠå®¶é‡Œå«ç”Ÿæ”¶æ‹¾ä¸€ä¸‹ï¼›</p>\n<p>ä¸‹åˆæœ‹å‹å¼€è½¦åˆ°äº†æˆ‘å°åŒºï¼Œç„¶åç›´æ¥å¼€å¯äº†ä¿©å¤©ä¸€å¤œçš„ä¹Œé•‡ä¸€æ¸¸ï¼›</p>\n<p>ä¸‹åˆçš„æ—¶å€™å°±åˆ°äº†<strong>åŒ—æ …</strong>, åˆ°äº†ä¹‹åï¼ŒçŸ­æš‚ä¼‘æ¯äº†ç‰‡åˆ»ï¼Œæ™šä¸Šå°±ç›´æ¥å»äº†åŒ—æ …ï¼ŒåŒ—æ …å°±æ˜¯ä¸€ä¸ªé£ä¿—æ–‡åŒ–çš„åœ°æ–¹ï¼Œé¡ºå¸¦åœ¨é™„è¿‘åƒäº†ä¸ªé¥­ï¼›</p>\n<p>ç¬¬äºŒå¤©æœ‹å‹å°±ç›´æ¥å¼€è½¦å»äº†<strong>å—æ …</strong>ï¼Œå—æ …æ˜¯ä¸€ä¸ªå†å²å»ºç­‘ï¼Œé‡Œé¢æœ‰å¾ˆå¤šå†å²æ•…äº‹ï¼Œè¿˜æœ‰è®¸å¤šæ™¯ç‚¹ï¼Œå½“ç„¶ä¹Ÿåƒäº†ä¸ªé¥­ï¼›<br>ä¸è¿‡é‚£ä¸ªé¥­çœŸçš„ä¸é”™ï¼Œç¾Šè‚‰é¢è‚¥è€Œä¸è…»ï¼Œå…¥å£å³åŒ–ï¼Œå°±æ˜¯æ™¯åŒºä»·æ ¼æœ‰ç‚¹è´µï¼›</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/070A2001.JPG\" alt=\"1\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/7684aa5598222e4fb6c5da1242264e4.jpg\" alt=\"2\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/b37a9bfe7b4035aa9d1ab5db5ce15b1.jpg\" alt=\"3\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/d1d7945f6766e3f554b884bc5848342.jpg\" alt=\"4\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/7cd6c95e5777a0389c48f44694c9d7d.jpg\" alt=\"5\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/9e8609733f4a8658f2519b47df068f9.jpg\" alt=\"6\"></p>\n<p>ç©è€æ—¶é—´å¾ˆçŸ­ï¼Œå¿ƒæƒ…å¾ˆçˆ½ï¼Œè·¯ä¸Šçš„æ—¶å€™ä¹Ÿæ˜¯éšæ‰‹æ‹äº†å‡ å¼ ç…§ç‰‡ï¼Œè¦è¯´ç…§ç‰‡è‚¯å®šæ¯”ä¸ä¸Šä¸“ä¸šè®¾å¤‡ metzï¼Œä¸è¿‡æ‹å‡ºæ¥çš„ç…§ç‰‡ä¹ŸæŒºå¥½çœ‹çš„ï¼›æœ‹å‹åˆ†äº«çš„ç…§ç‰‡æˆ‘ä¿å­˜åœ¨ç½‘ç›˜ä¸Šäº†ï¼Œæ–‡ä»¶å¤ªå¤§äº†ï¼Œæ™®é€šè®¾å¤‡è¿˜ä¸è¡Œè¿™ä¸€ä¸‹ä¼°è®¡ 7 ä¸ª G å·¦å³çš„å†…å®¹ï¼Œé‡Œé¢æœ‰å›¾ç‰‡ï¼Œæœ‰æ–‡è‰ºçš„ä½œå“ç­‰ç­‰ï¼›</p>\n<p><strong>é“¾æ¥: <a href=\"https://pan.baidu.com/s/1SDKkbyALTTqeKsdNmFSdOA\">https://pan.baidu.com/s/1SDKkbyALTTqeKsdNmFSdOA</a> æå–ç : nryb å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœº Appï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦</strong></p>\n","excerpt":"","more":"<h1 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h1><p>â€œæ²‰æµ¸â€äº†ä¸€æ®µæ—¶é—´ï¼Œä»Šå¤©å†æ¬¡å‘åšæ–‡ï¼Œå¿ƒæƒ…å¾ˆæ˜¯ä¸ä¸€æ ·ï¼›ä¸ºä»€ä¹ˆä¼šâ€œæ²‰æµ¸â€ä¸€æ®µæ—¶é—´å‘¢ï¼Ÿ</p>\n<p>è¯´æ¥è¯é•¿äº†, æœ¬æƒ³ç€æ¯ä¸ªæœˆå‘å¤§çº¦ 4 ç¯‡åšæ–‡æ€»ç»“ï¼Œä½†æ˜¯è¿‘æœŸäº‹æƒ…æ¯”è¾ƒå¤šï¼Œé’ˆå¯¹å…¬å¸ä¸šåŠ¡åŠ ç­ï¼Œèµ¶è¿›åº¦ï¼Œå¼€å‘å¯¹åº”éœ€æ±‚ï¼›æ¯å¤©æ™šä¸Šå›æ¥å‡ ä¹éƒ½åœ¨ 9.30 å·¦å³ï¼Œåœ¨ç‚¹ä¸ªå¤–å–ï¼Œæ”¶æ‹¾ å«ç”Ÿï¼Œåœ¨æ´—ä¸ªæ¾¡å°±å·®ä¸å¤šå°± 0.00 äº†ï¼Œä¹Ÿå°±æ²¡ä»€ä¹ˆæ—¶é—´å‘æ–‡ç« äº†ï¼›</p>\n<p>åœ¨å‡ å¹´ä¹‹å‰ï¼Œä¹Ÿå°±æ˜¯å¤§çº¦æ˜¯åœ¨åˆšæ¥ä¸Šæµ·çš„é‚£ 2 å¹´å·¦å³å§ï¼Œè‡ªå·±çš„å¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯åœ¨å­¦ä¹ å·¥ä½œæŠ€èƒ½ï¼Œæˆ‘æœ¬èº«å°±æ˜¯å‰ç«¯å¼€å‘äººå‘˜ï¼Œæ¯•ç«Ÿæ¥è§¦çš„èŒƒå›´å’Œå±‚æ¬¡ä¸åŒï¼Œæ‰ä¼šèŠ±è´¹å¤§éƒ¨åˆ†æ—¶é—´å»å­¦ä¹ ã€‚è‡ªå·±çš„å¾ˆå¤§ç²¾åŠ›éƒ½åœ¨è‡ªå·±çš„æŠ€æœ¯å±‚é¢ï¼ŒçŸ¥é“æœ€è¿‘æ…¢æ…¢å›å½’ç”Ÿæ´»äº†ï¼Œæœ€åæ‰å‘ç°è‡ªå·±å¤±å»çš„æ—¶é—´å¤ªå¤šã€‚ç°åœ¨æŠ€æœ¯ç»è¿‡é¡¹ç›®çš„æ²‰æ·€ï¼Œç°åœ¨æ…¢æ…¢å›å½’ç”Ÿæ´»ï¼Œæ‰å‘ç°å¥½å¥½ç”Ÿæ´»ï¼Œè‡ªå·±çš„çŠ¶æ€æ…¢æ…¢å›åˆ°äº†æ­£è½¨â€™</p>\n<h2 id=\"æ”¾æ¾-æ—…æ¸¸\"><a href=\"#æ”¾æ¾-æ—…æ¸¸\" class=\"headerlink\" title=\"æ”¾æ¾-æ—…æ¸¸\"></a>æ”¾æ¾-æ—…æ¸¸</h2><p>åœ¨ä»Šå¹´å›½åº†å‰åå»äº†èººä¹Œé•‡ï¼Œä¹Ÿå½“æ—¶æ”¾æ¾ï¼ŒåŒæ—¶æ»¡è¶³è‡ªå·±çš„æ—…æ¸¸æ¢¦ï¼›</p>\n<p>è¿™æ¬¡æ—…æ¸¸æå‡ºè€…å‘¢ï¼Œä¸å‡ºæ„å¤–çš„è¯å°±æ˜¯æˆ‘æå‡ºçš„ï¼Œèµ·åˆæ˜¯åœ¨æŠ–éŸ³ä¸Šçœ‹è§å¾å·å°åƒè¡—çš„å°åƒï¼Œå˜´ç˜¾å°±ä¸Šæ¥äº†ï¼Œç„¶åå°±åœ¨å¾®ä¿¡ä¸Šè·Ÿæœ‹å‹è¯´ï¼šâ€œä¸€å‘¨ä¸€åº§åŸâ€ã€‚ç„¶åç®€å•éœ¸æ°”çš„å›äº†æˆ‘ä¸€ä¸ªå­—ï¼šâ€èµ°â€œï¼›è¯´èµ°å’±å°±èµ°ï¼Œå°±å–œæ¬¢è¿™ä¹ˆç›´æ¥çš„ï¼Œç„¶åè¿‡äº†ä¿©å¤©å°±ç›´æ¥æ‹‰ä¸ªå°ç¾¤ï¼Œä¸€å…±ä¸‰äººï¼Œå°±å¼€å§‹è¿™éƒ¨ç½²å‘¨å…­æ—¥çš„æ—…æ¸¸è®¡åˆ’ï¼›</p>\n<p>å› ä¸ºæ—¶é—´å¾ˆç´§å¼ ï¼Œæ‰€ä»¥ç›´æ¥æ¥äº†ä¸€ä¸ªè¯´èµ°å°±èµ°çš„æ—…è¡Œï¼Œå°±æŠŠæ—¶é—´å®šäº†ä¸‹æ¥ï¼Œå‘¨å…­ä¸­åˆå°±å‡ºå‘ï¼›æœ‹å‹å¼€è½¦ï¼Œå‰ä¸€å¤©è¯´è½¦è½®è¢«é’‰å­æ‰äº†ï¼Œå¯èƒ½å»ä¸äº†ï¼Œæˆ‘ä»¬èµ¶ç´§å°±ä¹°äº†å‘¨å…­ä¸‹åˆçš„ç¥¨ï¼Œè™¹æ¡¥ç«è½¦ç«™å‡ºå‘ï¼Œåˆ°äº†ç¬¬äºŒå¤©æœ‹å‹å§è½¦ç¥¨é€€äº†è¯´æ˜¯è½¦èƒå¥½äº†ï¼Œç„¶åæˆ‘å°±é—®äº†ä¸€ä¸‹å…·ä½“å‡ºå‘æ—¶é—´ï¼Œè¶ç€è¿™æ®µæ—¶é—´æŠŠå®¶é‡Œå«ç”Ÿæ”¶æ‹¾ä¸€ä¸‹ï¼›</p>\n<p>ä¸‹åˆæœ‹å‹å¼€è½¦åˆ°äº†æˆ‘å°åŒºï¼Œç„¶åç›´æ¥å¼€å¯äº†ä¿©å¤©ä¸€å¤œçš„ä¹Œé•‡ä¸€æ¸¸ï¼›</p>\n<p>ä¸‹åˆçš„æ—¶å€™å°±åˆ°äº†<strong>åŒ—æ …</strong>, åˆ°äº†ä¹‹åï¼ŒçŸ­æš‚ä¼‘æ¯äº†ç‰‡åˆ»ï¼Œæ™šä¸Šå°±ç›´æ¥å»äº†åŒ—æ …ï¼ŒåŒ—æ …å°±æ˜¯ä¸€ä¸ªé£ä¿—æ–‡åŒ–çš„åœ°æ–¹ï¼Œé¡ºå¸¦åœ¨é™„è¿‘åƒäº†ä¸ªé¥­ï¼›</p>\n<p>ç¬¬äºŒå¤©æœ‹å‹å°±ç›´æ¥å¼€è½¦å»äº†<strong>å—æ …</strong>ï¼Œå—æ …æ˜¯ä¸€ä¸ªå†å²å»ºç­‘ï¼Œé‡Œé¢æœ‰å¾ˆå¤šå†å²æ•…äº‹ï¼Œè¿˜æœ‰è®¸å¤šæ™¯ç‚¹ï¼Œå½“ç„¶ä¹Ÿåƒäº†ä¸ªé¥­ï¼›<br>ä¸è¿‡é‚£ä¸ªé¥­çœŸçš„ä¸é”™ï¼Œç¾Šè‚‰é¢è‚¥è€Œä¸è…»ï¼Œå…¥å£å³åŒ–ï¼Œå°±æ˜¯æ™¯åŒºä»·æ ¼æœ‰ç‚¹è´µï¼›</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/070A2001.JPG\" alt=\"1\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/7684aa5598222e4fb6c5da1242264e4.jpg\" alt=\"2\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/b37a9bfe7b4035aa9d1ab5db5ce15b1.jpg\" alt=\"3\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/d1d7945f6766e3f554b884bc5848342.jpg\" alt=\"4\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/7cd6c95e5777a0389c48f44694c9d7d.jpg\" alt=\"5\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/9e8609733f4a8658f2519b47df068f9.jpg\" alt=\"6\"></p>\n<p>ç©è€æ—¶é—´å¾ˆçŸ­ï¼Œå¿ƒæƒ…å¾ˆçˆ½ï¼Œè·¯ä¸Šçš„æ—¶å€™ä¹Ÿæ˜¯éšæ‰‹æ‹äº†å‡ å¼ ç…§ç‰‡ï¼Œè¦è¯´ç…§ç‰‡è‚¯å®šæ¯”ä¸ä¸Šä¸“ä¸šè®¾å¤‡ metzï¼Œä¸è¿‡æ‹å‡ºæ¥çš„ç…§ç‰‡ä¹ŸæŒºå¥½çœ‹çš„ï¼›æœ‹å‹åˆ†äº«çš„ç…§ç‰‡æˆ‘ä¿å­˜åœ¨ç½‘ç›˜ä¸Šäº†ï¼Œæ–‡ä»¶å¤ªå¤§äº†ï¼Œæ™®é€šè®¾å¤‡è¿˜ä¸è¡Œè¿™ä¸€ä¸‹ä¼°è®¡ 7 ä¸ª G å·¦å³çš„å†…å®¹ï¼Œé‡Œé¢æœ‰å›¾ç‰‡ï¼Œæœ‰æ–‡è‰ºçš„ä½œå“ç­‰ç­‰ï¼›</p>\n<p><strong>é“¾æ¥: <a href=\"https://pan.baidu.com/s/1SDKkbyALTTqeKsdNmFSdOA\">https://pan.baidu.com/s/1SDKkbyALTTqeKsdNmFSdOA</a> æå–ç : nryb å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœº Appï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦</strong></p>\n"},{"title":"ç”Ÿæ´»-æ²‰æµ¸ä¹‹åçš„æ€»ç»“ï¼ˆäºŒï¼‰","abbrlink":"7819a34e","date":"2023-10-08T01:05:01.000Z","_content":"\n# å‰è¨€\n\nè‡ªä»ä¸Šæ¬¡æ—…æ¸¸æ”¾æ¾è¿‡åï¼Œæˆ‘å‘ç°äº†ä¸€ç³»åˆ—å…³äºè‡ªèº«çš„é—®é¢˜ï¼›\n\nè‡ªèº«çš„ä¸€ç³»åˆ—é—®é¢˜å¤§çº¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š\n\n1. è‡ªèº«æˆé•¿çš„é—®é¢˜\n2. å·¥ä½œæ²‰æ·€é—®é¢˜\n3. ç¤¾äº¤æ²Ÿé€šé—®é¢˜\n\n## è‡ªèº«çš„é—®é¢˜\n\nè¿˜è®°å¾—åˆšæ¥ä¸Šæµ·åº”è¯¥æ˜¯ 19 å¹´ 6 æœˆä»½å·¦å³å§ï¼Œå½“æ—¶ä¹Ÿæ˜¯åˆšä»å­¦æ ¡èµ°å‘ç¤¾ä¼šï¼Œæ²¡ç»å†è¿‡ç¤¾ä¼šçš„æ¯’æ‰“ï¼Œæ‰€ä»¥è‡ªèº«æˆé•¿çš„é—®é¢˜è¿˜æ˜¯æ¯”è¾ƒä¸¥é‡ã€‚\n\nä½œä¸ºä¸€ä¸ªåº”å±Šç”Ÿï¼Œæƒ³å»çœ‹çœ‹å¤§åŸå¸‚ï¼Œæ‰€ä»¥é€‰æ‹©äº†ä¸Šæµ·ï¼Œä½†æ˜¯ç”±äºè‡ªèº«åŸå› ï¼Œå¯¼è‡´è‡ªå·±ä¸€ç›´å¾…åœ¨èˆ’é€‚åŒºï¼Œæ²¡æœ‰å»å°è¯•æ–°çš„ä¸œè¥¿ï¼Œå¯¼è‡´è‡ªèº«æˆé•¿çš„é—®é¢˜è¿˜æ˜¯æ¯”è¾ƒä¸¥é‡ã€‚\n\nåˆšå…¥ç¬¬ä¸€å®¶å…¬å¸ï¼Œå› ä¸ºæ˜¯å°ç™½å—ï¼ŒåŸºæœ¬ä¸Šå•¥ä¹Ÿä¸ä¼šçš„ï¼Œæ‰€ä»¥å¯¼è‡´è‡ªå·±ä¸€ç›´å¤„äºä¸€ä¸ªæ¯”è¾ƒä½æ•ˆçš„çŠ¶æ€ï¼Œå·¥ä½œæ•ˆç‡ä¹Ÿä¸æ˜¯å¾ˆé«˜ï¼Œä¸€å®šç¨‹åº¦ä¸Šå°±å½“äº†å…¬å¸çš„ç´¯èµ˜ã€‚è¿˜å¥½æˆ‘çš„è¿æ°”æœ¬è¾ƒå¥½ï¼Œé‡åˆ°äº†ä¸€ä¸ªæ„¿æ„ä¸æˆ‘äº¤æµçš„å‰è¾ˆï¼Œæ¯”æˆ‘å¤§äº†å¤§æ¦‚ 33 å²å·¦å³å§ï¼Œæ‰€ä»¥åœ¨æˆ‘å·¥ä½œæœŸé—´ï¼Œä»–ç»™æˆ‘æäº†ä¸€äº›å»ºè®®ï¼Œè®©æˆ‘åœ¨æŠ€æœ¯ä¸Šæœ‰äº†å¾ˆå¤§çš„è¿›æ­¥ï¼Œæ‰€ä»¥å¯¼è‡´æˆ‘è‡ªèº«æˆé•¿çš„é—®é¢˜å¾—åˆ°äº†å¾ˆå¤§çš„æ”¹å–„ã€‚\n\né‚£æ®µæ—¶é—´ï¼Œè€ w è¯´æˆ‘ä½ è¿™æ˜¯å’‹äº†æ€»æ˜¯æ„Ÿè§‰å¿ƒä¸åœ¨ç„‰çš„æ²¡å•¥ç²¾ç¥ï¼Œæˆ‘æŠŠæˆ‘åœ¨å…¬å¸çš„äº‹æƒ…è·Ÿä»–è¯´äº†ä¹‹åï¼Œä»–ç»™æˆ‘çš„å»ºè®®å°±æ˜¯å…¬å¸æœ‰å‰è¾ˆæ„¿æ„æ•™ä½ å¸¦ä½ ï¼Œè¯´æ˜ä½ è¿æ°”è¿˜æ˜¯ä¸é”™çš„ï¼Œä½ æƒ³å¦‚æœå…¬å¸å‰è¾ˆå¸¦ä½ å…¥é—¨é‚£ä½ å¯ä»¥æƒ³è±¡åæœæ˜¯ä»€ä¹ˆæ ·å­çš„ï¼›å®ä¹ æœŸè¿‡ä¸äº†ï¼Œä»»åŠ¡åšä¸äº†ï¼›é‚£ä½ åœ¨å…¬å¸æ¯«æ— å¯ç”¨çš„ä»·å€¼ï¼Œæœ€åä½ çš„ä¸‹åœºåªèƒ½èµ°äººäº†ï¼›\n\né‚£æ˜¯ä¹Ÿæ˜¯æœ‰å¯¹è±¡çš„ï¼Œæ¯•ç«Ÿæ˜¯å¼‚åœ°æ‹ï¼Œå†åŠ ä¸Šè‡ªå·±çš„æ€§æ ¼ï¼Œè„¾æ°”é—®é¢˜ï¼Œå¯¼è‡´æˆ‘æ€»æ˜¯æƒ…ç»ªä¸ç¨³å®šï¼Œæœ€åçš„ç»“å±€æ˜¾è€Œæ˜“è§ï¼›\n\né‚£æ®µæ—¶é—´è®©æˆ‘æ˜ç™½äº†è‡ªèº«æœ‰å¾ˆå¤§çš„ç¼ºé™·ï¼Œæ€»æ˜¯è§‰å¾—è‡ªä»¥ä¸ºæ˜¯ï¼Œæ€§æ ¼è„¾æ°”ä¸ç¨³å®šï¼Œå†åŠ ä¸Šå·¥ä½œä»»åŠ¡ä¸æ‰å®ï¼Œæ²¡æœ‰é«˜æ•ˆç‡çš„å¼€å‘ä¸€äº›åˆ—çš„é—®é¢˜ï¼›åœ¨ç»è¿‡äº†è€ w çš„æŒ‡å¯¼ä¹‹åï¼Œæˆ‘é€æ¸çš„æ”¹å–„äº†è¿™äº›é—®é¢˜ï¼Œä½†æ˜¯è¿˜æ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜ï¼›\n\nä¸è¿‡é¦–å…ˆè¦åšçš„å°±æ˜¯æ”¹å–„è‡ªå·±çš„æ¯›ç—…ï¼Œè¶ç€çº¿ä¸‹æ—¶é—´å­¦äº›ï¼Œé‚£æ®µæ—¶é—´æˆ‘å’Œè€ w æ˜¯åœ¨å®å±±åˆç§Ÿçš„ï¼Œä»–æ¯æ¬¡ä¸‹ç­ä¹‹åæ€»æ˜¯èƒ½çœ‹åˆ°æˆ‘æ‰“å¼€ç”µè„‘å­¦ä¹ å­¦åˆ°å‡Œæ™¨ 1 ç‚¹å·¦å³ï¼Œé‚£æ®µæ—¶é—´å­¦ä¹ ç€å…¬å¸çš„é¡¹ç›®ï¼Œæ…¢æ…¢ç†Ÿæ‚‰å…¬å¸çš„ä¸šåŠ¡ï¼Œæ…¢æ…¢çš„æå‡è‡ªå·±çš„å¼€å‘æ•ˆç‡ï¼Œæ…¢æ…¢çš„æå‡è‡ªå·±çš„å¼€å‘æ°´å¹³ï¼›\n\nä»ç»†å°é—®é¢˜åˆ°å¤§èŒƒå›´çš„æŠ€èƒ½æå‡ï¼Œä¹‹åå°±ä»…ä»…åœ¨å…¬å¸å‘†äº†ä¸€å¹´æ—¶é—´å§ï¼Œå› ä¸ºå½“æ—¶è§‰å¾—è‡ªå·±å¹¶ä¸èƒ½ä»…ä»…å­¦ä¹ è¿™ç‚¹ä¸œè¥¿ï¼Œç„¶åæˆ‘å°±æ¢äº†ç°åœ¨çš„å…¬å¸ï¼›\n\nç›®å‰ç°åœ¨çš„å…¬å¸è®©æˆ‘è§‰å¾—ä¸é”™ï¼Œåœ¨çŸ­æš‚ä¿©å¹´æ—¶é—´æå‡å¾ˆå¤§ï¼›\n","source":"_posts/ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/æ²‰æµ¸ä¹‹åçš„æ€»ç»“ï¼ˆäºŒï¼‰.md","raw":"---\ntitle: ç”Ÿæ´»-æ²‰æµ¸ä¹‹åçš„æ€»ç»“ï¼ˆäºŒï¼‰\nabbrlink: 7819a34e\ndate: 2023-10-08 09:05:01\ncategories:\n  - ç”Ÿæ´»æ—¥å¿—\ntags:\n  - ç”Ÿæ´»\n---\n\n# å‰è¨€\n\nè‡ªä»ä¸Šæ¬¡æ—…æ¸¸æ”¾æ¾è¿‡åï¼Œæˆ‘å‘ç°äº†ä¸€ç³»åˆ—å…³äºè‡ªèº«çš„é—®é¢˜ï¼›\n\nè‡ªèº«çš„ä¸€ç³»åˆ—é—®é¢˜å¤§çº¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š\n\n1. è‡ªèº«æˆé•¿çš„é—®é¢˜\n2. å·¥ä½œæ²‰æ·€é—®é¢˜\n3. ç¤¾äº¤æ²Ÿé€šé—®é¢˜\n\n## è‡ªèº«çš„é—®é¢˜\n\nè¿˜è®°å¾—åˆšæ¥ä¸Šæµ·åº”è¯¥æ˜¯ 19 å¹´ 6 æœˆä»½å·¦å³å§ï¼Œå½“æ—¶ä¹Ÿæ˜¯åˆšä»å­¦æ ¡èµ°å‘ç¤¾ä¼šï¼Œæ²¡ç»å†è¿‡ç¤¾ä¼šçš„æ¯’æ‰“ï¼Œæ‰€ä»¥è‡ªèº«æˆé•¿çš„é—®é¢˜è¿˜æ˜¯æ¯”è¾ƒä¸¥é‡ã€‚\n\nä½œä¸ºä¸€ä¸ªåº”å±Šç”Ÿï¼Œæƒ³å»çœ‹çœ‹å¤§åŸå¸‚ï¼Œæ‰€ä»¥é€‰æ‹©äº†ä¸Šæµ·ï¼Œä½†æ˜¯ç”±äºè‡ªèº«åŸå› ï¼Œå¯¼è‡´è‡ªå·±ä¸€ç›´å¾…åœ¨èˆ’é€‚åŒºï¼Œæ²¡æœ‰å»å°è¯•æ–°çš„ä¸œè¥¿ï¼Œå¯¼è‡´è‡ªèº«æˆé•¿çš„é—®é¢˜è¿˜æ˜¯æ¯”è¾ƒä¸¥é‡ã€‚\n\nåˆšå…¥ç¬¬ä¸€å®¶å…¬å¸ï¼Œå› ä¸ºæ˜¯å°ç™½å—ï¼ŒåŸºæœ¬ä¸Šå•¥ä¹Ÿä¸ä¼šçš„ï¼Œæ‰€ä»¥å¯¼è‡´è‡ªå·±ä¸€ç›´å¤„äºä¸€ä¸ªæ¯”è¾ƒä½æ•ˆçš„çŠ¶æ€ï¼Œå·¥ä½œæ•ˆç‡ä¹Ÿä¸æ˜¯å¾ˆé«˜ï¼Œä¸€å®šç¨‹åº¦ä¸Šå°±å½“äº†å…¬å¸çš„ç´¯èµ˜ã€‚è¿˜å¥½æˆ‘çš„è¿æ°”æœ¬è¾ƒå¥½ï¼Œé‡åˆ°äº†ä¸€ä¸ªæ„¿æ„ä¸æˆ‘äº¤æµçš„å‰è¾ˆï¼Œæ¯”æˆ‘å¤§äº†å¤§æ¦‚ 33 å²å·¦å³å§ï¼Œæ‰€ä»¥åœ¨æˆ‘å·¥ä½œæœŸé—´ï¼Œä»–ç»™æˆ‘æäº†ä¸€äº›å»ºè®®ï¼Œè®©æˆ‘åœ¨æŠ€æœ¯ä¸Šæœ‰äº†å¾ˆå¤§çš„è¿›æ­¥ï¼Œæ‰€ä»¥å¯¼è‡´æˆ‘è‡ªèº«æˆé•¿çš„é—®é¢˜å¾—åˆ°äº†å¾ˆå¤§çš„æ”¹å–„ã€‚\n\né‚£æ®µæ—¶é—´ï¼Œè€ w è¯´æˆ‘ä½ è¿™æ˜¯å’‹äº†æ€»æ˜¯æ„Ÿè§‰å¿ƒä¸åœ¨ç„‰çš„æ²¡å•¥ç²¾ç¥ï¼Œæˆ‘æŠŠæˆ‘åœ¨å…¬å¸çš„äº‹æƒ…è·Ÿä»–è¯´äº†ä¹‹åï¼Œä»–ç»™æˆ‘çš„å»ºè®®å°±æ˜¯å…¬å¸æœ‰å‰è¾ˆæ„¿æ„æ•™ä½ å¸¦ä½ ï¼Œè¯´æ˜ä½ è¿æ°”è¿˜æ˜¯ä¸é”™çš„ï¼Œä½ æƒ³å¦‚æœå…¬å¸å‰è¾ˆå¸¦ä½ å…¥é—¨é‚£ä½ å¯ä»¥æƒ³è±¡åæœæ˜¯ä»€ä¹ˆæ ·å­çš„ï¼›å®ä¹ æœŸè¿‡ä¸äº†ï¼Œä»»åŠ¡åšä¸äº†ï¼›é‚£ä½ åœ¨å…¬å¸æ¯«æ— å¯ç”¨çš„ä»·å€¼ï¼Œæœ€åä½ çš„ä¸‹åœºåªèƒ½èµ°äººäº†ï¼›\n\né‚£æ˜¯ä¹Ÿæ˜¯æœ‰å¯¹è±¡çš„ï¼Œæ¯•ç«Ÿæ˜¯å¼‚åœ°æ‹ï¼Œå†åŠ ä¸Šè‡ªå·±çš„æ€§æ ¼ï¼Œè„¾æ°”é—®é¢˜ï¼Œå¯¼è‡´æˆ‘æ€»æ˜¯æƒ…ç»ªä¸ç¨³å®šï¼Œæœ€åçš„ç»“å±€æ˜¾è€Œæ˜“è§ï¼›\n\né‚£æ®µæ—¶é—´è®©æˆ‘æ˜ç™½äº†è‡ªèº«æœ‰å¾ˆå¤§çš„ç¼ºé™·ï¼Œæ€»æ˜¯è§‰å¾—è‡ªä»¥ä¸ºæ˜¯ï¼Œæ€§æ ¼è„¾æ°”ä¸ç¨³å®šï¼Œå†åŠ ä¸Šå·¥ä½œä»»åŠ¡ä¸æ‰å®ï¼Œæ²¡æœ‰é«˜æ•ˆç‡çš„å¼€å‘ä¸€äº›åˆ—çš„é—®é¢˜ï¼›åœ¨ç»è¿‡äº†è€ w çš„æŒ‡å¯¼ä¹‹åï¼Œæˆ‘é€æ¸çš„æ”¹å–„äº†è¿™äº›é—®é¢˜ï¼Œä½†æ˜¯è¿˜æ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜ï¼›\n\nä¸è¿‡é¦–å…ˆè¦åšçš„å°±æ˜¯æ”¹å–„è‡ªå·±çš„æ¯›ç—…ï¼Œè¶ç€çº¿ä¸‹æ—¶é—´å­¦äº›ï¼Œé‚£æ®µæ—¶é—´æˆ‘å’Œè€ w æ˜¯åœ¨å®å±±åˆç§Ÿçš„ï¼Œä»–æ¯æ¬¡ä¸‹ç­ä¹‹åæ€»æ˜¯èƒ½çœ‹åˆ°æˆ‘æ‰“å¼€ç”µè„‘å­¦ä¹ å­¦åˆ°å‡Œæ™¨ 1 ç‚¹å·¦å³ï¼Œé‚£æ®µæ—¶é—´å­¦ä¹ ç€å…¬å¸çš„é¡¹ç›®ï¼Œæ…¢æ…¢ç†Ÿæ‚‰å…¬å¸çš„ä¸šåŠ¡ï¼Œæ…¢æ…¢çš„æå‡è‡ªå·±çš„å¼€å‘æ•ˆç‡ï¼Œæ…¢æ…¢çš„æå‡è‡ªå·±çš„å¼€å‘æ°´å¹³ï¼›\n\nä»ç»†å°é—®é¢˜åˆ°å¤§èŒƒå›´çš„æŠ€èƒ½æå‡ï¼Œä¹‹åå°±ä»…ä»…åœ¨å…¬å¸å‘†äº†ä¸€å¹´æ—¶é—´å§ï¼Œå› ä¸ºå½“æ—¶è§‰å¾—è‡ªå·±å¹¶ä¸èƒ½ä»…ä»…å­¦ä¹ è¿™ç‚¹ä¸œè¥¿ï¼Œç„¶åæˆ‘å°±æ¢äº†ç°åœ¨çš„å…¬å¸ï¼›\n\nç›®å‰ç°åœ¨çš„å…¬å¸è®©æˆ‘è§‰å¾—ä¸é”™ï¼Œåœ¨çŸ­æš‚ä¿©å¹´æ—¶é—´æå‡å¾ˆå¤§ï¼›\n","slug":"ç”Ÿæ´»æ—¥å¿—/ç”Ÿæ´»/æ²‰æµ¸ä¹‹åçš„æ€»ç»“ï¼ˆäºŒï¼‰","published":1,"updated":"2025-03-12T10:05:38.075Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j3005hfg9mcloc3qaf","content":"<h1 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h1><p>è‡ªä»ä¸Šæ¬¡æ—…æ¸¸æ”¾æ¾è¿‡åï¼Œæˆ‘å‘ç°äº†ä¸€ç³»åˆ—å…³äºè‡ªèº«çš„é—®é¢˜ï¼›</p>\n<p>è‡ªèº«çš„ä¸€ç³»åˆ—é—®é¢˜å¤§çº¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>\n<ol>\n<li>è‡ªèº«æˆé•¿çš„é—®é¢˜</li>\n<li>å·¥ä½œæ²‰æ·€é—®é¢˜</li>\n<li>ç¤¾äº¤æ²Ÿé€šé—®é¢˜</li>\n</ol>\n<h2 id=\"è‡ªèº«çš„é—®é¢˜\"><a href=\"#è‡ªèº«çš„é—®é¢˜\" class=\"headerlink\" title=\"è‡ªèº«çš„é—®é¢˜\"></a>è‡ªèº«çš„é—®é¢˜</h2><p>è¿˜è®°å¾—åˆšæ¥ä¸Šæµ·åº”è¯¥æ˜¯ 19 å¹´ 6 æœˆä»½å·¦å³å§ï¼Œå½“æ—¶ä¹Ÿæ˜¯åˆšä»å­¦æ ¡èµ°å‘ç¤¾ä¼šï¼Œæ²¡ç»å†è¿‡ç¤¾ä¼šçš„æ¯’æ‰“ï¼Œæ‰€ä»¥è‡ªèº«æˆé•¿çš„é—®é¢˜è¿˜æ˜¯æ¯”è¾ƒä¸¥é‡ã€‚</p>\n<p>ä½œä¸ºä¸€ä¸ªåº”å±Šç”Ÿï¼Œæƒ³å»çœ‹çœ‹å¤§åŸå¸‚ï¼Œæ‰€ä»¥é€‰æ‹©äº†ä¸Šæµ·ï¼Œä½†æ˜¯ç”±äºè‡ªèº«åŸå› ï¼Œå¯¼è‡´è‡ªå·±ä¸€ç›´å¾…åœ¨èˆ’é€‚åŒºï¼Œæ²¡æœ‰å»å°è¯•æ–°çš„ä¸œè¥¿ï¼Œå¯¼è‡´è‡ªèº«æˆé•¿çš„é—®é¢˜è¿˜æ˜¯æ¯”è¾ƒä¸¥é‡ã€‚</p>\n<p>åˆšå…¥ç¬¬ä¸€å®¶å…¬å¸ï¼Œå› ä¸ºæ˜¯å°ç™½å—ï¼ŒåŸºæœ¬ä¸Šå•¥ä¹Ÿä¸ä¼šçš„ï¼Œæ‰€ä»¥å¯¼è‡´è‡ªå·±ä¸€ç›´å¤„äºä¸€ä¸ªæ¯”è¾ƒä½æ•ˆçš„çŠ¶æ€ï¼Œå·¥ä½œæ•ˆç‡ä¹Ÿä¸æ˜¯å¾ˆé«˜ï¼Œä¸€å®šç¨‹åº¦ä¸Šå°±å½“äº†å…¬å¸çš„ç´¯èµ˜ã€‚è¿˜å¥½æˆ‘çš„è¿æ°”æœ¬è¾ƒå¥½ï¼Œé‡åˆ°äº†ä¸€ä¸ªæ„¿æ„ä¸æˆ‘äº¤æµçš„å‰è¾ˆï¼Œæ¯”æˆ‘å¤§äº†å¤§æ¦‚ 33 å²å·¦å³å§ï¼Œæ‰€ä»¥åœ¨æˆ‘å·¥ä½œæœŸé—´ï¼Œä»–ç»™æˆ‘æäº†ä¸€äº›å»ºè®®ï¼Œè®©æˆ‘åœ¨æŠ€æœ¯ä¸Šæœ‰äº†å¾ˆå¤§çš„è¿›æ­¥ï¼Œæ‰€ä»¥å¯¼è‡´æˆ‘è‡ªèº«æˆé•¿çš„é—®é¢˜å¾—åˆ°äº†å¾ˆå¤§çš„æ”¹å–„ã€‚</p>\n<p>é‚£æ®µæ—¶é—´ï¼Œè€ w è¯´æˆ‘ä½ è¿™æ˜¯å’‹äº†æ€»æ˜¯æ„Ÿè§‰å¿ƒä¸åœ¨ç„‰çš„æ²¡å•¥ç²¾ç¥ï¼Œæˆ‘æŠŠæˆ‘åœ¨å…¬å¸çš„äº‹æƒ…è·Ÿä»–è¯´äº†ä¹‹åï¼Œä»–ç»™æˆ‘çš„å»ºè®®å°±æ˜¯å…¬å¸æœ‰å‰è¾ˆæ„¿æ„æ•™ä½ å¸¦ä½ ï¼Œè¯´æ˜ä½ è¿æ°”è¿˜æ˜¯ä¸é”™çš„ï¼Œä½ æƒ³å¦‚æœå…¬å¸å‰è¾ˆå¸¦ä½ å…¥é—¨é‚£ä½ å¯ä»¥æƒ³è±¡åæœæ˜¯ä»€ä¹ˆæ ·å­çš„ï¼›å®ä¹ æœŸè¿‡ä¸äº†ï¼Œä»»åŠ¡åšä¸äº†ï¼›é‚£ä½ åœ¨å…¬å¸æ¯«æ— å¯ç”¨çš„ä»·å€¼ï¼Œæœ€åä½ çš„ä¸‹åœºåªèƒ½èµ°äººäº†ï¼›</p>\n<p>é‚£æ˜¯ä¹Ÿæ˜¯æœ‰å¯¹è±¡çš„ï¼Œæ¯•ç«Ÿæ˜¯å¼‚åœ°æ‹ï¼Œå†åŠ ä¸Šè‡ªå·±çš„æ€§æ ¼ï¼Œè„¾æ°”é—®é¢˜ï¼Œå¯¼è‡´æˆ‘æ€»æ˜¯æƒ…ç»ªä¸ç¨³å®šï¼Œæœ€åçš„ç»“å±€æ˜¾è€Œæ˜“è§ï¼›</p>\n<p>é‚£æ®µæ—¶é—´è®©æˆ‘æ˜ç™½äº†è‡ªèº«æœ‰å¾ˆå¤§çš„ç¼ºé™·ï¼Œæ€»æ˜¯è§‰å¾—è‡ªä»¥ä¸ºæ˜¯ï¼Œæ€§æ ¼è„¾æ°”ä¸ç¨³å®šï¼Œå†åŠ ä¸Šå·¥ä½œä»»åŠ¡ä¸æ‰å®ï¼Œæ²¡æœ‰é«˜æ•ˆç‡çš„å¼€å‘ä¸€äº›åˆ—çš„é—®é¢˜ï¼›åœ¨ç»è¿‡äº†è€ w çš„æŒ‡å¯¼ä¹‹åï¼Œæˆ‘é€æ¸çš„æ”¹å–„äº†è¿™äº›é—®é¢˜ï¼Œä½†æ˜¯è¿˜æ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜ï¼›</p>\n<p>ä¸è¿‡é¦–å…ˆè¦åšçš„å°±æ˜¯æ”¹å–„è‡ªå·±çš„æ¯›ç—…ï¼Œè¶ç€çº¿ä¸‹æ—¶é—´å­¦äº›ï¼Œé‚£æ®µæ—¶é—´æˆ‘å’Œè€ w æ˜¯åœ¨å®å±±åˆç§Ÿçš„ï¼Œä»–æ¯æ¬¡ä¸‹ç­ä¹‹åæ€»æ˜¯èƒ½çœ‹åˆ°æˆ‘æ‰“å¼€ç”µè„‘å­¦ä¹ å­¦åˆ°å‡Œæ™¨ 1 ç‚¹å·¦å³ï¼Œé‚£æ®µæ—¶é—´å­¦ä¹ ç€å…¬å¸çš„é¡¹ç›®ï¼Œæ…¢æ…¢ç†Ÿæ‚‰å…¬å¸çš„ä¸šåŠ¡ï¼Œæ…¢æ…¢çš„æå‡è‡ªå·±çš„å¼€å‘æ•ˆç‡ï¼Œæ…¢æ…¢çš„æå‡è‡ªå·±çš„å¼€å‘æ°´å¹³ï¼›</p>\n<p>ä»ç»†å°é—®é¢˜åˆ°å¤§èŒƒå›´çš„æŠ€èƒ½æå‡ï¼Œä¹‹åå°±ä»…ä»…åœ¨å…¬å¸å‘†äº†ä¸€å¹´æ—¶é—´å§ï¼Œå› ä¸ºå½“æ—¶è§‰å¾—è‡ªå·±å¹¶ä¸èƒ½ä»…ä»…å­¦ä¹ è¿™ç‚¹ä¸œè¥¿ï¼Œç„¶åæˆ‘å°±æ¢äº†ç°åœ¨çš„å…¬å¸ï¼›</p>\n<p>ç›®å‰ç°åœ¨çš„å…¬å¸è®©æˆ‘è§‰å¾—ä¸é”™ï¼Œåœ¨çŸ­æš‚ä¿©å¹´æ—¶é—´æå‡å¾ˆå¤§ï¼›</p>\n","excerpt":"","more":"<h1 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h1><p>è‡ªä»ä¸Šæ¬¡æ—…æ¸¸æ”¾æ¾è¿‡åï¼Œæˆ‘å‘ç°äº†ä¸€ç³»åˆ—å…³äºè‡ªèº«çš„é—®é¢˜ï¼›</p>\n<p>è‡ªèº«çš„ä¸€ç³»åˆ—é—®é¢˜å¤§çº¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>\n<ol>\n<li>è‡ªèº«æˆé•¿çš„é—®é¢˜</li>\n<li>å·¥ä½œæ²‰æ·€é—®é¢˜</li>\n<li>ç¤¾äº¤æ²Ÿé€šé—®é¢˜</li>\n</ol>\n<h2 id=\"è‡ªèº«çš„é—®é¢˜\"><a href=\"#è‡ªèº«çš„é—®é¢˜\" class=\"headerlink\" title=\"è‡ªèº«çš„é—®é¢˜\"></a>è‡ªèº«çš„é—®é¢˜</h2><p>è¿˜è®°å¾—åˆšæ¥ä¸Šæµ·åº”è¯¥æ˜¯ 19 å¹´ 6 æœˆä»½å·¦å³å§ï¼Œå½“æ—¶ä¹Ÿæ˜¯åˆšä»å­¦æ ¡èµ°å‘ç¤¾ä¼šï¼Œæ²¡ç»å†è¿‡ç¤¾ä¼šçš„æ¯’æ‰“ï¼Œæ‰€ä»¥è‡ªèº«æˆé•¿çš„é—®é¢˜è¿˜æ˜¯æ¯”è¾ƒä¸¥é‡ã€‚</p>\n<p>ä½œä¸ºä¸€ä¸ªåº”å±Šç”Ÿï¼Œæƒ³å»çœ‹çœ‹å¤§åŸå¸‚ï¼Œæ‰€ä»¥é€‰æ‹©äº†ä¸Šæµ·ï¼Œä½†æ˜¯ç”±äºè‡ªèº«åŸå› ï¼Œå¯¼è‡´è‡ªå·±ä¸€ç›´å¾…åœ¨èˆ’é€‚åŒºï¼Œæ²¡æœ‰å»å°è¯•æ–°çš„ä¸œè¥¿ï¼Œå¯¼è‡´è‡ªèº«æˆé•¿çš„é—®é¢˜è¿˜æ˜¯æ¯”è¾ƒä¸¥é‡ã€‚</p>\n<p>åˆšå…¥ç¬¬ä¸€å®¶å…¬å¸ï¼Œå› ä¸ºæ˜¯å°ç™½å—ï¼ŒåŸºæœ¬ä¸Šå•¥ä¹Ÿä¸ä¼šçš„ï¼Œæ‰€ä»¥å¯¼è‡´è‡ªå·±ä¸€ç›´å¤„äºä¸€ä¸ªæ¯”è¾ƒä½æ•ˆçš„çŠ¶æ€ï¼Œå·¥ä½œæ•ˆç‡ä¹Ÿä¸æ˜¯å¾ˆé«˜ï¼Œä¸€å®šç¨‹åº¦ä¸Šå°±å½“äº†å…¬å¸çš„ç´¯èµ˜ã€‚è¿˜å¥½æˆ‘çš„è¿æ°”æœ¬è¾ƒå¥½ï¼Œé‡åˆ°äº†ä¸€ä¸ªæ„¿æ„ä¸æˆ‘äº¤æµçš„å‰è¾ˆï¼Œæ¯”æˆ‘å¤§äº†å¤§æ¦‚ 33 å²å·¦å³å§ï¼Œæ‰€ä»¥åœ¨æˆ‘å·¥ä½œæœŸé—´ï¼Œä»–ç»™æˆ‘æäº†ä¸€äº›å»ºè®®ï¼Œè®©æˆ‘åœ¨æŠ€æœ¯ä¸Šæœ‰äº†å¾ˆå¤§çš„è¿›æ­¥ï¼Œæ‰€ä»¥å¯¼è‡´æˆ‘è‡ªèº«æˆé•¿çš„é—®é¢˜å¾—åˆ°äº†å¾ˆå¤§çš„æ”¹å–„ã€‚</p>\n<p>é‚£æ®µæ—¶é—´ï¼Œè€ w è¯´æˆ‘ä½ è¿™æ˜¯å’‹äº†æ€»æ˜¯æ„Ÿè§‰å¿ƒä¸åœ¨ç„‰çš„æ²¡å•¥ç²¾ç¥ï¼Œæˆ‘æŠŠæˆ‘åœ¨å…¬å¸çš„äº‹æƒ…è·Ÿä»–è¯´äº†ä¹‹åï¼Œä»–ç»™æˆ‘çš„å»ºè®®å°±æ˜¯å…¬å¸æœ‰å‰è¾ˆæ„¿æ„æ•™ä½ å¸¦ä½ ï¼Œè¯´æ˜ä½ è¿æ°”è¿˜æ˜¯ä¸é”™çš„ï¼Œä½ æƒ³å¦‚æœå…¬å¸å‰è¾ˆå¸¦ä½ å…¥é—¨é‚£ä½ å¯ä»¥æƒ³è±¡åæœæ˜¯ä»€ä¹ˆæ ·å­çš„ï¼›å®ä¹ æœŸè¿‡ä¸äº†ï¼Œä»»åŠ¡åšä¸äº†ï¼›é‚£ä½ åœ¨å…¬å¸æ¯«æ— å¯ç”¨çš„ä»·å€¼ï¼Œæœ€åä½ çš„ä¸‹åœºåªèƒ½èµ°äººäº†ï¼›</p>\n<p>é‚£æ˜¯ä¹Ÿæ˜¯æœ‰å¯¹è±¡çš„ï¼Œæ¯•ç«Ÿæ˜¯å¼‚åœ°æ‹ï¼Œå†åŠ ä¸Šè‡ªå·±çš„æ€§æ ¼ï¼Œè„¾æ°”é—®é¢˜ï¼Œå¯¼è‡´æˆ‘æ€»æ˜¯æƒ…ç»ªä¸ç¨³å®šï¼Œæœ€åçš„ç»“å±€æ˜¾è€Œæ˜“è§ï¼›</p>\n<p>é‚£æ®µæ—¶é—´è®©æˆ‘æ˜ç™½äº†è‡ªèº«æœ‰å¾ˆå¤§çš„ç¼ºé™·ï¼Œæ€»æ˜¯è§‰å¾—è‡ªä»¥ä¸ºæ˜¯ï¼Œæ€§æ ¼è„¾æ°”ä¸ç¨³å®šï¼Œå†åŠ ä¸Šå·¥ä½œä»»åŠ¡ä¸æ‰å®ï¼Œæ²¡æœ‰é«˜æ•ˆç‡çš„å¼€å‘ä¸€äº›åˆ—çš„é—®é¢˜ï¼›åœ¨ç»è¿‡äº†è€ w çš„æŒ‡å¯¼ä¹‹åï¼Œæˆ‘é€æ¸çš„æ”¹å–„äº†è¿™äº›é—®é¢˜ï¼Œä½†æ˜¯è¿˜æ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜ï¼›</p>\n<p>ä¸è¿‡é¦–å…ˆè¦åšçš„å°±æ˜¯æ”¹å–„è‡ªå·±çš„æ¯›ç—…ï¼Œè¶ç€çº¿ä¸‹æ—¶é—´å­¦äº›ï¼Œé‚£æ®µæ—¶é—´æˆ‘å’Œè€ w æ˜¯åœ¨å®å±±åˆç§Ÿçš„ï¼Œä»–æ¯æ¬¡ä¸‹ç­ä¹‹åæ€»æ˜¯èƒ½çœ‹åˆ°æˆ‘æ‰“å¼€ç”µè„‘å­¦ä¹ å­¦åˆ°å‡Œæ™¨ 1 ç‚¹å·¦å³ï¼Œé‚£æ®µæ—¶é—´å­¦ä¹ ç€å…¬å¸çš„é¡¹ç›®ï¼Œæ…¢æ…¢ç†Ÿæ‚‰å…¬å¸çš„ä¸šåŠ¡ï¼Œæ…¢æ…¢çš„æå‡è‡ªå·±çš„å¼€å‘æ•ˆç‡ï¼Œæ…¢æ…¢çš„æå‡è‡ªå·±çš„å¼€å‘æ°´å¹³ï¼›</p>\n<p>ä»ç»†å°é—®é¢˜åˆ°å¤§èŒƒå›´çš„æŠ€èƒ½æå‡ï¼Œä¹‹åå°±ä»…ä»…åœ¨å…¬å¸å‘†äº†ä¸€å¹´æ—¶é—´å§ï¼Œå› ä¸ºå½“æ—¶è§‰å¾—è‡ªå·±å¹¶ä¸èƒ½ä»…ä»…å­¦ä¹ è¿™ç‚¹ä¸œè¥¿ï¼Œç„¶åæˆ‘å°±æ¢äº†ç°åœ¨çš„å…¬å¸ï¼›</p>\n<p>ç›®å‰ç°åœ¨çš„å…¬å¸è®©æˆ‘è§‰å¾—ä¸é”™ï¼Œåœ¨çŸ­æš‚ä¿©å¹´æ—¶é—´æå‡å¾ˆå¤§ï¼›</p>\n"},{"title":"asyncå’Œdefer","abbrlink":"f0ee85e6","date":"2024-05-15T03:20:38.000Z","_content":"\n{% note info simple %}\n`<script>`æ ‡ç­¾çš„`defer`å’Œ`async`çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ  \n`async`å’Œ `defer` æ˜¯ä¸¤ä¸ªç”¨äºæ§åˆ¶è„šæœ¬åŠ è½½å’Œæ‰§è¡Œçš„å±æ€§ï¼Œç”¨äº `<script>` æ ‡ç­¾ä¸­ã€‚å®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºè„šæœ¬çš„åŠ è½½å’Œæ‰§è¡Œé¡ºåºã€‚\n{% endnote %}\n\n\n[<MDN æ˜¯å¦‚ä½•è§£é‡Šçš„ï¼Ÿ>](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/script)\n\nè¿™é‡Œä¸€å¼ å›¾å¯ä»¥å®Œç¾è§£é‡Šï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/avoid-render-blocking-javascript-with-async-defer.51e79lydsy.webp)\n\n## async\n\n`async` å±æ€§æŒ‡å®šè„šæœ¬åº”è¯¥å¼‚æ­¥åŠ è½½ï¼Œè¿™æ„å‘³ç€æµè§ˆå™¨ä¼šåœ¨åå°åŠ è½½è„šæœ¬ï¼Œè€Œä¸ä¼šé˜»å¡é¡µé¢çš„æ¸²æŸ“ã€‚è„šæœ¬åŠ è½½å®Œæˆåï¼Œä¼šç«‹å³æ‰§è¡Œã€‚\n\nå¯¹äºæ™®é€šè„šæœ¬ï¼Œå¦‚æœå­˜åœ¨ `async` å±æ€§ï¼Œé‚£ä¹ˆæ™®é€šè„šæœ¬ä¼šè¢«å¹¶è¡Œè¯·æ±‚ï¼Œå¹¶å°½å¿«è§£æå’Œæ‰§è¡Œã€‚\n\nå¯¹äºæ¨¡å—è„šæœ¬ï¼Œå¦‚æœå­˜åœ¨ `async` å±æ€§ï¼Œé‚£ä¹ˆè„šæœ¬åŠå…¶æ‰€æœ‰ä¾èµ–éƒ½ä¼šåœ¨å»¶ç¼“é˜Ÿåˆ—ä¸­æ‰§è¡Œï¼Œå› æ­¤å®ƒä»¬ä¼šè¢«å¹¶è¡Œè¯·æ±‚ï¼Œå¹¶å°½å¿«è§£æå’Œæ‰§è¡Œã€‚\n\n```js\n<script async src=\"script.js\"></script>\n```\n\nä¼˜ç‚¹ï¼š\n\n- ä¸ä¼šé˜»å¡é¡µé¢æ¸²æŸ“\n- åŠ è½½å®Œæˆåç«‹å³æ‰§è¡Œ\n\nç¼ºç‚¹\n\n- è„šæœ¬æ‰§è¡Œé¡ºåºä¸ç¡®å®š\n- å¯èƒ½ä¼šå¯¼è‡´è„šæœ¬ä¾èµ–çš„é—®é¢˜\n\n## defer\n\n`defer` å±æ€§æŒ‡å®šè„šæœ¬åº”è¯¥å»¶è¿ŸåŠ è½½ï¼Œè¿™æ„å‘³ç€æµè§ˆå™¨ä¼šåœ¨é¡µé¢æ¸²æŸ“å®ŒæˆååŠ è½½è„šæœ¬ã€‚è„šæœ¬åŠ è½½å®Œæˆåï¼Œä¼šåœ¨ `DOMContentLoaded` äº‹ä»¶ä¹‹å‰æ‰§è¡Œã€‚ä½†æ˜¯å®ƒèƒ½ä¿è¯æ‰§è¡Œé¡ºåºã€‚\n\n```js\n<script defer src=\"script.js\"></script>\n```\n\nä¼˜ç‚¹ï¼š\n\n- ä¸ä¼šé˜»å¡é¡µé¢æ¸²æŸ“\n- è„šæœ¬æ‰§è¡Œé¡ºåºç¡®å®šï¼ˆåœ¨ `DOMContentLoaded` äº‹ä»¶ä¹‹å‰ï¼‰\n- å¯ä»¥è§£å†³è„šæœ¬ä¾èµ–çš„é—®é¢˜\n\nç¼ºç‚¹ï¼š\n\n- åŠ è½½å®Œæˆåå¯èƒ½éœ€è¦ç­‰å¾… `DOMContentLoaded` äº‹ä»¶æ‰ä¼šæ‰§è¡Œ\n\nä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœè„šæœ¬ä¸ä¾èµ–å…¶ä»–è„šæœ¬æˆ– `DOM`ï¼Œå¯ä»¥ä½¿ç”¨ `async`ã€‚ å¦‚æœè„šæœ¬ä¾èµ–å…¶ä»–è„šæœ¬æˆ–`DOM`ï¼Œåº”è¯¥ä½¿ç”¨ `defer`ã€‚\n","source":"_posts/æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/asyncå’Œdefer.md","raw":"---\ntitle: asyncå’Œdefer\nabbrlink: f0ee85e6\ndate: 2024-05-15 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - JavaScript \n---\n\n{% note info simple %}\n`<script>`æ ‡ç­¾çš„`defer`å’Œ`async`çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ  \n`async`å’Œ `defer` æ˜¯ä¸¤ä¸ªç”¨äºæ§åˆ¶è„šæœ¬åŠ è½½å’Œæ‰§è¡Œçš„å±æ€§ï¼Œç”¨äº `<script>` æ ‡ç­¾ä¸­ã€‚å®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºè„šæœ¬çš„åŠ è½½å’Œæ‰§è¡Œé¡ºåºã€‚\n{% endnote %}\n\n\n[<MDN æ˜¯å¦‚ä½•è§£é‡Šçš„ï¼Ÿ>](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/script)\n\nè¿™é‡Œä¸€å¼ å›¾å¯ä»¥å®Œç¾è§£é‡Šï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/avoid-render-blocking-javascript-with-async-defer.51e79lydsy.webp)\n\n## async\n\n`async` å±æ€§æŒ‡å®šè„šæœ¬åº”è¯¥å¼‚æ­¥åŠ è½½ï¼Œè¿™æ„å‘³ç€æµè§ˆå™¨ä¼šåœ¨åå°åŠ è½½è„šæœ¬ï¼Œè€Œä¸ä¼šé˜»å¡é¡µé¢çš„æ¸²æŸ“ã€‚è„šæœ¬åŠ è½½å®Œæˆåï¼Œä¼šç«‹å³æ‰§è¡Œã€‚\n\nå¯¹äºæ™®é€šè„šæœ¬ï¼Œå¦‚æœå­˜åœ¨ `async` å±æ€§ï¼Œé‚£ä¹ˆæ™®é€šè„šæœ¬ä¼šè¢«å¹¶è¡Œè¯·æ±‚ï¼Œå¹¶å°½å¿«è§£æå’Œæ‰§è¡Œã€‚\n\nå¯¹äºæ¨¡å—è„šæœ¬ï¼Œå¦‚æœå­˜åœ¨ `async` å±æ€§ï¼Œé‚£ä¹ˆè„šæœ¬åŠå…¶æ‰€æœ‰ä¾èµ–éƒ½ä¼šåœ¨å»¶ç¼“é˜Ÿåˆ—ä¸­æ‰§è¡Œï¼Œå› æ­¤å®ƒä»¬ä¼šè¢«å¹¶è¡Œè¯·æ±‚ï¼Œå¹¶å°½å¿«è§£æå’Œæ‰§è¡Œã€‚\n\n```js\n<script async src=\"script.js\"></script>\n```\n\nä¼˜ç‚¹ï¼š\n\n- ä¸ä¼šé˜»å¡é¡µé¢æ¸²æŸ“\n- åŠ è½½å®Œæˆåç«‹å³æ‰§è¡Œ\n\nç¼ºç‚¹\n\n- è„šæœ¬æ‰§è¡Œé¡ºåºä¸ç¡®å®š\n- å¯èƒ½ä¼šå¯¼è‡´è„šæœ¬ä¾èµ–çš„é—®é¢˜\n\n## defer\n\n`defer` å±æ€§æŒ‡å®šè„šæœ¬åº”è¯¥å»¶è¿ŸåŠ è½½ï¼Œè¿™æ„å‘³ç€æµè§ˆå™¨ä¼šåœ¨é¡µé¢æ¸²æŸ“å®ŒæˆååŠ è½½è„šæœ¬ã€‚è„šæœ¬åŠ è½½å®Œæˆåï¼Œä¼šåœ¨ `DOMContentLoaded` äº‹ä»¶ä¹‹å‰æ‰§è¡Œã€‚ä½†æ˜¯å®ƒèƒ½ä¿è¯æ‰§è¡Œé¡ºåºã€‚\n\n```js\n<script defer src=\"script.js\"></script>\n```\n\nä¼˜ç‚¹ï¼š\n\n- ä¸ä¼šé˜»å¡é¡µé¢æ¸²æŸ“\n- è„šæœ¬æ‰§è¡Œé¡ºåºç¡®å®šï¼ˆåœ¨ `DOMContentLoaded` äº‹ä»¶ä¹‹å‰ï¼‰\n- å¯ä»¥è§£å†³è„šæœ¬ä¾èµ–çš„é—®é¢˜\n\nç¼ºç‚¹ï¼š\n\n- åŠ è½½å®Œæˆåå¯èƒ½éœ€è¦ç­‰å¾… `DOMContentLoaded` äº‹ä»¶æ‰ä¼šæ‰§è¡Œ\n\nä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœè„šæœ¬ä¸ä¾èµ–å…¶ä»–è„šæœ¬æˆ– `DOM`ï¼Œå¯ä»¥ä½¿ç”¨ `async`ã€‚ å¦‚æœè„šæœ¬ä¾èµ–å…¶ä»–è„šæœ¬æˆ–`DOM`ï¼Œåº”è¯¥ä½¿ç”¨ `defer`ã€‚\n","slug":"æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/asyncå’Œdefer","published":1,"updated":"2025-03-13T10:16:19.058Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j4005lfg9mchq8bxwd","content":"<div class=\"note info simple\"><p><code>&lt;script&gt;</code>æ ‡ç­¾çš„<code>defer</code>å’Œ<code>async</code>çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ<br><code>async</code>å’Œ <code>defer</code> æ˜¯ä¸¤ä¸ªç”¨äºæ§åˆ¶è„šæœ¬åŠ è½½å’Œæ‰§è¡Œçš„å±æ€§ï¼Œç”¨äº <code>&lt;script&gt;</code> æ ‡ç­¾ä¸­ã€‚å®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºè„šæœ¬çš„åŠ è½½å’Œæ‰§è¡Œé¡ºåºã€‚</p>\n</div>\n\n\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/script\">&lt;MDN æ˜¯å¦‚ä½•è§£é‡Šçš„ï¼Ÿ&gt;</a></p>\n<p>è¿™é‡Œä¸€å¼ å›¾å¯ä»¥å®Œç¾è§£é‡Šï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/avoid-render-blocking-javascript-with-async-defer.51e79lydsy.webp\" alt=\"x\"></p>\n<h2 id=\"async\"><a href=\"#async\" class=\"headerlink\" title=\"async\"></a>async</h2><p><code>async</code> å±æ€§æŒ‡å®šè„šæœ¬åº”è¯¥å¼‚æ­¥åŠ è½½ï¼Œè¿™æ„å‘³ç€æµè§ˆå™¨ä¼šåœ¨åå°åŠ è½½è„šæœ¬ï¼Œè€Œä¸ä¼šé˜»å¡é¡µé¢çš„æ¸²æŸ“ã€‚è„šæœ¬åŠ è½½å®Œæˆåï¼Œä¼šç«‹å³æ‰§è¡Œã€‚</p>\n<p>å¯¹äºæ™®é€šè„šæœ¬ï¼Œå¦‚æœå­˜åœ¨ <code>async</code> å±æ€§ï¼Œé‚£ä¹ˆæ™®é€šè„šæœ¬ä¼šè¢«å¹¶è¡Œè¯·æ±‚ï¼Œå¹¶å°½å¿«è§£æå’Œæ‰§è¡Œã€‚</p>\n<p>å¯¹äºæ¨¡å—è„šæœ¬ï¼Œå¦‚æœå­˜åœ¨ <code>async</code> å±æ€§ï¼Œé‚£ä¹ˆè„šæœ¬åŠå…¶æ‰€æœ‰ä¾èµ–éƒ½ä¼šåœ¨å»¶ç¼“é˜Ÿåˆ—ä¸­æ‰§è¡Œï¼Œå› æ­¤å®ƒä»¬ä¼šè¢«å¹¶è¡Œè¯·æ±‚ï¼Œå¹¶å°½å¿«è§£æå’Œæ‰§è¡Œã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script <span class=\"keyword\">async</span> src=<span class=\"string\">&quot;script.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n\n<p>ä¼˜ç‚¹ï¼š</p>\n<ul>\n<li>ä¸ä¼šé˜»å¡é¡µé¢æ¸²æŸ“</li>\n<li>åŠ è½½å®Œæˆåç«‹å³æ‰§è¡Œ</li>\n</ul>\n<p>ç¼ºç‚¹</p>\n<ul>\n<li>è„šæœ¬æ‰§è¡Œé¡ºåºä¸ç¡®å®š</li>\n<li>å¯èƒ½ä¼šå¯¼è‡´è„šæœ¬ä¾èµ–çš„é—®é¢˜</li>\n</ul>\n<h2 id=\"defer\"><a href=\"#defer\" class=\"headerlink\" title=\"defer\"></a>defer</h2><p><code>defer</code> å±æ€§æŒ‡å®šè„šæœ¬åº”è¯¥å»¶è¿ŸåŠ è½½ï¼Œè¿™æ„å‘³ç€æµè§ˆå™¨ä¼šåœ¨é¡µé¢æ¸²æŸ“å®ŒæˆååŠ è½½è„šæœ¬ã€‚è„šæœ¬åŠ è½½å®Œæˆåï¼Œä¼šåœ¨ <code>DOMContentLoaded</code> äº‹ä»¶ä¹‹å‰æ‰§è¡Œã€‚ä½†æ˜¯å®ƒèƒ½ä¿è¯æ‰§è¡Œé¡ºåºã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script defer src=<span class=\"string\">&quot;script.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n\n<p>ä¼˜ç‚¹ï¼š</p>\n<ul>\n<li>ä¸ä¼šé˜»å¡é¡µé¢æ¸²æŸ“</li>\n<li>è„šæœ¬æ‰§è¡Œé¡ºåºç¡®å®šï¼ˆåœ¨ <code>DOMContentLoaded</code> äº‹ä»¶ä¹‹å‰ï¼‰</li>\n<li>å¯ä»¥è§£å†³è„šæœ¬ä¾èµ–çš„é—®é¢˜</li>\n</ul>\n<p>ç¼ºç‚¹ï¼š</p>\n<ul>\n<li>åŠ è½½å®Œæˆåå¯èƒ½éœ€è¦ç­‰å¾… <code>DOMContentLoaded</code> äº‹ä»¶æ‰ä¼šæ‰§è¡Œ</li>\n</ul>\n<p>ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœè„šæœ¬ä¸ä¾èµ–å…¶ä»–è„šæœ¬æˆ– <code>DOM</code>ï¼Œå¯ä»¥ä½¿ç”¨ <code>async</code>ã€‚ å¦‚æœè„šæœ¬ä¾èµ–å…¶ä»–è„šæœ¬æˆ–<code>DOM</code>ï¼Œåº”è¯¥ä½¿ç”¨ <code>defer</code>ã€‚</p>\n","excerpt":"","more":"<div class=\"note info simple\"><p><code>&lt;script&gt;</code>æ ‡ç­¾çš„<code>defer</code>å’Œ<code>async</code>çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ<br><code>async</code>å’Œ <code>defer</code> æ˜¯ä¸¤ä¸ªç”¨äºæ§åˆ¶è„šæœ¬åŠ è½½å’Œæ‰§è¡Œçš„å±æ€§ï¼Œç”¨äº <code>&lt;script&gt;</code> æ ‡ç­¾ä¸­ã€‚å®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºè„šæœ¬çš„åŠ è½½å’Œæ‰§è¡Œé¡ºåºã€‚</p>\n</div>\n\n\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/script\">&lt;MDN æ˜¯å¦‚ä½•è§£é‡Šçš„ï¼Ÿ&gt;</a></p>\n<p>è¿™é‡Œä¸€å¼ å›¾å¯ä»¥å®Œç¾è§£é‡Šï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/avoid-render-blocking-javascript-with-async-defer.51e79lydsy.webp\" alt=\"x\"></p>\n<h2 id=\"async\"><a href=\"#async\" class=\"headerlink\" title=\"async\"></a>async</h2><p><code>async</code> å±æ€§æŒ‡å®šè„šæœ¬åº”è¯¥å¼‚æ­¥åŠ è½½ï¼Œè¿™æ„å‘³ç€æµè§ˆå™¨ä¼šåœ¨åå°åŠ è½½è„šæœ¬ï¼Œè€Œä¸ä¼šé˜»å¡é¡µé¢çš„æ¸²æŸ“ã€‚è„šæœ¬åŠ è½½å®Œæˆåï¼Œä¼šç«‹å³æ‰§è¡Œã€‚</p>\n<p>å¯¹äºæ™®é€šè„šæœ¬ï¼Œå¦‚æœå­˜åœ¨ <code>async</code> å±æ€§ï¼Œé‚£ä¹ˆæ™®é€šè„šæœ¬ä¼šè¢«å¹¶è¡Œè¯·æ±‚ï¼Œå¹¶å°½å¿«è§£æå’Œæ‰§è¡Œã€‚</p>\n<p>å¯¹äºæ¨¡å—è„šæœ¬ï¼Œå¦‚æœå­˜åœ¨ <code>async</code> å±æ€§ï¼Œé‚£ä¹ˆè„šæœ¬åŠå…¶æ‰€æœ‰ä¾èµ–éƒ½ä¼šåœ¨å»¶ç¼“é˜Ÿåˆ—ä¸­æ‰§è¡Œï¼Œå› æ­¤å®ƒä»¬ä¼šè¢«å¹¶è¡Œè¯·æ±‚ï¼Œå¹¶å°½å¿«è§£æå’Œæ‰§è¡Œã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script <span class=\"keyword\">async</span> src=<span class=\"string\">&quot;script.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n\n<p>ä¼˜ç‚¹ï¼š</p>\n<ul>\n<li>ä¸ä¼šé˜»å¡é¡µé¢æ¸²æŸ“</li>\n<li>åŠ è½½å®Œæˆåç«‹å³æ‰§è¡Œ</li>\n</ul>\n<p>ç¼ºç‚¹</p>\n<ul>\n<li>è„šæœ¬æ‰§è¡Œé¡ºåºä¸ç¡®å®š</li>\n<li>å¯èƒ½ä¼šå¯¼è‡´è„šæœ¬ä¾èµ–çš„é—®é¢˜</li>\n</ul>\n<h2 id=\"defer\"><a href=\"#defer\" class=\"headerlink\" title=\"defer\"></a>defer</h2><p><code>defer</code> å±æ€§æŒ‡å®šè„šæœ¬åº”è¯¥å»¶è¿ŸåŠ è½½ï¼Œè¿™æ„å‘³ç€æµè§ˆå™¨ä¼šåœ¨é¡µé¢æ¸²æŸ“å®ŒæˆååŠ è½½è„šæœ¬ã€‚è„šæœ¬åŠ è½½å®Œæˆåï¼Œä¼šåœ¨ <code>DOMContentLoaded</code> äº‹ä»¶ä¹‹å‰æ‰§è¡Œã€‚ä½†æ˜¯å®ƒèƒ½ä¿è¯æ‰§è¡Œé¡ºåºã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script defer src=<span class=\"string\">&quot;script.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n\n<p>ä¼˜ç‚¹ï¼š</p>\n<ul>\n<li>ä¸ä¼šé˜»å¡é¡µé¢æ¸²æŸ“</li>\n<li>è„šæœ¬æ‰§è¡Œé¡ºåºç¡®å®šï¼ˆåœ¨ <code>DOMContentLoaded</code> äº‹ä»¶ä¹‹å‰ï¼‰</li>\n<li>å¯ä»¥è§£å†³è„šæœ¬ä¾èµ–çš„é—®é¢˜</li>\n</ul>\n<p>ç¼ºç‚¹ï¼š</p>\n<ul>\n<li>åŠ è½½å®Œæˆåå¯èƒ½éœ€è¦ç­‰å¾… <code>DOMContentLoaded</code> äº‹ä»¶æ‰ä¼šæ‰§è¡Œ</li>\n</ul>\n<p>ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœè„šæœ¬ä¸ä¾èµ–å…¶ä»–è„šæœ¬æˆ– <code>DOM</code>ï¼Œå¯ä»¥ä½¿ç”¨ <code>async</code>ã€‚ å¦‚æœè„šæœ¬ä¾èµ–å…¶ä»–è„šæœ¬æˆ–<code>DOM</code>ï¼Œåº”è¯¥ä½¿ç”¨ <code>defer</code>ã€‚</p>\n"},{"title":"csså•ä½å¯¹æ¯”","abbrlink":"3a9fa5c8","date":"2023-06-15T03:20:38.000Z","_content":"\n\n{% note info simple %}\n`css`ä¸­è®¡é‡å•ä½é‚£ä¹ˆå¤šï¼Œä½†æ˜¯å®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ\n{% endnote %}\n\nåœ¨ä¼ ç»Ÿçš„é¡¹ç›®ä¸­`px, %, em`è¿™å‡ ä¸ªå•ä½æ˜¯ç»å¸¸ç”¨åˆ°çš„ï¼Œå¹¶ä¸”å…¼å®¹æ•ˆæœè¿˜ä¸é”™ï¼›è‡ªä»`css3`å¼€å§‹ï¼Œè®¡é‡å•ä½å°±é€æ¸å¢åŠ `rem, vw, vh`ç­‰ï¼›\n\nè®¡é‡å•ä½é‚£ä¹ˆå¤šï¼Œåœ¨é¡¹ç›®å¦‚ä½•ä½¿ç”¨ï¼Œå¹¶ä¸”å®ƒä»¬æ˜¯æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ\n\n| css å•ä½     |                                        |\n| ------------ | -------------------------------------- |\n| ç›¸å¯¹é•¿åº¦å•ä½ | emã€exã€chã€remã€vwã€vhã€vminã€vmaxã€% |\n| ç»å¯¹é•¿åº¦å•ä½ | cmã€mmã€inã€pxã€ptã€pc                 |\n\nè¿™é‡Œæˆ‘ä»¬ä¸»è¦è®²è¿° pxã€emã€remã€vhã€vw, %\n\n## px\n\n`px`ï¼Œè¡¨ç¤ºåƒç´ ï¼Œæ‰€è°“åƒç´ å°±æ˜¯å‘ˆç°åœ¨æˆ‘ä»¬æ˜¾ç¤ºå™¨ä¸Šçš„ä¸€ä¸ªä¸ªå°ç‚¹ï¼Œæ¯ä¸ªåƒç´ ç‚¹éƒ½æ˜¯å¤§å°ç­‰åŒçš„ï¼Œæ‰€ä»¥åƒç´ ä¸ºè®¡é‡å•ä½è¢«åˆ†åœ¨äº†ç»å¯¹é•¿åº¦å•ä½ä¸­\n\næœ‰äº›äººä¼šæŠŠ px è®¤ä¸ºæ˜¯ç›¸å¯¹é•¿åº¦ï¼ŒåŸå› åœ¨äºåœ¨ç§»åŠ¨ç«¯ä¸­å­˜åœ¨è®¾å¤‡åƒç´ æ¯”ï¼Œ`px` å®é™…æ˜¾ç¤ºçš„å¤§å°æ˜¯ä¸ç¡®å®šçš„\n\nè¿™é‡Œä¹‹æ‰€ä»¥è®¤ä¸º `px` ä¸ºç»å¯¹å•ä½ï¼Œåœ¨äº `px` çš„å¤§å°å’Œå…ƒç´ çš„å…¶ä»–å±æ€§æ— å…³\n\n## em\n\n`em`æ˜¯ç›¸å¯¹é•¿åº¦å•ä½ã€‚ç›¸å¯¹äºå½“å‰å¯¹è±¡å†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸ã€‚å¦‚å½“å‰å¯¹è¡Œå†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸æœªè¢«äººä¸ºè®¾ç½®ï¼Œåˆ™ç›¸å¯¹äºæµè§ˆå™¨çš„é»˜è®¤å­—ä½“å°ºå¯¸`ï¼ˆ1em = 16pxï¼‰`\n\nä¸ºäº†ç®€åŒ– `font-size` çš„æ¢ç®—ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ `css` ä¸­çš„ `body` é€‰æ‹©å™¨ä¸­å£°æ˜ `font-size= 62.5%`ï¼Œè¿™å°±ä½¿ em å€¼å˜ä¸º `16px\\*62.5% = 10px`\n\nè¿™æ · `12px = 1.2em, 10px = 1em,` ä¹Ÿå°±æ˜¯è¯´åªéœ€è¦å°†ä½ çš„åŸæ¥çš„ `px` æ•°å€¼é™¤ä»¥ `10`ï¼Œç„¶åæ¢ä¸Š `em` ä½œä¸ºå•ä½å°±è¡Œäº†\n\nç‰¹ç‚¹ï¼š\n\n- `em` çš„å€¼å¹¶ä¸æ˜¯å›ºå®šçš„\n- `em` ä¼šç»§æ‰¿çˆ¶çº§å…ƒç´ çš„å­—ä½“å¤§å°\n- `em` æ˜¯ç›¸å¯¹é•¿åº¦å•ä½ã€‚ç›¸å¯¹äºå½“å‰å¯¹è±¡å†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸ã€‚å¦‚å½“å‰å¯¹è¡Œå†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸æœªè¢«äººä¸ºè®¾ç½®ï¼Œåˆ™ç›¸å¯¹äºæµè§ˆå™¨çš„é»˜è®¤å­—ä½“å°ºå¯¸\n- ä»»æ„æµè§ˆå™¨çš„é»˜è®¤å­—ä½“é«˜éƒ½æ˜¯` 16px`\n\nä¸‹é¢æœ‰ä¸ªä¾‹å­ï¼š\n<demo html=\"html/em.html\" />\n\n## rem\n\nremï¼Œç›¸å¯¹å•ä½ï¼Œç›¸å¯¹çš„åªæ˜¯`HTML`æ ¹å…ƒç´ `font-size`çš„å€¼,å¸¸ç”¨äºç§»åŠ¨ç«¯å¼€å‘\n\nä¾‹å­å¦‚ä¸‹ï¼š\n<demo html=\"html/rem.html\" />\n\næ ¹å…ƒç´ `html`çš„å­—ä½“å¤§å°ä¸º`10px`ï¼Œé‚£ä¹ˆ`2rem = 2 * 10px = 20px`\n\n## vw, vw, %\n\n`vw` ï¼Œå°±æ˜¯æ ¹æ®çª—å£çš„å®½åº¦ï¼Œåˆ†æˆ`100`ç­‰ä»½ï¼Œ`100vw`å°±è¡¨ç¤ºæ»¡å®½ï¼Œ`50vw`å°±è¡¨ç¤ºä¸€åŠå®½ã€‚ï¼ˆvw å§‹ç»ˆæ˜¯é’ˆå¯¹çª—å£çš„å®½ï¼‰ï¼ŒåŒç†ï¼Œvh åˆ™ä¸ºçª—å£çš„é«˜åº¦\n\nä¾‹å­å¦‚ä¸‹ï¼š\n<demo html=\"html/vw_vh.html\" />\n","source":"_posts/æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/csså•ä½å¯¹æ¯”.md","raw":"---\ntitle: csså•ä½å¯¹æ¯”\nabbrlink: 3a9fa5c8\ndate: 2023-06-15 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Css\n---\n\n\n{% note info simple %}\n`css`ä¸­è®¡é‡å•ä½é‚£ä¹ˆå¤šï¼Œä½†æ˜¯å®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ\n{% endnote %}\n\nåœ¨ä¼ ç»Ÿçš„é¡¹ç›®ä¸­`px, %, em`è¿™å‡ ä¸ªå•ä½æ˜¯ç»å¸¸ç”¨åˆ°çš„ï¼Œå¹¶ä¸”å…¼å®¹æ•ˆæœè¿˜ä¸é”™ï¼›è‡ªä»`css3`å¼€å§‹ï¼Œè®¡é‡å•ä½å°±é€æ¸å¢åŠ `rem, vw, vh`ç­‰ï¼›\n\nè®¡é‡å•ä½é‚£ä¹ˆå¤šï¼Œåœ¨é¡¹ç›®å¦‚ä½•ä½¿ç”¨ï¼Œå¹¶ä¸”å®ƒä»¬æ˜¯æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ\n\n| css å•ä½     |                                        |\n| ------------ | -------------------------------------- |\n| ç›¸å¯¹é•¿åº¦å•ä½ | emã€exã€chã€remã€vwã€vhã€vminã€vmaxã€% |\n| ç»å¯¹é•¿åº¦å•ä½ | cmã€mmã€inã€pxã€ptã€pc                 |\n\nè¿™é‡Œæˆ‘ä»¬ä¸»è¦è®²è¿° pxã€emã€remã€vhã€vw, %\n\n## px\n\n`px`ï¼Œè¡¨ç¤ºåƒç´ ï¼Œæ‰€è°“åƒç´ å°±æ˜¯å‘ˆç°åœ¨æˆ‘ä»¬æ˜¾ç¤ºå™¨ä¸Šçš„ä¸€ä¸ªä¸ªå°ç‚¹ï¼Œæ¯ä¸ªåƒç´ ç‚¹éƒ½æ˜¯å¤§å°ç­‰åŒçš„ï¼Œæ‰€ä»¥åƒç´ ä¸ºè®¡é‡å•ä½è¢«åˆ†åœ¨äº†ç»å¯¹é•¿åº¦å•ä½ä¸­\n\næœ‰äº›äººä¼šæŠŠ px è®¤ä¸ºæ˜¯ç›¸å¯¹é•¿åº¦ï¼ŒåŸå› åœ¨äºåœ¨ç§»åŠ¨ç«¯ä¸­å­˜åœ¨è®¾å¤‡åƒç´ æ¯”ï¼Œ`px` å®é™…æ˜¾ç¤ºçš„å¤§å°æ˜¯ä¸ç¡®å®šçš„\n\nè¿™é‡Œä¹‹æ‰€ä»¥è®¤ä¸º `px` ä¸ºç»å¯¹å•ä½ï¼Œåœ¨äº `px` çš„å¤§å°å’Œå…ƒç´ çš„å…¶ä»–å±æ€§æ— å…³\n\n## em\n\n`em`æ˜¯ç›¸å¯¹é•¿åº¦å•ä½ã€‚ç›¸å¯¹äºå½“å‰å¯¹è±¡å†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸ã€‚å¦‚å½“å‰å¯¹è¡Œå†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸æœªè¢«äººä¸ºè®¾ç½®ï¼Œåˆ™ç›¸å¯¹äºæµè§ˆå™¨çš„é»˜è®¤å­—ä½“å°ºå¯¸`ï¼ˆ1em = 16pxï¼‰`\n\nä¸ºäº†ç®€åŒ– `font-size` çš„æ¢ç®—ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ `css` ä¸­çš„ `body` é€‰æ‹©å™¨ä¸­å£°æ˜ `font-size= 62.5%`ï¼Œè¿™å°±ä½¿ em å€¼å˜ä¸º `16px\\*62.5% = 10px`\n\nè¿™æ · `12px = 1.2em, 10px = 1em,` ä¹Ÿå°±æ˜¯è¯´åªéœ€è¦å°†ä½ çš„åŸæ¥çš„ `px` æ•°å€¼é™¤ä»¥ `10`ï¼Œç„¶åæ¢ä¸Š `em` ä½œä¸ºå•ä½å°±è¡Œäº†\n\nç‰¹ç‚¹ï¼š\n\n- `em` çš„å€¼å¹¶ä¸æ˜¯å›ºå®šçš„\n- `em` ä¼šç»§æ‰¿çˆ¶çº§å…ƒç´ çš„å­—ä½“å¤§å°\n- `em` æ˜¯ç›¸å¯¹é•¿åº¦å•ä½ã€‚ç›¸å¯¹äºå½“å‰å¯¹è±¡å†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸ã€‚å¦‚å½“å‰å¯¹è¡Œå†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸æœªè¢«äººä¸ºè®¾ç½®ï¼Œåˆ™ç›¸å¯¹äºæµè§ˆå™¨çš„é»˜è®¤å­—ä½“å°ºå¯¸\n- ä»»æ„æµè§ˆå™¨çš„é»˜è®¤å­—ä½“é«˜éƒ½æ˜¯` 16px`\n\nä¸‹é¢æœ‰ä¸ªä¾‹å­ï¼š\n<demo html=\"html/em.html\" />\n\n## rem\n\nremï¼Œç›¸å¯¹å•ä½ï¼Œç›¸å¯¹çš„åªæ˜¯`HTML`æ ¹å…ƒç´ `font-size`çš„å€¼,å¸¸ç”¨äºç§»åŠ¨ç«¯å¼€å‘\n\nä¾‹å­å¦‚ä¸‹ï¼š\n<demo html=\"html/rem.html\" />\n\næ ¹å…ƒç´ `html`çš„å­—ä½“å¤§å°ä¸º`10px`ï¼Œé‚£ä¹ˆ`2rem = 2 * 10px = 20px`\n\n## vw, vw, %\n\n`vw` ï¼Œå°±æ˜¯æ ¹æ®çª—å£çš„å®½åº¦ï¼Œåˆ†æˆ`100`ç­‰ä»½ï¼Œ`100vw`å°±è¡¨ç¤ºæ»¡å®½ï¼Œ`50vw`å°±è¡¨ç¤ºä¸€åŠå®½ã€‚ï¼ˆvw å§‹ç»ˆæ˜¯é’ˆå¯¹çª—å£çš„å®½ï¼‰ï¼ŒåŒç†ï¼Œvh åˆ™ä¸ºçª—å£çš„é«˜åº¦\n\nä¾‹å­å¦‚ä¸‹ï¼š\n<demo html=\"html/vw_vh.html\" />\n","slug":"æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/csså•ä½å¯¹æ¯”","published":1,"updated":"2025-03-12T09:19:55.274Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j4005ofg9magqq1uyj","content":"<div class=\"note info simple\"><p><code>css</code>ä¸­è®¡é‡å•ä½é‚£ä¹ˆå¤šï¼Œä½†æ˜¯å®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p>\n</div>\n\n<p>åœ¨ä¼ ç»Ÿçš„é¡¹ç›®ä¸­<code>px, %, em</code>è¿™å‡ ä¸ªå•ä½æ˜¯ç»å¸¸ç”¨åˆ°çš„ï¼Œå¹¶ä¸”å…¼å®¹æ•ˆæœè¿˜ä¸é”™ï¼›è‡ªä»<code>css3</code>å¼€å§‹ï¼Œè®¡é‡å•ä½å°±é€æ¸å¢åŠ <code>rem, vw, vh</code>ç­‰ï¼›</p>\n<p>è®¡é‡å•ä½é‚£ä¹ˆå¤šï¼Œåœ¨é¡¹ç›®å¦‚ä½•ä½¿ç”¨ï¼Œå¹¶ä¸”å®ƒä»¬æ˜¯æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p>\n<table>\n<thead>\n<tr>\n<th>css å•ä½</th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ç›¸å¯¹é•¿åº¦å•ä½</td>\n<td>emã€exã€chã€remã€vwã€vhã€vminã€vmaxã€%</td>\n</tr>\n<tr>\n<td>ç»å¯¹é•¿åº¦å•ä½</td>\n<td>cmã€mmã€inã€pxã€ptã€pc</td>\n</tr>\n</tbody></table>\n<p>è¿™é‡Œæˆ‘ä»¬ä¸»è¦è®²è¿° pxã€emã€remã€vhã€vw, %</p>\n<h2 id=\"px\"><a href=\"#px\" class=\"headerlink\" title=\"px\"></a>px</h2><p><code>px</code>ï¼Œè¡¨ç¤ºåƒç´ ï¼Œæ‰€è°“åƒç´ å°±æ˜¯å‘ˆç°åœ¨æˆ‘ä»¬æ˜¾ç¤ºå™¨ä¸Šçš„ä¸€ä¸ªä¸ªå°ç‚¹ï¼Œæ¯ä¸ªåƒç´ ç‚¹éƒ½æ˜¯å¤§å°ç­‰åŒçš„ï¼Œæ‰€ä»¥åƒç´ ä¸ºè®¡é‡å•ä½è¢«åˆ†åœ¨äº†ç»å¯¹é•¿åº¦å•ä½ä¸­</p>\n<p>æœ‰äº›äººä¼šæŠŠ px è®¤ä¸ºæ˜¯ç›¸å¯¹é•¿åº¦ï¼ŒåŸå› åœ¨äºåœ¨ç§»åŠ¨ç«¯ä¸­å­˜åœ¨è®¾å¤‡åƒç´ æ¯”ï¼Œ<code>px</code> å®é™…æ˜¾ç¤ºçš„å¤§å°æ˜¯ä¸ç¡®å®šçš„</p>\n<p>è¿™é‡Œä¹‹æ‰€ä»¥è®¤ä¸º <code>px</code> ä¸ºç»å¯¹å•ä½ï¼Œåœ¨äº <code>px</code> çš„å¤§å°å’Œå…ƒç´ çš„å…¶ä»–å±æ€§æ— å…³</p>\n<h2 id=\"em\"><a href=\"#em\" class=\"headerlink\" title=\"em\"></a>em</h2><p><code>em</code>æ˜¯ç›¸å¯¹é•¿åº¦å•ä½ã€‚ç›¸å¯¹äºå½“å‰å¯¹è±¡å†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸ã€‚å¦‚å½“å‰å¯¹è¡Œå†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸æœªè¢«äººä¸ºè®¾ç½®ï¼Œåˆ™ç›¸å¯¹äºæµè§ˆå™¨çš„é»˜è®¤å­—ä½“å°ºå¯¸<code>ï¼ˆ1em = 16pxï¼‰</code></p>\n<p>ä¸ºäº†ç®€åŒ– <code>font-size</code> çš„æ¢ç®—ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ <code>css</code> ä¸­çš„ <code>body</code> é€‰æ‹©å™¨ä¸­å£°æ˜ <code>font-size= 62.5%</code>ï¼Œè¿™å°±ä½¿ em å€¼å˜ä¸º <code>16px\\*62.5% = 10px</code></p>\n<p>è¿™æ · <code>12px = 1.2em, 10px = 1em,</code> ä¹Ÿå°±æ˜¯è¯´åªéœ€è¦å°†ä½ çš„åŸæ¥çš„ <code>px</code> æ•°å€¼é™¤ä»¥ <code>10</code>ï¼Œç„¶åæ¢ä¸Š <code>em</code> ä½œä¸ºå•ä½å°±è¡Œäº†</p>\n<p>ç‰¹ç‚¹ï¼š</p>\n<ul>\n<li><code>em</code> çš„å€¼å¹¶ä¸æ˜¯å›ºå®šçš„</li>\n<li><code>em</code> ä¼šç»§æ‰¿çˆ¶çº§å…ƒç´ çš„å­—ä½“å¤§å°</li>\n<li><code>em</code> æ˜¯ç›¸å¯¹é•¿åº¦å•ä½ã€‚ç›¸å¯¹äºå½“å‰å¯¹è±¡å†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸ã€‚å¦‚å½“å‰å¯¹è¡Œå†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸æœªè¢«äººä¸ºè®¾ç½®ï¼Œåˆ™ç›¸å¯¹äºæµè§ˆå™¨çš„é»˜è®¤å­—ä½“å°ºå¯¸</li>\n<li>ä»»æ„æµè§ˆå™¨çš„é»˜è®¤å­—ä½“é«˜éƒ½æ˜¯<code> 16px</code></li>\n</ul>\n<p>ä¸‹é¢æœ‰ä¸ªä¾‹å­ï¼š<br><demo html=\"html/em.html\" /></p>\n<h2 id=\"rem\"><a href=\"#rem\" class=\"headerlink\" title=\"rem\"></a>rem</h2><p>remï¼Œç›¸å¯¹å•ä½ï¼Œç›¸å¯¹çš„åªæ˜¯<code>HTML</code>æ ¹å…ƒç´ <code>font-size</code>çš„å€¼,å¸¸ç”¨äºç§»åŠ¨ç«¯å¼€å‘</p>\n<p>ä¾‹å­å¦‚ä¸‹ï¼š<br><demo html=\"html/rem.html\" /></p>\n<p>æ ¹å…ƒç´ <code>html</code>çš„å­—ä½“å¤§å°ä¸º<code>10px</code>ï¼Œé‚£ä¹ˆ<code>2rem = 2 * 10px = 20px</code></p>\n<h2 id=\"vw-vw\"><a href=\"#vw-vw\" class=\"headerlink\" title=\"vw, vw, %\"></a>vw, vw, %</h2><p><code>vw</code> ï¼Œå°±æ˜¯æ ¹æ®çª—å£çš„å®½åº¦ï¼Œåˆ†æˆ<code>100</code>ç­‰ä»½ï¼Œ<code>100vw</code>å°±è¡¨ç¤ºæ»¡å®½ï¼Œ<code>50vw</code>å°±è¡¨ç¤ºä¸€åŠå®½ã€‚ï¼ˆvw å§‹ç»ˆæ˜¯é’ˆå¯¹çª—å£çš„å®½ï¼‰ï¼ŒåŒç†ï¼Œvh åˆ™ä¸ºçª—å£çš„é«˜åº¦</p>\n<p>ä¾‹å­å¦‚ä¸‹ï¼š<br><demo html=\"html/vw_vh.html\" /></p>\n","excerpt":"","more":"<div class=\"note info simple\"><p><code>css</code>ä¸­è®¡é‡å•ä½é‚£ä¹ˆå¤šï¼Œä½†æ˜¯å®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p>\n</div>\n\n<p>åœ¨ä¼ ç»Ÿçš„é¡¹ç›®ä¸­<code>px, %, em</code>è¿™å‡ ä¸ªå•ä½æ˜¯ç»å¸¸ç”¨åˆ°çš„ï¼Œå¹¶ä¸”å…¼å®¹æ•ˆæœè¿˜ä¸é”™ï¼›è‡ªä»<code>css3</code>å¼€å§‹ï¼Œè®¡é‡å•ä½å°±é€æ¸å¢åŠ <code>rem, vw, vh</code>ç­‰ï¼›</p>\n<p>è®¡é‡å•ä½é‚£ä¹ˆå¤šï¼Œåœ¨é¡¹ç›®å¦‚ä½•ä½¿ç”¨ï¼Œå¹¶ä¸”å®ƒä»¬æ˜¯æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p>\n<table>\n<thead>\n<tr>\n<th>css å•ä½</th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ç›¸å¯¹é•¿åº¦å•ä½</td>\n<td>emã€exã€chã€remã€vwã€vhã€vminã€vmaxã€%</td>\n</tr>\n<tr>\n<td>ç»å¯¹é•¿åº¦å•ä½</td>\n<td>cmã€mmã€inã€pxã€ptã€pc</td>\n</tr>\n</tbody></table>\n<p>è¿™é‡Œæˆ‘ä»¬ä¸»è¦è®²è¿° pxã€emã€remã€vhã€vw, %</p>\n<h2 id=\"px\"><a href=\"#px\" class=\"headerlink\" title=\"px\"></a>px</h2><p><code>px</code>ï¼Œè¡¨ç¤ºåƒç´ ï¼Œæ‰€è°“åƒç´ å°±æ˜¯å‘ˆç°åœ¨æˆ‘ä»¬æ˜¾ç¤ºå™¨ä¸Šçš„ä¸€ä¸ªä¸ªå°ç‚¹ï¼Œæ¯ä¸ªåƒç´ ç‚¹éƒ½æ˜¯å¤§å°ç­‰åŒçš„ï¼Œæ‰€ä»¥åƒç´ ä¸ºè®¡é‡å•ä½è¢«åˆ†åœ¨äº†ç»å¯¹é•¿åº¦å•ä½ä¸­</p>\n<p>æœ‰äº›äººä¼šæŠŠ px è®¤ä¸ºæ˜¯ç›¸å¯¹é•¿åº¦ï¼ŒåŸå› åœ¨äºåœ¨ç§»åŠ¨ç«¯ä¸­å­˜åœ¨è®¾å¤‡åƒç´ æ¯”ï¼Œ<code>px</code> å®é™…æ˜¾ç¤ºçš„å¤§å°æ˜¯ä¸ç¡®å®šçš„</p>\n<p>è¿™é‡Œä¹‹æ‰€ä»¥è®¤ä¸º <code>px</code> ä¸ºç»å¯¹å•ä½ï¼Œåœ¨äº <code>px</code> çš„å¤§å°å’Œå…ƒç´ çš„å…¶ä»–å±æ€§æ— å…³</p>\n<h2 id=\"em\"><a href=\"#em\" class=\"headerlink\" title=\"em\"></a>em</h2><p><code>em</code>æ˜¯ç›¸å¯¹é•¿åº¦å•ä½ã€‚ç›¸å¯¹äºå½“å‰å¯¹è±¡å†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸ã€‚å¦‚å½“å‰å¯¹è¡Œå†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸æœªè¢«äººä¸ºè®¾ç½®ï¼Œåˆ™ç›¸å¯¹äºæµè§ˆå™¨çš„é»˜è®¤å­—ä½“å°ºå¯¸<code>ï¼ˆ1em = 16pxï¼‰</code></p>\n<p>ä¸ºäº†ç®€åŒ– <code>font-size</code> çš„æ¢ç®—ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ <code>css</code> ä¸­çš„ <code>body</code> é€‰æ‹©å™¨ä¸­å£°æ˜ <code>font-size= 62.5%</code>ï¼Œè¿™å°±ä½¿ em å€¼å˜ä¸º <code>16px\\*62.5% = 10px</code></p>\n<p>è¿™æ · <code>12px = 1.2em, 10px = 1em,</code> ä¹Ÿå°±æ˜¯è¯´åªéœ€è¦å°†ä½ çš„åŸæ¥çš„ <code>px</code> æ•°å€¼é™¤ä»¥ <code>10</code>ï¼Œç„¶åæ¢ä¸Š <code>em</code> ä½œä¸ºå•ä½å°±è¡Œäº†</p>\n<p>ç‰¹ç‚¹ï¼š</p>\n<ul>\n<li><code>em</code> çš„å€¼å¹¶ä¸æ˜¯å›ºå®šçš„</li>\n<li><code>em</code> ä¼šç»§æ‰¿çˆ¶çº§å…ƒç´ çš„å­—ä½“å¤§å°</li>\n<li><code>em</code> æ˜¯ç›¸å¯¹é•¿åº¦å•ä½ã€‚ç›¸å¯¹äºå½“å‰å¯¹è±¡å†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸ã€‚å¦‚å½“å‰å¯¹è¡Œå†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸æœªè¢«äººä¸ºè®¾ç½®ï¼Œåˆ™ç›¸å¯¹äºæµè§ˆå™¨çš„é»˜è®¤å­—ä½“å°ºå¯¸</li>\n<li>ä»»æ„æµè§ˆå™¨çš„é»˜è®¤å­—ä½“é«˜éƒ½æ˜¯<code> 16px</code></li>\n</ul>\n<p>ä¸‹é¢æœ‰ä¸ªä¾‹å­ï¼š<br><demo html=\"html/em.html\" /></p>\n<h2 id=\"rem\"><a href=\"#rem\" class=\"headerlink\" title=\"rem\"></a>rem</h2><p>remï¼Œç›¸å¯¹å•ä½ï¼Œç›¸å¯¹çš„åªæ˜¯<code>HTML</code>æ ¹å…ƒç´ <code>font-size</code>çš„å€¼,å¸¸ç”¨äºç§»åŠ¨ç«¯å¼€å‘</p>\n<p>ä¾‹å­å¦‚ä¸‹ï¼š<br><demo html=\"html/rem.html\" /></p>\n<p>æ ¹å…ƒç´ <code>html</code>çš„å­—ä½“å¤§å°ä¸º<code>10px</code>ï¼Œé‚£ä¹ˆ<code>2rem = 2 * 10px = 20px</code></p>\n<h2 id=\"vw-vw\"><a href=\"#vw-vw\" class=\"headerlink\" title=\"vw, vw, %\"></a>vw, vw, %</h2><p><code>vw</code> ï¼Œå°±æ˜¯æ ¹æ®çª—å£çš„å®½åº¦ï¼Œåˆ†æˆ<code>100</code>ç­‰ä»½ï¼Œ<code>100vw</code>å°±è¡¨ç¤ºæ»¡å®½ï¼Œ<code>50vw</code>å°±è¡¨ç¤ºä¸€åŠå®½ã€‚ï¼ˆvw å§‹ç»ˆæ˜¯é’ˆå¯¹çª—å£çš„å®½ï¼‰ï¼ŒåŒç†ï¼Œvh åˆ™ä¸ºçª—å£çš„é«˜åº¦</p>\n<p>ä¾‹å­å¦‚ä¸‹ï¼š<br><demo html=\"html/vw_vh.html\" /></p>\n"},{"title":"æ•°æ®ç±»å‹","abbrlink":"3080460d","date":"2023-03-15T03:20:38.000Z","_content":"\n# ä»‹ç»\n\nJavaScript ä¸­çš„æ•°æ®ç±»å‹åˆ†ä¸ºä¸¤å¤§ç±»ï¼šåŸå§‹ç±»å‹ï¼ˆPrimitive Typesï¼‰å’Œå¼•ç”¨ç±»å‹ï¼ˆReference Typesï¼‰ã€‚å½“ç„¶ä¹Ÿèƒ½æˆä¸ºåŸºæœ¬æ•°æ®ç±»å‹å’Œå¤æ‚æ•°æ®ç±»å‹ã€‚\n\nå½“ç„¶ï¼Œä¸è®ºæ˜¯åœ¨ä½¿ç”¨è¿˜æ˜¯åœ¨è¯»å–å †æ ˆï¼Œåˆ¤æ–­æ•°æ®ç±»å‹ä¿©ç§æ•°æ®ç±»å‹è¿˜æ˜¯æœ‰å¾ˆå¤§çš„åŒºåˆ«çš„ã€‚\n\nä¸‹é¢è¯¦ç»†ä»‹ç»è¿™ä¸¤ç§ç±»å‹åŠå…¶åŒºåˆ«ï¼Œå¹¶ç»™å‡ºå…·ä½“çš„ä¾‹å­ã€‚\n\n## æ•°æ®ç±»å‹\n\n### åŸå§‹ç±»å‹\n\nåŸå§‹ç±»å‹åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š\n\n- `Number`: æ•°å­—\n- `String`: å­—ç¬¦ä¸²\n- Boo`lean: å¸ƒå°”å€¼\n- `Null`: ç©ºå€¼\n- `Undefined`: æœªå®šä¹‰\n- `Symbol`: ç¬¦å·\n- `BigInt`: å¤§æ•´æ•°\n\n```ts\n// Number\nlet num = 123;\nconsole.log(num); // è¾“å‡º: 123\n\n// String\nlet str = \"Hello, world!\";\nconsole.log(str); // è¾“å‡º: Hello, world!\n\n// Boolean\nlet bool = true;\nconsole.log(bool); // è¾“å‡º: true\n\n// Undefined\nlet undef;\nconsole.log(undef); // è¾“å‡º: undefined\n\n// Null\nlet n = null;\nconsole.log(n); // è¾“å‡º: null\n\n// Symbol\nlet sym = Symbol(\"unique\");\nconsole.log(sym); // è¾“å‡º: Symbol(unique)\n\n// BigInt\nlet bigInt = 123456789012345678901234567890n;\nconsole.log(bigInt); // è¾“å‡º: 123456789012345678901234567890n\n```\n\n### å¼•ç”¨ç±»å‹\n\nå¼•ç”¨ç±»å‹åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š\n\n- `Object`: å¯¹è±¡\n- `Array`: æ•°ç»„\n- `Function`: å‡½æ•°\n- `Date`: æ—¥æœŸ\n- `Map`: æ˜ å°„\n- `Set`: é›†åˆ\n- `WeakMap`: å¼±æ˜ å°„\n- `WeakSet`: å¼±é›†åˆ\n- `RegExp`: æ­£åˆ™è¡¨è¾¾å¼\n\n```ts\n// Object\nlet obj = { name: \"Alice\", age: 30 };\nconsole.log(obj); // è¾“å‡º: { name: 'Alice', age: 30 }\n\n// Array\nlet arr = [1, 2, 3];\nconsole.log(arr); // è¾“å‡º: [1, 2, 3]\n\n// Function\nlet func = function () {\n\tconsole.log(\"Hello\");\n};\nfunc(); // è¾“å‡º: Hello\n\n// Date\nlet date = new Date();\nconsole.log(date); // è¾“å‡º: å½“å‰æ—¥æœŸæ—¶é—´\n\n// Map\nlet map = new Map();\nmap.set(\"key1\", \"value1\");\nconsole.log(map); // è¾“å‡º: Map(1) { 'key1' => 'value1' }\n\n// Set\nlet set = new Set();\nset.add(1).add(2).add(3);\nconsole.log(set); // è¾“å‡º: Set(3) { 1, 2, 3 }\n\n// WeakMap\nlet weakMap = new WeakMap();\nweakMap.set(obj, \"value\");\nconsole.log(weakMap); // è¾“å‡º: WeakMap { <1> entries }\n\n// WeakSet\nlet weakSet = new WeakSet();\nweakSet.add(obj);\nconsole.log(weakSet); // è¾“å‡º: WeakSet { <1> entries }\n\n// RegExp\nlet regex = /hello/;\nconsole.log(regex); // è¾“å‡º: /hello/\n```\n\n## å †æ ˆä½¿ç”¨\n\n### æ ˆï¼ˆStackï¼‰\n\næ ˆæ˜¯ä¸€ç§å…ˆè¿›åå‡ºï¼ˆLast In First Out, LIFOï¼‰çš„æ•°æ®ç»“æ„ã€‚æ ˆä¸»è¦ç”¨äºå­˜å‚¨å‡½æ•°è°ƒç”¨æ—¶çš„å±€éƒ¨å˜é‡å’Œæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚\n\nç‰¹æ€§ï¼š\n\n- æ“ä½œç®€å•ï¼šåªæœ‰ä¸¤ä¸ªæ“ä½œï¼šå‹å…¥ï¼ˆpushï¼‰å’Œå¼¹å‡ºï¼ˆpopï¼‰ã€‚\n- å†…å­˜åˆ†é…å’Œé‡Šæ”¾é€Ÿåº¦å¿«ã€‚\n- é€šå¸¸ç”¨äºå‡½æ•°è°ƒç”¨å’Œå±€éƒ¨å˜é‡ã€‚\n\n```ts\nfunction stackExample() {\n\tlet localVar = \"local\";\n\tconsole.log(localVar); // è¾“å‡º: local\n}\n\nstackExample();\nconsole.log(localVar); // æŠ¥é”™ï¼šReferenceError: localVar is not defined\n```\n\n### å †ï¼ˆHeapï¼‰\n\nå †æ˜¯ä¸€ç§åŠ¨æ€å†…å­˜åŒºåŸŸï¼Œç”¨äºå­˜å‚¨å¯¹è±¡ã€‚å †ä¸­çš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾ç›¸å¯¹å¤æ‚ï¼Œä½†æä¾›äº†æ›´å¤§çš„çµæ´»æ€§ã€‚\nç‰¹æ€§ï¼š\n\n- åŠ¨æ€åˆ†é…ï¼šå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ã€‚\n- å†…å­˜åˆ†é…å’Œé‡Šæ”¾è¾ƒæ…¢ã€‚\n- é€šå¸¸ç”¨äºå­˜å‚¨å¯¹è±¡å’Œå…¨å±€å˜é‡ã€‚\n\n```ts\nfunction heapExample() {\n\tlet obj = { name: \"Alice\", age: 30 };\n\tconsole.log(obj); // è¾“å‡º: { name: 'Alice', age: 30 }\n}\n\nheapExample();\n\n// å…¨å±€å˜é‡\nlet globalObj = { name: \"Bob\", age: 25 };\nconsole.log(globalObj); // è¾“å‡º: { name: 'Bob', age: 25 }\n```\n\n### åŒºåˆ«\n\n- åŸå§‹ç±»å‹ï¼šå­˜å‚¨åœ¨æ ˆä¸­ï¼Œç›´æ¥å­˜å‚¨å€¼ã€‚\n- å¼•ç”¨ç±»å‹ï¼šå­˜å‚¨åœ¨å †ä¸­ï¼Œæ ˆä¸­å­˜å‚¨çš„æ˜¯æŒ‡å‘å †ä¸­å¯¹è±¡çš„å¼•ç”¨ã€‚\n- æ ˆï¼šå…ˆè¿›åå‡ºçš„æ•°æ®ç»“æ„ï¼Œä¸»è¦ç”¨äºå­˜å‚¨å‡½æ•°è°ƒç”¨æ—¶çš„å±€éƒ¨å˜é‡å’Œæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚\n- å †ï¼šåŠ¨æ€å†…å­˜åŒºåŸŸï¼Œç”¨äºå­˜å‚¨å¯¹è±¡ï¼Œæä¾›äº†æ›´å¤§çš„çµæ´»æ€§ã€‚\n\nå¦‚ä½•æ›´åŠ æ¸…æ™°çš„ç†è§£å‘¢ï¼Ÿ\n\nä¸¾ä¸ªä¾‹å­æ¥è®²ï¼š\n\n```ts\n// åŸå§‹ç±»å‹ç›´æ¥å†…å­˜å€¼å­˜å‚¨\nlet name = \"Tom\";\n\n// å¼•ç”¨ç±»å‹ä¼šå°†å€¼å­˜å‚¨åœ¨å †ä¸­ï¼Œæ ˆä¸­å­˜å‚¨æŒ‡å‘å †ä¸­å¯¹è±¡çš„å¼•ç”¨\nlet obj1 = { a: 1 };\nlet obj2 = obj1;\n\n// å¦‚æœå°† å¼•ç”¨å€¼ ä¿®æ”¹ï¼Œé‚£ä¹ˆä¼šå‘ç°ï¼š obj1 å’Œ obj2 çš„å€¼éƒ½å˜äº†ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ\n// å› ä¸º obj1 å’Œ obj2 çš„å€¼éƒ½æ˜¯å¼•ç”¨çš„å †çš„å€¼ï¼Œæ”¹çš„éƒ½æ˜¯å †å€¼\nobj1.a = 3;\n```\n\nå¯ä»¥å‚è€ƒä¸‹é¢å›¾ç‰‡ï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/2024-08-16-1140.lvpaw7hne.webp)\n\n## åˆ¤æ–­æ•°æ®ç±»å‹\n\nåœ¨ JavaScript ä¸­ï¼Œåˆ¤æ–­æ•°æ®ç±»å‹æœ‰å¤šç§æ–¹æ³•ï¼Œæ¯ç§æ–¹æ³•éƒ½æœ‰å…¶é€‚ç”¨åœºæ™¯å’Œå±€é™æ€§ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¸¸ç”¨çš„æ–¹æ³•åŠå…¶åŒºåˆ«\n\n### typeof\n\n> `typeof` æ˜¯æœ€ç®€å•çš„åˆ¤æ–­æ•°æ®ç±»å‹çš„æ–¹æ³•ï¼Œä¸»è¦ç”¨äºåˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹ã€‚å®ƒèƒ½å‡†ç¡®åœ°è¯†åˆ« `stringã€numberã€booleanã€undefined` å’Œ `symbolã€‚`\n\n```ts\nconsole.log(typeof \"hello\"); // \"string\"\nconsole.log(typeof 123); // \"number\"\nconsole.log(typeof true); // \"boolean\"\nconsole.log(typeof undefined); // \"undefined\"\nconsole.log(typeof Symbol(\"sym\")); // \"symbol\"\n\n// å¯¹äº null å’Œ object ç±»å‹ï¼Œtypeof è¿”å› \"object\"\nconsole.log(typeof null); // \"object\"\nconsole.log(typeof {}); // \"object\"\nconsole.log(typeof []); // \"object\"\n```\n\n### instanceof\n\n> `instanceof` æ˜¯ JavaScript ä¸­çš„ä¸€ä¸ªè¿ç®—ç¬¦ï¼Œç”¨äºåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯æŸä¸ªç±»çš„å®ä¾‹ã€‚å®ƒä¸»è¦ç”¨äºåˆ¤æ–­å¼•ç”¨ç±»å‹ã€‚\n\n```ts\nconsole.log([] instanceof Array); // true\nconsole.log({} instanceof Object); // true\nconsole.log(function () {} instanceof Function); // true\nconsole.log(new Date() instanceof Date); // true\n```\n\n### Object.prototype.toString.call()\n\n> `Object.prototype.toString.call()` å¯ä»¥å‡†ç¡®åˆ¤æ–­æ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬ `null` å’Œ `undefined`ã€‚\n\n```ts\nconsole.log(Object.prototype.toString.call(\"hello\")); // \"[object String]\"\nconsole.log(Object.prototype.toString.call(123)); // \"[object Number]\"\nconsole.log(Object.prototype.toString.call(true)); // \"[object Boolean]\"\nconsole.log(Object.prototype.toString.call(undefined)); // \"[object Undefined]\"\nconsole.log(Object.prototype.toString.call(null)); // \"[object Null]\"\nconsole.log(Object.prototype.toString.call([])); // \"[object Array]\"\nconsole.log(Object.prototype.toString.call({})); // \"[object Object]\"\nconsole.log(Object.prototype.toString.call(function () {})); // \"[object Function]\"\nconsole.log(Object.prototype.toString.call(new Date())); // \"[object Date]\"\n```\n\n### Array.isArray()\n\n> `Array.isArray()` ä¸“é—¨ç”¨äºåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºæ•°ç»„ã€‚\n\n```ts\nconsole.log(Array.isArray([])); // true\nconsole.log(Array.isArray({})); // false\nconsole.log(Array.isArray([1, 2, 3])); // true\n```\n\n### Buffer.isBuffer() (Node.js)\n\n> `Buffer.isBuffer()` æ˜¯ Node.js ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸º Buffer å¯¹è±¡ã€‚\n\n```ts\nconst buffer = Buffer.from(\"hello\");\nconsole.log(Buffer.isBuffer(buffer)); // true\nconsole.log(Buffer.isBuffer({})); // false\nconsole.log(Buffer.isBuffer([])); // false\n```\n\n### æ€»ç»“\n\n- `typeof`ï¼šç®€å•æ˜“ç”¨ï¼Œé€‚ç”¨äºåŸºæœ¬æ•°æ®ç±»å‹ã€‚\n- `instanceof`ï¼šé€‚ç”¨äºå¤æ‚å¯¹è±¡ç±»å‹ï¼Œä½†éœ€è¦è€ƒè™‘åŸå‹é“¾çš„é—®é¢˜ã€‚\n- `Object.prototype.toString.call()`ï¼š**é€‚ç”¨äºæ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼Œæœ€å‡†ç¡®ã€‚**\n- `Array.isArray()`ï¼šä¸“é—¨ç”¨äºåˆ¤æ–­æ•°ç»„ã€‚\n- `Buffer.isBuffer()`ï¼šä»…åœ¨ `Node.js` ä¸­ä½¿ç”¨ï¼Œç”¨äºåˆ¤æ–­ `Buffer` å¯¹è±¡ã€‚\n","source":"_posts/æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/æ•°æ®ç±»å‹.md","raw":"---\ntitle: æ•°æ®ç±»å‹\nabbrlink: 3080460d\ndate: 2023-03-15 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - JavaScript \n---\n\n# ä»‹ç»\n\nJavaScript ä¸­çš„æ•°æ®ç±»å‹åˆ†ä¸ºä¸¤å¤§ç±»ï¼šåŸå§‹ç±»å‹ï¼ˆPrimitive Typesï¼‰å’Œå¼•ç”¨ç±»å‹ï¼ˆReference Typesï¼‰ã€‚å½“ç„¶ä¹Ÿèƒ½æˆä¸ºåŸºæœ¬æ•°æ®ç±»å‹å’Œå¤æ‚æ•°æ®ç±»å‹ã€‚\n\nå½“ç„¶ï¼Œä¸è®ºæ˜¯åœ¨ä½¿ç”¨è¿˜æ˜¯åœ¨è¯»å–å †æ ˆï¼Œåˆ¤æ–­æ•°æ®ç±»å‹ä¿©ç§æ•°æ®ç±»å‹è¿˜æ˜¯æœ‰å¾ˆå¤§çš„åŒºåˆ«çš„ã€‚\n\nä¸‹é¢è¯¦ç»†ä»‹ç»è¿™ä¸¤ç§ç±»å‹åŠå…¶åŒºåˆ«ï¼Œå¹¶ç»™å‡ºå…·ä½“çš„ä¾‹å­ã€‚\n\n## æ•°æ®ç±»å‹\n\n### åŸå§‹ç±»å‹\n\nåŸå§‹ç±»å‹åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š\n\n- `Number`: æ•°å­—\n- `String`: å­—ç¬¦ä¸²\n- Boo`lean: å¸ƒå°”å€¼\n- `Null`: ç©ºå€¼\n- `Undefined`: æœªå®šä¹‰\n- `Symbol`: ç¬¦å·\n- `BigInt`: å¤§æ•´æ•°\n\n```ts\n// Number\nlet num = 123;\nconsole.log(num); // è¾“å‡º: 123\n\n// String\nlet str = \"Hello, world!\";\nconsole.log(str); // è¾“å‡º: Hello, world!\n\n// Boolean\nlet bool = true;\nconsole.log(bool); // è¾“å‡º: true\n\n// Undefined\nlet undef;\nconsole.log(undef); // è¾“å‡º: undefined\n\n// Null\nlet n = null;\nconsole.log(n); // è¾“å‡º: null\n\n// Symbol\nlet sym = Symbol(\"unique\");\nconsole.log(sym); // è¾“å‡º: Symbol(unique)\n\n// BigInt\nlet bigInt = 123456789012345678901234567890n;\nconsole.log(bigInt); // è¾“å‡º: 123456789012345678901234567890n\n```\n\n### å¼•ç”¨ç±»å‹\n\nå¼•ç”¨ç±»å‹åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š\n\n- `Object`: å¯¹è±¡\n- `Array`: æ•°ç»„\n- `Function`: å‡½æ•°\n- `Date`: æ—¥æœŸ\n- `Map`: æ˜ å°„\n- `Set`: é›†åˆ\n- `WeakMap`: å¼±æ˜ å°„\n- `WeakSet`: å¼±é›†åˆ\n- `RegExp`: æ­£åˆ™è¡¨è¾¾å¼\n\n```ts\n// Object\nlet obj = { name: \"Alice\", age: 30 };\nconsole.log(obj); // è¾“å‡º: { name: 'Alice', age: 30 }\n\n// Array\nlet arr = [1, 2, 3];\nconsole.log(arr); // è¾“å‡º: [1, 2, 3]\n\n// Function\nlet func = function () {\n\tconsole.log(\"Hello\");\n};\nfunc(); // è¾“å‡º: Hello\n\n// Date\nlet date = new Date();\nconsole.log(date); // è¾“å‡º: å½“å‰æ—¥æœŸæ—¶é—´\n\n// Map\nlet map = new Map();\nmap.set(\"key1\", \"value1\");\nconsole.log(map); // è¾“å‡º: Map(1) { 'key1' => 'value1' }\n\n// Set\nlet set = new Set();\nset.add(1).add(2).add(3);\nconsole.log(set); // è¾“å‡º: Set(3) { 1, 2, 3 }\n\n// WeakMap\nlet weakMap = new WeakMap();\nweakMap.set(obj, \"value\");\nconsole.log(weakMap); // è¾“å‡º: WeakMap { <1> entries }\n\n// WeakSet\nlet weakSet = new WeakSet();\nweakSet.add(obj);\nconsole.log(weakSet); // è¾“å‡º: WeakSet { <1> entries }\n\n// RegExp\nlet regex = /hello/;\nconsole.log(regex); // è¾“å‡º: /hello/\n```\n\n## å †æ ˆä½¿ç”¨\n\n### æ ˆï¼ˆStackï¼‰\n\næ ˆæ˜¯ä¸€ç§å…ˆè¿›åå‡ºï¼ˆLast In First Out, LIFOï¼‰çš„æ•°æ®ç»“æ„ã€‚æ ˆä¸»è¦ç”¨äºå­˜å‚¨å‡½æ•°è°ƒç”¨æ—¶çš„å±€éƒ¨å˜é‡å’Œæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚\n\nç‰¹æ€§ï¼š\n\n- æ“ä½œç®€å•ï¼šåªæœ‰ä¸¤ä¸ªæ“ä½œï¼šå‹å…¥ï¼ˆpushï¼‰å’Œå¼¹å‡ºï¼ˆpopï¼‰ã€‚\n- å†…å­˜åˆ†é…å’Œé‡Šæ”¾é€Ÿåº¦å¿«ã€‚\n- é€šå¸¸ç”¨äºå‡½æ•°è°ƒç”¨å’Œå±€éƒ¨å˜é‡ã€‚\n\n```ts\nfunction stackExample() {\n\tlet localVar = \"local\";\n\tconsole.log(localVar); // è¾“å‡º: local\n}\n\nstackExample();\nconsole.log(localVar); // æŠ¥é”™ï¼šReferenceError: localVar is not defined\n```\n\n### å †ï¼ˆHeapï¼‰\n\nå †æ˜¯ä¸€ç§åŠ¨æ€å†…å­˜åŒºåŸŸï¼Œç”¨äºå­˜å‚¨å¯¹è±¡ã€‚å †ä¸­çš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾ç›¸å¯¹å¤æ‚ï¼Œä½†æä¾›äº†æ›´å¤§çš„çµæ´»æ€§ã€‚\nç‰¹æ€§ï¼š\n\n- åŠ¨æ€åˆ†é…ï¼šå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ã€‚\n- å†…å­˜åˆ†é…å’Œé‡Šæ”¾è¾ƒæ…¢ã€‚\n- é€šå¸¸ç”¨äºå­˜å‚¨å¯¹è±¡å’Œå…¨å±€å˜é‡ã€‚\n\n```ts\nfunction heapExample() {\n\tlet obj = { name: \"Alice\", age: 30 };\n\tconsole.log(obj); // è¾“å‡º: { name: 'Alice', age: 30 }\n}\n\nheapExample();\n\n// å…¨å±€å˜é‡\nlet globalObj = { name: \"Bob\", age: 25 };\nconsole.log(globalObj); // è¾“å‡º: { name: 'Bob', age: 25 }\n```\n\n### åŒºåˆ«\n\n- åŸå§‹ç±»å‹ï¼šå­˜å‚¨åœ¨æ ˆä¸­ï¼Œç›´æ¥å­˜å‚¨å€¼ã€‚\n- å¼•ç”¨ç±»å‹ï¼šå­˜å‚¨åœ¨å †ä¸­ï¼Œæ ˆä¸­å­˜å‚¨çš„æ˜¯æŒ‡å‘å †ä¸­å¯¹è±¡çš„å¼•ç”¨ã€‚\n- æ ˆï¼šå…ˆè¿›åå‡ºçš„æ•°æ®ç»“æ„ï¼Œä¸»è¦ç”¨äºå­˜å‚¨å‡½æ•°è°ƒç”¨æ—¶çš„å±€éƒ¨å˜é‡å’Œæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚\n- å †ï¼šåŠ¨æ€å†…å­˜åŒºåŸŸï¼Œç”¨äºå­˜å‚¨å¯¹è±¡ï¼Œæä¾›äº†æ›´å¤§çš„çµæ´»æ€§ã€‚\n\nå¦‚ä½•æ›´åŠ æ¸…æ™°çš„ç†è§£å‘¢ï¼Ÿ\n\nä¸¾ä¸ªä¾‹å­æ¥è®²ï¼š\n\n```ts\n// åŸå§‹ç±»å‹ç›´æ¥å†…å­˜å€¼å­˜å‚¨\nlet name = \"Tom\";\n\n// å¼•ç”¨ç±»å‹ä¼šå°†å€¼å­˜å‚¨åœ¨å †ä¸­ï¼Œæ ˆä¸­å­˜å‚¨æŒ‡å‘å †ä¸­å¯¹è±¡çš„å¼•ç”¨\nlet obj1 = { a: 1 };\nlet obj2 = obj1;\n\n// å¦‚æœå°† å¼•ç”¨å€¼ ä¿®æ”¹ï¼Œé‚£ä¹ˆä¼šå‘ç°ï¼š obj1 å’Œ obj2 çš„å€¼éƒ½å˜äº†ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ\n// å› ä¸º obj1 å’Œ obj2 çš„å€¼éƒ½æ˜¯å¼•ç”¨çš„å †çš„å€¼ï¼Œæ”¹çš„éƒ½æ˜¯å †å€¼\nobj1.a = 3;\n```\n\nå¯ä»¥å‚è€ƒä¸‹é¢å›¾ç‰‡ï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/2024-08-16-1140.lvpaw7hne.webp)\n\n## åˆ¤æ–­æ•°æ®ç±»å‹\n\nåœ¨ JavaScript ä¸­ï¼Œåˆ¤æ–­æ•°æ®ç±»å‹æœ‰å¤šç§æ–¹æ³•ï¼Œæ¯ç§æ–¹æ³•éƒ½æœ‰å…¶é€‚ç”¨åœºæ™¯å’Œå±€é™æ€§ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¸¸ç”¨çš„æ–¹æ³•åŠå…¶åŒºåˆ«\n\n### typeof\n\n> `typeof` æ˜¯æœ€ç®€å•çš„åˆ¤æ–­æ•°æ®ç±»å‹çš„æ–¹æ³•ï¼Œä¸»è¦ç”¨äºåˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹ã€‚å®ƒèƒ½å‡†ç¡®åœ°è¯†åˆ« `stringã€numberã€booleanã€undefined` å’Œ `symbolã€‚`\n\n```ts\nconsole.log(typeof \"hello\"); // \"string\"\nconsole.log(typeof 123); // \"number\"\nconsole.log(typeof true); // \"boolean\"\nconsole.log(typeof undefined); // \"undefined\"\nconsole.log(typeof Symbol(\"sym\")); // \"symbol\"\n\n// å¯¹äº null å’Œ object ç±»å‹ï¼Œtypeof è¿”å› \"object\"\nconsole.log(typeof null); // \"object\"\nconsole.log(typeof {}); // \"object\"\nconsole.log(typeof []); // \"object\"\n```\n\n### instanceof\n\n> `instanceof` æ˜¯ JavaScript ä¸­çš„ä¸€ä¸ªè¿ç®—ç¬¦ï¼Œç”¨äºåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯æŸä¸ªç±»çš„å®ä¾‹ã€‚å®ƒä¸»è¦ç”¨äºåˆ¤æ–­å¼•ç”¨ç±»å‹ã€‚\n\n```ts\nconsole.log([] instanceof Array); // true\nconsole.log({} instanceof Object); // true\nconsole.log(function () {} instanceof Function); // true\nconsole.log(new Date() instanceof Date); // true\n```\n\n### Object.prototype.toString.call()\n\n> `Object.prototype.toString.call()` å¯ä»¥å‡†ç¡®åˆ¤æ–­æ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬ `null` å’Œ `undefined`ã€‚\n\n```ts\nconsole.log(Object.prototype.toString.call(\"hello\")); // \"[object String]\"\nconsole.log(Object.prototype.toString.call(123)); // \"[object Number]\"\nconsole.log(Object.prototype.toString.call(true)); // \"[object Boolean]\"\nconsole.log(Object.prototype.toString.call(undefined)); // \"[object Undefined]\"\nconsole.log(Object.prototype.toString.call(null)); // \"[object Null]\"\nconsole.log(Object.prototype.toString.call([])); // \"[object Array]\"\nconsole.log(Object.prototype.toString.call({})); // \"[object Object]\"\nconsole.log(Object.prototype.toString.call(function () {})); // \"[object Function]\"\nconsole.log(Object.prototype.toString.call(new Date())); // \"[object Date]\"\n```\n\n### Array.isArray()\n\n> `Array.isArray()` ä¸“é—¨ç”¨äºåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºæ•°ç»„ã€‚\n\n```ts\nconsole.log(Array.isArray([])); // true\nconsole.log(Array.isArray({})); // false\nconsole.log(Array.isArray([1, 2, 3])); // true\n```\n\n### Buffer.isBuffer() (Node.js)\n\n> `Buffer.isBuffer()` æ˜¯ Node.js ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸º Buffer å¯¹è±¡ã€‚\n\n```ts\nconst buffer = Buffer.from(\"hello\");\nconsole.log(Buffer.isBuffer(buffer)); // true\nconsole.log(Buffer.isBuffer({})); // false\nconsole.log(Buffer.isBuffer([])); // false\n```\n\n### æ€»ç»“\n\n- `typeof`ï¼šç®€å•æ˜“ç”¨ï¼Œé€‚ç”¨äºåŸºæœ¬æ•°æ®ç±»å‹ã€‚\n- `instanceof`ï¼šé€‚ç”¨äºå¤æ‚å¯¹è±¡ç±»å‹ï¼Œä½†éœ€è¦è€ƒè™‘åŸå‹é“¾çš„é—®é¢˜ã€‚\n- `Object.prototype.toString.call()`ï¼š**é€‚ç”¨äºæ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼Œæœ€å‡†ç¡®ã€‚**\n- `Array.isArray()`ï¼šä¸“é—¨ç”¨äºåˆ¤æ–­æ•°ç»„ã€‚\n- `Buffer.isBuffer()`ï¼šä»…åœ¨ `Node.js` ä¸­ä½¿ç”¨ï¼Œç”¨äºåˆ¤æ–­ `Buffer` å¯¹è±¡ã€‚\n","slug":"æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/æ•°æ®ç±»å‹","published":1,"updated":"2025-03-13T10:16:18.527Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j4005rfg9m9i41dj61","content":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>JavaScript ä¸­çš„æ•°æ®ç±»å‹åˆ†ä¸ºä¸¤å¤§ç±»ï¼šåŸå§‹ç±»å‹ï¼ˆPrimitive Typesï¼‰å’Œå¼•ç”¨ç±»å‹ï¼ˆReference Typesï¼‰ã€‚å½“ç„¶ä¹Ÿèƒ½æˆä¸ºåŸºæœ¬æ•°æ®ç±»å‹å’Œå¤æ‚æ•°æ®ç±»å‹ã€‚</p>\n<p>å½“ç„¶ï¼Œä¸è®ºæ˜¯åœ¨ä½¿ç”¨è¿˜æ˜¯åœ¨è¯»å–å †æ ˆï¼Œåˆ¤æ–­æ•°æ®ç±»å‹ä¿©ç§æ•°æ®ç±»å‹è¿˜æ˜¯æœ‰å¾ˆå¤§çš„åŒºåˆ«çš„ã€‚</p>\n<p>ä¸‹é¢è¯¦ç»†ä»‹ç»è¿™ä¸¤ç§ç±»å‹åŠå…¶åŒºåˆ«ï¼Œå¹¶ç»™å‡ºå…·ä½“çš„ä¾‹å­ã€‚</p>\n<h2 id=\"æ•°æ®ç±»å‹\"><a href=\"#æ•°æ®ç±»å‹\" class=\"headerlink\" title=\"æ•°æ®ç±»å‹\"></a>æ•°æ®ç±»å‹</h2><h3 id=\"åŸå§‹ç±»å‹\"><a href=\"#åŸå§‹ç±»å‹\" class=\"headerlink\" title=\"åŸå§‹ç±»å‹\"></a>åŸå§‹ç±»å‹</h3><p>åŸå§‹ç±»å‹åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š</p>\n<ul>\n<li><code>Number</code>: æ•°å­—</li>\n<li><code>String</code>: å­—ç¬¦ä¸²</li>\n<li>Boo&#96;lean: å¸ƒå°”å€¼</li>\n<li><code>Null</code>: ç©ºå€¼</li>\n<li><code>Undefined</code>: æœªå®šä¹‰</li>\n<li><code>Symbol</code>: ç¬¦å·</li>\n<li><code>BigInt</code>: å¤§æ•´æ•°</li>\n</ul>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Number</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> num = <span class=\"number\">123</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(num); <span class=\"comment\">// è¾“å‡º: 123</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// String</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> str = <span class=\"string\">&quot;Hello, world!&quot;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str); <span class=\"comment\">// è¾“å‡º: Hello, world!</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Boolean</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> bool = <span class=\"literal\">true</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(bool); <span class=\"comment\">// è¾“å‡º: true</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Undefined</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> undef;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(undef); <span class=\"comment\">// è¾“å‡º: undefined</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Null</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> n = <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(n); <span class=\"comment\">// è¾“å‡º: null</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Symbol</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> sym = <span class=\"title class_\">Symbol</span>(<span class=\"string\">&quot;unique&quot;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(sym); <span class=\"comment\">// è¾“å‡º: Symbol(unique)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// BigInt</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> bigInt = <span class=\"number\">123456789012345678901234567890n</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(bigInt); <span class=\"comment\">// è¾“å‡º: 123456789012345678901234567890n</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¼•ç”¨ç±»å‹\"><a href=\"#å¼•ç”¨ç±»å‹\" class=\"headerlink\" title=\"å¼•ç”¨ç±»å‹\"></a>å¼•ç”¨ç±»å‹</h3><p>å¼•ç”¨ç±»å‹åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š</p>\n<ul>\n<li><code>Object</code>: å¯¹è±¡</li>\n<li><code>Array</code>: æ•°ç»„</li>\n<li><code>Function</code>: å‡½æ•°</li>\n<li><code>Date</code>: æ—¥æœŸ</li>\n<li><code>Map</code>: æ˜ å°„</li>\n<li><code>Set</code>: é›†åˆ</li>\n<li><code>WeakMap</code>: å¼±æ˜ å°„</li>\n<li><code>WeakSet</code>: å¼±é›†åˆ</li>\n<li><code>RegExp</code>: æ­£åˆ™è¡¨è¾¾å¼</li>\n</ul>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Object</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;Alice&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">30</span> &#125;;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj); <span class=\"comment\">// è¾“å‡º: &#123; name: &#x27;Alice&#x27;, age: 30 &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Array</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr); <span class=\"comment\">// è¾“å‡º: [1, 2, 3]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Function</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> func = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Hello&quot;</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"title function_\">func</span>(); <span class=\"comment\">// è¾“å‡º: Hello</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Date</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(date); <span class=\"comment\">// è¾“å‡º: å½“å‰æ—¥æœŸæ—¶é—´</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Map</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> map = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>();</span><br><span class=\"line\">map.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;key1&quot;</span>, <span class=\"string\">&quot;value1&quot;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(map); <span class=\"comment\">// è¾“å‡º: Map(1) &#123; &#x27;key1&#x27; =&gt; &#x27;value1&#x27; &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Set</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> set = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>();</span><br><span class=\"line\">set.<span class=\"title function_\">add</span>(<span class=\"number\">1</span>).<span class=\"title function_\">add</span>(<span class=\"number\">2</span>).<span class=\"title function_\">add</span>(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(set); <span class=\"comment\">// è¾“å‡º: Set(3) &#123; 1, 2, 3 &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// WeakMap</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> weakMap = <span class=\"keyword\">new</span> <span class=\"title class_\">WeakMap</span>();</span><br><span class=\"line\">weakMap.<span class=\"title function_\">set</span>(obj, <span class=\"string\">&quot;value&quot;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(weakMap); <span class=\"comment\">// è¾“å‡º: WeakMap &#123; &lt;1&gt; entries &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// WeakSet</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> weakSet = <span class=\"keyword\">new</span> <span class=\"title class_\">WeakSet</span>();</span><br><span class=\"line\">weakSet.<span class=\"title function_\">add</span>(obj);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(weakSet); <span class=\"comment\">// è¾“å‡º: WeakSet &#123; &lt;1&gt; entries &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// RegExp</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> regex = <span class=\"regexp\">/hello/</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(regex); <span class=\"comment\">// è¾“å‡º: /hello/</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å †æ ˆä½¿ç”¨\"><a href=\"#å †æ ˆä½¿ç”¨\" class=\"headerlink\" title=\"å †æ ˆä½¿ç”¨\"></a>å †æ ˆä½¿ç”¨</h2><h3 id=\"æ ˆï¼ˆStackï¼‰\"><a href=\"#æ ˆï¼ˆStackï¼‰\" class=\"headerlink\" title=\"æ ˆï¼ˆStackï¼‰\"></a>æ ˆï¼ˆStackï¼‰</h3><p>æ ˆæ˜¯ä¸€ç§å…ˆè¿›åå‡ºï¼ˆLast In First Out, LIFOï¼‰çš„æ•°æ®ç»“æ„ã€‚æ ˆä¸»è¦ç”¨äºå­˜å‚¨å‡½æ•°è°ƒç”¨æ—¶çš„å±€éƒ¨å˜é‡å’Œæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p>\n<p>ç‰¹æ€§ï¼š</p>\n<ul>\n<li>æ“ä½œç®€å•ï¼šåªæœ‰ä¸¤ä¸ªæ“ä½œï¼šå‹å…¥ï¼ˆpushï¼‰å’Œå¼¹å‡ºï¼ˆpopï¼‰ã€‚</li>\n<li>å†…å­˜åˆ†é…å’Œé‡Šæ”¾é€Ÿåº¦å¿«ã€‚</li>\n<li>é€šå¸¸ç”¨äºå‡½æ•°è°ƒç”¨å’Œå±€éƒ¨å˜é‡ã€‚</li>\n</ul>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">stackExample</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> localVar = <span class=\"string\">&quot;local&quot;</span>;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(localVar); <span class=\"comment\">// è¾“å‡º: local</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">stackExample</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(localVar); <span class=\"comment\">// æŠ¥é”™ï¼šReferenceError: localVar is not defined</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å †ï¼ˆHeapï¼‰\"><a href=\"#å †ï¼ˆHeapï¼‰\" class=\"headerlink\" title=\"å †ï¼ˆHeapï¼‰\"></a>å †ï¼ˆHeapï¼‰</h3><p>å †æ˜¯ä¸€ç§åŠ¨æ€å†…å­˜åŒºåŸŸï¼Œç”¨äºå­˜å‚¨å¯¹è±¡ã€‚å †ä¸­çš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾ç›¸å¯¹å¤æ‚ï¼Œä½†æä¾›äº†æ›´å¤§çš„çµæ´»æ€§ã€‚<br>ç‰¹æ€§ï¼š</p>\n<ul>\n<li>åŠ¨æ€åˆ†é…ï¼šå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ã€‚</li>\n<li>å†…å­˜åˆ†é…å’Œé‡Šæ”¾è¾ƒæ…¢ã€‚</li>\n<li>é€šå¸¸ç”¨äºå­˜å‚¨å¯¹è±¡å’Œå…¨å±€å˜é‡ã€‚</li>\n</ul>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">heapExample</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> obj = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;Alice&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">30</span> &#125;;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj); <span class=\"comment\">// è¾“å‡º: &#123; name: &#x27;Alice&#x27;, age: 30 &#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">heapExample</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å…¨å±€å˜é‡</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> globalObj = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">25</span> &#125;;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(globalObj); <span class=\"comment\">// è¾“å‡º: &#123; name: &#x27;Bob&#x27;, age: 25 &#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åŒºåˆ«\"><a href=\"#åŒºåˆ«\" class=\"headerlink\" title=\"åŒºåˆ«\"></a>åŒºåˆ«</h3><ul>\n<li>åŸå§‹ç±»å‹ï¼šå­˜å‚¨åœ¨æ ˆä¸­ï¼Œç›´æ¥å­˜å‚¨å€¼ã€‚</li>\n<li>å¼•ç”¨ç±»å‹ï¼šå­˜å‚¨åœ¨å †ä¸­ï¼Œæ ˆä¸­å­˜å‚¨çš„æ˜¯æŒ‡å‘å †ä¸­å¯¹è±¡çš„å¼•ç”¨ã€‚</li>\n<li>æ ˆï¼šå…ˆè¿›åå‡ºçš„æ•°æ®ç»“æ„ï¼Œä¸»è¦ç”¨äºå­˜å‚¨å‡½æ•°è°ƒç”¨æ—¶çš„å±€éƒ¨å˜é‡å’Œæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</li>\n<li>å †ï¼šåŠ¨æ€å†…å­˜åŒºåŸŸï¼Œç”¨äºå­˜å‚¨å¯¹è±¡ï¼Œæä¾›äº†æ›´å¤§çš„çµæ´»æ€§ã€‚</li>\n</ul>\n<p>å¦‚ä½•æ›´åŠ æ¸…æ™°çš„ç†è§£å‘¢ï¼Ÿ</p>\n<p>ä¸¾ä¸ªä¾‹å­æ¥è®²ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åŸå§‹ç±»å‹ç›´æ¥å†…å­˜å€¼å­˜å‚¨</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> name = <span class=\"string\">&quot;Tom&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¼•ç”¨ç±»å‹ä¼šå°†å€¼å­˜å‚¨åœ¨å †ä¸­ï¼Œæ ˆä¸­å­˜å‚¨æŒ‡å‘å †ä¸­å¯¹è±¡çš„å¼•ç”¨</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj1 = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj2 = obj1;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœå°† å¼•ç”¨å€¼ ä¿®æ”¹ï¼Œé‚£ä¹ˆä¼šå‘ç°ï¼š obj1 å’Œ obj2 çš„å€¼éƒ½å˜äº†ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ</span></span><br><span class=\"line\"><span class=\"comment\">// å› ä¸º obj1 å’Œ obj2 çš„å€¼éƒ½æ˜¯å¼•ç”¨çš„å †çš„å€¼ï¼Œæ”¹çš„éƒ½æ˜¯å †å€¼</span></span><br><span class=\"line\">obj1.<span class=\"property\">a</span> = <span class=\"number\">3</span>;</span><br></pre></td></tr></table></figure>\n\n<p>å¯ä»¥å‚è€ƒä¸‹é¢å›¾ç‰‡ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/2024-08-16-1140.lvpaw7hne.webp\" alt=\"x\"></p>\n<h2 id=\"åˆ¤æ–­æ•°æ®ç±»å‹\"><a href=\"#åˆ¤æ–­æ•°æ®ç±»å‹\" class=\"headerlink\" title=\"åˆ¤æ–­æ•°æ®ç±»å‹\"></a>åˆ¤æ–­æ•°æ®ç±»å‹</h2><p>åœ¨ JavaScript ä¸­ï¼Œåˆ¤æ–­æ•°æ®ç±»å‹æœ‰å¤šç§æ–¹æ³•ï¼Œæ¯ç§æ–¹æ³•éƒ½æœ‰å…¶é€‚ç”¨åœºæ™¯å’Œå±€é™æ€§ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¸¸ç”¨çš„æ–¹æ³•åŠå…¶åŒºåˆ«</p>\n<h3 id=\"typeof\"><a href=\"#typeof\" class=\"headerlink\" title=\"typeof\"></a>typeof</h3><blockquote>\n<p><code>typeof</code> æ˜¯æœ€ç®€å•çš„åˆ¤æ–­æ•°æ®ç±»å‹çš„æ–¹æ³•ï¼Œä¸»è¦ç”¨äºåˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹ã€‚å®ƒèƒ½å‡†ç¡®åœ°è¯†åˆ« <code>stringã€numberã€booleanã€undefined</code> å’Œ <code>symbolã€‚</code></p>\n</blockquote>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"string\">&quot;hello&quot;</span>); <span class=\"comment\">// &quot;string&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"number\">123</span>); <span class=\"comment\">// &quot;number&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"literal\">true</span>); <span class=\"comment\">// &quot;boolean&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"literal\">undefined</span>); <span class=\"comment\">// &quot;undefined&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"title class_\">Symbol</span>(<span class=\"string\">&quot;sym&quot;</span>)); <span class=\"comment\">// &quot;symbol&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¯¹äº null å’Œ object ç±»å‹ï¼Œtypeof è¿”å› &quot;object&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"literal\">null</span>); <span class=\"comment\">// &quot;object&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> &#123;&#125;); <span class=\"comment\">// &quot;object&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> []); <span class=\"comment\">// &quot;object&quot;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"instanceof\"><a href=\"#instanceof\" class=\"headerlink\" title=\"instanceof\"></a>instanceof</h3><blockquote>\n<p><code>instanceof</code> æ˜¯ JavaScript ä¸­çš„ä¸€ä¸ªè¿ç®—ç¬¦ï¼Œç”¨äºåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯æŸä¸ªç±»çš„å®ä¾‹ã€‚å®ƒä¸»è¦ç”¨äºåˆ¤æ–­å¼•ç”¨ç±»å‹ã€‚</p>\n</blockquote>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>([] <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Array</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(&#123;&#125; <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Object</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;&#125; <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Function</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>() <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Date</span>); <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Object-prototype-toString-call\"><a href=\"#Object-prototype-toString-call\" class=\"headerlink\" title=\"Object.prototype.toString.call()\"></a>Object.prototype.toString.call()</h3><blockquote>\n<p><code>Object.prototype.toString.call()</code> å¯ä»¥å‡†ç¡®åˆ¤æ–­æ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬ <code>null</code> å’Œ <code>undefined</code>ã€‚</p>\n</blockquote>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"string\">&quot;hello&quot;</span>)); <span class=\"comment\">// &quot;[object String]&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"number\">123</span>)); <span class=\"comment\">// &quot;[object Number]&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"literal\">true</span>)); <span class=\"comment\">// &quot;[object Boolean]&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"literal\">undefined</span>)); <span class=\"comment\">// &quot;[object Undefined]&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"literal\">null</span>)); <span class=\"comment\">// &quot;[object Null]&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>([])); <span class=\"comment\">// &quot;[object Array]&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(&#123;&#125;)); <span class=\"comment\">// &quot;[object Object]&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;&#125;)); <span class=\"comment\">// &quot;[object Function]&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>())); <span class=\"comment\">// &quot;[object Date]&quot;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Array-isArray\"><a href=\"#Array-isArray\" class=\"headerlink\" title=\"Array.isArray()\"></a>Array.isArray()</h3><blockquote>\n<p><code>Array.isArray()</code> ä¸“é—¨ç”¨äºåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºæ•°ç»„ã€‚</p>\n</blockquote>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>([])); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(&#123;&#125;)); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>])); <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Buffer-isBuffer-Node-js\"><a href=\"#Buffer-isBuffer-Node-js\" class=\"headerlink\" title=\"Buffer.isBuffer() (Node.js)\"></a>Buffer.isBuffer() (Node.js)</h3><blockquote>\n<p><code>Buffer.isBuffer()</code> æ˜¯ Node.js ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸º Buffer å¯¹è±¡ã€‚</p>\n</blockquote>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buffer = <span class=\"title class_\">Buffer</span>.<span class=\"title function_\">from</span>(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Buffer</span>.<span class=\"title function_\">isBuffer</span>(buffer)); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Buffer</span>.<span class=\"title function_\">isBuffer</span>(&#123;&#125;)); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Buffer</span>.<span class=\"title function_\">isBuffer</span>([])); <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h3><ul>\n<li><code>typeof</code>ï¼šç®€å•æ˜“ç”¨ï¼Œé€‚ç”¨äºåŸºæœ¬æ•°æ®ç±»å‹ã€‚</li>\n<li><code>instanceof</code>ï¼šé€‚ç”¨äºå¤æ‚å¯¹è±¡ç±»å‹ï¼Œä½†éœ€è¦è€ƒè™‘åŸå‹é“¾çš„é—®é¢˜ã€‚</li>\n<li><code>Object.prototype.toString.call()</code>ï¼š<strong>é€‚ç”¨äºæ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼Œæœ€å‡†ç¡®ã€‚</strong></li>\n<li><code>Array.isArray()</code>ï¼šä¸“é—¨ç”¨äºåˆ¤æ–­æ•°ç»„ã€‚</li>\n<li><code>Buffer.isBuffer()</code>ï¼šä»…åœ¨ <code>Node.js</code> ä¸­ä½¿ç”¨ï¼Œç”¨äºåˆ¤æ–­ <code>Buffer</code> å¯¹è±¡ã€‚</li>\n</ul>\n","excerpt":"","more":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>JavaScript ä¸­çš„æ•°æ®ç±»å‹åˆ†ä¸ºä¸¤å¤§ç±»ï¼šåŸå§‹ç±»å‹ï¼ˆPrimitive Typesï¼‰å’Œå¼•ç”¨ç±»å‹ï¼ˆReference Typesï¼‰ã€‚å½“ç„¶ä¹Ÿèƒ½æˆä¸ºåŸºæœ¬æ•°æ®ç±»å‹å’Œå¤æ‚æ•°æ®ç±»å‹ã€‚</p>\n<p>å½“ç„¶ï¼Œä¸è®ºæ˜¯åœ¨ä½¿ç”¨è¿˜æ˜¯åœ¨è¯»å–å †æ ˆï¼Œåˆ¤æ–­æ•°æ®ç±»å‹ä¿©ç§æ•°æ®ç±»å‹è¿˜æ˜¯æœ‰å¾ˆå¤§çš„åŒºåˆ«çš„ã€‚</p>\n<p>ä¸‹é¢è¯¦ç»†ä»‹ç»è¿™ä¸¤ç§ç±»å‹åŠå…¶åŒºåˆ«ï¼Œå¹¶ç»™å‡ºå…·ä½“çš„ä¾‹å­ã€‚</p>\n<h2 id=\"æ•°æ®ç±»å‹\"><a href=\"#æ•°æ®ç±»å‹\" class=\"headerlink\" title=\"æ•°æ®ç±»å‹\"></a>æ•°æ®ç±»å‹</h2><h3 id=\"åŸå§‹ç±»å‹\"><a href=\"#åŸå§‹ç±»å‹\" class=\"headerlink\" title=\"åŸå§‹ç±»å‹\"></a>åŸå§‹ç±»å‹</h3><p>åŸå§‹ç±»å‹åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š</p>\n<ul>\n<li><code>Number</code>: æ•°å­—</li>\n<li><code>String</code>: å­—ç¬¦ä¸²</li>\n<li>Boo&#96;lean: å¸ƒå°”å€¼</li>\n<li><code>Null</code>: ç©ºå€¼</li>\n<li><code>Undefined</code>: æœªå®šä¹‰</li>\n<li><code>Symbol</code>: ç¬¦å·</li>\n<li><code>BigInt</code>: å¤§æ•´æ•°</li>\n</ul>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Number</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> num = <span class=\"number\">123</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(num); <span class=\"comment\">// è¾“å‡º: 123</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// String</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> str = <span class=\"string\">&quot;Hello, world!&quot;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str); <span class=\"comment\">// è¾“å‡º: Hello, world!</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Boolean</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> bool = <span class=\"literal\">true</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(bool); <span class=\"comment\">// è¾“å‡º: true</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Undefined</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> undef;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(undef); <span class=\"comment\">// è¾“å‡º: undefined</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Null</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> n = <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(n); <span class=\"comment\">// è¾“å‡º: null</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Symbol</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> sym = <span class=\"title class_\">Symbol</span>(<span class=\"string\">&quot;unique&quot;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(sym); <span class=\"comment\">// è¾“å‡º: Symbol(unique)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// BigInt</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> bigInt = <span class=\"number\">123456789012345678901234567890n</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(bigInt); <span class=\"comment\">// è¾“å‡º: 123456789012345678901234567890n</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¼•ç”¨ç±»å‹\"><a href=\"#å¼•ç”¨ç±»å‹\" class=\"headerlink\" title=\"å¼•ç”¨ç±»å‹\"></a>å¼•ç”¨ç±»å‹</h3><p>å¼•ç”¨ç±»å‹åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š</p>\n<ul>\n<li><code>Object</code>: å¯¹è±¡</li>\n<li><code>Array</code>: æ•°ç»„</li>\n<li><code>Function</code>: å‡½æ•°</li>\n<li><code>Date</code>: æ—¥æœŸ</li>\n<li><code>Map</code>: æ˜ å°„</li>\n<li><code>Set</code>: é›†åˆ</li>\n<li><code>WeakMap</code>: å¼±æ˜ å°„</li>\n<li><code>WeakSet</code>: å¼±é›†åˆ</li>\n<li><code>RegExp</code>: æ­£åˆ™è¡¨è¾¾å¼</li>\n</ul>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Object</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;Alice&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">30</span> &#125;;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj); <span class=\"comment\">// è¾“å‡º: &#123; name: &#x27;Alice&#x27;, age: 30 &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Array</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr); <span class=\"comment\">// è¾“å‡º: [1, 2, 3]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Function</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> func = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Hello&quot;</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"title function_\">func</span>(); <span class=\"comment\">// è¾“å‡º: Hello</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Date</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(date); <span class=\"comment\">// è¾“å‡º: å½“å‰æ—¥æœŸæ—¶é—´</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Map</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> map = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>();</span><br><span class=\"line\">map.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;key1&quot;</span>, <span class=\"string\">&quot;value1&quot;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(map); <span class=\"comment\">// è¾“å‡º: Map(1) &#123; &#x27;key1&#x27; =&gt; &#x27;value1&#x27; &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Set</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> set = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>();</span><br><span class=\"line\">set.<span class=\"title function_\">add</span>(<span class=\"number\">1</span>).<span class=\"title function_\">add</span>(<span class=\"number\">2</span>).<span class=\"title function_\">add</span>(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(set); <span class=\"comment\">// è¾“å‡º: Set(3) &#123; 1, 2, 3 &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// WeakMap</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> weakMap = <span class=\"keyword\">new</span> <span class=\"title class_\">WeakMap</span>();</span><br><span class=\"line\">weakMap.<span class=\"title function_\">set</span>(obj, <span class=\"string\">&quot;value&quot;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(weakMap); <span class=\"comment\">// è¾“å‡º: WeakMap &#123; &lt;1&gt; entries &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// WeakSet</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> weakSet = <span class=\"keyword\">new</span> <span class=\"title class_\">WeakSet</span>();</span><br><span class=\"line\">weakSet.<span class=\"title function_\">add</span>(obj);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(weakSet); <span class=\"comment\">// è¾“å‡º: WeakSet &#123; &lt;1&gt; entries &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// RegExp</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> regex = <span class=\"regexp\">/hello/</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(regex); <span class=\"comment\">// è¾“å‡º: /hello/</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å †æ ˆä½¿ç”¨\"><a href=\"#å †æ ˆä½¿ç”¨\" class=\"headerlink\" title=\"å †æ ˆä½¿ç”¨\"></a>å †æ ˆä½¿ç”¨</h2><h3 id=\"æ ˆï¼ˆStackï¼‰\"><a href=\"#æ ˆï¼ˆStackï¼‰\" class=\"headerlink\" title=\"æ ˆï¼ˆStackï¼‰\"></a>æ ˆï¼ˆStackï¼‰</h3><p>æ ˆæ˜¯ä¸€ç§å…ˆè¿›åå‡ºï¼ˆLast In First Out, LIFOï¼‰çš„æ•°æ®ç»“æ„ã€‚æ ˆä¸»è¦ç”¨äºå­˜å‚¨å‡½æ•°è°ƒç”¨æ—¶çš„å±€éƒ¨å˜é‡å’Œæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p>\n<p>ç‰¹æ€§ï¼š</p>\n<ul>\n<li>æ“ä½œç®€å•ï¼šåªæœ‰ä¸¤ä¸ªæ“ä½œï¼šå‹å…¥ï¼ˆpushï¼‰å’Œå¼¹å‡ºï¼ˆpopï¼‰ã€‚</li>\n<li>å†…å­˜åˆ†é…å’Œé‡Šæ”¾é€Ÿåº¦å¿«ã€‚</li>\n<li>é€šå¸¸ç”¨äºå‡½æ•°è°ƒç”¨å’Œå±€éƒ¨å˜é‡ã€‚</li>\n</ul>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">stackExample</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> localVar = <span class=\"string\">&quot;local&quot;</span>;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(localVar); <span class=\"comment\">// è¾“å‡º: local</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">stackExample</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(localVar); <span class=\"comment\">// æŠ¥é”™ï¼šReferenceError: localVar is not defined</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å †ï¼ˆHeapï¼‰\"><a href=\"#å †ï¼ˆHeapï¼‰\" class=\"headerlink\" title=\"å †ï¼ˆHeapï¼‰\"></a>å †ï¼ˆHeapï¼‰</h3><p>å †æ˜¯ä¸€ç§åŠ¨æ€å†…å­˜åŒºåŸŸï¼Œç”¨äºå­˜å‚¨å¯¹è±¡ã€‚å †ä¸­çš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾ç›¸å¯¹å¤æ‚ï¼Œä½†æä¾›äº†æ›´å¤§çš„çµæ´»æ€§ã€‚<br>ç‰¹æ€§ï¼š</p>\n<ul>\n<li>åŠ¨æ€åˆ†é…ï¼šå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ã€‚</li>\n<li>å†…å­˜åˆ†é…å’Œé‡Šæ”¾è¾ƒæ…¢ã€‚</li>\n<li>é€šå¸¸ç”¨äºå­˜å‚¨å¯¹è±¡å’Œå…¨å±€å˜é‡ã€‚</li>\n</ul>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">heapExample</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> obj = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;Alice&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">30</span> &#125;;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj); <span class=\"comment\">// è¾“å‡º: &#123; name: &#x27;Alice&#x27;, age: 30 &#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">heapExample</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å…¨å±€å˜é‡</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> globalObj = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"attr\">age</span>: <span class=\"number\">25</span> &#125;;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(globalObj); <span class=\"comment\">// è¾“å‡º: &#123; name: &#x27;Bob&#x27;, age: 25 &#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åŒºåˆ«\"><a href=\"#åŒºåˆ«\" class=\"headerlink\" title=\"åŒºåˆ«\"></a>åŒºåˆ«</h3><ul>\n<li>åŸå§‹ç±»å‹ï¼šå­˜å‚¨åœ¨æ ˆä¸­ï¼Œç›´æ¥å­˜å‚¨å€¼ã€‚</li>\n<li>å¼•ç”¨ç±»å‹ï¼šå­˜å‚¨åœ¨å †ä¸­ï¼Œæ ˆä¸­å­˜å‚¨çš„æ˜¯æŒ‡å‘å †ä¸­å¯¹è±¡çš„å¼•ç”¨ã€‚</li>\n<li>æ ˆï¼šå…ˆè¿›åå‡ºçš„æ•°æ®ç»“æ„ï¼Œä¸»è¦ç”¨äºå­˜å‚¨å‡½æ•°è°ƒç”¨æ—¶çš„å±€éƒ¨å˜é‡å’Œæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</li>\n<li>å †ï¼šåŠ¨æ€å†…å­˜åŒºåŸŸï¼Œç”¨äºå­˜å‚¨å¯¹è±¡ï¼Œæä¾›äº†æ›´å¤§çš„çµæ´»æ€§ã€‚</li>\n</ul>\n<p>å¦‚ä½•æ›´åŠ æ¸…æ™°çš„ç†è§£å‘¢ï¼Ÿ</p>\n<p>ä¸¾ä¸ªä¾‹å­æ¥è®²ï¼š</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åŸå§‹ç±»å‹ç›´æ¥å†…å­˜å€¼å­˜å‚¨</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> name = <span class=\"string\">&quot;Tom&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¼•ç”¨ç±»å‹ä¼šå°†å€¼å­˜å‚¨åœ¨å †ä¸­ï¼Œæ ˆä¸­å­˜å‚¨æŒ‡å‘å †ä¸­å¯¹è±¡çš„å¼•ç”¨</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj1 = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj2 = obj1;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœå°† å¼•ç”¨å€¼ ä¿®æ”¹ï¼Œé‚£ä¹ˆä¼šå‘ç°ï¼š obj1 å’Œ obj2 çš„å€¼éƒ½å˜äº†ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ</span></span><br><span class=\"line\"><span class=\"comment\">// å› ä¸º obj1 å’Œ obj2 çš„å€¼éƒ½æ˜¯å¼•ç”¨çš„å †çš„å€¼ï¼Œæ”¹çš„éƒ½æ˜¯å †å€¼</span></span><br><span class=\"line\">obj1.<span class=\"property\">a</span> = <span class=\"number\">3</span>;</span><br></pre></td></tr></table></figure>\n\n<p>å¯ä»¥å‚è€ƒä¸‹é¢å›¾ç‰‡ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/2024-08-16-1140.lvpaw7hne.webp\" alt=\"x\"></p>\n<h2 id=\"åˆ¤æ–­æ•°æ®ç±»å‹\"><a href=\"#åˆ¤æ–­æ•°æ®ç±»å‹\" class=\"headerlink\" title=\"åˆ¤æ–­æ•°æ®ç±»å‹\"></a>åˆ¤æ–­æ•°æ®ç±»å‹</h2><p>åœ¨ JavaScript ä¸­ï¼Œåˆ¤æ–­æ•°æ®ç±»å‹æœ‰å¤šç§æ–¹æ³•ï¼Œæ¯ç§æ–¹æ³•éƒ½æœ‰å…¶é€‚ç”¨åœºæ™¯å’Œå±€é™æ€§ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¸¸ç”¨çš„æ–¹æ³•åŠå…¶åŒºåˆ«</p>\n<h3 id=\"typeof\"><a href=\"#typeof\" class=\"headerlink\" title=\"typeof\"></a>typeof</h3><blockquote>\n<p><code>typeof</code> æ˜¯æœ€ç®€å•çš„åˆ¤æ–­æ•°æ®ç±»å‹çš„æ–¹æ³•ï¼Œä¸»è¦ç”¨äºåˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹ã€‚å®ƒèƒ½å‡†ç¡®åœ°è¯†åˆ« <code>stringã€numberã€booleanã€undefined</code> å’Œ <code>symbolã€‚</code></p>\n</blockquote>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"string\">&quot;hello&quot;</span>); <span class=\"comment\">// &quot;string&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"number\">123</span>); <span class=\"comment\">// &quot;number&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"literal\">true</span>); <span class=\"comment\">// &quot;boolean&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"literal\">undefined</span>); <span class=\"comment\">// &quot;undefined&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"title class_\">Symbol</span>(<span class=\"string\">&quot;sym&quot;</span>)); <span class=\"comment\">// &quot;symbol&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¯¹äº null å’Œ object ç±»å‹ï¼Œtypeof è¿”å› &quot;object&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"literal\">null</span>); <span class=\"comment\">// &quot;object&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> &#123;&#125;); <span class=\"comment\">// &quot;object&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> []); <span class=\"comment\">// &quot;object&quot;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"instanceof\"><a href=\"#instanceof\" class=\"headerlink\" title=\"instanceof\"></a>instanceof</h3><blockquote>\n<p><code>instanceof</code> æ˜¯ JavaScript ä¸­çš„ä¸€ä¸ªè¿ç®—ç¬¦ï¼Œç”¨äºåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯æŸä¸ªç±»çš„å®ä¾‹ã€‚å®ƒä¸»è¦ç”¨äºåˆ¤æ–­å¼•ç”¨ç±»å‹ã€‚</p>\n</blockquote>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>([] <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Array</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(&#123;&#125; <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Object</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;&#125; <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Function</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>() <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Date</span>); <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Object-prototype-toString-call\"><a href=\"#Object-prototype-toString-call\" class=\"headerlink\" title=\"Object.prototype.toString.call()\"></a>Object.prototype.toString.call()</h3><blockquote>\n<p><code>Object.prototype.toString.call()</code> å¯ä»¥å‡†ç¡®åˆ¤æ–­æ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬ <code>null</code> å’Œ <code>undefined</code>ã€‚</p>\n</blockquote>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"string\">&quot;hello&quot;</span>)); <span class=\"comment\">// &quot;[object String]&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"number\">123</span>)); <span class=\"comment\">// &quot;[object Number]&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"literal\">true</span>)); <span class=\"comment\">// &quot;[object Boolean]&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"literal\">undefined</span>)); <span class=\"comment\">// &quot;[object Undefined]&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"literal\">null</span>)); <span class=\"comment\">// &quot;[object Null]&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>([])); <span class=\"comment\">// &quot;[object Array]&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(&#123;&#125;)); <span class=\"comment\">// &quot;[object Object]&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;&#125;)); <span class=\"comment\">// &quot;[object Function]&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>())); <span class=\"comment\">// &quot;[object Date]&quot;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Array-isArray\"><a href=\"#Array-isArray\" class=\"headerlink\" title=\"Array.isArray()\"></a>Array.isArray()</h3><blockquote>\n<p><code>Array.isArray()</code> ä¸“é—¨ç”¨äºåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºæ•°ç»„ã€‚</p>\n</blockquote>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>([])); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(&#123;&#125;)); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>])); <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Buffer-isBuffer-Node-js\"><a href=\"#Buffer-isBuffer-Node-js\" class=\"headerlink\" title=\"Buffer.isBuffer() (Node.js)\"></a>Buffer.isBuffer() (Node.js)</h3><blockquote>\n<p><code>Buffer.isBuffer()</code> æ˜¯ Node.js ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸º Buffer å¯¹è±¡ã€‚</p>\n</blockquote>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buffer = <span class=\"title class_\">Buffer</span>.<span class=\"title function_\">from</span>(<span class=\"string\">&quot;hello&quot;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Buffer</span>.<span class=\"title function_\">isBuffer</span>(buffer)); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Buffer</span>.<span class=\"title function_\">isBuffer</span>(&#123;&#125;)); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Buffer</span>.<span class=\"title function_\">isBuffer</span>([])); <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h3><ul>\n<li><code>typeof</code>ï¼šç®€å•æ˜“ç”¨ï¼Œé€‚ç”¨äºåŸºæœ¬æ•°æ®ç±»å‹ã€‚</li>\n<li><code>instanceof</code>ï¼šé€‚ç”¨äºå¤æ‚å¯¹è±¡ç±»å‹ï¼Œä½†éœ€è¦è€ƒè™‘åŸå‹é“¾çš„é—®é¢˜ã€‚</li>\n<li><code>Object.prototype.toString.call()</code>ï¼š<strong>é€‚ç”¨äºæ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼Œæœ€å‡†ç¡®ã€‚</strong></li>\n<li><code>Array.isArray()</code>ï¼šä¸“é—¨ç”¨äºåˆ¤æ–­æ•°ç»„ã€‚</li>\n<li><code>Buffer.isBuffer()</code>ï¼šä»…åœ¨ <code>Node.js</code> ä¸­ä½¿ç”¨ï¼Œç”¨äºåˆ¤æ–­ <code>Buffer</code> å¯¹è±¡ã€‚</li>\n</ul>\n"},{"title":"å˜é‡æå‡","abbrlink":"3080460d","date":"2023-03-14T03:20:38.000Z","_content":"\n# ä»‹ç»\n\nåœ¨ JavaScript ä¸­ï¼Œ`let`, `const`, å’Œ` var` ç”¨äºå£°æ˜å˜é‡ï¼Œè€Œ f`unction` ç”¨äºå®šä¹‰å‡½æ•°ã€‚å®ƒä»¬ä¹‹é—´å­˜åœ¨ä¸€äº›é‡è¦çš„åŒºåˆ«ï¼Œå°¤å…¶æ˜¯åœ¨ä½œç”¨åŸŸå’Œå˜é‡æå‡æ–¹é¢ã€‚\n\nåœ¨è¯´æ˜å˜é‡æå‡ä¹‹å‰ï¼Œå…ˆç†è§£ä¸€ä¸‹ä¸‰è€…çš„åŒºåˆ«\n\n### åŒºåˆ«\n\n- `var`: åœ¨å‡½æ•°æˆ–å…¨å±€èŒƒå›´å†…å£°æ˜å˜é‡ã€‚æ‰€æœ‰ç”¨ `var` å£°æ˜çš„å˜é‡éƒ½ä¼šè¢«æå‡åˆ°å½“å‰ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚\n- `let`: åœ¨å—çº§ä½œç”¨åŸŸå†…å£°æ˜å˜é‡ã€‚ä¸ä¼šè¢«æå‡ã€‚\n- `const`: ä¸ `let` ç±»ä¼¼ï¼Œä½†åœ¨å£°æ˜æ—¶å¿…é¡»åˆå§‹åŒ–ï¼Œå¹¶ä¸”å€¼ä¸èƒ½æ”¹å˜ã€‚\n\n```ts\nvar price = 100;\nprice = 200; // 200ï¼Œ å¯ä»¥æ­£å¸¸ä¿®æ”¹\n\nlet a = 1;\na = 2; // 2ï¼Œ å¯ä»¥æ­£å¸¸ä¿®æ”¹\n\nconst b = \"name\";\nb = \"age\"; // Assignment to constant variable. å¸¸é‡ä¸èƒ½è¢«ä¿®æ”¹\n```\n\n### å˜é‡æå‡\n\nJavaScript ä¸­çš„å˜é‡æå‡æ˜¯æŒ‡å˜é‡å£°æ˜ä¼šè¢«æå‡åˆ°å½“å‰ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œä½†ä»…é™äºå£°æ˜æœ¬èº«ï¼Œè€Œä¸åŒ…æ‹¬åˆå§‹åŒ–ã€‚\n\n```ts\nconsole.log(x); // è¾“å‡º: undefined\nvar x = 5;\n\nconsole.log(y); // è¾“å‡º: ReferenceError: y is not defined\nlet y = 10;\n\nconsole.log(z); // è¾“å‡º: ReferenceError: z is not defined\nconst z = 15;\n```\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š\n\n- `var x` çš„å£°æ˜è¢«æå‡åˆ°äº†ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œå› æ­¤ `x` åœ¨ä½¿ç”¨å‰å°±å·²ç»å­˜åœ¨ï¼Œä½†å®ƒçš„åˆå§‹åŒ–æ²¡æœ‰è¢«æå‡ï¼Œæ‰€ä»¥è¾“å‡º `undefined`ã€‚\n- `let y` å’Œ `const z` çš„å£°æ˜éƒ½æ²¡æœ‰è¢«æå‡ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨å‰è®¿é—®å®ƒä»¬ä¼šå¯¼è‡´ `ReferenceError`ã€‚\n\nç°åœ¨å·²ç»æŠŠ`let, const, var`çš„åŒºåˆ«ä»¥åŠå˜é‡å¦‚ä½•æå‡çš„å·²ç»è¯´å®Œäº†ï¼Œä½†æ˜¯ä¹‹å‰è¯´åˆ°äº†`function`ï¼Œè¿™é‡Œä¸ºä»€ä¹ˆè¦è¯´`function`è¿™ä¸å˜é‡æå‡æœ‰ä»€ä¹ˆè”ç³»å‘¢ï¼Ÿ\n\nè¦æƒ³è§£é‡Š`function`å˜é‡æå‡ï¼Œé‚£ä¹ˆå°±è¦æ¥å•äº†è§£èƒ°ä¸€ä¸‹`function`\n\n- å‡½æ•°å£°æ˜ (`function foo() {}`) ä¼šè¿›è¡Œå®Œæ•´çš„æå‡ï¼Œå³å£°æ˜å’Œåˆå§‹åŒ–éƒ½ä¼šè¢«æå‡ã€‚\n- å‡½æ•°è¡¨è¾¾å¼ (`var bar = function() {};`) åªæœ‰å˜é‡å£°æ˜è¢«æå‡ï¼Œå‡½æ•°åˆå§‹åŒ–éƒ¨åˆ†ä¸æå‡ã€‚\n\n```ts\nconsole.log(foo()); // è¾“å‡º: \"Hello\"\nfunction foo() {\n\treturn \"Hello\";\n}\n\nconsole.log(bar()); // è¾“å‡º: TypeError: bar is not a function\nvar bar = function () {\n\treturn \"World\";\n};\n```\n\nå¦‚æœå¯¹å…¶è¿˜æ˜¯æ¨¡ç³Šä¸æ¸…ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹å›¾ç‰‡ä¾¿äºç†è§£ï¼š\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/2024-08-16-1141.7ax4zo6imu.webp)\n","source":"_posts/æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/å˜é‡æå‡.md","raw":"---\ntitle: å˜é‡æå‡\nabbrlink: 3080460d\ndate: 2023-03-14 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - JavaScript \n---\n\n# ä»‹ç»\n\nåœ¨ JavaScript ä¸­ï¼Œ`let`, `const`, å’Œ` var` ç”¨äºå£°æ˜å˜é‡ï¼Œè€Œ f`unction` ç”¨äºå®šä¹‰å‡½æ•°ã€‚å®ƒä»¬ä¹‹é—´å­˜åœ¨ä¸€äº›é‡è¦çš„åŒºåˆ«ï¼Œå°¤å…¶æ˜¯åœ¨ä½œç”¨åŸŸå’Œå˜é‡æå‡æ–¹é¢ã€‚\n\nåœ¨è¯´æ˜å˜é‡æå‡ä¹‹å‰ï¼Œå…ˆç†è§£ä¸€ä¸‹ä¸‰è€…çš„åŒºåˆ«\n\n### åŒºåˆ«\n\n- `var`: åœ¨å‡½æ•°æˆ–å…¨å±€èŒƒå›´å†…å£°æ˜å˜é‡ã€‚æ‰€æœ‰ç”¨ `var` å£°æ˜çš„å˜é‡éƒ½ä¼šè¢«æå‡åˆ°å½“å‰ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚\n- `let`: åœ¨å—çº§ä½œç”¨åŸŸå†…å£°æ˜å˜é‡ã€‚ä¸ä¼šè¢«æå‡ã€‚\n- `const`: ä¸ `let` ç±»ä¼¼ï¼Œä½†åœ¨å£°æ˜æ—¶å¿…é¡»åˆå§‹åŒ–ï¼Œå¹¶ä¸”å€¼ä¸èƒ½æ”¹å˜ã€‚\n\n```ts\nvar price = 100;\nprice = 200; // 200ï¼Œ å¯ä»¥æ­£å¸¸ä¿®æ”¹\n\nlet a = 1;\na = 2; // 2ï¼Œ å¯ä»¥æ­£å¸¸ä¿®æ”¹\n\nconst b = \"name\";\nb = \"age\"; // Assignment to constant variable. å¸¸é‡ä¸èƒ½è¢«ä¿®æ”¹\n```\n\n### å˜é‡æå‡\n\nJavaScript ä¸­çš„å˜é‡æå‡æ˜¯æŒ‡å˜é‡å£°æ˜ä¼šè¢«æå‡åˆ°å½“å‰ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œä½†ä»…é™äºå£°æ˜æœ¬èº«ï¼Œè€Œä¸åŒ…æ‹¬åˆå§‹åŒ–ã€‚\n\n```ts\nconsole.log(x); // è¾“å‡º: undefined\nvar x = 5;\n\nconsole.log(y); // è¾“å‡º: ReferenceError: y is not defined\nlet y = 10;\n\nconsole.log(z); // è¾“å‡º: ReferenceError: z is not defined\nconst z = 15;\n```\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š\n\n- `var x` çš„å£°æ˜è¢«æå‡åˆ°äº†ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œå› æ­¤ `x` åœ¨ä½¿ç”¨å‰å°±å·²ç»å­˜åœ¨ï¼Œä½†å®ƒçš„åˆå§‹åŒ–æ²¡æœ‰è¢«æå‡ï¼Œæ‰€ä»¥è¾“å‡º `undefined`ã€‚\n- `let y` å’Œ `const z` çš„å£°æ˜éƒ½æ²¡æœ‰è¢«æå‡ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨å‰è®¿é—®å®ƒä»¬ä¼šå¯¼è‡´ `ReferenceError`ã€‚\n\nç°åœ¨å·²ç»æŠŠ`let, const, var`çš„åŒºåˆ«ä»¥åŠå˜é‡å¦‚ä½•æå‡çš„å·²ç»è¯´å®Œäº†ï¼Œä½†æ˜¯ä¹‹å‰è¯´åˆ°äº†`function`ï¼Œè¿™é‡Œä¸ºä»€ä¹ˆè¦è¯´`function`è¿™ä¸å˜é‡æå‡æœ‰ä»€ä¹ˆè”ç³»å‘¢ï¼Ÿ\n\nè¦æƒ³è§£é‡Š`function`å˜é‡æå‡ï¼Œé‚£ä¹ˆå°±è¦æ¥å•äº†è§£èƒ°ä¸€ä¸‹`function`\n\n- å‡½æ•°å£°æ˜ (`function foo() {}`) ä¼šè¿›è¡Œå®Œæ•´çš„æå‡ï¼Œå³å£°æ˜å’Œåˆå§‹åŒ–éƒ½ä¼šè¢«æå‡ã€‚\n- å‡½æ•°è¡¨è¾¾å¼ (`var bar = function() {};`) åªæœ‰å˜é‡å£°æ˜è¢«æå‡ï¼Œå‡½æ•°åˆå§‹åŒ–éƒ¨åˆ†ä¸æå‡ã€‚\n\n```ts\nconsole.log(foo()); // è¾“å‡º: \"Hello\"\nfunction foo() {\n\treturn \"Hello\";\n}\n\nconsole.log(bar()); // è¾“å‡º: TypeError: bar is not a function\nvar bar = function () {\n\treturn \"World\";\n};\n```\n\nå¦‚æœå¯¹å…¶è¿˜æ˜¯æ¨¡ç³Šä¸æ¸…ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹å›¾ç‰‡ä¾¿äºç†è§£ï¼š\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/2024-08-16-1141.7ax4zo6imu.webp)\n","slug":"æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/å˜é‡æå‡","published":1,"updated":"2025-03-13T10:16:18.989Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j4005ufg9m6irxc4r4","content":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>åœ¨ JavaScript ä¸­ï¼Œ<code>let</code>, <code>const</code>, å’Œ<code> var</code> ç”¨äºå£°æ˜å˜é‡ï¼Œè€Œ f<code>unction</code> ç”¨äºå®šä¹‰å‡½æ•°ã€‚å®ƒä»¬ä¹‹é—´å­˜åœ¨ä¸€äº›é‡è¦çš„åŒºåˆ«ï¼Œå°¤å…¶æ˜¯åœ¨ä½œç”¨åŸŸå’Œå˜é‡æå‡æ–¹é¢ã€‚</p>\n<p>åœ¨è¯´æ˜å˜é‡æå‡ä¹‹å‰ï¼Œå…ˆç†è§£ä¸€ä¸‹ä¸‰è€…çš„åŒºåˆ«</p>\n<h3 id=\"åŒºåˆ«\"><a href=\"#åŒºåˆ«\" class=\"headerlink\" title=\"åŒºåˆ«\"></a>åŒºåˆ«</h3><ul>\n<li><code>var</code>: åœ¨å‡½æ•°æˆ–å…¨å±€èŒƒå›´å†…å£°æ˜å˜é‡ã€‚æ‰€æœ‰ç”¨ <code>var</code> å£°æ˜çš„å˜é‡éƒ½ä¼šè¢«æå‡åˆ°å½“å‰ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚</li>\n<li><code>let</code>: åœ¨å—çº§ä½œç”¨åŸŸå†…å£°æ˜å˜é‡ã€‚ä¸ä¼šè¢«æå‡ã€‚</li>\n<li><code>const</code>: ä¸ <code>let</code> ç±»ä¼¼ï¼Œä½†åœ¨å£°æ˜æ—¶å¿…é¡»åˆå§‹åŒ–ï¼Œå¹¶ä¸”å€¼ä¸èƒ½æ”¹å˜ã€‚</li>\n</ul>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> price = <span class=\"number\">100</span>;</span><br><span class=\"line\">price = <span class=\"number\">200</span>; <span class=\"comment\">// 200ï¼Œ å¯ä»¥æ­£å¸¸ä¿®æ”¹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\">a = <span class=\"number\">2</span>; <span class=\"comment\">// 2ï¼Œ å¯ä»¥æ­£å¸¸ä¿®æ”¹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> b = <span class=\"string\">&quot;name&quot;</span>;</span><br><span class=\"line\">b = <span class=\"string\">&quot;age&quot;</span>; <span class=\"comment\">// Assignment to constant variable. å¸¸é‡ä¸èƒ½è¢«ä¿®æ”¹</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å˜é‡æå‡\"><a href=\"#å˜é‡æå‡\" class=\"headerlink\" title=\"å˜é‡æå‡\"></a>å˜é‡æå‡</h3><p>JavaScript ä¸­çš„å˜é‡æå‡æ˜¯æŒ‡å˜é‡å£°æ˜ä¼šè¢«æå‡åˆ°å½“å‰ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œä½†ä»…é™äºå£°æ˜æœ¬èº«ï¼Œè€Œä¸åŒ…æ‹¬åˆå§‹åŒ–ã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(x); <span class=\"comment\">// è¾“å‡º: undefined</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> x = <span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(y); <span class=\"comment\">// è¾“å‡º: ReferenceError: y is not defined</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> y = <span class=\"number\">10</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(z); <span class=\"comment\">// è¾“å‡º: ReferenceError: z is not defined</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> z = <span class=\"number\">15</span>;</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>\n<ul>\n<li><code>var x</code> çš„å£°æ˜è¢«æå‡åˆ°äº†ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œå› æ­¤ <code>x</code> åœ¨ä½¿ç”¨å‰å°±å·²ç»å­˜åœ¨ï¼Œä½†å®ƒçš„åˆå§‹åŒ–æ²¡æœ‰è¢«æå‡ï¼Œæ‰€ä»¥è¾“å‡º <code>undefined</code>ã€‚</li>\n<li><code>let y</code> å’Œ <code>const z</code> çš„å£°æ˜éƒ½æ²¡æœ‰è¢«æå‡ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨å‰è®¿é—®å®ƒä»¬ä¼šå¯¼è‡´ <code>ReferenceError</code>ã€‚</li>\n</ul>\n<p>ç°åœ¨å·²ç»æŠŠ<code>let, const, var</code>çš„åŒºåˆ«ä»¥åŠå˜é‡å¦‚ä½•æå‡çš„å·²ç»è¯´å®Œäº†ï¼Œä½†æ˜¯ä¹‹å‰è¯´åˆ°äº†<code>function</code>ï¼Œè¿™é‡Œä¸ºä»€ä¹ˆè¦è¯´<code>function</code>è¿™ä¸å˜é‡æå‡æœ‰ä»€ä¹ˆè”ç³»å‘¢ï¼Ÿ</p>\n<p>è¦æƒ³è§£é‡Š<code>function</code>å˜é‡æå‡ï¼Œé‚£ä¹ˆå°±è¦æ¥å•äº†è§£èƒ°ä¸€ä¸‹<code>function</code></p>\n<ul>\n<li>å‡½æ•°å£°æ˜ (<code>function foo() &#123;&#125;</code>) ä¼šè¿›è¡Œå®Œæ•´çš„æå‡ï¼Œå³å£°æ˜å’Œåˆå§‹åŒ–éƒ½ä¼šè¢«æå‡ã€‚</li>\n<li>å‡½æ•°è¡¨è¾¾å¼ (<code>var bar = function() &#123;&#125;;</code>) åªæœ‰å˜é‡å£°æ˜è¢«æå‡ï¼Œå‡½æ•°åˆå§‹åŒ–éƒ¨åˆ†ä¸æå‡ã€‚</li>\n</ul>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">foo</span>()); <span class=\"comment\">// è¾“å‡º: &quot;Hello&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;Hello&quot;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">bar</span>()); <span class=\"comment\">// è¾“å‡º: TypeError: bar is not a function</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> bar = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;World&quot;</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœå¯¹å…¶è¿˜æ˜¯æ¨¡ç³Šä¸æ¸…ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹å›¾ç‰‡ä¾¿äºç†è§£ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/2024-08-16-1141.7ax4zo6imu.webp\" alt=\"x\"></p>\n","excerpt":"","more":"<h1 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h1><p>åœ¨ JavaScript ä¸­ï¼Œ<code>let</code>, <code>const</code>, å’Œ<code> var</code> ç”¨äºå£°æ˜å˜é‡ï¼Œè€Œ f<code>unction</code> ç”¨äºå®šä¹‰å‡½æ•°ã€‚å®ƒä»¬ä¹‹é—´å­˜åœ¨ä¸€äº›é‡è¦çš„åŒºåˆ«ï¼Œå°¤å…¶æ˜¯åœ¨ä½œç”¨åŸŸå’Œå˜é‡æå‡æ–¹é¢ã€‚</p>\n<p>åœ¨è¯´æ˜å˜é‡æå‡ä¹‹å‰ï¼Œå…ˆç†è§£ä¸€ä¸‹ä¸‰è€…çš„åŒºåˆ«</p>\n<h3 id=\"åŒºåˆ«\"><a href=\"#åŒºåˆ«\" class=\"headerlink\" title=\"åŒºåˆ«\"></a>åŒºåˆ«</h3><ul>\n<li><code>var</code>: åœ¨å‡½æ•°æˆ–å…¨å±€èŒƒå›´å†…å£°æ˜å˜é‡ã€‚æ‰€æœ‰ç”¨ <code>var</code> å£°æ˜çš„å˜é‡éƒ½ä¼šè¢«æå‡åˆ°å½“å‰ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚</li>\n<li><code>let</code>: åœ¨å—çº§ä½œç”¨åŸŸå†…å£°æ˜å˜é‡ã€‚ä¸ä¼šè¢«æå‡ã€‚</li>\n<li><code>const</code>: ä¸ <code>let</code> ç±»ä¼¼ï¼Œä½†åœ¨å£°æ˜æ—¶å¿…é¡»åˆå§‹åŒ–ï¼Œå¹¶ä¸”å€¼ä¸èƒ½æ”¹å˜ã€‚</li>\n</ul>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> price = <span class=\"number\">100</span>;</span><br><span class=\"line\">price = <span class=\"number\">200</span>; <span class=\"comment\">// 200ï¼Œ å¯ä»¥æ­£å¸¸ä¿®æ”¹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\">a = <span class=\"number\">2</span>; <span class=\"comment\">// 2ï¼Œ å¯ä»¥æ­£å¸¸ä¿®æ”¹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> b = <span class=\"string\">&quot;name&quot;</span>;</span><br><span class=\"line\">b = <span class=\"string\">&quot;age&quot;</span>; <span class=\"comment\">// Assignment to constant variable. å¸¸é‡ä¸èƒ½è¢«ä¿®æ”¹</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å˜é‡æå‡\"><a href=\"#å˜é‡æå‡\" class=\"headerlink\" title=\"å˜é‡æå‡\"></a>å˜é‡æå‡</h3><p>JavaScript ä¸­çš„å˜é‡æå‡æ˜¯æŒ‡å˜é‡å£°æ˜ä¼šè¢«æå‡åˆ°å½“å‰ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œä½†ä»…é™äºå£°æ˜æœ¬èº«ï¼Œè€Œä¸åŒ…æ‹¬åˆå§‹åŒ–ã€‚</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(x); <span class=\"comment\">// è¾“å‡º: undefined</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> x = <span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(y); <span class=\"comment\">// è¾“å‡º: ReferenceError: y is not defined</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> y = <span class=\"number\">10</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(z); <span class=\"comment\">// è¾“å‡º: ReferenceError: z is not defined</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> z = <span class=\"number\">15</span>;</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>\n<ul>\n<li><code>var x</code> çš„å£°æ˜è¢«æå‡åˆ°äº†ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œå› æ­¤ <code>x</code> åœ¨ä½¿ç”¨å‰å°±å·²ç»å­˜åœ¨ï¼Œä½†å®ƒçš„åˆå§‹åŒ–æ²¡æœ‰è¢«æå‡ï¼Œæ‰€ä»¥è¾“å‡º <code>undefined</code>ã€‚</li>\n<li><code>let y</code> å’Œ <code>const z</code> çš„å£°æ˜éƒ½æ²¡æœ‰è¢«æå‡ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨å‰è®¿é—®å®ƒä»¬ä¼šå¯¼è‡´ <code>ReferenceError</code>ã€‚</li>\n</ul>\n<p>ç°åœ¨å·²ç»æŠŠ<code>let, const, var</code>çš„åŒºåˆ«ä»¥åŠå˜é‡å¦‚ä½•æå‡çš„å·²ç»è¯´å®Œäº†ï¼Œä½†æ˜¯ä¹‹å‰è¯´åˆ°äº†<code>function</code>ï¼Œè¿™é‡Œä¸ºä»€ä¹ˆè¦è¯´<code>function</code>è¿™ä¸å˜é‡æå‡æœ‰ä»€ä¹ˆè”ç³»å‘¢ï¼Ÿ</p>\n<p>è¦æƒ³è§£é‡Š<code>function</code>å˜é‡æå‡ï¼Œé‚£ä¹ˆå°±è¦æ¥å•äº†è§£èƒ°ä¸€ä¸‹<code>function</code></p>\n<ul>\n<li>å‡½æ•°å£°æ˜ (<code>function foo() &#123;&#125;</code>) ä¼šè¿›è¡Œå®Œæ•´çš„æå‡ï¼Œå³å£°æ˜å’Œåˆå§‹åŒ–éƒ½ä¼šè¢«æå‡ã€‚</li>\n<li>å‡½æ•°è¡¨è¾¾å¼ (<code>var bar = function() &#123;&#125;;</code>) åªæœ‰å˜é‡å£°æ˜è¢«æå‡ï¼Œå‡½æ•°åˆå§‹åŒ–éƒ¨åˆ†ä¸æå‡ã€‚</li>\n</ul>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">foo</span>()); <span class=\"comment\">// è¾“å‡º: &quot;Hello&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;Hello&quot;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">bar</span>()); <span class=\"comment\">// è¾“å‡º: TypeError: bar is not a function</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> bar = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;World&quot;</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœå¯¹å…¶è¿˜æ˜¯æ¨¡ç³Šä¸æ¸…ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹å›¾ç‰‡ä¾¿äºç†è§£ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/2024-08-16-1141.7ax4zo6imu.webp\" alt=\"x\"></p>\n"},{"title":"å†’æ³¡æ’åº","abbrlink":"14e6f1eb","date":"2024-08-14T03:20:38.000Z","_content":"\n{% note info simple %}\n`å†’æ³¡æ’åº`ï¼ˆBubble Sortï¼‰æ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ï¼Œå®ƒé‡å¤åœ°éå†è¦æ’åºçš„æ•°æ®ï¼Œæ¯”è¾ƒç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœå®ƒä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠå®ƒä»¬äº¤æ¢è¿‡æ¥ï¼Œç›´åˆ°æ²¡æœ‰éœ€è¦äº¤æ¢çš„å…ƒç´ ä¸ºæ­¢ã€‚\n{% endnote %}\n\nå†’æ³¡æ’åºçš„åŸºæœ¬æ­¥éª¤å¦‚ä¸‹ï¼š\n\n1. ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œæ¯”è¾ƒç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ å¤§äºç¬¬äºŒä¸ªå…ƒç´ ï¼Œåˆ™äº¤æ¢å®ƒä»¬ã€‚\n2. ç§»åŠ¨åˆ°ä¸‹ä¸€å¯¹ç›¸é‚»çš„å…ƒç´ ï¼Œé‡å¤æ­¥éª¤ 1ã€‚\n3. ç»§ç»­è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æœ€åä¸€å¯¹ç›¸é‚»çš„å…ƒç´ \n4. å¦‚æœåœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­æ²¡æœ‰å‘ç”Ÿä»»ä½•äº¤æ¢ï¼Œåˆ™è¯´æ˜æ•°æ®å·²ç»æ’å¥½åºã€‚\n5. å¦åˆ™ï¼Œé‡å¤æ­¥éª¤ 1-4ï¼Œç›´åˆ°æ²¡æœ‰éœ€è¦äº¤æ¢çš„å…ƒç´ ä¸ºæ­¢ã€‚\n\n## demo\n\n### ä»£ç \n\n```js\n// ä»å·¦åˆ°å³æ’åºï¼Œ\n// å®ƒçš„æ ¸å¿ƒé€»è¾‘æ˜¯ï¼šåœ¨æ¯ä¸€è½®å†’æ³¡ä¸­ï¼Œå°†å½“å‰å…ƒç´ ä¸å…¶åé¢çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå½“å‰å…ƒç´ å¤§äºåé¢çš„å…ƒç´ ï¼Œåˆ™äº¤æ¢å®ƒä»¬çš„ä½ç½®ã€‚\n// è¿™æ ·ï¼Œæ¯ä¸€è½®å†’æ³¡éƒ½ä¼šå°†æœ€å¤§çš„å…ƒç´ å†’æ³¡åˆ°æ•°ç»„çš„æœ«å°¾ã€‚\nfunction sort(data = []) {\n\tfor (let i = 0; i < data.length; i++) {\n\t\tfor (let j = i + 1; j < data.length; j++) {\n\t\t\tif (data[i] > data[j]) {\n\t\t\t\t[data[i], data[j]] = [data[j], data[i]];\n\t\t\t}\n\t\t}\n\t}\n\treturn data;\n}\n\nsort([3, 5, 1, 26, 6]);\n```\n\n```js\n// ä»å³åˆ°å·¦æ’åºï¼Œ\n// å®ƒçš„æ ¸å¿ƒé€»è¾‘æ˜¯ï¼šåœ¨æ¯ä¸€è½®å†’æ³¡ä¸­ï¼Œå°†å½“å‰å…ƒç´ ä¸å‰é¢çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå½“å‰å…ƒç´ å°äºå‰é¢çš„å…ƒç´ ï¼Œåˆ™äº¤æ¢å®ƒä»¬çš„ä½ç½®ã€‚\n// è¿™æ ·ï¼Œæ¯ä¸€è½®å†’æ³¡éƒ½ä¼šå°†æœ€å°çš„å…ƒç´ å†’æ³¡åˆ°æ•°ç»„çš„å¼€å¤´ã€‚\nfunction sort(data = []) {\n\tfor (let i = 0; i < data.length - 1; i++) {\n\t\tfor (let j = 0; j < data.length - 1 - i; j++) {\n\t\t\tif (data[j + 1] < data[i]) {\n\t\t\t\t[data[j], data[j + 1]] = [data[j + 1], data[j]];\n\t\t\t}\n\t\t}\n\t}\n\treturn data;\n}\nsort([3, 5, 1, 26, 6]);\n```\n\n### å¯è§†åŒ–\n\n<demo html=\"html/å†’æ³¡æ’åº.html\"/>\n\n## ä¼˜ç¼ºç‚¹\n\nå†’æ³¡æ’åºçš„ç‰¹ç‚¹æ˜¯ï¼š\n\n- ç®€å•æ˜“æ‡‚\n- å®ç°å®¹æ˜“\n- æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ï¼Œä¸é€‚åˆå¤§è§„æ¨¡çš„æ•°æ®æ’åº\n- ç©ºé—´å¤æ‚åº¦ä¸º O(1)ï¼Œä¸éœ€è¦é¢å¤–çš„ç©ºé—´\n\nå†’æ³¡æ’åºçš„ç¼ºç‚¹æ˜¯ï¼š\n\n- æ—¶é—´å¤æ‚åº¦é«˜\n- ä¸é€‚åˆå¤§è§„æ¨¡çš„æ•°æ®æ’åº\n- ä¸ç¨³å®šæ’åºç®—æ³•ï¼ˆå¦‚æœä¸¤ä¸ªå…ƒç´ ç›¸ç­‰ï¼Œå¯èƒ½ä¼šäº¤æ¢å®ƒä»¬çš„ä½ç½®ï¼‰\n\nå†’æ³¡æ’åºçš„åº”ç”¨åœºæ™¯ï¼š\n\n- å°è§„æ¨¡çš„æ•°æ®æ’åº\n- éœ€è¦ç®€å•æ˜“æ‡‚çš„æ’åºç®—æ³•\n- ä¸éœ€è¦é«˜æ•ˆçš„æ’åºç®—æ³•\n","source":"_posts/æŠ€èƒ½å°å†Œ/javascript/ç®—æ³•/å†’æ³¡æ’åº.md","raw":"---\ntitle: å†’æ³¡æ’åº\nabbrlink: 14e6f1eb\ndate: 2024-08-14 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - JavaScript \n---\n\n{% note info simple %}\n`å†’æ³¡æ’åº`ï¼ˆBubble Sortï¼‰æ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ï¼Œå®ƒé‡å¤åœ°éå†è¦æ’åºçš„æ•°æ®ï¼Œæ¯”è¾ƒç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœå®ƒä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠå®ƒä»¬äº¤æ¢è¿‡æ¥ï¼Œç›´åˆ°æ²¡æœ‰éœ€è¦äº¤æ¢çš„å…ƒç´ ä¸ºæ­¢ã€‚\n{% endnote %}\n\nå†’æ³¡æ’åºçš„åŸºæœ¬æ­¥éª¤å¦‚ä¸‹ï¼š\n\n1. ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œæ¯”è¾ƒç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ å¤§äºç¬¬äºŒä¸ªå…ƒç´ ï¼Œåˆ™äº¤æ¢å®ƒä»¬ã€‚\n2. ç§»åŠ¨åˆ°ä¸‹ä¸€å¯¹ç›¸é‚»çš„å…ƒç´ ï¼Œé‡å¤æ­¥éª¤ 1ã€‚\n3. ç»§ç»­è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æœ€åä¸€å¯¹ç›¸é‚»çš„å…ƒç´ \n4. å¦‚æœåœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­æ²¡æœ‰å‘ç”Ÿä»»ä½•äº¤æ¢ï¼Œåˆ™è¯´æ˜æ•°æ®å·²ç»æ’å¥½åºã€‚\n5. å¦åˆ™ï¼Œé‡å¤æ­¥éª¤ 1-4ï¼Œç›´åˆ°æ²¡æœ‰éœ€è¦äº¤æ¢çš„å…ƒç´ ä¸ºæ­¢ã€‚\n\n## demo\n\n### ä»£ç \n\n```js\n// ä»å·¦åˆ°å³æ’åºï¼Œ\n// å®ƒçš„æ ¸å¿ƒé€»è¾‘æ˜¯ï¼šåœ¨æ¯ä¸€è½®å†’æ³¡ä¸­ï¼Œå°†å½“å‰å…ƒç´ ä¸å…¶åé¢çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå½“å‰å…ƒç´ å¤§äºåé¢çš„å…ƒç´ ï¼Œåˆ™äº¤æ¢å®ƒä»¬çš„ä½ç½®ã€‚\n// è¿™æ ·ï¼Œæ¯ä¸€è½®å†’æ³¡éƒ½ä¼šå°†æœ€å¤§çš„å…ƒç´ å†’æ³¡åˆ°æ•°ç»„çš„æœ«å°¾ã€‚\nfunction sort(data = []) {\n\tfor (let i = 0; i < data.length; i++) {\n\t\tfor (let j = i + 1; j < data.length; j++) {\n\t\t\tif (data[i] > data[j]) {\n\t\t\t\t[data[i], data[j]] = [data[j], data[i]];\n\t\t\t}\n\t\t}\n\t}\n\treturn data;\n}\n\nsort([3, 5, 1, 26, 6]);\n```\n\n```js\n// ä»å³åˆ°å·¦æ’åºï¼Œ\n// å®ƒçš„æ ¸å¿ƒé€»è¾‘æ˜¯ï¼šåœ¨æ¯ä¸€è½®å†’æ³¡ä¸­ï¼Œå°†å½“å‰å…ƒç´ ä¸å‰é¢çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå½“å‰å…ƒç´ å°äºå‰é¢çš„å…ƒç´ ï¼Œåˆ™äº¤æ¢å®ƒä»¬çš„ä½ç½®ã€‚\n// è¿™æ ·ï¼Œæ¯ä¸€è½®å†’æ³¡éƒ½ä¼šå°†æœ€å°çš„å…ƒç´ å†’æ³¡åˆ°æ•°ç»„çš„å¼€å¤´ã€‚\nfunction sort(data = []) {\n\tfor (let i = 0; i < data.length - 1; i++) {\n\t\tfor (let j = 0; j < data.length - 1 - i; j++) {\n\t\t\tif (data[j + 1] < data[i]) {\n\t\t\t\t[data[j], data[j + 1]] = [data[j + 1], data[j]];\n\t\t\t}\n\t\t}\n\t}\n\treturn data;\n}\nsort([3, 5, 1, 26, 6]);\n```\n\n### å¯è§†åŒ–\n\n<demo html=\"html/å†’æ³¡æ’åº.html\"/>\n\n## ä¼˜ç¼ºç‚¹\n\nå†’æ³¡æ’åºçš„ç‰¹ç‚¹æ˜¯ï¼š\n\n- ç®€å•æ˜“æ‡‚\n- å®ç°å®¹æ˜“\n- æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ï¼Œä¸é€‚åˆå¤§è§„æ¨¡çš„æ•°æ®æ’åº\n- ç©ºé—´å¤æ‚åº¦ä¸º O(1)ï¼Œä¸éœ€è¦é¢å¤–çš„ç©ºé—´\n\nå†’æ³¡æ’åºçš„ç¼ºç‚¹æ˜¯ï¼š\n\n- æ—¶é—´å¤æ‚åº¦é«˜\n- ä¸é€‚åˆå¤§è§„æ¨¡çš„æ•°æ®æ’åº\n- ä¸ç¨³å®šæ’åºç®—æ³•ï¼ˆå¦‚æœä¸¤ä¸ªå…ƒç´ ç›¸ç­‰ï¼Œå¯èƒ½ä¼šäº¤æ¢å®ƒä»¬çš„ä½ç½®ï¼‰\n\nå†’æ³¡æ’åºçš„åº”ç”¨åœºæ™¯ï¼š\n\n- å°è§„æ¨¡çš„æ•°æ®æ’åº\n- éœ€è¦ç®€å•æ˜“æ‡‚çš„æ’åºç®—æ³•\n- ä¸éœ€è¦é«˜æ•ˆçš„æ’åºç®—æ³•\n","slug":"æŠ€èƒ½å°å†Œ/javascript/ç®—æ³•/å†’æ³¡æ’åº","published":1,"updated":"2025-03-12T09:24:20.284Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j4005xfg9mghpgdqug","content":"<div class=\"note info simple\"><p><code>å†’æ³¡æ’åº</code>ï¼ˆBubble Sortï¼‰æ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ï¼Œå®ƒé‡å¤åœ°éå†è¦æ’åºçš„æ•°æ®ï¼Œæ¯”è¾ƒç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœå®ƒä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠå®ƒä»¬äº¤æ¢è¿‡æ¥ï¼Œç›´åˆ°æ²¡æœ‰éœ€è¦äº¤æ¢çš„å…ƒç´ ä¸ºæ­¢ã€‚</p>\n</div>\n\n<p>å†’æ³¡æ’åºçš„åŸºæœ¬æ­¥éª¤å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œæ¯”è¾ƒç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ å¤§äºç¬¬äºŒä¸ªå…ƒç´ ï¼Œåˆ™äº¤æ¢å®ƒä»¬ã€‚</li>\n<li>ç§»åŠ¨åˆ°ä¸‹ä¸€å¯¹ç›¸é‚»çš„å…ƒç´ ï¼Œé‡å¤æ­¥éª¤ 1ã€‚</li>\n<li>ç»§ç»­è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æœ€åä¸€å¯¹ç›¸é‚»çš„å…ƒç´ </li>\n<li>å¦‚æœåœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­æ²¡æœ‰å‘ç”Ÿä»»ä½•äº¤æ¢ï¼Œåˆ™è¯´æ˜æ•°æ®å·²ç»æ’å¥½åºã€‚</li>\n<li>å¦åˆ™ï¼Œé‡å¤æ­¥éª¤ 1-4ï¼Œç›´åˆ°æ²¡æœ‰éœ€è¦äº¤æ¢çš„å…ƒç´ ä¸ºæ­¢ã€‚</li>\n</ol>\n<h2 id=\"demo\"><a href=\"#demo\" class=\"headerlink\" title=\"demo\"></a>demo</h2><h3 id=\"ä»£ç \"><a href=\"#ä»£ç \" class=\"headerlink\" title=\"ä»£ç \"></a>ä»£ç </h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä»å·¦åˆ°å³æ’åºï¼Œ</span></span><br><span class=\"line\"><span class=\"comment\">// å®ƒçš„æ ¸å¿ƒé€»è¾‘æ˜¯ï¼šåœ¨æ¯ä¸€è½®å†’æ³¡ä¸­ï¼Œå°†å½“å‰å…ƒç´ ä¸å…¶åé¢çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå½“å‰å…ƒç´ å¤§äºåé¢çš„å…ƒç´ ï¼Œåˆ™äº¤æ¢å®ƒä»¬çš„ä½ç½®ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">// è¿™æ ·ï¼Œæ¯ä¸€è½®å†’æ³¡éƒ½ä¼šå°†æœ€å¤§çš„å…ƒç´ å†’æ³¡åˆ°æ•°ç»„çš„æœ«å°¾ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">sort</span>(<span class=\"params\">data = []</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; data.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = i + <span class=\"number\">1</span>; j &lt; data.<span class=\"property\">length</span>; j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (data[i] &gt; data[j]) &#123;</span><br><span class=\"line\">\t\t\t\t[data[i], data[j]] = [data[j], data[i]];</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">sort</span>([<span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">1</span>, <span class=\"number\">26</span>, <span class=\"number\">6</span>]);</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä»å³åˆ°å·¦æ’åºï¼Œ</span></span><br><span class=\"line\"><span class=\"comment\">// å®ƒçš„æ ¸å¿ƒé€»è¾‘æ˜¯ï¼šåœ¨æ¯ä¸€è½®å†’æ³¡ä¸­ï¼Œå°†å½“å‰å…ƒç´ ä¸å‰é¢çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå½“å‰å…ƒç´ å°äºå‰é¢çš„å…ƒç´ ï¼Œåˆ™äº¤æ¢å®ƒä»¬çš„ä½ç½®ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">// è¿™æ ·ï¼Œæ¯ä¸€è½®å†’æ³¡éƒ½ä¼šå°†æœ€å°çš„å…ƒç´ å†’æ³¡åˆ°æ•°ç»„çš„å¼€å¤´ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">sort</span>(<span class=\"params\">data = []</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; data.<span class=\"property\">length</span> - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; data.<span class=\"property\">length</span> - <span class=\"number\">1</span> - i; j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (data[j + <span class=\"number\">1</span>] &lt; data[i]) &#123;</span><br><span class=\"line\">\t\t\t\t[data[j], data[j + <span class=\"number\">1</span>]] = [data[j + <span class=\"number\">1</span>], data[j]];</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">sort</span>([<span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">1</span>, <span class=\"number\">26</span>, <span class=\"number\">6</span>]);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¯è§†åŒ–\"><a href=\"#å¯è§†åŒ–\" class=\"headerlink\" title=\"å¯è§†åŒ–\"></a>å¯è§†åŒ–</h3><demo html=\"html/å†’æ³¡æ’åº.html\"/>\n\n<h2 id=\"ä¼˜ç¼ºç‚¹\"><a href=\"#ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ä¼˜ç¼ºç‚¹\"></a>ä¼˜ç¼ºç‚¹</h2><p>å†’æ³¡æ’åºçš„ç‰¹ç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>ç®€å•æ˜“æ‡‚</li>\n<li>å®ç°å®¹æ˜“</li>\n<li>æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ï¼Œä¸é€‚åˆå¤§è§„æ¨¡çš„æ•°æ®æ’åº</li>\n<li>ç©ºé—´å¤æ‚åº¦ä¸º O(1)ï¼Œä¸éœ€è¦é¢å¤–çš„ç©ºé—´</li>\n</ul>\n<p>å†’æ³¡æ’åºçš„ç¼ºç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>æ—¶é—´å¤æ‚åº¦é«˜</li>\n<li>ä¸é€‚åˆå¤§è§„æ¨¡çš„æ•°æ®æ’åº</li>\n<li>ä¸ç¨³å®šæ’åºç®—æ³•ï¼ˆå¦‚æœä¸¤ä¸ªå…ƒç´ ç›¸ç­‰ï¼Œå¯èƒ½ä¼šäº¤æ¢å®ƒä»¬çš„ä½ç½®ï¼‰</li>\n</ul>\n<p>å†’æ³¡æ’åºçš„åº”ç”¨åœºæ™¯ï¼š</p>\n<ul>\n<li>å°è§„æ¨¡çš„æ•°æ®æ’åº</li>\n<li>éœ€è¦ç®€å•æ˜“æ‡‚çš„æ’åºç®—æ³•</li>\n<li>ä¸éœ€è¦é«˜æ•ˆçš„æ’åºç®—æ³•</li>\n</ul>\n","excerpt":"","more":"<div class=\"note info simple\"><p><code>å†’æ³¡æ’åº</code>ï¼ˆBubble Sortï¼‰æ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ï¼Œå®ƒé‡å¤åœ°éå†è¦æ’åºçš„æ•°æ®ï¼Œæ¯”è¾ƒç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœå®ƒä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠå®ƒä»¬äº¤æ¢è¿‡æ¥ï¼Œç›´åˆ°æ²¡æœ‰éœ€è¦äº¤æ¢çš„å…ƒç´ ä¸ºæ­¢ã€‚</p>\n</div>\n\n<p>å†’æ³¡æ’åºçš„åŸºæœ¬æ­¥éª¤å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œæ¯”è¾ƒç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ å¤§äºç¬¬äºŒä¸ªå…ƒç´ ï¼Œåˆ™äº¤æ¢å®ƒä»¬ã€‚</li>\n<li>ç§»åŠ¨åˆ°ä¸‹ä¸€å¯¹ç›¸é‚»çš„å…ƒç´ ï¼Œé‡å¤æ­¥éª¤ 1ã€‚</li>\n<li>ç»§ç»­è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æœ€åä¸€å¯¹ç›¸é‚»çš„å…ƒç´ </li>\n<li>å¦‚æœåœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­æ²¡æœ‰å‘ç”Ÿä»»ä½•äº¤æ¢ï¼Œåˆ™è¯´æ˜æ•°æ®å·²ç»æ’å¥½åºã€‚</li>\n<li>å¦åˆ™ï¼Œé‡å¤æ­¥éª¤ 1-4ï¼Œç›´åˆ°æ²¡æœ‰éœ€è¦äº¤æ¢çš„å…ƒç´ ä¸ºæ­¢ã€‚</li>\n</ol>\n<h2 id=\"demo\"><a href=\"#demo\" class=\"headerlink\" title=\"demo\"></a>demo</h2><h3 id=\"ä»£ç \"><a href=\"#ä»£ç \" class=\"headerlink\" title=\"ä»£ç \"></a>ä»£ç </h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä»å·¦åˆ°å³æ’åºï¼Œ</span></span><br><span class=\"line\"><span class=\"comment\">// å®ƒçš„æ ¸å¿ƒé€»è¾‘æ˜¯ï¼šåœ¨æ¯ä¸€è½®å†’æ³¡ä¸­ï¼Œå°†å½“å‰å…ƒç´ ä¸å…¶åé¢çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå½“å‰å…ƒç´ å¤§äºåé¢çš„å…ƒç´ ï¼Œåˆ™äº¤æ¢å®ƒä»¬çš„ä½ç½®ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">// è¿™æ ·ï¼Œæ¯ä¸€è½®å†’æ³¡éƒ½ä¼šå°†æœ€å¤§çš„å…ƒç´ å†’æ³¡åˆ°æ•°ç»„çš„æœ«å°¾ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">sort</span>(<span class=\"params\">data = []</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; data.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = i + <span class=\"number\">1</span>; j &lt; data.<span class=\"property\">length</span>; j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (data[i] &gt; data[j]) &#123;</span><br><span class=\"line\">\t\t\t\t[data[i], data[j]] = [data[j], data[i]];</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">sort</span>([<span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">1</span>, <span class=\"number\">26</span>, <span class=\"number\">6</span>]);</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä»å³åˆ°å·¦æ’åºï¼Œ</span></span><br><span class=\"line\"><span class=\"comment\">// å®ƒçš„æ ¸å¿ƒé€»è¾‘æ˜¯ï¼šåœ¨æ¯ä¸€è½®å†’æ³¡ä¸­ï¼Œå°†å½“å‰å…ƒç´ ä¸å‰é¢çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå½“å‰å…ƒç´ å°äºå‰é¢çš„å…ƒç´ ï¼Œåˆ™äº¤æ¢å®ƒä»¬çš„ä½ç½®ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">// è¿™æ ·ï¼Œæ¯ä¸€è½®å†’æ³¡éƒ½ä¼šå°†æœ€å°çš„å…ƒç´ å†’æ³¡åˆ°æ•°ç»„çš„å¼€å¤´ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">sort</span>(<span class=\"params\">data = []</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; data.<span class=\"property\">length</span> - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; data.<span class=\"property\">length</span> - <span class=\"number\">1</span> - i; j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (data[j + <span class=\"number\">1</span>] &lt; data[i]) &#123;</span><br><span class=\"line\">\t\t\t\t[data[j], data[j + <span class=\"number\">1</span>]] = [data[j + <span class=\"number\">1</span>], data[j]];</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">sort</span>([<span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">1</span>, <span class=\"number\">26</span>, <span class=\"number\">6</span>]);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¯è§†åŒ–\"><a href=\"#å¯è§†åŒ–\" class=\"headerlink\" title=\"å¯è§†åŒ–\"></a>å¯è§†åŒ–</h3><demo html=\"html/å†’æ³¡æ’åº.html\"/>\n\n<h2 id=\"ä¼˜ç¼ºç‚¹\"><a href=\"#ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ä¼˜ç¼ºç‚¹\"></a>ä¼˜ç¼ºç‚¹</h2><p>å†’æ³¡æ’åºçš„ç‰¹ç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>ç®€å•æ˜“æ‡‚</li>\n<li>å®ç°å®¹æ˜“</li>\n<li>æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ï¼Œä¸é€‚åˆå¤§è§„æ¨¡çš„æ•°æ®æ’åº</li>\n<li>ç©ºé—´å¤æ‚åº¦ä¸º O(1)ï¼Œä¸éœ€è¦é¢å¤–çš„ç©ºé—´</li>\n</ul>\n<p>å†’æ³¡æ’åºçš„ç¼ºç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>æ—¶é—´å¤æ‚åº¦é«˜</li>\n<li>ä¸é€‚åˆå¤§è§„æ¨¡çš„æ•°æ®æ’åº</li>\n<li>ä¸ç¨³å®šæ’åºç®—æ³•ï¼ˆå¦‚æœä¸¤ä¸ªå…ƒç´ ç›¸ç­‰ï¼Œå¯èƒ½ä¼šäº¤æ¢å®ƒä»¬çš„ä½ç½®ï¼‰</li>\n</ul>\n<p>å†’æ³¡æ’åºçš„åº”ç”¨åœºæ™¯ï¼š</p>\n<ul>\n<li>å°è§„æ¨¡çš„æ•°æ®æ’åº</li>\n<li>éœ€è¦ç®€å•æ˜“æ‡‚çš„æ’åºç®—æ³•</li>\n<li>ä¸éœ€è¦é«˜æ•ˆçš„æ’åºç®—æ³•</li>\n</ul>\n"},{"title":"call,applyå’Œbind","abbrlink":"a4ad09f4","date":"2023-07-15T03:20:38.000Z","_content":"\n\n{% note info simple %}\nåœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œ`call, apply, bind`æ˜¯ js ä¸‰ä¸ªé‡è¦çš„æ–¹æ³•, ä¸‰è€…éƒ½æ˜¯æ”¹å˜`this`ï¼ˆå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰çš„æŒ‡å‘ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰åŒºåˆ«çš„ï¼›æˆ‘å°†ä¼šä»¥`demo`çš„å½¢å¼å±•ç¤ºä¸‰è€…çš„ä½¿ç”¨åœºæ™¯ä»¥åŠåŒºåˆ«ï¼›\nåœ¨ä¸€åŠå·¥ä½œä»»åŠ¡ä¸­è¿™ä¸‰è€…æ˜¯ä¸å¸¸ç”¨åˆ°çš„ï¼Œå¦‚æœæ‚¨çš„é¡¹ç›®æ˜¯çº¯åŸç”Ÿ js é¡¹ç›®ï¼Œé‚£ä¹ˆä½¿ç”¨åˆ°çš„å‡ ç‡å°±ä¼šå¤§å¾ˆå¤šï¼›è¿™ä¸‰è€…ä¸€èˆ¬ç”¨äºä»£ç åº•å±‚ï¼Œä¾‹å¦‚ï¼šå°è£…ï¼Œæ¡†æ¶ç­‰ç­‰ï¼›\n{% endnote %}\n\n\n## åŒºåˆ«\n\n### call\n\n> `call`:æ–¹æ³•è°ƒç”¨å‡½æ•°, æ‰§è¡Œ`this`çš„å€¼å’Œå‚æ•°ï¼›å‚æ•°å¯ä»¥ä¸ºå¤šä¸ª\n\n\n`func.call(thisArg, arg1, arg2, ...)`\n\n- **thisArg**: `this`çš„å€¼\n- **arg1, arg2, ...**: å‡½æ•°çš„å€¼\n\n### apply\n\n> `apply`: ä¸`call`ç±»ä¼¼ï¼Œä½†æ˜¯å‚æ•°æ˜¯ä»¥æ•°ç»„çš„å½¢å¼å±•ç¤º\n\n\n`func.apply(thisArg, arg1, arg2, ...)`\n\n- **thisArg**: `this`çš„å€¼\n- **argsArray**: å‡½æ•°çš„å€¼\n\n### bind\n\n> `bind`: åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼ŒæŒ‡å®š`this`çš„å€¼å’Œå‚æ•°\n\n\n`func.apply(thisArg, arg1, arg2, ...)`\n\n- **thisArg**: `this`çš„å€¼\n- **arg1, arg2, ...**: å‡½æ•°çš„å€¼\n\n## æ‰‹å†™è¿™ä¸‰ä¸ªå‡½æ•°\n\n","source":"_posts/æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/call_apply_bind.md","raw":"---\ntitle: call,applyå’Œbind\nabbrlink: a4ad09f4\ndate: 2023-07-15 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - JavaScript\n---\n\n\n{% note info simple %}\nåœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œ`call, apply, bind`æ˜¯ js ä¸‰ä¸ªé‡è¦çš„æ–¹æ³•, ä¸‰è€…éƒ½æ˜¯æ”¹å˜`this`ï¼ˆå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰çš„æŒ‡å‘ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰åŒºåˆ«çš„ï¼›æˆ‘å°†ä¼šä»¥`demo`çš„å½¢å¼å±•ç¤ºä¸‰è€…çš„ä½¿ç”¨åœºæ™¯ä»¥åŠåŒºåˆ«ï¼›\nåœ¨ä¸€åŠå·¥ä½œä»»åŠ¡ä¸­è¿™ä¸‰è€…æ˜¯ä¸å¸¸ç”¨åˆ°çš„ï¼Œå¦‚æœæ‚¨çš„é¡¹ç›®æ˜¯çº¯åŸç”Ÿ js é¡¹ç›®ï¼Œé‚£ä¹ˆä½¿ç”¨åˆ°çš„å‡ ç‡å°±ä¼šå¤§å¾ˆå¤šï¼›è¿™ä¸‰è€…ä¸€èˆ¬ç”¨äºä»£ç åº•å±‚ï¼Œä¾‹å¦‚ï¼šå°è£…ï¼Œæ¡†æ¶ç­‰ç­‰ï¼›\n{% endnote %}\n\n\n## åŒºåˆ«\n\n### call\n\n> `call`:æ–¹æ³•è°ƒç”¨å‡½æ•°, æ‰§è¡Œ`this`çš„å€¼å’Œå‚æ•°ï¼›å‚æ•°å¯ä»¥ä¸ºå¤šä¸ª\n\n\n`func.call(thisArg, arg1, arg2, ...)`\n\n- **thisArg**: `this`çš„å€¼\n- **arg1, arg2, ...**: å‡½æ•°çš„å€¼\n\n### apply\n\n> `apply`: ä¸`call`ç±»ä¼¼ï¼Œä½†æ˜¯å‚æ•°æ˜¯ä»¥æ•°ç»„çš„å½¢å¼å±•ç¤º\n\n\n`func.apply(thisArg, arg1, arg2, ...)`\n\n- **thisArg**: `this`çš„å€¼\n- **argsArray**: å‡½æ•°çš„å€¼\n\n### bind\n\n> `bind`: åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼ŒæŒ‡å®š`this`çš„å€¼å’Œå‚æ•°\n\n\n`func.apply(thisArg, arg1, arg2, ...)`\n\n- **thisArg**: `this`çš„å€¼\n- **arg1, arg2, ...**: å‡½æ•°çš„å€¼\n\n## æ‰‹å†™è¿™ä¸‰ä¸ªå‡½æ•°\n\n","slug":"æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/call_apply_bind","published":1,"updated":"2025-03-12T09:18:45.173Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j50060fg9m4edsgnvc","content":"<div class=\"note info simple\"><p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œ<code>call, apply, bind</code>æ˜¯ js ä¸‰ä¸ªé‡è¦çš„æ–¹æ³•, ä¸‰è€…éƒ½æ˜¯æ”¹å˜<code>this</code>ï¼ˆå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰çš„æŒ‡å‘ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰åŒºåˆ«çš„ï¼›æˆ‘å°†ä¼šä»¥<code>demo</code>çš„å½¢å¼å±•ç¤ºä¸‰è€…çš„ä½¿ç”¨åœºæ™¯ä»¥åŠåŒºåˆ«ï¼›<br>åœ¨ä¸€åŠå·¥ä½œä»»åŠ¡ä¸­è¿™ä¸‰è€…æ˜¯ä¸å¸¸ç”¨åˆ°çš„ï¼Œå¦‚æœæ‚¨çš„é¡¹ç›®æ˜¯çº¯åŸç”Ÿ js é¡¹ç›®ï¼Œé‚£ä¹ˆä½¿ç”¨åˆ°çš„å‡ ç‡å°±ä¼šå¤§å¾ˆå¤šï¼›è¿™ä¸‰è€…ä¸€èˆ¬ç”¨äºä»£ç åº•å±‚ï¼Œä¾‹å¦‚ï¼šå°è£…ï¼Œæ¡†æ¶ç­‰ç­‰ï¼›</p>\n</div>\n\n\n<h2 id=\"åŒºåˆ«\"><a href=\"#åŒºåˆ«\" class=\"headerlink\" title=\"åŒºåˆ«\"></a>åŒºåˆ«</h2><h3 id=\"call\"><a href=\"#call\" class=\"headerlink\" title=\"call\"></a>call</h3><blockquote>\n<p><code>call</code>:æ–¹æ³•è°ƒç”¨å‡½æ•°, æ‰§è¡Œ<code>this</code>çš„å€¼å’Œå‚æ•°ï¼›å‚æ•°å¯ä»¥ä¸ºå¤šä¸ª</p>\n</blockquote>\n<p><code>func.call(thisArg, arg1, arg2, ...)</code></p>\n<ul>\n<li><strong>thisArg</strong>: <code>this</code>çš„å€¼</li>\n<li><strong>arg1, arg2, â€¦</strong>: å‡½æ•°çš„å€¼</li>\n</ul>\n<h3 id=\"apply\"><a href=\"#apply\" class=\"headerlink\" title=\"apply\"></a>apply</h3><blockquote>\n<p><code>apply</code>: ä¸<code>call</code>ç±»ä¼¼ï¼Œä½†æ˜¯å‚æ•°æ˜¯ä»¥æ•°ç»„çš„å½¢å¼å±•ç¤º</p>\n</blockquote>\n<p><code>func.apply(thisArg, arg1, arg2, ...)</code></p>\n<ul>\n<li><strong>thisArg</strong>: <code>this</code>çš„å€¼</li>\n<li><strong>argsArray</strong>: å‡½æ•°çš„å€¼</li>\n</ul>\n<h3 id=\"bind\"><a href=\"#bind\" class=\"headerlink\" title=\"bind\"></a>bind</h3><blockquote>\n<p><code>bind</code>: åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼ŒæŒ‡å®š<code>this</code>çš„å€¼å’Œå‚æ•°</p>\n</blockquote>\n<p><code>func.apply(thisArg, arg1, arg2, ...)</code></p>\n<ul>\n<li><strong>thisArg</strong>: <code>this</code>çš„å€¼</li>\n<li><strong>arg1, arg2, â€¦</strong>: å‡½æ•°çš„å€¼</li>\n</ul>\n<h2 id=\"æ‰‹å†™è¿™ä¸‰ä¸ªå‡½æ•°\"><a href=\"#æ‰‹å†™è¿™ä¸‰ä¸ªå‡½æ•°\" class=\"headerlink\" title=\"æ‰‹å†™è¿™ä¸‰ä¸ªå‡½æ•°\"></a>æ‰‹å†™è¿™ä¸‰ä¸ªå‡½æ•°</h2>","excerpt":"","more":"<div class=\"note info simple\"><p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œ<code>call, apply, bind</code>æ˜¯ js ä¸‰ä¸ªé‡è¦çš„æ–¹æ³•, ä¸‰è€…éƒ½æ˜¯æ”¹å˜<code>this</code>ï¼ˆå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰çš„æŒ‡å‘ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰åŒºåˆ«çš„ï¼›æˆ‘å°†ä¼šä»¥<code>demo</code>çš„å½¢å¼å±•ç¤ºä¸‰è€…çš„ä½¿ç”¨åœºæ™¯ä»¥åŠåŒºåˆ«ï¼›<br>åœ¨ä¸€åŠå·¥ä½œä»»åŠ¡ä¸­è¿™ä¸‰è€…æ˜¯ä¸å¸¸ç”¨åˆ°çš„ï¼Œå¦‚æœæ‚¨çš„é¡¹ç›®æ˜¯çº¯åŸç”Ÿ js é¡¹ç›®ï¼Œé‚£ä¹ˆä½¿ç”¨åˆ°çš„å‡ ç‡å°±ä¼šå¤§å¾ˆå¤šï¼›è¿™ä¸‰è€…ä¸€èˆ¬ç”¨äºä»£ç åº•å±‚ï¼Œä¾‹å¦‚ï¼šå°è£…ï¼Œæ¡†æ¶ç­‰ç­‰ï¼›</p>\n</div>\n\n\n<h2 id=\"åŒºåˆ«\"><a href=\"#åŒºåˆ«\" class=\"headerlink\" title=\"åŒºåˆ«\"></a>åŒºåˆ«</h2><h3 id=\"call\"><a href=\"#call\" class=\"headerlink\" title=\"call\"></a>call</h3><blockquote>\n<p><code>call</code>:æ–¹æ³•è°ƒç”¨å‡½æ•°, æ‰§è¡Œ<code>this</code>çš„å€¼å’Œå‚æ•°ï¼›å‚æ•°å¯ä»¥ä¸ºå¤šä¸ª</p>\n</blockquote>\n<p><code>func.call(thisArg, arg1, arg2, ...)</code></p>\n<ul>\n<li><strong>thisArg</strong>: <code>this</code>çš„å€¼</li>\n<li><strong>arg1, arg2, â€¦</strong>: å‡½æ•°çš„å€¼</li>\n</ul>\n<h3 id=\"apply\"><a href=\"#apply\" class=\"headerlink\" title=\"apply\"></a>apply</h3><blockquote>\n<p><code>apply</code>: ä¸<code>call</code>ç±»ä¼¼ï¼Œä½†æ˜¯å‚æ•°æ˜¯ä»¥æ•°ç»„çš„å½¢å¼å±•ç¤º</p>\n</blockquote>\n<p><code>func.apply(thisArg, arg1, arg2, ...)</code></p>\n<ul>\n<li><strong>thisArg</strong>: <code>this</code>çš„å€¼</li>\n<li><strong>argsArray</strong>: å‡½æ•°çš„å€¼</li>\n</ul>\n<h3 id=\"bind\"><a href=\"#bind\" class=\"headerlink\" title=\"bind\"></a>bind</h3><blockquote>\n<p><code>bind</code>: åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼ŒæŒ‡å®š<code>this</code>çš„å€¼å’Œå‚æ•°</p>\n</blockquote>\n<p><code>func.apply(thisArg, arg1, arg2, ...)</code></p>\n<ul>\n<li><strong>thisArg</strong>: <code>this</code>çš„å€¼</li>\n<li><strong>arg1, arg2, â€¦</strong>: å‡½æ•°çš„å€¼</li>\n</ul>\n<h2 id=\"æ‰‹å†™è¿™ä¸‰ä¸ªå‡½æ•°\"><a href=\"#æ‰‹å†™è¿™ä¸‰ä¸ªå‡½æ•°\" class=\"headerlink\" title=\"æ‰‹å†™è¿™ä¸‰ä¸ªå‡½æ•°\"></a>æ‰‹å†™è¿™ä¸‰ä¸ªå‡½æ•°</h2>"},{"title":"æ’å…¥æ’åº","abbrlink":"96555fb2","date":"2024-08-14T03:20:38.000Z","_content":"\n{% note info simple %}\n`æ’å…¥æ’åº`ï¼ˆInsertion Sortï¼‰æ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ï¼Œå®ƒçš„å·¥ä½œåŸç†æ˜¯é€šè¿‡é€ä¸€å°†æœªæ’åºçš„å…ƒç´ æ’å…¥åˆ°å·²æ’åºçš„åºåˆ—ä¸­ï¼Œç›´åˆ°æ•´ä¸ªåºåˆ—éƒ½æœ‰åºã€‚\n{% endnote %}\n\næ’å…¥æ’åºçš„æ­¥éª¤å¦‚ä¸‹ï¼š\n\n1. ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼ˆç´¢å¼•ä¸º 1ï¼‰ï¼Œå°†å½“å‰å…ƒç´ ä½œä¸º `key`\n2. ä¸ `key` ä¹‹å‰çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¹‹å‰çš„å…ƒç´ å¤§äº `key`ï¼Œåˆ™å°†å…¶å‘åç§»åŠ¨ä¸€ä½ã€‚\n3. é‡å¤æ­¥éª¤ 2ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå°äºæˆ–ç­‰äº `key` çš„å…ƒç´ ã€‚\n4. å°† `key` æ’å…¥åˆ°è¯¥ä½ç½®ã€‚\n5. é‡å¤æ­¥éª¤ 1-4ï¼Œç›´åˆ°æ•´ä¸ªåºåˆ—éƒ½æœ‰åºã€‚\n\n## demo\n\n### ä»£ç \n\n```js\nfunction insertionSort(arr) {\n\tfor (let i = 1; i < arr.length; i++) {\n\t\tlet key = arr[i];\n\t\tlet j = i - 1;\n\t\twhile (j >= 0 && arr[j] > key) {\n\t\t\tarr[j + 1] = arr[j];\n\t\t\tj--;\n\t\t}\n\t\tarr[j + 1] = key;\n\t}\n\treturn arr;\n}\ninsertionSort([5, 2, 8, 3, 1, 6, 4]);\n```\n\n### å¯è§†åŒ–\n\n<demo html=\"html/æ’å…¥æ’åº.html\"/>\n\n## ä¼˜ç¼ºç‚¹\n\næ’å…¥æ’åºçš„ç‰¹ç‚¹æ˜¯ï¼š\n\n- ç®€å•æ˜“æ‡‚\n- ç¨³å®šæ’åºï¼ˆä¸ä¼šæ”¹å˜ç›¸åŒå…ƒç´ çš„ç›¸å¯¹é¡ºåºï¼‰\n- å¯¹äºå°è§„æ¨¡æ•°æ®é›†æ•ˆç‡è¾ƒé«˜\n- æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ï¼Œå› æ­¤å¯¹äºå¤§å‹æ•°æ®é›†æ•ˆç‡è¾ƒä½\n\næ’å…¥æ’åºçš„ç¼ºç‚¹æ˜¯ï¼š\n\n- æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼ˆO(n^2)ï¼‰\n- ä¸é€‚åˆå¤§å‹æ•°æ®é›†çš„æ’åº\n- ä¸é€‚åˆéœ€è¦é«˜æ•ˆç‡çš„åœºæ™¯\n\næ’å…¥æ’åºå¯ä»¥ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š\n\n- å°è§„æ¨¡æ•°æ®é›†çš„æ’åº\n- éœ€è¦ç¨³å®šæ’åºçš„åœºæ™¯\n- éœ€è¦ç®€å•æ˜“æ‡‚çš„æ’åºç®—æ³•\n","source":"_posts/æŠ€èƒ½å°å†Œ/javascript/ç®—æ³•/æ’å…¥æ’åº.md","raw":"---\ntitle: æ’å…¥æ’åº\nabbrlink: 96555fb2\ndate: 2024-08-14 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - JavaScript \n---\n\n{% note info simple %}\n`æ’å…¥æ’åº`ï¼ˆInsertion Sortï¼‰æ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ï¼Œå®ƒçš„å·¥ä½œåŸç†æ˜¯é€šè¿‡é€ä¸€å°†æœªæ’åºçš„å…ƒç´ æ’å…¥åˆ°å·²æ’åºçš„åºåˆ—ä¸­ï¼Œç›´åˆ°æ•´ä¸ªåºåˆ—éƒ½æœ‰åºã€‚\n{% endnote %}\n\næ’å…¥æ’åºçš„æ­¥éª¤å¦‚ä¸‹ï¼š\n\n1. ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼ˆç´¢å¼•ä¸º 1ï¼‰ï¼Œå°†å½“å‰å…ƒç´ ä½œä¸º `key`\n2. ä¸ `key` ä¹‹å‰çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¹‹å‰çš„å…ƒç´ å¤§äº `key`ï¼Œåˆ™å°†å…¶å‘åç§»åŠ¨ä¸€ä½ã€‚\n3. é‡å¤æ­¥éª¤ 2ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå°äºæˆ–ç­‰äº `key` çš„å…ƒç´ ã€‚\n4. å°† `key` æ’å…¥åˆ°è¯¥ä½ç½®ã€‚\n5. é‡å¤æ­¥éª¤ 1-4ï¼Œç›´åˆ°æ•´ä¸ªåºåˆ—éƒ½æœ‰åºã€‚\n\n## demo\n\n### ä»£ç \n\n```js\nfunction insertionSort(arr) {\n\tfor (let i = 1; i < arr.length; i++) {\n\t\tlet key = arr[i];\n\t\tlet j = i - 1;\n\t\twhile (j >= 0 && arr[j] > key) {\n\t\t\tarr[j + 1] = arr[j];\n\t\t\tj--;\n\t\t}\n\t\tarr[j + 1] = key;\n\t}\n\treturn arr;\n}\ninsertionSort([5, 2, 8, 3, 1, 6, 4]);\n```\n\n### å¯è§†åŒ–\n\n<demo html=\"html/æ’å…¥æ’åº.html\"/>\n\n## ä¼˜ç¼ºç‚¹\n\næ’å…¥æ’åºçš„ç‰¹ç‚¹æ˜¯ï¼š\n\n- ç®€å•æ˜“æ‡‚\n- ç¨³å®šæ’åºï¼ˆä¸ä¼šæ”¹å˜ç›¸åŒå…ƒç´ çš„ç›¸å¯¹é¡ºåºï¼‰\n- å¯¹äºå°è§„æ¨¡æ•°æ®é›†æ•ˆç‡è¾ƒé«˜\n- æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ï¼Œå› æ­¤å¯¹äºå¤§å‹æ•°æ®é›†æ•ˆç‡è¾ƒä½\n\næ’å…¥æ’åºçš„ç¼ºç‚¹æ˜¯ï¼š\n\n- æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼ˆO(n^2)ï¼‰\n- ä¸é€‚åˆå¤§å‹æ•°æ®é›†çš„æ’åº\n- ä¸é€‚åˆéœ€è¦é«˜æ•ˆç‡çš„åœºæ™¯\n\næ’å…¥æ’åºå¯ä»¥ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š\n\n- å°è§„æ¨¡æ•°æ®é›†çš„æ’åº\n- éœ€è¦ç¨³å®šæ’åºçš„åœºæ™¯\n- éœ€è¦ç®€å•æ˜“æ‡‚çš„æ’åºç®—æ³•\n","slug":"æŠ€èƒ½å°å†Œ/javascript/ç®—æ³•/æ’å…¥æ’åº","published":1,"updated":"2025-03-12T09:23:43.181Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j50063fg9mgsc47y36","content":"<div class=\"note info simple\"><p><code>æ’å…¥æ’åº</code>ï¼ˆInsertion Sortï¼‰æ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ï¼Œå®ƒçš„å·¥ä½œåŸç†æ˜¯é€šè¿‡é€ä¸€å°†æœªæ’åºçš„å…ƒç´ æ’å…¥åˆ°å·²æ’åºçš„åºåˆ—ä¸­ï¼Œç›´åˆ°æ•´ä¸ªåºåˆ—éƒ½æœ‰åºã€‚</p>\n</div>\n\n<p>æ’å…¥æ’åºçš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼ˆç´¢å¼•ä¸º 1ï¼‰ï¼Œå°†å½“å‰å…ƒç´ ä½œä¸º <code>key</code></li>\n<li>ä¸ <code>key</code> ä¹‹å‰çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¹‹å‰çš„å…ƒç´ å¤§äº <code>key</code>ï¼Œåˆ™å°†å…¶å‘åç§»åŠ¨ä¸€ä½ã€‚</li>\n<li>é‡å¤æ­¥éª¤ 2ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå°äºæˆ–ç­‰äº <code>key</code> çš„å…ƒç´ ã€‚</li>\n<li>å°† <code>key</code> æ’å…¥åˆ°è¯¥ä½ç½®ã€‚</li>\n<li>é‡å¤æ­¥éª¤ 1-4ï¼Œç›´åˆ°æ•´ä¸ªåºåˆ—éƒ½æœ‰åºã€‚</li>\n</ol>\n<h2 id=\"demo\"><a href=\"#demo\" class=\"headerlink\" title=\"demo\"></a>demo</h2><h3 id=\"ä»£ç \"><a href=\"#ä»£ç \" class=\"headerlink\" title=\"ä»£ç \"></a>ä»£ç </h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">insertionSort</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; arr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> key = arr[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> j = i - <span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span> (j &gt;= <span class=\"number\">0</span> &amp;&amp; arr[j] &gt; key) &#123;</span><br><span class=\"line\">\t\t\tarr[j + <span class=\"number\">1</span>] = arr[j];</span><br><span class=\"line\">\t\t\tj--;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tarr[j + <span class=\"number\">1</span>] = key;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> arr;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">insertionSort</span>([<span class=\"number\">5</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>, <span class=\"number\">6</span>, <span class=\"number\">4</span>]);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¯è§†åŒ–\"><a href=\"#å¯è§†åŒ–\" class=\"headerlink\" title=\"å¯è§†åŒ–\"></a>å¯è§†åŒ–</h3><demo html=\"html/æ’å…¥æ’åº.html\"/>\n\n<h2 id=\"ä¼˜ç¼ºç‚¹\"><a href=\"#ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ä¼˜ç¼ºç‚¹\"></a>ä¼˜ç¼ºç‚¹</h2><p>æ’å…¥æ’åºçš„ç‰¹ç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>ç®€å•æ˜“æ‡‚</li>\n<li>ç¨³å®šæ’åºï¼ˆä¸ä¼šæ”¹å˜ç›¸åŒå…ƒç´ çš„ç›¸å¯¹é¡ºåºï¼‰</li>\n<li>å¯¹äºå°è§„æ¨¡æ•°æ®é›†æ•ˆç‡è¾ƒé«˜</li>\n<li>æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ï¼Œå› æ­¤å¯¹äºå¤§å‹æ•°æ®é›†æ•ˆç‡è¾ƒä½</li>\n</ul>\n<p>æ’å…¥æ’åºçš„ç¼ºç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼ˆO(n^2)ï¼‰</li>\n<li>ä¸é€‚åˆå¤§å‹æ•°æ®é›†çš„æ’åº</li>\n<li>ä¸é€‚åˆéœ€è¦é«˜æ•ˆç‡çš„åœºæ™¯</li>\n</ul>\n<p>æ’å…¥æ’åºå¯ä»¥ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>\n<ul>\n<li>å°è§„æ¨¡æ•°æ®é›†çš„æ’åº</li>\n<li>éœ€è¦ç¨³å®šæ’åºçš„åœºæ™¯</li>\n<li>éœ€è¦ç®€å•æ˜“æ‡‚çš„æ’åºç®—æ³•</li>\n</ul>\n","excerpt":"","more":"<div class=\"note info simple\"><p><code>æ’å…¥æ’åº</code>ï¼ˆInsertion Sortï¼‰æ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ï¼Œå®ƒçš„å·¥ä½œåŸç†æ˜¯é€šè¿‡é€ä¸€å°†æœªæ’åºçš„å…ƒç´ æ’å…¥åˆ°å·²æ’åºçš„åºåˆ—ä¸­ï¼Œç›´åˆ°æ•´ä¸ªåºåˆ—éƒ½æœ‰åºã€‚</p>\n</div>\n\n<p>æ’å…¥æ’åºçš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼ˆç´¢å¼•ä¸º 1ï¼‰ï¼Œå°†å½“å‰å…ƒç´ ä½œä¸º <code>key</code></li>\n<li>ä¸ <code>key</code> ä¹‹å‰çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¹‹å‰çš„å…ƒç´ å¤§äº <code>key</code>ï¼Œåˆ™å°†å…¶å‘åç§»åŠ¨ä¸€ä½ã€‚</li>\n<li>é‡å¤æ­¥éª¤ 2ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå°äºæˆ–ç­‰äº <code>key</code> çš„å…ƒç´ ã€‚</li>\n<li>å°† <code>key</code> æ’å…¥åˆ°è¯¥ä½ç½®ã€‚</li>\n<li>é‡å¤æ­¥éª¤ 1-4ï¼Œç›´åˆ°æ•´ä¸ªåºåˆ—éƒ½æœ‰åºã€‚</li>\n</ol>\n<h2 id=\"demo\"><a href=\"#demo\" class=\"headerlink\" title=\"demo\"></a>demo</h2><h3 id=\"ä»£ç \"><a href=\"#ä»£ç \" class=\"headerlink\" title=\"ä»£ç \"></a>ä»£ç </h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">insertionSort</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; arr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> key = arr[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> j = i - <span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span> (j &gt;= <span class=\"number\">0</span> &amp;&amp; arr[j] &gt; key) &#123;</span><br><span class=\"line\">\t\t\tarr[j + <span class=\"number\">1</span>] = arr[j];</span><br><span class=\"line\">\t\t\tj--;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tarr[j + <span class=\"number\">1</span>] = key;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> arr;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">insertionSort</span>([<span class=\"number\">5</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>, <span class=\"number\">6</span>, <span class=\"number\">4</span>]);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¯è§†åŒ–\"><a href=\"#å¯è§†åŒ–\" class=\"headerlink\" title=\"å¯è§†åŒ–\"></a>å¯è§†åŒ–</h3><demo html=\"html/æ’å…¥æ’åº.html\"/>\n\n<h2 id=\"ä¼˜ç¼ºç‚¹\"><a href=\"#ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ä¼˜ç¼ºç‚¹\"></a>ä¼˜ç¼ºç‚¹</h2><p>æ’å…¥æ’åºçš„ç‰¹ç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>ç®€å•æ˜“æ‡‚</li>\n<li>ç¨³å®šæ’åºï¼ˆä¸ä¼šæ”¹å˜ç›¸åŒå…ƒç´ çš„ç›¸å¯¹é¡ºåºï¼‰</li>\n<li>å¯¹äºå°è§„æ¨¡æ•°æ®é›†æ•ˆç‡è¾ƒé«˜</li>\n<li>æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ï¼Œå› æ­¤å¯¹äºå¤§å‹æ•°æ®é›†æ•ˆç‡è¾ƒä½</li>\n</ul>\n<p>æ’å…¥æ’åºçš„ç¼ºç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼ˆO(n^2)ï¼‰</li>\n<li>ä¸é€‚åˆå¤§å‹æ•°æ®é›†çš„æ’åº</li>\n<li>ä¸é€‚åˆéœ€è¦é«˜æ•ˆç‡çš„åœºæ™¯</li>\n</ul>\n<p>æ’å…¥æ’åºå¯ä»¥ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>\n<ul>\n<li>å°è§„æ¨¡æ•°æ®é›†çš„æ’åº</li>\n<li>éœ€è¦ç¨³å®šæ’åºçš„åœºæ™¯</li>\n<li>éœ€è¦ç®€å•æ˜“æ‡‚çš„æ’åºç®—æ³•</li>\n</ul>\n"},{"title":"çº¿ç¨‹å¼•å‘çš„æ€è€ƒ","abbrlink":"eb4e9dd2","date":"2024-03-15T03:20:38.000Z","_content":"\n\n\n{% note info simple %}\nåœ¨ä»‹ç»çº¿ç¨‹ä¹‹å‰ï¼Œä¼šå…ˆå£°æ˜`è¿›ç¨‹`, `è¿›ç¨‹çº¿ç¨‹çš„å…³ç³»`ï¼Œåœ¨äº†è§£äº†ä¿©è€…å…³ç³»ä¹‹åï¼Œå†æ¬¡æ€è€ƒçº¿ç¨‹å¸¦æ¥çš„ä¸€äº›é—®é¢˜ï¼›\n{% endnote %}\n\n## è¿›ç¨‹ä¸çº¿ç¨‹\n\nè¿›ç¨‹ï¼ˆProcessï¼‰æ˜¯æŒ‡åœ¨æ“ä½œç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªç¨‹åºå®ä¾‹ã€‚ä»¥ä¸‹æ˜¯è¿›ç¨‹çš„ä¸€äº›å…³é”®ç‰¹æ€§ï¼š\n\n- **ç‹¬ç«‹æ€§**ï¼šæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œè¿™æ„å‘³ç€ä¸€ä¸ªè¿›ç¨‹çš„æ‰§è¡Œä¸ä¼šç›´æ¥å½±å“åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ã€‚\n- **èµ„æºåˆ†é…**ï¼šæ“ä½œç³»ç»Ÿä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…èµ„æºï¼Œå¦‚ CPU æ—¶é—´ã€å†…å­˜å’Œæ–‡ä»¶å¥æŸ„ç­‰ã€‚\n- **å¹¶å‘æ‰§è¡Œ**ï¼šå¤šä¸ªè¿›ç¨‹å¯ä»¥åŒæ—¶è¿è¡Œåœ¨å¤šæ ¸å¤„ç†å™¨ä¸Šï¼Œå®ç°çœŸæ­£çš„å¹¶è¡Œå¤„ç†ï¼›åœ¨å•æ ¸å¤„ç†å™¨ä¸Šï¼Œé€šè¿‡æ—¶é—´ç‰‡è½®è½¬ç­‰æ–¹å¼å®ç°å¹¶å‘æ‰§è¡Œçš„å‡è±¡ã€‚\n- **é€šä¿¡æœºåˆ¶**ï¼šè¿›ç¨‹é—´å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼é€šä¿¡ï¼Œå¦‚ç®¡é“ï¼ˆPipeï¼‰ã€æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰ã€å…±äº«å†…å­˜ï¼ˆShared Memoryï¼‰ç­‰ã€‚\n- **ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼šè¿›ç¨‹æœ‰å…¶ç”Ÿå‘½å‘¨æœŸï¼ŒåŒ…æ‹¬åˆ›å»ºã€å°±ç»ªã€è¿è¡Œã€é˜»å¡å’Œç»ˆæ­¢ç­‰çŠ¶æ€ã€‚\n\nåœ¨`nodejs`ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨`child_process`åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹å»å¤„ç†å¤æ‚çš„åº”ç”¨åœºæ™¯ï¼›\n\n```js\nconst { spawn } = require(\"child_process\");\nconst child = spawn(\"node\", [\n\t\"-e\",\n\t'setInterval(() => console.log(\"hello\"), 1000)',\n]);\nchild.stdout.on(\"data\", data => {\n\tconsole.log(data.toString());\n});\nchild.on(\"close\", () => {\n\tconsole.log(\"child process exit\");\n});\nsetTimeout(() => {\n\tchild.kill();\n}, 5000);\n```\n\nç„¶è€Œåœ¨æµè§ˆå™¨ä¸­çš„`è¿›ç¨‹`æ˜¯ä»€ä¹ˆæ ·çš„ï¼›\n\nåœ¨è®¡ç®—æœºä¸­ï¼Œä¼šå•ç‹¬å¼€è¾Ÿä¸€å—å†…å­˜ç©ºé—´ç»™åˆ°æµè§ˆå™¨ï¼Œå› ä¸ºè®¡ç®—æœºæ¯æ—¶æ¯åˆ»éƒ½åœ¨å¤„ç†å…¶ä»–äº‹æƒ…ï¼Œç®€å•çš„è¯´æµè§ˆå™¨å°±æ˜¯è®¡ç®—æœºä¸­çš„ä¸€ä¸ªå­è¿›ç¨‹ä¹‹ä¸€ï¼Œå› ä¸ºåœ¨`windows`ä¸­æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œä½ å°±ä¼šå‘ç°æµè§ˆå™¨åœ¨å…¶ä¸­ï¼›\n\nä»å›¾ä¸­å°±å¯ä»¥çœ‹å‡ºæ¯ä¸ªåº”ç”¨å ç”¨çš„å†…å­˜ç©ºé—´æ˜¯ä¸ä¸€æ ·çš„ï¼›è¿›ç¨‹ä¸è¿›ç¨‹ä¹‹é—´æ˜¯å…è®¸é€šä¿¡çš„ï¼Œä½†æ˜¯æ˜¯éœ€è¦è¢«åŒæ„çš„ï¼›ä¾‹å¦‚ï¼šå¾®ä¿¡ä¸ qq é€šä¿¡ï¼Œqq æƒ³è¦é€šä¿¡ç»™å¾®ä¿¡ï¼Œé‚£ä¹ˆå¾®ä¿¡éœ€è¦æ”¯æŒå¹¶åŒæ„é€šä¿¡ï¼›\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/event-1.png)\n\nè€Œå¯¹äºæµè§ˆå™¨è€Œè¨€ï¼Œä¹Ÿæ˜¯æœ‰å­è¿›ç¨‹ä¸çº¿ç¨‹çš„ï¼Œå½“æ‰“å¼€æµè§ˆå™¨ä¸è®ºé¦–é¡µæ˜¯`ç™¾åº¦`è¿˜æ˜¯`Google`ä¸»è¿›ç¨‹å·²ç»å¼€å§‹äº†ï¼Œé‚£ä¹ˆå¼•å‘äº†ä¸€ä¸ªæ€è€ƒï¼Ÿ\n\n**æµè§ˆå™¨å¤„ç†äº†å¾ˆå¤šä¸œè¥¿ï¼Œä¸ºä»€ä¹ˆä¸ä¼šå¡æ­»å‘¢ï¼Ÿ**\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/event-3.png)\n\næ˜¯å› ä¸ºï¼š æµè§ˆå™¨çš„æ¸²æŸ“å¼•æ“æ˜¯å¤šçº¿ç¨‹çš„ï¼Œ åœ¨å¤„ç†ä¸åŒçš„ä»»åŠ¡ä¾‹å¦‚`network, gpu, æ¸²æŸ“ä½ å†™çš„é¡µé¢`ç­‰ç­‰éƒ½ä¼šäº¤ç»™ä¸åŒçš„å­è¿›ç¨‹ï¼Œæ¯ä¸ªå­è¿›ç¨‹æœ‰è‡ªå·±çš„ idï¼Œå¹¶ä¸”æ¯ä¸ªå­è¿›ç¨‹éƒ½æ˜¯å¤šçº¿ç¨‹çš„ï¼›ä¾‹å¦‚ä¸‹å›¾ï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7egrmuu60u.webp)\n\né‚£ä¹ˆå°±æ‹¿æ¸²æŸ“ä¸»è¿›ç¨‹æ¥è¯´ï¼Œå¦‚æœæ¸²æŸ“å¼•æ“æ˜¯å•çº¿ç¨‹ï¼Œä½ å¯ä»¥æƒ³è±¡çš„åˆ°ï¼Œé¡µé¢æ‰“å¼€é€Ÿåº¦ä¼šéå¸¸æ…¢ï¼Œå› ä¸ºæµè§ˆå™¨éœ€è¦ç­‰å¾…æ¸²æŸ“å¼•æ“å¤„ç†å®Œä¸€ä¸ªä»»åŠ¡å†å¤„ç†ä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œä¾‹å¦‚ï¼š`åŒæ­¥ä»»åŠ¡`, ä¸€å£æ°”åŒºåŠ è½½`js`ï¼Œè€Œæœ‰çš„`js`å¼‚å¸¸å¯èƒ½ä¼šå‘ç”Ÿé˜»å¡é—®é¢˜ï¼Œé‚£ä¹ˆæµè§ˆå™¨å°±å¾—ä¸€ç›´ç­‰ï¼Œç›´åˆ°åŠ è½½å®Œæ¯•æ‰ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œè¿™æ ·æ¸²æŸ“é€Ÿåº¦å°±ä¼šéå¸¸æ…¢ï¼Œæ‰€ä»¥æµè§ˆå™¨å°±ä½¿ç”¨äº†å¤šçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹è´Ÿè´£å¤„ç†ä¸åŒçš„ä»»åŠ¡ï¼Œè¿™æ ·æ¸²æŸ“é€Ÿåº¦å°±ä¼šå¿«å¾ˆå¤šï¼›\n\næµè§ˆå™¨çš„æ¸²æŸ“ä¸»è¿›ç¨‹ä¸­ï¼Œåˆæœ‰å¤šä¸ªå­çº¿ç¨‹åŒºå¤„ç†ä¸åŒçš„ä»»åŠ¡ï¼›ä¾‹å¦‚ï¼š`è®¡æ—¶å™¨çº¿ç¨‹`, `ç½‘ç»œçº¿ç¨‹`ç­‰ç­‰ï¼›\n\nå¦‚æœ`æ¸²æŸ“è¿›ç¨‹`ä¸º`å•çº¿ç¨‹`é‚£ä¹ˆä¼šå¼•å‘ä»€ä¹ˆé—®é¢˜ï¼Ÿ\n\nä¸‹é¢ä¼šä»‹ç»åœ¨`js`ä¸­`å•çº¿ç¨‹`å¼•å‘çš„é—®é¢˜, å¦‚æœäº†è§£å…¶åŸç†ä¹‹åé‚£ä¹ˆå°±å¯ä»¥è§£é‡Š`å¦‚æœæ¸²æŸ“è¿›ç¨‹ä¸ºå•çº¿ç¨‹çš„é—®é¢˜ï¼Ÿ`\n\n## åŒæ­¥ä¸å¼‚æ­¥\n\nåœ¨è®¡ç®—æœºä¸­ï¼ŒåŒæ­¥å’Œå¼‚æ­¥æ˜¯ä¸¤ç§ä¸åŒçš„ç¼–ç¨‹æ¦‚å¿µï¼Œå®ƒä»¬åœ¨å¤„ç†ä»»åŠ¡æ—¶å…·æœ‰ä¸åŒçš„è¡Œä¸ºæ–¹å¼ã€‚\n\n1. åŒæ­¥ï¼šåŒæ­¥æ˜¯æŒ‡åœ¨æŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹å‰ï¼Œä¸èƒ½ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚åœ¨è®¡ç®—æœºä¸­ï¼ŒåŒæ­¥æ˜¯æŒ‡åœ¨æŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹å‰ï¼Œä¸èƒ½ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œåœ¨è¯»å–æ–‡ä»¶æ—¶ï¼Œå¦‚æœæ–‡ä»¶æ­£åœ¨è¢«å…¶ä»–è¿›ç¨‹ä¿®æ”¹ï¼Œé‚£ä¹ˆè¯»å–æ“ä½œå°†ä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°æ–‡ä»¶è¢«ä¿®æ”¹å®Œæˆã€‚\n2. å¼‚æ­¥ï¼šå¼‚æ­¥æ˜¯æŒ‡åœ¨æŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹åï¼Œå¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚åœ¨è®¡ç®—æœºä¸­ï¼Œå¼‚æ­¥æ˜¯æŒ‡åœ¨æŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹åï¼Œå¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œåœ¨è¯»å–æ–‡ä»¶æ—¶ï¼Œå¦‚æœæ–‡ä»¶æ­£åœ¨è¢«å…¶ä»–è¿›ç¨‹ä¿®æ”¹ï¼Œé‚£ä¹ˆè¯»å–æ“ä½œå°†ä¸ä¼šé˜»å¡ï¼Œè€Œæ˜¯å°†æ–‡ä»¶è¯»å–æ“ä½œæ”¾å…¥ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œå½“æ–‡ä»¶è¢«ä¿®æ”¹å®Œæˆæ—¶ï¼Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡å°†è¢«æ‰§è¡Œã€‚\n\nä¸€å¼ å›¾æè¿°äº†ï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/event-4.png)\n\nä¸Šé¢å›¾ç‰‡å¤§æ¦‚ä»‹ç»åŒæ­¥ä¸å¼‚æ­¥çš„åŒºåˆ«ï¼Œ\n\n```js\n// å¤§é‡åŒæ­¥ä»»åŠ¡å¸¦æ¥çš„å½±å“ï¼Ÿ\n\nfunction delay(time) {\n\tconst start = Date.now();\n\twhile (Date.now() - start < time) {}\n}\nconsole.log(\"å…ˆè§¦å‘\");\ndelay(3 * 1000);\ndocument.write(\"åè§¦å‘\");\n\n// ä»£ç è§£é‡Šï¼š\n// 1. ä»£ç ä¸ºåŒæ­¥ä»£ç ã€‚\n// 2. é¦–å…ˆæ‰§è¡Œâ€œå…ˆè§¦å‘â€ï¼Œ ç­‰å¾… 3s ä¹‹åæ‰ä¼šæ¸²æŸ“é¡µé¢ï¼›\n```\n\nä½†æ˜¯åœ¨è¿™ 3s ä¸­ä½ ä¼šå‘ç°é¡µé¢å‡ºç°äº†çŸ­æš‚çš„å¡æ­»ç°è±¡ï¼›é¿å…å‡ºç°è¿™æ ·çš„é—®é¢˜ï¼Œé‚£ä¹ˆå°±éœ€è¦å°†å…¶æ”¹ä¸ºå¼‚æ­¥\n\n```js\nfunction delay(time) {\n\tconsole.log(2);\n\treturn new Promise(resolve => {\n\t\tsetTimeout(resolve, time);\n\t});\n}\nconsole.log(\"å…ˆè§¦å‘\");\ndelay(3 * 1000).then(() => {\n\tdocument.write(\"åè§¦å‘\");\n});\n\n// ä»£ç è§£é‡Šï¼š\n// 1. ä»£ç ä¸ºå¼‚æ­¥ä»£ç ã€‚\n// 2. é¦–å…ˆæ‰§è¡Œâ€œå…ˆè§¦å‘â€ï¼Œ åœ¨ç­‰å¾… 3s çš„æ—¶é—´å†…ï¼Œå¯ä»¥æ“ä½œå…¶ä»–ä»»åŠ¡ï¼Œä¸ä¼šå‡ºç°é˜»å¡é—®é¢˜å¸¦æ¥çš„å¡æ­»ï¼›\n```\n\n## äº‹ä»¶å¾ªç¯ä¸é˜Ÿåˆ—\n\näº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰æ˜¯ JavaScript è¿è¡Œæ—¶ç¯å¢ƒï¼ˆRuntime Environmentï¼‰ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå®ƒè´Ÿè´£ç®¡ç† JavaScript ä»£ç çš„æ‰§è¡Œé¡ºåºã€‚äº‹ä»¶å¾ªç¯æ˜¯ JavaScript å¼•æ“å’Œ JavaScript è¿è¡Œæ—¶ç¯å¢ƒä¹‹é—´ä¸€ä¸ªé‡è¦çš„äº¤äº’æœºåˆ¶ï¼Œå®ƒè´Ÿè´£å°† JavaScript ä»£ç ä¸­çš„å¼‚æ­¥ä»»åŠ¡ä¸åŒæ­¥ä»»åŠ¡è¿›è¡Œåè°ƒï¼Œç¡®ä¿ä»£ç çš„é¡ºåºæ‰§è¡Œã€‚\n\näº‹ä»¶å¾ªç¯çš„è¿è¡Œæœºåˆ¶å¦‚ä¸‹ï¼š\n\n1. åˆ›å»ºä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼ˆTask Queueï¼‰ï¼šä»»åŠ¡é˜Ÿåˆ—ç”¨äºå­˜å‚¨å¾…æ‰§è¡Œçš„ä»»åŠ¡ã€‚\n2. åˆ›å»ºä¸€ä¸ªäº‹ä»¶é˜Ÿåˆ—ï¼ˆEvent Queueï¼‰ï¼šäº‹ä»¶é˜Ÿåˆ—ç”¨äºå­˜å‚¨å¾…å¤„ç†çš„äº‹ä»¶ã€‚\n3. JavaScript å¼•æ“ä¼šä»ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶å°†å…¶æ”¾å…¥æ‰§è¡Œæ ˆï¼ˆExecution Stackï¼‰ä¸­ã€‚\n4. å½“æ‰§è¡Œæ ˆä¸­çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼ŒJavaScript å¼•æ“ä¼šæ£€æŸ¥äº‹ä»¶é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰æ–°çš„äº‹ä»¶ã€‚\n5. å¦‚æœæœ‰æ–°çš„äº‹ä»¶ï¼ŒJavaScript å¼•æ“ä¼šå°†å…¶ä»äº‹ä»¶é˜Ÿåˆ—ä¸­å–å‡ºï¼Œå¹¶å°†å…¶æ”¾å…¥æ‰§è¡Œæ ˆä¸­ï¼Œç„¶åç»§ç»­æ‰§è¡Œä»»åŠ¡ã€‚\n6. é‡å¤æ­¥éª¤ 4 å’Œ 5ï¼Œç›´åˆ°ä»»åŠ¡é˜Ÿåˆ—å’Œäº‹ä»¶é˜Ÿåˆ—éƒ½ä¸ºç©ºã€‚\n\nåœ¨ JavaScript ä¸­ï¼Œäº‹ä»¶å¾ªç¯çš„å®ç°ä¸»è¦ä¾èµ–äº JavaScript å¼•æ“å’Œå®¿ä¸»ç¯å¢ƒï¼ˆä¾‹å¦‚æµè§ˆå™¨ï¼‰æä¾›çš„ APIã€‚ä»¥ä¸‹æ˜¯ JavaScript äº‹ä»¶å¾ªç¯çš„ç®€å•ä»‹ç»ï¼š\n\n1. å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼šJavaScript ä¸­æœ‰ä¸¤ç§ç±»å‹çš„ä»»åŠ¡ï¼šå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ã€‚\n   - å®ä»»åŠ¡åŒ…æ‹¬ `script`ã€`setTimeout`ã€`setInterval`ã€`setImmediate`ã€`I/O`ã€`UI rendering` ç­‰ï¼Œ\n   - è€Œå¾®ä»»åŠ¡åŒ…æ‹¬ `Promise`ã€`process.nextTick` ç­‰ã€‚\n2. äº‹ä»¶å¾ªç¯çš„è¿è¡Œæœºåˆ¶ï¼šäº‹ä»¶å¾ªç¯ä¼šæŒ‰ç…§ä»¥ä¸‹é¡ºåºè¿è¡Œï¼š\n\n   - é¦–å…ˆï¼Œæ‰§è¡Œæ ˆä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡ã€‚\n   - ç„¶åï¼Œå°†æ‰€æœ‰å¾®ä»»åŠ¡æ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå¹¶ä¾æ¬¡æ‰§è¡Œã€‚\n   - æœ€åï¼Œå°†æ‰€æœ‰å®ä»»åŠ¡æ”¾å…¥å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå¹¶ä¾æ¬¡æ‰§è¡Œã€‚\n\n3. æµè§ˆå™¨å’Œ Node.js ä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼šåœ¨æµè§ˆå™¨ä¸­ï¼Œäº‹ä»¶å¾ªç¯ä¼šä¸€ç›´è¿è¡Œï¼Œç›´åˆ°æ‰€æœ‰å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•ã€‚åœ¨ Node.js ä¸­ï¼Œäº‹ä»¶å¾ªç¯ä¼šåœ¨ Node.js è¿›ç¨‹é€€å‡ºä¹‹å‰ä¸€ç›´è¿è¡Œï¼Œç›´åˆ°æ‰€æœ‰å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•ã€‚\n\näº‹ä»¶å¾ªç¯ä¸é˜Ÿåˆ—å¦‚å›¾ï¼š\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/event-5.png)\n\nåˆ‡è®°äº‹ä»¶å¾ªç¯çš„æ‰§è¡Œé¡ºåºï¼Œä¼˜å…ˆçº§ä»é«˜è‡³ä½ä¸ºï¼š`å…¨å±€ > å¾®é˜Ÿåˆ— > äº¤äº’é˜Ÿåˆ— > å»¶è¿Ÿé˜Ÿåˆ—`,å…·ä½“æ‰§è¡Œé¡ºåºå¯å‚è€ƒå¦‚ä¸‹å›¾ï¼š\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/event-6.png)\n","source":"_posts/æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/çº¿ç¨‹å¼•å‘çš„æ€è€ƒ.md","raw":"---\ntitle: çº¿ç¨‹å¼•å‘çš„æ€è€ƒ\nabbrlink: eb4e9dd2\ndate: 2024-03-15 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - JavaScript \n---\n\n\n\n{% note info simple %}\nåœ¨ä»‹ç»çº¿ç¨‹ä¹‹å‰ï¼Œä¼šå…ˆå£°æ˜`è¿›ç¨‹`, `è¿›ç¨‹çº¿ç¨‹çš„å…³ç³»`ï¼Œåœ¨äº†è§£äº†ä¿©è€…å…³ç³»ä¹‹åï¼Œå†æ¬¡æ€è€ƒçº¿ç¨‹å¸¦æ¥çš„ä¸€äº›é—®é¢˜ï¼›\n{% endnote %}\n\n## è¿›ç¨‹ä¸çº¿ç¨‹\n\nè¿›ç¨‹ï¼ˆProcessï¼‰æ˜¯æŒ‡åœ¨æ“ä½œç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªç¨‹åºå®ä¾‹ã€‚ä»¥ä¸‹æ˜¯è¿›ç¨‹çš„ä¸€äº›å…³é”®ç‰¹æ€§ï¼š\n\n- **ç‹¬ç«‹æ€§**ï¼šæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œè¿™æ„å‘³ç€ä¸€ä¸ªè¿›ç¨‹çš„æ‰§è¡Œä¸ä¼šç›´æ¥å½±å“åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ã€‚\n- **èµ„æºåˆ†é…**ï¼šæ“ä½œç³»ç»Ÿä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…èµ„æºï¼Œå¦‚ CPU æ—¶é—´ã€å†…å­˜å’Œæ–‡ä»¶å¥æŸ„ç­‰ã€‚\n- **å¹¶å‘æ‰§è¡Œ**ï¼šå¤šä¸ªè¿›ç¨‹å¯ä»¥åŒæ—¶è¿è¡Œåœ¨å¤šæ ¸å¤„ç†å™¨ä¸Šï¼Œå®ç°çœŸæ­£çš„å¹¶è¡Œå¤„ç†ï¼›åœ¨å•æ ¸å¤„ç†å™¨ä¸Šï¼Œé€šè¿‡æ—¶é—´ç‰‡è½®è½¬ç­‰æ–¹å¼å®ç°å¹¶å‘æ‰§è¡Œçš„å‡è±¡ã€‚\n- **é€šä¿¡æœºåˆ¶**ï¼šè¿›ç¨‹é—´å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼é€šä¿¡ï¼Œå¦‚ç®¡é“ï¼ˆPipeï¼‰ã€æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰ã€å…±äº«å†…å­˜ï¼ˆShared Memoryï¼‰ç­‰ã€‚\n- **ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼šè¿›ç¨‹æœ‰å…¶ç”Ÿå‘½å‘¨æœŸï¼ŒåŒ…æ‹¬åˆ›å»ºã€å°±ç»ªã€è¿è¡Œã€é˜»å¡å’Œç»ˆæ­¢ç­‰çŠ¶æ€ã€‚\n\nåœ¨`nodejs`ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨`child_process`åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹å»å¤„ç†å¤æ‚çš„åº”ç”¨åœºæ™¯ï¼›\n\n```js\nconst { spawn } = require(\"child_process\");\nconst child = spawn(\"node\", [\n\t\"-e\",\n\t'setInterval(() => console.log(\"hello\"), 1000)',\n]);\nchild.stdout.on(\"data\", data => {\n\tconsole.log(data.toString());\n});\nchild.on(\"close\", () => {\n\tconsole.log(\"child process exit\");\n});\nsetTimeout(() => {\n\tchild.kill();\n}, 5000);\n```\n\nç„¶è€Œåœ¨æµè§ˆå™¨ä¸­çš„`è¿›ç¨‹`æ˜¯ä»€ä¹ˆæ ·çš„ï¼›\n\nåœ¨è®¡ç®—æœºä¸­ï¼Œä¼šå•ç‹¬å¼€è¾Ÿä¸€å—å†…å­˜ç©ºé—´ç»™åˆ°æµè§ˆå™¨ï¼Œå› ä¸ºè®¡ç®—æœºæ¯æ—¶æ¯åˆ»éƒ½åœ¨å¤„ç†å…¶ä»–äº‹æƒ…ï¼Œç®€å•çš„è¯´æµè§ˆå™¨å°±æ˜¯è®¡ç®—æœºä¸­çš„ä¸€ä¸ªå­è¿›ç¨‹ä¹‹ä¸€ï¼Œå› ä¸ºåœ¨`windows`ä¸­æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œä½ å°±ä¼šå‘ç°æµè§ˆå™¨åœ¨å…¶ä¸­ï¼›\n\nä»å›¾ä¸­å°±å¯ä»¥çœ‹å‡ºæ¯ä¸ªåº”ç”¨å ç”¨çš„å†…å­˜ç©ºé—´æ˜¯ä¸ä¸€æ ·çš„ï¼›è¿›ç¨‹ä¸è¿›ç¨‹ä¹‹é—´æ˜¯å…è®¸é€šä¿¡çš„ï¼Œä½†æ˜¯æ˜¯éœ€è¦è¢«åŒæ„çš„ï¼›ä¾‹å¦‚ï¼šå¾®ä¿¡ä¸ qq é€šä¿¡ï¼Œqq æƒ³è¦é€šä¿¡ç»™å¾®ä¿¡ï¼Œé‚£ä¹ˆå¾®ä¿¡éœ€è¦æ”¯æŒå¹¶åŒæ„é€šä¿¡ï¼›\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/event-1.png)\n\nè€Œå¯¹äºæµè§ˆå™¨è€Œè¨€ï¼Œä¹Ÿæ˜¯æœ‰å­è¿›ç¨‹ä¸çº¿ç¨‹çš„ï¼Œå½“æ‰“å¼€æµè§ˆå™¨ä¸è®ºé¦–é¡µæ˜¯`ç™¾åº¦`è¿˜æ˜¯`Google`ä¸»è¿›ç¨‹å·²ç»å¼€å§‹äº†ï¼Œé‚£ä¹ˆå¼•å‘äº†ä¸€ä¸ªæ€è€ƒï¼Ÿ\n\n**æµè§ˆå™¨å¤„ç†äº†å¾ˆå¤šä¸œè¥¿ï¼Œä¸ºä»€ä¹ˆä¸ä¼šå¡æ­»å‘¢ï¼Ÿ**\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/event-3.png)\n\næ˜¯å› ä¸ºï¼š æµè§ˆå™¨çš„æ¸²æŸ“å¼•æ“æ˜¯å¤šçº¿ç¨‹çš„ï¼Œ åœ¨å¤„ç†ä¸åŒçš„ä»»åŠ¡ä¾‹å¦‚`network, gpu, æ¸²æŸ“ä½ å†™çš„é¡µé¢`ç­‰ç­‰éƒ½ä¼šäº¤ç»™ä¸åŒçš„å­è¿›ç¨‹ï¼Œæ¯ä¸ªå­è¿›ç¨‹æœ‰è‡ªå·±çš„ idï¼Œå¹¶ä¸”æ¯ä¸ªå­è¿›ç¨‹éƒ½æ˜¯å¤šçº¿ç¨‹çš„ï¼›ä¾‹å¦‚ä¸‹å›¾ï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7egrmuu60u.webp)\n\né‚£ä¹ˆå°±æ‹¿æ¸²æŸ“ä¸»è¿›ç¨‹æ¥è¯´ï¼Œå¦‚æœæ¸²æŸ“å¼•æ“æ˜¯å•çº¿ç¨‹ï¼Œä½ å¯ä»¥æƒ³è±¡çš„åˆ°ï¼Œé¡µé¢æ‰“å¼€é€Ÿåº¦ä¼šéå¸¸æ…¢ï¼Œå› ä¸ºæµè§ˆå™¨éœ€è¦ç­‰å¾…æ¸²æŸ“å¼•æ“å¤„ç†å®Œä¸€ä¸ªä»»åŠ¡å†å¤„ç†ä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œä¾‹å¦‚ï¼š`åŒæ­¥ä»»åŠ¡`, ä¸€å£æ°”åŒºåŠ è½½`js`ï¼Œè€Œæœ‰çš„`js`å¼‚å¸¸å¯èƒ½ä¼šå‘ç”Ÿé˜»å¡é—®é¢˜ï¼Œé‚£ä¹ˆæµè§ˆå™¨å°±å¾—ä¸€ç›´ç­‰ï¼Œç›´åˆ°åŠ è½½å®Œæ¯•æ‰ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œè¿™æ ·æ¸²æŸ“é€Ÿåº¦å°±ä¼šéå¸¸æ…¢ï¼Œæ‰€ä»¥æµè§ˆå™¨å°±ä½¿ç”¨äº†å¤šçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹è´Ÿè´£å¤„ç†ä¸åŒçš„ä»»åŠ¡ï¼Œè¿™æ ·æ¸²æŸ“é€Ÿåº¦å°±ä¼šå¿«å¾ˆå¤šï¼›\n\næµè§ˆå™¨çš„æ¸²æŸ“ä¸»è¿›ç¨‹ä¸­ï¼Œåˆæœ‰å¤šä¸ªå­çº¿ç¨‹åŒºå¤„ç†ä¸åŒçš„ä»»åŠ¡ï¼›ä¾‹å¦‚ï¼š`è®¡æ—¶å™¨çº¿ç¨‹`, `ç½‘ç»œçº¿ç¨‹`ç­‰ç­‰ï¼›\n\nå¦‚æœ`æ¸²æŸ“è¿›ç¨‹`ä¸º`å•çº¿ç¨‹`é‚£ä¹ˆä¼šå¼•å‘ä»€ä¹ˆé—®é¢˜ï¼Ÿ\n\nä¸‹é¢ä¼šä»‹ç»åœ¨`js`ä¸­`å•çº¿ç¨‹`å¼•å‘çš„é—®é¢˜, å¦‚æœäº†è§£å…¶åŸç†ä¹‹åé‚£ä¹ˆå°±å¯ä»¥è§£é‡Š`å¦‚æœæ¸²æŸ“è¿›ç¨‹ä¸ºå•çº¿ç¨‹çš„é—®é¢˜ï¼Ÿ`\n\n## åŒæ­¥ä¸å¼‚æ­¥\n\nåœ¨è®¡ç®—æœºä¸­ï¼ŒåŒæ­¥å’Œå¼‚æ­¥æ˜¯ä¸¤ç§ä¸åŒçš„ç¼–ç¨‹æ¦‚å¿µï¼Œå®ƒä»¬åœ¨å¤„ç†ä»»åŠ¡æ—¶å…·æœ‰ä¸åŒçš„è¡Œä¸ºæ–¹å¼ã€‚\n\n1. åŒæ­¥ï¼šåŒæ­¥æ˜¯æŒ‡åœ¨æŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹å‰ï¼Œä¸èƒ½ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚åœ¨è®¡ç®—æœºä¸­ï¼ŒåŒæ­¥æ˜¯æŒ‡åœ¨æŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹å‰ï¼Œä¸èƒ½ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œåœ¨è¯»å–æ–‡ä»¶æ—¶ï¼Œå¦‚æœæ–‡ä»¶æ­£åœ¨è¢«å…¶ä»–è¿›ç¨‹ä¿®æ”¹ï¼Œé‚£ä¹ˆè¯»å–æ“ä½œå°†ä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°æ–‡ä»¶è¢«ä¿®æ”¹å®Œæˆã€‚\n2. å¼‚æ­¥ï¼šå¼‚æ­¥æ˜¯æŒ‡åœ¨æŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹åï¼Œå¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚åœ¨è®¡ç®—æœºä¸­ï¼Œå¼‚æ­¥æ˜¯æŒ‡åœ¨æŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹åï¼Œå¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œåœ¨è¯»å–æ–‡ä»¶æ—¶ï¼Œå¦‚æœæ–‡ä»¶æ­£åœ¨è¢«å…¶ä»–è¿›ç¨‹ä¿®æ”¹ï¼Œé‚£ä¹ˆè¯»å–æ“ä½œå°†ä¸ä¼šé˜»å¡ï¼Œè€Œæ˜¯å°†æ–‡ä»¶è¯»å–æ“ä½œæ”¾å…¥ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œå½“æ–‡ä»¶è¢«ä¿®æ”¹å®Œæˆæ—¶ï¼Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡å°†è¢«æ‰§è¡Œã€‚\n\nä¸€å¼ å›¾æè¿°äº†ï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/event-4.png)\n\nä¸Šé¢å›¾ç‰‡å¤§æ¦‚ä»‹ç»åŒæ­¥ä¸å¼‚æ­¥çš„åŒºåˆ«ï¼Œ\n\n```js\n// å¤§é‡åŒæ­¥ä»»åŠ¡å¸¦æ¥çš„å½±å“ï¼Ÿ\n\nfunction delay(time) {\n\tconst start = Date.now();\n\twhile (Date.now() - start < time) {}\n}\nconsole.log(\"å…ˆè§¦å‘\");\ndelay(3 * 1000);\ndocument.write(\"åè§¦å‘\");\n\n// ä»£ç è§£é‡Šï¼š\n// 1. ä»£ç ä¸ºåŒæ­¥ä»£ç ã€‚\n// 2. é¦–å…ˆæ‰§è¡Œâ€œå…ˆè§¦å‘â€ï¼Œ ç­‰å¾… 3s ä¹‹åæ‰ä¼šæ¸²æŸ“é¡µé¢ï¼›\n```\n\nä½†æ˜¯åœ¨è¿™ 3s ä¸­ä½ ä¼šå‘ç°é¡µé¢å‡ºç°äº†çŸ­æš‚çš„å¡æ­»ç°è±¡ï¼›é¿å…å‡ºç°è¿™æ ·çš„é—®é¢˜ï¼Œé‚£ä¹ˆå°±éœ€è¦å°†å…¶æ”¹ä¸ºå¼‚æ­¥\n\n```js\nfunction delay(time) {\n\tconsole.log(2);\n\treturn new Promise(resolve => {\n\t\tsetTimeout(resolve, time);\n\t});\n}\nconsole.log(\"å…ˆè§¦å‘\");\ndelay(3 * 1000).then(() => {\n\tdocument.write(\"åè§¦å‘\");\n});\n\n// ä»£ç è§£é‡Šï¼š\n// 1. ä»£ç ä¸ºå¼‚æ­¥ä»£ç ã€‚\n// 2. é¦–å…ˆæ‰§è¡Œâ€œå…ˆè§¦å‘â€ï¼Œ åœ¨ç­‰å¾… 3s çš„æ—¶é—´å†…ï¼Œå¯ä»¥æ“ä½œå…¶ä»–ä»»åŠ¡ï¼Œä¸ä¼šå‡ºç°é˜»å¡é—®é¢˜å¸¦æ¥çš„å¡æ­»ï¼›\n```\n\n## äº‹ä»¶å¾ªç¯ä¸é˜Ÿåˆ—\n\näº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰æ˜¯ JavaScript è¿è¡Œæ—¶ç¯å¢ƒï¼ˆRuntime Environmentï¼‰ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå®ƒè´Ÿè´£ç®¡ç† JavaScript ä»£ç çš„æ‰§è¡Œé¡ºåºã€‚äº‹ä»¶å¾ªç¯æ˜¯ JavaScript å¼•æ“å’Œ JavaScript è¿è¡Œæ—¶ç¯å¢ƒä¹‹é—´ä¸€ä¸ªé‡è¦çš„äº¤äº’æœºåˆ¶ï¼Œå®ƒè´Ÿè´£å°† JavaScript ä»£ç ä¸­çš„å¼‚æ­¥ä»»åŠ¡ä¸åŒæ­¥ä»»åŠ¡è¿›è¡Œåè°ƒï¼Œç¡®ä¿ä»£ç çš„é¡ºåºæ‰§è¡Œã€‚\n\näº‹ä»¶å¾ªç¯çš„è¿è¡Œæœºåˆ¶å¦‚ä¸‹ï¼š\n\n1. åˆ›å»ºä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼ˆTask Queueï¼‰ï¼šä»»åŠ¡é˜Ÿåˆ—ç”¨äºå­˜å‚¨å¾…æ‰§è¡Œçš„ä»»åŠ¡ã€‚\n2. åˆ›å»ºä¸€ä¸ªäº‹ä»¶é˜Ÿåˆ—ï¼ˆEvent Queueï¼‰ï¼šäº‹ä»¶é˜Ÿåˆ—ç”¨äºå­˜å‚¨å¾…å¤„ç†çš„äº‹ä»¶ã€‚\n3. JavaScript å¼•æ“ä¼šä»ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶å°†å…¶æ”¾å…¥æ‰§è¡Œæ ˆï¼ˆExecution Stackï¼‰ä¸­ã€‚\n4. å½“æ‰§è¡Œæ ˆä¸­çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼ŒJavaScript å¼•æ“ä¼šæ£€æŸ¥äº‹ä»¶é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰æ–°çš„äº‹ä»¶ã€‚\n5. å¦‚æœæœ‰æ–°çš„äº‹ä»¶ï¼ŒJavaScript å¼•æ“ä¼šå°†å…¶ä»äº‹ä»¶é˜Ÿåˆ—ä¸­å–å‡ºï¼Œå¹¶å°†å…¶æ”¾å…¥æ‰§è¡Œæ ˆä¸­ï¼Œç„¶åç»§ç»­æ‰§è¡Œä»»åŠ¡ã€‚\n6. é‡å¤æ­¥éª¤ 4 å’Œ 5ï¼Œç›´åˆ°ä»»åŠ¡é˜Ÿåˆ—å’Œäº‹ä»¶é˜Ÿåˆ—éƒ½ä¸ºç©ºã€‚\n\nåœ¨ JavaScript ä¸­ï¼Œäº‹ä»¶å¾ªç¯çš„å®ç°ä¸»è¦ä¾èµ–äº JavaScript å¼•æ“å’Œå®¿ä¸»ç¯å¢ƒï¼ˆä¾‹å¦‚æµè§ˆå™¨ï¼‰æä¾›çš„ APIã€‚ä»¥ä¸‹æ˜¯ JavaScript äº‹ä»¶å¾ªç¯çš„ç®€å•ä»‹ç»ï¼š\n\n1. å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼šJavaScript ä¸­æœ‰ä¸¤ç§ç±»å‹çš„ä»»åŠ¡ï¼šå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ã€‚\n   - å®ä»»åŠ¡åŒ…æ‹¬ `script`ã€`setTimeout`ã€`setInterval`ã€`setImmediate`ã€`I/O`ã€`UI rendering` ç­‰ï¼Œ\n   - è€Œå¾®ä»»åŠ¡åŒ…æ‹¬ `Promise`ã€`process.nextTick` ç­‰ã€‚\n2. äº‹ä»¶å¾ªç¯çš„è¿è¡Œæœºåˆ¶ï¼šäº‹ä»¶å¾ªç¯ä¼šæŒ‰ç…§ä»¥ä¸‹é¡ºåºè¿è¡Œï¼š\n\n   - é¦–å…ˆï¼Œæ‰§è¡Œæ ˆä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡ã€‚\n   - ç„¶åï¼Œå°†æ‰€æœ‰å¾®ä»»åŠ¡æ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå¹¶ä¾æ¬¡æ‰§è¡Œã€‚\n   - æœ€åï¼Œå°†æ‰€æœ‰å®ä»»åŠ¡æ”¾å…¥å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå¹¶ä¾æ¬¡æ‰§è¡Œã€‚\n\n3. æµè§ˆå™¨å’Œ Node.js ä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼šåœ¨æµè§ˆå™¨ä¸­ï¼Œäº‹ä»¶å¾ªç¯ä¼šä¸€ç›´è¿è¡Œï¼Œç›´åˆ°æ‰€æœ‰å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•ã€‚åœ¨ Node.js ä¸­ï¼Œäº‹ä»¶å¾ªç¯ä¼šåœ¨ Node.js è¿›ç¨‹é€€å‡ºä¹‹å‰ä¸€ç›´è¿è¡Œï¼Œç›´åˆ°æ‰€æœ‰å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•ã€‚\n\näº‹ä»¶å¾ªç¯ä¸é˜Ÿåˆ—å¦‚å›¾ï¼š\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/event-5.png)\n\nåˆ‡è®°äº‹ä»¶å¾ªç¯çš„æ‰§è¡Œé¡ºåºï¼Œä¼˜å…ˆçº§ä»é«˜è‡³ä½ä¸ºï¼š`å…¨å±€ > å¾®é˜Ÿåˆ— > äº¤äº’é˜Ÿåˆ— > å»¶è¿Ÿé˜Ÿåˆ—`,å…·ä½“æ‰§è¡Œé¡ºåºå¯å‚è€ƒå¦‚ä¸‹å›¾ï¼š\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/event-6.png)\n","slug":"æŠ€èƒ½å°å†Œ/javascript/åŸºç¡€æ²‰æ·€/çº¿ç¨‹å¼•å‘çš„æ€è€ƒ","published":1,"updated":"2025-03-13T10:16:18.908Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j50066fg9mbmup6432","content":"<div class=\"note info simple\"><p>åœ¨ä»‹ç»çº¿ç¨‹ä¹‹å‰ï¼Œä¼šå…ˆå£°æ˜<code>è¿›ç¨‹</code>, <code>è¿›ç¨‹çº¿ç¨‹çš„å…³ç³»</code>ï¼Œåœ¨äº†è§£äº†ä¿©è€…å…³ç³»ä¹‹åï¼Œå†æ¬¡æ€è€ƒçº¿ç¨‹å¸¦æ¥çš„ä¸€äº›é—®é¢˜ï¼›</p>\n</div>\n\n<h2 id=\"è¿›ç¨‹ä¸çº¿ç¨‹\"><a href=\"#è¿›ç¨‹ä¸çº¿ç¨‹\" class=\"headerlink\" title=\"è¿›ç¨‹ä¸çº¿ç¨‹\"></a>è¿›ç¨‹ä¸çº¿ç¨‹</h2><p>è¿›ç¨‹ï¼ˆProcessï¼‰æ˜¯æŒ‡åœ¨æ“ä½œç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªç¨‹åºå®ä¾‹ã€‚ä»¥ä¸‹æ˜¯è¿›ç¨‹çš„ä¸€äº›å…³é”®ç‰¹æ€§ï¼š</p>\n<ul>\n<li><strong>ç‹¬ç«‹æ€§</strong>ï¼šæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œè¿™æ„å‘³ç€ä¸€ä¸ªè¿›ç¨‹çš„æ‰§è¡Œä¸ä¼šç›´æ¥å½±å“åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ã€‚</li>\n<li><strong>èµ„æºåˆ†é…</strong>ï¼šæ“ä½œç³»ç»Ÿä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…èµ„æºï¼Œå¦‚ CPU æ—¶é—´ã€å†…å­˜å’Œæ–‡ä»¶å¥æŸ„ç­‰ã€‚</li>\n<li><strong>å¹¶å‘æ‰§è¡Œ</strong>ï¼šå¤šä¸ªè¿›ç¨‹å¯ä»¥åŒæ—¶è¿è¡Œåœ¨å¤šæ ¸å¤„ç†å™¨ä¸Šï¼Œå®ç°çœŸæ­£çš„å¹¶è¡Œå¤„ç†ï¼›åœ¨å•æ ¸å¤„ç†å™¨ä¸Šï¼Œé€šè¿‡æ—¶é—´ç‰‡è½®è½¬ç­‰æ–¹å¼å®ç°å¹¶å‘æ‰§è¡Œçš„å‡è±¡ã€‚</li>\n<li><strong>é€šä¿¡æœºåˆ¶</strong>ï¼šè¿›ç¨‹é—´å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼é€šä¿¡ï¼Œå¦‚ç®¡é“ï¼ˆPipeï¼‰ã€æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰ã€å…±äº«å†…å­˜ï¼ˆShared Memoryï¼‰ç­‰ã€‚</li>\n<li><strong>ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ï¼šè¿›ç¨‹æœ‰å…¶ç”Ÿå‘½å‘¨æœŸï¼ŒåŒ…æ‹¬åˆ›å»ºã€å°±ç»ªã€è¿è¡Œã€é˜»å¡å’Œç»ˆæ­¢ç­‰çŠ¶æ€ã€‚</li>\n</ul>\n<p>åœ¨<code>nodejs</code>ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨<code>child_process</code>åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹å»å¤„ç†å¤æ‚çš„åº”ç”¨åœºæ™¯ï¼›</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; spawn &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;child_process&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> child = <span class=\"title function_\">spawn</span>(<span class=\"string\">&quot;node&quot;</span>, [</span><br><span class=\"line\">\t<span class=\"string\">&quot;-e&quot;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&#x27;setInterval(() =&gt; console.log(&quot;hello&quot;), 1000)&#x27;</span>,</span><br><span class=\"line\">]);</span><br><span class=\"line\">child.<span class=\"property\">stdout</span>.<span class=\"title function_\">on</span>(<span class=\"string\">&quot;data&quot;</span>, <span class=\"function\"><span class=\"params\">data</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(data.<span class=\"title function_\">toString</span>());</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">child.<span class=\"title function_\">on</span>(<span class=\"string\">&quot;close&quot;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;child process exit&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\tchild.<span class=\"title function_\">kill</span>();</span><br><span class=\"line\">&#125;, <span class=\"number\">5000</span>);</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶è€Œåœ¨æµè§ˆå™¨ä¸­çš„<code>è¿›ç¨‹</code>æ˜¯ä»€ä¹ˆæ ·çš„ï¼›</p>\n<p>åœ¨è®¡ç®—æœºä¸­ï¼Œä¼šå•ç‹¬å¼€è¾Ÿä¸€å—å†…å­˜ç©ºé—´ç»™åˆ°æµè§ˆå™¨ï¼Œå› ä¸ºè®¡ç®—æœºæ¯æ—¶æ¯åˆ»éƒ½åœ¨å¤„ç†å…¶ä»–äº‹æƒ…ï¼Œç®€å•çš„è¯´æµè§ˆå™¨å°±æ˜¯è®¡ç®—æœºä¸­çš„ä¸€ä¸ªå­è¿›ç¨‹ä¹‹ä¸€ï¼Œå› ä¸ºåœ¨<code>windows</code>ä¸­æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œä½ å°±ä¼šå‘ç°æµè§ˆå™¨åœ¨å…¶ä¸­ï¼›</p>\n<p>ä»å›¾ä¸­å°±å¯ä»¥çœ‹å‡ºæ¯ä¸ªåº”ç”¨å ç”¨çš„å†…å­˜ç©ºé—´æ˜¯ä¸ä¸€æ ·çš„ï¼›è¿›ç¨‹ä¸è¿›ç¨‹ä¹‹é—´æ˜¯å…è®¸é€šä¿¡çš„ï¼Œä½†æ˜¯æ˜¯éœ€è¦è¢«åŒæ„çš„ï¼›ä¾‹å¦‚ï¼šå¾®ä¿¡ä¸ qq é€šä¿¡ï¼Œqq æƒ³è¦é€šä¿¡ç»™å¾®ä¿¡ï¼Œé‚£ä¹ˆå¾®ä¿¡éœ€è¦æ”¯æŒå¹¶åŒæ„é€šä¿¡ï¼›<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/event-1.png\" alt=\"x\"></p>\n<p>è€Œå¯¹äºæµè§ˆå™¨è€Œè¨€ï¼Œä¹Ÿæ˜¯æœ‰å­è¿›ç¨‹ä¸çº¿ç¨‹çš„ï¼Œå½“æ‰“å¼€æµè§ˆå™¨ä¸è®ºé¦–é¡µæ˜¯<code>ç™¾åº¦</code>è¿˜æ˜¯<code>Google</code>ä¸»è¿›ç¨‹å·²ç»å¼€å§‹äº†ï¼Œé‚£ä¹ˆå¼•å‘äº†ä¸€ä¸ªæ€è€ƒï¼Ÿ</p>\n<p><strong>æµè§ˆå™¨å¤„ç†äº†å¾ˆå¤šä¸œè¥¿ï¼Œä¸ºä»€ä¹ˆä¸ä¼šå¡æ­»å‘¢ï¼Ÿ</strong></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/event-3.png\" alt=\"x\"></p>\n<p>æ˜¯å› ä¸ºï¼š æµè§ˆå™¨çš„æ¸²æŸ“å¼•æ“æ˜¯å¤šçº¿ç¨‹çš„ï¼Œ åœ¨å¤„ç†ä¸åŒçš„ä»»åŠ¡ä¾‹å¦‚<code>network, gpu, æ¸²æŸ“ä½ å†™çš„é¡µé¢</code>ç­‰ç­‰éƒ½ä¼šäº¤ç»™ä¸åŒçš„å­è¿›ç¨‹ï¼Œæ¯ä¸ªå­è¿›ç¨‹æœ‰è‡ªå·±çš„ idï¼Œå¹¶ä¸”æ¯ä¸ªå­è¿›ç¨‹éƒ½æ˜¯å¤šçº¿ç¨‹çš„ï¼›ä¾‹å¦‚ä¸‹å›¾ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7egrmuu60u.webp\" alt=\"x\"></p>\n<p>é‚£ä¹ˆå°±æ‹¿æ¸²æŸ“ä¸»è¿›ç¨‹æ¥è¯´ï¼Œå¦‚æœæ¸²æŸ“å¼•æ“æ˜¯å•çº¿ç¨‹ï¼Œä½ å¯ä»¥æƒ³è±¡çš„åˆ°ï¼Œé¡µé¢æ‰“å¼€é€Ÿåº¦ä¼šéå¸¸æ…¢ï¼Œå› ä¸ºæµè§ˆå™¨éœ€è¦ç­‰å¾…æ¸²æŸ“å¼•æ“å¤„ç†å®Œä¸€ä¸ªä»»åŠ¡å†å¤„ç†ä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œä¾‹å¦‚ï¼š<code>åŒæ­¥ä»»åŠ¡</code>, ä¸€å£æ°”åŒºåŠ è½½<code>js</code>ï¼Œè€Œæœ‰çš„<code>js</code>å¼‚å¸¸å¯èƒ½ä¼šå‘ç”Ÿé˜»å¡é—®é¢˜ï¼Œé‚£ä¹ˆæµè§ˆå™¨å°±å¾—ä¸€ç›´ç­‰ï¼Œç›´åˆ°åŠ è½½å®Œæ¯•æ‰ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œè¿™æ ·æ¸²æŸ“é€Ÿåº¦å°±ä¼šéå¸¸æ…¢ï¼Œæ‰€ä»¥æµè§ˆå™¨å°±ä½¿ç”¨äº†å¤šçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹è´Ÿè´£å¤„ç†ä¸åŒçš„ä»»åŠ¡ï¼Œè¿™æ ·æ¸²æŸ“é€Ÿåº¦å°±ä¼šå¿«å¾ˆå¤šï¼›</p>\n<p>æµè§ˆå™¨çš„æ¸²æŸ“ä¸»è¿›ç¨‹ä¸­ï¼Œåˆæœ‰å¤šä¸ªå­çº¿ç¨‹åŒºå¤„ç†ä¸åŒçš„ä»»åŠ¡ï¼›ä¾‹å¦‚ï¼š<code>è®¡æ—¶å™¨çº¿ç¨‹</code>, <code>ç½‘ç»œçº¿ç¨‹</code>ç­‰ç­‰ï¼›</p>\n<p>å¦‚æœ<code>æ¸²æŸ“è¿›ç¨‹</code>ä¸º<code>å•çº¿ç¨‹</code>é‚£ä¹ˆä¼šå¼•å‘ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>\n<p>ä¸‹é¢ä¼šä»‹ç»åœ¨<code>js</code>ä¸­<code>å•çº¿ç¨‹</code>å¼•å‘çš„é—®é¢˜, å¦‚æœäº†è§£å…¶åŸç†ä¹‹åé‚£ä¹ˆå°±å¯ä»¥è§£é‡Š<code>å¦‚æœæ¸²æŸ“è¿›ç¨‹ä¸ºå•çº¿ç¨‹çš„é—®é¢˜ï¼Ÿ</code></p>\n<h2 id=\"åŒæ­¥ä¸å¼‚æ­¥\"><a href=\"#åŒæ­¥ä¸å¼‚æ­¥\" class=\"headerlink\" title=\"åŒæ­¥ä¸å¼‚æ­¥\"></a>åŒæ­¥ä¸å¼‚æ­¥</h2><p>åœ¨è®¡ç®—æœºä¸­ï¼ŒåŒæ­¥å’Œå¼‚æ­¥æ˜¯ä¸¤ç§ä¸åŒçš„ç¼–ç¨‹æ¦‚å¿µï¼Œå®ƒä»¬åœ¨å¤„ç†ä»»åŠ¡æ—¶å…·æœ‰ä¸åŒçš„è¡Œä¸ºæ–¹å¼ã€‚</p>\n<ol>\n<li>åŒæ­¥ï¼šåŒæ­¥æ˜¯æŒ‡åœ¨æŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹å‰ï¼Œä¸èƒ½ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚åœ¨è®¡ç®—æœºä¸­ï¼ŒåŒæ­¥æ˜¯æŒ‡åœ¨æŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹å‰ï¼Œä¸èƒ½ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œåœ¨è¯»å–æ–‡ä»¶æ—¶ï¼Œå¦‚æœæ–‡ä»¶æ­£åœ¨è¢«å…¶ä»–è¿›ç¨‹ä¿®æ”¹ï¼Œé‚£ä¹ˆè¯»å–æ“ä½œå°†ä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°æ–‡ä»¶è¢«ä¿®æ”¹å®Œæˆã€‚</li>\n<li>å¼‚æ­¥ï¼šå¼‚æ­¥æ˜¯æŒ‡åœ¨æŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹åï¼Œå¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚åœ¨è®¡ç®—æœºä¸­ï¼Œå¼‚æ­¥æ˜¯æŒ‡åœ¨æŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹åï¼Œå¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œåœ¨è¯»å–æ–‡ä»¶æ—¶ï¼Œå¦‚æœæ–‡ä»¶æ­£åœ¨è¢«å…¶ä»–è¿›ç¨‹ä¿®æ”¹ï¼Œé‚£ä¹ˆè¯»å–æ“ä½œå°†ä¸ä¼šé˜»å¡ï¼Œè€Œæ˜¯å°†æ–‡ä»¶è¯»å–æ“ä½œæ”¾å…¥ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œå½“æ–‡ä»¶è¢«ä¿®æ”¹å®Œæˆæ—¶ï¼Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡å°†è¢«æ‰§è¡Œã€‚</li>\n</ol>\n<p>ä¸€å¼ å›¾æè¿°äº†ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/event-4.png\" alt=\"x\"></p>\n<p>ä¸Šé¢å›¾ç‰‡å¤§æ¦‚ä»‹ç»åŒæ­¥ä¸å¼‚æ­¥çš„åŒºåˆ«ï¼Œ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å¤§é‡åŒæ­¥ä»»åŠ¡å¸¦æ¥çš„å½±å“ï¼Ÿ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">delay</span>(<span class=\"params\">time</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> start = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (<span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>() - start &lt; time) &#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;å…ˆè§¦å‘&quot;</span>);</span><br><span class=\"line\"><span class=\"title function_\">delay</span>(<span class=\"number\">3</span> * <span class=\"number\">1000</span>);</span><br><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"title function_\">write</span>(<span class=\"string\">&quot;åè§¦å‘&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä»£ç è§£é‡Šï¼š</span></span><br><span class=\"line\"><span class=\"comment\">// 1. ä»£ç ä¸ºåŒæ­¥ä»£ç ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">// 2. é¦–å…ˆæ‰§è¡Œâ€œå…ˆè§¦å‘â€ï¼Œ ç­‰å¾… 3s ä¹‹åæ‰ä¼šæ¸²æŸ“é¡µé¢ï¼›</span></span><br></pre></td></tr></table></figure>\n\n<p>ä½†æ˜¯åœ¨è¿™ 3s ä¸­ä½ ä¼šå‘ç°é¡µé¢å‡ºç°äº†çŸ­æš‚çš„å¡æ­»ç°è±¡ï¼›é¿å…å‡ºç°è¿™æ ·çš„é—®é¢˜ï¼Œé‚£ä¹ˆå°±éœ€è¦å°†å…¶æ”¹ä¸ºå¼‚æ­¥</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">delay</span>(<span class=\"params\">time</span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">setTimeout</span>(resolve, time);</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;å…ˆè§¦å‘&quot;</span>);</span><br><span class=\"line\"><span class=\"title function_\">delay</span>(<span class=\"number\">3</span> * <span class=\"number\">1000</span>).<span class=\"title function_\">then</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">document</span>.<span class=\"title function_\">write</span>(<span class=\"string\">&quot;åè§¦å‘&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä»£ç è§£é‡Šï¼š</span></span><br><span class=\"line\"><span class=\"comment\">// 1. ä»£ç ä¸ºå¼‚æ­¥ä»£ç ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">// 2. é¦–å…ˆæ‰§è¡Œâ€œå…ˆè§¦å‘â€ï¼Œ åœ¨ç­‰å¾… 3s çš„æ—¶é—´å†…ï¼Œå¯ä»¥æ“ä½œå…¶ä»–ä»»åŠ¡ï¼Œä¸ä¼šå‡ºç°é˜»å¡é—®é¢˜å¸¦æ¥çš„å¡æ­»ï¼›</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"äº‹ä»¶å¾ªç¯ä¸é˜Ÿåˆ—\"><a href=\"#äº‹ä»¶å¾ªç¯ä¸é˜Ÿåˆ—\" class=\"headerlink\" title=\"äº‹ä»¶å¾ªç¯ä¸é˜Ÿåˆ—\"></a>äº‹ä»¶å¾ªç¯ä¸é˜Ÿåˆ—</h2><p>äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰æ˜¯ JavaScript è¿è¡Œæ—¶ç¯å¢ƒï¼ˆRuntime Environmentï¼‰ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå®ƒè´Ÿè´£ç®¡ç† JavaScript ä»£ç çš„æ‰§è¡Œé¡ºåºã€‚äº‹ä»¶å¾ªç¯æ˜¯ JavaScript å¼•æ“å’Œ JavaScript è¿è¡Œæ—¶ç¯å¢ƒä¹‹é—´ä¸€ä¸ªé‡è¦çš„äº¤äº’æœºåˆ¶ï¼Œå®ƒè´Ÿè´£å°† JavaScript ä»£ç ä¸­çš„å¼‚æ­¥ä»»åŠ¡ä¸åŒæ­¥ä»»åŠ¡è¿›è¡Œåè°ƒï¼Œç¡®ä¿ä»£ç çš„é¡ºåºæ‰§è¡Œã€‚</p>\n<p>äº‹ä»¶å¾ªç¯çš„è¿è¡Œæœºåˆ¶å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>åˆ›å»ºä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼ˆTask Queueï¼‰ï¼šä»»åŠ¡é˜Ÿåˆ—ç”¨äºå­˜å‚¨å¾…æ‰§è¡Œçš„ä»»åŠ¡ã€‚</li>\n<li>åˆ›å»ºä¸€ä¸ªäº‹ä»¶é˜Ÿåˆ—ï¼ˆEvent Queueï¼‰ï¼šäº‹ä»¶é˜Ÿåˆ—ç”¨äºå­˜å‚¨å¾…å¤„ç†çš„äº‹ä»¶ã€‚</li>\n<li>JavaScript å¼•æ“ä¼šä»ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶å°†å…¶æ”¾å…¥æ‰§è¡Œæ ˆï¼ˆExecution Stackï¼‰ä¸­ã€‚</li>\n<li>å½“æ‰§è¡Œæ ˆä¸­çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼ŒJavaScript å¼•æ“ä¼šæ£€æŸ¥äº‹ä»¶é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰æ–°çš„äº‹ä»¶ã€‚</li>\n<li>å¦‚æœæœ‰æ–°çš„äº‹ä»¶ï¼ŒJavaScript å¼•æ“ä¼šå°†å…¶ä»äº‹ä»¶é˜Ÿåˆ—ä¸­å–å‡ºï¼Œå¹¶å°†å…¶æ”¾å…¥æ‰§è¡Œæ ˆä¸­ï¼Œç„¶åç»§ç»­æ‰§è¡Œä»»åŠ¡ã€‚</li>\n<li>é‡å¤æ­¥éª¤ 4 å’Œ 5ï¼Œç›´åˆ°ä»»åŠ¡é˜Ÿåˆ—å’Œäº‹ä»¶é˜Ÿåˆ—éƒ½ä¸ºç©ºã€‚</li>\n</ol>\n<p>åœ¨ JavaScript ä¸­ï¼Œäº‹ä»¶å¾ªç¯çš„å®ç°ä¸»è¦ä¾èµ–äº JavaScript å¼•æ“å’Œå®¿ä¸»ç¯å¢ƒï¼ˆä¾‹å¦‚æµè§ˆå™¨ï¼‰æä¾›çš„ APIã€‚ä»¥ä¸‹æ˜¯ JavaScript äº‹ä»¶å¾ªç¯çš„ç®€å•ä»‹ç»ï¼š</p>\n<ol>\n<li><p>å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼šJavaScript ä¸­æœ‰ä¸¤ç§ç±»å‹çš„ä»»åŠ¡ï¼šå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ã€‚</p>\n<ul>\n<li>å®ä»»åŠ¡åŒ…æ‹¬ <code>script</code>ã€<code>setTimeout</code>ã€<code>setInterval</code>ã€<code>setImmediate</code>ã€<code>I/O</code>ã€<code>UI rendering</code> ç­‰ï¼Œ</li>\n<li>è€Œå¾®ä»»åŠ¡åŒ…æ‹¬ <code>Promise</code>ã€<code>process.nextTick</code> ç­‰ã€‚</li>\n</ul>\n</li>\n<li><p>äº‹ä»¶å¾ªç¯çš„è¿è¡Œæœºåˆ¶ï¼šäº‹ä»¶å¾ªç¯ä¼šæŒ‰ç…§ä»¥ä¸‹é¡ºåºè¿è¡Œï¼š</p>\n<ul>\n<li>é¦–å…ˆï¼Œæ‰§è¡Œæ ˆä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡ã€‚</li>\n<li>ç„¶åï¼Œå°†æ‰€æœ‰å¾®ä»»åŠ¡æ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå¹¶ä¾æ¬¡æ‰§è¡Œã€‚</li>\n<li>æœ€åï¼Œå°†æ‰€æœ‰å®ä»»åŠ¡æ”¾å…¥å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå¹¶ä¾æ¬¡æ‰§è¡Œã€‚</li>\n</ul>\n</li>\n<li><p>æµè§ˆå™¨å’Œ Node.js ä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼šåœ¨æµè§ˆå™¨ä¸­ï¼Œäº‹ä»¶å¾ªç¯ä¼šä¸€ç›´è¿è¡Œï¼Œç›´åˆ°æ‰€æœ‰å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•ã€‚åœ¨ Node.js ä¸­ï¼Œäº‹ä»¶å¾ªç¯ä¼šåœ¨ Node.js è¿›ç¨‹é€€å‡ºä¹‹å‰ä¸€ç›´è¿è¡Œï¼Œç›´åˆ°æ‰€æœ‰å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•ã€‚</p>\n</li>\n</ol>\n<p>äº‹ä»¶å¾ªç¯ä¸é˜Ÿåˆ—å¦‚å›¾ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/event-5.png\" alt=\"x\"></p>\n<p>åˆ‡è®°äº‹ä»¶å¾ªç¯çš„æ‰§è¡Œé¡ºåºï¼Œä¼˜å…ˆçº§ä»é«˜è‡³ä½ä¸ºï¼š<code>å…¨å±€ &gt; å¾®é˜Ÿåˆ— &gt; äº¤äº’é˜Ÿåˆ— &gt; å»¶è¿Ÿé˜Ÿåˆ—</code>,å…·ä½“æ‰§è¡Œé¡ºåºå¯å‚è€ƒå¦‚ä¸‹å›¾ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/event-6.png\" alt=\"x\"></p>\n","excerpt":"","more":"<div class=\"note info simple\"><p>åœ¨ä»‹ç»çº¿ç¨‹ä¹‹å‰ï¼Œä¼šå…ˆå£°æ˜<code>è¿›ç¨‹</code>, <code>è¿›ç¨‹çº¿ç¨‹çš„å…³ç³»</code>ï¼Œåœ¨äº†è§£äº†ä¿©è€…å…³ç³»ä¹‹åï¼Œå†æ¬¡æ€è€ƒçº¿ç¨‹å¸¦æ¥çš„ä¸€äº›é—®é¢˜ï¼›</p>\n</div>\n\n<h2 id=\"è¿›ç¨‹ä¸çº¿ç¨‹\"><a href=\"#è¿›ç¨‹ä¸çº¿ç¨‹\" class=\"headerlink\" title=\"è¿›ç¨‹ä¸çº¿ç¨‹\"></a>è¿›ç¨‹ä¸çº¿ç¨‹</h2><p>è¿›ç¨‹ï¼ˆProcessï¼‰æ˜¯æŒ‡åœ¨æ“ä½œç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªç¨‹åºå®ä¾‹ã€‚ä»¥ä¸‹æ˜¯è¿›ç¨‹çš„ä¸€äº›å…³é”®ç‰¹æ€§ï¼š</p>\n<ul>\n<li><strong>ç‹¬ç«‹æ€§</strong>ï¼šæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œè¿™æ„å‘³ç€ä¸€ä¸ªè¿›ç¨‹çš„æ‰§è¡Œä¸ä¼šç›´æ¥å½±å“åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ã€‚</li>\n<li><strong>èµ„æºåˆ†é…</strong>ï¼šæ“ä½œç³»ç»Ÿä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…èµ„æºï¼Œå¦‚ CPU æ—¶é—´ã€å†…å­˜å’Œæ–‡ä»¶å¥æŸ„ç­‰ã€‚</li>\n<li><strong>å¹¶å‘æ‰§è¡Œ</strong>ï¼šå¤šä¸ªè¿›ç¨‹å¯ä»¥åŒæ—¶è¿è¡Œåœ¨å¤šæ ¸å¤„ç†å™¨ä¸Šï¼Œå®ç°çœŸæ­£çš„å¹¶è¡Œå¤„ç†ï¼›åœ¨å•æ ¸å¤„ç†å™¨ä¸Šï¼Œé€šè¿‡æ—¶é—´ç‰‡è½®è½¬ç­‰æ–¹å¼å®ç°å¹¶å‘æ‰§è¡Œçš„å‡è±¡ã€‚</li>\n<li><strong>é€šä¿¡æœºåˆ¶</strong>ï¼šè¿›ç¨‹é—´å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼é€šä¿¡ï¼Œå¦‚ç®¡é“ï¼ˆPipeï¼‰ã€æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰ã€å…±äº«å†…å­˜ï¼ˆShared Memoryï¼‰ç­‰ã€‚</li>\n<li><strong>ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ï¼šè¿›ç¨‹æœ‰å…¶ç”Ÿå‘½å‘¨æœŸï¼ŒåŒ…æ‹¬åˆ›å»ºã€å°±ç»ªã€è¿è¡Œã€é˜»å¡å’Œç»ˆæ­¢ç­‰çŠ¶æ€ã€‚</li>\n</ul>\n<p>åœ¨<code>nodejs</code>ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨<code>child_process</code>åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹å»å¤„ç†å¤æ‚çš„åº”ç”¨åœºæ™¯ï¼›</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; spawn &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;child_process&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> child = <span class=\"title function_\">spawn</span>(<span class=\"string\">&quot;node&quot;</span>, [</span><br><span class=\"line\">\t<span class=\"string\">&quot;-e&quot;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&#x27;setInterval(() =&gt; console.log(&quot;hello&quot;), 1000)&#x27;</span>,</span><br><span class=\"line\">]);</span><br><span class=\"line\">child.<span class=\"property\">stdout</span>.<span class=\"title function_\">on</span>(<span class=\"string\">&quot;data&quot;</span>, <span class=\"function\"><span class=\"params\">data</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(data.<span class=\"title function_\">toString</span>());</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">child.<span class=\"title function_\">on</span>(<span class=\"string\">&quot;close&quot;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;child process exit&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\tchild.<span class=\"title function_\">kill</span>();</span><br><span class=\"line\">&#125;, <span class=\"number\">5000</span>);</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶è€Œåœ¨æµè§ˆå™¨ä¸­çš„<code>è¿›ç¨‹</code>æ˜¯ä»€ä¹ˆæ ·çš„ï¼›</p>\n<p>åœ¨è®¡ç®—æœºä¸­ï¼Œä¼šå•ç‹¬å¼€è¾Ÿä¸€å—å†…å­˜ç©ºé—´ç»™åˆ°æµè§ˆå™¨ï¼Œå› ä¸ºè®¡ç®—æœºæ¯æ—¶æ¯åˆ»éƒ½åœ¨å¤„ç†å…¶ä»–äº‹æƒ…ï¼Œç®€å•çš„è¯´æµè§ˆå™¨å°±æ˜¯è®¡ç®—æœºä¸­çš„ä¸€ä¸ªå­è¿›ç¨‹ä¹‹ä¸€ï¼Œå› ä¸ºåœ¨<code>windows</code>ä¸­æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œä½ å°±ä¼šå‘ç°æµè§ˆå™¨åœ¨å…¶ä¸­ï¼›</p>\n<p>ä»å›¾ä¸­å°±å¯ä»¥çœ‹å‡ºæ¯ä¸ªåº”ç”¨å ç”¨çš„å†…å­˜ç©ºé—´æ˜¯ä¸ä¸€æ ·çš„ï¼›è¿›ç¨‹ä¸è¿›ç¨‹ä¹‹é—´æ˜¯å…è®¸é€šä¿¡çš„ï¼Œä½†æ˜¯æ˜¯éœ€è¦è¢«åŒæ„çš„ï¼›ä¾‹å¦‚ï¼šå¾®ä¿¡ä¸ qq é€šä¿¡ï¼Œqq æƒ³è¦é€šä¿¡ç»™å¾®ä¿¡ï¼Œé‚£ä¹ˆå¾®ä¿¡éœ€è¦æ”¯æŒå¹¶åŒæ„é€šä¿¡ï¼›<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/event-1.png\" alt=\"x\"></p>\n<p>è€Œå¯¹äºæµè§ˆå™¨è€Œè¨€ï¼Œä¹Ÿæ˜¯æœ‰å­è¿›ç¨‹ä¸çº¿ç¨‹çš„ï¼Œå½“æ‰“å¼€æµè§ˆå™¨ä¸è®ºé¦–é¡µæ˜¯<code>ç™¾åº¦</code>è¿˜æ˜¯<code>Google</code>ä¸»è¿›ç¨‹å·²ç»å¼€å§‹äº†ï¼Œé‚£ä¹ˆå¼•å‘äº†ä¸€ä¸ªæ€è€ƒï¼Ÿ</p>\n<p><strong>æµè§ˆå™¨å¤„ç†äº†å¾ˆå¤šä¸œè¥¿ï¼Œä¸ºä»€ä¹ˆä¸ä¼šå¡æ­»å‘¢ï¼Ÿ</strong></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/event-3.png\" alt=\"x\"></p>\n<p>æ˜¯å› ä¸ºï¼š æµè§ˆå™¨çš„æ¸²æŸ“å¼•æ“æ˜¯å¤šçº¿ç¨‹çš„ï¼Œ åœ¨å¤„ç†ä¸åŒçš„ä»»åŠ¡ä¾‹å¦‚<code>network, gpu, æ¸²æŸ“ä½ å†™çš„é¡µé¢</code>ç­‰ç­‰éƒ½ä¼šäº¤ç»™ä¸åŒçš„å­è¿›ç¨‹ï¼Œæ¯ä¸ªå­è¿›ç¨‹æœ‰è‡ªå·±çš„ idï¼Œå¹¶ä¸”æ¯ä¸ªå­è¿›ç¨‹éƒ½æ˜¯å¤šçº¿ç¨‹çš„ï¼›ä¾‹å¦‚ä¸‹å›¾ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.7egrmuu60u.webp\" alt=\"x\"></p>\n<p>é‚£ä¹ˆå°±æ‹¿æ¸²æŸ“ä¸»è¿›ç¨‹æ¥è¯´ï¼Œå¦‚æœæ¸²æŸ“å¼•æ“æ˜¯å•çº¿ç¨‹ï¼Œä½ å¯ä»¥æƒ³è±¡çš„åˆ°ï¼Œé¡µé¢æ‰“å¼€é€Ÿåº¦ä¼šéå¸¸æ…¢ï¼Œå› ä¸ºæµè§ˆå™¨éœ€è¦ç­‰å¾…æ¸²æŸ“å¼•æ“å¤„ç†å®Œä¸€ä¸ªä»»åŠ¡å†å¤„ç†ä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œä¾‹å¦‚ï¼š<code>åŒæ­¥ä»»åŠ¡</code>, ä¸€å£æ°”åŒºåŠ è½½<code>js</code>ï¼Œè€Œæœ‰çš„<code>js</code>å¼‚å¸¸å¯èƒ½ä¼šå‘ç”Ÿé˜»å¡é—®é¢˜ï¼Œé‚£ä¹ˆæµè§ˆå™¨å°±å¾—ä¸€ç›´ç­‰ï¼Œç›´åˆ°åŠ è½½å®Œæ¯•æ‰ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œè¿™æ ·æ¸²æŸ“é€Ÿåº¦å°±ä¼šéå¸¸æ…¢ï¼Œæ‰€ä»¥æµè§ˆå™¨å°±ä½¿ç”¨äº†å¤šçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹è´Ÿè´£å¤„ç†ä¸åŒçš„ä»»åŠ¡ï¼Œè¿™æ ·æ¸²æŸ“é€Ÿåº¦å°±ä¼šå¿«å¾ˆå¤šï¼›</p>\n<p>æµè§ˆå™¨çš„æ¸²æŸ“ä¸»è¿›ç¨‹ä¸­ï¼Œåˆæœ‰å¤šä¸ªå­çº¿ç¨‹åŒºå¤„ç†ä¸åŒçš„ä»»åŠ¡ï¼›ä¾‹å¦‚ï¼š<code>è®¡æ—¶å™¨çº¿ç¨‹</code>, <code>ç½‘ç»œçº¿ç¨‹</code>ç­‰ç­‰ï¼›</p>\n<p>å¦‚æœ<code>æ¸²æŸ“è¿›ç¨‹</code>ä¸º<code>å•çº¿ç¨‹</code>é‚£ä¹ˆä¼šå¼•å‘ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>\n<p>ä¸‹é¢ä¼šä»‹ç»åœ¨<code>js</code>ä¸­<code>å•çº¿ç¨‹</code>å¼•å‘çš„é—®é¢˜, å¦‚æœäº†è§£å…¶åŸç†ä¹‹åé‚£ä¹ˆå°±å¯ä»¥è§£é‡Š<code>å¦‚æœæ¸²æŸ“è¿›ç¨‹ä¸ºå•çº¿ç¨‹çš„é—®é¢˜ï¼Ÿ</code></p>\n<h2 id=\"åŒæ­¥ä¸å¼‚æ­¥\"><a href=\"#åŒæ­¥ä¸å¼‚æ­¥\" class=\"headerlink\" title=\"åŒæ­¥ä¸å¼‚æ­¥\"></a>åŒæ­¥ä¸å¼‚æ­¥</h2><p>åœ¨è®¡ç®—æœºä¸­ï¼ŒåŒæ­¥å’Œå¼‚æ­¥æ˜¯ä¸¤ç§ä¸åŒçš„ç¼–ç¨‹æ¦‚å¿µï¼Œå®ƒä»¬åœ¨å¤„ç†ä»»åŠ¡æ—¶å…·æœ‰ä¸åŒçš„è¡Œä¸ºæ–¹å¼ã€‚</p>\n<ol>\n<li>åŒæ­¥ï¼šåŒæ­¥æ˜¯æŒ‡åœ¨æŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹å‰ï¼Œä¸èƒ½ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚åœ¨è®¡ç®—æœºä¸­ï¼ŒåŒæ­¥æ˜¯æŒ‡åœ¨æŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹å‰ï¼Œä¸èƒ½ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œåœ¨è¯»å–æ–‡ä»¶æ—¶ï¼Œå¦‚æœæ–‡ä»¶æ­£åœ¨è¢«å…¶ä»–è¿›ç¨‹ä¿®æ”¹ï¼Œé‚£ä¹ˆè¯»å–æ“ä½œå°†ä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°æ–‡ä»¶è¢«ä¿®æ”¹å®Œæˆã€‚</li>\n<li>å¼‚æ­¥ï¼šå¼‚æ­¥æ˜¯æŒ‡åœ¨æŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹åï¼Œå¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚åœ¨è®¡ç®—æœºä¸­ï¼Œå¼‚æ­¥æ˜¯æŒ‡åœ¨æŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹åï¼Œå¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œåœ¨è¯»å–æ–‡ä»¶æ—¶ï¼Œå¦‚æœæ–‡ä»¶æ­£åœ¨è¢«å…¶ä»–è¿›ç¨‹ä¿®æ”¹ï¼Œé‚£ä¹ˆè¯»å–æ“ä½œå°†ä¸ä¼šé˜»å¡ï¼Œè€Œæ˜¯å°†æ–‡ä»¶è¯»å–æ“ä½œæ”¾å…¥ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œå½“æ–‡ä»¶è¢«ä¿®æ”¹å®Œæˆæ—¶ï¼Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡å°†è¢«æ‰§è¡Œã€‚</li>\n</ol>\n<p>ä¸€å¼ å›¾æè¿°äº†ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/event-4.png\" alt=\"x\"></p>\n<p>ä¸Šé¢å›¾ç‰‡å¤§æ¦‚ä»‹ç»åŒæ­¥ä¸å¼‚æ­¥çš„åŒºåˆ«ï¼Œ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å¤§é‡åŒæ­¥ä»»åŠ¡å¸¦æ¥çš„å½±å“ï¼Ÿ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">delay</span>(<span class=\"params\">time</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> start = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (<span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>() - start &lt; time) &#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;å…ˆè§¦å‘&quot;</span>);</span><br><span class=\"line\"><span class=\"title function_\">delay</span>(<span class=\"number\">3</span> * <span class=\"number\">1000</span>);</span><br><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"title function_\">write</span>(<span class=\"string\">&quot;åè§¦å‘&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä»£ç è§£é‡Šï¼š</span></span><br><span class=\"line\"><span class=\"comment\">// 1. ä»£ç ä¸ºåŒæ­¥ä»£ç ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">// 2. é¦–å…ˆæ‰§è¡Œâ€œå…ˆè§¦å‘â€ï¼Œ ç­‰å¾… 3s ä¹‹åæ‰ä¼šæ¸²æŸ“é¡µé¢ï¼›</span></span><br></pre></td></tr></table></figure>\n\n<p>ä½†æ˜¯åœ¨è¿™ 3s ä¸­ä½ ä¼šå‘ç°é¡µé¢å‡ºç°äº†çŸ­æš‚çš„å¡æ­»ç°è±¡ï¼›é¿å…å‡ºç°è¿™æ ·çš„é—®é¢˜ï¼Œé‚£ä¹ˆå°±éœ€è¦å°†å…¶æ”¹ä¸ºå¼‚æ­¥</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">delay</span>(<span class=\"params\">time</span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">setTimeout</span>(resolve, time);</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;å…ˆè§¦å‘&quot;</span>);</span><br><span class=\"line\"><span class=\"title function_\">delay</span>(<span class=\"number\">3</span> * <span class=\"number\">1000</span>).<span class=\"title function_\">then</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">document</span>.<span class=\"title function_\">write</span>(<span class=\"string\">&quot;åè§¦å‘&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä»£ç è§£é‡Šï¼š</span></span><br><span class=\"line\"><span class=\"comment\">// 1. ä»£ç ä¸ºå¼‚æ­¥ä»£ç ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">// 2. é¦–å…ˆæ‰§è¡Œâ€œå…ˆè§¦å‘â€ï¼Œ åœ¨ç­‰å¾… 3s çš„æ—¶é—´å†…ï¼Œå¯ä»¥æ“ä½œå…¶ä»–ä»»åŠ¡ï¼Œä¸ä¼šå‡ºç°é˜»å¡é—®é¢˜å¸¦æ¥çš„å¡æ­»ï¼›</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"äº‹ä»¶å¾ªç¯ä¸é˜Ÿåˆ—\"><a href=\"#äº‹ä»¶å¾ªç¯ä¸é˜Ÿåˆ—\" class=\"headerlink\" title=\"äº‹ä»¶å¾ªç¯ä¸é˜Ÿåˆ—\"></a>äº‹ä»¶å¾ªç¯ä¸é˜Ÿåˆ—</h2><p>äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰æ˜¯ JavaScript è¿è¡Œæ—¶ç¯å¢ƒï¼ˆRuntime Environmentï¼‰ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå®ƒè´Ÿè´£ç®¡ç† JavaScript ä»£ç çš„æ‰§è¡Œé¡ºåºã€‚äº‹ä»¶å¾ªç¯æ˜¯ JavaScript å¼•æ“å’Œ JavaScript è¿è¡Œæ—¶ç¯å¢ƒä¹‹é—´ä¸€ä¸ªé‡è¦çš„äº¤äº’æœºåˆ¶ï¼Œå®ƒè´Ÿè´£å°† JavaScript ä»£ç ä¸­çš„å¼‚æ­¥ä»»åŠ¡ä¸åŒæ­¥ä»»åŠ¡è¿›è¡Œåè°ƒï¼Œç¡®ä¿ä»£ç çš„é¡ºåºæ‰§è¡Œã€‚</p>\n<p>äº‹ä»¶å¾ªç¯çš„è¿è¡Œæœºåˆ¶å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>åˆ›å»ºä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼ˆTask Queueï¼‰ï¼šä»»åŠ¡é˜Ÿåˆ—ç”¨äºå­˜å‚¨å¾…æ‰§è¡Œçš„ä»»åŠ¡ã€‚</li>\n<li>åˆ›å»ºä¸€ä¸ªäº‹ä»¶é˜Ÿåˆ—ï¼ˆEvent Queueï¼‰ï¼šäº‹ä»¶é˜Ÿåˆ—ç”¨äºå­˜å‚¨å¾…å¤„ç†çš„äº‹ä»¶ã€‚</li>\n<li>JavaScript å¼•æ“ä¼šä»ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶å°†å…¶æ”¾å…¥æ‰§è¡Œæ ˆï¼ˆExecution Stackï¼‰ä¸­ã€‚</li>\n<li>å½“æ‰§è¡Œæ ˆä¸­çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼ŒJavaScript å¼•æ“ä¼šæ£€æŸ¥äº‹ä»¶é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰æ–°çš„äº‹ä»¶ã€‚</li>\n<li>å¦‚æœæœ‰æ–°çš„äº‹ä»¶ï¼ŒJavaScript å¼•æ“ä¼šå°†å…¶ä»äº‹ä»¶é˜Ÿåˆ—ä¸­å–å‡ºï¼Œå¹¶å°†å…¶æ”¾å…¥æ‰§è¡Œæ ˆä¸­ï¼Œç„¶åç»§ç»­æ‰§è¡Œä»»åŠ¡ã€‚</li>\n<li>é‡å¤æ­¥éª¤ 4 å’Œ 5ï¼Œç›´åˆ°ä»»åŠ¡é˜Ÿåˆ—å’Œäº‹ä»¶é˜Ÿåˆ—éƒ½ä¸ºç©ºã€‚</li>\n</ol>\n<p>åœ¨ JavaScript ä¸­ï¼Œäº‹ä»¶å¾ªç¯çš„å®ç°ä¸»è¦ä¾èµ–äº JavaScript å¼•æ“å’Œå®¿ä¸»ç¯å¢ƒï¼ˆä¾‹å¦‚æµè§ˆå™¨ï¼‰æä¾›çš„ APIã€‚ä»¥ä¸‹æ˜¯ JavaScript äº‹ä»¶å¾ªç¯çš„ç®€å•ä»‹ç»ï¼š</p>\n<ol>\n<li><p>å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼šJavaScript ä¸­æœ‰ä¸¤ç§ç±»å‹çš„ä»»åŠ¡ï¼šå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ã€‚</p>\n<ul>\n<li>å®ä»»åŠ¡åŒ…æ‹¬ <code>script</code>ã€<code>setTimeout</code>ã€<code>setInterval</code>ã€<code>setImmediate</code>ã€<code>I/O</code>ã€<code>UI rendering</code> ç­‰ï¼Œ</li>\n<li>è€Œå¾®ä»»åŠ¡åŒ…æ‹¬ <code>Promise</code>ã€<code>process.nextTick</code> ç­‰ã€‚</li>\n</ul>\n</li>\n<li><p>äº‹ä»¶å¾ªç¯çš„è¿è¡Œæœºåˆ¶ï¼šäº‹ä»¶å¾ªç¯ä¼šæŒ‰ç…§ä»¥ä¸‹é¡ºåºè¿è¡Œï¼š</p>\n<ul>\n<li>é¦–å…ˆï¼Œæ‰§è¡Œæ ˆä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡ã€‚</li>\n<li>ç„¶åï¼Œå°†æ‰€æœ‰å¾®ä»»åŠ¡æ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå¹¶ä¾æ¬¡æ‰§è¡Œã€‚</li>\n<li>æœ€åï¼Œå°†æ‰€æœ‰å®ä»»åŠ¡æ”¾å…¥å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå¹¶ä¾æ¬¡æ‰§è¡Œã€‚</li>\n</ul>\n</li>\n<li><p>æµè§ˆå™¨å’Œ Node.js ä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼šåœ¨æµè§ˆå™¨ä¸­ï¼Œäº‹ä»¶å¾ªç¯ä¼šä¸€ç›´è¿è¡Œï¼Œç›´åˆ°æ‰€æœ‰å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•ã€‚åœ¨ Node.js ä¸­ï¼Œäº‹ä»¶å¾ªç¯ä¼šåœ¨ Node.js è¿›ç¨‹é€€å‡ºä¹‹å‰ä¸€ç›´è¿è¡Œï¼Œç›´åˆ°æ‰€æœ‰å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•ã€‚</p>\n</li>\n</ol>\n<p>äº‹ä»¶å¾ªç¯ä¸é˜Ÿåˆ—å¦‚å›¾ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/event-5.png\" alt=\"x\"></p>\n<p>åˆ‡è®°äº‹ä»¶å¾ªç¯çš„æ‰§è¡Œé¡ºåºï¼Œä¼˜å…ˆçº§ä»é«˜è‡³ä½ä¸ºï¼š<code>å…¨å±€ &gt; å¾®é˜Ÿåˆ— &gt; äº¤äº’é˜Ÿåˆ— &gt; å»¶è¿Ÿé˜Ÿåˆ—</code>,å…·ä½“æ‰§è¡Œé¡ºåºå¯å‚è€ƒå¦‚ä¸‹å›¾ï¼š<br><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/event-6.png\" alt=\"x\"></p>\n"},{"title":"é€‰æ‹©æ’åº","abbrlink":"43d00a99","date":"2024-08-14T03:20:38.000Z","_content":"\n{% note info simple %}\n`é€‰æ‹©æ’åº`ï¼ˆSelection Sortï¼‰æ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ï¼Œå®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯æ¯æ¬¡ä»æœªæ’åºçš„æ•°æ®ä¸­æ‰¾å‡ºæœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰å…ƒç´ ï¼Œå¹¶å°†å…¶æ”¾åˆ°å·²æ’åºçš„æ•°æ®çš„æœ«å°¾ã€‚\n{% endnote %}\n\né€‰æ‹©æ’åºçš„æ­¥éª¤å¦‚ä¸‹ï¼š\n\n1. ä»æœªæ’åºçš„æ•°æ®ä¸­æ‰¾å‡ºæœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰å…ƒç´ ã€‚\n2. å°†æœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰å…ƒç´ ä¸å½“å‰å…ƒç´ äº¤æ¢ä½ç½®ã€‚\n3. å°†å½“å‰å…ƒç´ æ ‡è®°ä¸ºå·²æ’åºã€‚\n4. é‡å¤æ­¥éª¤ 1-3ï¼Œç›´åˆ°æ•´ä¸ªæ•°æ®è¢«æ’åºã€‚\n\n## demo\n\n### ä»£ç \n\n```js\nfunction selectionSort(data = []) {\n\tfor (let i = 0; i < data.length; i++) {\n\t\tlet min = i;\n\t\tfor (let j = i + 1; j < data.length; j++) {\n\t\t\tif (data[min] > data[j]) {\n\t\t\t\tmin = j;\n\t\t\t}\n\t\t}\n\t\t// let temp = data[i];\n\t\t// data[i] = data[min];\n\t\t// data[min] = temp;\n\t\t// ç®€åŒ–\n\t\t[data[i], data[min]] = [data[min], data[i]];\n\t}\n\treturn data;\n}\nselectionSort([5, 2, 8, 3, 1, 6, 4]);\n```\n\n### å¯è§†åŒ–\n\n<demo html=\"html/é€‰æ‹©æ’åº.html\"/>\n\n## ä¼˜ç¼ºç‚¹\n\né€‰æ‹©æ’åºçš„ä¼˜ç‚¹æ˜¯ï¼š\n\n- ç®€å•æ˜“æ‡‚\n- å®ç°å®¹æ˜“\n- æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ï¼Œé€‚åˆå°è§„æ¨¡æ•°æ®æ’åº\n\né€‰æ‹©æ’åºçš„ç¼ºç‚¹æ˜¯ï¼š\n\n- æ—¶é—´å¤æ‚åº¦é«˜ï¼Œä¸é€‚åˆå¤§è§„æ¨¡æ•°æ®æ’åº\n- ä¸ç¨³å®šæ’åºç®—æ³•ï¼ˆå¦‚æœä¸¤ä¸ªå…ƒç´ ç›¸ç­‰ï¼Œå¯èƒ½ä¼šäº¤æ¢å®ƒä»¬çš„ä½ç½®ï¼‰\n\né€‰æ‹©æ’åºçš„åº”ç”¨åœºæ™¯ï¼š\n\n- å°è§„æ¨¡æ•°æ®æ’åº\n- éœ€è¦ç®€å•æ˜“æ‡‚çš„æ’åºç®—æ³•\n- ä¸éœ€è¦é«˜æ•ˆçš„æ’åºç®—æ³•\n","source":"_posts/æŠ€èƒ½å°å†Œ/javascript/ç®—æ³•/é€‰æ‹©æ’åº.md","raw":"---\ntitle: é€‰æ‹©æ’åº\nabbrlink: 43d00a99\ndate: 2024-08-14 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - JavaScript \n---\n\n{% note info simple %}\n`é€‰æ‹©æ’åº`ï¼ˆSelection Sortï¼‰æ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ï¼Œå®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯æ¯æ¬¡ä»æœªæ’åºçš„æ•°æ®ä¸­æ‰¾å‡ºæœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰å…ƒç´ ï¼Œå¹¶å°†å…¶æ”¾åˆ°å·²æ’åºçš„æ•°æ®çš„æœ«å°¾ã€‚\n{% endnote %}\n\né€‰æ‹©æ’åºçš„æ­¥éª¤å¦‚ä¸‹ï¼š\n\n1. ä»æœªæ’åºçš„æ•°æ®ä¸­æ‰¾å‡ºæœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰å…ƒç´ ã€‚\n2. å°†æœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰å…ƒç´ ä¸å½“å‰å…ƒç´ äº¤æ¢ä½ç½®ã€‚\n3. å°†å½“å‰å…ƒç´ æ ‡è®°ä¸ºå·²æ’åºã€‚\n4. é‡å¤æ­¥éª¤ 1-3ï¼Œç›´åˆ°æ•´ä¸ªæ•°æ®è¢«æ’åºã€‚\n\n## demo\n\n### ä»£ç \n\n```js\nfunction selectionSort(data = []) {\n\tfor (let i = 0; i < data.length; i++) {\n\t\tlet min = i;\n\t\tfor (let j = i + 1; j < data.length; j++) {\n\t\t\tif (data[min] > data[j]) {\n\t\t\t\tmin = j;\n\t\t\t}\n\t\t}\n\t\t// let temp = data[i];\n\t\t// data[i] = data[min];\n\t\t// data[min] = temp;\n\t\t// ç®€åŒ–\n\t\t[data[i], data[min]] = [data[min], data[i]];\n\t}\n\treturn data;\n}\nselectionSort([5, 2, 8, 3, 1, 6, 4]);\n```\n\n### å¯è§†åŒ–\n\n<demo html=\"html/é€‰æ‹©æ’åº.html\"/>\n\n## ä¼˜ç¼ºç‚¹\n\né€‰æ‹©æ’åºçš„ä¼˜ç‚¹æ˜¯ï¼š\n\n- ç®€å•æ˜“æ‡‚\n- å®ç°å®¹æ˜“\n- æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ï¼Œé€‚åˆå°è§„æ¨¡æ•°æ®æ’åº\n\né€‰æ‹©æ’åºçš„ç¼ºç‚¹æ˜¯ï¼š\n\n- æ—¶é—´å¤æ‚åº¦é«˜ï¼Œä¸é€‚åˆå¤§è§„æ¨¡æ•°æ®æ’åº\n- ä¸ç¨³å®šæ’åºç®—æ³•ï¼ˆå¦‚æœä¸¤ä¸ªå…ƒç´ ç›¸ç­‰ï¼Œå¯èƒ½ä¼šäº¤æ¢å®ƒä»¬çš„ä½ç½®ï¼‰\n\né€‰æ‹©æ’åºçš„åº”ç”¨åœºæ™¯ï¼š\n\n- å°è§„æ¨¡æ•°æ®æ’åº\n- éœ€è¦ç®€å•æ˜“æ‡‚çš„æ’åºç®—æ³•\n- ä¸éœ€è¦é«˜æ•ˆçš„æ’åºç®—æ³•\n","slug":"æŠ€èƒ½å°å†Œ/javascript/ç®—æ³•/é€‰æ‹©æ’åº","published":1,"updated":"2025-03-12T09:24:39.763Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j60069fg9m1nhs313z","content":"<div class=\"note info simple\"><p><code>é€‰æ‹©æ’åº</code>ï¼ˆSelection Sortï¼‰æ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ï¼Œå®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯æ¯æ¬¡ä»æœªæ’åºçš„æ•°æ®ä¸­æ‰¾å‡ºæœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰å…ƒç´ ï¼Œå¹¶å°†å…¶æ”¾åˆ°å·²æ’åºçš„æ•°æ®çš„æœ«å°¾ã€‚</p>\n</div>\n\n<p>é€‰æ‹©æ’åºçš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>ä»æœªæ’åºçš„æ•°æ®ä¸­æ‰¾å‡ºæœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰å…ƒç´ ã€‚</li>\n<li>å°†æœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰å…ƒç´ ä¸å½“å‰å…ƒç´ äº¤æ¢ä½ç½®ã€‚</li>\n<li>å°†å½“å‰å…ƒç´ æ ‡è®°ä¸ºå·²æ’åºã€‚</li>\n<li>é‡å¤æ­¥éª¤ 1-3ï¼Œç›´åˆ°æ•´ä¸ªæ•°æ®è¢«æ’åºã€‚</li>\n</ol>\n<h2 id=\"demo\"><a href=\"#demo\" class=\"headerlink\" title=\"demo\"></a>demo</h2><h3 id=\"ä»£ç \"><a href=\"#ä»£ç \" class=\"headerlink\" title=\"ä»£ç \"></a>ä»£ç </h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">selectionSort</span>(<span class=\"params\">data = []</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; data.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> min = i;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = i + <span class=\"number\">1</span>; j &lt; data.<span class=\"property\">length</span>; j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (data[min] &gt; data[j]) &#123;</span><br><span class=\"line\">\t\t\t\tmin = j;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// let temp = data[i];</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// data[i] = data[min];</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// data[min] = temp;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// ç®€åŒ–</span></span><br><span class=\"line\">\t\t[data[i], data[min]] = [data[min], data[i]];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">selectionSort</span>([<span class=\"number\">5</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>, <span class=\"number\">6</span>, <span class=\"number\">4</span>]);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¯è§†åŒ–\"><a href=\"#å¯è§†åŒ–\" class=\"headerlink\" title=\"å¯è§†åŒ–\"></a>å¯è§†åŒ–</h3><demo html=\"html/é€‰æ‹©æ’åº.html\"/>\n\n<h2 id=\"ä¼˜ç¼ºç‚¹\"><a href=\"#ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ä¼˜ç¼ºç‚¹\"></a>ä¼˜ç¼ºç‚¹</h2><p>é€‰æ‹©æ’åºçš„ä¼˜ç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>ç®€å•æ˜“æ‡‚</li>\n<li>å®ç°å®¹æ˜“</li>\n<li>æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ï¼Œé€‚åˆå°è§„æ¨¡æ•°æ®æ’åº</li>\n</ul>\n<p>é€‰æ‹©æ’åºçš„ç¼ºç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>æ—¶é—´å¤æ‚åº¦é«˜ï¼Œä¸é€‚åˆå¤§è§„æ¨¡æ•°æ®æ’åº</li>\n<li>ä¸ç¨³å®šæ’åºç®—æ³•ï¼ˆå¦‚æœä¸¤ä¸ªå…ƒç´ ç›¸ç­‰ï¼Œå¯èƒ½ä¼šäº¤æ¢å®ƒä»¬çš„ä½ç½®ï¼‰</li>\n</ul>\n<p>é€‰æ‹©æ’åºçš„åº”ç”¨åœºæ™¯ï¼š</p>\n<ul>\n<li>å°è§„æ¨¡æ•°æ®æ’åº</li>\n<li>éœ€è¦ç®€å•æ˜“æ‡‚çš„æ’åºç®—æ³•</li>\n<li>ä¸éœ€è¦é«˜æ•ˆçš„æ’åºç®—æ³•</li>\n</ul>\n","excerpt":"","more":"<div class=\"note info simple\"><p><code>é€‰æ‹©æ’åº</code>ï¼ˆSelection Sortï¼‰æ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ï¼Œå®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯æ¯æ¬¡ä»æœªæ’åºçš„æ•°æ®ä¸­æ‰¾å‡ºæœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰å…ƒç´ ï¼Œå¹¶å°†å…¶æ”¾åˆ°å·²æ’åºçš„æ•°æ®çš„æœ«å°¾ã€‚</p>\n</div>\n\n<p>é€‰æ‹©æ’åºçš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>ä»æœªæ’åºçš„æ•°æ®ä¸­æ‰¾å‡ºæœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰å…ƒç´ ã€‚</li>\n<li>å°†æœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰å…ƒç´ ä¸å½“å‰å…ƒç´ äº¤æ¢ä½ç½®ã€‚</li>\n<li>å°†å½“å‰å…ƒç´ æ ‡è®°ä¸ºå·²æ’åºã€‚</li>\n<li>é‡å¤æ­¥éª¤ 1-3ï¼Œç›´åˆ°æ•´ä¸ªæ•°æ®è¢«æ’åºã€‚</li>\n</ol>\n<h2 id=\"demo\"><a href=\"#demo\" class=\"headerlink\" title=\"demo\"></a>demo</h2><h3 id=\"ä»£ç \"><a href=\"#ä»£ç \" class=\"headerlink\" title=\"ä»£ç \"></a>ä»£ç </h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">selectionSort</span>(<span class=\"params\">data = []</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; data.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> min = i;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = i + <span class=\"number\">1</span>; j &lt; data.<span class=\"property\">length</span>; j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (data[min] &gt; data[j]) &#123;</span><br><span class=\"line\">\t\t\t\tmin = j;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// let temp = data[i];</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// data[i] = data[min];</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// data[min] = temp;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// ç®€åŒ–</span></span><br><span class=\"line\">\t\t[data[i], data[min]] = [data[min], data[i]];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">selectionSort</span>([<span class=\"number\">5</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>, <span class=\"number\">6</span>, <span class=\"number\">4</span>]);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¯è§†åŒ–\"><a href=\"#å¯è§†åŒ–\" class=\"headerlink\" title=\"å¯è§†åŒ–\"></a>å¯è§†åŒ–</h3><demo html=\"html/é€‰æ‹©æ’åº.html\"/>\n\n<h2 id=\"ä¼˜ç¼ºç‚¹\"><a href=\"#ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ä¼˜ç¼ºç‚¹\"></a>ä¼˜ç¼ºç‚¹</h2><p>é€‰æ‹©æ’åºçš„ä¼˜ç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>ç®€å•æ˜“æ‡‚</li>\n<li>å®ç°å®¹æ˜“</li>\n<li>æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ï¼Œé€‚åˆå°è§„æ¨¡æ•°æ®æ’åº</li>\n</ul>\n<p>é€‰æ‹©æ’åºçš„ç¼ºç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>æ—¶é—´å¤æ‚åº¦é«˜ï¼Œä¸é€‚åˆå¤§è§„æ¨¡æ•°æ®æ’åº</li>\n<li>ä¸ç¨³å®šæ’åºç®—æ³•ï¼ˆå¦‚æœä¸¤ä¸ªå…ƒç´ ç›¸ç­‰ï¼Œå¯èƒ½ä¼šäº¤æ¢å®ƒä»¬çš„ä½ç½®ï¼‰</li>\n</ul>\n<p>é€‰æ‹©æ’åºçš„åº”ç”¨åœºæ™¯ï¼š</p>\n<ul>\n<li>å°è§„æ¨¡æ•°æ®æ’åº</li>\n<li>éœ€è¦ç®€å•æ˜“æ‡‚çš„æ’åºç®—æ³•</li>\n<li>ä¸éœ€è¦é«˜æ•ˆçš„æ’åºç®—æ³•</li>\n</ul>\n"},{"title":"ä»£ç†æ¨¡å¼ï¼Ÿ","abbrlink":"ebf6ce09","date":"2025-01-15T03:20:38.000Z","_content":"\n# ä»£ç†æ¨¡å¼ï¼Ÿ\n\nä»£ç†æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸ä½ æä¾›å¯¹å¦ä¸€ä¸ªå¯¹è±¡çš„è®¿é—®ç‚¹ã€‚ä½¿ç”¨ä»£ç†å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°æ§åˆ¶ä¸æŸäº›å¯¹è±¡çš„äº¤äº’ã€‚ä»£ç†å¯¹è±¡å¯ä»¥ç¡®å®šæˆ‘ä»¬ä¸å¯¹è±¡äº¤äº’æ—¶çš„è¡Œä¸ºï¼Œä¾‹å¦‚è·å–å€¼æˆ–è®¾ç½®å€¼æ—¶ã€‚\n\nä¸€èˆ¬æ¥è¯´ï¼Œä»£ç†æ˜¯æŒ‡å…¶ä»–äººçš„æ›¿èº«ã€‚æ‚¨æ— éœ€ç›´æ¥ä¸è¯¥äººäº¤è°ˆï¼Œè€Œæ˜¯ä¸ä»£ç†äººäº¤è°ˆï¼Œè¯¥ä»£ç†äººå°†ä»£è¡¨æ‚¨å°è¯•è”ç³»çš„äººã€‚`JavaScript` ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ï¼šæˆ‘ä»¬æ— éœ€ç›´æ¥ä¸ç›®æ ‡å¯¹è±¡äº¤äº’ï¼Œè€Œæ˜¯ä¸ä»£ç†å¯¹è±¡äº¤äº’ã€‚\n\n## ç®€å•æ¡ˆä¾‹\n\né¦–å…ˆåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œ\n\n```js\nconst person = {\n\tname: \"John Doe\",\n\tage: 42,\n\tnationality: \"American\",\n};\n```\n\næˆ‘ä»¬ä¸æƒ³ç›´æ¥ä¸è¯¥å¯¹è±¡äº¤äº’ï¼Œè€Œæ˜¯æƒ³ä¸ä»£ç†å¯¹è±¡äº¤äº’ã€‚åœ¨ `JavaScript` ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹æ¥è½»æ¾åˆ›å»ºæ–°çš„ä»£ç†`Proxy`ã€‚\n\n```js\nconst person = {\n\tname: \"John Doe\",\n\tage: 42,\n\tnationality: \"American\",\n};\n\nconst personProxy = new Proxy(person, {});\n```\n\nçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªä»£è¡¨å¤„ç†ç¨‹åºçš„ `Proxy` å¯¹è±¡ã€‚åœ¨å¤„ç†ç¨‹åºå¯¹è±¡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®äº¤äº’ç±»å‹å®šä¹‰ç‰¹å®šè¡Œä¸ºã€‚è™½ç„¶ä½ å¯ä»¥å‘ä»£ç†å¤„ç†ç¨‹åºæ·»åŠ [è®¸å¤šæ–¹æ³•](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy)ï¼Œä½†æœ€å¸¸è§çš„ä¸¤ä¸ªæ–¹æ³•æ˜¯å’Œï¼š`get` `set`\n\n- `get`ï¼šå½“å¯¹è±¡å±æ€§è¢«è®¿é—®æ—¶ï¼Œè¯¥æ–¹æ³•è¢«è°ƒç”¨ã€‚\n- `set`ï¼šå½“å¯¹è±¡å±æ€§è¢«è®¾ç½®æˆ–æ›´æ”¹æ—¶ï¼Œè¯¥æ–¹æ³•è¢«è°ƒç”¨ã€‚\n\nè®©æˆ‘ä»¬å‘`personProxy`ä»£ç†æ·»åŠ å¤„ç†ç¨‹åºã€‚å½“å°è¯•ä¿®æ”¹å±æ€§æ—¶ï¼Œä»è€Œè°ƒç”¨`set`ä¸Šçš„æ–¹æ³•`Proxy`ï¼Œæˆ‘ä»¬å¸Œæœ›ä»£ç†è®°å½•è¯¥å±æ€§çš„å…ˆå‰å€¼å’Œæ–°å€¼ã€‚å½“å°è¯•è®¿é—®å±æ€§æ—¶ï¼Œä»è€Œè°ƒç”¨`get`ä¸Šçš„æ–¹æ³•`Proxy`ï¼Œæˆ‘ä»¬å¸Œæœ›ä»£ç†è®°å½•ä¸€ä¸ªæ›´æ˜“è¯»çš„è¯­å¥ï¼Œå…¶ä¸­åŒ…å«å±æ€§çš„é”®å’Œå€¼ã€‚\n\n```js\nconst personProxy = new Proxy(person, {\n\tget: (obj, prop) => {\n\t\tconsole.log(`The value of ${prop} is ${obj[prop]}`);\n\t},\n\tset: (obj, prop, value) => {\n\t\tconsole.log(`Changed ${prop} from ${obj[prop]} to ${value}`);\n\t\tobj[prop] = value;\n\t},\n});\n```\n\nå½“è®¿é—®è¯¥`name`å±æ€§æ—¶ï¼Œä»£ç†è¿”å›äº†ä¸€ä¸ªå¬èµ·æ¥æ›´å¥½çš„å¥å­ï¼š`The value of name is John Doeã€‚`\n\nå½“ä¿®æ”¹`age`å±æ€§æ—¶ï¼Œä»£ç†è¿”å›è¯¥å±æ€§çš„å…ˆå‰å€¼å’Œæ–°å€¼ï¼š`Changed age from 42 to 43ã€‚`\n\n## Reflect\n\nJavaScript æä¾›äº†ä¸€ä¸ªåä¸ºçš„å†…ç½®å¯¹è±¡`Reflect`ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬åœ¨ä½¿ç”¨ä»£ç†æ—¶å¯ä»¥æ›´è½»æ¾åœ°æ“ä½œç›®æ ‡å¯¹è±¡ã€‚\n\nä¹‹å‰æˆ‘ä»¬ä½¿ç”¨å¯¹è±¡ä¸­æ‹¬å·å»è·å–å’Œä¿®æ”¹å¯¹è±¡çš„å±æ€§ï¼Œç›¸åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¥`Reflect`å¯¹è±¡ã€‚å¯¹è±¡ä¸Šçš„æ–¹æ³•`Reflect`ä¸å¯¹è±¡ä¸Šçš„æ–¹æ³•åŒå`handler`ã€‚\n\nç®€å•æ¥è®²å‘¢ï¼Œå°±æ˜¯æ¢ä¸ªç”¨æ³•ï¼›[å¼ é‘«æ—­-Proxy æ˜¯ä»£ç†ï¼ŒReflect æ˜¯å¹²å˜›ç”¨çš„ï¼Ÿ](https://www.zhangxinxu.com/wordpress/2021/07/js-proxy-reflect/), å…¶ä¸­æœ‰å¥è¯è§£é‡Šï¼š**â€œä¸€å¥è¯ï¼ŒReflect æ²¡ä»€ä¹ˆç”¨ï¼Œé™¤äº†è£…è£…é€¼ï¼Œè®©äººçœ‹èµ·æ¥é«˜å¤§ä¸Šä»¥å¤–ï¼Œå¹¶ä¸å…·æœ‰ä»€ä¹ˆç‰›é€¼ä¹‹å¤„ã€‚â€**\n\nå…³äº`Reflect`ç”¨æ³•å¦‚ä¸‹ï¼š\n\n```js\nconst per = {\n\tname: \"zhangsan\",\n\tage: 18,\n\tsex: \"ç”·\",\n\tsay: function () {\n\t\tconsole.log(this.name + \" say hello\");\n\t},\n};\n\nconst pxy = new Proxy(per, {\n\tget(target, key, receiver) {\n\t\treturn Reflect.get(target, key, receiver);\n\t},\n\tset(target, key, value, receiver) {\n\t\treturn Reflect.set(target, key, value, receiver);\n\t},\n});\n\nconsole.log(pxy.name);\npxy.name = \"lisi\";\nconsole.log(pxy.name);\npxy.say();\n```\n","source":"_posts/æŠ€èƒ½å°å†Œ/javascript/è®¾è®¡æ¨¡å¼/ä»£ç†æ¨¡å¼.md","raw":"---\ntitle: ä»£ç†æ¨¡å¼ï¼Ÿ\nabbrlink: ebf6ce09\ndate: 2025-01-15 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - JavaScript\n---\n\n# ä»£ç†æ¨¡å¼ï¼Ÿ\n\nä»£ç†æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸ä½ æä¾›å¯¹å¦ä¸€ä¸ªå¯¹è±¡çš„è®¿é—®ç‚¹ã€‚ä½¿ç”¨ä»£ç†å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°æ§åˆ¶ä¸æŸäº›å¯¹è±¡çš„äº¤äº’ã€‚ä»£ç†å¯¹è±¡å¯ä»¥ç¡®å®šæˆ‘ä»¬ä¸å¯¹è±¡äº¤äº’æ—¶çš„è¡Œä¸ºï¼Œä¾‹å¦‚è·å–å€¼æˆ–è®¾ç½®å€¼æ—¶ã€‚\n\nä¸€èˆ¬æ¥è¯´ï¼Œä»£ç†æ˜¯æŒ‡å…¶ä»–äººçš„æ›¿èº«ã€‚æ‚¨æ— éœ€ç›´æ¥ä¸è¯¥äººäº¤è°ˆï¼Œè€Œæ˜¯ä¸ä»£ç†äººäº¤è°ˆï¼Œè¯¥ä»£ç†äººå°†ä»£è¡¨æ‚¨å°è¯•è”ç³»çš„äººã€‚`JavaScript` ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ï¼šæˆ‘ä»¬æ— éœ€ç›´æ¥ä¸ç›®æ ‡å¯¹è±¡äº¤äº’ï¼Œè€Œæ˜¯ä¸ä»£ç†å¯¹è±¡äº¤äº’ã€‚\n\n## ç®€å•æ¡ˆä¾‹\n\né¦–å…ˆåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œ\n\n```js\nconst person = {\n\tname: \"John Doe\",\n\tage: 42,\n\tnationality: \"American\",\n};\n```\n\næˆ‘ä»¬ä¸æƒ³ç›´æ¥ä¸è¯¥å¯¹è±¡äº¤äº’ï¼Œè€Œæ˜¯æƒ³ä¸ä»£ç†å¯¹è±¡äº¤äº’ã€‚åœ¨ `JavaScript` ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹æ¥è½»æ¾åˆ›å»ºæ–°çš„ä»£ç†`Proxy`ã€‚\n\n```js\nconst person = {\n\tname: \"John Doe\",\n\tage: 42,\n\tnationality: \"American\",\n};\n\nconst personProxy = new Proxy(person, {});\n```\n\nçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªä»£è¡¨å¤„ç†ç¨‹åºçš„ `Proxy` å¯¹è±¡ã€‚åœ¨å¤„ç†ç¨‹åºå¯¹è±¡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®äº¤äº’ç±»å‹å®šä¹‰ç‰¹å®šè¡Œä¸ºã€‚è™½ç„¶ä½ å¯ä»¥å‘ä»£ç†å¤„ç†ç¨‹åºæ·»åŠ [è®¸å¤šæ–¹æ³•](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy)ï¼Œä½†æœ€å¸¸è§çš„ä¸¤ä¸ªæ–¹æ³•æ˜¯å’Œï¼š`get` `set`\n\n- `get`ï¼šå½“å¯¹è±¡å±æ€§è¢«è®¿é—®æ—¶ï¼Œè¯¥æ–¹æ³•è¢«è°ƒç”¨ã€‚\n- `set`ï¼šå½“å¯¹è±¡å±æ€§è¢«è®¾ç½®æˆ–æ›´æ”¹æ—¶ï¼Œè¯¥æ–¹æ³•è¢«è°ƒç”¨ã€‚\n\nè®©æˆ‘ä»¬å‘`personProxy`ä»£ç†æ·»åŠ å¤„ç†ç¨‹åºã€‚å½“å°è¯•ä¿®æ”¹å±æ€§æ—¶ï¼Œä»è€Œè°ƒç”¨`set`ä¸Šçš„æ–¹æ³•`Proxy`ï¼Œæˆ‘ä»¬å¸Œæœ›ä»£ç†è®°å½•è¯¥å±æ€§çš„å…ˆå‰å€¼å’Œæ–°å€¼ã€‚å½“å°è¯•è®¿é—®å±æ€§æ—¶ï¼Œä»è€Œè°ƒç”¨`get`ä¸Šçš„æ–¹æ³•`Proxy`ï¼Œæˆ‘ä»¬å¸Œæœ›ä»£ç†è®°å½•ä¸€ä¸ªæ›´æ˜“è¯»çš„è¯­å¥ï¼Œå…¶ä¸­åŒ…å«å±æ€§çš„é”®å’Œå€¼ã€‚\n\n```js\nconst personProxy = new Proxy(person, {\n\tget: (obj, prop) => {\n\t\tconsole.log(`The value of ${prop} is ${obj[prop]}`);\n\t},\n\tset: (obj, prop, value) => {\n\t\tconsole.log(`Changed ${prop} from ${obj[prop]} to ${value}`);\n\t\tobj[prop] = value;\n\t},\n});\n```\n\nå½“è®¿é—®è¯¥`name`å±æ€§æ—¶ï¼Œä»£ç†è¿”å›äº†ä¸€ä¸ªå¬èµ·æ¥æ›´å¥½çš„å¥å­ï¼š`The value of name is John Doeã€‚`\n\nå½“ä¿®æ”¹`age`å±æ€§æ—¶ï¼Œä»£ç†è¿”å›è¯¥å±æ€§çš„å…ˆå‰å€¼å’Œæ–°å€¼ï¼š`Changed age from 42 to 43ã€‚`\n\n## Reflect\n\nJavaScript æä¾›äº†ä¸€ä¸ªåä¸ºçš„å†…ç½®å¯¹è±¡`Reflect`ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬åœ¨ä½¿ç”¨ä»£ç†æ—¶å¯ä»¥æ›´è½»æ¾åœ°æ“ä½œç›®æ ‡å¯¹è±¡ã€‚\n\nä¹‹å‰æˆ‘ä»¬ä½¿ç”¨å¯¹è±¡ä¸­æ‹¬å·å»è·å–å’Œä¿®æ”¹å¯¹è±¡çš„å±æ€§ï¼Œç›¸åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¥`Reflect`å¯¹è±¡ã€‚å¯¹è±¡ä¸Šçš„æ–¹æ³•`Reflect`ä¸å¯¹è±¡ä¸Šçš„æ–¹æ³•åŒå`handler`ã€‚\n\nç®€å•æ¥è®²å‘¢ï¼Œå°±æ˜¯æ¢ä¸ªç”¨æ³•ï¼›[å¼ é‘«æ—­-Proxy æ˜¯ä»£ç†ï¼ŒReflect æ˜¯å¹²å˜›ç”¨çš„ï¼Ÿ](https://www.zhangxinxu.com/wordpress/2021/07/js-proxy-reflect/), å…¶ä¸­æœ‰å¥è¯è§£é‡Šï¼š**â€œä¸€å¥è¯ï¼ŒReflect æ²¡ä»€ä¹ˆç”¨ï¼Œé™¤äº†è£…è£…é€¼ï¼Œè®©äººçœ‹èµ·æ¥é«˜å¤§ä¸Šä»¥å¤–ï¼Œå¹¶ä¸å…·æœ‰ä»€ä¹ˆç‰›é€¼ä¹‹å¤„ã€‚â€**\n\nå…³äº`Reflect`ç”¨æ³•å¦‚ä¸‹ï¼š\n\n```js\nconst per = {\n\tname: \"zhangsan\",\n\tage: 18,\n\tsex: \"ç”·\",\n\tsay: function () {\n\t\tconsole.log(this.name + \" say hello\");\n\t},\n};\n\nconst pxy = new Proxy(per, {\n\tget(target, key, receiver) {\n\t\treturn Reflect.get(target, key, receiver);\n\t},\n\tset(target, key, value, receiver) {\n\t\treturn Reflect.set(target, key, value, receiver);\n\t},\n});\n\nconsole.log(pxy.name);\npxy.name = \"lisi\";\nconsole.log(pxy.name);\npxy.say();\n```\n","slug":"æŠ€èƒ½å°å†Œ/javascript/è®¾è®¡æ¨¡å¼/ä»£ç†æ¨¡å¼","published":1,"updated":"2025-03-12T09:21:04.397Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j6006cfg9mdzqbg6a3","content":"<h1 id=\"ä»£ç†æ¨¡å¼ï¼Ÿ\"><a href=\"#ä»£ç†æ¨¡å¼ï¼Ÿ\" class=\"headerlink\" title=\"ä»£ç†æ¨¡å¼ï¼Ÿ\"></a>ä»£ç†æ¨¡å¼ï¼Ÿ</h1><p>ä»£ç†æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸ä½ æä¾›å¯¹å¦ä¸€ä¸ªå¯¹è±¡çš„è®¿é—®ç‚¹ã€‚ä½¿ç”¨ä»£ç†å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°æ§åˆ¶ä¸æŸäº›å¯¹è±¡çš„äº¤äº’ã€‚ä»£ç†å¯¹è±¡å¯ä»¥ç¡®å®šæˆ‘ä»¬ä¸å¯¹è±¡äº¤äº’æ—¶çš„è¡Œä¸ºï¼Œä¾‹å¦‚è·å–å€¼æˆ–è®¾ç½®å€¼æ—¶ã€‚</p>\n<p>ä¸€èˆ¬æ¥è¯´ï¼Œä»£ç†æ˜¯æŒ‡å…¶ä»–äººçš„æ›¿èº«ã€‚æ‚¨æ— éœ€ç›´æ¥ä¸è¯¥äººäº¤è°ˆï¼Œè€Œæ˜¯ä¸ä»£ç†äººäº¤è°ˆï¼Œè¯¥ä»£ç†äººå°†ä»£è¡¨æ‚¨å°è¯•è”ç³»çš„äººã€‚<code>JavaScript</code> ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ï¼šæˆ‘ä»¬æ— éœ€ç›´æ¥ä¸ç›®æ ‡å¯¹è±¡äº¤äº’ï¼Œè€Œæ˜¯ä¸ä»£ç†å¯¹è±¡äº¤äº’ã€‚</p>\n<h2 id=\"ç®€å•æ¡ˆä¾‹\"><a href=\"#ç®€å•æ¡ˆä¾‹\" class=\"headerlink\" title=\"ç®€å•æ¡ˆä¾‹\"></a>ç®€å•æ¡ˆä¾‹</h2><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> person = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;John Doe&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">age</span>: <span class=\"number\">42</span>,</span><br><span class=\"line\">\t<span class=\"attr\">nationality</span>: <span class=\"string\">&quot;American&quot;</span>,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬ä¸æƒ³ç›´æ¥ä¸è¯¥å¯¹è±¡äº¤äº’ï¼Œè€Œæ˜¯æƒ³ä¸ä»£ç†å¯¹è±¡äº¤äº’ã€‚åœ¨ <code>JavaScript</code> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹æ¥è½»æ¾åˆ›å»ºæ–°çš„ä»£ç†<code>Proxy</code>ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> person = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;John Doe&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">age</span>: <span class=\"number\">42</span>,</span><br><span class=\"line\">\t<span class=\"attr\">nationality</span>: <span class=\"string\">&quot;American&quot;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> personProxy = <span class=\"keyword\">new</span> <span class=\"title class_\">Proxy</span>(person, &#123;&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªä»£è¡¨å¤„ç†ç¨‹åºçš„ <code>Proxy</code> å¯¹è±¡ã€‚åœ¨å¤„ç†ç¨‹åºå¯¹è±¡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®äº¤äº’ç±»å‹å®šä¹‰ç‰¹å®šè¡Œä¸ºã€‚è™½ç„¶ä½ å¯ä»¥å‘ä»£ç†å¤„ç†ç¨‹åºæ·»åŠ <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy\">è®¸å¤šæ–¹æ³•</a>ï¼Œä½†æœ€å¸¸è§çš„ä¸¤ä¸ªæ–¹æ³•æ˜¯å’Œï¼š<code>get</code> <code>set</code></p>\n<ul>\n<li><code>get</code>ï¼šå½“å¯¹è±¡å±æ€§è¢«è®¿é—®æ—¶ï¼Œè¯¥æ–¹æ³•è¢«è°ƒç”¨ã€‚</li>\n<li><code>set</code>ï¼šå½“å¯¹è±¡å±æ€§è¢«è®¾ç½®æˆ–æ›´æ”¹æ—¶ï¼Œè¯¥æ–¹æ³•è¢«è°ƒç”¨ã€‚</li>\n</ul>\n<p>è®©æˆ‘ä»¬å‘<code>personProxy</code>ä»£ç†æ·»åŠ å¤„ç†ç¨‹åºã€‚å½“å°è¯•ä¿®æ”¹å±æ€§æ—¶ï¼Œä»è€Œè°ƒç”¨<code>set</code>ä¸Šçš„æ–¹æ³•<code>Proxy</code>ï¼Œæˆ‘ä»¬å¸Œæœ›ä»£ç†è®°å½•è¯¥å±æ€§çš„å…ˆå‰å€¼å’Œæ–°å€¼ã€‚å½“å°è¯•è®¿é—®å±æ€§æ—¶ï¼Œä»è€Œè°ƒç”¨<code>get</code>ä¸Šçš„æ–¹æ³•<code>Proxy</code>ï¼Œæˆ‘ä»¬å¸Œæœ›ä»£ç†è®°å½•ä¸€ä¸ªæ›´æ˜“è¯»çš„è¯­å¥ï¼Œå…¶ä¸­åŒ…å«å±æ€§çš„é”®å’Œå€¼ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> personProxy = <span class=\"keyword\">new</span> <span class=\"title class_\">Proxy</span>(person, &#123;</span><br><span class=\"line\">\t<span class=\"attr\">get</span>: <span class=\"function\">(<span class=\"params\">obj, prop</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`The value of <span class=\"subst\">$&#123;prop&#125;</span> is <span class=\"subst\">$&#123;obj[prop]&#125;</span>`</span>);</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">set</span>: <span class=\"function\">(<span class=\"params\">obj, prop, value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`Changed <span class=\"subst\">$&#123;prop&#125;</span> from <span class=\"subst\">$&#123;obj[prop]&#125;</span> to <span class=\"subst\">$&#123;value&#125;</span>`</span>);</span><br><span class=\"line\">\t\tobj[prop] = value;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>å½“è®¿é—®è¯¥<code>name</code>å±æ€§æ—¶ï¼Œä»£ç†è¿”å›äº†ä¸€ä¸ªå¬èµ·æ¥æ›´å¥½çš„å¥å­ï¼š<code>The value of name is John Doeã€‚</code></p>\n<p>å½“ä¿®æ”¹<code>age</code>å±æ€§æ—¶ï¼Œä»£ç†è¿”å›è¯¥å±æ€§çš„å…ˆå‰å€¼å’Œæ–°å€¼ï¼š<code>Changed age from 42 to 43ã€‚</code></p>\n<h2 id=\"Reflect\"><a href=\"#Reflect\" class=\"headerlink\" title=\"Reflect\"></a>Reflect</h2><p>JavaScript æä¾›äº†ä¸€ä¸ªåä¸ºçš„å†…ç½®å¯¹è±¡<code>Reflect</code>ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬åœ¨ä½¿ç”¨ä»£ç†æ—¶å¯ä»¥æ›´è½»æ¾åœ°æ“ä½œç›®æ ‡å¯¹è±¡ã€‚</p>\n<p>ä¹‹å‰æˆ‘ä»¬ä½¿ç”¨å¯¹è±¡ä¸­æ‹¬å·å»è·å–å’Œä¿®æ”¹å¯¹è±¡çš„å±æ€§ï¼Œç›¸åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¥<code>Reflect</code>å¯¹è±¡ã€‚å¯¹è±¡ä¸Šçš„æ–¹æ³•<code>Reflect</code>ä¸å¯¹è±¡ä¸Šçš„æ–¹æ³•åŒå<code>handler</code>ã€‚</p>\n<p>ç®€å•æ¥è®²å‘¢ï¼Œå°±æ˜¯æ¢ä¸ªç”¨æ³•ï¼›<a href=\"https://www.zhangxinxu.com/wordpress/2021/07/js-proxy-reflect/\">å¼ é‘«æ—­-Proxy æ˜¯ä»£ç†ï¼ŒReflect æ˜¯å¹²å˜›ç”¨çš„ï¼Ÿ</a>, å…¶ä¸­æœ‰å¥è¯è§£é‡Šï¼š<strong>â€œä¸€å¥è¯ï¼ŒReflect æ²¡ä»€ä¹ˆç”¨ï¼Œé™¤äº†è£…è£…é€¼ï¼Œè®©äººçœ‹èµ·æ¥é«˜å¤§ä¸Šä»¥å¤–ï¼Œå¹¶ä¸å…·æœ‰ä»€ä¹ˆç‰›é€¼ä¹‹å¤„ã€‚â€</strong></p>\n<p>å…³äº<code>Reflect</code>ç”¨æ³•å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> per = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;zhangsan&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">age</span>: <span class=\"number\">18</span>,</span><br><span class=\"line\">\t<span class=\"attr\">sex</span>: <span class=\"string\">&quot;ç”·&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">say</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">name</span> + <span class=\"string\">&quot; say hello&quot;</span>);</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> pxy = <span class=\"keyword\">new</span> <span class=\"title class_\">Proxy</span>(per, &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">get</span>(<span class=\"params\">target, key, receiver</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"title class_\">Reflect</span>.<span class=\"title function_\">get</span>(target, key, receiver);</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"title function_\">set</span>(<span class=\"params\">target, key, value, receiver</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"title class_\">Reflect</span>.<span class=\"title function_\">set</span>(target, key, value, receiver);</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(pxy.<span class=\"property\">name</span>);</span><br><span class=\"line\">pxy.<span class=\"property\">name</span> = <span class=\"string\">&quot;lisi&quot;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(pxy.<span class=\"property\">name</span>);</span><br><span class=\"line\">pxy.<span class=\"title function_\">say</span>();</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"ä»£ç†æ¨¡å¼ï¼Ÿ\"><a href=\"#ä»£ç†æ¨¡å¼ï¼Ÿ\" class=\"headerlink\" title=\"ä»£ç†æ¨¡å¼ï¼Ÿ\"></a>ä»£ç†æ¨¡å¼ï¼Ÿ</h1><p>ä»£ç†æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸ä½ æä¾›å¯¹å¦ä¸€ä¸ªå¯¹è±¡çš„è®¿é—®ç‚¹ã€‚ä½¿ç”¨ä»£ç†å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°æ§åˆ¶ä¸æŸäº›å¯¹è±¡çš„äº¤äº’ã€‚ä»£ç†å¯¹è±¡å¯ä»¥ç¡®å®šæˆ‘ä»¬ä¸å¯¹è±¡äº¤äº’æ—¶çš„è¡Œä¸ºï¼Œä¾‹å¦‚è·å–å€¼æˆ–è®¾ç½®å€¼æ—¶ã€‚</p>\n<p>ä¸€èˆ¬æ¥è¯´ï¼Œä»£ç†æ˜¯æŒ‡å…¶ä»–äººçš„æ›¿èº«ã€‚æ‚¨æ— éœ€ç›´æ¥ä¸è¯¥äººäº¤è°ˆï¼Œè€Œæ˜¯ä¸ä»£ç†äººäº¤è°ˆï¼Œè¯¥ä»£ç†äººå°†ä»£è¡¨æ‚¨å°è¯•è”ç³»çš„äººã€‚<code>JavaScript</code> ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ï¼šæˆ‘ä»¬æ— éœ€ç›´æ¥ä¸ç›®æ ‡å¯¹è±¡äº¤äº’ï¼Œè€Œæ˜¯ä¸ä»£ç†å¯¹è±¡äº¤äº’ã€‚</p>\n<h2 id=\"ç®€å•æ¡ˆä¾‹\"><a href=\"#ç®€å•æ¡ˆä¾‹\" class=\"headerlink\" title=\"ç®€å•æ¡ˆä¾‹\"></a>ç®€å•æ¡ˆä¾‹</h2><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> person = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;John Doe&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">age</span>: <span class=\"number\">42</span>,</span><br><span class=\"line\">\t<span class=\"attr\">nationality</span>: <span class=\"string\">&quot;American&quot;</span>,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬ä¸æƒ³ç›´æ¥ä¸è¯¥å¯¹è±¡äº¤äº’ï¼Œè€Œæ˜¯æƒ³ä¸ä»£ç†å¯¹è±¡äº¤äº’ã€‚åœ¨ <code>JavaScript</code> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹æ¥è½»æ¾åˆ›å»ºæ–°çš„ä»£ç†<code>Proxy</code>ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> person = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;John Doe&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">age</span>: <span class=\"number\">42</span>,</span><br><span class=\"line\">\t<span class=\"attr\">nationality</span>: <span class=\"string\">&quot;American&quot;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> personProxy = <span class=\"keyword\">new</span> <span class=\"title class_\">Proxy</span>(person, &#123;&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªä»£è¡¨å¤„ç†ç¨‹åºçš„ <code>Proxy</code> å¯¹è±¡ã€‚åœ¨å¤„ç†ç¨‹åºå¯¹è±¡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®äº¤äº’ç±»å‹å®šä¹‰ç‰¹å®šè¡Œä¸ºã€‚è™½ç„¶ä½ å¯ä»¥å‘ä»£ç†å¤„ç†ç¨‹åºæ·»åŠ <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy\">è®¸å¤šæ–¹æ³•</a>ï¼Œä½†æœ€å¸¸è§çš„ä¸¤ä¸ªæ–¹æ³•æ˜¯å’Œï¼š<code>get</code> <code>set</code></p>\n<ul>\n<li><code>get</code>ï¼šå½“å¯¹è±¡å±æ€§è¢«è®¿é—®æ—¶ï¼Œè¯¥æ–¹æ³•è¢«è°ƒç”¨ã€‚</li>\n<li><code>set</code>ï¼šå½“å¯¹è±¡å±æ€§è¢«è®¾ç½®æˆ–æ›´æ”¹æ—¶ï¼Œè¯¥æ–¹æ³•è¢«è°ƒç”¨ã€‚</li>\n</ul>\n<p>è®©æˆ‘ä»¬å‘<code>personProxy</code>ä»£ç†æ·»åŠ å¤„ç†ç¨‹åºã€‚å½“å°è¯•ä¿®æ”¹å±æ€§æ—¶ï¼Œä»è€Œè°ƒç”¨<code>set</code>ä¸Šçš„æ–¹æ³•<code>Proxy</code>ï¼Œæˆ‘ä»¬å¸Œæœ›ä»£ç†è®°å½•è¯¥å±æ€§çš„å…ˆå‰å€¼å’Œæ–°å€¼ã€‚å½“å°è¯•è®¿é—®å±æ€§æ—¶ï¼Œä»è€Œè°ƒç”¨<code>get</code>ä¸Šçš„æ–¹æ³•<code>Proxy</code>ï¼Œæˆ‘ä»¬å¸Œæœ›ä»£ç†è®°å½•ä¸€ä¸ªæ›´æ˜“è¯»çš„è¯­å¥ï¼Œå…¶ä¸­åŒ…å«å±æ€§çš„é”®å’Œå€¼ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> personProxy = <span class=\"keyword\">new</span> <span class=\"title class_\">Proxy</span>(person, &#123;</span><br><span class=\"line\">\t<span class=\"attr\">get</span>: <span class=\"function\">(<span class=\"params\">obj, prop</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`The value of <span class=\"subst\">$&#123;prop&#125;</span> is <span class=\"subst\">$&#123;obj[prop]&#125;</span>`</span>);</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">set</span>: <span class=\"function\">(<span class=\"params\">obj, prop, value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`Changed <span class=\"subst\">$&#123;prop&#125;</span> from <span class=\"subst\">$&#123;obj[prop]&#125;</span> to <span class=\"subst\">$&#123;value&#125;</span>`</span>);</span><br><span class=\"line\">\t\tobj[prop] = value;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>å½“è®¿é—®è¯¥<code>name</code>å±æ€§æ—¶ï¼Œä»£ç†è¿”å›äº†ä¸€ä¸ªå¬èµ·æ¥æ›´å¥½çš„å¥å­ï¼š<code>The value of name is John Doeã€‚</code></p>\n<p>å½“ä¿®æ”¹<code>age</code>å±æ€§æ—¶ï¼Œä»£ç†è¿”å›è¯¥å±æ€§çš„å…ˆå‰å€¼å’Œæ–°å€¼ï¼š<code>Changed age from 42 to 43ã€‚</code></p>\n<h2 id=\"Reflect\"><a href=\"#Reflect\" class=\"headerlink\" title=\"Reflect\"></a>Reflect</h2><p>JavaScript æä¾›äº†ä¸€ä¸ªåä¸ºçš„å†…ç½®å¯¹è±¡<code>Reflect</code>ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬åœ¨ä½¿ç”¨ä»£ç†æ—¶å¯ä»¥æ›´è½»æ¾åœ°æ“ä½œç›®æ ‡å¯¹è±¡ã€‚</p>\n<p>ä¹‹å‰æˆ‘ä»¬ä½¿ç”¨å¯¹è±¡ä¸­æ‹¬å·å»è·å–å’Œä¿®æ”¹å¯¹è±¡çš„å±æ€§ï¼Œç›¸åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¥<code>Reflect</code>å¯¹è±¡ã€‚å¯¹è±¡ä¸Šçš„æ–¹æ³•<code>Reflect</code>ä¸å¯¹è±¡ä¸Šçš„æ–¹æ³•åŒå<code>handler</code>ã€‚</p>\n<p>ç®€å•æ¥è®²å‘¢ï¼Œå°±æ˜¯æ¢ä¸ªç”¨æ³•ï¼›<a href=\"https://www.zhangxinxu.com/wordpress/2021/07/js-proxy-reflect/\">å¼ é‘«æ—­-Proxy æ˜¯ä»£ç†ï¼ŒReflect æ˜¯å¹²å˜›ç”¨çš„ï¼Ÿ</a>, å…¶ä¸­æœ‰å¥è¯è§£é‡Šï¼š<strong>â€œä¸€å¥è¯ï¼ŒReflect æ²¡ä»€ä¹ˆç”¨ï¼Œé™¤äº†è£…è£…é€¼ï¼Œè®©äººçœ‹èµ·æ¥é«˜å¤§ä¸Šä»¥å¤–ï¼Œå¹¶ä¸å…·æœ‰ä»€ä¹ˆç‰›é€¼ä¹‹å¤„ã€‚â€</strong></p>\n<p>å…³äº<code>Reflect</code>ç”¨æ³•å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> per = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;zhangsan&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">age</span>: <span class=\"number\">18</span>,</span><br><span class=\"line\">\t<span class=\"attr\">sex</span>: <span class=\"string\">&quot;ç”·&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">say</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">name</span> + <span class=\"string\">&quot; say hello&quot;</span>);</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> pxy = <span class=\"keyword\">new</span> <span class=\"title class_\">Proxy</span>(per, &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">get</span>(<span class=\"params\">target, key, receiver</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"title class_\">Reflect</span>.<span class=\"title function_\">get</span>(target, key, receiver);</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"title function_\">set</span>(<span class=\"params\">target, key, value, receiver</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"title class_\">Reflect</span>.<span class=\"title function_\">set</span>(target, key, value, receiver);</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(pxy.<span class=\"property\">name</span>);</span><br><span class=\"line\">pxy.<span class=\"property\">name</span> = <span class=\"string\">&quot;lisi&quot;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(pxy.<span class=\"property\">name</span>);</span><br><span class=\"line\">pxy.<span class=\"title function_\">say</span>();</span><br></pre></td></tr></table></figure>\n"},{"title":"å¿«é€Ÿæ’åº","abbrlink":"ff8068c0","date":"2024-08-14T03:20:38.000Z","_content":"\n{% note info simple %}\n`å¿«é€Ÿæ’åº`ï¼ˆQuicksortï¼‰æ˜¯ä¸€ç§é«˜æ•ˆçš„æ’åºç®—æ³•ï¼Œå®ƒçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(n log n)ï¼Œæ˜¯ç›®å‰æœ€å¿«çš„é€šç”¨æ’åºç®—æ³•ä¹‹ä¸€ã€‚\n{% endnote %}\n\nå¿«é€Ÿæ’åºçš„åŸºæœ¬æ­¥éª¤æ˜¯ï¼š\n\n1. é€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ¢è½´ï¼ˆpivotï¼‰ã€‚\n2. å°†æ‰€æœ‰å°äºæ¢è½´çš„å…ƒç´ æ”¾åœ¨æ¢è½´çš„å·¦è¾¹ï¼Œæ‰€æœ‰å¤§äºæ¢è½´çš„å…ƒç´ æ”¾åœ¨æ¢è½´çš„å³è¾¹ã€‚\n3. å¯¹æ¢è½´å·¦è¾¹å’Œå³è¾¹çš„å­åºåˆ—é€’å½’åº”ç”¨å¿«é€Ÿæ’åºç®—æ³•ã€‚\n\nå¿«é€Ÿæ’åºçš„å…³é”®åœ¨äºé€‰æ‹©åˆé€‚çš„æ¢è½´ã€‚ä¸åŒçš„æ¢è½´é€‰æ‹©æ–¹æ³•ä¼šå½±å“å¿«é€Ÿæ’åºçš„æ€§èƒ½ã€‚å¸¸è§çš„æ¢è½´é€‰æ‹©æ–¹æ³•åŒ…æ‹¬ï¼š\n\n- éšæœºé€‰æ‹©ï¼šéšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ¢è½´ã€‚\n- ä¸­ä½æ•°é€‰æ‹©ï¼šé€‰æ‹©ä¸­ä½æ•°ä½œä¸ºæ¢è½´ã€‚\n- æœ€å°å€¼é€‰æ‹©ï¼šé€‰æ‹©æœ€å°å€¼ä½œä¸ºæ¢è½´ã€‚\n\n## demo\n\n### ä»£ç \n\n```js\nfunction quickSort(arr) {\n\tif (arr.length <= 1) {\n\t\treturn arr;\n\t}\n\tconst pivot = arr[0];\n\tconst left = [];\n\tconst right = [];\n\tfor (let i = 1; i < arr.length; i++) {\n\t\tif (arr[i] <= pivot) {\n\t\t\tleft.push(arr[i]);\n\t\t} else {\n\t\t\tright.push(arr[i]);\n\t\t}\n\t}\n\treturn quickSort(left).concat(pivot, quickSort(right));\n}\n\nconsole.log(quickSort([5, 2, 8, 3, 1, 6, 4]));\n```\n\nè¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªæ•°ç»„ `arr` ä½œä¸ºè¾“å…¥ï¼Œè¿”å›ä¸€ä¸ªæ’åºåçš„æ•°ç»„ã€‚å®ƒçš„å·¥ä½œåŸç†æ˜¯ï¼š\n\n1. å¦‚æœæ•°ç»„é•¿åº¦å°äºæˆ–ç­‰äº 1ï¼Œåˆ™è¿”å›åŸæ•°ç»„ï¼ˆå› ä¸ºå·²ç»æ’åºï¼‰ã€‚\n2. é€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ¢è½´ (`pivot`ï¼‰ã€‚\n3. åˆ›å»ºä¸¤ä¸ªç©ºæ•°ç»„ `left` å’Œ `rightã€‚`\n4. éå†æ•°ç»„ï¼ˆä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼‰ï¼Œå¦‚æœå½“å‰å…ƒç´ å°äºæˆ–ç­‰äºæ¢è½´ï¼Œåˆ™å°†å…¶æ·»åŠ åˆ° `left` æ•°ç»„ï¼Œå¦åˆ™æ·»åŠ åˆ° `right` æ•°ç»„ã€‚\n5. é€’å½’è°ƒç”¨ `quickSort` å‡½æ•°å¯¹ `left` å’Œ `right` æ•°ç»„è¿›è¡Œæ’åºã€‚\n6. å°†æ’åºåçš„ `left` æ•°ç»„ã€æ¢è½´å’Œæ’åºåçš„ `right` æ•°ç»„æ‹¼æ¥èµ·æ¥ï¼Œè¿”å›ç»“æœã€‚\n\n### å¯è§†åŒ–\n\n<demo html=\"html/å¿«é€Ÿæ’åº.html\"/>\n\n## ä¼˜ç¼ºç‚¹\n\nå¿«é€Ÿæ’åºçš„ç‰¹ç‚¹æ˜¯ï¼š\n\n- é«˜æ•ˆï¼šå¿«é€Ÿæ’åºçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(n log n)ï¼Œæ˜¯ç›®å‰æœ€å¿«çš„é€šç”¨æ’åºç®—æ³•ä¹‹ä¸€ã€‚\n- ç¨³å®šï¼šå¿«é€Ÿæ’åºæ˜¯ç¨³å®šæ’åºç®—æ³•ï¼Œä¸ä¼šæ”¹å˜ç›¸åŒå…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚\n- é€‚åˆå¤§æ•°æ®é›†ï¼šå¿«é€Ÿæ’åºé€‚åˆå¤§æ•°æ®é›†çš„æ’åºã€‚\n\nå¿«é€Ÿæ’åºçš„ç¼ºç‚¹æ˜¯ï¼š\n\n- ä¸ç¨³å®šï¼šå¿«é€Ÿæ’åºåœ¨æœ€åæƒ…å†µä¸‹å¯èƒ½ä¼šå‡ºç°ä¸ç¨³å®šçš„ç°è±¡ã€‚\n- éœ€è¦é¢å¤–ç©ºé—´ï¼šå¿«é€Ÿæ’åºéœ€è¦é¢å¤–çš„ç©ºé—´æ¥å­˜å‚¨é€’å½’å‡½æ•°çš„è°ƒç”¨æ ˆã€‚\n\nå¿«é€Ÿæ’åºå¯ä»¥ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š\n\n- å¤§æ•°æ®é›†æ’åºï¼šå¿«é€Ÿæ’åºé€‚åˆå¤§æ•°æ®é›†çš„æ’åºã€‚\n- éœ€è¦é«˜æ•ˆç‡çš„åœºæ™¯ï¼šå¿«é€Ÿæ’åºé€‚åˆéœ€è¦é«˜æ•ˆç‡çš„åœºæ™¯ã€‚\n- éœ€è¦ç¨³å®šæ’åºçš„åœºæ™¯ï¼šå¿«é€Ÿæ’åºé€‚åˆéœ€è¦ç¨³å®šæ’åºçš„åœºæ™¯ã€‚\n\n## å‚è€ƒ\n\n- [github](https://github.com/herenpeng/herenpeng.github.io)\n- [åœ¨çº¿æ’åº](https://herenpeng.github.io/static/sort.html)\n","source":"_posts/æŠ€èƒ½å°å†Œ/javascript/ç®—æ³•/å¿«é€Ÿæ’åº.md","raw":"---\ntitle: å¿«é€Ÿæ’åº\nabbrlink: ff8068c0\ndate: 2024-08-14 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - JavaScript \n---\n\n{% note info simple %}\n`å¿«é€Ÿæ’åº`ï¼ˆQuicksortï¼‰æ˜¯ä¸€ç§é«˜æ•ˆçš„æ’åºç®—æ³•ï¼Œå®ƒçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(n log n)ï¼Œæ˜¯ç›®å‰æœ€å¿«çš„é€šç”¨æ’åºç®—æ³•ä¹‹ä¸€ã€‚\n{% endnote %}\n\nå¿«é€Ÿæ’åºçš„åŸºæœ¬æ­¥éª¤æ˜¯ï¼š\n\n1. é€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ¢è½´ï¼ˆpivotï¼‰ã€‚\n2. å°†æ‰€æœ‰å°äºæ¢è½´çš„å…ƒç´ æ”¾åœ¨æ¢è½´çš„å·¦è¾¹ï¼Œæ‰€æœ‰å¤§äºæ¢è½´çš„å…ƒç´ æ”¾åœ¨æ¢è½´çš„å³è¾¹ã€‚\n3. å¯¹æ¢è½´å·¦è¾¹å’Œå³è¾¹çš„å­åºåˆ—é€’å½’åº”ç”¨å¿«é€Ÿæ’åºç®—æ³•ã€‚\n\nå¿«é€Ÿæ’åºçš„å…³é”®åœ¨äºé€‰æ‹©åˆé€‚çš„æ¢è½´ã€‚ä¸åŒçš„æ¢è½´é€‰æ‹©æ–¹æ³•ä¼šå½±å“å¿«é€Ÿæ’åºçš„æ€§èƒ½ã€‚å¸¸è§çš„æ¢è½´é€‰æ‹©æ–¹æ³•åŒ…æ‹¬ï¼š\n\n- éšæœºé€‰æ‹©ï¼šéšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ¢è½´ã€‚\n- ä¸­ä½æ•°é€‰æ‹©ï¼šé€‰æ‹©ä¸­ä½æ•°ä½œä¸ºæ¢è½´ã€‚\n- æœ€å°å€¼é€‰æ‹©ï¼šé€‰æ‹©æœ€å°å€¼ä½œä¸ºæ¢è½´ã€‚\n\n## demo\n\n### ä»£ç \n\n```js\nfunction quickSort(arr) {\n\tif (arr.length <= 1) {\n\t\treturn arr;\n\t}\n\tconst pivot = arr[0];\n\tconst left = [];\n\tconst right = [];\n\tfor (let i = 1; i < arr.length; i++) {\n\t\tif (arr[i] <= pivot) {\n\t\t\tleft.push(arr[i]);\n\t\t} else {\n\t\t\tright.push(arr[i]);\n\t\t}\n\t}\n\treturn quickSort(left).concat(pivot, quickSort(right));\n}\n\nconsole.log(quickSort([5, 2, 8, 3, 1, 6, 4]));\n```\n\nè¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªæ•°ç»„ `arr` ä½œä¸ºè¾“å…¥ï¼Œè¿”å›ä¸€ä¸ªæ’åºåçš„æ•°ç»„ã€‚å®ƒçš„å·¥ä½œåŸç†æ˜¯ï¼š\n\n1. å¦‚æœæ•°ç»„é•¿åº¦å°äºæˆ–ç­‰äº 1ï¼Œåˆ™è¿”å›åŸæ•°ç»„ï¼ˆå› ä¸ºå·²ç»æ’åºï¼‰ã€‚\n2. é€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ¢è½´ (`pivot`ï¼‰ã€‚\n3. åˆ›å»ºä¸¤ä¸ªç©ºæ•°ç»„ `left` å’Œ `rightã€‚`\n4. éå†æ•°ç»„ï¼ˆä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼‰ï¼Œå¦‚æœå½“å‰å…ƒç´ å°äºæˆ–ç­‰äºæ¢è½´ï¼Œåˆ™å°†å…¶æ·»åŠ åˆ° `left` æ•°ç»„ï¼Œå¦åˆ™æ·»åŠ åˆ° `right` æ•°ç»„ã€‚\n5. é€’å½’è°ƒç”¨ `quickSort` å‡½æ•°å¯¹ `left` å’Œ `right` æ•°ç»„è¿›è¡Œæ’åºã€‚\n6. å°†æ’åºåçš„ `left` æ•°ç»„ã€æ¢è½´å’Œæ’åºåçš„ `right` æ•°ç»„æ‹¼æ¥èµ·æ¥ï¼Œè¿”å›ç»“æœã€‚\n\n### å¯è§†åŒ–\n\n<demo html=\"html/å¿«é€Ÿæ’åº.html\"/>\n\n## ä¼˜ç¼ºç‚¹\n\nå¿«é€Ÿæ’åºçš„ç‰¹ç‚¹æ˜¯ï¼š\n\n- é«˜æ•ˆï¼šå¿«é€Ÿæ’åºçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(n log n)ï¼Œæ˜¯ç›®å‰æœ€å¿«çš„é€šç”¨æ’åºç®—æ³•ä¹‹ä¸€ã€‚\n- ç¨³å®šï¼šå¿«é€Ÿæ’åºæ˜¯ç¨³å®šæ’åºç®—æ³•ï¼Œä¸ä¼šæ”¹å˜ç›¸åŒå…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚\n- é€‚åˆå¤§æ•°æ®é›†ï¼šå¿«é€Ÿæ’åºé€‚åˆå¤§æ•°æ®é›†çš„æ’åºã€‚\n\nå¿«é€Ÿæ’åºçš„ç¼ºç‚¹æ˜¯ï¼š\n\n- ä¸ç¨³å®šï¼šå¿«é€Ÿæ’åºåœ¨æœ€åæƒ…å†µä¸‹å¯èƒ½ä¼šå‡ºç°ä¸ç¨³å®šçš„ç°è±¡ã€‚\n- éœ€è¦é¢å¤–ç©ºé—´ï¼šå¿«é€Ÿæ’åºéœ€è¦é¢å¤–çš„ç©ºé—´æ¥å­˜å‚¨é€’å½’å‡½æ•°çš„è°ƒç”¨æ ˆã€‚\n\nå¿«é€Ÿæ’åºå¯ä»¥ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š\n\n- å¤§æ•°æ®é›†æ’åºï¼šå¿«é€Ÿæ’åºé€‚åˆå¤§æ•°æ®é›†çš„æ’åºã€‚\n- éœ€è¦é«˜æ•ˆç‡çš„åœºæ™¯ï¼šå¿«é€Ÿæ’åºé€‚åˆéœ€è¦é«˜æ•ˆç‡çš„åœºæ™¯ã€‚\n- éœ€è¦ç¨³å®šæ’åºçš„åœºæ™¯ï¼šå¿«é€Ÿæ’åºé€‚åˆéœ€è¦ç¨³å®šæ’åºçš„åœºæ™¯ã€‚\n\n## å‚è€ƒ\n\n- [github](https://github.com/herenpeng/herenpeng.github.io)\n- [åœ¨çº¿æ’åº](https://herenpeng.github.io/static/sort.html)\n","slug":"æŠ€èƒ½å°å†Œ/javascript/ç®—æ³•/å¿«é€Ÿæ’åº","published":1,"updated":"2025-03-12T09:24:02.414Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j6006ffg9mblqb00rz","content":"<div class=\"note info simple\"><p><code>å¿«é€Ÿæ’åº</code>ï¼ˆQuicksortï¼‰æ˜¯ä¸€ç§é«˜æ•ˆçš„æ’åºç®—æ³•ï¼Œå®ƒçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(n log n)ï¼Œæ˜¯ç›®å‰æœ€å¿«çš„é€šç”¨æ’åºç®—æ³•ä¹‹ä¸€ã€‚</p>\n</div>\n\n<p>å¿«é€Ÿæ’åºçš„åŸºæœ¬æ­¥éª¤æ˜¯ï¼š</p>\n<ol>\n<li>é€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ¢è½´ï¼ˆpivotï¼‰ã€‚</li>\n<li>å°†æ‰€æœ‰å°äºæ¢è½´çš„å…ƒç´ æ”¾åœ¨æ¢è½´çš„å·¦è¾¹ï¼Œæ‰€æœ‰å¤§äºæ¢è½´çš„å…ƒç´ æ”¾åœ¨æ¢è½´çš„å³è¾¹ã€‚</li>\n<li>å¯¹æ¢è½´å·¦è¾¹å’Œå³è¾¹çš„å­åºåˆ—é€’å½’åº”ç”¨å¿«é€Ÿæ’åºç®—æ³•ã€‚</li>\n</ol>\n<p>å¿«é€Ÿæ’åºçš„å…³é”®åœ¨äºé€‰æ‹©åˆé€‚çš„æ¢è½´ã€‚ä¸åŒçš„æ¢è½´é€‰æ‹©æ–¹æ³•ä¼šå½±å“å¿«é€Ÿæ’åºçš„æ€§èƒ½ã€‚å¸¸è§çš„æ¢è½´é€‰æ‹©æ–¹æ³•åŒ…æ‹¬ï¼š</p>\n<ul>\n<li>éšæœºé€‰æ‹©ï¼šéšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ¢è½´ã€‚</li>\n<li>ä¸­ä½æ•°é€‰æ‹©ï¼šé€‰æ‹©ä¸­ä½æ•°ä½œä¸ºæ¢è½´ã€‚</li>\n<li>æœ€å°å€¼é€‰æ‹©ï¼šé€‰æ‹©æœ€å°å€¼ä½œä¸ºæ¢è½´ã€‚</li>\n</ul>\n<h2 id=\"demo\"><a href=\"#demo\" class=\"headerlink\" title=\"demo\"></a>demo</h2><h3 id=\"ä»£ç \"><a href=\"#ä»£ç \" class=\"headerlink\" title=\"ä»£ç \"></a>ä»£ç </h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">quickSort</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (arr.<span class=\"property\">length</span> &lt;= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> arr;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> pivot = arr[<span class=\"number\">0</span>];</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> left = [];</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> right = [];</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; arr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (arr[i] &lt;= pivot) &#123;</span><br><span class=\"line\">\t\t\tleft.<span class=\"title function_\">push</span>(arr[i]);</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tright.<span class=\"title function_\">push</span>(arr[i]);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"title function_\">quickSort</span>(left).<span class=\"title function_\">concat</span>(pivot, <span class=\"title function_\">quickSort</span>(right));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">quickSort</span>([<span class=\"number\">5</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>, <span class=\"number\">6</span>, <span class=\"number\">4</span>]));</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªæ•°ç»„ <code>arr</code> ä½œä¸ºè¾“å…¥ï¼Œè¿”å›ä¸€ä¸ªæ’åºåçš„æ•°ç»„ã€‚å®ƒçš„å·¥ä½œåŸç†æ˜¯ï¼š</p>\n<ol>\n<li>å¦‚æœæ•°ç»„é•¿åº¦å°äºæˆ–ç­‰äº 1ï¼Œåˆ™è¿”å›åŸæ•°ç»„ï¼ˆå› ä¸ºå·²ç»æ’åºï¼‰ã€‚</li>\n<li>é€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ¢è½´ (<code>pivot</code>ï¼‰ã€‚</li>\n<li>åˆ›å»ºä¸¤ä¸ªç©ºæ•°ç»„ <code>left</code> å’Œ <code>rightã€‚</code></li>\n<li>éå†æ•°ç»„ï¼ˆä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼‰ï¼Œå¦‚æœå½“å‰å…ƒç´ å°äºæˆ–ç­‰äºæ¢è½´ï¼Œåˆ™å°†å…¶æ·»åŠ åˆ° <code>left</code> æ•°ç»„ï¼Œå¦åˆ™æ·»åŠ åˆ° <code>right</code> æ•°ç»„ã€‚</li>\n<li>é€’å½’è°ƒç”¨ <code>quickSort</code> å‡½æ•°å¯¹ <code>left</code> å’Œ <code>right</code> æ•°ç»„è¿›è¡Œæ’åºã€‚</li>\n<li>å°†æ’åºåçš„ <code>left</code> æ•°ç»„ã€æ¢è½´å’Œæ’åºåçš„ <code>right</code> æ•°ç»„æ‹¼æ¥èµ·æ¥ï¼Œè¿”å›ç»“æœã€‚</li>\n</ol>\n<h3 id=\"å¯è§†åŒ–\"><a href=\"#å¯è§†åŒ–\" class=\"headerlink\" title=\"å¯è§†åŒ–\"></a>å¯è§†åŒ–</h3><demo html=\"html/å¿«é€Ÿæ’åº.html\"/>\n\n<h2 id=\"ä¼˜ç¼ºç‚¹\"><a href=\"#ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ä¼˜ç¼ºç‚¹\"></a>ä¼˜ç¼ºç‚¹</h2><p>å¿«é€Ÿæ’åºçš„ç‰¹ç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>é«˜æ•ˆï¼šå¿«é€Ÿæ’åºçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(n log n)ï¼Œæ˜¯ç›®å‰æœ€å¿«çš„é€šç”¨æ’åºç®—æ³•ä¹‹ä¸€ã€‚</li>\n<li>ç¨³å®šï¼šå¿«é€Ÿæ’åºæ˜¯ç¨³å®šæ’åºç®—æ³•ï¼Œä¸ä¼šæ”¹å˜ç›¸åŒå…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚</li>\n<li>é€‚åˆå¤§æ•°æ®é›†ï¼šå¿«é€Ÿæ’åºé€‚åˆå¤§æ•°æ®é›†çš„æ’åºã€‚</li>\n</ul>\n<p>å¿«é€Ÿæ’åºçš„ç¼ºç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>ä¸ç¨³å®šï¼šå¿«é€Ÿæ’åºåœ¨æœ€åæƒ…å†µä¸‹å¯èƒ½ä¼šå‡ºç°ä¸ç¨³å®šçš„ç°è±¡ã€‚</li>\n<li>éœ€è¦é¢å¤–ç©ºé—´ï¼šå¿«é€Ÿæ’åºéœ€è¦é¢å¤–çš„ç©ºé—´æ¥å­˜å‚¨é€’å½’å‡½æ•°çš„è°ƒç”¨æ ˆã€‚</li>\n</ul>\n<p>å¿«é€Ÿæ’åºå¯ä»¥ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>\n<ul>\n<li>å¤§æ•°æ®é›†æ’åºï¼šå¿«é€Ÿæ’åºé€‚åˆå¤§æ•°æ®é›†çš„æ’åºã€‚</li>\n<li>éœ€è¦é«˜æ•ˆç‡çš„åœºæ™¯ï¼šå¿«é€Ÿæ’åºé€‚åˆéœ€è¦é«˜æ•ˆç‡çš„åœºæ™¯ã€‚</li>\n<li>éœ€è¦ç¨³å®šæ’åºçš„åœºæ™¯ï¼šå¿«é€Ÿæ’åºé€‚åˆéœ€è¦ç¨³å®šæ’åºçš„åœºæ™¯ã€‚</li>\n</ul>\n<h2 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h2><ul>\n<li><a href=\"https://github.com/herenpeng/herenpeng.github.io\">github</a></li>\n<li><a href=\"https://herenpeng.github.io/static/sort.html\">åœ¨çº¿æ’åº</a></li>\n</ul>\n","excerpt":"","more":"<div class=\"note info simple\"><p><code>å¿«é€Ÿæ’åº</code>ï¼ˆQuicksortï¼‰æ˜¯ä¸€ç§é«˜æ•ˆçš„æ’åºç®—æ³•ï¼Œå®ƒçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(n log n)ï¼Œæ˜¯ç›®å‰æœ€å¿«çš„é€šç”¨æ’åºç®—æ³•ä¹‹ä¸€ã€‚</p>\n</div>\n\n<p>å¿«é€Ÿæ’åºçš„åŸºæœ¬æ­¥éª¤æ˜¯ï¼š</p>\n<ol>\n<li>é€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ¢è½´ï¼ˆpivotï¼‰ã€‚</li>\n<li>å°†æ‰€æœ‰å°äºæ¢è½´çš„å…ƒç´ æ”¾åœ¨æ¢è½´çš„å·¦è¾¹ï¼Œæ‰€æœ‰å¤§äºæ¢è½´çš„å…ƒç´ æ”¾åœ¨æ¢è½´çš„å³è¾¹ã€‚</li>\n<li>å¯¹æ¢è½´å·¦è¾¹å’Œå³è¾¹çš„å­åºåˆ—é€’å½’åº”ç”¨å¿«é€Ÿæ’åºç®—æ³•ã€‚</li>\n</ol>\n<p>å¿«é€Ÿæ’åºçš„å…³é”®åœ¨äºé€‰æ‹©åˆé€‚çš„æ¢è½´ã€‚ä¸åŒçš„æ¢è½´é€‰æ‹©æ–¹æ³•ä¼šå½±å“å¿«é€Ÿæ’åºçš„æ€§èƒ½ã€‚å¸¸è§çš„æ¢è½´é€‰æ‹©æ–¹æ³•åŒ…æ‹¬ï¼š</p>\n<ul>\n<li>éšæœºé€‰æ‹©ï¼šéšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ¢è½´ã€‚</li>\n<li>ä¸­ä½æ•°é€‰æ‹©ï¼šé€‰æ‹©ä¸­ä½æ•°ä½œä¸ºæ¢è½´ã€‚</li>\n<li>æœ€å°å€¼é€‰æ‹©ï¼šé€‰æ‹©æœ€å°å€¼ä½œä¸ºæ¢è½´ã€‚</li>\n</ul>\n<h2 id=\"demo\"><a href=\"#demo\" class=\"headerlink\" title=\"demo\"></a>demo</h2><h3 id=\"ä»£ç \"><a href=\"#ä»£ç \" class=\"headerlink\" title=\"ä»£ç \"></a>ä»£ç </h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">quickSort</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (arr.<span class=\"property\">length</span> &lt;= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> arr;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> pivot = arr[<span class=\"number\">0</span>];</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> left = [];</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> right = [];</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; arr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (arr[i] &lt;= pivot) &#123;</span><br><span class=\"line\">\t\t\tleft.<span class=\"title function_\">push</span>(arr[i]);</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tright.<span class=\"title function_\">push</span>(arr[i]);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"title function_\">quickSort</span>(left).<span class=\"title function_\">concat</span>(pivot, <span class=\"title function_\">quickSort</span>(right));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">quickSort</span>([<span class=\"number\">5</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>, <span class=\"number\">6</span>, <span class=\"number\">4</span>]));</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªæ•°ç»„ <code>arr</code> ä½œä¸ºè¾“å…¥ï¼Œè¿”å›ä¸€ä¸ªæ’åºåçš„æ•°ç»„ã€‚å®ƒçš„å·¥ä½œåŸç†æ˜¯ï¼š</p>\n<ol>\n<li>å¦‚æœæ•°ç»„é•¿åº¦å°äºæˆ–ç­‰äº 1ï¼Œåˆ™è¿”å›åŸæ•°ç»„ï¼ˆå› ä¸ºå·²ç»æ’åºï¼‰ã€‚</li>\n<li>é€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ¢è½´ (<code>pivot</code>ï¼‰ã€‚</li>\n<li>åˆ›å»ºä¸¤ä¸ªç©ºæ•°ç»„ <code>left</code> å’Œ <code>rightã€‚</code></li>\n<li>éå†æ•°ç»„ï¼ˆä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼‰ï¼Œå¦‚æœå½“å‰å…ƒç´ å°äºæˆ–ç­‰äºæ¢è½´ï¼Œåˆ™å°†å…¶æ·»åŠ åˆ° <code>left</code> æ•°ç»„ï¼Œå¦åˆ™æ·»åŠ åˆ° <code>right</code> æ•°ç»„ã€‚</li>\n<li>é€’å½’è°ƒç”¨ <code>quickSort</code> å‡½æ•°å¯¹ <code>left</code> å’Œ <code>right</code> æ•°ç»„è¿›è¡Œæ’åºã€‚</li>\n<li>å°†æ’åºåçš„ <code>left</code> æ•°ç»„ã€æ¢è½´å’Œæ’åºåçš„ <code>right</code> æ•°ç»„æ‹¼æ¥èµ·æ¥ï¼Œè¿”å›ç»“æœã€‚</li>\n</ol>\n<h3 id=\"å¯è§†åŒ–\"><a href=\"#å¯è§†åŒ–\" class=\"headerlink\" title=\"å¯è§†åŒ–\"></a>å¯è§†åŒ–</h3><demo html=\"html/å¿«é€Ÿæ’åº.html\"/>\n\n<h2 id=\"ä¼˜ç¼ºç‚¹\"><a href=\"#ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ä¼˜ç¼ºç‚¹\"></a>ä¼˜ç¼ºç‚¹</h2><p>å¿«é€Ÿæ’åºçš„ç‰¹ç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>é«˜æ•ˆï¼šå¿«é€Ÿæ’åºçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(n log n)ï¼Œæ˜¯ç›®å‰æœ€å¿«çš„é€šç”¨æ’åºç®—æ³•ä¹‹ä¸€ã€‚</li>\n<li>ç¨³å®šï¼šå¿«é€Ÿæ’åºæ˜¯ç¨³å®šæ’åºç®—æ³•ï¼Œä¸ä¼šæ”¹å˜ç›¸åŒå…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚</li>\n<li>é€‚åˆå¤§æ•°æ®é›†ï¼šå¿«é€Ÿæ’åºé€‚åˆå¤§æ•°æ®é›†çš„æ’åºã€‚</li>\n</ul>\n<p>å¿«é€Ÿæ’åºçš„ç¼ºç‚¹æ˜¯ï¼š</p>\n<ul>\n<li>ä¸ç¨³å®šï¼šå¿«é€Ÿæ’åºåœ¨æœ€åæƒ…å†µä¸‹å¯èƒ½ä¼šå‡ºç°ä¸ç¨³å®šçš„ç°è±¡ã€‚</li>\n<li>éœ€è¦é¢å¤–ç©ºé—´ï¼šå¿«é€Ÿæ’åºéœ€è¦é¢å¤–çš„ç©ºé—´æ¥å­˜å‚¨é€’å½’å‡½æ•°çš„è°ƒç”¨æ ˆã€‚</li>\n</ul>\n<p>å¿«é€Ÿæ’åºå¯ä»¥ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>\n<ul>\n<li>å¤§æ•°æ®é›†æ’åºï¼šå¿«é€Ÿæ’åºé€‚åˆå¤§æ•°æ®é›†çš„æ’åºã€‚</li>\n<li>éœ€è¦é«˜æ•ˆç‡çš„åœºæ™¯ï¼šå¿«é€Ÿæ’åºé€‚åˆéœ€è¦é«˜æ•ˆç‡çš„åœºæ™¯ã€‚</li>\n<li>éœ€è¦ç¨³å®šæ’åºçš„åœºæ™¯ï¼šå¿«é€Ÿæ’åºé€‚åˆéœ€è¦ç¨³å®šæ’åºçš„åœºæ™¯ã€‚</li>\n</ul>\n<h2 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h2><ul>\n<li><a href=\"https://github.com/herenpeng/herenpeng.github.io\">github</a></li>\n<li><a href=\"https://herenpeng.github.io/static/sort.html\">åœ¨çº¿æ’åº</a></li>\n</ul>\n"},{"title":"å‘å¸ƒè®¢é˜…","abbrlink":"fdc49cc4","date":"2025-01-15T03:20:38.000Z","_content":"\n# ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…\n\nå‘å¸ƒè®¢é˜…æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼å’Œé€šä¿¡èŒƒå¼ï¼Œå®ƒæ—¨åœ¨ä¿ƒè¿›ä¸åŒè½¯ä»¶ç»„ä»¶é—´çš„æ¾æ•£è€¦åˆé€šä¿¡ã€‚åœ¨è®¢é˜…å‘å¸ƒæ¨¡å¼ä¸­ï¼Œæœ‰å¦‚ä¸‹ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š\n\n1. **å‘å¸ƒè€…**: è´Ÿè´£å‘å¸ƒä¿¡æ¯æˆ–äº‹ä»¶ã€‚å‘å¸ƒè€…å¹¶ä¸ç›´æ¥å°†æ¶ˆæ¯å‘é€ç»™ç‰¹å®šçš„æ¥æ”¶è€…ï¼Œè€Œæ˜¯å°†å…¶å‘å¸ƒåˆ°ä¸€ä¸ªå…±äº«çš„é€šä¿¡åª’ä»‹â€”â€”é€šå¸¸æ˜¯è¢«ç§°ä¸ºâ€œä¸»é¢˜â€ï¼ˆTopicï¼‰ã€â€œé¢‘é“â€ï¼ˆChannelï¼‰æˆ–â€œäº‹ä»¶æ€»çº¿â€ï¼ˆEvent Busï¼‰çš„ä¸­ä»‹ã€‚\n2. **è®¢é˜…è€…**: å¯¹ç‰¹å®šç±»å‹çš„ä¿¡æ¯æˆ–äº‹ä»¶æ„Ÿå…´è¶£ã€‚è®¢é˜…è€…å‘ä¸­ä»‹ï¼ˆä¸»é¢˜æˆ–é¢‘é“ï¼‰è¡¨è¾¾å…¶å…³æ³¨çš„äº‹ä»¶ç±»å‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼ˆæˆ–å¤„ç†å™¨ï¼‰ä»¥ä¾¿åœ¨ç›¸å…³äº‹ä»¶å‘ç”Ÿæ—¶å¾—åˆ°é€šçŸ¥ã€‚è®¢é˜…è€…å¹¶ä¸å…³å¿ƒå‘å¸ƒè€…æ˜¯è°ï¼Œä¹Ÿä¸éœ€è¦äº†è§£å…¶ä»–è®¢é˜…è€…çš„å­˜åœ¨ã€‚\n\nå°±å¥½æ¯”ï¼š\n\nè®¢é˜…è€…å°±å¥½æ¯”æ‰‹æœºå¼€äº†ä¸ªæé†’ï¼Œåªå…³æ³¨æ„Ÿå…´è¶£çš„é‚£å—æ–°é—»ï¼Œæ¯”å¦‚ä½ æƒ³çŸ¥é“å…³äºè¶³çƒæ¯”èµ›çš„ç»“æœï¼Œäºæ˜¯ä½ å¯¹æ‰‹æœºè¯´: \"åªè¦æœ‰å…³è¶³çƒæ¯”èµ›ç»“æœå‡ºæ¥ï¼Œå°±ç«‹åˆ»å‘Šè¯‰æˆ‘\" è¿™å°±æ˜¯ä½ å‘æ‰‹æœºè®¢é˜…äº†è¶³çƒæ¯”èµ›çš„ç»“æœã€‚\n\nå‘å¸ƒè€…å°±å¥½æ¯”æ‰‹æœºçš„çŸ­ä¿¡ï¼Œä½ å‘å¸ƒä¸€ä¸ªæ¶ˆæ¯ï¼Œæ¯”å¦‚: \"ä»Šå¤©è¶³çƒæ¯”èµ›ç»“æœå‡ºæ¥äº†ï¼Œç»“æœæ˜¯ï¼šèƒœè´Ÿå¹³\"ï¼Œç„¶åæ‰‹æœºå°±ä¼šæŠŠæ¶ˆæ¯å‘é€ç»™è®¢é˜…è€…ï¼Œè®¢é˜…è€…æ”¶åˆ°æ¶ˆæ¯åï¼Œå°±ä¼šæ”¶åˆ°çŸ­ä¿¡ï¼Œç„¶åä½ å°±çŸ¥é“äº†ã€‚\n\nè®¢é˜…è€…å°±æ˜¯æŒ‡å®šäº†è‡ªå·±å…³å¿ƒçš„å†…å®¹ç±»å‹ï¼Œç„¶åç­‰å¾…è¿™ä¸ªç±»å‹çš„æ¶ˆæ¯å‡ºç°æ—¶ï¼Œä¼šæ”¶åˆ°ä¸“é—¨çš„é€šçŸ¥ï¼Œè€Œæ— éœ€ç†ä¼šæ¶ˆæ¯ä»å“ªé‡Œæ¥ï¼Œè¿˜æœ‰è°ä¹Ÿåœ¨å…³æ³¨åŒæ ·çš„æ¶ˆæ¯ã€‚\n\n![å›¾ç‰‡](https://wangxiaoze-view.github.io/picx-images-hosting/images/d_20240426094751.png)\n\nè®¢é˜…å‘å¸ƒæ¨¡å¼ï¼Œä¹Ÿå«å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œæ˜¯è§‚å¯Ÿè€…æ¨¡å¼çš„ä¸€ç§å˜ç§ï¼Œè§‚å¯Ÿè€…æ¨¡å¼æ˜¯è®¢é˜…ä¸€ä¸ªä¸»é¢˜ï¼Œä¸»é¢˜ä¼šé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…ï¼Œè€Œå‘å¸ƒè®¢é˜…æ¨¡å¼æ˜¯è®¢é˜…ä¸€ä¸ªä¸»é¢˜ï¼Œä¸»é¢˜ä¼šé€šçŸ¥æ‰€æœ‰è®¢é˜…è€…ã€‚\n\n- å‘å¸ƒè€…ï¼šé€šè¿‡äº‹ä»¶ä¸­å¿ƒæ´¾å‘äº‹ä»¶\n- è®¢é˜…è€…ï¼šé€šè¿‡äº‹ä»¶ä¸­å¿ƒè¿›è¡Œäº‹ä»¶çš„è®¢é˜…\n- äº‹ä»¶ä¸­å¿ƒï¼šè´Ÿè´£å­˜æ”¾äº‹ä»¶å’Œè®¢é˜…è€…çš„å…³ç³».\n\n## ä»£ç ç†è§£\n\n```js\n// äº‹ä»¶ä¸­å¿ƒ\nclass EventChannel {\n\tconstructor() {\n\t\tthis.subscribers = {};\n\t}\n}\n\n// è®¢é˜…ä¸­å¿ƒ\nEventChannel.prototype.subscribe = function (eventType, handler) {\n\tif (!this.subscribers[eventType]) {\n\t\tthis.subscribers[eventType] = [];\n\t}\n\tthis.subscribers[eventType].push(handler);\n};\n\n// å‘å¸ƒä¸­å¿ƒ\nEventChannel.prototype.publish = function (eventType, data) {\n\tconst handlers = this.subscribers[eventType];\n\tif (handlers) {\n\t\thandlers.forEach(handler => handler(data));\n\t}\n};\n\n// å–æ¶ˆè®¢é˜…\nEventChannel.prototype.unsubscribe = function (eventType, handler) {\n\tconst handlers = this.subscribers[eventType];\n\tif (handlers) {\n\t\tconst index = handlers.indexOf(handler);\n\t\tif (index !== -1) {\n\t\t\thandlers.splice(index, 1);\n\t\t}\n\t}\n};\n```\n\n### å¦‚ä½•æ“ä½œ?\n\n```js\n// åˆå§‹åŒ–\nconst eventChannel = new EventChannel();\n\n// zè¿™é‡Œæ¨¡ä»¿ç”¨æˆ·è®¢é˜…è¶³çƒæ¯”èµ›ç»“æœï¼Œç­‰æ¯”èµ›ç»“æŸä¹‹åå°†ç»“æœå‘å¸ƒç»™è®¢é˜…è€…\nfunction user_1({ result }) {\n\tconsole.log(`ç”¨æˆ·1æ¥å—åˆ°çŸ­ä¿¡ï¼šæ¯”èµ›ç»“æœä¸º${result}`);\n}\nfunction user_2({ result }) {\n\tconsole.log(`ç”¨æˆ·2æ¥å—åˆ°çŸ­ä¿¡ï¼šæ¯”èµ›ç»“æœä¸º${result}`);\n}\n// ç”¨æˆ·1è®¢é˜…äº†æ¯”èµ›ç»“æœ\neventChannel.subscribe(\"result\", user_1);\n// ç”¨æˆ·2è®¢é˜…äº†æ¯”èµ›ç»“æœ\neventChannel.subscribe(\"result\", user_2);\n\n// æ¨¡æ‹Ÿå®˜æ–¹çš„ç»“æœ\nsetTimeout(() => {\n\teventChannel.publish(\"result\", {\n\t\tresult: \"èƒœ\",\n\t});\n}, 2000);\n\n// çªç„¶æœ‰ä¸€å¤©ï¼Œç”¨æˆ·1 ä¸æƒ³è®¢é˜…äº†ï¼Œä¸æƒ³æ¯æ¬¡éƒ½æ”¶åˆ°çŸ­ä¿¡äº†\nsetTimeout(() => {\n\teventChannel.unsubscribe(\"result\", user_1);\n\t// ç­‰åˆ°ä¸‹æ¬¡æ¯”èµ›ç»“æœå…¬å¸ƒ  åªæœ‰ç”¨æˆ·2å°±æ”¶åˆ°äº†çŸ­ä¿¡\n\teventChannel.publish(\"result\", {\n\t\tresult: \"è´Ÿ\",\n\t});\n}, 3000);\n```\n","source":"_posts/æŠ€èƒ½å°å†Œ/javascript/è®¾è®¡æ¨¡å¼/å‘å¸ƒè®¢é˜….md","raw":"---\ntitle: å‘å¸ƒè®¢é˜…\nabbrlink: fdc49cc4\ndate: 2025-01-15 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - JavaScript\n---\n\n# ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…\n\nå‘å¸ƒè®¢é˜…æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼å’Œé€šä¿¡èŒƒå¼ï¼Œå®ƒæ—¨åœ¨ä¿ƒè¿›ä¸åŒè½¯ä»¶ç»„ä»¶é—´çš„æ¾æ•£è€¦åˆé€šä¿¡ã€‚åœ¨è®¢é˜…å‘å¸ƒæ¨¡å¼ä¸­ï¼Œæœ‰å¦‚ä¸‹ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š\n\n1. **å‘å¸ƒè€…**: è´Ÿè´£å‘å¸ƒä¿¡æ¯æˆ–äº‹ä»¶ã€‚å‘å¸ƒè€…å¹¶ä¸ç›´æ¥å°†æ¶ˆæ¯å‘é€ç»™ç‰¹å®šçš„æ¥æ”¶è€…ï¼Œè€Œæ˜¯å°†å…¶å‘å¸ƒåˆ°ä¸€ä¸ªå…±äº«çš„é€šä¿¡åª’ä»‹â€”â€”é€šå¸¸æ˜¯è¢«ç§°ä¸ºâ€œä¸»é¢˜â€ï¼ˆTopicï¼‰ã€â€œé¢‘é“â€ï¼ˆChannelï¼‰æˆ–â€œäº‹ä»¶æ€»çº¿â€ï¼ˆEvent Busï¼‰çš„ä¸­ä»‹ã€‚\n2. **è®¢é˜…è€…**: å¯¹ç‰¹å®šç±»å‹çš„ä¿¡æ¯æˆ–äº‹ä»¶æ„Ÿå…´è¶£ã€‚è®¢é˜…è€…å‘ä¸­ä»‹ï¼ˆä¸»é¢˜æˆ–é¢‘é“ï¼‰è¡¨è¾¾å…¶å…³æ³¨çš„äº‹ä»¶ç±»å‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼ˆæˆ–å¤„ç†å™¨ï¼‰ä»¥ä¾¿åœ¨ç›¸å…³äº‹ä»¶å‘ç”Ÿæ—¶å¾—åˆ°é€šçŸ¥ã€‚è®¢é˜…è€…å¹¶ä¸å…³å¿ƒå‘å¸ƒè€…æ˜¯è°ï¼Œä¹Ÿä¸éœ€è¦äº†è§£å…¶ä»–è®¢é˜…è€…çš„å­˜åœ¨ã€‚\n\nå°±å¥½æ¯”ï¼š\n\nè®¢é˜…è€…å°±å¥½æ¯”æ‰‹æœºå¼€äº†ä¸ªæé†’ï¼Œåªå…³æ³¨æ„Ÿå…´è¶£çš„é‚£å—æ–°é—»ï¼Œæ¯”å¦‚ä½ æƒ³çŸ¥é“å…³äºè¶³çƒæ¯”èµ›çš„ç»“æœï¼Œäºæ˜¯ä½ å¯¹æ‰‹æœºè¯´: \"åªè¦æœ‰å…³è¶³çƒæ¯”èµ›ç»“æœå‡ºæ¥ï¼Œå°±ç«‹åˆ»å‘Šè¯‰æˆ‘\" è¿™å°±æ˜¯ä½ å‘æ‰‹æœºè®¢é˜…äº†è¶³çƒæ¯”èµ›çš„ç»“æœã€‚\n\nå‘å¸ƒè€…å°±å¥½æ¯”æ‰‹æœºçš„çŸ­ä¿¡ï¼Œä½ å‘å¸ƒä¸€ä¸ªæ¶ˆæ¯ï¼Œæ¯”å¦‚: \"ä»Šå¤©è¶³çƒæ¯”èµ›ç»“æœå‡ºæ¥äº†ï¼Œç»“æœæ˜¯ï¼šèƒœè´Ÿå¹³\"ï¼Œç„¶åæ‰‹æœºå°±ä¼šæŠŠæ¶ˆæ¯å‘é€ç»™è®¢é˜…è€…ï¼Œè®¢é˜…è€…æ”¶åˆ°æ¶ˆæ¯åï¼Œå°±ä¼šæ”¶åˆ°çŸ­ä¿¡ï¼Œç„¶åä½ å°±çŸ¥é“äº†ã€‚\n\nè®¢é˜…è€…å°±æ˜¯æŒ‡å®šäº†è‡ªå·±å…³å¿ƒçš„å†…å®¹ç±»å‹ï¼Œç„¶åç­‰å¾…è¿™ä¸ªç±»å‹çš„æ¶ˆæ¯å‡ºç°æ—¶ï¼Œä¼šæ”¶åˆ°ä¸“é—¨çš„é€šçŸ¥ï¼Œè€Œæ— éœ€ç†ä¼šæ¶ˆæ¯ä»å“ªé‡Œæ¥ï¼Œè¿˜æœ‰è°ä¹Ÿåœ¨å…³æ³¨åŒæ ·çš„æ¶ˆæ¯ã€‚\n\n![å›¾ç‰‡](https://wangxiaoze-view.github.io/picx-images-hosting/images/d_20240426094751.png)\n\nè®¢é˜…å‘å¸ƒæ¨¡å¼ï¼Œä¹Ÿå«å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œæ˜¯è§‚å¯Ÿè€…æ¨¡å¼çš„ä¸€ç§å˜ç§ï¼Œè§‚å¯Ÿè€…æ¨¡å¼æ˜¯è®¢é˜…ä¸€ä¸ªä¸»é¢˜ï¼Œä¸»é¢˜ä¼šé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…ï¼Œè€Œå‘å¸ƒè®¢é˜…æ¨¡å¼æ˜¯è®¢é˜…ä¸€ä¸ªä¸»é¢˜ï¼Œä¸»é¢˜ä¼šé€šçŸ¥æ‰€æœ‰è®¢é˜…è€…ã€‚\n\n- å‘å¸ƒè€…ï¼šé€šè¿‡äº‹ä»¶ä¸­å¿ƒæ´¾å‘äº‹ä»¶\n- è®¢é˜…è€…ï¼šé€šè¿‡äº‹ä»¶ä¸­å¿ƒè¿›è¡Œäº‹ä»¶çš„è®¢é˜…\n- äº‹ä»¶ä¸­å¿ƒï¼šè´Ÿè´£å­˜æ”¾äº‹ä»¶å’Œè®¢é˜…è€…çš„å…³ç³».\n\n## ä»£ç ç†è§£\n\n```js\n// äº‹ä»¶ä¸­å¿ƒ\nclass EventChannel {\n\tconstructor() {\n\t\tthis.subscribers = {};\n\t}\n}\n\n// è®¢é˜…ä¸­å¿ƒ\nEventChannel.prototype.subscribe = function (eventType, handler) {\n\tif (!this.subscribers[eventType]) {\n\t\tthis.subscribers[eventType] = [];\n\t}\n\tthis.subscribers[eventType].push(handler);\n};\n\n// å‘å¸ƒä¸­å¿ƒ\nEventChannel.prototype.publish = function (eventType, data) {\n\tconst handlers = this.subscribers[eventType];\n\tif (handlers) {\n\t\thandlers.forEach(handler => handler(data));\n\t}\n};\n\n// å–æ¶ˆè®¢é˜…\nEventChannel.prototype.unsubscribe = function (eventType, handler) {\n\tconst handlers = this.subscribers[eventType];\n\tif (handlers) {\n\t\tconst index = handlers.indexOf(handler);\n\t\tif (index !== -1) {\n\t\t\thandlers.splice(index, 1);\n\t\t}\n\t}\n};\n```\n\n### å¦‚ä½•æ“ä½œ?\n\n```js\n// åˆå§‹åŒ–\nconst eventChannel = new EventChannel();\n\n// zè¿™é‡Œæ¨¡ä»¿ç”¨æˆ·è®¢é˜…è¶³çƒæ¯”èµ›ç»“æœï¼Œç­‰æ¯”èµ›ç»“æŸä¹‹åå°†ç»“æœå‘å¸ƒç»™è®¢é˜…è€…\nfunction user_1({ result }) {\n\tconsole.log(`ç”¨æˆ·1æ¥å—åˆ°çŸ­ä¿¡ï¼šæ¯”èµ›ç»“æœä¸º${result}`);\n}\nfunction user_2({ result }) {\n\tconsole.log(`ç”¨æˆ·2æ¥å—åˆ°çŸ­ä¿¡ï¼šæ¯”èµ›ç»“æœä¸º${result}`);\n}\n// ç”¨æˆ·1è®¢é˜…äº†æ¯”èµ›ç»“æœ\neventChannel.subscribe(\"result\", user_1);\n// ç”¨æˆ·2è®¢é˜…äº†æ¯”èµ›ç»“æœ\neventChannel.subscribe(\"result\", user_2);\n\n// æ¨¡æ‹Ÿå®˜æ–¹çš„ç»“æœ\nsetTimeout(() => {\n\teventChannel.publish(\"result\", {\n\t\tresult: \"èƒœ\",\n\t});\n}, 2000);\n\n// çªç„¶æœ‰ä¸€å¤©ï¼Œç”¨æˆ·1 ä¸æƒ³è®¢é˜…äº†ï¼Œä¸æƒ³æ¯æ¬¡éƒ½æ”¶åˆ°çŸ­ä¿¡äº†\nsetTimeout(() => {\n\teventChannel.unsubscribe(\"result\", user_1);\n\t// ç­‰åˆ°ä¸‹æ¬¡æ¯”èµ›ç»“æœå…¬å¸ƒ  åªæœ‰ç”¨æˆ·2å°±æ”¶åˆ°äº†çŸ­ä¿¡\n\teventChannel.publish(\"result\", {\n\t\tresult: \"è´Ÿ\",\n\t});\n}, 3000);\n```\n","slug":"æŠ€èƒ½å°å†Œ/javascript/è®¾è®¡æ¨¡å¼/å‘å¸ƒè®¢é˜…","published":1,"updated":"2025-03-13T10:16:18.827Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j6006ifg9m6jq2dniv","content":"<h1 id=\"ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…\"><a href=\"#ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…\"></a>ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…</h1><p>å‘å¸ƒè®¢é˜…æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼å’Œé€šä¿¡èŒƒå¼ï¼Œå®ƒæ—¨åœ¨ä¿ƒè¿›ä¸åŒè½¯ä»¶ç»„ä»¶é—´çš„æ¾æ•£è€¦åˆé€šä¿¡ã€‚åœ¨è®¢é˜…å‘å¸ƒæ¨¡å¼ä¸­ï¼Œæœ‰å¦‚ä¸‹ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š</p>\n<ol>\n<li><strong>å‘å¸ƒè€…</strong>: è´Ÿè´£å‘å¸ƒä¿¡æ¯æˆ–äº‹ä»¶ã€‚å‘å¸ƒè€…å¹¶ä¸ç›´æ¥å°†æ¶ˆæ¯å‘é€ç»™ç‰¹å®šçš„æ¥æ”¶è€…ï¼Œè€Œæ˜¯å°†å…¶å‘å¸ƒåˆ°ä¸€ä¸ªå…±äº«çš„é€šä¿¡åª’ä»‹â€”â€”é€šå¸¸æ˜¯è¢«ç§°ä¸ºâ€œä¸»é¢˜â€ï¼ˆTopicï¼‰ã€â€œé¢‘é“â€ï¼ˆChannelï¼‰æˆ–â€œäº‹ä»¶æ€»çº¿â€ï¼ˆEvent Busï¼‰çš„ä¸­ä»‹ã€‚</li>\n<li><strong>è®¢é˜…è€…</strong>: å¯¹ç‰¹å®šç±»å‹çš„ä¿¡æ¯æˆ–äº‹ä»¶æ„Ÿå…´è¶£ã€‚è®¢é˜…è€…å‘ä¸­ä»‹ï¼ˆä¸»é¢˜æˆ–é¢‘é“ï¼‰è¡¨è¾¾å…¶å…³æ³¨çš„äº‹ä»¶ç±»å‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼ˆæˆ–å¤„ç†å™¨ï¼‰ä»¥ä¾¿åœ¨ç›¸å…³äº‹ä»¶å‘ç”Ÿæ—¶å¾—åˆ°é€šçŸ¥ã€‚è®¢é˜…è€…å¹¶ä¸å…³å¿ƒå‘å¸ƒè€…æ˜¯è°ï¼Œä¹Ÿä¸éœ€è¦äº†è§£å…¶ä»–è®¢é˜…è€…çš„å­˜åœ¨ã€‚</li>\n</ol>\n<p>å°±å¥½æ¯”ï¼š</p>\n<p>è®¢é˜…è€…å°±å¥½æ¯”æ‰‹æœºå¼€äº†ä¸ªæé†’ï¼Œåªå…³æ³¨æ„Ÿå…´è¶£çš„é‚£å—æ–°é—»ï¼Œæ¯”å¦‚ä½ æƒ³çŸ¥é“å…³äºè¶³çƒæ¯”èµ›çš„ç»“æœï¼Œäºæ˜¯ä½ å¯¹æ‰‹æœºè¯´: â€œåªè¦æœ‰å…³è¶³çƒæ¯”èµ›ç»“æœå‡ºæ¥ï¼Œå°±ç«‹åˆ»å‘Šè¯‰æˆ‘â€ è¿™å°±æ˜¯ä½ å‘æ‰‹æœºè®¢é˜…äº†è¶³çƒæ¯”èµ›çš„ç»“æœã€‚</p>\n<p>å‘å¸ƒè€…å°±å¥½æ¯”æ‰‹æœºçš„çŸ­ä¿¡ï¼Œä½ å‘å¸ƒä¸€ä¸ªæ¶ˆæ¯ï¼Œæ¯”å¦‚: â€œä»Šå¤©è¶³çƒæ¯”èµ›ç»“æœå‡ºæ¥äº†ï¼Œç»“æœæ˜¯ï¼šèƒœè´Ÿå¹³â€ï¼Œç„¶åæ‰‹æœºå°±ä¼šæŠŠæ¶ˆæ¯å‘é€ç»™è®¢é˜…è€…ï¼Œè®¢é˜…è€…æ”¶åˆ°æ¶ˆæ¯åï¼Œå°±ä¼šæ”¶åˆ°çŸ­ä¿¡ï¼Œç„¶åä½ å°±çŸ¥é“äº†ã€‚</p>\n<p>è®¢é˜…è€…å°±æ˜¯æŒ‡å®šäº†è‡ªå·±å…³å¿ƒçš„å†…å®¹ç±»å‹ï¼Œç„¶åç­‰å¾…è¿™ä¸ªç±»å‹çš„æ¶ˆæ¯å‡ºç°æ—¶ï¼Œä¼šæ”¶åˆ°ä¸“é—¨çš„é€šçŸ¥ï¼Œè€Œæ— éœ€ç†ä¼šæ¶ˆæ¯ä»å“ªé‡Œæ¥ï¼Œè¿˜æœ‰è°ä¹Ÿåœ¨å…³æ³¨åŒæ ·çš„æ¶ˆæ¯ã€‚</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/d_20240426094751.png\" alt=\"å›¾ç‰‡\"></p>\n<p>è®¢é˜…å‘å¸ƒæ¨¡å¼ï¼Œä¹Ÿå«å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œæ˜¯è§‚å¯Ÿè€…æ¨¡å¼çš„ä¸€ç§å˜ç§ï¼Œè§‚å¯Ÿè€…æ¨¡å¼æ˜¯è®¢é˜…ä¸€ä¸ªä¸»é¢˜ï¼Œä¸»é¢˜ä¼šé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…ï¼Œè€Œå‘å¸ƒè®¢é˜…æ¨¡å¼æ˜¯è®¢é˜…ä¸€ä¸ªä¸»é¢˜ï¼Œä¸»é¢˜ä¼šé€šçŸ¥æ‰€æœ‰è®¢é˜…è€…ã€‚</p>\n<ul>\n<li>å‘å¸ƒè€…ï¼šé€šè¿‡äº‹ä»¶ä¸­å¿ƒæ´¾å‘äº‹ä»¶</li>\n<li>è®¢é˜…è€…ï¼šé€šè¿‡äº‹ä»¶ä¸­å¿ƒè¿›è¡Œäº‹ä»¶çš„è®¢é˜…</li>\n<li>äº‹ä»¶ä¸­å¿ƒï¼šè´Ÿè´£å­˜æ”¾äº‹ä»¶å’Œè®¢é˜…è€…çš„å…³ç³».</li>\n</ul>\n<h2 id=\"ä»£ç ç†è§£\"><a href=\"#ä»£ç ç†è§£\" class=\"headerlink\" title=\"ä»£ç ç†è§£\"></a>ä»£ç ç†è§£</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// äº‹ä»¶ä¸­å¿ƒ</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">EventChannel</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">subscribers</span> = &#123;&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è®¢é˜…ä¸­å¿ƒ</span></span><br><span class=\"line\"><span class=\"title class_\">EventChannel</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">subscribe</span> = <span class=\"keyword\">function</span> (<span class=\"params\">eventType, handler</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!<span class=\"variable language_\">this</span>.<span class=\"property\">subscribers</span>[eventType]) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">subscribers</span>[eventType] = [];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"variable language_\">this</span>.<span class=\"property\">subscribers</span>[eventType].<span class=\"title function_\">push</span>(handler);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å‘å¸ƒä¸­å¿ƒ</span></span><br><span class=\"line\"><span class=\"title class_\">EventChannel</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">publish</span> = <span class=\"keyword\">function</span> (<span class=\"params\">eventType, data</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> handlers = <span class=\"variable language_\">this</span>.<span class=\"property\">subscribers</span>[eventType];</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (handlers) &#123;</span><br><span class=\"line\">\t\thandlers.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">handler</span> =&gt;</span> <span class=\"title function_\">handler</span>(data));</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å–æ¶ˆè®¢é˜…</span></span><br><span class=\"line\"><span class=\"title class_\">EventChannel</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">unsubscribe</span> = <span class=\"keyword\">function</span> (<span class=\"params\">eventType, handler</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> handlers = <span class=\"variable language_\">this</span>.<span class=\"property\">subscribers</span>[eventType];</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (handlers) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> index = handlers.<span class=\"title function_\">indexOf</span>(handler);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (index !== -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t\thandlers.<span class=\"title function_\">splice</span>(index, <span class=\"number\">1</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¦‚ä½•æ“ä½œ\"><a href=\"#å¦‚ä½•æ“ä½œ\" class=\"headerlink\" title=\"å¦‚ä½•æ“ä½œ?\"></a>å¦‚ä½•æ“ä½œ?</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åˆå§‹åŒ–</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> eventChannel = <span class=\"keyword\">new</span> <span class=\"title class_\">EventChannel</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// zè¿™é‡Œæ¨¡ä»¿ç”¨æˆ·è®¢é˜…è¶³çƒæ¯”èµ›ç»“æœï¼Œç­‰æ¯”èµ›ç»“æŸä¹‹åå°†ç»“æœå‘å¸ƒç»™è®¢é˜…è€…</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">user_1</span>(<span class=\"params\">&#123; result &#125;</span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`ç”¨æˆ·1æ¥å—åˆ°çŸ­ä¿¡ï¼šæ¯”èµ›ç»“æœä¸º<span class=\"subst\">$&#123;result&#125;</span>`</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">user_2</span>(<span class=\"params\">&#123; result &#125;</span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`ç”¨æˆ·2æ¥å—åˆ°çŸ­ä¿¡ï¼šæ¯”èµ›ç»“æœä¸º<span class=\"subst\">$&#123;result&#125;</span>`</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// ç”¨æˆ·1è®¢é˜…äº†æ¯”èµ›ç»“æœ</span></span><br><span class=\"line\">eventChannel.<span class=\"title function_\">subscribe</span>(<span class=\"string\">&quot;result&quot;</span>, user_1);</span><br><span class=\"line\"><span class=\"comment\">// ç”¨æˆ·2è®¢é˜…äº†æ¯”èµ›ç»“æœ</span></span><br><span class=\"line\">eventChannel.<span class=\"title function_\">subscribe</span>(<span class=\"string\">&quot;result&quot;</span>, user_2);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ¨¡æ‹Ÿå®˜æ–¹çš„ç»“æœ</span></span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\teventChannel.<span class=\"title function_\">publish</span>(<span class=\"string\">&quot;result&quot;</span>, &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">result</span>: <span class=\"string\">&quot;èƒœ&quot;</span>,</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;, <span class=\"number\">2000</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// çªç„¶æœ‰ä¸€å¤©ï¼Œç”¨æˆ·1 ä¸æƒ³è®¢é˜…äº†ï¼Œä¸æƒ³æ¯æ¬¡éƒ½æ”¶åˆ°çŸ­ä¿¡äº†</span></span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\teventChannel.<span class=\"title function_\">unsubscribe</span>(<span class=\"string\">&quot;result&quot;</span>, user_1);</span><br><span class=\"line\">\t<span class=\"comment\">// ç­‰åˆ°ä¸‹æ¬¡æ¯”èµ›ç»“æœå…¬å¸ƒ  åªæœ‰ç”¨æˆ·2å°±æ”¶åˆ°äº†çŸ­ä¿¡</span></span><br><span class=\"line\">\teventChannel.<span class=\"title function_\">publish</span>(<span class=\"string\">&quot;result&quot;</span>, &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">result</span>: <span class=\"string\">&quot;è´Ÿ&quot;</span>,</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;, <span class=\"number\">3000</span>);</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…\"><a href=\"#ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…\"></a>ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…</h1><p>å‘å¸ƒè®¢é˜…æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼å’Œé€šä¿¡èŒƒå¼ï¼Œå®ƒæ—¨åœ¨ä¿ƒè¿›ä¸åŒè½¯ä»¶ç»„ä»¶é—´çš„æ¾æ•£è€¦åˆé€šä¿¡ã€‚åœ¨è®¢é˜…å‘å¸ƒæ¨¡å¼ä¸­ï¼Œæœ‰å¦‚ä¸‹ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š</p>\n<ol>\n<li><strong>å‘å¸ƒè€…</strong>: è´Ÿè´£å‘å¸ƒä¿¡æ¯æˆ–äº‹ä»¶ã€‚å‘å¸ƒè€…å¹¶ä¸ç›´æ¥å°†æ¶ˆæ¯å‘é€ç»™ç‰¹å®šçš„æ¥æ”¶è€…ï¼Œè€Œæ˜¯å°†å…¶å‘å¸ƒåˆ°ä¸€ä¸ªå…±äº«çš„é€šä¿¡åª’ä»‹â€”â€”é€šå¸¸æ˜¯è¢«ç§°ä¸ºâ€œä¸»é¢˜â€ï¼ˆTopicï¼‰ã€â€œé¢‘é“â€ï¼ˆChannelï¼‰æˆ–â€œäº‹ä»¶æ€»çº¿â€ï¼ˆEvent Busï¼‰çš„ä¸­ä»‹ã€‚</li>\n<li><strong>è®¢é˜…è€…</strong>: å¯¹ç‰¹å®šç±»å‹çš„ä¿¡æ¯æˆ–äº‹ä»¶æ„Ÿå…´è¶£ã€‚è®¢é˜…è€…å‘ä¸­ä»‹ï¼ˆä¸»é¢˜æˆ–é¢‘é“ï¼‰è¡¨è¾¾å…¶å…³æ³¨çš„äº‹ä»¶ç±»å‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼ˆæˆ–å¤„ç†å™¨ï¼‰ä»¥ä¾¿åœ¨ç›¸å…³äº‹ä»¶å‘ç”Ÿæ—¶å¾—åˆ°é€šçŸ¥ã€‚è®¢é˜…è€…å¹¶ä¸å…³å¿ƒå‘å¸ƒè€…æ˜¯è°ï¼Œä¹Ÿä¸éœ€è¦äº†è§£å…¶ä»–è®¢é˜…è€…çš„å­˜åœ¨ã€‚</li>\n</ol>\n<p>å°±å¥½æ¯”ï¼š</p>\n<p>è®¢é˜…è€…å°±å¥½æ¯”æ‰‹æœºå¼€äº†ä¸ªæé†’ï¼Œåªå…³æ³¨æ„Ÿå…´è¶£çš„é‚£å—æ–°é—»ï¼Œæ¯”å¦‚ä½ æƒ³çŸ¥é“å…³äºè¶³çƒæ¯”èµ›çš„ç»“æœï¼Œäºæ˜¯ä½ å¯¹æ‰‹æœºè¯´: â€œåªè¦æœ‰å…³è¶³çƒæ¯”èµ›ç»“æœå‡ºæ¥ï¼Œå°±ç«‹åˆ»å‘Šè¯‰æˆ‘â€ è¿™å°±æ˜¯ä½ å‘æ‰‹æœºè®¢é˜…äº†è¶³çƒæ¯”èµ›çš„ç»“æœã€‚</p>\n<p>å‘å¸ƒè€…å°±å¥½æ¯”æ‰‹æœºçš„çŸ­ä¿¡ï¼Œä½ å‘å¸ƒä¸€ä¸ªæ¶ˆæ¯ï¼Œæ¯”å¦‚: â€œä»Šå¤©è¶³çƒæ¯”èµ›ç»“æœå‡ºæ¥äº†ï¼Œç»“æœæ˜¯ï¼šèƒœè´Ÿå¹³â€ï¼Œç„¶åæ‰‹æœºå°±ä¼šæŠŠæ¶ˆæ¯å‘é€ç»™è®¢é˜…è€…ï¼Œè®¢é˜…è€…æ”¶åˆ°æ¶ˆæ¯åï¼Œå°±ä¼šæ”¶åˆ°çŸ­ä¿¡ï¼Œç„¶åä½ å°±çŸ¥é“äº†ã€‚</p>\n<p>è®¢é˜…è€…å°±æ˜¯æŒ‡å®šäº†è‡ªå·±å…³å¿ƒçš„å†…å®¹ç±»å‹ï¼Œç„¶åç­‰å¾…è¿™ä¸ªç±»å‹çš„æ¶ˆæ¯å‡ºç°æ—¶ï¼Œä¼šæ”¶åˆ°ä¸“é—¨çš„é€šçŸ¥ï¼Œè€Œæ— éœ€ç†ä¼šæ¶ˆæ¯ä»å“ªé‡Œæ¥ï¼Œè¿˜æœ‰è°ä¹Ÿåœ¨å…³æ³¨åŒæ ·çš„æ¶ˆæ¯ã€‚</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/d_20240426094751.png\" alt=\"å›¾ç‰‡\"></p>\n<p>è®¢é˜…å‘å¸ƒæ¨¡å¼ï¼Œä¹Ÿå«å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œæ˜¯è§‚å¯Ÿè€…æ¨¡å¼çš„ä¸€ç§å˜ç§ï¼Œè§‚å¯Ÿè€…æ¨¡å¼æ˜¯è®¢é˜…ä¸€ä¸ªä¸»é¢˜ï¼Œä¸»é¢˜ä¼šé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…ï¼Œè€Œå‘å¸ƒè®¢é˜…æ¨¡å¼æ˜¯è®¢é˜…ä¸€ä¸ªä¸»é¢˜ï¼Œä¸»é¢˜ä¼šé€šçŸ¥æ‰€æœ‰è®¢é˜…è€…ã€‚</p>\n<ul>\n<li>å‘å¸ƒè€…ï¼šé€šè¿‡äº‹ä»¶ä¸­å¿ƒæ´¾å‘äº‹ä»¶</li>\n<li>è®¢é˜…è€…ï¼šé€šè¿‡äº‹ä»¶ä¸­å¿ƒè¿›è¡Œäº‹ä»¶çš„è®¢é˜…</li>\n<li>äº‹ä»¶ä¸­å¿ƒï¼šè´Ÿè´£å­˜æ”¾äº‹ä»¶å’Œè®¢é˜…è€…çš„å…³ç³».</li>\n</ul>\n<h2 id=\"ä»£ç ç†è§£\"><a href=\"#ä»£ç ç†è§£\" class=\"headerlink\" title=\"ä»£ç ç†è§£\"></a>ä»£ç ç†è§£</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// äº‹ä»¶ä¸­å¿ƒ</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">EventChannel</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">subscribers</span> = &#123;&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è®¢é˜…ä¸­å¿ƒ</span></span><br><span class=\"line\"><span class=\"title class_\">EventChannel</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">subscribe</span> = <span class=\"keyword\">function</span> (<span class=\"params\">eventType, handler</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!<span class=\"variable language_\">this</span>.<span class=\"property\">subscribers</span>[eventType]) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">subscribers</span>[eventType] = [];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"variable language_\">this</span>.<span class=\"property\">subscribers</span>[eventType].<span class=\"title function_\">push</span>(handler);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å‘å¸ƒä¸­å¿ƒ</span></span><br><span class=\"line\"><span class=\"title class_\">EventChannel</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">publish</span> = <span class=\"keyword\">function</span> (<span class=\"params\">eventType, data</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> handlers = <span class=\"variable language_\">this</span>.<span class=\"property\">subscribers</span>[eventType];</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (handlers) &#123;</span><br><span class=\"line\">\t\thandlers.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">handler</span> =&gt;</span> <span class=\"title function_\">handler</span>(data));</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å–æ¶ˆè®¢é˜…</span></span><br><span class=\"line\"><span class=\"title class_\">EventChannel</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">unsubscribe</span> = <span class=\"keyword\">function</span> (<span class=\"params\">eventType, handler</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> handlers = <span class=\"variable language_\">this</span>.<span class=\"property\">subscribers</span>[eventType];</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (handlers) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> index = handlers.<span class=\"title function_\">indexOf</span>(handler);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (index !== -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t\thandlers.<span class=\"title function_\">splice</span>(index, <span class=\"number\">1</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¦‚ä½•æ“ä½œ\"><a href=\"#å¦‚ä½•æ“ä½œ\" class=\"headerlink\" title=\"å¦‚ä½•æ“ä½œ?\"></a>å¦‚ä½•æ“ä½œ?</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åˆå§‹åŒ–</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> eventChannel = <span class=\"keyword\">new</span> <span class=\"title class_\">EventChannel</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// zè¿™é‡Œæ¨¡ä»¿ç”¨æˆ·è®¢é˜…è¶³çƒæ¯”èµ›ç»“æœï¼Œç­‰æ¯”èµ›ç»“æŸä¹‹åå°†ç»“æœå‘å¸ƒç»™è®¢é˜…è€…</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">user_1</span>(<span class=\"params\">&#123; result &#125;</span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`ç”¨æˆ·1æ¥å—åˆ°çŸ­ä¿¡ï¼šæ¯”èµ›ç»“æœä¸º<span class=\"subst\">$&#123;result&#125;</span>`</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">user_2</span>(<span class=\"params\">&#123; result &#125;</span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`ç”¨æˆ·2æ¥å—åˆ°çŸ­ä¿¡ï¼šæ¯”èµ›ç»“æœä¸º<span class=\"subst\">$&#123;result&#125;</span>`</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// ç”¨æˆ·1è®¢é˜…äº†æ¯”èµ›ç»“æœ</span></span><br><span class=\"line\">eventChannel.<span class=\"title function_\">subscribe</span>(<span class=\"string\">&quot;result&quot;</span>, user_1);</span><br><span class=\"line\"><span class=\"comment\">// ç”¨æˆ·2è®¢é˜…äº†æ¯”èµ›ç»“æœ</span></span><br><span class=\"line\">eventChannel.<span class=\"title function_\">subscribe</span>(<span class=\"string\">&quot;result&quot;</span>, user_2);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ¨¡æ‹Ÿå®˜æ–¹çš„ç»“æœ</span></span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\teventChannel.<span class=\"title function_\">publish</span>(<span class=\"string\">&quot;result&quot;</span>, &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">result</span>: <span class=\"string\">&quot;èƒœ&quot;</span>,</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;, <span class=\"number\">2000</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// çªç„¶æœ‰ä¸€å¤©ï¼Œç”¨æˆ·1 ä¸æƒ³è®¢é˜…äº†ï¼Œä¸æƒ³æ¯æ¬¡éƒ½æ”¶åˆ°çŸ­ä¿¡äº†</span></span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\teventChannel.<span class=\"title function_\">unsubscribe</span>(<span class=\"string\">&quot;result&quot;</span>, user_1);</span><br><span class=\"line\">\t<span class=\"comment\">// ç­‰åˆ°ä¸‹æ¬¡æ¯”èµ›ç»“æœå…¬å¸ƒ  åªæœ‰ç”¨æˆ·2å°±æ”¶åˆ°äº†çŸ­ä¿¡</span></span><br><span class=\"line\">\teventChannel.<span class=\"title function_\">publish</span>(<span class=\"string\">&quot;result&quot;</span>, &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">result</span>: <span class=\"string\">&quot;è´Ÿ&quot;</span>,</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;, <span class=\"number\">3000</span>);</span><br></pre></td></tr></table></figure>\n"},{"title":"å•ä¾‹æ¨¡å¼","abbrlink":"f1601c3e","date":"2025-01-15T03:20:38.000Z","_content":"\n# ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿ\n\nå•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰æ˜¯ç®€å•çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚\n\nç®€å•çš„è¯´å°±æ˜¯ä¸ç®¡å®ä¾‹å¤šå°‘æ¬¡,æœ€ç»ˆè¿”å›çš„æ˜¯é¦–æ¬¡çš„å®ä¾‹å¯¹è±¡; å•ä¾‹æ¨¡å¼ä¸ä»…å‡å°‘äº†å†…å­˜çš„å¼€é”€, å¹¶ä¸”è§£å†³äº†ä¸€éƒ¨åˆ†åœ¨å…¨å±€å˜é‡ä¸­å†²çªçš„é—®é¢˜ã€‚\n\nå•ä¾‹æ¨¡å¼ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨ã€‚ä¸¾ä¸ªä¾‹å­è¯´: ä¸€ä¸ªç­åªæœ‰ä¸€åç­ä¸»ä»», è€Œå¯¹äºè¿™ä¸ªé—®é¢˜å°±æ˜¯ä¸€ä¸ªç®€å•çš„ä»‹ç»,åŒä¸€ä¸ªç­çº§å¯ä»¥æœ‰å¤šä¸ªè€å¸ˆ,ä½†æ˜¯åªæœ‰ä¸€ä¸ªç­ä¸»ä»»,æ‰€ä»¥è¿™ä¸ªç­ä¸»ä»»å°±æ˜¯å•ä¾‹æ¨¡å¼ã€‚\n\n## ç®€å•çš„å•ä¾‹æ¨¡å¼\n\n```js\nconst time_tool = {\n\ttitle: \"æ—¶é—´å¤„ç†æ–¹æ³•\",\n\tgetTime: function () {},\n\tgetDate: function () {},\n\tgetYear: function () {},\n};\n```\n\nä¸Šé¢çš„ä¾‹å­å°±æ˜¯ä»¥ä¸º`å­—é¢é‡`çš„å½¢å¼åˆ›å»ºä¸€ä¸ªå°è£…æ—¶é—´çš„å¤„ç†å·¥å…·,åŒæ—¶æš´éœ²å‡ºä¸€ä¸ªå…¨å±€çš„å˜é‡`time_tool`,åœ¨ä½¿ç”¨çš„æ—¶å€™åªéœ€è¦è°ƒç”¨`time_tool.getTime()`å³å¯ã€‚`time_tool`å°±æ˜¯å•ä¾‹æ¨¡å¼çš„ä½“ç°,åœ¨åˆ›å»ºå¯¹è±¡çš„æ–¹å¼å®ä¾‹åŒ–äº†ä¸€ä¸ªå¯¹è±¡, å¹¶ä¸”`const`å®šä¹‰çš„å˜é‡æ˜¯ä¸èƒ½ä¿®æ”¹ä»¥åŠé‡å¤å­˜åœ¨çš„;\n\n## æ„é€ å‡½æ•°ä¸ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼\n\n```js\nconst Singleton = (function () {\n\tlet instance;\n\n\tfunction init() {\n\t\tfunction privateMethod() {\n\t\t\tconsole.log(\"ç§æœ‰\");\n\t\t}\n\t\treturn {\n\t\t\tpublicMethod: function () {\n\t\t\t\tconsole.log(\"å…¬æœ‰\");\n\t\t\t\tprivateMethod();\n\t\t\t},\n\t\t};\n\t}\n\n\treturn {\n\t\tgetInstance: function () {\n\t\t\tif (!instance) {\n\t\t\t\t// åˆ›å»º\n\t\t\t\tinstance = init();\n\t\t\t}\n\t\t\treturn instance;\n\t\t},\n\t};\n})();\nconst instance1 = Singleton.getInstance();\nconst instance2 = Singleton.getInstance();\nconsole.log(instance1, instance2);\nconsole.log(instance1 === instance2);\n```\n\n## ä½¿ç”¨æ¨¡å—æ¨¡å¼\n\n```js\nconst SingletonModule = (function () {\n\tlet instance;\n\n\tfunction Singleton() {\n\t\t// ç§æœ‰å±æ€§å’Œæ–¹æ³•\n\t\tconst privateVar = \"I am private\";\n\n\t\tthis.publicMethod = function () {\n\t\t\tconsole.log(\"Public Method\");\n\t\t\tconsole.log(privateVar);\n\t\t};\n\t}\n\n\treturn {\n\t\tgetInstance: function () {\n\t\t\tif (!instance) {\n\t\t\t\tinstance = new Singleton();\n\t\t\t}\n\t\t\treturn instance;\n\t\t},\n\t};\n})();\n\n// ä½¿ç”¨å•ä¾‹\nconst singletonInstance1 = SingletonModule.getInstance();\nconst singletonInstance2 = SingletonModule.getInstance();\nconsole.log(singletonInstance1 === singletonInstance2); // è¾“å‡º: true\n```\n\n## ä½¿ç”¨ ES6 çš„ç±»å’Œé™æ€å±æ€§\n\n```js\nclass SingletonClass {\n\tstatic instance = null;\n\n\tconstructor() {\n\t\tif (!SingletonClass.instance) {\n\t\t\tSingletonClass.instance = this;\n\t\t\t// åˆå§‹åŒ–æ“ä½œ\n\t\t}\n\t\treturn SingletonClass.instance;\n\t}\n\n\tpublicMethod() {\n\t\tconsole.log(\"Singleton Class Public Method\");\n\t}\n}\n\n// ä½¿ç”¨å•ä¾‹\nconst singletonInstance1 = new SingletonClass();\nconst singletonInstance2 = new SingletonClass();\n\nconsole.log(singletonInstance1 === singletonInstance2); // è¾“å‡º: true\n```\n\nå•ä¾‹æ¨¡å¼çš„å®ç°æ–¹å¼æœ‰å¾ˆå¤šç§,å¦‚ä½¿ç”¨å­—é¢é‡,ä½¿ç”¨æ„é€ å‡½æ•°,ä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼,ä½¿ç”¨æ¨¡å—æ¨¡å¼,ä½¿ç”¨ ES6 çš„ç±»å’Œé™æ€å±æ€§ç­‰ã€‚\n","source":"_posts/æŠ€èƒ½å°å†Œ/javascript/è®¾è®¡æ¨¡å¼/å•ä¾‹æ¨¡å¼.md","raw":"---\ntitle: å•ä¾‹æ¨¡å¼\nabbrlink: f1601c3e\ndate: 2025-01-15 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - JavaScript\n---\n\n# ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿ\n\nå•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰æ˜¯ç®€å•çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚\n\nç®€å•çš„è¯´å°±æ˜¯ä¸ç®¡å®ä¾‹å¤šå°‘æ¬¡,æœ€ç»ˆè¿”å›çš„æ˜¯é¦–æ¬¡çš„å®ä¾‹å¯¹è±¡; å•ä¾‹æ¨¡å¼ä¸ä»…å‡å°‘äº†å†…å­˜çš„å¼€é”€, å¹¶ä¸”è§£å†³äº†ä¸€éƒ¨åˆ†åœ¨å…¨å±€å˜é‡ä¸­å†²çªçš„é—®é¢˜ã€‚\n\nå•ä¾‹æ¨¡å¼ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨ã€‚ä¸¾ä¸ªä¾‹å­è¯´: ä¸€ä¸ªç­åªæœ‰ä¸€åç­ä¸»ä»», è€Œå¯¹äºè¿™ä¸ªé—®é¢˜å°±æ˜¯ä¸€ä¸ªç®€å•çš„ä»‹ç»,åŒä¸€ä¸ªç­çº§å¯ä»¥æœ‰å¤šä¸ªè€å¸ˆ,ä½†æ˜¯åªæœ‰ä¸€ä¸ªç­ä¸»ä»»,æ‰€ä»¥è¿™ä¸ªç­ä¸»ä»»å°±æ˜¯å•ä¾‹æ¨¡å¼ã€‚\n\n## ç®€å•çš„å•ä¾‹æ¨¡å¼\n\n```js\nconst time_tool = {\n\ttitle: \"æ—¶é—´å¤„ç†æ–¹æ³•\",\n\tgetTime: function () {},\n\tgetDate: function () {},\n\tgetYear: function () {},\n};\n```\n\nä¸Šé¢çš„ä¾‹å­å°±æ˜¯ä»¥ä¸º`å­—é¢é‡`çš„å½¢å¼åˆ›å»ºä¸€ä¸ªå°è£…æ—¶é—´çš„å¤„ç†å·¥å…·,åŒæ—¶æš´éœ²å‡ºä¸€ä¸ªå…¨å±€çš„å˜é‡`time_tool`,åœ¨ä½¿ç”¨çš„æ—¶å€™åªéœ€è¦è°ƒç”¨`time_tool.getTime()`å³å¯ã€‚`time_tool`å°±æ˜¯å•ä¾‹æ¨¡å¼çš„ä½“ç°,åœ¨åˆ›å»ºå¯¹è±¡çš„æ–¹å¼å®ä¾‹åŒ–äº†ä¸€ä¸ªå¯¹è±¡, å¹¶ä¸”`const`å®šä¹‰çš„å˜é‡æ˜¯ä¸èƒ½ä¿®æ”¹ä»¥åŠé‡å¤å­˜åœ¨çš„;\n\n## æ„é€ å‡½æ•°ä¸ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼\n\n```js\nconst Singleton = (function () {\n\tlet instance;\n\n\tfunction init() {\n\t\tfunction privateMethod() {\n\t\t\tconsole.log(\"ç§æœ‰\");\n\t\t}\n\t\treturn {\n\t\t\tpublicMethod: function () {\n\t\t\t\tconsole.log(\"å…¬æœ‰\");\n\t\t\t\tprivateMethod();\n\t\t\t},\n\t\t};\n\t}\n\n\treturn {\n\t\tgetInstance: function () {\n\t\t\tif (!instance) {\n\t\t\t\t// åˆ›å»º\n\t\t\t\tinstance = init();\n\t\t\t}\n\t\t\treturn instance;\n\t\t},\n\t};\n})();\nconst instance1 = Singleton.getInstance();\nconst instance2 = Singleton.getInstance();\nconsole.log(instance1, instance2);\nconsole.log(instance1 === instance2);\n```\n\n## ä½¿ç”¨æ¨¡å—æ¨¡å¼\n\n```js\nconst SingletonModule = (function () {\n\tlet instance;\n\n\tfunction Singleton() {\n\t\t// ç§æœ‰å±æ€§å’Œæ–¹æ³•\n\t\tconst privateVar = \"I am private\";\n\n\t\tthis.publicMethod = function () {\n\t\t\tconsole.log(\"Public Method\");\n\t\t\tconsole.log(privateVar);\n\t\t};\n\t}\n\n\treturn {\n\t\tgetInstance: function () {\n\t\t\tif (!instance) {\n\t\t\t\tinstance = new Singleton();\n\t\t\t}\n\t\t\treturn instance;\n\t\t},\n\t};\n})();\n\n// ä½¿ç”¨å•ä¾‹\nconst singletonInstance1 = SingletonModule.getInstance();\nconst singletonInstance2 = SingletonModule.getInstance();\nconsole.log(singletonInstance1 === singletonInstance2); // è¾“å‡º: true\n```\n\n## ä½¿ç”¨ ES6 çš„ç±»å’Œé™æ€å±æ€§\n\n```js\nclass SingletonClass {\n\tstatic instance = null;\n\n\tconstructor() {\n\t\tif (!SingletonClass.instance) {\n\t\t\tSingletonClass.instance = this;\n\t\t\t// åˆå§‹åŒ–æ“ä½œ\n\t\t}\n\t\treturn SingletonClass.instance;\n\t}\n\n\tpublicMethod() {\n\t\tconsole.log(\"Singleton Class Public Method\");\n\t}\n}\n\n// ä½¿ç”¨å•ä¾‹\nconst singletonInstance1 = new SingletonClass();\nconst singletonInstance2 = new SingletonClass();\n\nconsole.log(singletonInstance1 === singletonInstance2); // è¾“å‡º: true\n```\n\nå•ä¾‹æ¨¡å¼çš„å®ç°æ–¹å¼æœ‰å¾ˆå¤šç§,å¦‚ä½¿ç”¨å­—é¢é‡,ä½¿ç”¨æ„é€ å‡½æ•°,ä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼,ä½¿ç”¨æ¨¡å—æ¨¡å¼,ä½¿ç”¨ ES6 çš„ç±»å’Œé™æ€å±æ€§ç­‰ã€‚\n","slug":"æŠ€èƒ½å°å†Œ/javascript/è®¾è®¡æ¨¡å¼/å•ä¾‹æ¨¡å¼","published":1,"updated":"2025-03-12T09:21:23.566Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j6006lfg9mdl6kfej9","content":"<h1 id=\"ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿ\"><a href=\"#ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿ\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿ\"></a>ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿ</h1><p>å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰æ˜¯ç®€å•çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚</p>\n<p>ç®€å•çš„è¯´å°±æ˜¯ä¸ç®¡å®ä¾‹å¤šå°‘æ¬¡,æœ€ç»ˆè¿”å›çš„æ˜¯é¦–æ¬¡çš„å®ä¾‹å¯¹è±¡; å•ä¾‹æ¨¡å¼ä¸ä»…å‡å°‘äº†å†…å­˜çš„å¼€é”€, å¹¶ä¸”è§£å†³äº†ä¸€éƒ¨åˆ†åœ¨å…¨å±€å˜é‡ä¸­å†²çªçš„é—®é¢˜ã€‚</p>\n<p>å•ä¾‹æ¨¡å¼ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨ã€‚ä¸¾ä¸ªä¾‹å­è¯´: ä¸€ä¸ªç­åªæœ‰ä¸€åç­ä¸»ä»», è€Œå¯¹äºè¿™ä¸ªé—®é¢˜å°±æ˜¯ä¸€ä¸ªç®€å•çš„ä»‹ç»,åŒä¸€ä¸ªç­çº§å¯ä»¥æœ‰å¤šä¸ªè€å¸ˆ,ä½†æ˜¯åªæœ‰ä¸€ä¸ªç­ä¸»ä»»,æ‰€ä»¥è¿™ä¸ªç­ä¸»ä»»å°±æ˜¯å•ä¾‹æ¨¡å¼ã€‚</p>\n<h2 id=\"ç®€å•çš„å•ä¾‹æ¨¡å¼\"><a href=\"#ç®€å•çš„å•ä¾‹æ¨¡å¼\" class=\"headerlink\" title=\"ç®€å•çš„å•ä¾‹æ¨¡å¼\"></a>ç®€å•çš„å•ä¾‹æ¨¡å¼</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> time_tool = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">title</span>: <span class=\"string\">&quot;æ—¶é—´å¤„ç†æ–¹æ³•&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">getTime</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">getDate</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">getYear</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;&#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢çš„ä¾‹å­å°±æ˜¯ä»¥ä¸º<code>å­—é¢é‡</code>çš„å½¢å¼åˆ›å»ºä¸€ä¸ªå°è£…æ—¶é—´çš„å¤„ç†å·¥å…·,åŒæ—¶æš´éœ²å‡ºä¸€ä¸ªå…¨å±€çš„å˜é‡<code>time_tool</code>,åœ¨ä½¿ç”¨çš„æ—¶å€™åªéœ€è¦è°ƒç”¨<code>time_tool.getTime()</code>å³å¯ã€‚<code>time_tool</code>å°±æ˜¯å•ä¾‹æ¨¡å¼çš„ä½“ç°,åœ¨åˆ›å»ºå¯¹è±¡çš„æ–¹å¼å®ä¾‹åŒ–äº†ä¸€ä¸ªå¯¹è±¡, å¹¶ä¸”<code>const</code>å®šä¹‰çš„å˜é‡æ˜¯ä¸èƒ½ä¿®æ”¹ä»¥åŠé‡å¤å­˜åœ¨çš„;</p>\n<h2 id=\"æ„é€ å‡½æ•°ä¸ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼\"><a href=\"#æ„é€ å‡½æ•°ä¸ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼\" class=\"headerlink\" title=\"æ„é€ å‡½æ•°ä¸ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼\"></a>æ„é€ å‡½æ•°ä¸ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">Singleton</span> = (<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> instance;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">function</span> <span class=\"title function_\">init</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">function</span> <span class=\"title function_\">privateMethod</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;ç§æœ‰&quot;</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">publicMethod</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;å…¬æœ‰&quot;</span>);</span><br><span class=\"line\">\t\t\t\t<span class=\"title function_\">privateMethod</span>();</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">getInstance</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (!instance) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// åˆ›å»º</span></span><br><span class=\"line\">\t\t\t\tinstance = <span class=\"title function_\">init</span>();</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> instance;</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;)();</span><br><span class=\"line\"><span class=\"keyword\">const</span> instance1 = <span class=\"title class_\">Singleton</span>.<span class=\"title function_\">getInstance</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> instance2 = <span class=\"title class_\">Singleton</span>.<span class=\"title function_\">getInstance</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(instance1, instance2);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(instance1 === instance2);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä½¿ç”¨æ¨¡å—æ¨¡å¼\"><a href=\"#ä½¿ç”¨æ¨¡å—æ¨¡å¼\" class=\"headerlink\" title=\"ä½¿ç”¨æ¨¡å—æ¨¡å¼\"></a>ä½¿ç”¨æ¨¡å—æ¨¡å¼</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">SingletonModule</span> = (<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> instance;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">function</span> <span class=\"title function_\">Singleton</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ç§æœ‰å±æ€§å’Œæ–¹æ³•</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> privateVar = <span class=\"string\">&quot;I am private&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">publicMethod</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Public Method&quot;</span>);</span><br><span class=\"line\">\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(privateVar);</span><br><span class=\"line\">\t\t&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">getInstance</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (!instance) &#123;</span><br><span class=\"line\">\t\t\t\tinstance = <span class=\"keyword\">new</span> <span class=\"title class_\">Singleton</span>();</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> instance;</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;)();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä½¿ç”¨å•ä¾‹</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> singletonInstance1 = <span class=\"title class_\">SingletonModule</span>.<span class=\"title function_\">getInstance</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> singletonInstance2 = <span class=\"title class_\">SingletonModule</span>.<span class=\"title function_\">getInstance</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(singletonInstance1 === singletonInstance2); <span class=\"comment\">// è¾“å‡º: true</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä½¿ç”¨-ES6-çš„ç±»å’Œé™æ€å±æ€§\"><a href=\"#ä½¿ç”¨-ES6-çš„ç±»å’Œé™æ€å±æ€§\" class=\"headerlink\" title=\"ä½¿ç”¨ ES6 çš„ç±»å’Œé™æ€å±æ€§\"></a>ä½¿ç”¨ ES6 çš„ç±»å’Œé™æ€å±æ€§</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">SingletonClass</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">static</span> instance = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!<span class=\"title class_\">SingletonClass</span>.<span class=\"property\">instance</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"title class_\">SingletonClass</span>.<span class=\"property\">instance</span> = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// åˆå§‹åŒ–æ“ä½œ</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"title class_\">SingletonClass</span>.<span class=\"property\">instance</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"title function_\">publicMethod</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Singleton Class Public Method&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä½¿ç”¨å•ä¾‹</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> singletonInstance1 = <span class=\"keyword\">new</span> <span class=\"title class_\">SingletonClass</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> singletonInstance2 = <span class=\"keyword\">new</span> <span class=\"title class_\">SingletonClass</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(singletonInstance1 === singletonInstance2); <span class=\"comment\">// è¾“å‡º: true</span></span><br></pre></td></tr></table></figure>\n\n<p>å•ä¾‹æ¨¡å¼çš„å®ç°æ–¹å¼æœ‰å¾ˆå¤šç§,å¦‚ä½¿ç”¨å­—é¢é‡,ä½¿ç”¨æ„é€ å‡½æ•°,ä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼,ä½¿ç”¨æ¨¡å—æ¨¡å¼,ä½¿ç”¨ ES6 çš„ç±»å’Œé™æ€å±æ€§ç­‰ã€‚</p>\n","excerpt":"","more":"<h1 id=\"ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿ\"><a href=\"#ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿ\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿ\"></a>ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿ</h1><p>å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰æ˜¯ç®€å•çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚</p>\n<p>ç®€å•çš„è¯´å°±æ˜¯ä¸ç®¡å®ä¾‹å¤šå°‘æ¬¡,æœ€ç»ˆè¿”å›çš„æ˜¯é¦–æ¬¡çš„å®ä¾‹å¯¹è±¡; å•ä¾‹æ¨¡å¼ä¸ä»…å‡å°‘äº†å†…å­˜çš„å¼€é”€, å¹¶ä¸”è§£å†³äº†ä¸€éƒ¨åˆ†åœ¨å…¨å±€å˜é‡ä¸­å†²çªçš„é—®é¢˜ã€‚</p>\n<p>å•ä¾‹æ¨¡å¼ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨ã€‚ä¸¾ä¸ªä¾‹å­è¯´: ä¸€ä¸ªç­åªæœ‰ä¸€åç­ä¸»ä»», è€Œå¯¹äºè¿™ä¸ªé—®é¢˜å°±æ˜¯ä¸€ä¸ªç®€å•çš„ä»‹ç»,åŒä¸€ä¸ªç­çº§å¯ä»¥æœ‰å¤šä¸ªè€å¸ˆ,ä½†æ˜¯åªæœ‰ä¸€ä¸ªç­ä¸»ä»»,æ‰€ä»¥è¿™ä¸ªç­ä¸»ä»»å°±æ˜¯å•ä¾‹æ¨¡å¼ã€‚</p>\n<h2 id=\"ç®€å•çš„å•ä¾‹æ¨¡å¼\"><a href=\"#ç®€å•çš„å•ä¾‹æ¨¡å¼\" class=\"headerlink\" title=\"ç®€å•çš„å•ä¾‹æ¨¡å¼\"></a>ç®€å•çš„å•ä¾‹æ¨¡å¼</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> time_tool = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">title</span>: <span class=\"string\">&quot;æ—¶é—´å¤„ç†æ–¹æ³•&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">getTime</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">getDate</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">getYear</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;&#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢çš„ä¾‹å­å°±æ˜¯ä»¥ä¸º<code>å­—é¢é‡</code>çš„å½¢å¼åˆ›å»ºä¸€ä¸ªå°è£…æ—¶é—´çš„å¤„ç†å·¥å…·,åŒæ—¶æš´éœ²å‡ºä¸€ä¸ªå…¨å±€çš„å˜é‡<code>time_tool</code>,åœ¨ä½¿ç”¨çš„æ—¶å€™åªéœ€è¦è°ƒç”¨<code>time_tool.getTime()</code>å³å¯ã€‚<code>time_tool</code>å°±æ˜¯å•ä¾‹æ¨¡å¼çš„ä½“ç°,åœ¨åˆ›å»ºå¯¹è±¡çš„æ–¹å¼å®ä¾‹åŒ–äº†ä¸€ä¸ªå¯¹è±¡, å¹¶ä¸”<code>const</code>å®šä¹‰çš„å˜é‡æ˜¯ä¸èƒ½ä¿®æ”¹ä»¥åŠé‡å¤å­˜åœ¨çš„;</p>\n<h2 id=\"æ„é€ å‡½æ•°ä¸ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼\"><a href=\"#æ„é€ å‡½æ•°ä¸ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼\" class=\"headerlink\" title=\"æ„é€ å‡½æ•°ä¸ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼\"></a>æ„é€ å‡½æ•°ä¸ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">Singleton</span> = (<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> instance;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">function</span> <span class=\"title function_\">init</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">function</span> <span class=\"title function_\">privateMethod</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;ç§æœ‰&quot;</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">publicMethod</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;å…¬æœ‰&quot;</span>);</span><br><span class=\"line\">\t\t\t\t<span class=\"title function_\">privateMethod</span>();</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">getInstance</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (!instance) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// åˆ›å»º</span></span><br><span class=\"line\">\t\t\t\tinstance = <span class=\"title function_\">init</span>();</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> instance;</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;)();</span><br><span class=\"line\"><span class=\"keyword\">const</span> instance1 = <span class=\"title class_\">Singleton</span>.<span class=\"title function_\">getInstance</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> instance2 = <span class=\"title class_\">Singleton</span>.<span class=\"title function_\">getInstance</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(instance1, instance2);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(instance1 === instance2);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä½¿ç”¨æ¨¡å—æ¨¡å¼\"><a href=\"#ä½¿ç”¨æ¨¡å—æ¨¡å¼\" class=\"headerlink\" title=\"ä½¿ç”¨æ¨¡å—æ¨¡å¼\"></a>ä½¿ç”¨æ¨¡å—æ¨¡å¼</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">SingletonModule</span> = (<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> instance;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">function</span> <span class=\"title function_\">Singleton</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ç§æœ‰å±æ€§å’Œæ–¹æ³•</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> privateVar = <span class=\"string\">&quot;I am private&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">publicMethod</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Public Method&quot;</span>);</span><br><span class=\"line\">\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(privateVar);</span><br><span class=\"line\">\t\t&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">getInstance</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (!instance) &#123;</span><br><span class=\"line\">\t\t\t\tinstance = <span class=\"keyword\">new</span> <span class=\"title class_\">Singleton</span>();</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> instance;</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;)();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä½¿ç”¨å•ä¾‹</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> singletonInstance1 = <span class=\"title class_\">SingletonModule</span>.<span class=\"title function_\">getInstance</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> singletonInstance2 = <span class=\"title class_\">SingletonModule</span>.<span class=\"title function_\">getInstance</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(singletonInstance1 === singletonInstance2); <span class=\"comment\">// è¾“å‡º: true</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä½¿ç”¨-ES6-çš„ç±»å’Œé™æ€å±æ€§\"><a href=\"#ä½¿ç”¨-ES6-çš„ç±»å’Œé™æ€å±æ€§\" class=\"headerlink\" title=\"ä½¿ç”¨ ES6 çš„ç±»å’Œé™æ€å±æ€§\"></a>ä½¿ç”¨ ES6 çš„ç±»å’Œé™æ€å±æ€§</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">SingletonClass</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">static</span> instance = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!<span class=\"title class_\">SingletonClass</span>.<span class=\"property\">instance</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"title class_\">SingletonClass</span>.<span class=\"property\">instance</span> = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// åˆå§‹åŒ–æ“ä½œ</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"title class_\">SingletonClass</span>.<span class=\"property\">instance</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"title function_\">publicMethod</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Singleton Class Public Method&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä½¿ç”¨å•ä¾‹</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> singletonInstance1 = <span class=\"keyword\">new</span> <span class=\"title class_\">SingletonClass</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> singletonInstance2 = <span class=\"keyword\">new</span> <span class=\"title class_\">SingletonClass</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(singletonInstance1 === singletonInstance2); <span class=\"comment\">// è¾“å‡º: true</span></span><br></pre></td></tr></table></figure>\n\n<p>å•ä¾‹æ¨¡å¼çš„å®ç°æ–¹å¼æœ‰å¾ˆå¤šç§,å¦‚ä½¿ç”¨å­—é¢é‡,ä½¿ç”¨æ„é€ å‡½æ•°,ä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼,ä½¿ç”¨æ¨¡å—æ¨¡å¼,ä½¿ç”¨ ES6 çš„ç±»å’Œé™æ€å±æ€§ç­‰ã€‚</p>\n"},{"title":"è§‚å¯Ÿè€…æ¨¡å¼","abbrlink":"9a246216","_content":"\n# è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ\n\næ˜¯ä¸€ç§ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå…¶ä»–ä¾èµ–è€…éƒ½ä¼šæ”¶åˆ°å¯¹åº”çš„é€šçŸ¥å¹¶åŠæ—¶æ›´æ–°ï¼›\n\nå°±æ¯”å¦‚è¯´ï¼šç°åœºæ‹å–ï¼Œå°ä¸Šçš„æ˜¯è§‚å¯Ÿè€…ï¼Œå½“å•†å“ä»·æ ¼å‘ç”Ÿæ”¹å˜æ—¶å°±ä¼šæ›´æ–°é€šçŸ¥æ‰€æœ‰çš„ç«æ‹è€…ï¼Œå…¶ä¸­ä¸€ä»¶å•†å“å¯¹åº”äº†å¤šä¸ªç«æ‹è€…ï¼Œä½“ç°äº†ä¸€å¯¹å¤šçš„å…³ç³»ï¼›\n\nå¯ä»¥å‚è€ƒå¦‚ä¸‹å›¾ç‰‡ï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/2024-08-16-1140.3k7zr6l0sj.webp)\n\n## ç®€å•æ¡ˆä¾‹\n\n```js\nclass Observer {\n\tconstructor(name) {\n\t\tthis.name = name;\n\t}\n\n\tupdate(price) {\n\t\tconsole.log(`${this.name} æ‚¨æ”¶åˆ°çš„ä»·æ ¼ä¸º: $${price}`);\n\t}\n}\n\nclass Subject {\n\tconstructor() {\n\t\tthis.observers = []; // æ‰€æœ‰ç«æ‹è€…\n\t\tthis.price = 0; // å½“å‰ä»·æ ¼\n\t}\n\n\t// æ·»åŠ ç«æ‹è€…\n\taddObserver(observer) {\n\t\tthis.observers.push(observer);\n\t}\n\n\t// åˆ é™¤ç«æ‹è€…\n\tremoveObserver(observer) {\n\t\tthis.observers = this.observers.filter(item => item !== observer);\n\t}\n\n\t// æ›´æ–°ä»·æ ¼ å¹¶é€šçŸ¥æ‰€æœ‰ç«æ‹è€…\n\tupdatePrice(price) {\n\t\tthis.price = price;\n\t\tthis.observers.forEach(item => item.update(price));\n\t}\n}\n\n// åˆ›å»ºæ‹å–å“\nconst subject = new Subject();\n\n// åˆ›å»ºç«æ‹è€…\nconst ob1 = new Observer(\"ç«æ‹è€…A\");\nconst ob2 = new Observer(\"ç«æ‹è€…B\");\nconst ob3 = new Observer(\"ç«æ‹è€…C\");\n\n// æ³¨å†Œç«æ‹è€…\nsubject.addObserver(ob1);\nsubject.addObserver(ob2);\nsubject.addObserver(ob3);\n\n// æ›´æ–°ä»·æ ¼\nsubject.updatePrice(100);\n\n// ç«æ‹è€…Aç¦»å¸­ä¸å‚ä¸ç«æ‹äº†\nsubject.removeObserver(ob1);\n\n// æ›´æ–°ä»·æ ¼ï¼Œ è¿™æ—¶å€™åªæœ‰ç«æ‹è€…B,Cæ”¶åˆ°é€šçŸ¥\nsubject.updatePrice(200);\n```\n","source":"_posts/æŠ€èƒ½å°å†Œ/javascript/è®¾è®¡æ¨¡å¼/è§‚å¯Ÿè€…æ¨¡å¼.md","raw":"---\ntitle: è§‚å¯Ÿè€…æ¨¡å¼\nabbrlink: 9a246216\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - JavaScript\n---\n\n# è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ\n\næ˜¯ä¸€ç§ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå…¶ä»–ä¾èµ–è€…éƒ½ä¼šæ”¶åˆ°å¯¹åº”çš„é€šçŸ¥å¹¶åŠæ—¶æ›´æ–°ï¼›\n\nå°±æ¯”å¦‚è¯´ï¼šç°åœºæ‹å–ï¼Œå°ä¸Šçš„æ˜¯è§‚å¯Ÿè€…ï¼Œå½“å•†å“ä»·æ ¼å‘ç”Ÿæ”¹å˜æ—¶å°±ä¼šæ›´æ–°é€šçŸ¥æ‰€æœ‰çš„ç«æ‹è€…ï¼Œå…¶ä¸­ä¸€ä»¶å•†å“å¯¹åº”äº†å¤šä¸ªç«æ‹è€…ï¼Œä½“ç°äº†ä¸€å¯¹å¤šçš„å…³ç³»ï¼›\n\nå¯ä»¥å‚è€ƒå¦‚ä¸‹å›¾ç‰‡ï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/2024-08-16-1140.3k7zr6l0sj.webp)\n\n## ç®€å•æ¡ˆä¾‹\n\n```js\nclass Observer {\n\tconstructor(name) {\n\t\tthis.name = name;\n\t}\n\n\tupdate(price) {\n\t\tconsole.log(`${this.name} æ‚¨æ”¶åˆ°çš„ä»·æ ¼ä¸º: $${price}`);\n\t}\n}\n\nclass Subject {\n\tconstructor() {\n\t\tthis.observers = []; // æ‰€æœ‰ç«æ‹è€…\n\t\tthis.price = 0; // å½“å‰ä»·æ ¼\n\t}\n\n\t// æ·»åŠ ç«æ‹è€…\n\taddObserver(observer) {\n\t\tthis.observers.push(observer);\n\t}\n\n\t// åˆ é™¤ç«æ‹è€…\n\tremoveObserver(observer) {\n\t\tthis.observers = this.observers.filter(item => item !== observer);\n\t}\n\n\t// æ›´æ–°ä»·æ ¼ å¹¶é€šçŸ¥æ‰€æœ‰ç«æ‹è€…\n\tupdatePrice(price) {\n\t\tthis.price = price;\n\t\tthis.observers.forEach(item => item.update(price));\n\t}\n}\n\n// åˆ›å»ºæ‹å–å“\nconst subject = new Subject();\n\n// åˆ›å»ºç«æ‹è€…\nconst ob1 = new Observer(\"ç«æ‹è€…A\");\nconst ob2 = new Observer(\"ç«æ‹è€…B\");\nconst ob3 = new Observer(\"ç«æ‹è€…C\");\n\n// æ³¨å†Œç«æ‹è€…\nsubject.addObserver(ob1);\nsubject.addObserver(ob2);\nsubject.addObserver(ob3);\n\n// æ›´æ–°ä»·æ ¼\nsubject.updatePrice(100);\n\n// ç«æ‹è€…Aç¦»å¸­ä¸å‚ä¸ç«æ‹äº†\nsubject.removeObserver(ob1);\n\n// æ›´æ–°ä»·æ ¼ï¼Œ è¿™æ—¶å€™åªæœ‰ç«æ‹è€…B,Cæ”¶åˆ°é€šçŸ¥\nsubject.updatePrice(200);\n```\n","slug":"æŠ€èƒ½å°å†Œ/javascript/è®¾è®¡æ¨¡å¼/è§‚å¯Ÿè€…æ¨¡å¼","published":1,"date":"2025-03-12T09:20:29.229Z","updated":"2025-03-13T10:16:18.381Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j7006ofg9m3joedpbt","content":"<h1 id=\"è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ\"><a href=\"#è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ\" class=\"headerlink\" title=\"è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ\"></a>è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ</h1><p>æ˜¯ä¸€ç§ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå…¶ä»–ä¾èµ–è€…éƒ½ä¼šæ”¶åˆ°å¯¹åº”çš„é€šçŸ¥å¹¶åŠæ—¶æ›´æ–°ï¼›</p>\n<p>å°±æ¯”å¦‚è¯´ï¼šç°åœºæ‹å–ï¼Œå°ä¸Šçš„æ˜¯è§‚å¯Ÿè€…ï¼Œå½“å•†å“ä»·æ ¼å‘ç”Ÿæ”¹å˜æ—¶å°±ä¼šæ›´æ–°é€šçŸ¥æ‰€æœ‰çš„ç«æ‹è€…ï¼Œå…¶ä¸­ä¸€ä»¶å•†å“å¯¹åº”äº†å¤šä¸ªç«æ‹è€…ï¼Œä½“ç°äº†ä¸€å¯¹å¤šçš„å…³ç³»ï¼›</p>\n<p>å¯ä»¥å‚è€ƒå¦‚ä¸‹å›¾ç‰‡ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/2024-08-16-1140.3k7zr6l0sj.webp\" alt=\"x\"></p>\n<h2 id=\"ç®€å•æ¡ˆä¾‹\"><a href=\"#ç®€å•æ¡ˆä¾‹\" class=\"headerlink\" title=\"ç®€å•æ¡ˆä¾‹\"></a>ç®€å•æ¡ˆä¾‹</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Observer</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"title function_\">update</span>(<span class=\"params\">price</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.name&#125;</span> æ‚¨æ”¶åˆ°çš„ä»·æ ¼ä¸º: $<span class=\"subst\">$&#123;price&#125;</span>`</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Subject</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">observers</span> = []; <span class=\"comment\">// æ‰€æœ‰ç«æ‹è€…</span></span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">price</span> = <span class=\"number\">0</span>; <span class=\"comment\">// å½“å‰ä»·æ ¼</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ·»åŠ ç«æ‹è€…</span></span><br><span class=\"line\">\t<span class=\"title function_\">addObserver</span>(<span class=\"params\">observer</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">observers</span>.<span class=\"title function_\">push</span>(observer);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// åˆ é™¤ç«æ‹è€…</span></span><br><span class=\"line\">\t<span class=\"title function_\">removeObserver</span>(<span class=\"params\">observer</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">observers</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">observers</span>.<span class=\"title function_\">filter</span>(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> item !== observer);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ›´æ–°ä»·æ ¼ å¹¶é€šçŸ¥æ‰€æœ‰ç«æ‹è€…</span></span><br><span class=\"line\">\t<span class=\"title function_\">updatePrice</span>(<span class=\"params\">price</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">price</span> = price;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">observers</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> item.<span class=\"title function_\">update</span>(price));</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆ›å»ºæ‹å–å“</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> subject = <span class=\"keyword\">new</span> <span class=\"title class_\">Subject</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆ›å»ºç«æ‹è€…</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> ob1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Observer</span>(<span class=\"string\">&quot;ç«æ‹è€…A&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> ob2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Observer</span>(<span class=\"string\">&quot;ç«æ‹è€…B&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> ob3 = <span class=\"keyword\">new</span> <span class=\"title class_\">Observer</span>(<span class=\"string\">&quot;ç«æ‹è€…C&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ³¨å†Œç«æ‹è€…</span></span><br><span class=\"line\">subject.<span class=\"title function_\">addObserver</span>(ob1);</span><br><span class=\"line\">subject.<span class=\"title function_\">addObserver</span>(ob2);</span><br><span class=\"line\">subject.<span class=\"title function_\">addObserver</span>(ob3);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ›´æ–°ä»·æ ¼</span></span><br><span class=\"line\">subject.<span class=\"title function_\">updatePrice</span>(<span class=\"number\">100</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç«æ‹è€…Aç¦»å¸­ä¸å‚ä¸ç«æ‹äº†</span></span><br><span class=\"line\">subject.<span class=\"title function_\">removeObserver</span>(ob1);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ›´æ–°ä»·æ ¼ï¼Œ è¿™æ—¶å€™åªæœ‰ç«æ‹è€…B,Cæ”¶åˆ°é€šçŸ¥</span></span><br><span class=\"line\">subject.<span class=\"title function_\">updatePrice</span>(<span class=\"number\">200</span>);</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ\"><a href=\"#è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ\" class=\"headerlink\" title=\"è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ\"></a>è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ</h1><p>æ˜¯ä¸€ç§ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå…¶ä»–ä¾èµ–è€…éƒ½ä¼šæ”¶åˆ°å¯¹åº”çš„é€šçŸ¥å¹¶åŠæ—¶æ›´æ–°ï¼›</p>\n<p>å°±æ¯”å¦‚è¯´ï¼šç°åœºæ‹å–ï¼Œå°ä¸Šçš„æ˜¯è§‚å¯Ÿè€…ï¼Œå½“å•†å“ä»·æ ¼å‘ç”Ÿæ”¹å˜æ—¶å°±ä¼šæ›´æ–°é€šçŸ¥æ‰€æœ‰çš„ç«æ‹è€…ï¼Œå…¶ä¸­ä¸€ä»¶å•†å“å¯¹åº”äº†å¤šä¸ªç«æ‹è€…ï¼Œä½“ç°äº†ä¸€å¯¹å¤šçš„å…³ç³»ï¼›</p>\n<p>å¯ä»¥å‚è€ƒå¦‚ä¸‹å›¾ç‰‡ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/2024-08-16-1140.3k7zr6l0sj.webp\" alt=\"x\"></p>\n<h2 id=\"ç®€å•æ¡ˆä¾‹\"><a href=\"#ç®€å•æ¡ˆä¾‹\" class=\"headerlink\" title=\"ç®€å•æ¡ˆä¾‹\"></a>ç®€å•æ¡ˆä¾‹</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Observer</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"title function_\">update</span>(<span class=\"params\">price</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.name&#125;</span> æ‚¨æ”¶åˆ°çš„ä»·æ ¼ä¸º: $<span class=\"subst\">$&#123;price&#125;</span>`</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Subject</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">observers</span> = []; <span class=\"comment\">// æ‰€æœ‰ç«æ‹è€…</span></span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">price</span> = <span class=\"number\">0</span>; <span class=\"comment\">// å½“å‰ä»·æ ¼</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ·»åŠ ç«æ‹è€…</span></span><br><span class=\"line\">\t<span class=\"title function_\">addObserver</span>(<span class=\"params\">observer</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">observers</span>.<span class=\"title function_\">push</span>(observer);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// åˆ é™¤ç«æ‹è€…</span></span><br><span class=\"line\">\t<span class=\"title function_\">removeObserver</span>(<span class=\"params\">observer</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">observers</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">observers</span>.<span class=\"title function_\">filter</span>(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> item !== observer);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æ›´æ–°ä»·æ ¼ å¹¶é€šçŸ¥æ‰€æœ‰ç«æ‹è€…</span></span><br><span class=\"line\">\t<span class=\"title function_\">updatePrice</span>(<span class=\"params\">price</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">price</span> = price;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">observers</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> item.<span class=\"title function_\">update</span>(price));</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆ›å»ºæ‹å–å“</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> subject = <span class=\"keyword\">new</span> <span class=\"title class_\">Subject</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆ›å»ºç«æ‹è€…</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> ob1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Observer</span>(<span class=\"string\">&quot;ç«æ‹è€…A&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> ob2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Observer</span>(<span class=\"string\">&quot;ç«æ‹è€…B&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> ob3 = <span class=\"keyword\">new</span> <span class=\"title class_\">Observer</span>(<span class=\"string\">&quot;ç«æ‹è€…C&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ³¨å†Œç«æ‹è€…</span></span><br><span class=\"line\">subject.<span class=\"title function_\">addObserver</span>(ob1);</span><br><span class=\"line\">subject.<span class=\"title function_\">addObserver</span>(ob2);</span><br><span class=\"line\">subject.<span class=\"title function_\">addObserver</span>(ob3);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ›´æ–°ä»·æ ¼</span></span><br><span class=\"line\">subject.<span class=\"title function_\">updatePrice</span>(<span class=\"number\">100</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç«æ‹è€…Aç¦»å¸­ä¸å‚ä¸ç«æ‹äº†</span></span><br><span class=\"line\">subject.<span class=\"title function_\">removeObserver</span>(ob1);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ›´æ–°ä»·æ ¼ï¼Œ è¿™æ—¶å€™åªæœ‰ç«æ‹è€…B,Cæ”¶åˆ°é€šçŸ¥</span></span><br><span class=\"line\">subject.<span class=\"title function_\">updatePrice</span>(<span class=\"number\">200</span>);</span><br></pre></td></tr></table></figure>\n"},{"title":"è®¢é˜…å‘å¸ƒä¸è§‚å¯Ÿè€…åŒºåˆ«","abbrlink":"d5ff89f2","date":"2025-01-15T03:20:38.000Z","_content":"\n{% note info simple %}\nåœ¨ JavaScript ä¸­ï¼Œ`è®¢é˜…å‘å¸ƒï¼ˆPublish-Subscribeï¼‰æ¨¡å¼`å’Œ`è§‚å¯Ÿè€…ï¼ˆObserverï¼‰æ¨¡å¼`éƒ½æ˜¯ç”¨äºå®ç°å¯¹è±¡é—´è§£è€¦é€šä¿¡çš„è®¾è®¡æ¨¡å¼ã€‚è™½ç„¶è¿™ä¸¤ç§æ¨¡å¼æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œä½†å®ƒä»¬ä¹‹é—´å­˜åœ¨ä¸€äº›å…³é”®çš„åŒºåˆ«ï¼š\n{% endnote %}\n\n## æ¦‚å¿µä¸Šçš„ä¸åŒï¼š\n\n- è§‚å¯Ÿè€…æ¨¡å¼ï¼šæ˜¯ä¸€ç§å¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼Œå®ƒå®šä¹‰äº†å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½ä¼šå¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚\n- è®¢é˜…å‘å¸ƒæ¨¡å¼ï¼šæ˜¯ä¸€ç§æ¶ˆæ¯é€šä¿¡æ¨¡å¼ï¼Œå¯¹è±¡ä¹‹é—´é€šè¿‡äº‹ä»¶æˆ–æ¶ˆæ¯è¿›è¡Œé€šä¿¡ï¼Œå‘é€è€…ï¼ˆå‘å¸ƒè€…ï¼‰ä¸ä¼šç›´æ¥è°ƒç”¨æ¥æ”¶è€…ï¼ˆè®¢é˜…è€…ï¼‰çš„æ–¹æ³•ï¼Œè€Œæ˜¯å°†æ¶ˆæ¯å‘å¸ƒåˆ°ä¸€ä¸ªä¸­ä»‹ï¼ˆé€šå¸¸æ˜¯äº‹ä»¶æ€»çº¿æˆ–æ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œè®¢é˜…è€…å¯ä»¥è®¢é˜…è¿™äº›æ¶ˆæ¯ã€‚\n\n## å®ç°æ–¹å¼çš„ä¸åŒ\n\n- åœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œé€šå¸¸æœ‰ä¸€ä¸ªå…·ä½“çš„ Subject ç±»ï¼Œå®ƒå¯ä»¥æ³¨å†Œã€ç§»é™¤è§‚å¯Ÿè€…ï¼ˆObserverï¼‰ï¼Œå¹¶ä¸”åœ¨çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶é€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…ã€‚\n- åœ¨è®¢é˜…å‘å¸ƒæ¨¡å¼ä¸­ï¼Œå¹¶æ²¡æœ‰æ˜ç¡®çš„ Subject å’Œ Observer è§’è‰²ï¼Œä»»ä½•å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºå‘å¸ƒè€…æˆ–è€…è®¢é˜…è€…ï¼Œé€šä¿¡æ˜¯é€šè¿‡äº‹ä»¶åç§°æ¥è¿›è¡Œçš„ã€‚\n\n## åº”ç”¨åœºæ™¯çš„ä¸åŒ\n\n- è§‚å¯Ÿè€…æ¨¡å¼æ›´é€‚åˆäºä¸€å¯¹å¤šçš„å…³ç³»ï¼Œå³ä¸€ä¸ªä¸»é¢˜å¯¹è±¡ç®¡ç†æ‰€æœ‰è§‚å¯Ÿè€…å¯¹è±¡ï¼Œå¹¶ä¸”ä»»ä½•ç»™å®šçš„è§‚å¯Ÿè€…å¯¹è±¡éƒ½åªä¾èµ–äºä¸€ä¸ªå…·ä½“ä¸»é¢˜ã€‚\n- è®¢é˜…å‘å¸ƒæ¨¡å¼é€‚ç”¨äºæ›´å¹¿æ³›çš„æƒ…å†µï¼ŒåŒ…æ‹¬å¤šå¯¹å¤šçš„å…³ç³»ï¼Œå³å¤šä¸ªå‘å¸ƒè€…å¯ä»¥å‘å¤šä¸ªè®¢é˜…è€…å‘é€æ¶ˆæ¯ï¼Œè®¢é˜…è€…å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©è®¢é˜…å“ªäº›æ¶ˆæ¯ã€‚\n\n## çµæ´»æ€§ä¸æ‰©å±•æ€§\n\n- è§‚å¯Ÿè€…æ¨¡å¼åœ¨æ·»åŠ æ–°çš„è§‚å¯Ÿè€…æ—¶ç›¸å¯¹ç®€å•ï¼Œä½†æ˜¯å½“ä¸»é¢˜å¯¹è±¡çš„çŠ¶æ€å˜åŒ–é¢‘ç¹æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´å¤§é‡çš„é€šçŸ¥æ¶ˆæ¯ã€‚\n- è®¢é˜…å‘å¸ƒæ¨¡å¼ç”±äºå…¶åŸºäºäº‹ä»¶çš„æœºåˆ¶ï¼Œåœ¨å¤„ç†å¤æ‚çš„æ¶ˆæ¯ä¼ é€’åœºæ™¯æ—¶æ›´åŠ çµæ´»ï¼Œä¹Ÿæ›´å®¹æ˜“æ‰©å±•ã€‚\n","source":"_posts/æŠ€èƒ½å°å†Œ/javascript/è®¾è®¡æ¨¡å¼/è®¢é˜…å‘å¸ƒä¸è§‚å¯Ÿè€…åŒºåˆ«.md","raw":"---\ntitle: è®¢é˜…å‘å¸ƒä¸è§‚å¯Ÿè€…åŒºåˆ«\nabbrlink: d5ff89f2\ndate: 2025-01-15 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - JavaScript\n---\n\n{% note info simple %}\nåœ¨ JavaScript ä¸­ï¼Œ`è®¢é˜…å‘å¸ƒï¼ˆPublish-Subscribeï¼‰æ¨¡å¼`å’Œ`è§‚å¯Ÿè€…ï¼ˆObserverï¼‰æ¨¡å¼`éƒ½æ˜¯ç”¨äºå®ç°å¯¹è±¡é—´è§£è€¦é€šä¿¡çš„è®¾è®¡æ¨¡å¼ã€‚è™½ç„¶è¿™ä¸¤ç§æ¨¡å¼æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œä½†å®ƒä»¬ä¹‹é—´å­˜åœ¨ä¸€äº›å…³é”®çš„åŒºåˆ«ï¼š\n{% endnote %}\n\n## æ¦‚å¿µä¸Šçš„ä¸åŒï¼š\n\n- è§‚å¯Ÿè€…æ¨¡å¼ï¼šæ˜¯ä¸€ç§å¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼Œå®ƒå®šä¹‰äº†å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½ä¼šå¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚\n- è®¢é˜…å‘å¸ƒæ¨¡å¼ï¼šæ˜¯ä¸€ç§æ¶ˆæ¯é€šä¿¡æ¨¡å¼ï¼Œå¯¹è±¡ä¹‹é—´é€šè¿‡äº‹ä»¶æˆ–æ¶ˆæ¯è¿›è¡Œé€šä¿¡ï¼Œå‘é€è€…ï¼ˆå‘å¸ƒè€…ï¼‰ä¸ä¼šç›´æ¥è°ƒç”¨æ¥æ”¶è€…ï¼ˆè®¢é˜…è€…ï¼‰çš„æ–¹æ³•ï¼Œè€Œæ˜¯å°†æ¶ˆæ¯å‘å¸ƒåˆ°ä¸€ä¸ªä¸­ä»‹ï¼ˆé€šå¸¸æ˜¯äº‹ä»¶æ€»çº¿æˆ–æ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œè®¢é˜…è€…å¯ä»¥è®¢é˜…è¿™äº›æ¶ˆæ¯ã€‚\n\n## å®ç°æ–¹å¼çš„ä¸åŒ\n\n- åœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œé€šå¸¸æœ‰ä¸€ä¸ªå…·ä½“çš„ Subject ç±»ï¼Œå®ƒå¯ä»¥æ³¨å†Œã€ç§»é™¤è§‚å¯Ÿè€…ï¼ˆObserverï¼‰ï¼Œå¹¶ä¸”åœ¨çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶é€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…ã€‚\n- åœ¨è®¢é˜…å‘å¸ƒæ¨¡å¼ä¸­ï¼Œå¹¶æ²¡æœ‰æ˜ç¡®çš„ Subject å’Œ Observer è§’è‰²ï¼Œä»»ä½•å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºå‘å¸ƒè€…æˆ–è€…è®¢é˜…è€…ï¼Œé€šä¿¡æ˜¯é€šè¿‡äº‹ä»¶åç§°æ¥è¿›è¡Œçš„ã€‚\n\n## åº”ç”¨åœºæ™¯çš„ä¸åŒ\n\n- è§‚å¯Ÿè€…æ¨¡å¼æ›´é€‚åˆäºä¸€å¯¹å¤šçš„å…³ç³»ï¼Œå³ä¸€ä¸ªä¸»é¢˜å¯¹è±¡ç®¡ç†æ‰€æœ‰è§‚å¯Ÿè€…å¯¹è±¡ï¼Œå¹¶ä¸”ä»»ä½•ç»™å®šçš„è§‚å¯Ÿè€…å¯¹è±¡éƒ½åªä¾èµ–äºä¸€ä¸ªå…·ä½“ä¸»é¢˜ã€‚\n- è®¢é˜…å‘å¸ƒæ¨¡å¼é€‚ç”¨äºæ›´å¹¿æ³›çš„æƒ…å†µï¼ŒåŒ…æ‹¬å¤šå¯¹å¤šçš„å…³ç³»ï¼Œå³å¤šä¸ªå‘å¸ƒè€…å¯ä»¥å‘å¤šä¸ªè®¢é˜…è€…å‘é€æ¶ˆæ¯ï¼Œè®¢é˜…è€…å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©è®¢é˜…å“ªäº›æ¶ˆæ¯ã€‚\n\n## çµæ´»æ€§ä¸æ‰©å±•æ€§\n\n- è§‚å¯Ÿè€…æ¨¡å¼åœ¨æ·»åŠ æ–°çš„è§‚å¯Ÿè€…æ—¶ç›¸å¯¹ç®€å•ï¼Œä½†æ˜¯å½“ä¸»é¢˜å¯¹è±¡çš„çŠ¶æ€å˜åŒ–é¢‘ç¹æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´å¤§é‡çš„é€šçŸ¥æ¶ˆæ¯ã€‚\n- è®¢é˜…å‘å¸ƒæ¨¡å¼ç”±äºå…¶åŸºäºäº‹ä»¶çš„æœºåˆ¶ï¼Œåœ¨å¤„ç†å¤æ‚çš„æ¶ˆæ¯ä¼ é€’åœºæ™¯æ—¶æ›´åŠ çµæ´»ï¼Œä¹Ÿæ›´å®¹æ˜“æ‰©å±•ã€‚\n","slug":"æŠ€èƒ½å°å†Œ/javascript/è®¾è®¡æ¨¡å¼/è®¢é˜…å‘å¸ƒä¸è§‚å¯Ÿè€…åŒºåˆ«","published":1,"updated":"2025-03-12T09:21:52.440Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j7006rfg9m8pg4fque","content":"<div class=\"note info simple\"><p>åœ¨ JavaScript ä¸­ï¼Œ<code>è®¢é˜…å‘å¸ƒï¼ˆPublish-Subscribeï¼‰æ¨¡å¼</code>å’Œ<code>è§‚å¯Ÿè€…ï¼ˆObserverï¼‰æ¨¡å¼</code>éƒ½æ˜¯ç”¨äºå®ç°å¯¹è±¡é—´è§£è€¦é€šä¿¡çš„è®¾è®¡æ¨¡å¼ã€‚è™½ç„¶è¿™ä¸¤ç§æ¨¡å¼æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œä½†å®ƒä»¬ä¹‹é—´å­˜åœ¨ä¸€äº›å…³é”®çš„åŒºåˆ«ï¼š</p>\n</div>\n\n<h2 id=\"æ¦‚å¿µä¸Šçš„ä¸åŒï¼š\"><a href=\"#æ¦‚å¿µä¸Šçš„ä¸åŒï¼š\" class=\"headerlink\" title=\"æ¦‚å¿µä¸Šçš„ä¸åŒï¼š\"></a>æ¦‚å¿µä¸Šçš„ä¸åŒï¼š</h2><ul>\n<li>è§‚å¯Ÿè€…æ¨¡å¼ï¼šæ˜¯ä¸€ç§å¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼Œå®ƒå®šä¹‰äº†å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½ä¼šå¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚</li>\n<li>è®¢é˜…å‘å¸ƒæ¨¡å¼ï¼šæ˜¯ä¸€ç§æ¶ˆæ¯é€šä¿¡æ¨¡å¼ï¼Œå¯¹è±¡ä¹‹é—´é€šè¿‡äº‹ä»¶æˆ–æ¶ˆæ¯è¿›è¡Œé€šä¿¡ï¼Œå‘é€è€…ï¼ˆå‘å¸ƒè€…ï¼‰ä¸ä¼šç›´æ¥è°ƒç”¨æ¥æ”¶è€…ï¼ˆè®¢é˜…è€…ï¼‰çš„æ–¹æ³•ï¼Œè€Œæ˜¯å°†æ¶ˆæ¯å‘å¸ƒåˆ°ä¸€ä¸ªä¸­ä»‹ï¼ˆé€šå¸¸æ˜¯äº‹ä»¶æ€»çº¿æˆ–æ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œè®¢é˜…è€…å¯ä»¥è®¢é˜…è¿™äº›æ¶ˆæ¯ã€‚</li>\n</ul>\n<h2 id=\"å®ç°æ–¹å¼çš„ä¸åŒ\"><a href=\"#å®ç°æ–¹å¼çš„ä¸åŒ\" class=\"headerlink\" title=\"å®ç°æ–¹å¼çš„ä¸åŒ\"></a>å®ç°æ–¹å¼çš„ä¸åŒ</h2><ul>\n<li>åœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œé€šå¸¸æœ‰ä¸€ä¸ªå…·ä½“çš„ Subject ç±»ï¼Œå®ƒå¯ä»¥æ³¨å†Œã€ç§»é™¤è§‚å¯Ÿè€…ï¼ˆObserverï¼‰ï¼Œå¹¶ä¸”åœ¨çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶é€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…ã€‚</li>\n<li>åœ¨è®¢é˜…å‘å¸ƒæ¨¡å¼ä¸­ï¼Œå¹¶æ²¡æœ‰æ˜ç¡®çš„ Subject å’Œ Observer è§’è‰²ï¼Œä»»ä½•å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºå‘å¸ƒè€…æˆ–è€…è®¢é˜…è€…ï¼Œé€šä¿¡æ˜¯é€šè¿‡äº‹ä»¶åç§°æ¥è¿›è¡Œçš„ã€‚</li>\n</ul>\n<h2 id=\"åº”ç”¨åœºæ™¯çš„ä¸åŒ\"><a href=\"#åº”ç”¨åœºæ™¯çš„ä¸åŒ\" class=\"headerlink\" title=\"åº”ç”¨åœºæ™¯çš„ä¸åŒ\"></a>åº”ç”¨åœºæ™¯çš„ä¸åŒ</h2><ul>\n<li>è§‚å¯Ÿè€…æ¨¡å¼æ›´é€‚åˆäºä¸€å¯¹å¤šçš„å…³ç³»ï¼Œå³ä¸€ä¸ªä¸»é¢˜å¯¹è±¡ç®¡ç†æ‰€æœ‰è§‚å¯Ÿè€…å¯¹è±¡ï¼Œå¹¶ä¸”ä»»ä½•ç»™å®šçš„è§‚å¯Ÿè€…å¯¹è±¡éƒ½åªä¾èµ–äºä¸€ä¸ªå…·ä½“ä¸»é¢˜ã€‚</li>\n<li>è®¢é˜…å‘å¸ƒæ¨¡å¼é€‚ç”¨äºæ›´å¹¿æ³›çš„æƒ…å†µï¼ŒåŒ…æ‹¬å¤šå¯¹å¤šçš„å…³ç³»ï¼Œå³å¤šä¸ªå‘å¸ƒè€…å¯ä»¥å‘å¤šä¸ªè®¢é˜…è€…å‘é€æ¶ˆæ¯ï¼Œè®¢é˜…è€…å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©è®¢é˜…å“ªäº›æ¶ˆæ¯ã€‚</li>\n</ul>\n<h2 id=\"çµæ´»æ€§ä¸æ‰©å±•æ€§\"><a href=\"#çµæ´»æ€§ä¸æ‰©å±•æ€§\" class=\"headerlink\" title=\"çµæ´»æ€§ä¸æ‰©å±•æ€§\"></a>çµæ´»æ€§ä¸æ‰©å±•æ€§</h2><ul>\n<li>è§‚å¯Ÿè€…æ¨¡å¼åœ¨æ·»åŠ æ–°çš„è§‚å¯Ÿè€…æ—¶ç›¸å¯¹ç®€å•ï¼Œä½†æ˜¯å½“ä¸»é¢˜å¯¹è±¡çš„çŠ¶æ€å˜åŒ–é¢‘ç¹æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´å¤§é‡çš„é€šçŸ¥æ¶ˆæ¯ã€‚</li>\n<li>è®¢é˜…å‘å¸ƒæ¨¡å¼ç”±äºå…¶åŸºäºäº‹ä»¶çš„æœºåˆ¶ï¼Œåœ¨å¤„ç†å¤æ‚çš„æ¶ˆæ¯ä¼ é€’åœºæ™¯æ—¶æ›´åŠ çµæ´»ï¼Œä¹Ÿæ›´å®¹æ˜“æ‰©å±•ã€‚</li>\n</ul>\n","excerpt":"","more":"<div class=\"note info simple\"><p>åœ¨ JavaScript ä¸­ï¼Œ<code>è®¢é˜…å‘å¸ƒï¼ˆPublish-Subscribeï¼‰æ¨¡å¼</code>å’Œ<code>è§‚å¯Ÿè€…ï¼ˆObserverï¼‰æ¨¡å¼</code>éƒ½æ˜¯ç”¨äºå®ç°å¯¹è±¡é—´è§£è€¦é€šä¿¡çš„è®¾è®¡æ¨¡å¼ã€‚è™½ç„¶è¿™ä¸¤ç§æ¨¡å¼æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œä½†å®ƒä»¬ä¹‹é—´å­˜åœ¨ä¸€äº›å…³é”®çš„åŒºåˆ«ï¼š</p>\n</div>\n\n<h2 id=\"æ¦‚å¿µä¸Šçš„ä¸åŒï¼š\"><a href=\"#æ¦‚å¿µä¸Šçš„ä¸åŒï¼š\" class=\"headerlink\" title=\"æ¦‚å¿µä¸Šçš„ä¸åŒï¼š\"></a>æ¦‚å¿µä¸Šçš„ä¸åŒï¼š</h2><ul>\n<li>è§‚å¯Ÿè€…æ¨¡å¼ï¼šæ˜¯ä¸€ç§å¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼Œå®ƒå®šä¹‰äº†å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½ä¼šå¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚</li>\n<li>è®¢é˜…å‘å¸ƒæ¨¡å¼ï¼šæ˜¯ä¸€ç§æ¶ˆæ¯é€šä¿¡æ¨¡å¼ï¼Œå¯¹è±¡ä¹‹é—´é€šè¿‡äº‹ä»¶æˆ–æ¶ˆæ¯è¿›è¡Œé€šä¿¡ï¼Œå‘é€è€…ï¼ˆå‘å¸ƒè€…ï¼‰ä¸ä¼šç›´æ¥è°ƒç”¨æ¥æ”¶è€…ï¼ˆè®¢é˜…è€…ï¼‰çš„æ–¹æ³•ï¼Œè€Œæ˜¯å°†æ¶ˆæ¯å‘å¸ƒåˆ°ä¸€ä¸ªä¸­ä»‹ï¼ˆé€šå¸¸æ˜¯äº‹ä»¶æ€»çº¿æˆ–æ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œè®¢é˜…è€…å¯ä»¥è®¢é˜…è¿™äº›æ¶ˆæ¯ã€‚</li>\n</ul>\n<h2 id=\"å®ç°æ–¹å¼çš„ä¸åŒ\"><a href=\"#å®ç°æ–¹å¼çš„ä¸åŒ\" class=\"headerlink\" title=\"å®ç°æ–¹å¼çš„ä¸åŒ\"></a>å®ç°æ–¹å¼çš„ä¸åŒ</h2><ul>\n<li>åœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œé€šå¸¸æœ‰ä¸€ä¸ªå…·ä½“çš„ Subject ç±»ï¼Œå®ƒå¯ä»¥æ³¨å†Œã€ç§»é™¤è§‚å¯Ÿè€…ï¼ˆObserverï¼‰ï¼Œå¹¶ä¸”åœ¨çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶é€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…ã€‚</li>\n<li>åœ¨è®¢é˜…å‘å¸ƒæ¨¡å¼ä¸­ï¼Œå¹¶æ²¡æœ‰æ˜ç¡®çš„ Subject å’Œ Observer è§’è‰²ï¼Œä»»ä½•å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºå‘å¸ƒè€…æˆ–è€…è®¢é˜…è€…ï¼Œé€šä¿¡æ˜¯é€šè¿‡äº‹ä»¶åç§°æ¥è¿›è¡Œçš„ã€‚</li>\n</ul>\n<h2 id=\"åº”ç”¨åœºæ™¯çš„ä¸åŒ\"><a href=\"#åº”ç”¨åœºæ™¯çš„ä¸åŒ\" class=\"headerlink\" title=\"åº”ç”¨åœºæ™¯çš„ä¸åŒ\"></a>åº”ç”¨åœºæ™¯çš„ä¸åŒ</h2><ul>\n<li>è§‚å¯Ÿè€…æ¨¡å¼æ›´é€‚åˆäºä¸€å¯¹å¤šçš„å…³ç³»ï¼Œå³ä¸€ä¸ªä¸»é¢˜å¯¹è±¡ç®¡ç†æ‰€æœ‰è§‚å¯Ÿè€…å¯¹è±¡ï¼Œå¹¶ä¸”ä»»ä½•ç»™å®šçš„è§‚å¯Ÿè€…å¯¹è±¡éƒ½åªä¾èµ–äºä¸€ä¸ªå…·ä½“ä¸»é¢˜ã€‚</li>\n<li>è®¢é˜…å‘å¸ƒæ¨¡å¼é€‚ç”¨äºæ›´å¹¿æ³›çš„æƒ…å†µï¼ŒåŒ…æ‹¬å¤šå¯¹å¤šçš„å…³ç³»ï¼Œå³å¤šä¸ªå‘å¸ƒè€…å¯ä»¥å‘å¤šä¸ªè®¢é˜…è€…å‘é€æ¶ˆæ¯ï¼Œè®¢é˜…è€…å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©è®¢é˜…å“ªäº›æ¶ˆæ¯ã€‚</li>\n</ul>\n<h2 id=\"çµæ´»æ€§ä¸æ‰©å±•æ€§\"><a href=\"#çµæ´»æ€§ä¸æ‰©å±•æ€§\" class=\"headerlink\" title=\"çµæ´»æ€§ä¸æ‰©å±•æ€§\"></a>çµæ´»æ€§ä¸æ‰©å±•æ€§</h2><ul>\n<li>è§‚å¯Ÿè€…æ¨¡å¼åœ¨æ·»åŠ æ–°çš„è§‚å¯Ÿè€…æ—¶ç›¸å¯¹ç®€å•ï¼Œä½†æ˜¯å½“ä¸»é¢˜å¯¹è±¡çš„çŠ¶æ€å˜åŒ–é¢‘ç¹æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´å¤§é‡çš„é€šçŸ¥æ¶ˆæ¯ã€‚</li>\n<li>è®¢é˜…å‘å¸ƒæ¨¡å¼ç”±äºå…¶åŸºäºäº‹ä»¶çš„æœºåˆ¶ï¼Œåœ¨å¤„ç†å¤æ‚çš„æ¶ˆæ¯ä¼ é€’åœºæ™¯æ—¶æ›´åŠ çµæ´»ï¼Œä¹Ÿæ›´å®¹æ˜“æ‰©å±•ã€‚</li>\n</ul>\n"},{"title":"é¡¹ç›®å·¥ç¨‹åŒ–-Browserslist","abbrlink":"d3a81133","date":"2024-08-08T01:05:01.000Z","_content":"\n# Browserslist\n\nä»€ä¹ˆæ˜¯ `Browserslist`\n\nè¿™ä¸ªæ–‡ä»¶æŒ‡å®šäº†é¡¹ç›®çš„æµè§ˆå™¨å…¼å®¹æ€§ç›®æ ‡ï¼Œç”¨äºæŒ‡å¯¼è‡ªåŠ¨åŒ–å·¥å…·`ï¼ˆå¦‚Autoprefixeræˆ–Babelï¼‰`å¦‚ä½•å¤„ç†`CSSå’ŒJavaScript`ï¼Œç¡®ä¿ä»£ç åœ¨æŒ‡å®šçš„æµè§ˆå™¨ç‰ˆæœ¬ä¸­æ­£å¸¸å·¥ä½œã€‚\n\nç”±äºå„ç§æµè§ˆå™¨å¯¹ `ECMAScript å’Œ CSS` çš„æ”¯æŒç¨‹åº¦ä¸åŒï¼Œå› æ­¤å¼€å‘è€…éœ€è¦æ ¹æ®ä½¿ç”¨åœºæ™¯ï¼Œä¸º `Web` åº”ç”¨è®¾ç½®æ­£ç¡®çš„æµè§ˆå™¨èŒƒå›´ã€‚\n\n`Browserslist` å¯ä»¥æŒ‡å®š `Web` åº”ç”¨èƒ½å¤Ÿåœ¨å“ªäº›æµè§ˆå™¨ä¸­æ­£å¸¸è¿è¡Œï¼Œå®ƒæä¾›äº†ç»Ÿä¸€çš„é…ç½®æ ¼å¼ï¼Œå¹¶ä¸”å·²ç»æˆä¸ºäº†å‰ç«¯ç¤¾åŒºä¸­çš„æ ‡å‡†ã€‚`Browserslist è¢« SWC, Lightning CSS, Babel, ESLint, PostCSS å’Œ webpack` ç­‰åº“æ‰€ä½¿ç”¨ã€‚\n\n\n## Browserslist æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\n\n```bash\n[production]\nchrome >= 87\nedge >= 88\nfirefox >= 78\nsafari >= 14\n\n[development]\nlast 1 chrome version\nlast 1 firefox version\nlast 1 safari version\n```\n\nè§„å®šäº†å“ªäº›æµè§ˆå™¨ç‰ˆæœ¬ï¼Œ å“ªäº›æµè§ˆå™¨ç‰ˆæœ¬å¯ä»¥è¿è¡Œã€‚\n\n**æ³¨æ„ï¼šæœ‰äº›é¡¹ç›®æ˜¯ä¸ App ç›¸å…³çš„ï¼Œæ¯”å¦‚ iOSï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨ Browserslist ä¸­æ·»åŠ  iOS çš„ç‰ˆæœ¬å·ã€‚å®‰å“åŒæ ·å¦‚æ­¤ï¼›è¿™æ ·æ‰èƒ½ä¿è¯é¡¹ç›®åœ¨å„ç§è®¾å¤‡ä¸Šéƒ½èƒ½è¿è¡Œã€‚**\n\n## ä½¿ç”¨\n\n### å•ç‹¬.browserslistrc\n\nå¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶`.browserslistrc`, ä»£ç æ ¼å¼å¦‚ä¸‹ï¼š\n\n```bash\niOS >= 9\nAndroid >= 4.4\nlast 2 versions\n> 0.2%\nnot dead\n```\n\n### package.json ä¸­\n\né€šè¿‡ `package.json` çš„ `browserslist` è®¾ç½®ï¼š\n\n```json\n{\n\t\"browserslist\": [\n\t\t\"iOS >= 9\",\n\t\t\"Android >= 4.4\",\n\t\t\"last 2 versions\",\n\t\t\"> 0.2%\",\n\t\t\"not dead\"\n\t]\n}\n```\n","source":"_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/browserslistrc.md","raw":"---\ntitle: é¡¹ç›®å·¥ç¨‹åŒ–-Browserslist\nabbrlink: d3a81133\ndate: 2024-08-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å·¥ç¨‹åŒ–\n---\n\n# Browserslist\n\nä»€ä¹ˆæ˜¯ `Browserslist`\n\nè¿™ä¸ªæ–‡ä»¶æŒ‡å®šäº†é¡¹ç›®çš„æµè§ˆå™¨å…¼å®¹æ€§ç›®æ ‡ï¼Œç”¨äºæŒ‡å¯¼è‡ªåŠ¨åŒ–å·¥å…·`ï¼ˆå¦‚Autoprefixeræˆ–Babelï¼‰`å¦‚ä½•å¤„ç†`CSSå’ŒJavaScript`ï¼Œç¡®ä¿ä»£ç åœ¨æŒ‡å®šçš„æµè§ˆå™¨ç‰ˆæœ¬ä¸­æ­£å¸¸å·¥ä½œã€‚\n\nç”±äºå„ç§æµè§ˆå™¨å¯¹ `ECMAScript å’Œ CSS` çš„æ”¯æŒç¨‹åº¦ä¸åŒï¼Œå› æ­¤å¼€å‘è€…éœ€è¦æ ¹æ®ä½¿ç”¨åœºæ™¯ï¼Œä¸º `Web` åº”ç”¨è®¾ç½®æ­£ç¡®çš„æµè§ˆå™¨èŒƒå›´ã€‚\n\n`Browserslist` å¯ä»¥æŒ‡å®š `Web` åº”ç”¨èƒ½å¤Ÿåœ¨å“ªäº›æµè§ˆå™¨ä¸­æ­£å¸¸è¿è¡Œï¼Œå®ƒæä¾›äº†ç»Ÿä¸€çš„é…ç½®æ ¼å¼ï¼Œå¹¶ä¸”å·²ç»æˆä¸ºäº†å‰ç«¯ç¤¾åŒºä¸­çš„æ ‡å‡†ã€‚`Browserslist è¢« SWC, Lightning CSS, Babel, ESLint, PostCSS å’Œ webpack` ç­‰åº“æ‰€ä½¿ç”¨ã€‚\n\n\n## Browserslist æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\n\n```bash\n[production]\nchrome >= 87\nedge >= 88\nfirefox >= 78\nsafari >= 14\n\n[development]\nlast 1 chrome version\nlast 1 firefox version\nlast 1 safari version\n```\n\nè§„å®šäº†å“ªäº›æµè§ˆå™¨ç‰ˆæœ¬ï¼Œ å“ªäº›æµè§ˆå™¨ç‰ˆæœ¬å¯ä»¥è¿è¡Œã€‚\n\n**æ³¨æ„ï¼šæœ‰äº›é¡¹ç›®æ˜¯ä¸ App ç›¸å…³çš„ï¼Œæ¯”å¦‚ iOSï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨ Browserslist ä¸­æ·»åŠ  iOS çš„ç‰ˆæœ¬å·ã€‚å®‰å“åŒæ ·å¦‚æ­¤ï¼›è¿™æ ·æ‰èƒ½ä¿è¯é¡¹ç›®åœ¨å„ç§è®¾å¤‡ä¸Šéƒ½èƒ½è¿è¡Œã€‚**\n\n## ä½¿ç”¨\n\n### å•ç‹¬.browserslistrc\n\nå¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶`.browserslistrc`, ä»£ç æ ¼å¼å¦‚ä¸‹ï¼š\n\n```bash\niOS >= 9\nAndroid >= 4.4\nlast 2 versions\n> 0.2%\nnot dead\n```\n\n### package.json ä¸­\n\né€šè¿‡ `package.json` çš„ `browserslist` è®¾ç½®ï¼š\n\n```json\n{\n\t\"browserslist\": [\n\t\t\"iOS >= 9\",\n\t\t\"Android >= 4.4\",\n\t\t\"last 2 versions\",\n\t\t\"> 0.2%\",\n\t\t\"not dead\"\n\t]\n}\n```\n","slug":"æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/browserslistrc","published":1,"updated":"2025-03-12T09:37:54.978Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j7006tfg9m6txb6dyg","content":"<h1 id=\"Browserslist\"><a href=\"#Browserslist\" class=\"headerlink\" title=\"Browserslist\"></a>Browserslist</h1><p>ä»€ä¹ˆæ˜¯ <code>Browserslist</code></p>\n<p>è¿™ä¸ªæ–‡ä»¶æŒ‡å®šäº†é¡¹ç›®çš„æµè§ˆå™¨å…¼å®¹æ€§ç›®æ ‡ï¼Œç”¨äºæŒ‡å¯¼è‡ªåŠ¨åŒ–å·¥å…·<code>ï¼ˆå¦‚Autoprefixeræˆ–Babelï¼‰</code>å¦‚ä½•å¤„ç†<code>CSSå’ŒJavaScript</code>ï¼Œç¡®ä¿ä»£ç åœ¨æŒ‡å®šçš„æµè§ˆå™¨ç‰ˆæœ¬ä¸­æ­£å¸¸å·¥ä½œã€‚</p>\n<p>ç”±äºå„ç§æµè§ˆå™¨å¯¹ <code>ECMAScript å’Œ CSS</code> çš„æ”¯æŒç¨‹åº¦ä¸åŒï¼Œå› æ­¤å¼€å‘è€…éœ€è¦æ ¹æ®ä½¿ç”¨åœºæ™¯ï¼Œä¸º <code>Web</code> åº”ç”¨è®¾ç½®æ­£ç¡®çš„æµè§ˆå™¨èŒƒå›´ã€‚</p>\n<p><code>Browserslist</code> å¯ä»¥æŒ‡å®š <code>Web</code> åº”ç”¨èƒ½å¤Ÿåœ¨å“ªäº›æµè§ˆå™¨ä¸­æ­£å¸¸è¿è¡Œï¼Œå®ƒæä¾›äº†ç»Ÿä¸€çš„é…ç½®æ ¼å¼ï¼Œå¹¶ä¸”å·²ç»æˆä¸ºäº†å‰ç«¯ç¤¾åŒºä¸­çš„æ ‡å‡†ã€‚<code>Browserslist è¢« SWC, Lightning CSS, Babel, ESLint, PostCSS å’Œ webpack</code> ç­‰åº“æ‰€ä½¿ç”¨ã€‚</p>\n<h2 id=\"Browserslist-æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\"><a href=\"#Browserslist-æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\" class=\"headerlink\" title=\"Browserslist æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\"></a>Browserslist æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[production]</span><br><span class=\"line\">chrome &gt;= 87</span><br><span class=\"line\">edge &gt;= 88</span><br><span class=\"line\">firefox &gt;= 78</span><br><span class=\"line\">safari &gt;= 14</span><br><span class=\"line\"></span><br><span class=\"line\">[development]</span><br><span class=\"line\">last 1 chrome version</span><br><span class=\"line\">last 1 firefox version</span><br><span class=\"line\">last 1 safari version</span><br></pre></td></tr></table></figure>\n\n<p>è§„å®šäº†å“ªäº›æµè§ˆå™¨ç‰ˆæœ¬ï¼Œ å“ªäº›æµè§ˆå™¨ç‰ˆæœ¬å¯ä»¥è¿è¡Œã€‚</p>\n<p><strong>æ³¨æ„ï¼šæœ‰äº›é¡¹ç›®æ˜¯ä¸ App ç›¸å…³çš„ï¼Œæ¯”å¦‚ iOSï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨ Browserslist ä¸­æ·»åŠ  iOS çš„ç‰ˆæœ¬å·ã€‚å®‰å“åŒæ ·å¦‚æ­¤ï¼›è¿™æ ·æ‰èƒ½ä¿è¯é¡¹ç›®åœ¨å„ç§è®¾å¤‡ä¸Šéƒ½èƒ½è¿è¡Œã€‚</strong></p>\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><h3 id=\"å•ç‹¬-browserslistrc\"><a href=\"#å•ç‹¬-browserslistrc\" class=\"headerlink\" title=\"å•ç‹¬.browserslistrc\"></a>å•ç‹¬.browserslistrc</h3><p>å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶<code>.browserslistrc</code>, ä»£ç æ ¼å¼å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">iOS &gt;= 9</span><br><span class=\"line\">Android &gt;= 4.4</span><br><span class=\"line\">last 2 versions</span><br><span class=\"line\">&gt; 0.2%</span><br><span class=\"line\">not dead</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"package-json-ä¸­\"><a href=\"#package-json-ä¸­\" class=\"headerlink\" title=\"package.json ä¸­\"></a>package.json ä¸­</h3><p>é€šè¿‡ <code>package.json</code> çš„ <code>browserslist</code> è®¾ç½®ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;browserslist&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;iOS &gt;= 9&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;Android &gt;= 4.4&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;last 2 versions&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;&gt; 0.2%&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;not dead&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"Browserslist\"><a href=\"#Browserslist\" class=\"headerlink\" title=\"Browserslist\"></a>Browserslist</h1><p>ä»€ä¹ˆæ˜¯ <code>Browserslist</code></p>\n<p>è¿™ä¸ªæ–‡ä»¶æŒ‡å®šäº†é¡¹ç›®çš„æµè§ˆå™¨å…¼å®¹æ€§ç›®æ ‡ï¼Œç”¨äºæŒ‡å¯¼è‡ªåŠ¨åŒ–å·¥å…·<code>ï¼ˆå¦‚Autoprefixeræˆ–Babelï¼‰</code>å¦‚ä½•å¤„ç†<code>CSSå’ŒJavaScript</code>ï¼Œç¡®ä¿ä»£ç åœ¨æŒ‡å®šçš„æµè§ˆå™¨ç‰ˆæœ¬ä¸­æ­£å¸¸å·¥ä½œã€‚</p>\n<p>ç”±äºå„ç§æµè§ˆå™¨å¯¹ <code>ECMAScript å’Œ CSS</code> çš„æ”¯æŒç¨‹åº¦ä¸åŒï¼Œå› æ­¤å¼€å‘è€…éœ€è¦æ ¹æ®ä½¿ç”¨åœºæ™¯ï¼Œä¸º <code>Web</code> åº”ç”¨è®¾ç½®æ­£ç¡®çš„æµè§ˆå™¨èŒƒå›´ã€‚</p>\n<p><code>Browserslist</code> å¯ä»¥æŒ‡å®š <code>Web</code> åº”ç”¨èƒ½å¤Ÿåœ¨å“ªäº›æµè§ˆå™¨ä¸­æ­£å¸¸è¿è¡Œï¼Œå®ƒæä¾›äº†ç»Ÿä¸€çš„é…ç½®æ ¼å¼ï¼Œå¹¶ä¸”å·²ç»æˆä¸ºäº†å‰ç«¯ç¤¾åŒºä¸­çš„æ ‡å‡†ã€‚<code>Browserslist è¢« SWC, Lightning CSS, Babel, ESLint, PostCSS å’Œ webpack</code> ç­‰åº“æ‰€ä½¿ç”¨ã€‚</p>\n<h2 id=\"Browserslist-æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\"><a href=\"#Browserslist-æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\" class=\"headerlink\" title=\"Browserslist æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\"></a>Browserslist æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[production]</span><br><span class=\"line\">chrome &gt;= 87</span><br><span class=\"line\">edge &gt;= 88</span><br><span class=\"line\">firefox &gt;= 78</span><br><span class=\"line\">safari &gt;= 14</span><br><span class=\"line\"></span><br><span class=\"line\">[development]</span><br><span class=\"line\">last 1 chrome version</span><br><span class=\"line\">last 1 firefox version</span><br><span class=\"line\">last 1 safari version</span><br></pre></td></tr></table></figure>\n\n<p>è§„å®šäº†å“ªäº›æµè§ˆå™¨ç‰ˆæœ¬ï¼Œ å“ªäº›æµè§ˆå™¨ç‰ˆæœ¬å¯ä»¥è¿è¡Œã€‚</p>\n<p><strong>æ³¨æ„ï¼šæœ‰äº›é¡¹ç›®æ˜¯ä¸ App ç›¸å…³çš„ï¼Œæ¯”å¦‚ iOSï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨ Browserslist ä¸­æ·»åŠ  iOS çš„ç‰ˆæœ¬å·ã€‚å®‰å“åŒæ ·å¦‚æ­¤ï¼›è¿™æ ·æ‰èƒ½ä¿è¯é¡¹ç›®åœ¨å„ç§è®¾å¤‡ä¸Šéƒ½èƒ½è¿è¡Œã€‚</strong></p>\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><h3 id=\"å•ç‹¬-browserslistrc\"><a href=\"#å•ç‹¬-browserslistrc\" class=\"headerlink\" title=\"å•ç‹¬.browserslistrc\"></a>å•ç‹¬.browserslistrc</h3><p>å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶<code>.browserslistrc</code>, ä»£ç æ ¼å¼å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">iOS &gt;= 9</span><br><span class=\"line\">Android &gt;= 4.4</span><br><span class=\"line\">last 2 versions</span><br><span class=\"line\">&gt; 0.2%</span><br><span class=\"line\">not dead</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"package-json-ä¸­\"><a href=\"#package-json-ä¸­\" class=\"headerlink\" title=\"package.json ä¸­\"></a>package.json ä¸­</h3><p>é€šè¿‡ <code>package.json</code> çš„ <code>browserslist</code> è®¾ç½®ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;browserslist&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;iOS &gt;= 9&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;Android &gt;= 4.4&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;last 2 versions&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;&gt; 0.2%&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;not dead&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n"},{"title":"é¡¹ç›®å·¥ç¨‹åŒ–-changelog","abbrlink":"c8422601","date":"2024-08-08T01:05:01.000Z","_content":"\n# Changelo.md æ˜¯ä»€ä¹ˆ\n\n`Changelog.md` æ˜¯ä¸€ä¸ªç”¨äºè®°å½•é¡¹ç›®å˜æ›´å†å²çš„æ–‡ä»¶ï¼Œé€šå¸¸ä»¥ `Markdown` æ ¼å¼ç¼–å†™ã€‚è¿™ä¸ªæ–‡ä»¶ä¼šè¯¦ç»†åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬çš„æ›´æ–°å†…å®¹ï¼ŒåŒ…æ‹¬æ–°å¢åŠŸèƒ½ã€ä¿®å¤çš„ bugã€æ”¹è¿›çš„åœ°æ–¹ä»¥åŠå…¶ä»–é‡è¦å˜æ›´ã€‚è¿™å¯¹äºå¼€å‘è€…å’Œç”¨æˆ·æ¥è¯´éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒå¯ä»¥å¸®åŠ©ä»–ä»¬äº†è§£è½¯ä»¶çš„æ¼”åŒ–è¿‡ç¨‹ä»¥åŠæ¯ä¸ªç‰ˆæœ¬çš„å…·ä½“å˜åŒ–ã€‚\n\nç‰¹ç‚¹ï¼š\n\n- ç‰ˆæœ¬å·æ˜ç¡®ï¼šæ¯ä¸ªæ›´æ–°éƒ½ä¼šå¸¦æœ‰ç‰ˆæœ¬å·ï¼Œä¾¿äºè¿½è¸ªã€‚\n- æ—¥æœŸæ ‡è®°ï¼šæ¯æ¬¡æ›´æ–°éƒ½é™„æœ‰æ—¥æœŸï¼Œå¸®åŠ©ç”¨æˆ·äº†è§£å˜æ›´çš„æ—¶é—´ã€‚\n- å˜æ›´åˆ†ç±»ï¼šå¦‚æ–°å¢åŠŸèƒ½ã€é—®é¢˜ä¿®å¤ã€æ€§èƒ½æå‡ç­‰ï¼Œè®©é˜…è¯»è€…å¿«é€Ÿå®šä½å…³å¿ƒçš„ä¿¡æ¯ã€‚\n- ç®€æ´æ˜äº†ï¼šå†…å®¹é€šå¸¸ç›´æ¥åˆ‡å…¥è¦ç‚¹ï¼Œé¿å…å†—é•¿æè¿°ã€‚\n\n## æ€ä¹ˆä½¿ç”¨ï¼Ÿ\n\næˆ‘ä»¬ä½¿ç”¨`CHANGELOG`ä¸éœ€è¦æ‰‹åŠ¨åˆ›å»ºï¼Œæ‰‹åŠ¨åˆ›å»ºéœ€è¦å§`commit`çš„æ¶ˆæ¯æ˜¾ç¤ºåœ¨`CHANGELOG`ï¼›å¹¶ä¸”å¤ªéº»çƒ¦äº†ã€‚è¿™é‡Œæ¨èä½¿ç”¨ä¸€äº›ç¬¬ä¸‰æ–¹çš„å·¥å…·æˆ–è€…ä¾èµ–ï¼›\n\n```bash\npnpm add -D conventional-changelog conventional-changelog-cli\n```\n\nå®‰è£…å®Œæˆä¹‹åä¸éœ€è¦é…ç½®ä»»ä½•æ–‡ä»¶ï¼Œåªéœ€è¦åœ¨é¡¹ç›®`package.json`ä¸­æ·»åŠ ä¸€è¡Œå‘½ä»¤å³å¯ï¼š\n\n```json\n{\n\t\"scripts\": {\n\t\t\"changelog\": \"conventional-changelog -p angular -i CHANGELOG.md -s -r 0\"\n\t}\n}\n```\n\nå½“ä½ æ‰§è¡Œè¿™æ¡å‘½ä»¤çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨ç”Ÿæˆ`CHANGELOG.md`æ–‡ä»¶, å¦‚ä¸‹ï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.45o6bf0ut.webp)\n\n## è‡ªå®šä¹‰æ ¼å¼\n\n`conventional-changelog` é»˜è®¤çš„æ ¼å¼æ˜¯ `Angular` çš„ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ ¼å¼ã€‚\n\nåˆ›å»ºæ–‡ä»¶`scripts/changelog.option.mjs`\n\n```js\n// è®°å¾—å®‰è£…å¯¹åº”çš„ä¾èµ–\nimport compareFunc from \"compare-func\";\nimport { cloneDeep } from \"lodash-es\"; // å¼•å…¥ lodash åº“ç”¨äºæ·±æ‹·è´\n\nconst typeMapping = {\n\tfeat: \"âœ¨ Features | æ–°åŠŸèƒ½\",\n\tfix: \"ğŸ› Bug Fixes | Bug ä¿®å¤\",\n\tperf: \"âš¡ Performance Improvements | æ€§èƒ½ä¼˜åŒ–\",\n\trevert: \"âª Reverts | å›é€€\",\n\tdocs: \"ğŸ“ Documentation | æ–‡æ¡£\",\n\tstyle: \"ğŸ’„ Styles | é£æ ¼\",\n\trefactor: \"â™» Code Refactoring | ä»£ç é‡æ„\",\n\ttest: \"âœ… Tests | æµ‹è¯•\",\n\tbuild: \"ğŸ‘·â€ Build System | æ„å»º\",\n\tci: \"ğŸ”§ Continuous Integration | CI é…ç½®\",\n\tchore: \"ğŸ« Chores | å…¶ä»–æ›´æ–°\",\n};\nexport default {\n\twriterOpts: {\n\t\ttransform: (commit, context) => {\n\t\t\tlet discard = true;\n\t\t\tconst issues = [];\n\t\t\tlet _commit = cloneDeep(commit); // ä½¿ç”¨ lodash çš„æ·±æ‹·è´\n\n\t\t\t_commit.notes = _commit.notes.map(note => {\n\t\t\t\tif (note.title === \"BREAKING CHANGES\") {\n\t\t\t\t\tnote.title = \"BREAKING CHANGES\";\n\t\t\t\t\tdiscard = false;\n\t\t\t\t}\n\t\t\t\treturn note;\n\t\t\t});\n\n\t\t\t_commit.type = typeMapping[_commit.type] || _commit.type;\n\n\t\t\tif (_commit.scope === \"*\") {\n\t\t\t\t_commit.scope = \"\";\n\t\t\t}\n\n\t\t\tif (typeof _commit.hash === \"string\") {\n\t\t\t\t_commit.shortHash = _commit.hash.substring(0, 7);\n\t\t\t}\n\n\t\t\tif (typeof _commit.subject === \"string\") {\n\t\t\t\tlet url = context.repository\n\t\t\t\t\t? `${context.host}/${context.owner}/${context.repository}`\n\t\t\t\t\t: context.repoUrl;\n\n\t\t\t\tif (url) {\n\t\t\t\t\turl = `${url}/issues/`;\n\t\t\t\t\t_commit.subject = _commit.subject.replace(\n\t\t\t\t\t\t/#([0-9]+)/g,\n\t\t\t\t\t\t(_, issue) => {\n\t\t\t\t\t\t\tissues.push(issue);\n\t\t\t\t\t\t\treturn `[#${issue}](${url}${issue})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (context.host) {\n\t\t\t\t\t_commit.subject = _commit.subject.replace(\n\t\t\t\t\t\t/\\B@([a-z0-9](?:-?[a-z0-9/]){0,38})/g,\n\t\t\t\t\t\t(_, username) => {\n\t\t\t\t\t\t\tif (username.includes(\"/\")) {\n\t\t\t\t\t\t\t\treturn `@${username}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn `[@${username}](${context.host}/${username})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_commit.references = _commit.references.filter(reference => {\n\t\t\t\treturn issues.indexOf(reference.issue) === -1;\n\t\t\t});\n\n\t\t\treturn _commit;\n\t\t},\n\t\tgroupBy: \"type\",\n\t\tcommitGroupsSort: \"title\",\n\t\tcommitsSort: [\"scope\", \"subject\"],\n\t\tnoteGroupsSort: \"title\",\n\t\tnotesSort: compareFunc,\n\t},\n};\n```\n\nåœ¨é¡¹ç›®`package.json`ä¸­æ·»åŠ å‘½ä»¤\n\n```json\n{\n\t\"scripts\": {\n\t\t\"changelog\": \"conventional-changelog -p angular -i CHANGELOG.md -s -r 0 -n ./scripts/changelog-option.mjs && git add CHANGELOG.md\"\n\t}\n}\n```\n\næ•ˆæœå¦‚ä¸‹ï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8l02pz4vrj.webp)\n","source":"_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/changelog.md","raw":"---\ntitle: é¡¹ç›®å·¥ç¨‹åŒ–-changelog\nabbrlink: c8422601\ndate: 2024-08-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å·¥ç¨‹åŒ–\n---\n\n# Changelo.md æ˜¯ä»€ä¹ˆ\n\n`Changelog.md` æ˜¯ä¸€ä¸ªç”¨äºè®°å½•é¡¹ç›®å˜æ›´å†å²çš„æ–‡ä»¶ï¼Œé€šå¸¸ä»¥ `Markdown` æ ¼å¼ç¼–å†™ã€‚è¿™ä¸ªæ–‡ä»¶ä¼šè¯¦ç»†åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬çš„æ›´æ–°å†…å®¹ï¼ŒåŒ…æ‹¬æ–°å¢åŠŸèƒ½ã€ä¿®å¤çš„ bugã€æ”¹è¿›çš„åœ°æ–¹ä»¥åŠå…¶ä»–é‡è¦å˜æ›´ã€‚è¿™å¯¹äºå¼€å‘è€…å’Œç”¨æˆ·æ¥è¯´éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒå¯ä»¥å¸®åŠ©ä»–ä»¬äº†è§£è½¯ä»¶çš„æ¼”åŒ–è¿‡ç¨‹ä»¥åŠæ¯ä¸ªç‰ˆæœ¬çš„å…·ä½“å˜åŒ–ã€‚\n\nç‰¹ç‚¹ï¼š\n\n- ç‰ˆæœ¬å·æ˜ç¡®ï¼šæ¯ä¸ªæ›´æ–°éƒ½ä¼šå¸¦æœ‰ç‰ˆæœ¬å·ï¼Œä¾¿äºè¿½è¸ªã€‚\n- æ—¥æœŸæ ‡è®°ï¼šæ¯æ¬¡æ›´æ–°éƒ½é™„æœ‰æ—¥æœŸï¼Œå¸®åŠ©ç”¨æˆ·äº†è§£å˜æ›´çš„æ—¶é—´ã€‚\n- å˜æ›´åˆ†ç±»ï¼šå¦‚æ–°å¢åŠŸèƒ½ã€é—®é¢˜ä¿®å¤ã€æ€§èƒ½æå‡ç­‰ï¼Œè®©é˜…è¯»è€…å¿«é€Ÿå®šä½å…³å¿ƒçš„ä¿¡æ¯ã€‚\n- ç®€æ´æ˜äº†ï¼šå†…å®¹é€šå¸¸ç›´æ¥åˆ‡å…¥è¦ç‚¹ï¼Œé¿å…å†—é•¿æè¿°ã€‚\n\n## æ€ä¹ˆä½¿ç”¨ï¼Ÿ\n\næˆ‘ä»¬ä½¿ç”¨`CHANGELOG`ä¸éœ€è¦æ‰‹åŠ¨åˆ›å»ºï¼Œæ‰‹åŠ¨åˆ›å»ºéœ€è¦å§`commit`çš„æ¶ˆæ¯æ˜¾ç¤ºåœ¨`CHANGELOG`ï¼›å¹¶ä¸”å¤ªéº»çƒ¦äº†ã€‚è¿™é‡Œæ¨èä½¿ç”¨ä¸€äº›ç¬¬ä¸‰æ–¹çš„å·¥å…·æˆ–è€…ä¾èµ–ï¼›\n\n```bash\npnpm add -D conventional-changelog conventional-changelog-cli\n```\n\nå®‰è£…å®Œæˆä¹‹åä¸éœ€è¦é…ç½®ä»»ä½•æ–‡ä»¶ï¼Œåªéœ€è¦åœ¨é¡¹ç›®`package.json`ä¸­æ·»åŠ ä¸€è¡Œå‘½ä»¤å³å¯ï¼š\n\n```json\n{\n\t\"scripts\": {\n\t\t\"changelog\": \"conventional-changelog -p angular -i CHANGELOG.md -s -r 0\"\n\t}\n}\n```\n\nå½“ä½ æ‰§è¡Œè¿™æ¡å‘½ä»¤çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨ç”Ÿæˆ`CHANGELOG.md`æ–‡ä»¶, å¦‚ä¸‹ï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.45o6bf0ut.webp)\n\n## è‡ªå®šä¹‰æ ¼å¼\n\n`conventional-changelog` é»˜è®¤çš„æ ¼å¼æ˜¯ `Angular` çš„ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ ¼å¼ã€‚\n\nåˆ›å»ºæ–‡ä»¶`scripts/changelog.option.mjs`\n\n```js\n// è®°å¾—å®‰è£…å¯¹åº”çš„ä¾èµ–\nimport compareFunc from \"compare-func\";\nimport { cloneDeep } from \"lodash-es\"; // å¼•å…¥ lodash åº“ç”¨äºæ·±æ‹·è´\n\nconst typeMapping = {\n\tfeat: \"âœ¨ Features | æ–°åŠŸèƒ½\",\n\tfix: \"ğŸ› Bug Fixes | Bug ä¿®å¤\",\n\tperf: \"âš¡ Performance Improvements | æ€§èƒ½ä¼˜åŒ–\",\n\trevert: \"âª Reverts | å›é€€\",\n\tdocs: \"ğŸ“ Documentation | æ–‡æ¡£\",\n\tstyle: \"ğŸ’„ Styles | é£æ ¼\",\n\trefactor: \"â™» Code Refactoring | ä»£ç é‡æ„\",\n\ttest: \"âœ… Tests | æµ‹è¯•\",\n\tbuild: \"ğŸ‘·â€ Build System | æ„å»º\",\n\tci: \"ğŸ”§ Continuous Integration | CI é…ç½®\",\n\tchore: \"ğŸ« Chores | å…¶ä»–æ›´æ–°\",\n};\nexport default {\n\twriterOpts: {\n\t\ttransform: (commit, context) => {\n\t\t\tlet discard = true;\n\t\t\tconst issues = [];\n\t\t\tlet _commit = cloneDeep(commit); // ä½¿ç”¨ lodash çš„æ·±æ‹·è´\n\n\t\t\t_commit.notes = _commit.notes.map(note => {\n\t\t\t\tif (note.title === \"BREAKING CHANGES\") {\n\t\t\t\t\tnote.title = \"BREAKING CHANGES\";\n\t\t\t\t\tdiscard = false;\n\t\t\t\t}\n\t\t\t\treturn note;\n\t\t\t});\n\n\t\t\t_commit.type = typeMapping[_commit.type] || _commit.type;\n\n\t\t\tif (_commit.scope === \"*\") {\n\t\t\t\t_commit.scope = \"\";\n\t\t\t}\n\n\t\t\tif (typeof _commit.hash === \"string\") {\n\t\t\t\t_commit.shortHash = _commit.hash.substring(0, 7);\n\t\t\t}\n\n\t\t\tif (typeof _commit.subject === \"string\") {\n\t\t\t\tlet url = context.repository\n\t\t\t\t\t? `${context.host}/${context.owner}/${context.repository}`\n\t\t\t\t\t: context.repoUrl;\n\n\t\t\t\tif (url) {\n\t\t\t\t\turl = `${url}/issues/`;\n\t\t\t\t\t_commit.subject = _commit.subject.replace(\n\t\t\t\t\t\t/#([0-9]+)/g,\n\t\t\t\t\t\t(_, issue) => {\n\t\t\t\t\t\t\tissues.push(issue);\n\t\t\t\t\t\t\treturn `[#${issue}](${url}${issue})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (context.host) {\n\t\t\t\t\t_commit.subject = _commit.subject.replace(\n\t\t\t\t\t\t/\\B@([a-z0-9](?:-?[a-z0-9/]){0,38})/g,\n\t\t\t\t\t\t(_, username) => {\n\t\t\t\t\t\t\tif (username.includes(\"/\")) {\n\t\t\t\t\t\t\t\treturn `@${username}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn `[@${username}](${context.host}/${username})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_commit.references = _commit.references.filter(reference => {\n\t\t\t\treturn issues.indexOf(reference.issue) === -1;\n\t\t\t});\n\n\t\t\treturn _commit;\n\t\t},\n\t\tgroupBy: \"type\",\n\t\tcommitGroupsSort: \"title\",\n\t\tcommitsSort: [\"scope\", \"subject\"],\n\t\tnoteGroupsSort: \"title\",\n\t\tnotesSort: compareFunc,\n\t},\n};\n```\n\nåœ¨é¡¹ç›®`package.json`ä¸­æ·»åŠ å‘½ä»¤\n\n```json\n{\n\t\"scripts\": {\n\t\t\"changelog\": \"conventional-changelog -p angular -i CHANGELOG.md -s -r 0 -n ./scripts/changelog-option.mjs && git add CHANGELOG.md\"\n\t}\n}\n```\n\næ•ˆæœå¦‚ä¸‹ï¼š\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8l02pz4vrj.webp)\n","slug":"æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/changelog","published":1,"updated":"2025-03-13T10:16:19.266Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j7006xfg9m8fn63dzs","content":"<h1 id=\"Changelo-md-æ˜¯ä»€ä¹ˆ\"><a href=\"#Changelo-md-æ˜¯ä»€ä¹ˆ\" class=\"headerlink\" title=\"Changelo.md æ˜¯ä»€ä¹ˆ\"></a>Changelo.md æ˜¯ä»€ä¹ˆ</h1><p><code>Changelog.md</code> æ˜¯ä¸€ä¸ªç”¨äºè®°å½•é¡¹ç›®å˜æ›´å†å²çš„æ–‡ä»¶ï¼Œé€šå¸¸ä»¥ <code>Markdown</code> æ ¼å¼ç¼–å†™ã€‚è¿™ä¸ªæ–‡ä»¶ä¼šè¯¦ç»†åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬çš„æ›´æ–°å†…å®¹ï¼ŒåŒ…æ‹¬æ–°å¢åŠŸèƒ½ã€ä¿®å¤çš„ bugã€æ”¹è¿›çš„åœ°æ–¹ä»¥åŠå…¶ä»–é‡è¦å˜æ›´ã€‚è¿™å¯¹äºå¼€å‘è€…å’Œç”¨æˆ·æ¥è¯´éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒå¯ä»¥å¸®åŠ©ä»–ä»¬äº†è§£è½¯ä»¶çš„æ¼”åŒ–è¿‡ç¨‹ä»¥åŠæ¯ä¸ªç‰ˆæœ¬çš„å…·ä½“å˜åŒ–ã€‚</p>\n<p>ç‰¹ç‚¹ï¼š</p>\n<ul>\n<li>ç‰ˆæœ¬å·æ˜ç¡®ï¼šæ¯ä¸ªæ›´æ–°éƒ½ä¼šå¸¦æœ‰ç‰ˆæœ¬å·ï¼Œä¾¿äºè¿½è¸ªã€‚</li>\n<li>æ—¥æœŸæ ‡è®°ï¼šæ¯æ¬¡æ›´æ–°éƒ½é™„æœ‰æ—¥æœŸï¼Œå¸®åŠ©ç”¨æˆ·äº†è§£å˜æ›´çš„æ—¶é—´ã€‚</li>\n<li>å˜æ›´åˆ†ç±»ï¼šå¦‚æ–°å¢åŠŸèƒ½ã€é—®é¢˜ä¿®å¤ã€æ€§èƒ½æå‡ç­‰ï¼Œè®©é˜…è¯»è€…å¿«é€Ÿå®šä½å…³å¿ƒçš„ä¿¡æ¯ã€‚</li>\n<li>ç®€æ´æ˜äº†ï¼šå†…å®¹é€šå¸¸ç›´æ¥åˆ‡å…¥è¦ç‚¹ï¼Œé¿å…å†—é•¿æè¿°ã€‚</li>\n</ul>\n<h2 id=\"æ€ä¹ˆä½¿ç”¨ï¼Ÿ\"><a href=\"#æ€ä¹ˆä½¿ç”¨ï¼Ÿ\" class=\"headerlink\" title=\"æ€ä¹ˆä½¿ç”¨ï¼Ÿ\"></a>æ€ä¹ˆä½¿ç”¨ï¼Ÿ</h2><p>æˆ‘ä»¬ä½¿ç”¨<code>CHANGELOG</code>ä¸éœ€è¦æ‰‹åŠ¨åˆ›å»ºï¼Œæ‰‹åŠ¨åˆ›å»ºéœ€è¦å§<code>commit</code>çš„æ¶ˆæ¯æ˜¾ç¤ºåœ¨<code>CHANGELOG</code>ï¼›å¹¶ä¸”å¤ªéº»çƒ¦äº†ã€‚è¿™é‡Œæ¨èä½¿ç”¨ä¸€äº›ç¬¬ä¸‰æ–¹çš„å·¥å…·æˆ–è€…ä¾èµ–ï¼›</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add -D conventional-changelog conventional-changelog-cli</span><br></pre></td></tr></table></figure>\n\n<p>å®‰è£…å®Œæˆä¹‹åä¸éœ€è¦é…ç½®ä»»ä½•æ–‡ä»¶ï¼Œåªéœ€è¦åœ¨é¡¹ç›®<code>package.json</code>ä¸­æ·»åŠ ä¸€è¡Œå‘½ä»¤å³å¯ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;changelog&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;conventional-changelog -p angular -i CHANGELOG.md -s -r 0&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>å½“ä½ æ‰§è¡Œè¿™æ¡å‘½ä»¤çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨ç”Ÿæˆ<code>CHANGELOG.md</code>æ–‡ä»¶, å¦‚ä¸‹ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.45o6bf0ut.webp\" alt=\"x\"></p>\n<h2 id=\"è‡ªå®šä¹‰æ ¼å¼\"><a href=\"#è‡ªå®šä¹‰æ ¼å¼\" class=\"headerlink\" title=\"è‡ªå®šä¹‰æ ¼å¼\"></a>è‡ªå®šä¹‰æ ¼å¼</h2><p><code>conventional-changelog</code> é»˜è®¤çš„æ ¼å¼æ˜¯ <code>Angular</code> çš„ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ ¼å¼ã€‚</p>\n<p>åˆ›å»ºæ–‡ä»¶<code>scripts/changelog.option.mjs</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è®°å¾—å®‰è£…å¯¹åº”çš„ä¾èµ–</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> compareFunc <span class=\"keyword\">from</span> <span class=\"string\">&quot;compare-func&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; cloneDeep &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;lodash-es&quot;</span>; <span class=\"comment\">// å¼•å…¥ lodash åº“ç”¨äºæ·±æ‹·è´</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> typeMapping = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">feat</span>: <span class=\"string\">&quot;âœ¨ Features | æ–°åŠŸèƒ½&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">fix</span>: <span class=\"string\">&quot;ğŸ› Bug Fixes | Bug ä¿®å¤&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">perf</span>: <span class=\"string\">&quot;âš¡ Performance Improvements | æ€§èƒ½ä¼˜åŒ–&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">revert</span>: <span class=\"string\">&quot;âª Reverts | å›é€€&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">docs</span>: <span class=\"string\">&quot;ğŸ“ Documentation | æ–‡æ¡£&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">style</span>: <span class=\"string\">&quot;ğŸ’„ Styles | é£æ ¼&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">refactor</span>: <span class=\"string\">&quot;â™» Code Refactoring | ä»£ç é‡æ„&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">test</span>: <span class=\"string\">&quot;âœ… Tests | æµ‹è¯•&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">build</span>: <span class=\"string\">&quot;ğŸ‘·â€ Build System | æ„å»º&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">ci</span>: <span class=\"string\">&quot;ğŸ”§ Continuous Integration | CI é…ç½®&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">chore</span>: <span class=\"string\">&quot;ğŸ« Chores | å…¶ä»–æ›´æ–°&quot;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">writerOpts</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">transform</span>: <span class=\"function\">(<span class=\"params\">commit, context</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">let</span> discard = <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">const</span> issues = [];</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">let</span> _commit = <span class=\"title function_\">cloneDeep</span>(commit); <span class=\"comment\">// ä½¿ç”¨ lodash çš„æ·±æ‹·è´</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t_commit.<span class=\"property\">notes</span> = _commit.<span class=\"property\">notes</span>.<span class=\"title function_\">map</span>(<span class=\"function\"><span class=\"params\">note</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (note.<span class=\"property\">title</span> === <span class=\"string\">&quot;BREAKING CHANGES&quot;</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\tnote.<span class=\"property\">title</span> = <span class=\"string\">&quot;BREAKING CHANGES&quot;</span>;</span><br><span class=\"line\">\t\t\t\t\tdiscard = <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> note;</span><br><span class=\"line\">\t\t\t&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t_commit.<span class=\"property\">type</span> = typeMapping[_commit.<span class=\"property\">type</span>] || _commit.<span class=\"property\">type</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (_commit.<span class=\"property\">scope</span> === <span class=\"string\">&quot;*&quot;</span>) &#123;</span><br><span class=\"line\">\t\t\t\t_commit.<span class=\"property\">scope</span> = <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> _commit.<span class=\"property\">hash</span> === <span class=\"string\">&quot;string&quot;</span>) &#123;</span><br><span class=\"line\">\t\t\t\t_commit.<span class=\"property\">shortHash</span> = _commit.<span class=\"property\">hash</span>.<span class=\"title function_\">substring</span>(<span class=\"number\">0</span>, <span class=\"number\">7</span>);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> _commit.<span class=\"property\">subject</span> === <span class=\"string\">&quot;string&quot;</span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">let</span> url = context.<span class=\"property\">repository</span></span><br><span class=\"line\">\t\t\t\t\t? <span class=\"string\">`<span class=\"subst\">$&#123;context.host&#125;</span>/<span class=\"subst\">$&#123;context.owner&#125;</span>/<span class=\"subst\">$&#123;context.repository&#125;</span>`</span></span><br><span class=\"line\">\t\t\t\t\t: context.<span class=\"property\">repoUrl</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (url) &#123;</span><br><span class=\"line\">\t\t\t\t\turl = <span class=\"string\">`<span class=\"subst\">$&#123;url&#125;</span>/issues/`</span>;</span><br><span class=\"line\">\t\t\t\t\t_commit.<span class=\"property\">subject</span> = _commit.<span class=\"property\">subject</span>.<span class=\"title function_\">replace</span>(</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"regexp\">/#([0-9]+)/g</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"function\">(<span class=\"params\">_, issue</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\tissues.<span class=\"title function_\">push</span>(issue);</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"string\">`[#<span class=\"subst\">$&#123;issue&#125;</span>](<span class=\"subst\">$&#123;url&#125;</span><span class=\"subst\">$&#123;issue&#125;</span>)`</span>;</span><br><span class=\"line\">\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t);</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (context.<span class=\"property\">host</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t_commit.<span class=\"property\">subject</span> = _commit.<span class=\"property\">subject</span>.<span class=\"title function_\">replace</span>(</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"regexp\">/\\B@([a-z0-9](?:-?[a-z0-9/])&#123;0,38&#125;)/g</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"function\">(<span class=\"params\">_, username</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">if</span> (username.<span class=\"title function_\">includes</span>(<span class=\"string\">&quot;/&quot;</span>)) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"string\">`@<span class=\"subst\">$&#123;username&#125;</span>`</span>;</span><br><span class=\"line\">\t\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"string\">`[@<span class=\"subst\">$&#123;username&#125;</span>](<span class=\"subst\">$&#123;context.host&#125;</span>/<span class=\"subst\">$&#123;username&#125;</span>)`</span>;</span><br><span class=\"line\">\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t);</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t_commit.<span class=\"property\">references</span> = _commit.<span class=\"property\">references</span>.<span class=\"title function_\">filter</span>(<span class=\"function\"><span class=\"params\">reference</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> issues.<span class=\"title function_\">indexOf</span>(reference.<span class=\"property\">issue</span>) === -<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t\t&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> _commit;</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t<span class=\"attr\">groupBy</span>: <span class=\"string\">&quot;type&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">commitGroupsSort</span>: <span class=\"string\">&quot;title&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">commitsSort</span>: [<span class=\"string\">&quot;scope&quot;</span>, <span class=\"string\">&quot;subject&quot;</span>],</span><br><span class=\"line\">\t\t<span class=\"attr\">noteGroupsSort</span>: <span class=\"string\">&quot;title&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">notesSort</span>: compareFunc,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨é¡¹ç›®<code>package.json</code>ä¸­æ·»åŠ å‘½ä»¤</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;changelog&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;conventional-changelog -p angular -i CHANGELOG.md -s -r 0 -n ./scripts/changelog-option.mjs &amp;&amp; git add CHANGELOG.md&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8l02pz4vrj.webp\" alt=\"x\"></p>\n","excerpt":"","more":"<h1 id=\"Changelo-md-æ˜¯ä»€ä¹ˆ\"><a href=\"#Changelo-md-æ˜¯ä»€ä¹ˆ\" class=\"headerlink\" title=\"Changelo.md æ˜¯ä»€ä¹ˆ\"></a>Changelo.md æ˜¯ä»€ä¹ˆ</h1><p><code>Changelog.md</code> æ˜¯ä¸€ä¸ªç”¨äºè®°å½•é¡¹ç›®å˜æ›´å†å²çš„æ–‡ä»¶ï¼Œé€šå¸¸ä»¥ <code>Markdown</code> æ ¼å¼ç¼–å†™ã€‚è¿™ä¸ªæ–‡ä»¶ä¼šè¯¦ç»†åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬çš„æ›´æ–°å†…å®¹ï¼ŒåŒ…æ‹¬æ–°å¢åŠŸèƒ½ã€ä¿®å¤çš„ bugã€æ”¹è¿›çš„åœ°æ–¹ä»¥åŠå…¶ä»–é‡è¦å˜æ›´ã€‚è¿™å¯¹äºå¼€å‘è€…å’Œç”¨æˆ·æ¥è¯´éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒå¯ä»¥å¸®åŠ©ä»–ä»¬äº†è§£è½¯ä»¶çš„æ¼”åŒ–è¿‡ç¨‹ä»¥åŠæ¯ä¸ªç‰ˆæœ¬çš„å…·ä½“å˜åŒ–ã€‚</p>\n<p>ç‰¹ç‚¹ï¼š</p>\n<ul>\n<li>ç‰ˆæœ¬å·æ˜ç¡®ï¼šæ¯ä¸ªæ›´æ–°éƒ½ä¼šå¸¦æœ‰ç‰ˆæœ¬å·ï¼Œä¾¿äºè¿½è¸ªã€‚</li>\n<li>æ—¥æœŸæ ‡è®°ï¼šæ¯æ¬¡æ›´æ–°éƒ½é™„æœ‰æ—¥æœŸï¼Œå¸®åŠ©ç”¨æˆ·äº†è§£å˜æ›´çš„æ—¶é—´ã€‚</li>\n<li>å˜æ›´åˆ†ç±»ï¼šå¦‚æ–°å¢åŠŸèƒ½ã€é—®é¢˜ä¿®å¤ã€æ€§èƒ½æå‡ç­‰ï¼Œè®©é˜…è¯»è€…å¿«é€Ÿå®šä½å…³å¿ƒçš„ä¿¡æ¯ã€‚</li>\n<li>ç®€æ´æ˜äº†ï¼šå†…å®¹é€šå¸¸ç›´æ¥åˆ‡å…¥è¦ç‚¹ï¼Œé¿å…å†—é•¿æè¿°ã€‚</li>\n</ul>\n<h2 id=\"æ€ä¹ˆä½¿ç”¨ï¼Ÿ\"><a href=\"#æ€ä¹ˆä½¿ç”¨ï¼Ÿ\" class=\"headerlink\" title=\"æ€ä¹ˆä½¿ç”¨ï¼Ÿ\"></a>æ€ä¹ˆä½¿ç”¨ï¼Ÿ</h2><p>æˆ‘ä»¬ä½¿ç”¨<code>CHANGELOG</code>ä¸éœ€è¦æ‰‹åŠ¨åˆ›å»ºï¼Œæ‰‹åŠ¨åˆ›å»ºéœ€è¦å§<code>commit</code>çš„æ¶ˆæ¯æ˜¾ç¤ºåœ¨<code>CHANGELOG</code>ï¼›å¹¶ä¸”å¤ªéº»çƒ¦äº†ã€‚è¿™é‡Œæ¨èä½¿ç”¨ä¸€äº›ç¬¬ä¸‰æ–¹çš„å·¥å…·æˆ–è€…ä¾èµ–ï¼›</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add -D conventional-changelog conventional-changelog-cli</span><br></pre></td></tr></table></figure>\n\n<p>å®‰è£…å®Œæˆä¹‹åä¸éœ€è¦é…ç½®ä»»ä½•æ–‡ä»¶ï¼Œåªéœ€è¦åœ¨é¡¹ç›®<code>package.json</code>ä¸­æ·»åŠ ä¸€è¡Œå‘½ä»¤å³å¯ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;changelog&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;conventional-changelog -p angular -i CHANGELOG.md -s -r 0&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>å½“ä½ æ‰§è¡Œè¿™æ¡å‘½ä»¤çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨ç”Ÿæˆ<code>CHANGELOG.md</code>æ–‡ä»¶, å¦‚ä¸‹ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.45o6bf0ut.webp\" alt=\"x\"></p>\n<h2 id=\"è‡ªå®šä¹‰æ ¼å¼\"><a href=\"#è‡ªå®šä¹‰æ ¼å¼\" class=\"headerlink\" title=\"è‡ªå®šä¹‰æ ¼å¼\"></a>è‡ªå®šä¹‰æ ¼å¼</h2><p><code>conventional-changelog</code> é»˜è®¤çš„æ ¼å¼æ˜¯ <code>Angular</code> çš„ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ ¼å¼ã€‚</p>\n<p>åˆ›å»ºæ–‡ä»¶<code>scripts/changelog.option.mjs</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è®°å¾—å®‰è£…å¯¹åº”çš„ä¾èµ–</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> compareFunc <span class=\"keyword\">from</span> <span class=\"string\">&quot;compare-func&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; cloneDeep &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;lodash-es&quot;</span>; <span class=\"comment\">// å¼•å…¥ lodash åº“ç”¨äºæ·±æ‹·è´</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> typeMapping = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">feat</span>: <span class=\"string\">&quot;âœ¨ Features | æ–°åŠŸèƒ½&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">fix</span>: <span class=\"string\">&quot;ğŸ› Bug Fixes | Bug ä¿®å¤&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">perf</span>: <span class=\"string\">&quot;âš¡ Performance Improvements | æ€§èƒ½ä¼˜åŒ–&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">revert</span>: <span class=\"string\">&quot;âª Reverts | å›é€€&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">docs</span>: <span class=\"string\">&quot;ğŸ“ Documentation | æ–‡æ¡£&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">style</span>: <span class=\"string\">&quot;ğŸ’„ Styles | é£æ ¼&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">refactor</span>: <span class=\"string\">&quot;â™» Code Refactoring | ä»£ç é‡æ„&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">test</span>: <span class=\"string\">&quot;âœ… Tests | æµ‹è¯•&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">build</span>: <span class=\"string\">&quot;ğŸ‘·â€ Build System | æ„å»º&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">ci</span>: <span class=\"string\">&quot;ğŸ”§ Continuous Integration | CI é…ç½®&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">chore</span>: <span class=\"string\">&quot;ğŸ« Chores | å…¶ä»–æ›´æ–°&quot;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">writerOpts</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">transform</span>: <span class=\"function\">(<span class=\"params\">commit, context</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">let</span> discard = <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">const</span> issues = [];</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">let</span> _commit = <span class=\"title function_\">cloneDeep</span>(commit); <span class=\"comment\">// ä½¿ç”¨ lodash çš„æ·±æ‹·è´</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t_commit.<span class=\"property\">notes</span> = _commit.<span class=\"property\">notes</span>.<span class=\"title function_\">map</span>(<span class=\"function\"><span class=\"params\">note</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (note.<span class=\"property\">title</span> === <span class=\"string\">&quot;BREAKING CHANGES&quot;</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\tnote.<span class=\"property\">title</span> = <span class=\"string\">&quot;BREAKING CHANGES&quot;</span>;</span><br><span class=\"line\">\t\t\t\t\tdiscard = <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> note;</span><br><span class=\"line\">\t\t\t&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t_commit.<span class=\"property\">type</span> = typeMapping[_commit.<span class=\"property\">type</span>] || _commit.<span class=\"property\">type</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (_commit.<span class=\"property\">scope</span> === <span class=\"string\">&quot;*&quot;</span>) &#123;</span><br><span class=\"line\">\t\t\t\t_commit.<span class=\"property\">scope</span> = <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> _commit.<span class=\"property\">hash</span> === <span class=\"string\">&quot;string&quot;</span>) &#123;</span><br><span class=\"line\">\t\t\t\t_commit.<span class=\"property\">shortHash</span> = _commit.<span class=\"property\">hash</span>.<span class=\"title function_\">substring</span>(<span class=\"number\">0</span>, <span class=\"number\">7</span>);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> _commit.<span class=\"property\">subject</span> === <span class=\"string\">&quot;string&quot;</span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">let</span> url = context.<span class=\"property\">repository</span></span><br><span class=\"line\">\t\t\t\t\t? <span class=\"string\">`<span class=\"subst\">$&#123;context.host&#125;</span>/<span class=\"subst\">$&#123;context.owner&#125;</span>/<span class=\"subst\">$&#123;context.repository&#125;</span>`</span></span><br><span class=\"line\">\t\t\t\t\t: context.<span class=\"property\">repoUrl</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (url) &#123;</span><br><span class=\"line\">\t\t\t\t\turl = <span class=\"string\">`<span class=\"subst\">$&#123;url&#125;</span>/issues/`</span>;</span><br><span class=\"line\">\t\t\t\t\t_commit.<span class=\"property\">subject</span> = _commit.<span class=\"property\">subject</span>.<span class=\"title function_\">replace</span>(</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"regexp\">/#([0-9]+)/g</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"function\">(<span class=\"params\">_, issue</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\tissues.<span class=\"title function_\">push</span>(issue);</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"string\">`[#<span class=\"subst\">$&#123;issue&#125;</span>](<span class=\"subst\">$&#123;url&#125;</span><span class=\"subst\">$&#123;issue&#125;</span>)`</span>;</span><br><span class=\"line\">\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t);</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (context.<span class=\"property\">host</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t_commit.<span class=\"property\">subject</span> = _commit.<span class=\"property\">subject</span>.<span class=\"title function_\">replace</span>(</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"regexp\">/\\B@([a-z0-9](?:-?[a-z0-9/])&#123;0,38&#125;)/g</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"function\">(<span class=\"params\">_, username</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">if</span> (username.<span class=\"title function_\">includes</span>(<span class=\"string\">&quot;/&quot;</span>)) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"string\">`@<span class=\"subst\">$&#123;username&#125;</span>`</span>;</span><br><span class=\"line\">\t\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"string\">`[@<span class=\"subst\">$&#123;username&#125;</span>](<span class=\"subst\">$&#123;context.host&#125;</span>/<span class=\"subst\">$&#123;username&#125;</span>)`</span>;</span><br><span class=\"line\">\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t);</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t_commit.<span class=\"property\">references</span> = _commit.<span class=\"property\">references</span>.<span class=\"title function_\">filter</span>(<span class=\"function\"><span class=\"params\">reference</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> issues.<span class=\"title function_\">indexOf</span>(reference.<span class=\"property\">issue</span>) === -<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t\t&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> _commit;</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t<span class=\"attr\">groupBy</span>: <span class=\"string\">&quot;type&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">commitGroupsSort</span>: <span class=\"string\">&quot;title&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">commitsSort</span>: [<span class=\"string\">&quot;scope&quot;</span>, <span class=\"string\">&quot;subject&quot;</span>],</span><br><span class=\"line\">\t\t<span class=\"attr\">noteGroupsSort</span>: <span class=\"string\">&quot;title&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">notesSort</span>: compareFunc,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨é¡¹ç›®<code>package.json</code>ä¸­æ·»åŠ å‘½ä»¤</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;changelog&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;conventional-changelog -p angular -i CHANGELOG.md -s -r 0 -n ./scripts/changelog-option.mjs &amp;&amp; git add CHANGELOG.md&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/image.8l02pz4vrj.webp\" alt=\"x\"></p>\n"},{"title":"é¡¹ç›®å·¥ç¨‹åŒ–-EditorConfig","abbrlink":"a37da6aa","date":"2024-08-08T01:05:01.000Z","_content":"\n# Editor Config\n\nä»€ä¹ˆæ˜¯[EditorConfig](https://editorconfig.org/)\n\nEditorConfig æœ‰åŠ©äºä¸ºåœ¨ä¸åŒç¼–è¾‘å™¨å’Œ IDE ä¸­å¤„ç†åŒä¸€é¡¹ç›®çš„å¤šä¸ªå¼€å‘äººå‘˜ç»´æŠ¤ä¸€è‡´çš„ç¼–ç é£æ ¼\n\nEditorConfig é¡¹ç›®ç”±ä¸€ä¸ªç”¨äºå®šä¹‰ç¼–ç æ ·å¼çš„æ–‡ä»¶æ ¼å¼å’Œä¸€ç»„æ–‡æœ¬ç¼–è¾‘å™¨æ’ä»¶ç»„æˆï¼Œè¿™äº›æ’ä»¶ä½¿ç¼–è¾‘å™¨èƒ½å¤Ÿè¯»å–æ–‡ä»¶æ ¼å¼å¹¶éµå®ˆå®šä¹‰çš„æ ·å¼\n\nEditorConfig æ–‡ä»¶å¾ˆå®¹æ˜“é˜…è¯»ï¼Œå¹¶ä¸”å¯ä»¥å¾ˆå¥½åœ°ä¸ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿé…åˆä½¿ç”¨\n\n\n## EditorConfig æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\n\n```bash\nroot = true\n\n[*]\ncharset = utf-8\nend_of_line = lf\nindent_size = 2\nindent_style = space\ninsert_final_newline = true\ntrim_trailing_whitespace = true\n\n[*.md]\ntrim_trailing_whitespace = false\n```\n\n## å±æ€§é…ç½®\n\n[æ–‡æ¡£](https://github.com/editorconfig/editorconfig/wiki/EditorConfig-Properties)\n\n### indent_style\n\nç¼©è¿›æ ·å¼; è¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚æ ¸å¿ƒåº“å°†å®ƒä»¬è½¬æ¢ä¸ºå°å†™ã€‚\nå¯ä»¥é€‰æ‹©ï¼š\n\n- `tab`\n- `space`\n\n### indent_size\n\nç¼©è¿›å¤§å°ï¼ˆä»¥å•é—´è·å­—ç¬¦ä¸ºå•ä½ï¼‰ è¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™\nå¯ä»¥é€‰æ‹©ï¼š\n\n- `tab`\n- `æ•´æ•°`\n\nå¦‚æœ indent_size ç­‰äº tabï¼Œåˆ™ indent_size å°†è®¾ç½®ä¸º tab å¤§å°ã€‚å¦‚æœæŒ‡å®šäº† tab_widthï¼Œåˆ™åº”ä¸º tab_widthï¼›å¦‚æœæœªæŒ‡å®š tab_widthï¼Œåˆ™åº”è®¾ç½®ä¸ºç¼–è¾‘å™¨è®¾ç½®çš„ tab å¤§å°\n\n### tab_width\n\nå•ä¸ªåˆ¶è¡¨ç¬¦çš„å®½åº¦\nå¯ä»¥é€‰æ‹©ï¼š\n\n- æ­£æ•´æ•°ï¼ˆå½“ indent_size æ˜¯ä¸€ä¸ªæ•°å­—æ—¶ï¼Œé»˜è®¤ä¸º indent_sizeï¼‰\n\n### end_of_line\n\nè¡Œå°¾æ–‡ä»¶æ ¼å¼ï¼ˆUnixã€DOSã€Macï¼‰\n\nè¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™\n\næ³¨æ„ï¼šå¦‚æœæ‚¨æƒ³åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¹‹é—´ä½¿ç”¨è¡Œç»“å°¾ï¼Œæœ€å¥½ä¸è¦è®¾ç½®æ­¤é€‰é¡¹ï¼Œè€Œæ˜¯å°†è¯¥ä»»åŠ¡ç•™ç»™ VCSï¼åœ¨æœªæ¥ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä¸ºè¿™ç§æƒ…å†µæ·»åŠ åƒ native è¿™æ ·çš„å€¼[ï¼ˆcf #226ï¼‰](https://github.com/editorconfig/editorconfig/issues/226)\n\nå¯èƒ½çš„å€¼\n\n- `lf`\n- `crlf`\n- `cr`\n\n### charset\n\næ–‡ä»¶å­—ç¬¦ç¼–ç ï¼ˆè¯·å‚é˜…å­—ç¬¦é›†æ”¯æŒï¼‰\n\nè¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™\n\nå¯èƒ½çš„å€¼\n\n- `latin1`\n- `utf-8`\n- `utf-16be`\n- `utf-16le`\n- `utf-8-bom`\n\n### trim_trailing_whitespace\n\nè¡¨ç¤ºæ˜¯å¦ä»è¡Œå°¾åˆ é™¤ç©ºç™½\n\nè¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™\n\nå¯èƒ½çš„å€¼\n\n- `true`ï¼šåˆ é™¤æ¢è¡Œç¬¦ä¹‹å‰çš„ä»»ä½•ç©ºç™½å­—ç¬¦\n- `false`ï¼šç¡®ä¿ç¼–è¾‘å™¨ä¿ç•™ç©ºç™½å­—ç¬¦\n\n### insert_final_newline\n\nè¡¨ç¤ºæ–‡ä»¶æ˜¯å¦åº”ä»¥æ¢è¡Œç»“æŸ\n\nè¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™\n\nå¯èƒ½çš„å€¼\n\n- `true`\n- `false`\n\n### max_line_length\n\nåœ¨æŒ‡å®šçš„å­—ç¬¦æ•°ä¹‹åå¼ºåˆ¶æ¢è¡Œã€‚off å¯å…³é—­æ­¤åŠŸèƒ½ï¼ˆä½¿ç”¨ç¼–è¾‘å™¨è®¾ç½®ï¼‰\n\nå¯èƒ½çš„å€¼\n\n- `æ­£æ•´æ•°`\n- `off`\n\n## vscode æ’ä»¶\n\n[EditorConfig for VS Code](https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig)\n\næ­¤æ’ä»¶å°è¯•ä½¿ç”¨æ–‡ä»¶ä¸­æ‰¾åˆ°çš„è®¾ç½®è¦†ç›–ç”¨æˆ·/å·¥ä½œåŒºè®¾ç½®`.editorconfig`ã€‚æ— éœ€å…¶ä»–æ–‡ä»¶æˆ–ç‰¹å®šäº `vscode` çš„æ–‡ä»¶ã€‚ä¸ä»»ä½• `EditorConfig` æ’ä»¶ä¸€æ ·ï¼Œå¦‚æœ` root=true` `æœªæŒ‡å®šï¼ŒEditorConfig` å°†ç»§ç»­.`editorconfig` åœ¨é¡¹ç›®å¤–å¯»æ‰¾æ–‡ä»¶ .\n\n## ä¼˜å…ˆçº§é—®é¢˜\n\né¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¼šç»å¸¸å®‰è£…`eslint + stylelint + prettier`å»è§„èŒƒé¡¹ç›®å¼€å‘ï¼Œä½†æ˜¯åœ¨`prettier`ä¸­çš„é…ç½®å’Œ`editorconfig`ä¸­ä¸€äº›é…ç½®æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Ÿé¡¹ç›®ä¸­éƒ½æœ‰è¿™äº›é…ç½®ï¼Œä¼˜å…ˆçº§é—®é¢˜å¦‚ä½•é€‰æ‹©ï¼Ÿ\n\né…ç½®æ–‡ä»¶ä¼˜å…ˆçº§ï¼š`.editorconfig > settings.json (Workspaceå·¥ä½œåŒº) > settings.json (Userå…¨å±€) > .eslintrc å’Œ .prettierrc`\n","source":"_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/editorConfig.md","raw":"---\ntitle: é¡¹ç›®å·¥ç¨‹åŒ–-EditorConfig\nabbrlink: a37da6aa\ndate: 2024-08-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å·¥ç¨‹åŒ–\n---\n\n# Editor Config\n\nä»€ä¹ˆæ˜¯[EditorConfig](https://editorconfig.org/)\n\nEditorConfig æœ‰åŠ©äºä¸ºåœ¨ä¸åŒç¼–è¾‘å™¨å’Œ IDE ä¸­å¤„ç†åŒä¸€é¡¹ç›®çš„å¤šä¸ªå¼€å‘äººå‘˜ç»´æŠ¤ä¸€è‡´çš„ç¼–ç é£æ ¼\n\nEditorConfig é¡¹ç›®ç”±ä¸€ä¸ªç”¨äºå®šä¹‰ç¼–ç æ ·å¼çš„æ–‡ä»¶æ ¼å¼å’Œä¸€ç»„æ–‡æœ¬ç¼–è¾‘å™¨æ’ä»¶ç»„æˆï¼Œè¿™äº›æ’ä»¶ä½¿ç¼–è¾‘å™¨èƒ½å¤Ÿè¯»å–æ–‡ä»¶æ ¼å¼å¹¶éµå®ˆå®šä¹‰çš„æ ·å¼\n\nEditorConfig æ–‡ä»¶å¾ˆå®¹æ˜“é˜…è¯»ï¼Œå¹¶ä¸”å¯ä»¥å¾ˆå¥½åœ°ä¸ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿé…åˆä½¿ç”¨\n\n\n## EditorConfig æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\n\n```bash\nroot = true\n\n[*]\ncharset = utf-8\nend_of_line = lf\nindent_size = 2\nindent_style = space\ninsert_final_newline = true\ntrim_trailing_whitespace = true\n\n[*.md]\ntrim_trailing_whitespace = false\n```\n\n## å±æ€§é…ç½®\n\n[æ–‡æ¡£](https://github.com/editorconfig/editorconfig/wiki/EditorConfig-Properties)\n\n### indent_style\n\nç¼©è¿›æ ·å¼; è¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚æ ¸å¿ƒåº“å°†å®ƒä»¬è½¬æ¢ä¸ºå°å†™ã€‚\nå¯ä»¥é€‰æ‹©ï¼š\n\n- `tab`\n- `space`\n\n### indent_size\n\nç¼©è¿›å¤§å°ï¼ˆä»¥å•é—´è·å­—ç¬¦ä¸ºå•ä½ï¼‰ è¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™\nå¯ä»¥é€‰æ‹©ï¼š\n\n- `tab`\n- `æ•´æ•°`\n\nå¦‚æœ indent_size ç­‰äº tabï¼Œåˆ™ indent_size å°†è®¾ç½®ä¸º tab å¤§å°ã€‚å¦‚æœæŒ‡å®šäº† tab_widthï¼Œåˆ™åº”ä¸º tab_widthï¼›å¦‚æœæœªæŒ‡å®š tab_widthï¼Œåˆ™åº”è®¾ç½®ä¸ºç¼–è¾‘å™¨è®¾ç½®çš„ tab å¤§å°\n\n### tab_width\n\nå•ä¸ªåˆ¶è¡¨ç¬¦çš„å®½åº¦\nå¯ä»¥é€‰æ‹©ï¼š\n\n- æ­£æ•´æ•°ï¼ˆå½“ indent_size æ˜¯ä¸€ä¸ªæ•°å­—æ—¶ï¼Œé»˜è®¤ä¸º indent_sizeï¼‰\n\n### end_of_line\n\nè¡Œå°¾æ–‡ä»¶æ ¼å¼ï¼ˆUnixã€DOSã€Macï¼‰\n\nè¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™\n\næ³¨æ„ï¼šå¦‚æœæ‚¨æƒ³åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¹‹é—´ä½¿ç”¨è¡Œç»“å°¾ï¼Œæœ€å¥½ä¸è¦è®¾ç½®æ­¤é€‰é¡¹ï¼Œè€Œæ˜¯å°†è¯¥ä»»åŠ¡ç•™ç»™ VCSï¼åœ¨æœªæ¥ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä¸ºè¿™ç§æƒ…å†µæ·»åŠ åƒ native è¿™æ ·çš„å€¼[ï¼ˆcf #226ï¼‰](https://github.com/editorconfig/editorconfig/issues/226)\n\nå¯èƒ½çš„å€¼\n\n- `lf`\n- `crlf`\n- `cr`\n\n### charset\n\næ–‡ä»¶å­—ç¬¦ç¼–ç ï¼ˆè¯·å‚é˜…å­—ç¬¦é›†æ”¯æŒï¼‰\n\nè¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™\n\nå¯èƒ½çš„å€¼\n\n- `latin1`\n- `utf-8`\n- `utf-16be`\n- `utf-16le`\n- `utf-8-bom`\n\n### trim_trailing_whitespace\n\nè¡¨ç¤ºæ˜¯å¦ä»è¡Œå°¾åˆ é™¤ç©ºç™½\n\nè¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™\n\nå¯èƒ½çš„å€¼\n\n- `true`ï¼šåˆ é™¤æ¢è¡Œç¬¦ä¹‹å‰çš„ä»»ä½•ç©ºç™½å­—ç¬¦\n- `false`ï¼šç¡®ä¿ç¼–è¾‘å™¨ä¿ç•™ç©ºç™½å­—ç¬¦\n\n### insert_final_newline\n\nè¡¨ç¤ºæ–‡ä»¶æ˜¯å¦åº”ä»¥æ¢è¡Œç»“æŸ\n\nè¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™\n\nå¯èƒ½çš„å€¼\n\n- `true`\n- `false`\n\n### max_line_length\n\nåœ¨æŒ‡å®šçš„å­—ç¬¦æ•°ä¹‹åå¼ºåˆ¶æ¢è¡Œã€‚off å¯å…³é—­æ­¤åŠŸèƒ½ï¼ˆä½¿ç”¨ç¼–è¾‘å™¨è®¾ç½®ï¼‰\n\nå¯èƒ½çš„å€¼\n\n- `æ­£æ•´æ•°`\n- `off`\n\n## vscode æ’ä»¶\n\n[EditorConfig for VS Code](https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig)\n\næ­¤æ’ä»¶å°è¯•ä½¿ç”¨æ–‡ä»¶ä¸­æ‰¾åˆ°çš„è®¾ç½®è¦†ç›–ç”¨æˆ·/å·¥ä½œåŒºè®¾ç½®`.editorconfig`ã€‚æ— éœ€å…¶ä»–æ–‡ä»¶æˆ–ç‰¹å®šäº `vscode` çš„æ–‡ä»¶ã€‚ä¸ä»»ä½• `EditorConfig` æ’ä»¶ä¸€æ ·ï¼Œå¦‚æœ` root=true` `æœªæŒ‡å®šï¼ŒEditorConfig` å°†ç»§ç»­.`editorconfig` åœ¨é¡¹ç›®å¤–å¯»æ‰¾æ–‡ä»¶ .\n\n## ä¼˜å…ˆçº§é—®é¢˜\n\né¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¼šç»å¸¸å®‰è£…`eslint + stylelint + prettier`å»è§„èŒƒé¡¹ç›®å¼€å‘ï¼Œä½†æ˜¯åœ¨`prettier`ä¸­çš„é…ç½®å’Œ`editorconfig`ä¸­ä¸€äº›é…ç½®æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Ÿé¡¹ç›®ä¸­éƒ½æœ‰è¿™äº›é…ç½®ï¼Œä¼˜å…ˆçº§é—®é¢˜å¦‚ä½•é€‰æ‹©ï¼Ÿ\n\né…ç½®æ–‡ä»¶ä¼˜å…ˆçº§ï¼š`.editorconfig > settings.json (Workspaceå·¥ä½œåŒº) > settings.json (Userå…¨å±€) > .eslintrc å’Œ .prettierrc`\n","slug":"æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/editorConfig","published":1,"updated":"2025-03-12T09:38:20.979Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j8006zfg9mh61fbuh4","content":"<h1 id=\"Editor-Config\"><a href=\"#Editor-Config\" class=\"headerlink\" title=\"Editor Config\"></a>Editor Config</h1><p>ä»€ä¹ˆæ˜¯<a href=\"https://editorconfig.org/\">EditorConfig</a></p>\n<p>EditorConfig æœ‰åŠ©äºä¸ºåœ¨ä¸åŒç¼–è¾‘å™¨å’Œ IDE ä¸­å¤„ç†åŒä¸€é¡¹ç›®çš„å¤šä¸ªå¼€å‘äººå‘˜ç»´æŠ¤ä¸€è‡´çš„ç¼–ç é£æ ¼</p>\n<p>EditorConfig é¡¹ç›®ç”±ä¸€ä¸ªç”¨äºå®šä¹‰ç¼–ç æ ·å¼çš„æ–‡ä»¶æ ¼å¼å’Œä¸€ç»„æ–‡æœ¬ç¼–è¾‘å™¨æ’ä»¶ç»„æˆï¼Œè¿™äº›æ’ä»¶ä½¿ç¼–è¾‘å™¨èƒ½å¤Ÿè¯»å–æ–‡ä»¶æ ¼å¼å¹¶éµå®ˆå®šä¹‰çš„æ ·å¼</p>\n<p>EditorConfig æ–‡ä»¶å¾ˆå®¹æ˜“é˜…è¯»ï¼Œå¹¶ä¸”å¯ä»¥å¾ˆå¥½åœ°ä¸ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿé…åˆä½¿ç”¨</p>\n<h2 id=\"EditorConfig-æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\"><a href=\"#EditorConfig-æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\" class=\"headerlink\" title=\"EditorConfig æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\"></a>EditorConfig æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root = <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\">[*]</span><br><span class=\"line\">charset = utf-8</span><br><span class=\"line\">end_of_line = lf</span><br><span class=\"line\">indent_size = 2</span><br><span class=\"line\">indent_style = space</span><br><span class=\"line\">insert_final_newline = <span class=\"literal\">true</span></span><br><span class=\"line\">trim_trailing_whitespace = <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\">[*.md]</span><br><span class=\"line\">trim_trailing_whitespace = <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å±æ€§é…ç½®\"><a href=\"#å±æ€§é…ç½®\" class=\"headerlink\" title=\"å±æ€§é…ç½®\"></a>å±æ€§é…ç½®</h2><p><a href=\"https://github.com/editorconfig/editorconfig/wiki/EditorConfig-Properties\">æ–‡æ¡£</a></p>\n<h3 id=\"indent-style\"><a href=\"#indent-style\" class=\"headerlink\" title=\"indent_style\"></a>indent_style</h3><p>ç¼©è¿›æ ·å¼; è¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚æ ¸å¿ƒåº“å°†å®ƒä»¬è½¬æ¢ä¸ºå°å†™ã€‚<br>å¯ä»¥é€‰æ‹©ï¼š</p>\n<ul>\n<li><code>tab</code></li>\n<li><code>space</code></li>\n</ul>\n<h3 id=\"indent-size\"><a href=\"#indent-size\" class=\"headerlink\" title=\"indent_size\"></a>indent_size</h3><p>ç¼©è¿›å¤§å°ï¼ˆä»¥å•é—´è·å­—ç¬¦ä¸ºå•ä½ï¼‰ è¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™<br>å¯ä»¥é€‰æ‹©ï¼š</p>\n<ul>\n<li><code>tab</code></li>\n<li><code>æ•´æ•°</code></li>\n</ul>\n<p>å¦‚æœ indent_size ç­‰äº tabï¼Œåˆ™ indent_size å°†è®¾ç½®ä¸º tab å¤§å°ã€‚å¦‚æœæŒ‡å®šäº† tab_widthï¼Œåˆ™åº”ä¸º tab_widthï¼›å¦‚æœæœªæŒ‡å®š tab_widthï¼Œåˆ™åº”è®¾ç½®ä¸ºç¼–è¾‘å™¨è®¾ç½®çš„ tab å¤§å°</p>\n<h3 id=\"tab-width\"><a href=\"#tab-width\" class=\"headerlink\" title=\"tab_width\"></a>tab_width</h3><p>å•ä¸ªåˆ¶è¡¨ç¬¦çš„å®½åº¦<br>å¯ä»¥é€‰æ‹©ï¼š</p>\n<ul>\n<li>æ­£æ•´æ•°ï¼ˆå½“ indent_size æ˜¯ä¸€ä¸ªæ•°å­—æ—¶ï¼Œé»˜è®¤ä¸º indent_sizeï¼‰</li>\n</ul>\n<h3 id=\"end-of-line\"><a href=\"#end-of-line\" class=\"headerlink\" title=\"end_of_line\"></a>end_of_line</h3><p>è¡Œå°¾æ–‡ä»¶æ ¼å¼ï¼ˆUnixã€DOSã€Macï¼‰</p>\n<p>è¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™</p>\n<p>æ³¨æ„ï¼šå¦‚æœæ‚¨æƒ³åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¹‹é—´ä½¿ç”¨è¡Œç»“å°¾ï¼Œæœ€å¥½ä¸è¦è®¾ç½®æ­¤é€‰é¡¹ï¼Œè€Œæ˜¯å°†è¯¥ä»»åŠ¡ç•™ç»™ VCSï¼åœ¨æœªæ¥ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä¸ºè¿™ç§æƒ…å†µæ·»åŠ åƒ native è¿™æ ·çš„å€¼<a href=\"https://github.com/editorconfig/editorconfig/issues/226\">ï¼ˆcf #226ï¼‰</a></p>\n<p>å¯èƒ½çš„å€¼</p>\n<ul>\n<li><code>lf</code></li>\n<li><code>crlf</code></li>\n<li><code>cr</code></li>\n</ul>\n<h3 id=\"charset\"><a href=\"#charset\" class=\"headerlink\" title=\"charset\"></a>charset</h3><p>æ–‡ä»¶å­—ç¬¦ç¼–ç ï¼ˆè¯·å‚é˜…å­—ç¬¦é›†æ”¯æŒï¼‰</p>\n<p>è¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™</p>\n<p>å¯èƒ½çš„å€¼</p>\n<ul>\n<li><code>latin1</code></li>\n<li><code>utf-8</code></li>\n<li><code>utf-16be</code></li>\n<li><code>utf-16le</code></li>\n<li><code>utf-8-bom</code></li>\n</ul>\n<h3 id=\"trim-trailing-whitespace\"><a href=\"#trim-trailing-whitespace\" class=\"headerlink\" title=\"trim_trailing_whitespace\"></a>trim_trailing_whitespace</h3><p>è¡¨ç¤ºæ˜¯å¦ä»è¡Œå°¾åˆ é™¤ç©ºç™½</p>\n<p>è¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™</p>\n<p>å¯èƒ½çš„å€¼</p>\n<ul>\n<li><code>true</code>ï¼šåˆ é™¤æ¢è¡Œç¬¦ä¹‹å‰çš„ä»»ä½•ç©ºç™½å­—ç¬¦</li>\n<li><code>false</code>ï¼šç¡®ä¿ç¼–è¾‘å™¨ä¿ç•™ç©ºç™½å­—ç¬¦</li>\n</ul>\n<h3 id=\"insert-final-newline\"><a href=\"#insert-final-newline\" class=\"headerlink\" title=\"insert_final_newline\"></a>insert_final_newline</h3><p>è¡¨ç¤ºæ–‡ä»¶æ˜¯å¦åº”ä»¥æ¢è¡Œç»“æŸ</p>\n<p>è¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™</p>\n<p>å¯èƒ½çš„å€¼</p>\n<ul>\n<li><code>true</code></li>\n<li><code>false</code></li>\n</ul>\n<h3 id=\"max-line-length\"><a href=\"#max-line-length\" class=\"headerlink\" title=\"max_line_length\"></a>max_line_length</h3><p>åœ¨æŒ‡å®šçš„å­—ç¬¦æ•°ä¹‹åå¼ºåˆ¶æ¢è¡Œã€‚off å¯å…³é—­æ­¤åŠŸèƒ½ï¼ˆä½¿ç”¨ç¼–è¾‘å™¨è®¾ç½®ï¼‰</p>\n<p>å¯èƒ½çš„å€¼</p>\n<ul>\n<li><code>æ­£æ•´æ•°</code></li>\n<li><code>off</code></li>\n</ul>\n<h2 id=\"vscode-æ’ä»¶\"><a href=\"#vscode-æ’ä»¶\" class=\"headerlink\" title=\"vscode æ’ä»¶\"></a>vscode æ’ä»¶</h2><p><a href=\"https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig\">EditorConfig for VS Code</a></p>\n<p>æ­¤æ’ä»¶å°è¯•ä½¿ç”¨æ–‡ä»¶ä¸­æ‰¾åˆ°çš„è®¾ç½®è¦†ç›–ç”¨æˆ·&#x2F;å·¥ä½œåŒºè®¾ç½®<code>.editorconfig</code>ã€‚æ— éœ€å…¶ä»–æ–‡ä»¶æˆ–ç‰¹å®šäº <code>vscode</code> çš„æ–‡ä»¶ã€‚ä¸ä»»ä½• <code>EditorConfig</code> æ’ä»¶ä¸€æ ·ï¼Œå¦‚æœ<code> root=true</code> <code>æœªæŒ‡å®šï¼ŒEditorConfig</code> å°†ç»§ç»­.<code>editorconfig</code> åœ¨é¡¹ç›®å¤–å¯»æ‰¾æ–‡ä»¶ .</p>\n<h2 id=\"ä¼˜å…ˆçº§é—®é¢˜\"><a href=\"#ä¼˜å…ˆçº§é—®é¢˜\" class=\"headerlink\" title=\"ä¼˜å…ˆçº§é—®é¢˜\"></a>ä¼˜å…ˆçº§é—®é¢˜</h2><p>é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¼šç»å¸¸å®‰è£…<code>eslint + stylelint + prettier</code>å»è§„èŒƒé¡¹ç›®å¼€å‘ï¼Œä½†æ˜¯åœ¨<code>prettier</code>ä¸­çš„é…ç½®å’Œ<code>editorconfig</code>ä¸­ä¸€äº›é…ç½®æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Ÿé¡¹ç›®ä¸­éƒ½æœ‰è¿™äº›é…ç½®ï¼Œä¼˜å…ˆçº§é—®é¢˜å¦‚ä½•é€‰æ‹©ï¼Ÿ</p>\n<p>é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§ï¼š<code>.editorconfig &gt; settings.json (Workspaceå·¥ä½œåŒº) &gt; settings.json (Userå…¨å±€) &gt; .eslintrc å’Œ .prettierrc</code></p>\n","excerpt":"","more":"<h1 id=\"Editor-Config\"><a href=\"#Editor-Config\" class=\"headerlink\" title=\"Editor Config\"></a>Editor Config</h1><p>ä»€ä¹ˆæ˜¯<a href=\"https://editorconfig.org/\">EditorConfig</a></p>\n<p>EditorConfig æœ‰åŠ©äºä¸ºåœ¨ä¸åŒç¼–è¾‘å™¨å’Œ IDE ä¸­å¤„ç†åŒä¸€é¡¹ç›®çš„å¤šä¸ªå¼€å‘äººå‘˜ç»´æŠ¤ä¸€è‡´çš„ç¼–ç é£æ ¼</p>\n<p>EditorConfig é¡¹ç›®ç”±ä¸€ä¸ªç”¨äºå®šä¹‰ç¼–ç æ ·å¼çš„æ–‡ä»¶æ ¼å¼å’Œä¸€ç»„æ–‡æœ¬ç¼–è¾‘å™¨æ’ä»¶ç»„æˆï¼Œè¿™äº›æ’ä»¶ä½¿ç¼–è¾‘å™¨èƒ½å¤Ÿè¯»å–æ–‡ä»¶æ ¼å¼å¹¶éµå®ˆå®šä¹‰çš„æ ·å¼</p>\n<p>EditorConfig æ–‡ä»¶å¾ˆå®¹æ˜“é˜…è¯»ï¼Œå¹¶ä¸”å¯ä»¥å¾ˆå¥½åœ°ä¸ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿé…åˆä½¿ç”¨</p>\n<h2 id=\"EditorConfig-æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\"><a href=\"#EditorConfig-æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\" class=\"headerlink\" title=\"EditorConfig æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\"></a>EditorConfig æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root = <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\">[*]</span><br><span class=\"line\">charset = utf-8</span><br><span class=\"line\">end_of_line = lf</span><br><span class=\"line\">indent_size = 2</span><br><span class=\"line\">indent_style = space</span><br><span class=\"line\">insert_final_newline = <span class=\"literal\">true</span></span><br><span class=\"line\">trim_trailing_whitespace = <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\">[*.md]</span><br><span class=\"line\">trim_trailing_whitespace = <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å±æ€§é…ç½®\"><a href=\"#å±æ€§é…ç½®\" class=\"headerlink\" title=\"å±æ€§é…ç½®\"></a>å±æ€§é…ç½®</h2><p><a href=\"https://github.com/editorconfig/editorconfig/wiki/EditorConfig-Properties\">æ–‡æ¡£</a></p>\n<h3 id=\"indent-style\"><a href=\"#indent-style\" class=\"headerlink\" title=\"indent_style\"></a>indent_style</h3><p>ç¼©è¿›æ ·å¼; è¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚æ ¸å¿ƒåº“å°†å®ƒä»¬è½¬æ¢ä¸ºå°å†™ã€‚<br>å¯ä»¥é€‰æ‹©ï¼š</p>\n<ul>\n<li><code>tab</code></li>\n<li><code>space</code></li>\n</ul>\n<h3 id=\"indent-size\"><a href=\"#indent-size\" class=\"headerlink\" title=\"indent_size\"></a>indent_size</h3><p>ç¼©è¿›å¤§å°ï¼ˆä»¥å•é—´è·å­—ç¬¦ä¸ºå•ä½ï¼‰ è¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™<br>å¯ä»¥é€‰æ‹©ï¼š</p>\n<ul>\n<li><code>tab</code></li>\n<li><code>æ•´æ•°</code></li>\n</ul>\n<p>å¦‚æœ indent_size ç­‰äº tabï¼Œåˆ™ indent_size å°†è®¾ç½®ä¸º tab å¤§å°ã€‚å¦‚æœæŒ‡å®šäº† tab_widthï¼Œåˆ™åº”ä¸º tab_widthï¼›å¦‚æœæœªæŒ‡å®š tab_widthï¼Œåˆ™åº”è®¾ç½®ä¸ºç¼–è¾‘å™¨è®¾ç½®çš„ tab å¤§å°</p>\n<h3 id=\"tab-width\"><a href=\"#tab-width\" class=\"headerlink\" title=\"tab_width\"></a>tab_width</h3><p>å•ä¸ªåˆ¶è¡¨ç¬¦çš„å®½åº¦<br>å¯ä»¥é€‰æ‹©ï¼š</p>\n<ul>\n<li>æ­£æ•´æ•°ï¼ˆå½“ indent_size æ˜¯ä¸€ä¸ªæ•°å­—æ—¶ï¼Œé»˜è®¤ä¸º indent_sizeï¼‰</li>\n</ul>\n<h3 id=\"end-of-line\"><a href=\"#end-of-line\" class=\"headerlink\" title=\"end_of_line\"></a>end_of_line</h3><p>è¡Œå°¾æ–‡ä»¶æ ¼å¼ï¼ˆUnixã€DOSã€Macï¼‰</p>\n<p>è¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™</p>\n<p>æ³¨æ„ï¼šå¦‚æœæ‚¨æƒ³åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¹‹é—´ä½¿ç”¨è¡Œç»“å°¾ï¼Œæœ€å¥½ä¸è¦è®¾ç½®æ­¤é€‰é¡¹ï¼Œè€Œæ˜¯å°†è¯¥ä»»åŠ¡ç•™ç»™ VCSï¼åœ¨æœªæ¥ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä¸ºè¿™ç§æƒ…å†µæ·»åŠ åƒ native è¿™æ ·çš„å€¼<a href=\"https://github.com/editorconfig/editorconfig/issues/226\">ï¼ˆcf #226ï¼‰</a></p>\n<p>å¯èƒ½çš„å€¼</p>\n<ul>\n<li><code>lf</code></li>\n<li><code>crlf</code></li>\n<li><code>cr</code></li>\n</ul>\n<h3 id=\"charset\"><a href=\"#charset\" class=\"headerlink\" title=\"charset\"></a>charset</h3><p>æ–‡ä»¶å­—ç¬¦ç¼–ç ï¼ˆè¯·å‚é˜…å­—ç¬¦é›†æ”¯æŒï¼‰</p>\n<p>è¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™</p>\n<p>å¯èƒ½çš„å€¼</p>\n<ul>\n<li><code>latin1</code></li>\n<li><code>utf-8</code></li>\n<li><code>utf-16be</code></li>\n<li><code>utf-16le</code></li>\n<li><code>utf-8-bom</code></li>\n</ul>\n<h3 id=\"trim-trailing-whitespace\"><a href=\"#trim-trailing-whitespace\" class=\"headerlink\" title=\"trim_trailing_whitespace\"></a>trim_trailing_whitespace</h3><p>è¡¨ç¤ºæ˜¯å¦ä»è¡Œå°¾åˆ é™¤ç©ºç™½</p>\n<p>è¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™</p>\n<p>å¯èƒ½çš„å€¼</p>\n<ul>\n<li><code>true</code>ï¼šåˆ é™¤æ¢è¡Œç¬¦ä¹‹å‰çš„ä»»ä½•ç©ºç™½å­—ç¬¦</li>\n<li><code>false</code>ï¼šç¡®ä¿ç¼–è¾‘å™¨ä¿ç•™ç©ºç™½å­—ç¬¦</li>\n</ul>\n<h3 id=\"insert-final-newline\"><a href=\"#insert-final-newline\" class=\"headerlink\" title=\"insert_final_newline\"></a>insert_final_newline</h3><p>è¡¨ç¤ºæ–‡ä»¶æ˜¯å¦åº”ä»¥æ¢è¡Œç»“æŸ</p>\n<p>è¿™äº›å€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚å®ƒä»¬å°†è¢«æ ¸å¿ƒåº“é™ä¸ºå°å†™</p>\n<p>å¯èƒ½çš„å€¼</p>\n<ul>\n<li><code>true</code></li>\n<li><code>false</code></li>\n</ul>\n<h3 id=\"max-line-length\"><a href=\"#max-line-length\" class=\"headerlink\" title=\"max_line_length\"></a>max_line_length</h3><p>åœ¨æŒ‡å®šçš„å­—ç¬¦æ•°ä¹‹åå¼ºåˆ¶æ¢è¡Œã€‚off å¯å…³é—­æ­¤åŠŸèƒ½ï¼ˆä½¿ç”¨ç¼–è¾‘å™¨è®¾ç½®ï¼‰</p>\n<p>å¯èƒ½çš„å€¼</p>\n<ul>\n<li><code>æ­£æ•´æ•°</code></li>\n<li><code>off</code></li>\n</ul>\n<h2 id=\"vscode-æ’ä»¶\"><a href=\"#vscode-æ’ä»¶\" class=\"headerlink\" title=\"vscode æ’ä»¶\"></a>vscode æ’ä»¶</h2><p><a href=\"https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig\">EditorConfig for VS Code</a></p>\n<p>æ­¤æ’ä»¶å°è¯•ä½¿ç”¨æ–‡ä»¶ä¸­æ‰¾åˆ°çš„è®¾ç½®è¦†ç›–ç”¨æˆ·&#x2F;å·¥ä½œåŒºè®¾ç½®<code>.editorconfig</code>ã€‚æ— éœ€å…¶ä»–æ–‡ä»¶æˆ–ç‰¹å®šäº <code>vscode</code> çš„æ–‡ä»¶ã€‚ä¸ä»»ä½• <code>EditorConfig</code> æ’ä»¶ä¸€æ ·ï¼Œå¦‚æœ<code> root=true</code> <code>æœªæŒ‡å®šï¼ŒEditorConfig</code> å°†ç»§ç»­.<code>editorconfig</code> åœ¨é¡¹ç›®å¤–å¯»æ‰¾æ–‡ä»¶ .</p>\n<h2 id=\"ä¼˜å…ˆçº§é—®é¢˜\"><a href=\"#ä¼˜å…ˆçº§é—®é¢˜\" class=\"headerlink\" title=\"ä¼˜å…ˆçº§é—®é¢˜\"></a>ä¼˜å…ˆçº§é—®é¢˜</h2><p>é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¼šç»å¸¸å®‰è£…<code>eslint + stylelint + prettier</code>å»è§„èŒƒé¡¹ç›®å¼€å‘ï¼Œä½†æ˜¯åœ¨<code>prettier</code>ä¸­çš„é…ç½®å’Œ<code>editorconfig</code>ä¸­ä¸€äº›é…ç½®æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Ÿé¡¹ç›®ä¸­éƒ½æœ‰è¿™äº›é…ç½®ï¼Œä¼˜å…ˆçº§é—®é¢˜å¦‚ä½•é€‰æ‹©ï¼Ÿ</p>\n<p>é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§ï¼š<code>.editorconfig &gt; settings.json (Workspaceå·¥ä½œåŒº) &gt; settings.json (Userå…¨å±€) &gt; .eslintrc å’Œ .prettierrc</code></p>\n"},{"title":"é¡¹ç›®å·¥ç¨‹åŒ–-gité…ç½®","abbrlink":"925e341a","date":"2024-08-08T01:05:01.000Z","_content":"\n\n`.gitignore` å’Œ `.gitattributes`éƒ½æ˜¯ä¸º`git`æäº¤éœ€è¦é…ç½®çš„ä¸€äº›ä¿¡æ¯ï¼Œä¾‹å¦‚æŸäº›æ–‡ä»¶ä¸éœ€è¦æäº¤ï¼Œæäº¤çš„æ ¼å¼æ˜¯ä»€ä¹ˆç­‰ç­‰;\n\n- `.gitignore`: æ–‡ä»¶æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ–‡ä»¶ï¼ŒåŒ…å«äº†é¡¹ç›®ä¸­æ‰€æœ‰æŒ‡å®šçš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„åˆ—è¡¨ï¼Œè¿™äº›æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ˜¯ `Git` åº”è¯¥å¿½ç•¥å’Œä¸è¿½è¸ªçš„ã€‚ åœ¨ `.gitignore` ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡æåŠç‰¹å®šæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„åç§°æˆ–æ¨¡å¼æ¥å‘Šè¯‰ `Git` åªå¿½ç•¥ä¸€ä¸ªæ–‡ä»¶æˆ–ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚ ä½ ä¹Ÿå¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•å‘Šè¯‰ `Git` å¿½ç•¥å¤šä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ã€‚\n\n- `.gitattributes`: æ–‡ä»¶æ˜¯ä¸€ä¸ªç”¨æ¥é…ç½® `Git` ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„æ–‡ä»¶ï¼Œæ–‡ä»¶å…è®¸ä½ å¯¹ `Git` ä¸­çš„æ–‡ä»¶å’Œæ“ä½œè¿›è¡Œæ›´ç²¾ç»†çš„æ§åˆ¶å’Œé…ç½®ï¼Œä»¥é€‚åº”é¡¹ç›®çš„ç‰¹å®šéœ€æ±‚å’Œå·¥ä½œæµç¨‹ã€‚è¿™å¯ä»¥æé«˜ä»£ç ç®¡ç†çš„çµæ´»æ€§å’Œæ•ˆç‡ã€‚[è¯¦ç»†è¯´æ˜](https://www.cnblogs.com/huangtq/p/17745759.html)\n\n\n\n## æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„?\n\n### .gitignore\n\n```bash\n# .gitignore\n# Local\n.DS_Store\n*.local\n*.log*\n\n# Dist\nnode_modules\ndist/\n\n# IDE\n.vscode/*\n!.vscode/extensions.json\n.idea\n```\n\n### .gitattributes\n\nåœ¨ä¸åŒçš„è®¾å¤‡ä¸Šæ‹‰å–å¯¹åº”çš„`git`æ˜¾ç¤ºçš„è¡Œä¸ºåºåˆ—éƒ½ä¸º`lf`ï¼Œè¿™æ ·åœ¨`windows, macos`ä¸Šçš„ä»£ç å°±ä¸ä¼šçˆ†çº¢(`prettieræŠ¥é”™`)\n\n```bash\n*.html text eol=lf\n*.css text eol=lf\n*.js text eol=lf\n*.ts text eol=lf\n*.scss text eol=lf\n*.vue text eol=lf\n*.hbs text eol=lf\n*.sh text eol=lf\n*.md text eol=lf\n*.json text eol=lf\n*.yml text eol=lf\n.browserslistrc text eol=lf\n.editorconfig text eol=lf\n.eslintignore text eol=lf\n.gitattributes text eol=lf\nLICENSE text eol=lf\n*.conf  text eol=lf\n```\n","source":"_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/gité…ç½®.md","raw":"---\ntitle: é¡¹ç›®å·¥ç¨‹åŒ–-gité…ç½®\nabbrlink: 925e341a\ndate: 2024-08-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å·¥ç¨‹åŒ–\n---\n\n\n`.gitignore` å’Œ `.gitattributes`éƒ½æ˜¯ä¸º`git`æäº¤éœ€è¦é…ç½®çš„ä¸€äº›ä¿¡æ¯ï¼Œä¾‹å¦‚æŸäº›æ–‡ä»¶ä¸éœ€è¦æäº¤ï¼Œæäº¤çš„æ ¼å¼æ˜¯ä»€ä¹ˆç­‰ç­‰;\n\n- `.gitignore`: æ–‡ä»¶æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ–‡ä»¶ï¼ŒåŒ…å«äº†é¡¹ç›®ä¸­æ‰€æœ‰æŒ‡å®šçš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„åˆ—è¡¨ï¼Œè¿™äº›æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ˜¯ `Git` åº”è¯¥å¿½ç•¥å’Œä¸è¿½è¸ªçš„ã€‚ åœ¨ `.gitignore` ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡æåŠç‰¹å®šæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„åç§°æˆ–æ¨¡å¼æ¥å‘Šè¯‰ `Git` åªå¿½ç•¥ä¸€ä¸ªæ–‡ä»¶æˆ–ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚ ä½ ä¹Ÿå¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•å‘Šè¯‰ `Git` å¿½ç•¥å¤šä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ã€‚\n\n- `.gitattributes`: æ–‡ä»¶æ˜¯ä¸€ä¸ªç”¨æ¥é…ç½® `Git` ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„æ–‡ä»¶ï¼Œæ–‡ä»¶å…è®¸ä½ å¯¹ `Git` ä¸­çš„æ–‡ä»¶å’Œæ“ä½œè¿›è¡Œæ›´ç²¾ç»†çš„æ§åˆ¶å’Œé…ç½®ï¼Œä»¥é€‚åº”é¡¹ç›®çš„ç‰¹å®šéœ€æ±‚å’Œå·¥ä½œæµç¨‹ã€‚è¿™å¯ä»¥æé«˜ä»£ç ç®¡ç†çš„çµæ´»æ€§å’Œæ•ˆç‡ã€‚[è¯¦ç»†è¯´æ˜](https://www.cnblogs.com/huangtq/p/17745759.html)\n\n\n\n## æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„?\n\n### .gitignore\n\n```bash\n# .gitignore\n# Local\n.DS_Store\n*.local\n*.log*\n\n# Dist\nnode_modules\ndist/\n\n# IDE\n.vscode/*\n!.vscode/extensions.json\n.idea\n```\n\n### .gitattributes\n\nåœ¨ä¸åŒçš„è®¾å¤‡ä¸Šæ‹‰å–å¯¹åº”çš„`git`æ˜¾ç¤ºçš„è¡Œä¸ºåºåˆ—éƒ½ä¸º`lf`ï¼Œè¿™æ ·åœ¨`windows, macos`ä¸Šçš„ä»£ç å°±ä¸ä¼šçˆ†çº¢(`prettieræŠ¥é”™`)\n\n```bash\n*.html text eol=lf\n*.css text eol=lf\n*.js text eol=lf\n*.ts text eol=lf\n*.scss text eol=lf\n*.vue text eol=lf\n*.hbs text eol=lf\n*.sh text eol=lf\n*.md text eol=lf\n*.json text eol=lf\n*.yml text eol=lf\n.browserslistrc text eol=lf\n.editorconfig text eol=lf\n.eslintignore text eol=lf\n.gitattributes text eol=lf\nLICENSE text eol=lf\n*.conf  text eol=lf\n```\n","slug":"æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/gité…ç½®","published":1,"updated":"2025-03-12T09:38:12.692Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j80073fg9ma3rsg448","content":"<p><code>.gitignore</code> å’Œ <code>.gitattributes</code>éƒ½æ˜¯ä¸º<code>git</code>æäº¤éœ€è¦é…ç½®çš„ä¸€äº›ä¿¡æ¯ï¼Œä¾‹å¦‚æŸäº›æ–‡ä»¶ä¸éœ€è¦æäº¤ï¼Œæäº¤çš„æ ¼å¼æ˜¯ä»€ä¹ˆç­‰ç­‰;</p>\n<ul>\n<li><p><code>.gitignore</code>: æ–‡ä»¶æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ–‡ä»¶ï¼ŒåŒ…å«äº†é¡¹ç›®ä¸­æ‰€æœ‰æŒ‡å®šçš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„åˆ—è¡¨ï¼Œè¿™äº›æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ˜¯ <code>Git</code> åº”è¯¥å¿½ç•¥å’Œä¸è¿½è¸ªçš„ã€‚ åœ¨ <code>.gitignore</code> ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡æåŠç‰¹å®šæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„åç§°æˆ–æ¨¡å¼æ¥å‘Šè¯‰ <code>Git</code> åªå¿½ç•¥ä¸€ä¸ªæ–‡ä»¶æˆ–ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚ ä½ ä¹Ÿå¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•å‘Šè¯‰ <code>Git</code> å¿½ç•¥å¤šä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ã€‚</p>\n</li>\n<li><p><code>.gitattributes</code>: æ–‡ä»¶æ˜¯ä¸€ä¸ªç”¨æ¥é…ç½® <code>Git</code> ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„æ–‡ä»¶ï¼Œæ–‡ä»¶å…è®¸ä½ å¯¹ <code>Git</code> ä¸­çš„æ–‡ä»¶å’Œæ“ä½œè¿›è¡Œæ›´ç²¾ç»†çš„æ§åˆ¶å’Œé…ç½®ï¼Œä»¥é€‚åº”é¡¹ç›®çš„ç‰¹å®šéœ€æ±‚å’Œå·¥ä½œæµç¨‹ã€‚è¿™å¯ä»¥æé«˜ä»£ç ç®¡ç†çš„çµæ´»æ€§å’Œæ•ˆç‡ã€‚<a href=\"https://www.cnblogs.com/huangtq/p/17745759.html\">è¯¦ç»†è¯´æ˜</a></p>\n</li>\n</ul>\n<h2 id=\"æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\"><a href=\"#æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\" class=\"headerlink\" title=\"æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„?\"></a>æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„?</h2><h3 id=\"gitignore\"><a href=\"#gitignore\" class=\"headerlink\" title=\".gitignore\"></a>.gitignore</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># .gitignore</span></span><br><span class=\"line\"><span class=\"comment\"># Local</span></span><br><span class=\"line\">.DS_Store</span><br><span class=\"line\">*.<span class=\"built_in\">local</span></span><br><span class=\"line\">*.<span class=\"built_in\">log</span>*</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Dist</span></span><br><span class=\"line\">node_modules</span><br><span class=\"line\">dist/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># IDE</span></span><br><span class=\"line\">.vscode/*</span><br><span class=\"line\">!.vscode/extensions.json</span><br><span class=\"line\">.idea</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"gitattributes\"><a href=\"#gitattributes\" class=\"headerlink\" title=\".gitattributes\"></a>.gitattributes</h3><p>åœ¨ä¸åŒçš„è®¾å¤‡ä¸Šæ‹‰å–å¯¹åº”çš„<code>git</code>æ˜¾ç¤ºçš„è¡Œä¸ºåºåˆ—éƒ½ä¸º<code>lf</code>ï¼Œè¿™æ ·åœ¨<code>windows, macos</code>ä¸Šçš„ä»£ç å°±ä¸ä¼šçˆ†çº¢(<code>prettieræŠ¥é”™</code>)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*.html text eol=lf</span><br><span class=\"line\">*.css text eol=lf</span><br><span class=\"line\">*.js text eol=lf</span><br><span class=\"line\">*.ts text eol=lf</span><br><span class=\"line\">*.scss text eol=lf</span><br><span class=\"line\">*.vue text eol=lf</span><br><span class=\"line\">*.hbs text eol=lf</span><br><span class=\"line\">*.sh text eol=lf</span><br><span class=\"line\">*.md text eol=lf</span><br><span class=\"line\">*.json text eol=lf</span><br><span class=\"line\">*.yml text eol=lf</span><br><span class=\"line\">.browserslistrc text eol=lf</span><br><span class=\"line\">.editorconfig text eol=lf</span><br><span class=\"line\">.eslintignore text eol=lf</span><br><span class=\"line\">.gitattributes text eol=lf</span><br><span class=\"line\">LICENSE text eol=lf</span><br><span class=\"line\">*.conf  text eol=lf</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<p><code>.gitignore</code> å’Œ <code>.gitattributes</code>éƒ½æ˜¯ä¸º<code>git</code>æäº¤éœ€è¦é…ç½®çš„ä¸€äº›ä¿¡æ¯ï¼Œä¾‹å¦‚æŸäº›æ–‡ä»¶ä¸éœ€è¦æäº¤ï¼Œæäº¤çš„æ ¼å¼æ˜¯ä»€ä¹ˆç­‰ç­‰;</p>\n<ul>\n<li><p><code>.gitignore</code>: æ–‡ä»¶æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ–‡ä»¶ï¼ŒåŒ…å«äº†é¡¹ç›®ä¸­æ‰€æœ‰æŒ‡å®šçš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„åˆ—è¡¨ï¼Œè¿™äº›æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ˜¯ <code>Git</code> åº”è¯¥å¿½ç•¥å’Œä¸è¿½è¸ªçš„ã€‚ åœ¨ <code>.gitignore</code> ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡æåŠç‰¹å®šæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„åç§°æˆ–æ¨¡å¼æ¥å‘Šè¯‰ <code>Git</code> åªå¿½ç•¥ä¸€ä¸ªæ–‡ä»¶æˆ–ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚ ä½ ä¹Ÿå¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•å‘Šè¯‰ <code>Git</code> å¿½ç•¥å¤šä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ã€‚</p>\n</li>\n<li><p><code>.gitattributes</code>: æ–‡ä»¶æ˜¯ä¸€ä¸ªç”¨æ¥é…ç½® <code>Git</code> ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„æ–‡ä»¶ï¼Œæ–‡ä»¶å…è®¸ä½ å¯¹ <code>Git</code> ä¸­çš„æ–‡ä»¶å’Œæ“ä½œè¿›è¡Œæ›´ç²¾ç»†çš„æ§åˆ¶å’Œé…ç½®ï¼Œä»¥é€‚åº”é¡¹ç›®çš„ç‰¹å®šéœ€æ±‚å’Œå·¥ä½œæµç¨‹ã€‚è¿™å¯ä»¥æé«˜ä»£ç ç®¡ç†çš„çµæ´»æ€§å’Œæ•ˆç‡ã€‚<a href=\"https://www.cnblogs.com/huangtq/p/17745759.html\">è¯¦ç»†è¯´æ˜</a></p>\n</li>\n</ul>\n<h2 id=\"æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\"><a href=\"#æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„\" class=\"headerlink\" title=\"æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„?\"></a>æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„?</h2><h3 id=\"gitignore\"><a href=\"#gitignore\" class=\"headerlink\" title=\".gitignore\"></a>.gitignore</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># .gitignore</span></span><br><span class=\"line\"><span class=\"comment\"># Local</span></span><br><span class=\"line\">.DS_Store</span><br><span class=\"line\">*.<span class=\"built_in\">local</span></span><br><span class=\"line\">*.<span class=\"built_in\">log</span>*</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Dist</span></span><br><span class=\"line\">node_modules</span><br><span class=\"line\">dist/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># IDE</span></span><br><span class=\"line\">.vscode/*</span><br><span class=\"line\">!.vscode/extensions.json</span><br><span class=\"line\">.idea</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"gitattributes\"><a href=\"#gitattributes\" class=\"headerlink\" title=\".gitattributes\"></a>.gitattributes</h3><p>åœ¨ä¸åŒçš„è®¾å¤‡ä¸Šæ‹‰å–å¯¹åº”çš„<code>git</code>æ˜¾ç¤ºçš„è¡Œä¸ºåºåˆ—éƒ½ä¸º<code>lf</code>ï¼Œè¿™æ ·åœ¨<code>windows, macos</code>ä¸Šçš„ä»£ç å°±ä¸ä¼šçˆ†çº¢(<code>prettieræŠ¥é”™</code>)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*.html text eol=lf</span><br><span class=\"line\">*.css text eol=lf</span><br><span class=\"line\">*.js text eol=lf</span><br><span class=\"line\">*.ts text eol=lf</span><br><span class=\"line\">*.scss text eol=lf</span><br><span class=\"line\">*.vue text eol=lf</span><br><span class=\"line\">*.hbs text eol=lf</span><br><span class=\"line\">*.sh text eol=lf</span><br><span class=\"line\">*.md text eol=lf</span><br><span class=\"line\">*.json text eol=lf</span><br><span class=\"line\">*.yml text eol=lf</span><br><span class=\"line\">.browserslistrc text eol=lf</span><br><span class=\"line\">.editorconfig text eol=lf</span><br><span class=\"line\">.eslintignore text eol=lf</span><br><span class=\"line\">.gitattributes text eol=lf</span><br><span class=\"line\">LICENSE text eol=lf</span><br><span class=\"line\">*.conf  text eol=lf</span><br></pre></td></tr></table></figure>\n"},{"title":"é¡¹ç›®å·¥ç¨‹åŒ–-envé…ç½®","abbrlink":"21f204ac","date":"2024-08-08T01:05:01.000Z","_content":"\n# Env\n\n\n\n`env`ä»£è¡¨`ç¯å¢ƒ`ï¼Œä¸è®ºæ˜¯åœ¨å‰ç«¯è¿˜æ˜¯åç«¯å¼€å‘ï¼Œéƒ½æœ‰ä¸åŒçš„ç¯å¢ƒï¼Œæ¯ä¸ªç¯å¢ƒå¯¹åº”çš„ä¸€äº›é…ç½®éƒ½æ˜¯ä¸åŒçš„ï¼Œä¾‹å¦‚ï¼šè¯·æ±‚çš„åœ°å€ï¼Œä¸€äº›åŠ å¯†çš„å­—ç¬¦ç­‰ç­‰ï¼›\n\né€šå¸¸åœ¨`node`ä¸­ä¼šè·å–ç¯å¢ƒå˜é‡`process.env.NODE_ENV`ç­‰ç­‰ï¼›\n\nè¿™æ ·çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯ï¼šåœ¨å‰ç«¯é¡¹ç›®æœ¬åœ°å¼€å‘å¯¹åº”æœ¬åœ°çš„é…ç½®ç¯å¢ƒï¼Œè€Œæ‰“åŒ…å¯¹åº”ç€ç”Ÿäº§ç¯å¢ƒï¼Œä¿©ä¸ªç¯å¢ƒç‹¬ç«‹ä¸”åˆ†å¼€ï¼Œä¸ä¼šé€ æˆå…¶ä¸­çš„å†²çªã€‚\n\n\n## æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ\n\n```bash\n# vite ä¸­ä½¿ç”¨éœ€è¦å¸¦æœ‰VITE_APPå‰ç¼€\nVITE_APP_BASE_URL = '/'\n\n# webpack ä¸­ä½¿ç”¨ã€‚éœ€è¦å¸¦æœ‰VUE_APPå‰ç¼€\nVUE_APP_BASE_URL = ''\n\n# rsbuidä¸­ä½¿ç”¨ åˆ†ä¸ºä¿©ç§æƒ…å†µï¼š\n#ä¸€ç§æ˜¯rsbuild.config.tsè¯»å–ï¼Œ\n#ä¸€ç§æ˜¯å®¢æˆ·ç«¯è¯»å–,vueæ–‡ä»¶ä¸­å¯ä»¥è¯»å–\n# rsbuild,config.tsè¯»å–, æ²¡æœ‰å‰ç¼€ï¼Œå¯ä»¥è‡ªå®šä¹‰\nAPP_MODE='dev'\nAPP_NAME='app'\n\n# å®¢æˆ·ç«¯è¯»å–ï¼Œéœ€è¦åŠ PUBLICå‰ç¼€ï¼Œä¾‹å¦‚ï¼š\nPUBLIC_API_URL='/'\n```\n\n## é…ç½®è¯´æ˜\n\né€šå¸¸é¡¹ç›®ä¸­ä¼šé…ç½®å¤šä¸ªç¯å¢ƒæ–‡ä»¶ï¼Œ\n\n```bash\n# æ¯ä¸ªç¯å¢ƒéƒ½ä¼šåŠ è½½\n.env\n# ç”Ÿäº§ç¯å¢ƒ\n.env.production\n# é¢„å¤‡å‘å¸ƒç¯å¢ƒ\n.env.preview\n# æµ‹è¯•ç¯å¢ƒ\n.env.test\n# å¼€å‘ç¯å¢ƒ\n.env.development\n```\n\nç°åœ¨æœ‰ä¸ªé—®é¢˜ï¼Œä¸æ¸…æ¥šä½¿ç”¨çš„æ˜¯å“ªä¸ªç¯å¢ƒï¼Œé‚£ä¹ˆå°±éœ€è¦ä½ åœ¨`package.json`ä¸­ä½¿ç”¨äº†\n\n## å‘½ä»¤é…ç½®\n\nä»¥ä¸‹å‘½ä»¤è¯´æ˜:\n\n- `build:release`: ç”Ÿäº§ç¯å¢ƒ\n- `build:pre`: é¢„å‘å¸ƒç¯å¢ƒ\n- `build:test`: æµ‹è¯•ç¯å¢ƒ\n- `build:dev`: å¼€å‘ç¯å¢ƒ\n\n### vite\n\n```json\n{\n\t\"scripts\": {\n\t\t\"build:release\": \"vite build\",\n\t\t\"build:pre\": \"vite build --mode preview\",\n\t\t\"build:test\": \"vite build --mode test\",\n\t\t\"build:dev\": \"vite build --mode development\"\n\t}\n}\n```\n\n### webpack\n\n```json\n{\n\t\"scripts\": {\n\t\t\"build:release\": \"vue-cli-service build\",\n\t\t\"build:pre\": \"vue-cli-service build --mode preview\",\n\t\t\"build:test\": \"vue-cli-servic build --mode test\",\n\t\t\"build:dev\": \"vue-cli-servic build --mode development\"\n\t}\n}\n```\n\n### node\n\nè¿™é‡Œæˆ‘æ‹¿`nest`ä¸¾ä¾‹ï¼Œ éœ€è¦å®‰è£…`cross-env`ï¼š\n\n```sh\npnpm add -D cross-env\n```\n\n```json\n{\n\t\"scripts\": {\n\t\t\"build:release\": \"nest build\",\n\t\t\"build:pre\": \"cross-env NODE_ENV=preview nest build\",\n\t\t\"build:test\": \"cross-env NODE_ENV=test nest build\",\n\t\t\"build:dev\": \"cross-env NODE_ENV=development nest build\"\n\t}\n}\n```\n\n### rsbuild\n\n```json\n{\n\t\"scripts\": {\n\t\t\"build:release\": \"rsbuild build\",\n\t\t\"build:pre\": \"rsbuild build --env-mode preview\",\n\t\t\"build:test\": \"rsbuild build --env-mode test\",\n\t\t\"build:dev\": \"rsbuild build --env-mode development\"\n\t}\n}\n```\n","source":"_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/envé…ç½®.md","raw":"---\ntitle: é¡¹ç›®å·¥ç¨‹åŒ–-envé…ç½®\nabbrlink: 21f204ac\ndate: 2024-08-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å·¥ç¨‹åŒ–\n---\n\n# Env\n\n\n\n`env`ä»£è¡¨`ç¯å¢ƒ`ï¼Œä¸è®ºæ˜¯åœ¨å‰ç«¯è¿˜æ˜¯åç«¯å¼€å‘ï¼Œéƒ½æœ‰ä¸åŒçš„ç¯å¢ƒï¼Œæ¯ä¸ªç¯å¢ƒå¯¹åº”çš„ä¸€äº›é…ç½®éƒ½æ˜¯ä¸åŒçš„ï¼Œä¾‹å¦‚ï¼šè¯·æ±‚çš„åœ°å€ï¼Œä¸€äº›åŠ å¯†çš„å­—ç¬¦ç­‰ç­‰ï¼›\n\né€šå¸¸åœ¨`node`ä¸­ä¼šè·å–ç¯å¢ƒå˜é‡`process.env.NODE_ENV`ç­‰ç­‰ï¼›\n\nè¿™æ ·çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯ï¼šåœ¨å‰ç«¯é¡¹ç›®æœ¬åœ°å¼€å‘å¯¹åº”æœ¬åœ°çš„é…ç½®ç¯å¢ƒï¼Œè€Œæ‰“åŒ…å¯¹åº”ç€ç”Ÿäº§ç¯å¢ƒï¼Œä¿©ä¸ªç¯å¢ƒç‹¬ç«‹ä¸”åˆ†å¼€ï¼Œä¸ä¼šé€ æˆå…¶ä¸­çš„å†²çªã€‚\n\n\n## æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ\n\n```bash\n# vite ä¸­ä½¿ç”¨éœ€è¦å¸¦æœ‰VITE_APPå‰ç¼€\nVITE_APP_BASE_URL = '/'\n\n# webpack ä¸­ä½¿ç”¨ã€‚éœ€è¦å¸¦æœ‰VUE_APPå‰ç¼€\nVUE_APP_BASE_URL = ''\n\n# rsbuidä¸­ä½¿ç”¨ åˆ†ä¸ºä¿©ç§æƒ…å†µï¼š\n#ä¸€ç§æ˜¯rsbuild.config.tsè¯»å–ï¼Œ\n#ä¸€ç§æ˜¯å®¢æˆ·ç«¯è¯»å–,vueæ–‡ä»¶ä¸­å¯ä»¥è¯»å–\n# rsbuild,config.tsè¯»å–, æ²¡æœ‰å‰ç¼€ï¼Œå¯ä»¥è‡ªå®šä¹‰\nAPP_MODE='dev'\nAPP_NAME='app'\n\n# å®¢æˆ·ç«¯è¯»å–ï¼Œéœ€è¦åŠ PUBLICå‰ç¼€ï¼Œä¾‹å¦‚ï¼š\nPUBLIC_API_URL='/'\n```\n\n## é…ç½®è¯´æ˜\n\né€šå¸¸é¡¹ç›®ä¸­ä¼šé…ç½®å¤šä¸ªç¯å¢ƒæ–‡ä»¶ï¼Œ\n\n```bash\n# æ¯ä¸ªç¯å¢ƒéƒ½ä¼šåŠ è½½\n.env\n# ç”Ÿäº§ç¯å¢ƒ\n.env.production\n# é¢„å¤‡å‘å¸ƒç¯å¢ƒ\n.env.preview\n# æµ‹è¯•ç¯å¢ƒ\n.env.test\n# å¼€å‘ç¯å¢ƒ\n.env.development\n```\n\nç°åœ¨æœ‰ä¸ªé—®é¢˜ï¼Œä¸æ¸…æ¥šä½¿ç”¨çš„æ˜¯å“ªä¸ªç¯å¢ƒï¼Œé‚£ä¹ˆå°±éœ€è¦ä½ åœ¨`package.json`ä¸­ä½¿ç”¨äº†\n\n## å‘½ä»¤é…ç½®\n\nä»¥ä¸‹å‘½ä»¤è¯´æ˜:\n\n- `build:release`: ç”Ÿäº§ç¯å¢ƒ\n- `build:pre`: é¢„å‘å¸ƒç¯å¢ƒ\n- `build:test`: æµ‹è¯•ç¯å¢ƒ\n- `build:dev`: å¼€å‘ç¯å¢ƒ\n\n### vite\n\n```json\n{\n\t\"scripts\": {\n\t\t\"build:release\": \"vite build\",\n\t\t\"build:pre\": \"vite build --mode preview\",\n\t\t\"build:test\": \"vite build --mode test\",\n\t\t\"build:dev\": \"vite build --mode development\"\n\t}\n}\n```\n\n### webpack\n\n```json\n{\n\t\"scripts\": {\n\t\t\"build:release\": \"vue-cli-service build\",\n\t\t\"build:pre\": \"vue-cli-service build --mode preview\",\n\t\t\"build:test\": \"vue-cli-servic build --mode test\",\n\t\t\"build:dev\": \"vue-cli-servic build --mode development\"\n\t}\n}\n```\n\n### node\n\nè¿™é‡Œæˆ‘æ‹¿`nest`ä¸¾ä¾‹ï¼Œ éœ€è¦å®‰è£…`cross-env`ï¼š\n\n```sh\npnpm add -D cross-env\n```\n\n```json\n{\n\t\"scripts\": {\n\t\t\"build:release\": \"nest build\",\n\t\t\"build:pre\": \"cross-env NODE_ENV=preview nest build\",\n\t\t\"build:test\": \"cross-env NODE_ENV=test nest build\",\n\t\t\"build:dev\": \"cross-env NODE_ENV=development nest build\"\n\t}\n}\n```\n\n### rsbuild\n\n```json\n{\n\t\"scripts\": {\n\t\t\"build:release\": \"rsbuild build\",\n\t\t\"build:pre\": \"rsbuild build --env-mode preview\",\n\t\t\"build:test\": \"rsbuild build --env-mode test\",\n\t\t\"build:dev\": \"rsbuild build --env-mode development\"\n\t}\n}\n```\n","slug":"æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/envé…ç½®","published":1,"updated":"2025-03-12T09:38:17.752Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j80075fg9mfgd9abkv","content":"<h1 id=\"Env\"><a href=\"#Env\" class=\"headerlink\" title=\"Env\"></a>Env</h1><p><code>env</code>ä»£è¡¨<code>ç¯å¢ƒ</code>ï¼Œä¸è®ºæ˜¯åœ¨å‰ç«¯è¿˜æ˜¯åç«¯å¼€å‘ï¼Œéƒ½æœ‰ä¸åŒçš„ç¯å¢ƒï¼Œæ¯ä¸ªç¯å¢ƒå¯¹åº”çš„ä¸€äº›é…ç½®éƒ½æ˜¯ä¸åŒçš„ï¼Œä¾‹å¦‚ï¼šè¯·æ±‚çš„åœ°å€ï¼Œä¸€äº›åŠ å¯†çš„å­—ç¬¦ç­‰ç­‰ï¼›</p>\n<p>é€šå¸¸åœ¨<code>node</code>ä¸­ä¼šè·å–ç¯å¢ƒå˜é‡<code>process.env.NODE_ENV</code>ç­‰ç­‰ï¼›</p>\n<p>è¿™æ ·çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯ï¼šåœ¨å‰ç«¯é¡¹ç›®æœ¬åœ°å¼€å‘å¯¹åº”æœ¬åœ°çš„é…ç½®ç¯å¢ƒï¼Œè€Œæ‰“åŒ…å¯¹åº”ç€ç”Ÿäº§ç¯å¢ƒï¼Œä¿©ä¸ªç¯å¢ƒç‹¬ç«‹ä¸”åˆ†å¼€ï¼Œä¸ä¼šé€ æˆå…¶ä¸­çš„å†²çªã€‚</p>\n<h2 id=\"æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ\"><a href=\"#æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ\" class=\"headerlink\" title=\"æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ\"></a>æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># vite ä¸­ä½¿ç”¨éœ€è¦å¸¦æœ‰VITE_APPå‰ç¼€</span></span><br><span class=\"line\">VITE_APP_BASE_URL = <span class=\"string\">&#x27;/&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># webpack ä¸­ä½¿ç”¨ã€‚éœ€è¦å¸¦æœ‰VUE_APPå‰ç¼€</span></span><br><span class=\"line\">VUE_APP_BASE_URL = <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># rsbuidä¸­ä½¿ç”¨ åˆ†ä¸ºä¿©ç§æƒ…å†µï¼š</span></span><br><span class=\"line\"><span class=\"comment\">#ä¸€ç§æ˜¯rsbuild.config.tsè¯»å–ï¼Œ</span></span><br><span class=\"line\"><span class=\"comment\">#ä¸€ç§æ˜¯å®¢æˆ·ç«¯è¯»å–,vueæ–‡ä»¶ä¸­å¯ä»¥è¯»å–</span></span><br><span class=\"line\"><span class=\"comment\"># rsbuild,config.tsè¯»å–, æ²¡æœ‰å‰ç¼€ï¼Œå¯ä»¥è‡ªå®šä¹‰</span></span><br><span class=\"line\">APP_MODE=<span class=\"string\">&#x27;dev&#x27;</span></span><br><span class=\"line\">APP_NAME=<span class=\"string\">&#x27;app&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># å®¢æˆ·ç«¯è¯»å–ï¼Œéœ€è¦åŠ PUBLICå‰ç¼€ï¼Œä¾‹å¦‚ï¼š</span></span><br><span class=\"line\">PUBLIC_API_URL=<span class=\"string\">&#x27;/&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"é…ç½®è¯´æ˜\"><a href=\"#é…ç½®è¯´æ˜\" class=\"headerlink\" title=\"é…ç½®è¯´æ˜\"></a>é…ç½®è¯´æ˜</h2><p>é€šå¸¸é¡¹ç›®ä¸­ä¼šé…ç½®å¤šä¸ªç¯å¢ƒæ–‡ä»¶ï¼Œ</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ¯ä¸ªç¯å¢ƒéƒ½ä¼šåŠ è½½</span></span><br><span class=\"line\">.<span class=\"built_in\">env</span></span><br><span class=\"line\"><span class=\"comment\"># ç”Ÿäº§ç¯å¢ƒ</span></span><br><span class=\"line\">.env.production</span><br><span class=\"line\"><span class=\"comment\"># é¢„å¤‡å‘å¸ƒç¯å¢ƒ</span></span><br><span class=\"line\">.env.preview</span><br><span class=\"line\"><span class=\"comment\"># æµ‹è¯•ç¯å¢ƒ</span></span><br><span class=\"line\">.env.test</span><br><span class=\"line\"><span class=\"comment\"># å¼€å‘ç¯å¢ƒ</span></span><br><span class=\"line\">.env.development</span><br></pre></td></tr></table></figure>\n\n<p>ç°åœ¨æœ‰ä¸ªé—®é¢˜ï¼Œä¸æ¸…æ¥šä½¿ç”¨çš„æ˜¯å“ªä¸ªç¯å¢ƒï¼Œé‚£ä¹ˆå°±éœ€è¦ä½ åœ¨<code>package.json</code>ä¸­ä½¿ç”¨äº†</p>\n<h2 id=\"å‘½ä»¤é…ç½®\"><a href=\"#å‘½ä»¤é…ç½®\" class=\"headerlink\" title=\"å‘½ä»¤é…ç½®\"></a>å‘½ä»¤é…ç½®</h2><p>ä»¥ä¸‹å‘½ä»¤è¯´æ˜:</p>\n<ul>\n<li><code>build:release</code>: ç”Ÿäº§ç¯å¢ƒ</li>\n<li><code>build:pre</code>: é¢„å‘å¸ƒç¯å¢ƒ</li>\n<li><code>build:test</code>: æµ‹è¯•ç¯å¢ƒ</li>\n<li><code>build:dev</code>: å¼€å‘ç¯å¢ƒ</li>\n</ul>\n<h3 id=\"vite\"><a href=\"#vite\" class=\"headerlink\" title=\"vite\"></a>vite</h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:release&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vite build&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:pre&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vite build --mode preview&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:test&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vite build --mode test&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:dev&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vite build --mode development&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"webpack\"><a href=\"#webpack\" class=\"headerlink\" title=\"webpack\"></a>webpack</h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:release&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vue-cli-service build&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:pre&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vue-cli-service build --mode preview&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:test&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vue-cli-servic build --mode test&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:dev&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vue-cli-servic build --mode development&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"node\"><a href=\"#node\" class=\"headerlink\" title=\"node\"></a>node</h3><p>è¿™é‡Œæˆ‘æ‹¿<code>nest</code>ä¸¾ä¾‹ï¼Œ éœ€è¦å®‰è£…<code>cross-env</code>ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add -D cross-env</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:release&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;nest build&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:pre&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env NODE_ENV=preview nest build&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:test&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env NODE_ENV=test nest build&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:dev&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env NODE_ENV=development nest build&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"rsbuild\"><a href=\"#rsbuild\" class=\"headerlink\" title=\"rsbuild\"></a>rsbuild</h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:release&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;rsbuild build&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:pre&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;rsbuild build --env-mode preview&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:test&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;rsbuild build --env-mode test&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:dev&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;rsbuild build --env-mode development&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"Env\"><a href=\"#Env\" class=\"headerlink\" title=\"Env\"></a>Env</h1><p><code>env</code>ä»£è¡¨<code>ç¯å¢ƒ</code>ï¼Œä¸è®ºæ˜¯åœ¨å‰ç«¯è¿˜æ˜¯åç«¯å¼€å‘ï¼Œéƒ½æœ‰ä¸åŒçš„ç¯å¢ƒï¼Œæ¯ä¸ªç¯å¢ƒå¯¹åº”çš„ä¸€äº›é…ç½®éƒ½æ˜¯ä¸åŒçš„ï¼Œä¾‹å¦‚ï¼šè¯·æ±‚çš„åœ°å€ï¼Œä¸€äº›åŠ å¯†çš„å­—ç¬¦ç­‰ç­‰ï¼›</p>\n<p>é€šå¸¸åœ¨<code>node</code>ä¸­ä¼šè·å–ç¯å¢ƒå˜é‡<code>process.env.NODE_ENV</code>ç­‰ç­‰ï¼›</p>\n<p>è¿™æ ·çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯ï¼šåœ¨å‰ç«¯é¡¹ç›®æœ¬åœ°å¼€å‘å¯¹åº”æœ¬åœ°çš„é…ç½®ç¯å¢ƒï¼Œè€Œæ‰“åŒ…å¯¹åº”ç€ç”Ÿäº§ç¯å¢ƒï¼Œä¿©ä¸ªç¯å¢ƒç‹¬ç«‹ä¸”åˆ†å¼€ï¼Œä¸ä¼šé€ æˆå…¶ä¸­çš„å†²çªã€‚</p>\n<h2 id=\"æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ\"><a href=\"#æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ\" class=\"headerlink\" title=\"æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ\"></a>æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># vite ä¸­ä½¿ç”¨éœ€è¦å¸¦æœ‰VITE_APPå‰ç¼€</span></span><br><span class=\"line\">VITE_APP_BASE_URL = <span class=\"string\">&#x27;/&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># webpack ä¸­ä½¿ç”¨ã€‚éœ€è¦å¸¦æœ‰VUE_APPå‰ç¼€</span></span><br><span class=\"line\">VUE_APP_BASE_URL = <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># rsbuidä¸­ä½¿ç”¨ åˆ†ä¸ºä¿©ç§æƒ…å†µï¼š</span></span><br><span class=\"line\"><span class=\"comment\">#ä¸€ç§æ˜¯rsbuild.config.tsè¯»å–ï¼Œ</span></span><br><span class=\"line\"><span class=\"comment\">#ä¸€ç§æ˜¯å®¢æˆ·ç«¯è¯»å–,vueæ–‡ä»¶ä¸­å¯ä»¥è¯»å–</span></span><br><span class=\"line\"><span class=\"comment\"># rsbuild,config.tsè¯»å–, æ²¡æœ‰å‰ç¼€ï¼Œå¯ä»¥è‡ªå®šä¹‰</span></span><br><span class=\"line\">APP_MODE=<span class=\"string\">&#x27;dev&#x27;</span></span><br><span class=\"line\">APP_NAME=<span class=\"string\">&#x27;app&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># å®¢æˆ·ç«¯è¯»å–ï¼Œéœ€è¦åŠ PUBLICå‰ç¼€ï¼Œä¾‹å¦‚ï¼š</span></span><br><span class=\"line\">PUBLIC_API_URL=<span class=\"string\">&#x27;/&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"é…ç½®è¯´æ˜\"><a href=\"#é…ç½®è¯´æ˜\" class=\"headerlink\" title=\"é…ç½®è¯´æ˜\"></a>é…ç½®è¯´æ˜</h2><p>é€šå¸¸é¡¹ç›®ä¸­ä¼šé…ç½®å¤šä¸ªç¯å¢ƒæ–‡ä»¶ï¼Œ</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ¯ä¸ªç¯å¢ƒéƒ½ä¼šåŠ è½½</span></span><br><span class=\"line\">.<span class=\"built_in\">env</span></span><br><span class=\"line\"><span class=\"comment\"># ç”Ÿäº§ç¯å¢ƒ</span></span><br><span class=\"line\">.env.production</span><br><span class=\"line\"><span class=\"comment\"># é¢„å¤‡å‘å¸ƒç¯å¢ƒ</span></span><br><span class=\"line\">.env.preview</span><br><span class=\"line\"><span class=\"comment\"># æµ‹è¯•ç¯å¢ƒ</span></span><br><span class=\"line\">.env.test</span><br><span class=\"line\"><span class=\"comment\"># å¼€å‘ç¯å¢ƒ</span></span><br><span class=\"line\">.env.development</span><br></pre></td></tr></table></figure>\n\n<p>ç°åœ¨æœ‰ä¸ªé—®é¢˜ï¼Œä¸æ¸…æ¥šä½¿ç”¨çš„æ˜¯å“ªä¸ªç¯å¢ƒï¼Œé‚£ä¹ˆå°±éœ€è¦ä½ åœ¨<code>package.json</code>ä¸­ä½¿ç”¨äº†</p>\n<h2 id=\"å‘½ä»¤é…ç½®\"><a href=\"#å‘½ä»¤é…ç½®\" class=\"headerlink\" title=\"å‘½ä»¤é…ç½®\"></a>å‘½ä»¤é…ç½®</h2><p>ä»¥ä¸‹å‘½ä»¤è¯´æ˜:</p>\n<ul>\n<li><code>build:release</code>: ç”Ÿäº§ç¯å¢ƒ</li>\n<li><code>build:pre</code>: é¢„å‘å¸ƒç¯å¢ƒ</li>\n<li><code>build:test</code>: æµ‹è¯•ç¯å¢ƒ</li>\n<li><code>build:dev</code>: å¼€å‘ç¯å¢ƒ</li>\n</ul>\n<h3 id=\"vite\"><a href=\"#vite\" class=\"headerlink\" title=\"vite\"></a>vite</h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:release&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vite build&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:pre&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vite build --mode preview&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:test&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vite build --mode test&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:dev&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vite build --mode development&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"webpack\"><a href=\"#webpack\" class=\"headerlink\" title=\"webpack\"></a>webpack</h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:release&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vue-cli-service build&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:pre&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vue-cli-service build --mode preview&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:test&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vue-cli-servic build --mode test&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:dev&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vue-cli-servic build --mode development&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"node\"><a href=\"#node\" class=\"headerlink\" title=\"node\"></a>node</h3><p>è¿™é‡Œæˆ‘æ‹¿<code>nest</code>ä¸¾ä¾‹ï¼Œ éœ€è¦å®‰è£…<code>cross-env</code>ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add -D cross-env</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:release&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;nest build&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:pre&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env NODE_ENV=preview nest build&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:test&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env NODE_ENV=test nest build&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:dev&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env NODE_ENV=development nest build&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"rsbuild\"><a href=\"#rsbuild\" class=\"headerlink\" title=\"rsbuild\"></a>rsbuild</h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:release&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;rsbuild build&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:pre&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;rsbuild build --env-mode preview&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:test&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;rsbuild build --env-mode test&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;build:dev&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;rsbuild build --env-mode development&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n"},{"title":"é¡¹ç›®å·¥ç¨‹åŒ–-Commitizen","abbrlink":"3a339cc0","date":"2024-08-08T01:05:01.000Z","_content":"\n# Commitizen?\n\nä¸€ä¸ªå·¥å…·,ç”¨äºè§„èŒƒä»£ç æäº¤ä¿¡æ¯çš„å·¥å…·ã€‚`cz-conventional-changelog` æ˜¯ä¸€ä¸ª `Commitizen` çš„é€‚é…å™¨,ç”¨äºé€‚é… `conventional-changelog` çš„æäº¤è§„èŒƒã€‚\n\nä¸ºä»€ä¹ˆè¦ä»‹ç»è¿™ä¹ˆä¸€ä¸ªå·¥å…·ï¼š\nå½“ä½ åœ¨æäº¤`commit`çš„æ—¶å€™ï¼Œè‚¯å®šä¼šæ‰‹åŠ¨è¾“å…¥ä¸€äº›`type`:\n\n`fix(axios): ä¿®å¤axiosè¯·æ±‚å¤±è´¥çš„é—®é¢˜ #1`\n\nä½†æ˜¯ç°åœ¨æœ‰è¿™ä¹ˆä¸€ä¸ªå·¥å…·ï¼Œåªéœ€è¦æ ¹æ®è‡ªå·±çš„æƒ…å†µé€‰æ‹©å¯¹åº”çš„æ¡ä»¶å°±å¥½äº†ï¼›\n\n## å¦‚ä½•ä½¿ç”¨ï¼Ÿ\n\nè¿™é‡Œå¯ä»¥å®‰è£…åˆ°å…¨å±€,ä¹Ÿå¯ä»¥å®‰è£…åˆ°é¡¹ç›®ä¸­,è¿™é‡Œæ¨èå®‰è£…åˆ°é¡¹ç›®ä¸­,å› ä¸ºè¿™æ ·å¯ä»¥é¿å…ä¸åŒé¡¹ç›®ä½¿ç”¨ä¸åŒçš„ `Commitizen` ç‰ˆæœ¬,å¯¼è‡´æäº¤ä¿¡æ¯ä¸ä¸€è‡´çš„é—®é¢˜ã€‚\n\n::: tip\n**å®˜æ–¹æ¨¡æ¿**:`cz-conventional-changelog`, ç‰¹ç‚¹æ˜¯å…é…ç½®,å¼€ç®±å³ç”¨,ä½†æç¤ºå…¨éƒ¨ä¸ºè‹±æ–‡,ä¸å¤ªå‹å¥½\n\n**è‡ªå®šä¹‰æ¨¡æ¿**:`cz-customizable`, ç‰¹ç‚¹æ˜¯å¯ä»¥è‡ªå®šä¹‰æ·»åŠ  `emoji` è¡¨æƒ…,å¯ä»¥è‡ªå®šä¹‰æç¤ºè¯­è¨€,ä½†éœ€è¦é…ç½®,ä¸”æ— æ³•è‡ªå®šä¹‰æäº¤ç±»å‹(`scope`)\n\n**linpengteng**:`cz-message-helper` ä¿®æ”¹ç‰ˆ,ç‰¹ç‚¹æ˜¯å¯ä»¥è‡ªå®šä¹‰ `emoji` è¡¨æƒ…,å¯ä»¥è‡ªå®šä¹‰æç¤ºè¯­è¨€,å¯ä»¥è‡ªå®šä¹‰æäº¤ç±»å‹(`scope`),ä½†éœ€è¦é…ç½®\n:::\n\n### ä½¿ç”¨å®˜æ–¹æ¨¡æ¿`cz-conventional-changelog`\n\n### å®‰è£…ä¾èµ–\n\n```bash\npnpm add -D commitizen cz-conventional-changelog\n```\n\næ·»åŠ é…ç½®æ–‡ä»¶çš„æ–¹å¼ä¸ºä¿©ç§ï¼š\n\n#### package.json é…ç½®\n\n```json\n{\n\t\"scripts\": {},\n\t\"config\": {\n\t\t\"commitizen\": {\n\t\t\t\"path\": \"./node_modules/cz-conventional-changelog\"\n\t\t}\n\t}\n}\n```\n\n#### .czrc\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º`.czrc`æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n\n```js\n{\n  \"path\": \"cz-conventional-changelog\"\n}\n```\n\næ¥ç€åœ¨`package.json`ä¸­æ·»åŠ å‘½ä»¤â€\n\n```json\n{\n\t\"scripts\": {\n\t\t\"commit\": \"git-cz\"\n\t}\n}\n```\n\nå½“ä½ æ‰§è¡Œ`pnpm commit`æ§åˆ¶å°ä¼šè¾“å‡ºå¦‚ä¸‹ï¼š\n\n```bash\nebugger attached.\ncz-cli@4.3.1, cz-conventional-changelog@3.3.0\n\n? Select the type of change that you're committing: (Use arrow keys)\nâ¯ feat:     A new feature\n  fix:      A bug fix\n  docs:     Documentation only changes\n  style:    Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)\n  refactor: A code change that neither fixes a bug nor adds a feature\n  perf:     A code change that improves performance\n  test:     Adding missing tests or correcting existing tests\n```\n\nè¿™ä¸ªæ—¶å€™å°±å®Œæˆäº†ã€‚å¦‚æœè‹±æ–‡ä¸å¥½çš„å¯ä»¥ç»§ç»­çœ‹ä¸‹ä¸€ä¸ªæ–¹æ¡ˆï¼š\n\n### ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿`cz-customizable`\n\n#### å®‰è£…ä¾èµ–\n\n```bash\npnpm add -D commitizen cz-customizable\n```\n\n#### .czrc\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º`.czrc`æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n\n```js\n{\n  \"path\": \"cz-customizable\"\n}\n```\n\næ¥ç€åœ¨`package.json`ä¸­æ·»åŠ å‘½ä»¤â€\n\n```json\n{\n\t\"scripts\": {\n\t\t\"commit\": \"git-cz\"\n\t}\n}\n```\n\n#### è‡ªå®šä¹‰æ¨¡æ¿ `.cz-config.js`\n\néœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º`.cz-config.js`çš„æ–‡ä»¶,æ–‡ä»¶å†…å®¹å¦‚ä¸‹:\n\n```js\n// .cz-config.js\nmodule.exports = {\n\ttypes: [\n\t\t{\n\t\t\tvalue: \":sparkles: feat\",\n\t\t\tname: \"âœ¨ feat:         æ–°åŠŸèƒ½\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":bug: fix\",\n\t\t\tname: \"ğŸ› fix:          ä¿®å¤\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":memo: docs\",\n\t\t\tname: \"ğŸ“ docs:         æ–‡æ¡£å˜æ›´\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":lipstick: style\",\n\t\t\tname: \"ğŸ’„ style:        ä»£ç æ ¼å¼ (ä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨)\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":recycle: refactor\",\n\t\t\tname: \"â™»ï¸  refactor:     é‡æ„ (æ—¢ä¸å¢åŠ  feature, ä¹Ÿä¸ä¿®å¤ bug)\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":zap: perf\",\n\t\t\tname: \"âš¡ï¸ perf:         æ€§èƒ½ä¼˜åŒ–\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":white_check_mark: test\",\n\t\t\tname: \"âœ… test:         å¢åŠ æµ‹è¯•\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":wrench: chore\",\n\t\t\tname: \"ğŸ”§ chore:        æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":rewind: revert\",\n\t\t\tname: \"âª revert:       å›é€€\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":package: build\",\n\t\t\tname: \"ğŸ“¦ build:        æ‰“åŒ…\",\n\t\t},\n\t],\n\tmessages: {\n\t\ttype: \"è¯·é€‰æ‹©æäº¤çš„ç±»å‹: \",\n\t\tscope: \"è¯·é€‰æ‹©æ­¤æ›´æ”¹çš„èŒƒå›´(å¯é€‰): \",\n\t\tcustomScope: \"è¯·è¾“å…¥ä¿®æ”¹çš„èŒƒå›´(å¯é€‰): \",\n\t\tsubject: \"è¯·ç®€è¦æè¿°æäº¤(å¿…å¡«): \",\n\t\tbody: \"è¯·è¾“å…¥è¯¦ç»†æè¿°(å¯é€‰): \",\n\t\tbreaking: \"åˆ—ä¸¾ç ´åæ€§ä¿®æ”¹(å¯é€‰): \",\n\t\tfooter: \"è¯·è¾“å…¥è¦å…³é—­çš„ issue(å¯é€‰): \",\n\t\tconfirmCommit: \"ç¡®è®¤è¦ä½¿ç”¨ä»¥ä¸Šä¿¡æ¯æäº¤ï¼Ÿ(y/n): \",\n\t},\n\t// ä½ å¯ä»¥åœ¨è¿™é‡Œé¢„å®šä¹‰ Scope\n\tscopes: [],\n\tallowCustomScopes: true, // å…è®¸è¾“å…¥è‡ªå®šä¹‰ Scope ä¿¡æ¯\n\tallowBreakingChanges: [\":sparkles: feat\", \":bug: fix\"], // å…è®¸æ·»åŠ  Breaking Change çš„æ“ä½œ\n\tsubjectLimit: 100, // body ä¸»é¢˜å­—æ•°é™åˆ¶\n};\n```\n\næŠŠä»£ç æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºå,ä½¿ç”¨ Commitizen ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ä»£ç æäº¤ä¿¡æ¯:\n\n```bash\nAll lines except first will be wrapped after 100 characters.\n? è¯·é€‰æ‹©æäº¤çš„ç±»å‹ï¼š (Use arrow keys)\nâ¯ âœ¨ feat:        æ–°åŠŸèƒ½\n  ğŸ› fix:         ä¿®å¤\n  ğŸ“ docs:        æ–‡æ¡£å˜æ›´\n  ğŸ’„ style:       ä»£ç æ ¼å¼ (ä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨)\n  â™»ï¸  refactor:    é‡æ„ (æ—¢ä¸å¢åŠ  feature, ä¹Ÿä¸ä¿®å¤ bug)\n  âš¡ï¸ perf:         æ€§èƒ½ä¼˜åŒ–\n  âœ… test:        å¢åŠ æµ‹è¯•\n(Move up and down to reveal more choices)\n```\n\nè¿™æ ·çœ‹èµ·æ¥æ˜¯ä¸æ˜¯èˆ’æœå¤šäº†? ä½†ä»¤äººé—æ†¾çš„æ˜¯,`cz-customizable` æ— æ³•è‡ªå®šä¹‰æäº¤ç±»å‹(`scope`),æ‰€ä»¥æˆ‘æ‰¾åˆ°äº† `linpengteng` çš„ [`cz-message-helper`](https://github.com/linpengteng/cz-message-helper) è¿›è¡Œäº†ä¿®æ”¹,ä½¿å…¶å¯ä»¥è‡ªå®šä¹‰æäº¤ç±»å‹(`scope`)\n\n### cz-message-helper\n\n#### å®‰è£…\n\n```bash\npnpm add -D commitizen cz-message-helper\n```\n\n#### .czrc\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º`.czrc`æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n\n```js\n{\n  \"path\": \"cz-message-helper\"\n}\n```\n\nä¸è¿‡æˆ‘ä¹ æƒ¯å°†é…ç½®æ–‡ä»¶æ”¾ç½®`package.json`\n\n```json\n{\n\t\"config\": {\n\t\t\"commitizen\": {\n\t\t\t\"path\": \"./node_modules/cz-message-helper\"\n\t\t}\n\t}\n}\n```\n\næ¥ç€åœ¨`package.json`ä¸­æ·»åŠ å‘½ä»¤â€\n\n```json\n{\n\t\"scripts\": {\n\t\t\"commit\": \"git-cz\"\n\t}\n}\n```\n\n#### è‡ªå®šä¹‰æ¨¡æ¿ `.cz-message.js`\n\néœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º`.cz-message.js`çš„æ–‡ä»¶,æ–‡ä»¶å†…å®¹å¦‚ä¸‹:\n\n```js\nmodule.exports = {\n\tquestions: [\n\t\t{\n\t\t\ttype: \"list\",\n\t\t\tname: \"type\",\n\t\t\tmessage: \"è¯·é€‰æ‹©è¦æäº¤çš„æ›´æ”¹ç±»å‹:\",\n\t\t\tchoices: [\n\t\t\t\t{ value: \"fix\", name: \"ğŸ› fix: -------- ä¿®å¤BUG\" },\n\t\t\t\t{ value: \"feat\", name: \"âœ¨ feat: ------- æ–°åŠŸèƒ½\" },\n\t\t\t\t{ value: \"docs\", name: \"ğŸ“ docs: ------- ä»…æ–‡æ¡£æ›´æ”¹\" },\n\t\t\t\t{\n\t\t\t\t\tvalue: \"style\",\n\t\t\t\t\tname: \"ğŸ’„ style: ------ ä¸å½±å“ä»£ç è¿è¡Œçš„æ›´æ”¹(è°ƒæ•´ç©ºç™½ã€æ ¼å¼ã€ç¼ºå°‘åˆ†å·ç­‰)\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: \"chore\",\n\t\t\t\t\tname: \"ğŸ—ƒï¸  chore: ------ é src å’Œ test çš„ä¿®æ”¹\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: \"refactor\",\n\t\t\t\t\tname: \"â™»ï¸  refactor: --- é‡æ„æ¶æ„æˆ–ä»£ç \",\n\t\t\t\t},\n\t\t\t\t{ value: \"perf\", name: \"âš¡ï¸ perf:  ------ æ”¹è¿›æ€§èƒ½çš„ä»£ç æ›´æ”¹\" },\n\t\t\t\t{ value: \"test\", name: \"ğŸ§ª test:  ------ æ·»åŠ æµ‹è¯•å•å…ƒ\" },\n\t\t\t\t{\n\t\t\t\t\tvalue: \"revert\",\n\t\t\t\t\tname: \"âª revert: ----- å›é€€è‡³æŸä¸€ä¸ªç‰ˆæœ¬\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: \"merge\",\n\t\t\t\t\tname: \"ğŸšš merge: ------ åˆå¹¶ä¸€ä¸ªåˆ†æ”¯, è§£å†³å†²çªåˆ†æ”¯\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: \"ci\",\n\t\t\t\t\tname: \"ğŸ‘· ci: --------- è‡ªåŠ¨åŒ–æµç¨‹é…ç½®æˆ–è„šæœ¬ä¿®æ”¹\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: \"build\",\n\t\t\t\t\tname: \"ğŸ”§ build: ------ ä¿®æ”¹æ„å»ºæµç¨‹æˆ–å¤–éƒ¨ä¾èµ–\",\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\n\t\t{\n\t\t\ttype: \"list\",\n\t\t\tname: \"scope\",\n\t\t\tmessage: \"è¯·é€‰æ‹©æ›´æ”¹çš„èŒƒå›´:\",\n\t\t\tchoices() {\n\t\t\t\treturn [\n\t\t\t\t\t{ name: \"æ— \", value: false },\n\t\t\t\t\t{ name: \"è‡ªå®šä¹‰\", value: \"custom\" },\n\t\t\t\t];\n\t\t\t},\n\t\t\tfilter(value, answers) {\n\t\t\t\treturn value || \"\";\n\t\t\t},\n\t\t},\n\n\t\t{\n\t\t\ttype: \"input\",\n\t\t\tname: \"customScope\",\n\t\t\tmessage: \"è¯·è¾“å…¥è‡ªå®šä¹‰çš„å˜æ›´çš„èŒƒå›´(å¯é€‰):\",\n\t\t\twhen(answers) {\n\t\t\t\treturn answers.scope === \"custom\";\n\t\t\t},\n\t\t\tfilter(value, answers) {\n\t\t\t\tanswers.scope = value || \"\";\n\t\t\t\treturn value || \"\";\n\t\t\t},\n\t\t},\n\n\t\t{\n\t\t\ttype: \"input\",\n\t\t\tname: \"subject\",\n\t\t\tmessage: \"è¯·ç®€æ˜æ‰¼è¦çš„æ‘˜è¦æè¿°(å»ºè®®å­—æ•°åœ¨50å­—å†…):\",\n\t\t\tvalidate(value) {\n\t\t\t\treturn value.length > 50 ? `[subject] Exceed limit: 50` : true;\n\t\t\t},\n\t\t},\n\n\t\t{\n\t\t\ttype: \"input\",\n\t\t\tname: \"body\",\n\t\t\tmessage: \"è¯·æä¾›æ›´è¯¦ç»†çš„å˜æ›´è¯´æ˜(å¯é€‰), ä½¿ç”¨â€œ\\\\nâ€æ¢è¡Œ:\",\n\t\t},\n\n\t\t{\n\t\t\ttype: \"input\",\n\t\t\tname: \"breaking\",\n\t\t\tmessage: \"è¯·åˆ—å‡ºä»»ä½•é‡å¤§å˜åŒ–(å¯é€‰):\",\n\t\t\twhen(answers) {\n\t\t\t\treturn /^(:[a-z0-9A-Z_-]+(:)(\\s*))?(feat|fix)(\\2\\s*)?$/.test(\n\t\t\t\t\tanswers.type.toLowerCase()\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\n\t\t{\n\t\t\ttype: \"input\",\n\t\t\tname: \"footer\",\n\t\t\tmessage: \"è¯·åˆ—å‡ºæ­¤æ›´æ”¹å…³é—­çš„ä»»ä½•é—®é¢˜(å¯é€‰), ä¾‹å¦‚: #31,#34:\",\n\t\t},\n\t],\n\n\ttemplater: (answers, wrap) => {\n\t\tlet template = \"\";\n\n\t\tconsole.log(answers);\n\n\t\ttemplate += answers.type ? `${answers.type}` : ``;\n\t\ttemplate += answers.scope ? `(${answers.scope})` : ``;\n\t\ttemplate += answers.subject ? `: ${answers.subject}` : ``;\n\t\ttemplate += answers.body ? `\\n\\n${wrap(answers.body)}` : ``;\n\t\ttemplate += answers.breaking\n\t\t\t? `\\n\\nBREAKING CHANGE: ${wrap(answers.breaking)}`\n\t\t\t: ``;\n\t\ttemplate += answers.footer\n\t\t\t? `\\n\\nISSUES CLOSED: ${wrap(answers.footer)}`\n\t\t\t: ``;\n\n\t\treturn template;\n\t},\n\n\tlanguage: \"cn\",\n};\n```\n\n```json\n{\n\t\"config\": {\n\t\t\"commitizen\": {\n\t\t\t\"path\": \"./node_modules/cz-message-helper\"\n\t\t},\n\t\t\"cz-message-helper\": {\n\t\t\t\"config\": \"./.cz-message.js\"\n\t\t}\n\t}\n}\n```\n\næŠŠä»£ç æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºå,ä½¿ç”¨ `Commitizen` ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ä»£ç æäº¤ä¿¡æ¯:\n\n```bash\nç‰ˆæœ¬æäº¤è§„èŒƒ on î‚  master [â‡¡Â»+] is ğŸ“¦ 1.0.0 via â¬¢ v18.16.0\nâœ pm commit\n\ncomm@1.0.0 commit /Users/bddxg/Documents/coding/tmp/ç‰ˆæœ¬æäº¤è§„èŒƒ\ngit-cz\n\ncz-cli@4.3.0, cz-message-helper@1.2.2\n\n? è¯·é€‰æ‹©è¦æäº¤çš„æ›´æ”¹ç±»å‹:\n  ğŸ§ª test:  ------ æ·»åŠ æµ‹è¯•å•å…ƒ\n  âª revert: ----- å›é€€è‡³æŸä¸€ä¸ªç‰ˆæœ¬\n  ğŸšš merge: ------ åˆå¹¶ä¸€ä¸ªåˆ†æ”¯, è§£å†³å†²çªåˆ†æ”¯\nâ¯ ğŸ› fix: -------- ä¿®å¤BUG\n  âœ¨ feat: ------- æ–°åŠŸèƒ½\n  ğŸ“ docs: ------- ä»…æ–‡æ¡£æ›´æ”¹\n  ğŸ’„ style: ------ ä¸å½±å“ä»£ç è¿è¡Œçš„æ›´æ”¹(è°ƒæ•´ç©ºç™½ã€æ ¼å¼ã€ç¼ºå°‘åˆ†å·ç­‰)\n(Move up and down to reveal more choices)\n\n? è¯·é€‰æ‹©è¦æäº¤çš„æ›´æ”¹ç±»å‹: âœ¨ feat: ------- æ–°åŠŸèƒ½\n? è¯·é€‰æ‹©æ›´æ”¹çš„èŒƒå›´: è‡ªå®šä¹‰\n? è¯·è¾“å…¥è‡ªå®šä¹‰çš„å˜æ›´çš„èŒƒå›´(å¯é€‰): main.js\n? è¯·ç®€æ˜æ‰¼è¦çš„æ‘˜è¦æè¿°(å»ºè®®å­—æ•°åœ¨50å­—å†…): æ–°å»ºäº†main.js\n? è¯·æä¾›æ›´è¯¦ç»†çš„å˜æ›´è¯´æ˜(å¯é€‰), ä½¿ç”¨â€œ\\nâ€æ¢è¡Œ: åˆå§‹åŒ–é¡¹ç›®\n? è¯·åˆ—å‡ºæ­¤æ›´æ”¹å…³é—­çš„ä»»ä½•é—®é¢˜(å¯é€‰), ä¾‹å¦‚: #31,#34:\n\n###--------------------------------------------------------###\n:sparkles: feat: (main.js): åˆå§‹åŒ–é¡¹ç›®\n\næ–°å»ºäº†main.jsæ–‡ä»¶\n###--------------------------------------------------------###\n\n? æ‚¨ç¡®å®šè¦ç»§ç»­æ‰§è¡Œä¸Šé¢çš„æäº¤å—ï¼Ÿ (Yneh)\n```\n\n## å‚è€ƒèµ„æ–™\n\n- [Commitizen å¿«é€Ÿä¸Šæ‰‹](https://bddxg.top/article/expansion/%E5%89%8D%E7%AB%AF%E6%96%B9%E5%90%91/Commitizen.html#_1-commitizen-cz-conventional-changelog)\n","source":"_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/commitizen.md","raw":"---\ntitle: é¡¹ç›®å·¥ç¨‹åŒ–-Commitizen\nabbrlink: 3a339cc0\ndate: 2024-08-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å·¥ç¨‹åŒ–\n---\n\n# Commitizen?\n\nä¸€ä¸ªå·¥å…·,ç”¨äºè§„èŒƒä»£ç æäº¤ä¿¡æ¯çš„å·¥å…·ã€‚`cz-conventional-changelog` æ˜¯ä¸€ä¸ª `Commitizen` çš„é€‚é…å™¨,ç”¨äºé€‚é… `conventional-changelog` çš„æäº¤è§„èŒƒã€‚\n\nä¸ºä»€ä¹ˆè¦ä»‹ç»è¿™ä¹ˆä¸€ä¸ªå·¥å…·ï¼š\nå½“ä½ åœ¨æäº¤`commit`çš„æ—¶å€™ï¼Œè‚¯å®šä¼šæ‰‹åŠ¨è¾“å…¥ä¸€äº›`type`:\n\n`fix(axios): ä¿®å¤axiosè¯·æ±‚å¤±è´¥çš„é—®é¢˜ #1`\n\nä½†æ˜¯ç°åœ¨æœ‰è¿™ä¹ˆä¸€ä¸ªå·¥å…·ï¼Œåªéœ€è¦æ ¹æ®è‡ªå·±çš„æƒ…å†µé€‰æ‹©å¯¹åº”çš„æ¡ä»¶å°±å¥½äº†ï¼›\n\n## å¦‚ä½•ä½¿ç”¨ï¼Ÿ\n\nè¿™é‡Œå¯ä»¥å®‰è£…åˆ°å…¨å±€,ä¹Ÿå¯ä»¥å®‰è£…åˆ°é¡¹ç›®ä¸­,è¿™é‡Œæ¨èå®‰è£…åˆ°é¡¹ç›®ä¸­,å› ä¸ºè¿™æ ·å¯ä»¥é¿å…ä¸åŒé¡¹ç›®ä½¿ç”¨ä¸åŒçš„ `Commitizen` ç‰ˆæœ¬,å¯¼è‡´æäº¤ä¿¡æ¯ä¸ä¸€è‡´çš„é—®é¢˜ã€‚\n\n::: tip\n**å®˜æ–¹æ¨¡æ¿**:`cz-conventional-changelog`, ç‰¹ç‚¹æ˜¯å…é…ç½®,å¼€ç®±å³ç”¨,ä½†æç¤ºå…¨éƒ¨ä¸ºè‹±æ–‡,ä¸å¤ªå‹å¥½\n\n**è‡ªå®šä¹‰æ¨¡æ¿**:`cz-customizable`, ç‰¹ç‚¹æ˜¯å¯ä»¥è‡ªå®šä¹‰æ·»åŠ  `emoji` è¡¨æƒ…,å¯ä»¥è‡ªå®šä¹‰æç¤ºè¯­è¨€,ä½†éœ€è¦é…ç½®,ä¸”æ— æ³•è‡ªå®šä¹‰æäº¤ç±»å‹(`scope`)\n\n**linpengteng**:`cz-message-helper` ä¿®æ”¹ç‰ˆ,ç‰¹ç‚¹æ˜¯å¯ä»¥è‡ªå®šä¹‰ `emoji` è¡¨æƒ…,å¯ä»¥è‡ªå®šä¹‰æç¤ºè¯­è¨€,å¯ä»¥è‡ªå®šä¹‰æäº¤ç±»å‹(`scope`),ä½†éœ€è¦é…ç½®\n:::\n\n### ä½¿ç”¨å®˜æ–¹æ¨¡æ¿`cz-conventional-changelog`\n\n### å®‰è£…ä¾èµ–\n\n```bash\npnpm add -D commitizen cz-conventional-changelog\n```\n\næ·»åŠ é…ç½®æ–‡ä»¶çš„æ–¹å¼ä¸ºä¿©ç§ï¼š\n\n#### package.json é…ç½®\n\n```json\n{\n\t\"scripts\": {},\n\t\"config\": {\n\t\t\"commitizen\": {\n\t\t\t\"path\": \"./node_modules/cz-conventional-changelog\"\n\t\t}\n\t}\n}\n```\n\n#### .czrc\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º`.czrc`æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n\n```js\n{\n  \"path\": \"cz-conventional-changelog\"\n}\n```\n\næ¥ç€åœ¨`package.json`ä¸­æ·»åŠ å‘½ä»¤â€\n\n```json\n{\n\t\"scripts\": {\n\t\t\"commit\": \"git-cz\"\n\t}\n}\n```\n\nå½“ä½ æ‰§è¡Œ`pnpm commit`æ§åˆ¶å°ä¼šè¾“å‡ºå¦‚ä¸‹ï¼š\n\n```bash\nebugger attached.\ncz-cli@4.3.1, cz-conventional-changelog@3.3.0\n\n? Select the type of change that you're committing: (Use arrow keys)\nâ¯ feat:     A new feature\n  fix:      A bug fix\n  docs:     Documentation only changes\n  style:    Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)\n  refactor: A code change that neither fixes a bug nor adds a feature\n  perf:     A code change that improves performance\n  test:     Adding missing tests or correcting existing tests\n```\n\nè¿™ä¸ªæ—¶å€™å°±å®Œæˆäº†ã€‚å¦‚æœè‹±æ–‡ä¸å¥½çš„å¯ä»¥ç»§ç»­çœ‹ä¸‹ä¸€ä¸ªæ–¹æ¡ˆï¼š\n\n### ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿`cz-customizable`\n\n#### å®‰è£…ä¾èµ–\n\n```bash\npnpm add -D commitizen cz-customizable\n```\n\n#### .czrc\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º`.czrc`æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n\n```js\n{\n  \"path\": \"cz-customizable\"\n}\n```\n\næ¥ç€åœ¨`package.json`ä¸­æ·»åŠ å‘½ä»¤â€\n\n```json\n{\n\t\"scripts\": {\n\t\t\"commit\": \"git-cz\"\n\t}\n}\n```\n\n#### è‡ªå®šä¹‰æ¨¡æ¿ `.cz-config.js`\n\néœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º`.cz-config.js`çš„æ–‡ä»¶,æ–‡ä»¶å†…å®¹å¦‚ä¸‹:\n\n```js\n// .cz-config.js\nmodule.exports = {\n\ttypes: [\n\t\t{\n\t\t\tvalue: \":sparkles: feat\",\n\t\t\tname: \"âœ¨ feat:         æ–°åŠŸèƒ½\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":bug: fix\",\n\t\t\tname: \"ğŸ› fix:          ä¿®å¤\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":memo: docs\",\n\t\t\tname: \"ğŸ“ docs:         æ–‡æ¡£å˜æ›´\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":lipstick: style\",\n\t\t\tname: \"ğŸ’„ style:        ä»£ç æ ¼å¼ (ä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨)\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":recycle: refactor\",\n\t\t\tname: \"â™»ï¸  refactor:     é‡æ„ (æ—¢ä¸å¢åŠ  feature, ä¹Ÿä¸ä¿®å¤ bug)\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":zap: perf\",\n\t\t\tname: \"âš¡ï¸ perf:         æ€§èƒ½ä¼˜åŒ–\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":white_check_mark: test\",\n\t\t\tname: \"âœ… test:         å¢åŠ æµ‹è¯•\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":wrench: chore\",\n\t\t\tname: \"ğŸ”§ chore:        æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":rewind: revert\",\n\t\t\tname: \"âª revert:       å›é€€\",\n\t\t},\n\t\t{\n\t\t\tvalue: \":package: build\",\n\t\t\tname: \"ğŸ“¦ build:        æ‰“åŒ…\",\n\t\t},\n\t],\n\tmessages: {\n\t\ttype: \"è¯·é€‰æ‹©æäº¤çš„ç±»å‹: \",\n\t\tscope: \"è¯·é€‰æ‹©æ­¤æ›´æ”¹çš„èŒƒå›´(å¯é€‰): \",\n\t\tcustomScope: \"è¯·è¾“å…¥ä¿®æ”¹çš„èŒƒå›´(å¯é€‰): \",\n\t\tsubject: \"è¯·ç®€è¦æè¿°æäº¤(å¿…å¡«): \",\n\t\tbody: \"è¯·è¾“å…¥è¯¦ç»†æè¿°(å¯é€‰): \",\n\t\tbreaking: \"åˆ—ä¸¾ç ´åæ€§ä¿®æ”¹(å¯é€‰): \",\n\t\tfooter: \"è¯·è¾“å…¥è¦å…³é—­çš„ issue(å¯é€‰): \",\n\t\tconfirmCommit: \"ç¡®è®¤è¦ä½¿ç”¨ä»¥ä¸Šä¿¡æ¯æäº¤ï¼Ÿ(y/n): \",\n\t},\n\t// ä½ å¯ä»¥åœ¨è¿™é‡Œé¢„å®šä¹‰ Scope\n\tscopes: [],\n\tallowCustomScopes: true, // å…è®¸è¾“å…¥è‡ªå®šä¹‰ Scope ä¿¡æ¯\n\tallowBreakingChanges: [\":sparkles: feat\", \":bug: fix\"], // å…è®¸æ·»åŠ  Breaking Change çš„æ“ä½œ\n\tsubjectLimit: 100, // body ä¸»é¢˜å­—æ•°é™åˆ¶\n};\n```\n\næŠŠä»£ç æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºå,ä½¿ç”¨ Commitizen ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ä»£ç æäº¤ä¿¡æ¯:\n\n```bash\nAll lines except first will be wrapped after 100 characters.\n? è¯·é€‰æ‹©æäº¤çš„ç±»å‹ï¼š (Use arrow keys)\nâ¯ âœ¨ feat:        æ–°åŠŸèƒ½\n  ğŸ› fix:         ä¿®å¤\n  ğŸ“ docs:        æ–‡æ¡£å˜æ›´\n  ğŸ’„ style:       ä»£ç æ ¼å¼ (ä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨)\n  â™»ï¸  refactor:    é‡æ„ (æ—¢ä¸å¢åŠ  feature, ä¹Ÿä¸ä¿®å¤ bug)\n  âš¡ï¸ perf:         æ€§èƒ½ä¼˜åŒ–\n  âœ… test:        å¢åŠ æµ‹è¯•\n(Move up and down to reveal more choices)\n```\n\nè¿™æ ·çœ‹èµ·æ¥æ˜¯ä¸æ˜¯èˆ’æœå¤šäº†? ä½†ä»¤äººé—æ†¾çš„æ˜¯,`cz-customizable` æ— æ³•è‡ªå®šä¹‰æäº¤ç±»å‹(`scope`),æ‰€ä»¥æˆ‘æ‰¾åˆ°äº† `linpengteng` çš„ [`cz-message-helper`](https://github.com/linpengteng/cz-message-helper) è¿›è¡Œäº†ä¿®æ”¹,ä½¿å…¶å¯ä»¥è‡ªå®šä¹‰æäº¤ç±»å‹(`scope`)\n\n### cz-message-helper\n\n#### å®‰è£…\n\n```bash\npnpm add -D commitizen cz-message-helper\n```\n\n#### .czrc\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º`.czrc`æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n\n```js\n{\n  \"path\": \"cz-message-helper\"\n}\n```\n\nä¸è¿‡æˆ‘ä¹ æƒ¯å°†é…ç½®æ–‡ä»¶æ”¾ç½®`package.json`\n\n```json\n{\n\t\"config\": {\n\t\t\"commitizen\": {\n\t\t\t\"path\": \"./node_modules/cz-message-helper\"\n\t\t}\n\t}\n}\n```\n\næ¥ç€åœ¨`package.json`ä¸­æ·»åŠ å‘½ä»¤â€\n\n```json\n{\n\t\"scripts\": {\n\t\t\"commit\": \"git-cz\"\n\t}\n}\n```\n\n#### è‡ªå®šä¹‰æ¨¡æ¿ `.cz-message.js`\n\néœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º`.cz-message.js`çš„æ–‡ä»¶,æ–‡ä»¶å†…å®¹å¦‚ä¸‹:\n\n```js\nmodule.exports = {\n\tquestions: [\n\t\t{\n\t\t\ttype: \"list\",\n\t\t\tname: \"type\",\n\t\t\tmessage: \"è¯·é€‰æ‹©è¦æäº¤çš„æ›´æ”¹ç±»å‹:\",\n\t\t\tchoices: [\n\t\t\t\t{ value: \"fix\", name: \"ğŸ› fix: -------- ä¿®å¤BUG\" },\n\t\t\t\t{ value: \"feat\", name: \"âœ¨ feat: ------- æ–°åŠŸèƒ½\" },\n\t\t\t\t{ value: \"docs\", name: \"ğŸ“ docs: ------- ä»…æ–‡æ¡£æ›´æ”¹\" },\n\t\t\t\t{\n\t\t\t\t\tvalue: \"style\",\n\t\t\t\t\tname: \"ğŸ’„ style: ------ ä¸å½±å“ä»£ç è¿è¡Œçš„æ›´æ”¹(è°ƒæ•´ç©ºç™½ã€æ ¼å¼ã€ç¼ºå°‘åˆ†å·ç­‰)\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: \"chore\",\n\t\t\t\t\tname: \"ğŸ—ƒï¸  chore: ------ é src å’Œ test çš„ä¿®æ”¹\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: \"refactor\",\n\t\t\t\t\tname: \"â™»ï¸  refactor: --- é‡æ„æ¶æ„æˆ–ä»£ç \",\n\t\t\t\t},\n\t\t\t\t{ value: \"perf\", name: \"âš¡ï¸ perf:  ------ æ”¹è¿›æ€§èƒ½çš„ä»£ç æ›´æ”¹\" },\n\t\t\t\t{ value: \"test\", name: \"ğŸ§ª test:  ------ æ·»åŠ æµ‹è¯•å•å…ƒ\" },\n\t\t\t\t{\n\t\t\t\t\tvalue: \"revert\",\n\t\t\t\t\tname: \"âª revert: ----- å›é€€è‡³æŸä¸€ä¸ªç‰ˆæœ¬\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: \"merge\",\n\t\t\t\t\tname: \"ğŸšš merge: ------ åˆå¹¶ä¸€ä¸ªåˆ†æ”¯, è§£å†³å†²çªåˆ†æ”¯\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: \"ci\",\n\t\t\t\t\tname: \"ğŸ‘· ci: --------- è‡ªåŠ¨åŒ–æµç¨‹é…ç½®æˆ–è„šæœ¬ä¿®æ”¹\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: \"build\",\n\t\t\t\t\tname: \"ğŸ”§ build: ------ ä¿®æ”¹æ„å»ºæµç¨‹æˆ–å¤–éƒ¨ä¾èµ–\",\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\n\t\t{\n\t\t\ttype: \"list\",\n\t\t\tname: \"scope\",\n\t\t\tmessage: \"è¯·é€‰æ‹©æ›´æ”¹çš„èŒƒå›´:\",\n\t\t\tchoices() {\n\t\t\t\treturn [\n\t\t\t\t\t{ name: \"æ— \", value: false },\n\t\t\t\t\t{ name: \"è‡ªå®šä¹‰\", value: \"custom\" },\n\t\t\t\t];\n\t\t\t},\n\t\t\tfilter(value, answers) {\n\t\t\t\treturn value || \"\";\n\t\t\t},\n\t\t},\n\n\t\t{\n\t\t\ttype: \"input\",\n\t\t\tname: \"customScope\",\n\t\t\tmessage: \"è¯·è¾“å…¥è‡ªå®šä¹‰çš„å˜æ›´çš„èŒƒå›´(å¯é€‰):\",\n\t\t\twhen(answers) {\n\t\t\t\treturn answers.scope === \"custom\";\n\t\t\t},\n\t\t\tfilter(value, answers) {\n\t\t\t\tanswers.scope = value || \"\";\n\t\t\t\treturn value || \"\";\n\t\t\t},\n\t\t},\n\n\t\t{\n\t\t\ttype: \"input\",\n\t\t\tname: \"subject\",\n\t\t\tmessage: \"è¯·ç®€æ˜æ‰¼è¦çš„æ‘˜è¦æè¿°(å»ºè®®å­—æ•°åœ¨50å­—å†…):\",\n\t\t\tvalidate(value) {\n\t\t\t\treturn value.length > 50 ? `[subject] Exceed limit: 50` : true;\n\t\t\t},\n\t\t},\n\n\t\t{\n\t\t\ttype: \"input\",\n\t\t\tname: \"body\",\n\t\t\tmessage: \"è¯·æä¾›æ›´è¯¦ç»†çš„å˜æ›´è¯´æ˜(å¯é€‰), ä½¿ç”¨â€œ\\\\nâ€æ¢è¡Œ:\",\n\t\t},\n\n\t\t{\n\t\t\ttype: \"input\",\n\t\t\tname: \"breaking\",\n\t\t\tmessage: \"è¯·åˆ—å‡ºä»»ä½•é‡å¤§å˜åŒ–(å¯é€‰):\",\n\t\t\twhen(answers) {\n\t\t\t\treturn /^(:[a-z0-9A-Z_-]+(:)(\\s*))?(feat|fix)(\\2\\s*)?$/.test(\n\t\t\t\t\tanswers.type.toLowerCase()\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\n\t\t{\n\t\t\ttype: \"input\",\n\t\t\tname: \"footer\",\n\t\t\tmessage: \"è¯·åˆ—å‡ºæ­¤æ›´æ”¹å…³é—­çš„ä»»ä½•é—®é¢˜(å¯é€‰), ä¾‹å¦‚: #31,#34:\",\n\t\t},\n\t],\n\n\ttemplater: (answers, wrap) => {\n\t\tlet template = \"\";\n\n\t\tconsole.log(answers);\n\n\t\ttemplate += answers.type ? `${answers.type}` : ``;\n\t\ttemplate += answers.scope ? `(${answers.scope})` : ``;\n\t\ttemplate += answers.subject ? `: ${answers.subject}` : ``;\n\t\ttemplate += answers.body ? `\\n\\n${wrap(answers.body)}` : ``;\n\t\ttemplate += answers.breaking\n\t\t\t? `\\n\\nBREAKING CHANGE: ${wrap(answers.breaking)}`\n\t\t\t: ``;\n\t\ttemplate += answers.footer\n\t\t\t? `\\n\\nISSUES CLOSED: ${wrap(answers.footer)}`\n\t\t\t: ``;\n\n\t\treturn template;\n\t},\n\n\tlanguage: \"cn\",\n};\n```\n\n```json\n{\n\t\"config\": {\n\t\t\"commitizen\": {\n\t\t\t\"path\": \"./node_modules/cz-message-helper\"\n\t\t},\n\t\t\"cz-message-helper\": {\n\t\t\t\"config\": \"./.cz-message.js\"\n\t\t}\n\t}\n}\n```\n\næŠŠä»£ç æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºå,ä½¿ç”¨ `Commitizen` ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ä»£ç æäº¤ä¿¡æ¯:\n\n```bash\nç‰ˆæœ¬æäº¤è§„èŒƒ on î‚  master [â‡¡Â»+] is ğŸ“¦ 1.0.0 via â¬¢ v18.16.0\nâœ pm commit\n\ncomm@1.0.0 commit /Users/bddxg/Documents/coding/tmp/ç‰ˆæœ¬æäº¤è§„èŒƒ\ngit-cz\n\ncz-cli@4.3.0, cz-message-helper@1.2.2\n\n? è¯·é€‰æ‹©è¦æäº¤çš„æ›´æ”¹ç±»å‹:\n  ğŸ§ª test:  ------ æ·»åŠ æµ‹è¯•å•å…ƒ\n  âª revert: ----- å›é€€è‡³æŸä¸€ä¸ªç‰ˆæœ¬\n  ğŸšš merge: ------ åˆå¹¶ä¸€ä¸ªåˆ†æ”¯, è§£å†³å†²çªåˆ†æ”¯\nâ¯ ğŸ› fix: -------- ä¿®å¤BUG\n  âœ¨ feat: ------- æ–°åŠŸèƒ½\n  ğŸ“ docs: ------- ä»…æ–‡æ¡£æ›´æ”¹\n  ğŸ’„ style: ------ ä¸å½±å“ä»£ç è¿è¡Œçš„æ›´æ”¹(è°ƒæ•´ç©ºç™½ã€æ ¼å¼ã€ç¼ºå°‘åˆ†å·ç­‰)\n(Move up and down to reveal more choices)\n\n? è¯·é€‰æ‹©è¦æäº¤çš„æ›´æ”¹ç±»å‹: âœ¨ feat: ------- æ–°åŠŸèƒ½\n? è¯·é€‰æ‹©æ›´æ”¹çš„èŒƒå›´: è‡ªå®šä¹‰\n? è¯·è¾“å…¥è‡ªå®šä¹‰çš„å˜æ›´çš„èŒƒå›´(å¯é€‰): main.js\n? è¯·ç®€æ˜æ‰¼è¦çš„æ‘˜è¦æè¿°(å»ºè®®å­—æ•°åœ¨50å­—å†…): æ–°å»ºäº†main.js\n? è¯·æä¾›æ›´è¯¦ç»†çš„å˜æ›´è¯´æ˜(å¯é€‰), ä½¿ç”¨â€œ\\nâ€æ¢è¡Œ: åˆå§‹åŒ–é¡¹ç›®\n? è¯·åˆ—å‡ºæ­¤æ›´æ”¹å…³é—­çš„ä»»ä½•é—®é¢˜(å¯é€‰), ä¾‹å¦‚: #31,#34:\n\n###--------------------------------------------------------###\n:sparkles: feat: (main.js): åˆå§‹åŒ–é¡¹ç›®\n\næ–°å»ºäº†main.jsæ–‡ä»¶\n###--------------------------------------------------------###\n\n? æ‚¨ç¡®å®šè¦ç»§ç»­æ‰§è¡Œä¸Šé¢çš„æäº¤å—ï¼Ÿ (Yneh)\n```\n\n## å‚è€ƒèµ„æ–™\n\n- [Commitizen å¿«é€Ÿä¸Šæ‰‹](https://bddxg.top/article/expansion/%E5%89%8D%E7%AB%AF%E6%96%B9%E5%90%91/Commitizen.html#_1-commitizen-cz-conventional-changelog)\n","slug":"æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/commitizen","published":1,"updated":"2025-03-12T09:38:23.317Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j90079fg9m525z0ny1","content":"<h1 id=\"Commitizen\"><a href=\"#Commitizen\" class=\"headerlink\" title=\"Commitizen?\"></a>Commitizen?</h1><p>ä¸€ä¸ªå·¥å…·,ç”¨äºè§„èŒƒä»£ç æäº¤ä¿¡æ¯çš„å·¥å…·ã€‚<code>cz-conventional-changelog</code> æ˜¯ä¸€ä¸ª <code>Commitizen</code> çš„é€‚é…å™¨,ç”¨äºé€‚é… <code>conventional-changelog</code> çš„æäº¤è§„èŒƒã€‚</p>\n<p>ä¸ºä»€ä¹ˆè¦ä»‹ç»è¿™ä¹ˆä¸€ä¸ªå·¥å…·ï¼š<br>å½“ä½ åœ¨æäº¤<code>commit</code>çš„æ—¶å€™ï¼Œè‚¯å®šä¼šæ‰‹åŠ¨è¾“å…¥ä¸€äº›<code>type</code>:</p>\n<p><code>fix(axios): ä¿®å¤axiosè¯·æ±‚å¤±è´¥çš„é—®é¢˜ #1</code></p>\n<p>ä½†æ˜¯ç°åœ¨æœ‰è¿™ä¹ˆä¸€ä¸ªå·¥å…·ï¼Œåªéœ€è¦æ ¹æ®è‡ªå·±çš„æƒ…å†µé€‰æ‹©å¯¹åº”çš„æ¡ä»¶å°±å¥½äº†ï¼›</p>\n<h2 id=\"å¦‚ä½•ä½¿ç”¨ï¼Ÿ\"><a href=\"#å¦‚ä½•ä½¿ç”¨ï¼Ÿ\" class=\"headerlink\" title=\"å¦‚ä½•ä½¿ç”¨ï¼Ÿ\"></a>å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h2><p>è¿™é‡Œå¯ä»¥å®‰è£…åˆ°å…¨å±€,ä¹Ÿå¯ä»¥å®‰è£…åˆ°é¡¹ç›®ä¸­,è¿™é‡Œæ¨èå®‰è£…åˆ°é¡¹ç›®ä¸­,å› ä¸ºè¿™æ ·å¯ä»¥é¿å…ä¸åŒé¡¹ç›®ä½¿ç”¨ä¸åŒçš„ <code>Commitizen</code> ç‰ˆæœ¬,å¯¼è‡´æäº¤ä¿¡æ¯ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</p>\n<p>::: tip<br><strong>å®˜æ–¹æ¨¡æ¿</strong>:<code>cz-conventional-changelog</code>, ç‰¹ç‚¹æ˜¯å…é…ç½®,å¼€ç®±å³ç”¨,ä½†æç¤ºå…¨éƒ¨ä¸ºè‹±æ–‡,ä¸å¤ªå‹å¥½</p>\n<p><strong>è‡ªå®šä¹‰æ¨¡æ¿</strong>:<code>cz-customizable</code>, ç‰¹ç‚¹æ˜¯å¯ä»¥è‡ªå®šä¹‰æ·»åŠ  <code>emoji</code> è¡¨æƒ…,å¯ä»¥è‡ªå®šä¹‰æç¤ºè¯­è¨€,ä½†éœ€è¦é…ç½®,ä¸”æ— æ³•è‡ªå®šä¹‰æäº¤ç±»å‹(<code>scope</code>)</p>\n<p><strong>linpengteng</strong>:<code>cz-message-helper</code> ä¿®æ”¹ç‰ˆ,ç‰¹ç‚¹æ˜¯å¯ä»¥è‡ªå®šä¹‰ <code>emoji</code> è¡¨æƒ…,å¯ä»¥è‡ªå®šä¹‰æç¤ºè¯­è¨€,å¯ä»¥è‡ªå®šä¹‰æäº¤ç±»å‹(<code>scope</code>),ä½†éœ€è¦é…ç½®<br>:::</p>\n<h3 id=\"ä½¿ç”¨å®˜æ–¹æ¨¡æ¿cz-conventional-changelog\"><a href=\"#ä½¿ç”¨å®˜æ–¹æ¨¡æ¿cz-conventional-changelog\" class=\"headerlink\" title=\"ä½¿ç”¨å®˜æ–¹æ¨¡æ¿cz-conventional-changelog\"></a>ä½¿ç”¨å®˜æ–¹æ¨¡æ¿<code>cz-conventional-changelog</code></h3><h3 id=\"å®‰è£…ä¾èµ–\"><a href=\"#å®‰è£…ä¾èµ–\" class=\"headerlink\" title=\"å®‰è£…ä¾èµ–\"></a>å®‰è£…ä¾èµ–</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add -D commitizen cz-conventional-changelog</span><br></pre></td></tr></table></figure>\n\n<p>æ·»åŠ é…ç½®æ–‡ä»¶çš„æ–¹å¼ä¸ºä¿©ç§ï¼š</p>\n<h4 id=\"package-json-é…ç½®\"><a href=\"#package-json-é…ç½®\" class=\"headerlink\" title=\"package.json é…ç½®\"></a>package.json é…ç½®</h4><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;config&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;commitizen&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;path&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;./node_modules/cz-conventional-changelog&quot;</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"czrc\"><a href=\"#czrc\" class=\"headerlink\" title=\".czrc\"></a>.czrc</h4><p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º<code>.czrc</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;path&quot;</span>: <span class=\"string\">&quot;cz-conventional-changelog&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ¥ç€åœ¨<code>package.json</code>ä¸­æ·»åŠ å‘½ä»¤â€</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;commit&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;git-cz&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>å½“ä½ æ‰§è¡Œ<code>pnpm commit</code>æ§åˆ¶å°ä¼šè¾“å‡ºå¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ebugger attached.</span><br><span class=\"line\">cz-cli@4.3.1, cz-conventional-changelog@3.3.0</span><br><span class=\"line\"></span><br><span class=\"line\">? Select the <span class=\"built_in\">type</span> of change that you<span class=\"string\">&#x27;re committing: (Use arrow keys)</span></span><br><span class=\"line\"><span class=\"string\">â¯ feat:     A new feature</span></span><br><span class=\"line\"><span class=\"string\">  fix:      A bug fix</span></span><br><span class=\"line\"><span class=\"string\">  docs:     Documentation only changes</span></span><br><span class=\"line\"><span class=\"string\">  style:    Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)</span></span><br><span class=\"line\"><span class=\"string\">  refactor: A code change that neither fixes a bug nor adds a feature</span></span><br><span class=\"line\"><span class=\"string\">  perf:     A code change that improves performance</span></span><br><span class=\"line\"><span class=\"string\">  test:     Adding missing tests or correcting existing tests</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸ªæ—¶å€™å°±å®Œæˆäº†ã€‚å¦‚æœè‹±æ–‡ä¸å¥½çš„å¯ä»¥ç»§ç»­çœ‹ä¸‹ä¸€ä¸ªæ–¹æ¡ˆï¼š</p>\n<h3 id=\"ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿cz-customizable\"><a href=\"#ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿cz-customizable\" class=\"headerlink\" title=\"ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿cz-customizable\"></a>ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿<code>cz-customizable</code></h3><h4 id=\"å®‰è£…ä¾èµ–-1\"><a href=\"#å®‰è£…ä¾èµ–-1\" class=\"headerlink\" title=\"å®‰è£…ä¾èµ–\"></a>å®‰è£…ä¾èµ–</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add -D commitizen cz-customizable</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"czrc-1\"><a href=\"#czrc-1\" class=\"headerlink\" title=\".czrc\"></a>.czrc</h4><p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º<code>.czrc</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;path&quot;</span>: <span class=\"string\">&quot;cz-customizable&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ¥ç€åœ¨<code>package.json</code>ä¸­æ·»åŠ å‘½ä»¤â€</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;commit&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;git-cz&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"è‡ªå®šä¹‰æ¨¡æ¿-cz-config-js\"><a href=\"#è‡ªå®šä¹‰æ¨¡æ¿-cz-config-js\" class=\"headerlink\" title=\"è‡ªå®šä¹‰æ¨¡æ¿ .cz-config.js\"></a>è‡ªå®šä¹‰æ¨¡æ¿ <code>.cz-config.js</code></h4><p>éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º<code>.cz-config.js</code>çš„æ–‡ä»¶,æ–‡ä»¶å†…å®¹å¦‚ä¸‹:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// .cz-config.js</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">types</span>: [</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:sparkles: feat&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;âœ¨ feat:         æ–°åŠŸèƒ½&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:bug: fix&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ› fix:          ä¿®å¤&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:memo: docs&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ“ docs:         æ–‡æ¡£å˜æ›´&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:lipstick: style&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ’„ style:        ä»£ç æ ¼å¼ (ä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨)&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:recycle: refactor&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;â™»ï¸  refactor:     é‡æ„ (æ—¢ä¸å¢åŠ  feature, ä¹Ÿä¸ä¿®å¤ bug)&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:zap: perf&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;âš¡ï¸ perf:         æ€§èƒ½ä¼˜åŒ–&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:white_check_mark: test&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;âœ… test:         å¢åŠ æµ‹è¯•&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:wrench: chore&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ”§ chore:        æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:rewind: revert&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;âª revert:       å›é€€&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:package: build&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ“¦ build:        æ‰“åŒ…&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"attr\">messages</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;è¯·é€‰æ‹©æäº¤çš„ç±»å‹: &quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">scope</span>: <span class=\"string\">&quot;è¯·é€‰æ‹©æ­¤æ›´æ”¹çš„èŒƒå›´(å¯é€‰): &quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">customScope</span>: <span class=\"string\">&quot;è¯·è¾“å…¥ä¿®æ”¹çš„èŒƒå›´(å¯é€‰): &quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">subject</span>: <span class=\"string\">&quot;è¯·ç®€è¦æè¿°æäº¤(å¿…å¡«): &quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">body</span>: <span class=\"string\">&quot;è¯·è¾“å…¥è¯¦ç»†æè¿°(å¯é€‰): &quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">breaking</span>: <span class=\"string\">&quot;åˆ—ä¸¾ç ´åæ€§ä¿®æ”¹(å¯é€‰): &quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">footer</span>: <span class=\"string\">&quot;è¯·è¾“å…¥è¦å…³é—­çš„ issue(å¯é€‰): &quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">confirmCommit</span>: <span class=\"string\">&quot;ç¡®è®¤è¦ä½¿ç”¨ä»¥ä¸Šä¿¡æ¯æäº¤ï¼Ÿ(y/n): &quot;</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"comment\">// ä½ å¯ä»¥åœ¨è¿™é‡Œé¢„å®šä¹‰ Scope</span></span><br><span class=\"line\">\t<span class=\"attr\">scopes</span>: [],</span><br><span class=\"line\">\t<span class=\"attr\">allowCustomScopes</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// å…è®¸è¾“å…¥è‡ªå®šä¹‰ Scope ä¿¡æ¯</span></span><br><span class=\"line\">\t<span class=\"attr\">allowBreakingChanges</span>: [<span class=\"string\">&quot;:sparkles: feat&quot;</span>, <span class=\"string\">&quot;:bug: fix&quot;</span>], <span class=\"comment\">// å…è®¸æ·»åŠ  Breaking Change çš„æ“ä½œ</span></span><br><span class=\"line\">\t<span class=\"attr\">subjectLimit</span>: <span class=\"number\">100</span>, <span class=\"comment\">// body ä¸»é¢˜å­—æ•°é™åˆ¶</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>æŠŠä»£ç æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºå,ä½¿ç”¨ Commitizen ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ä»£ç æäº¤ä¿¡æ¯:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">All lines except first will be wrapped after 100 characters.</span><br><span class=\"line\">? è¯·é€‰æ‹©æäº¤çš„ç±»å‹ï¼š (Use arrow keys)</span><br><span class=\"line\">â¯ âœ¨ feat:        æ–°åŠŸèƒ½</span><br><span class=\"line\">  ğŸ› fix:         ä¿®å¤</span><br><span class=\"line\">  ğŸ“ docs:        æ–‡æ¡£å˜æ›´</span><br><span class=\"line\">  ğŸ’„ style:       ä»£ç æ ¼å¼ (ä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨)</span><br><span class=\"line\">  â™»ï¸  refactor:    é‡æ„ (æ—¢ä¸å¢åŠ  feature, ä¹Ÿä¸ä¿®å¤ bug)</span><br><span class=\"line\">  âš¡ï¸ perf:         æ€§èƒ½ä¼˜åŒ–</span><br><span class=\"line\">  âœ… <span class=\"built_in\">test</span>:        å¢åŠ æµ‹è¯•</span><br><span class=\"line\">(Move up and down to reveal more choices)</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·çœ‹èµ·æ¥æ˜¯ä¸æ˜¯èˆ’æœå¤šäº†? ä½†ä»¤äººé—æ†¾çš„æ˜¯,<code>cz-customizable</code> æ— æ³•è‡ªå®šä¹‰æäº¤ç±»å‹(<code>scope</code>),æ‰€ä»¥æˆ‘æ‰¾åˆ°äº† <code>linpengteng</code> çš„ <a href=\"https://github.com/linpengteng/cz-message-helper\"><code>cz-message-helper</code></a> è¿›è¡Œäº†ä¿®æ”¹,ä½¿å…¶å¯ä»¥è‡ªå®šä¹‰æäº¤ç±»å‹(<code>scope</code>)</p>\n<h3 id=\"cz-message-helper\"><a href=\"#cz-message-helper\" class=\"headerlink\" title=\"cz-message-helper\"></a>cz-message-helper</h3><h4 id=\"å®‰è£…\"><a href=\"#å®‰è£…\" class=\"headerlink\" title=\"å®‰è£…\"></a>å®‰è£…</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add -D commitizen cz-message-helper</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"czrc-2\"><a href=\"#czrc-2\" class=\"headerlink\" title=\".czrc\"></a>.czrc</h4><p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º<code>.czrc</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;path&quot;</span>: <span class=\"string\">&quot;cz-message-helper&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸è¿‡æˆ‘ä¹ æƒ¯å°†é…ç½®æ–‡ä»¶æ”¾ç½®<code>package.json</code></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;config&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;commitizen&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;path&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;./node_modules/cz-message-helper&quot;</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ¥ç€åœ¨<code>package.json</code>ä¸­æ·»åŠ å‘½ä»¤â€</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;commit&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;git-cz&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"è‡ªå®šä¹‰æ¨¡æ¿-cz-message-js\"><a href=\"#è‡ªå®šä¹‰æ¨¡æ¿-cz-message-js\" class=\"headerlink\" title=\"è‡ªå®šä¹‰æ¨¡æ¿ .cz-message.js\"></a>è‡ªå®šä¹‰æ¨¡æ¿ <code>.cz-message.js</code></h4><p>éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º<code>.cz-message.js</code>çš„æ–‡ä»¶,æ–‡ä»¶å†…å®¹å¦‚ä¸‹:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">questions</span>: [</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;list&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;type&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;è¯·é€‰æ‹©è¦æäº¤çš„æ›´æ”¹ç±»å‹:&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">choices</span>: [</span><br><span class=\"line\">\t\t\t\t&#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;fix&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ› fix: -------- ä¿®å¤BUG&quot;</span> &#125;,</span><br><span class=\"line\">\t\t\t\t&#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;feat&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;âœ¨ feat: ------- æ–°åŠŸèƒ½&quot;</span> &#125;,</span><br><span class=\"line\">\t\t\t\t&#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;docs&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ“ docs: ------- ä»…æ–‡æ¡£æ›´æ”¹&quot;</span> &#125;,</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;style&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ’„ style: ------ ä¸å½±å“ä»£ç è¿è¡Œçš„æ›´æ”¹(è°ƒæ•´ç©ºç™½ã€æ ¼å¼ã€ç¼ºå°‘åˆ†å·ç­‰)&quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;chore&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ—ƒï¸  chore: ------ é src å’Œ test çš„ä¿®æ”¹&quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;refactor&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;â™»ï¸  refactor: --- é‡æ„æ¶æ„æˆ–ä»£ç &quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;perf&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;âš¡ï¸ perf:  ------ æ”¹è¿›æ€§èƒ½çš„ä»£ç æ›´æ”¹&quot;</span> &#125;,</span><br><span class=\"line\">\t\t\t\t&#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;test&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ§ª test:  ------ æ·»åŠ æµ‹è¯•å•å…ƒ&quot;</span> &#125;,</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;revert&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;âª revert: ----- å›é€€è‡³æŸä¸€ä¸ªç‰ˆæœ¬&quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;merge&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸšš merge: ------ åˆå¹¶ä¸€ä¸ªåˆ†æ”¯, è§£å†³å†²çªåˆ†æ”¯&quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;ci&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ‘· ci: --------- è‡ªåŠ¨åŒ–æµç¨‹é…ç½®æˆ–è„šæœ¬ä¿®æ”¹&quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;build&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ”§ build: ------ ä¿®æ”¹æ„å»ºæµç¨‹æˆ–å¤–éƒ¨ä¾èµ–&quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t],</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;list&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;scope&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;è¯·é€‰æ‹©æ›´æ”¹çš„èŒƒå›´:&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">choices</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> [</span><br><span class=\"line\">\t\t\t\t\t&#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;æ— &quot;</span>, <span class=\"attr\">value</span>: <span class=\"literal\">false</span> &#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;è‡ªå®šä¹‰&quot;</span>, <span class=\"attr\">value</span>: <span class=\"string\">&quot;custom&quot;</span> &#125;,</span><br><span class=\"line\">\t\t\t\t];</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">filter</span>(<span class=\"params\">value, answers</span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> value || <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;input&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;customScope&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;è¯·è¾“å…¥è‡ªå®šä¹‰çš„å˜æ›´çš„èŒƒå›´(å¯é€‰):&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">when</span>(<span class=\"params\">answers</span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> answers.<span class=\"property\">scope</span> === <span class=\"string\">&quot;custom&quot;</span>;</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">filter</span>(<span class=\"params\">value, answers</span>) &#123;</span><br><span class=\"line\">\t\t\t\tanswers.<span class=\"property\">scope</span> = value || <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> value || <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;input&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;subject&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;è¯·ç®€æ˜æ‰¼è¦çš„æ‘˜è¦æè¿°(å»ºè®®å­—æ•°åœ¨50å­—å†…):&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">validate</span>(<span class=\"params\">value</span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> value.<span class=\"property\">length</span> &gt; <span class=\"number\">50</span> ? <span class=\"string\">`[subject] Exceed limit: 50`</span> : <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;input&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;body&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;è¯·æä¾›æ›´è¯¦ç»†çš„å˜æ›´è¯´æ˜(å¯é€‰), ä½¿ç”¨â€œ\\\\nâ€æ¢è¡Œ:&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;input&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;breaking&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;è¯·åˆ—å‡ºä»»ä½•é‡å¤§å˜åŒ–(å¯é€‰):&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">when</span>(<span class=\"params\">answers</span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"regexp\">/^(:[a-z0-9A-Z_-]+(:)(\\s*))?(feat|fix)(\\2\\s*)?$/</span>.<span class=\"title function_\">test</span>(</span><br><span class=\"line\">\t\t\t\t\tanswers.<span class=\"property\">type</span>.<span class=\"title function_\">toLowerCase</span>()</span><br><span class=\"line\">\t\t\t\t);</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;input&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;footer&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;è¯·åˆ—å‡ºæ­¤æ›´æ”¹å…³é—­çš„ä»»ä½•é—®é¢˜(å¯é€‰), ä¾‹å¦‚: #31,#34:&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t],</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"attr\">templater</span>: <span class=\"function\">(<span class=\"params\">answers, wrap</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> template = <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(answers);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\ttemplate += answers.<span class=\"property\">type</span> ? <span class=\"string\">`<span class=\"subst\">$&#123;answers.type&#125;</span>`</span> : <span class=\"string\">``</span>;</span><br><span class=\"line\">\t\ttemplate += answers.<span class=\"property\">scope</span> ? <span class=\"string\">`(<span class=\"subst\">$&#123;answers.scope&#125;</span>)`</span> : <span class=\"string\">``</span>;</span><br><span class=\"line\">\t\ttemplate += answers.<span class=\"property\">subject</span> ? <span class=\"string\">`: <span class=\"subst\">$&#123;answers.subject&#125;</span>`</span> : <span class=\"string\">``</span>;</span><br><span class=\"line\">\t\ttemplate += answers.<span class=\"property\">body</span> ? <span class=\"string\">`\\n\\n<span class=\"subst\">$&#123;wrap(answers.body)&#125;</span>`</span> : <span class=\"string\">``</span>;</span><br><span class=\"line\">\t\ttemplate += answers.<span class=\"property\">breaking</span></span><br><span class=\"line\">\t\t\t? <span class=\"string\">`\\n\\nBREAKING CHANGE: <span class=\"subst\">$&#123;wrap(answers.breaking)&#125;</span>`</span></span><br><span class=\"line\">\t\t\t: <span class=\"string\">``</span>;</span><br><span class=\"line\">\t\ttemplate += answers.<span class=\"property\">footer</span></span><br><span class=\"line\">\t\t\t? <span class=\"string\">`\\n\\nISSUES CLOSED: <span class=\"subst\">$&#123;wrap(answers.footer)&#125;</span>`</span></span><br><span class=\"line\">\t\t\t: <span class=\"string\">``</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> template;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"attr\">language</span>: <span class=\"string\">&quot;cn&quot;</span>,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;config&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;commitizen&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;path&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;./node_modules/cz-message-helper&quot;</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;cz-message-helper&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;config&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;./.cz-message.js&quot;</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>æŠŠä»£ç æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºå,ä½¿ç”¨ <code>Commitizen</code> ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ä»£ç æäº¤ä¿¡æ¯:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ç‰ˆæœ¬æäº¤è§„èŒƒ on î‚  master [â‡¡Â»+] is ğŸ“¦ 1.0.0 via â¬¢ v18.16.0</span><br><span class=\"line\">âœ pm commit</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">comm</span>@1.0.0 commit /Users/bddxg/Documents/coding/tmp/ç‰ˆæœ¬æäº¤è§„èŒƒ</span><br><span class=\"line\">git-cz</span><br><span class=\"line\"></span><br><span class=\"line\">cz-cli@4.3.0, cz-message-helper@1.2.2</span><br><span class=\"line\"></span><br><span class=\"line\">? è¯·é€‰æ‹©è¦æäº¤çš„æ›´æ”¹ç±»å‹:</span><br><span class=\"line\">  ğŸ§ª <span class=\"built_in\">test</span>:  ------ æ·»åŠ æµ‹è¯•å•å…ƒ</span><br><span class=\"line\">  âª revert: ----- å›é€€è‡³æŸä¸€ä¸ªç‰ˆæœ¬</span><br><span class=\"line\">  ğŸšš merge: ------ åˆå¹¶ä¸€ä¸ªåˆ†æ”¯, è§£å†³å†²çªåˆ†æ”¯</span><br><span class=\"line\">â¯ ğŸ› fix: -------- ä¿®å¤BUG</span><br><span class=\"line\">  âœ¨ feat: ------- æ–°åŠŸèƒ½</span><br><span class=\"line\">  ğŸ“ docs: ------- ä»…æ–‡æ¡£æ›´æ”¹</span><br><span class=\"line\">  ğŸ’„ style: ------ ä¸å½±å“ä»£ç è¿è¡Œçš„æ›´æ”¹(è°ƒæ•´ç©ºç™½ã€æ ¼å¼ã€ç¼ºå°‘åˆ†å·ç­‰)</span><br><span class=\"line\">(Move up and down to reveal more choices)</span><br><span class=\"line\"></span><br><span class=\"line\">? è¯·é€‰æ‹©è¦æäº¤çš„æ›´æ”¹ç±»å‹: âœ¨ feat: ------- æ–°åŠŸèƒ½</span><br><span class=\"line\">? è¯·é€‰æ‹©æ›´æ”¹çš„èŒƒå›´: è‡ªå®šä¹‰</span><br><span class=\"line\">? è¯·è¾“å…¥è‡ªå®šä¹‰çš„å˜æ›´çš„èŒƒå›´(å¯é€‰): main.js</span><br><span class=\"line\">? è¯·ç®€æ˜æ‰¼è¦çš„æ‘˜è¦æè¿°(å»ºè®®å­—æ•°åœ¨50å­—å†…): æ–°å»ºäº†main.js</span><br><span class=\"line\">? è¯·æä¾›æ›´è¯¦ç»†çš„å˜æ›´è¯´æ˜(å¯é€‰), ä½¿ç”¨â€œ\\nâ€æ¢è¡Œ: åˆå§‹åŒ–é¡¹ç›®</span><br><span class=\"line\">? è¯·åˆ—å‡ºæ­¤æ›´æ”¹å…³é—­çš„ä»»ä½•é—®é¢˜(å¯é€‰), ä¾‹å¦‚: <span class=\"comment\">#31,#34:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">###--------------------------------------------------------###</span></span><br><span class=\"line\">:sparkles: feat: (main.js): åˆå§‹åŒ–é¡¹ç›®</span><br><span class=\"line\"></span><br><span class=\"line\">æ–°å»ºäº†main.jsæ–‡ä»¶</span><br><span class=\"line\"><span class=\"comment\">###--------------------------------------------------------###</span></span><br><span class=\"line\"></span><br><span class=\"line\">? æ‚¨ç¡®å®šè¦ç»§ç»­æ‰§è¡Œä¸Šé¢çš„æäº¤å—ï¼Ÿ (Yneh)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å‚è€ƒèµ„æ–™\"><a href=\"#å‚è€ƒèµ„æ–™\" class=\"headerlink\" title=\"å‚è€ƒèµ„æ–™\"></a>å‚è€ƒèµ„æ–™</h2><ul>\n<li><a href=\"https://bddxg.top/article/expansion/%E5%89%8D%E7%AB%AF%E6%96%B9%E5%90%91/Commitizen.html#_1-commitizen-cz-conventional-changelog\">Commitizen å¿«é€Ÿä¸Šæ‰‹</a></li>\n</ul>\n","excerpt":"","more":"<h1 id=\"Commitizen\"><a href=\"#Commitizen\" class=\"headerlink\" title=\"Commitizen?\"></a>Commitizen?</h1><p>ä¸€ä¸ªå·¥å…·,ç”¨äºè§„èŒƒä»£ç æäº¤ä¿¡æ¯çš„å·¥å…·ã€‚<code>cz-conventional-changelog</code> æ˜¯ä¸€ä¸ª <code>Commitizen</code> çš„é€‚é…å™¨,ç”¨äºé€‚é… <code>conventional-changelog</code> çš„æäº¤è§„èŒƒã€‚</p>\n<p>ä¸ºä»€ä¹ˆè¦ä»‹ç»è¿™ä¹ˆä¸€ä¸ªå·¥å…·ï¼š<br>å½“ä½ åœ¨æäº¤<code>commit</code>çš„æ—¶å€™ï¼Œè‚¯å®šä¼šæ‰‹åŠ¨è¾“å…¥ä¸€äº›<code>type</code>:</p>\n<p><code>fix(axios): ä¿®å¤axiosè¯·æ±‚å¤±è´¥çš„é—®é¢˜ #1</code></p>\n<p>ä½†æ˜¯ç°åœ¨æœ‰è¿™ä¹ˆä¸€ä¸ªå·¥å…·ï¼Œåªéœ€è¦æ ¹æ®è‡ªå·±çš„æƒ…å†µé€‰æ‹©å¯¹åº”çš„æ¡ä»¶å°±å¥½äº†ï¼›</p>\n<h2 id=\"å¦‚ä½•ä½¿ç”¨ï¼Ÿ\"><a href=\"#å¦‚ä½•ä½¿ç”¨ï¼Ÿ\" class=\"headerlink\" title=\"å¦‚ä½•ä½¿ç”¨ï¼Ÿ\"></a>å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h2><p>è¿™é‡Œå¯ä»¥å®‰è£…åˆ°å…¨å±€,ä¹Ÿå¯ä»¥å®‰è£…åˆ°é¡¹ç›®ä¸­,è¿™é‡Œæ¨èå®‰è£…åˆ°é¡¹ç›®ä¸­,å› ä¸ºè¿™æ ·å¯ä»¥é¿å…ä¸åŒé¡¹ç›®ä½¿ç”¨ä¸åŒçš„ <code>Commitizen</code> ç‰ˆæœ¬,å¯¼è‡´æäº¤ä¿¡æ¯ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</p>\n<p>::: tip<br><strong>å®˜æ–¹æ¨¡æ¿</strong>:<code>cz-conventional-changelog</code>, ç‰¹ç‚¹æ˜¯å…é…ç½®,å¼€ç®±å³ç”¨,ä½†æç¤ºå…¨éƒ¨ä¸ºè‹±æ–‡,ä¸å¤ªå‹å¥½</p>\n<p><strong>è‡ªå®šä¹‰æ¨¡æ¿</strong>:<code>cz-customizable</code>, ç‰¹ç‚¹æ˜¯å¯ä»¥è‡ªå®šä¹‰æ·»åŠ  <code>emoji</code> è¡¨æƒ…,å¯ä»¥è‡ªå®šä¹‰æç¤ºè¯­è¨€,ä½†éœ€è¦é…ç½®,ä¸”æ— æ³•è‡ªå®šä¹‰æäº¤ç±»å‹(<code>scope</code>)</p>\n<p><strong>linpengteng</strong>:<code>cz-message-helper</code> ä¿®æ”¹ç‰ˆ,ç‰¹ç‚¹æ˜¯å¯ä»¥è‡ªå®šä¹‰ <code>emoji</code> è¡¨æƒ…,å¯ä»¥è‡ªå®šä¹‰æç¤ºè¯­è¨€,å¯ä»¥è‡ªå®šä¹‰æäº¤ç±»å‹(<code>scope</code>),ä½†éœ€è¦é…ç½®<br>:::</p>\n<h3 id=\"ä½¿ç”¨å®˜æ–¹æ¨¡æ¿cz-conventional-changelog\"><a href=\"#ä½¿ç”¨å®˜æ–¹æ¨¡æ¿cz-conventional-changelog\" class=\"headerlink\" title=\"ä½¿ç”¨å®˜æ–¹æ¨¡æ¿cz-conventional-changelog\"></a>ä½¿ç”¨å®˜æ–¹æ¨¡æ¿<code>cz-conventional-changelog</code></h3><h3 id=\"å®‰è£…ä¾èµ–\"><a href=\"#å®‰è£…ä¾èµ–\" class=\"headerlink\" title=\"å®‰è£…ä¾èµ–\"></a>å®‰è£…ä¾èµ–</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add -D commitizen cz-conventional-changelog</span><br></pre></td></tr></table></figure>\n\n<p>æ·»åŠ é…ç½®æ–‡ä»¶çš„æ–¹å¼ä¸ºä¿©ç§ï¼š</p>\n<h4 id=\"package-json-é…ç½®\"><a href=\"#package-json-é…ç½®\" class=\"headerlink\" title=\"package.json é…ç½®\"></a>package.json é…ç½®</h4><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;config&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;commitizen&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;path&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;./node_modules/cz-conventional-changelog&quot;</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"czrc\"><a href=\"#czrc\" class=\"headerlink\" title=\".czrc\"></a>.czrc</h4><p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º<code>.czrc</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;path&quot;</span>: <span class=\"string\">&quot;cz-conventional-changelog&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ¥ç€åœ¨<code>package.json</code>ä¸­æ·»åŠ å‘½ä»¤â€</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;commit&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;git-cz&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>å½“ä½ æ‰§è¡Œ<code>pnpm commit</code>æ§åˆ¶å°ä¼šè¾“å‡ºå¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ebugger attached.</span><br><span class=\"line\">cz-cli@4.3.1, cz-conventional-changelog@3.3.0</span><br><span class=\"line\"></span><br><span class=\"line\">? Select the <span class=\"built_in\">type</span> of change that you<span class=\"string\">&#x27;re committing: (Use arrow keys)</span></span><br><span class=\"line\"><span class=\"string\">â¯ feat:     A new feature</span></span><br><span class=\"line\"><span class=\"string\">  fix:      A bug fix</span></span><br><span class=\"line\"><span class=\"string\">  docs:     Documentation only changes</span></span><br><span class=\"line\"><span class=\"string\">  style:    Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)</span></span><br><span class=\"line\"><span class=\"string\">  refactor: A code change that neither fixes a bug nor adds a feature</span></span><br><span class=\"line\"><span class=\"string\">  perf:     A code change that improves performance</span></span><br><span class=\"line\"><span class=\"string\">  test:     Adding missing tests or correcting existing tests</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸ªæ—¶å€™å°±å®Œæˆäº†ã€‚å¦‚æœè‹±æ–‡ä¸å¥½çš„å¯ä»¥ç»§ç»­çœ‹ä¸‹ä¸€ä¸ªæ–¹æ¡ˆï¼š</p>\n<h3 id=\"ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿cz-customizable\"><a href=\"#ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿cz-customizable\" class=\"headerlink\" title=\"ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿cz-customizable\"></a>ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿<code>cz-customizable</code></h3><h4 id=\"å®‰è£…ä¾èµ–-1\"><a href=\"#å®‰è£…ä¾èµ–-1\" class=\"headerlink\" title=\"å®‰è£…ä¾èµ–\"></a>å®‰è£…ä¾èµ–</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add -D commitizen cz-customizable</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"czrc-1\"><a href=\"#czrc-1\" class=\"headerlink\" title=\".czrc\"></a>.czrc</h4><p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º<code>.czrc</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;path&quot;</span>: <span class=\"string\">&quot;cz-customizable&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ¥ç€åœ¨<code>package.json</code>ä¸­æ·»åŠ å‘½ä»¤â€</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;commit&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;git-cz&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"è‡ªå®šä¹‰æ¨¡æ¿-cz-config-js\"><a href=\"#è‡ªå®šä¹‰æ¨¡æ¿-cz-config-js\" class=\"headerlink\" title=\"è‡ªå®šä¹‰æ¨¡æ¿ .cz-config.js\"></a>è‡ªå®šä¹‰æ¨¡æ¿ <code>.cz-config.js</code></h4><p>éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º<code>.cz-config.js</code>çš„æ–‡ä»¶,æ–‡ä»¶å†…å®¹å¦‚ä¸‹:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// .cz-config.js</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">types</span>: [</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:sparkles: feat&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;âœ¨ feat:         æ–°åŠŸèƒ½&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:bug: fix&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ› fix:          ä¿®å¤&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:memo: docs&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ“ docs:         æ–‡æ¡£å˜æ›´&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:lipstick: style&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ’„ style:        ä»£ç æ ¼å¼ (ä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨)&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:recycle: refactor&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;â™»ï¸  refactor:     é‡æ„ (æ—¢ä¸å¢åŠ  feature, ä¹Ÿä¸ä¿®å¤ bug)&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:zap: perf&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;âš¡ï¸ perf:         æ€§èƒ½ä¼˜åŒ–&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:white_check_mark: test&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;âœ… test:         å¢åŠ æµ‹è¯•&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:wrench: chore&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ”§ chore:        æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:rewind: revert&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;âª revert:       å›é€€&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;:package: build&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ“¦ build:        æ‰“åŒ…&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"attr\">messages</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;è¯·é€‰æ‹©æäº¤çš„ç±»å‹: &quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">scope</span>: <span class=\"string\">&quot;è¯·é€‰æ‹©æ­¤æ›´æ”¹çš„èŒƒå›´(å¯é€‰): &quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">customScope</span>: <span class=\"string\">&quot;è¯·è¾“å…¥ä¿®æ”¹çš„èŒƒå›´(å¯é€‰): &quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">subject</span>: <span class=\"string\">&quot;è¯·ç®€è¦æè¿°æäº¤(å¿…å¡«): &quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">body</span>: <span class=\"string\">&quot;è¯·è¾“å…¥è¯¦ç»†æè¿°(å¯é€‰): &quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">breaking</span>: <span class=\"string\">&quot;åˆ—ä¸¾ç ´åæ€§ä¿®æ”¹(å¯é€‰): &quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">footer</span>: <span class=\"string\">&quot;è¯·è¾“å…¥è¦å…³é—­çš„ issue(å¯é€‰): &quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">confirmCommit</span>: <span class=\"string\">&quot;ç¡®è®¤è¦ä½¿ç”¨ä»¥ä¸Šä¿¡æ¯æäº¤ï¼Ÿ(y/n): &quot;</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"comment\">// ä½ å¯ä»¥åœ¨è¿™é‡Œé¢„å®šä¹‰ Scope</span></span><br><span class=\"line\">\t<span class=\"attr\">scopes</span>: [],</span><br><span class=\"line\">\t<span class=\"attr\">allowCustomScopes</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// å…è®¸è¾“å…¥è‡ªå®šä¹‰ Scope ä¿¡æ¯</span></span><br><span class=\"line\">\t<span class=\"attr\">allowBreakingChanges</span>: [<span class=\"string\">&quot;:sparkles: feat&quot;</span>, <span class=\"string\">&quot;:bug: fix&quot;</span>], <span class=\"comment\">// å…è®¸æ·»åŠ  Breaking Change çš„æ“ä½œ</span></span><br><span class=\"line\">\t<span class=\"attr\">subjectLimit</span>: <span class=\"number\">100</span>, <span class=\"comment\">// body ä¸»é¢˜å­—æ•°é™åˆ¶</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>æŠŠä»£ç æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºå,ä½¿ç”¨ Commitizen ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ä»£ç æäº¤ä¿¡æ¯:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">All lines except first will be wrapped after 100 characters.</span><br><span class=\"line\">? è¯·é€‰æ‹©æäº¤çš„ç±»å‹ï¼š (Use arrow keys)</span><br><span class=\"line\">â¯ âœ¨ feat:        æ–°åŠŸèƒ½</span><br><span class=\"line\">  ğŸ› fix:         ä¿®å¤</span><br><span class=\"line\">  ğŸ“ docs:        æ–‡æ¡£å˜æ›´</span><br><span class=\"line\">  ğŸ’„ style:       ä»£ç æ ¼å¼ (ä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨)</span><br><span class=\"line\">  â™»ï¸  refactor:    é‡æ„ (æ—¢ä¸å¢åŠ  feature, ä¹Ÿä¸ä¿®å¤ bug)</span><br><span class=\"line\">  âš¡ï¸ perf:         æ€§èƒ½ä¼˜åŒ–</span><br><span class=\"line\">  âœ… <span class=\"built_in\">test</span>:        å¢åŠ æµ‹è¯•</span><br><span class=\"line\">(Move up and down to reveal more choices)</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·çœ‹èµ·æ¥æ˜¯ä¸æ˜¯èˆ’æœå¤šäº†? ä½†ä»¤äººé—æ†¾çš„æ˜¯,<code>cz-customizable</code> æ— æ³•è‡ªå®šä¹‰æäº¤ç±»å‹(<code>scope</code>),æ‰€ä»¥æˆ‘æ‰¾åˆ°äº† <code>linpengteng</code> çš„ <a href=\"https://github.com/linpengteng/cz-message-helper\"><code>cz-message-helper</code></a> è¿›è¡Œäº†ä¿®æ”¹,ä½¿å…¶å¯ä»¥è‡ªå®šä¹‰æäº¤ç±»å‹(<code>scope</code>)</p>\n<h3 id=\"cz-message-helper\"><a href=\"#cz-message-helper\" class=\"headerlink\" title=\"cz-message-helper\"></a>cz-message-helper</h3><h4 id=\"å®‰è£…\"><a href=\"#å®‰è£…\" class=\"headerlink\" title=\"å®‰è£…\"></a>å®‰è£…</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add -D commitizen cz-message-helper</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"czrc-2\"><a href=\"#czrc-2\" class=\"headerlink\" title=\".czrc\"></a>.czrc</h4><p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º<code>.czrc</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;path&quot;</span>: <span class=\"string\">&quot;cz-message-helper&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸è¿‡æˆ‘ä¹ æƒ¯å°†é…ç½®æ–‡ä»¶æ”¾ç½®<code>package.json</code></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;config&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;commitizen&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;path&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;./node_modules/cz-message-helper&quot;</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ¥ç€åœ¨<code>package.json</code>ä¸­æ·»åŠ å‘½ä»¤â€</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;commit&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;git-cz&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"è‡ªå®šä¹‰æ¨¡æ¿-cz-message-js\"><a href=\"#è‡ªå®šä¹‰æ¨¡æ¿-cz-message-js\" class=\"headerlink\" title=\"è‡ªå®šä¹‰æ¨¡æ¿ .cz-message.js\"></a>è‡ªå®šä¹‰æ¨¡æ¿ <code>.cz-message.js</code></h4><p>éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º<code>.cz-message.js</code>çš„æ–‡ä»¶,æ–‡ä»¶å†…å®¹å¦‚ä¸‹:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">questions</span>: [</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;list&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;type&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;è¯·é€‰æ‹©è¦æäº¤çš„æ›´æ”¹ç±»å‹:&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">choices</span>: [</span><br><span class=\"line\">\t\t\t\t&#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;fix&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ› fix: -------- ä¿®å¤BUG&quot;</span> &#125;,</span><br><span class=\"line\">\t\t\t\t&#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;feat&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;âœ¨ feat: ------- æ–°åŠŸèƒ½&quot;</span> &#125;,</span><br><span class=\"line\">\t\t\t\t&#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;docs&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ“ docs: ------- ä»…æ–‡æ¡£æ›´æ”¹&quot;</span> &#125;,</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;style&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ’„ style: ------ ä¸å½±å“ä»£ç è¿è¡Œçš„æ›´æ”¹(è°ƒæ•´ç©ºç™½ã€æ ¼å¼ã€ç¼ºå°‘åˆ†å·ç­‰)&quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;chore&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ—ƒï¸  chore: ------ é src å’Œ test çš„ä¿®æ”¹&quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;refactor&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;â™»ï¸  refactor: --- é‡æ„æ¶æ„æˆ–ä»£ç &quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;perf&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;âš¡ï¸ perf:  ------ æ”¹è¿›æ€§èƒ½çš„ä»£ç æ›´æ”¹&quot;</span> &#125;,</span><br><span class=\"line\">\t\t\t\t&#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;test&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ§ª test:  ------ æ·»åŠ æµ‹è¯•å•å…ƒ&quot;</span> &#125;,</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;revert&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;âª revert: ----- å›é€€è‡³æŸä¸€ä¸ªç‰ˆæœ¬&quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;merge&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸšš merge: ------ åˆå¹¶ä¸€ä¸ªåˆ†æ”¯, è§£å†³å†²çªåˆ†æ”¯&quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;ci&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ‘· ci: --------- è‡ªåŠ¨åŒ–æµç¨‹é…ç½®æˆ–è„šæœ¬ä¿®æ”¹&quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">&quot;build&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;ğŸ”§ build: ------ ä¿®æ”¹æ„å»ºæµç¨‹æˆ–å¤–éƒ¨ä¾èµ–&quot;</span>,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t],</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;list&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;scope&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;è¯·é€‰æ‹©æ›´æ”¹çš„èŒƒå›´:&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">choices</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> [</span><br><span class=\"line\">\t\t\t\t\t&#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;æ— &quot;</span>, <span class=\"attr\">value</span>: <span class=\"literal\">false</span> &#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;è‡ªå®šä¹‰&quot;</span>, <span class=\"attr\">value</span>: <span class=\"string\">&quot;custom&quot;</span> &#125;,</span><br><span class=\"line\">\t\t\t\t];</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">filter</span>(<span class=\"params\">value, answers</span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> value || <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;input&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;customScope&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;è¯·è¾“å…¥è‡ªå®šä¹‰çš„å˜æ›´çš„èŒƒå›´(å¯é€‰):&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">when</span>(<span class=\"params\">answers</span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> answers.<span class=\"property\">scope</span> === <span class=\"string\">&quot;custom&quot;</span>;</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">filter</span>(<span class=\"params\">value, answers</span>) &#123;</span><br><span class=\"line\">\t\t\t\tanswers.<span class=\"property\">scope</span> = value || <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> value || <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;input&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;subject&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;è¯·ç®€æ˜æ‰¼è¦çš„æ‘˜è¦æè¿°(å»ºè®®å­—æ•°åœ¨50å­—å†…):&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">validate</span>(<span class=\"params\">value</span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> value.<span class=\"property\">length</span> &gt; <span class=\"number\">50</span> ? <span class=\"string\">`[subject] Exceed limit: 50`</span> : <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;input&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;body&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;è¯·æä¾›æ›´è¯¦ç»†çš„å˜æ›´è¯´æ˜(å¯é€‰), ä½¿ç”¨â€œ\\\\nâ€æ¢è¡Œ:&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;input&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;breaking&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;è¯·åˆ—å‡ºä»»ä½•é‡å¤§å˜åŒ–(å¯é€‰):&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"title function_\">when</span>(<span class=\"params\">answers</span>) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"regexp\">/^(:[a-z0-9A-Z_-]+(:)(\\s*))?(feat|fix)(\\2\\s*)?$/</span>.<span class=\"title function_\">test</span>(</span><br><span class=\"line\">\t\t\t\t\tanswers.<span class=\"property\">type</span>.<span class=\"title function_\">toLowerCase</span>()</span><br><span class=\"line\">\t\t\t\t);</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">type</span>: <span class=\"string\">&quot;input&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;footer&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">message</span>: <span class=\"string\">&quot;è¯·åˆ—å‡ºæ­¤æ›´æ”¹å…³é—­çš„ä»»ä½•é—®é¢˜(å¯é€‰), ä¾‹å¦‚: #31,#34:&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t],</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"attr\">templater</span>: <span class=\"function\">(<span class=\"params\">answers, wrap</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> template = <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(answers);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\ttemplate += answers.<span class=\"property\">type</span> ? <span class=\"string\">`<span class=\"subst\">$&#123;answers.type&#125;</span>`</span> : <span class=\"string\">``</span>;</span><br><span class=\"line\">\t\ttemplate += answers.<span class=\"property\">scope</span> ? <span class=\"string\">`(<span class=\"subst\">$&#123;answers.scope&#125;</span>)`</span> : <span class=\"string\">``</span>;</span><br><span class=\"line\">\t\ttemplate += answers.<span class=\"property\">subject</span> ? <span class=\"string\">`: <span class=\"subst\">$&#123;answers.subject&#125;</span>`</span> : <span class=\"string\">``</span>;</span><br><span class=\"line\">\t\ttemplate += answers.<span class=\"property\">body</span> ? <span class=\"string\">`\\n\\n<span class=\"subst\">$&#123;wrap(answers.body)&#125;</span>`</span> : <span class=\"string\">``</span>;</span><br><span class=\"line\">\t\ttemplate += answers.<span class=\"property\">breaking</span></span><br><span class=\"line\">\t\t\t? <span class=\"string\">`\\n\\nBREAKING CHANGE: <span class=\"subst\">$&#123;wrap(answers.breaking)&#125;</span>`</span></span><br><span class=\"line\">\t\t\t: <span class=\"string\">``</span>;</span><br><span class=\"line\">\t\ttemplate += answers.<span class=\"property\">footer</span></span><br><span class=\"line\">\t\t\t? <span class=\"string\">`\\n\\nISSUES CLOSED: <span class=\"subst\">$&#123;wrap(answers.footer)&#125;</span>`</span></span><br><span class=\"line\">\t\t\t: <span class=\"string\">``</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> template;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"attr\">language</span>: <span class=\"string\">&quot;cn&quot;</span>,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;config&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;commitizen&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;path&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;./node_modules/cz-message-helper&quot;</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;cz-message-helper&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;config&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;./.cz-message.js&quot;</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>æŠŠä»£ç æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºå,ä½¿ç”¨ <code>Commitizen</code> ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ä»£ç æäº¤ä¿¡æ¯:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ç‰ˆæœ¬æäº¤è§„èŒƒ on î‚  master [â‡¡Â»+] is ğŸ“¦ 1.0.0 via â¬¢ v18.16.0</span><br><span class=\"line\">âœ pm commit</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">comm</span>@1.0.0 commit /Users/bddxg/Documents/coding/tmp/ç‰ˆæœ¬æäº¤è§„èŒƒ</span><br><span class=\"line\">git-cz</span><br><span class=\"line\"></span><br><span class=\"line\">cz-cli@4.3.0, cz-message-helper@1.2.2</span><br><span class=\"line\"></span><br><span class=\"line\">? è¯·é€‰æ‹©è¦æäº¤çš„æ›´æ”¹ç±»å‹:</span><br><span class=\"line\">  ğŸ§ª <span class=\"built_in\">test</span>:  ------ æ·»åŠ æµ‹è¯•å•å…ƒ</span><br><span class=\"line\">  âª revert: ----- å›é€€è‡³æŸä¸€ä¸ªç‰ˆæœ¬</span><br><span class=\"line\">  ğŸšš merge: ------ åˆå¹¶ä¸€ä¸ªåˆ†æ”¯, è§£å†³å†²çªåˆ†æ”¯</span><br><span class=\"line\">â¯ ğŸ› fix: -------- ä¿®å¤BUG</span><br><span class=\"line\">  âœ¨ feat: ------- æ–°åŠŸèƒ½</span><br><span class=\"line\">  ğŸ“ docs: ------- ä»…æ–‡æ¡£æ›´æ”¹</span><br><span class=\"line\">  ğŸ’„ style: ------ ä¸å½±å“ä»£ç è¿è¡Œçš„æ›´æ”¹(è°ƒæ•´ç©ºç™½ã€æ ¼å¼ã€ç¼ºå°‘åˆ†å·ç­‰)</span><br><span class=\"line\">(Move up and down to reveal more choices)</span><br><span class=\"line\"></span><br><span class=\"line\">? è¯·é€‰æ‹©è¦æäº¤çš„æ›´æ”¹ç±»å‹: âœ¨ feat: ------- æ–°åŠŸèƒ½</span><br><span class=\"line\">? è¯·é€‰æ‹©æ›´æ”¹çš„èŒƒå›´: è‡ªå®šä¹‰</span><br><span class=\"line\">? è¯·è¾“å…¥è‡ªå®šä¹‰çš„å˜æ›´çš„èŒƒå›´(å¯é€‰): main.js</span><br><span class=\"line\">? è¯·ç®€æ˜æ‰¼è¦çš„æ‘˜è¦æè¿°(å»ºè®®å­—æ•°åœ¨50å­—å†…): æ–°å»ºäº†main.js</span><br><span class=\"line\">? è¯·æä¾›æ›´è¯¦ç»†çš„å˜æ›´è¯´æ˜(å¯é€‰), ä½¿ç”¨â€œ\\nâ€æ¢è¡Œ: åˆå§‹åŒ–é¡¹ç›®</span><br><span class=\"line\">? è¯·åˆ—å‡ºæ­¤æ›´æ”¹å…³é—­çš„ä»»ä½•é—®é¢˜(å¯é€‰), ä¾‹å¦‚: <span class=\"comment\">#31,#34:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">###--------------------------------------------------------###</span></span><br><span class=\"line\">:sparkles: feat: (main.js): åˆå§‹åŒ–é¡¹ç›®</span><br><span class=\"line\"></span><br><span class=\"line\">æ–°å»ºäº†main.jsæ–‡ä»¶</span><br><span class=\"line\"><span class=\"comment\">###--------------------------------------------------------###</span></span><br><span class=\"line\"></span><br><span class=\"line\">? æ‚¨ç¡®å®šè¦ç»§ç»­æ‰§è¡Œä¸Šé¢çš„æäº¤å—ï¼Ÿ (Yneh)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å‚è€ƒèµ„æ–™\"><a href=\"#å‚è€ƒèµ„æ–™\" class=\"headerlink\" title=\"å‚è€ƒèµ„æ–™\"></a>å‚è€ƒèµ„æ–™</h2><ul>\n<li><a href=\"https://bddxg.top/article/expansion/%E5%89%8D%E7%AB%AF%E6%96%B9%E5%90%91/Commitizen.html#_1-commitizen-cz-conventional-changelog\">Commitizen å¿«é€Ÿä¸Šæ‰‹</a></li>\n</ul>\n"},{"title":"é¡¹ç›®å·¥ç¨‹åŒ–-eslint","abbrlink":"cd69ee4d","date":"2024-08-08T01:05:01.000Z","_content":"\n# eslint\n\n`ESLint` æ˜¯ä¸€ä¸ªå¯é…ç½®çš„ `JavaScript linter`ã€‚å®ƒå¯ä»¥å¸®åŠ©æ‚¨å‘ç°å¹¶ä¿®å¤ `JavaScript` ä»£ç ä¸­çš„é—®é¢˜ã€‚é—®é¢˜å¯ä»¥æ˜¯ä»»ä½•é—®é¢˜ï¼Œä»æ½œåœ¨çš„è¿è¡Œæ—¶é”™è¯¯ï¼Œåˆ°ä¸éµå¾ªæœ€ä½³å®è·µï¼Œå†åˆ°æ ·å¼é—®é¢˜\n\n## é…ç½®æ–‡ä»¶\n\né…ç½®æ–‡ä»¶çš„åå­—æœ‰å¾ˆå¤šï¼Œç‰ˆæœ¬çš„ä¸åŒä¼šå¯¼è‡´ä¸åŒçš„å¯¼å‡ºè¯­æ³•ï¼š\n\né¦–å…ˆè¯´æ˜æ–‡ä»¶åçš„å˜åŠ¨\n\n- 8.x ç‰ˆæœ¬\n\n  - `module.exports = {}`\n\n  1. .eslintrc.js\n  2. .eslintrc.cjs\n  3. .eslintrc.yaml\n  4. .eslintrc.yml\n  5. .eslintrc.json\n\n- 9.x ç‰ˆæœ¬\n\n  - `export default []`\n\n  1. eslint.config.js\n  2. eslint.config.mjs\n  3. eslint.config.cjs\n\n### 8.x ç‰ˆæœ¬é…ç½®\n\n```js\n// .eslintrc.js\nmodule.exports = {\n\t// é…ç½®æ ¹ç›®å½•\n\troot: true,\n\t// é…ç½®ç¯å¢ƒ,æ”¯æŒçš„ç¯å¢ƒ\n\tenv: {\n\t\tnode: true,\n\t\tbrowser: true,\n\t\tes2021: true,\n\t},\n\t// ç»§æ‰¿çš„æ’ä»¶\n\textends: [\n\t\t// https://github.com/antfu/vue-global-api\n\t\t\"vue-global-api\",\n\t\t// eslint:recommended æˆ–è€… eslint:all\n\t\t// å¼€å¯eslintè§„åˆ™ï¼Œeslint:all ä»£è¡¨å¼€å¯æ‰€æœ‰çš„è§„åˆ™ï¼ˆå®˜æ–¹ä¸æ¨èæ­¤è§„åˆ™ï¼‰\n\t\t\"eslint:recommended\",\n\t\t// eslint-plugin-vue æ’ä»¶\n\t\t\"plugin:vue/vue3-recommended\",\n\t\t// æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js é¡¹ç›®è®¾è®¡çš„ TypeScript ESLint é…ç½®åŒ…ã€‚å®ƒæ—¨åœ¨å¸®åŠ©å¼€å‘è€…åœ¨ä½¿ç”¨ TypeScript å’Œ Vue.js æ—¶\n\t\t// https://www.npmjs.com/package/@vue/eslint-config-typescript\n\t\t\"@vue/eslint-config-typescript/recommended\",\n\t\t// å¯ç”¨prettier/prettierè§„åˆ™\n\t\t\"plugin:prettier/recommended\",\n\t\t// https://www.npmjs.com/package/@vue/eslint-config-prettier\n\t\t// ä¸»è¦éœ€è¦å®‰è£…8.0çš„ç‰ˆæœ¬\n\t\t\"@vue/eslint-config-prettier\",\n\t],\n\t// é…ç½®è§„åˆ™\n\trules: {},\n};\n```\n\n### 9.x ç‰ˆæœ¬é…ç½®\n\nå…³äº`9.0`çš„è¯´æ˜ï¼Œåœ¨[vue é¡¹ç›®åˆ›å»º](/brochure/project/product/init_vuel#eslint)ä¸­å°±æåˆ°äº†\n\n```js\nimport js from \"@eslint/js\";\nimport globals from \"globals\";\nimport ts from \"typescript-eslint\";\n\nimport eslintPluginPrettierRecommended from \"eslint-plugin-prettier/recommended\";\nimport pluginVue from \"eslint-plugin-vue\";\nimport vueTsEslintConfig from \"@vue/eslint-config-typescript\";\n\nexport default [\n\t{ languageOptions: { globals: globals.browser } },\n\t// eslint é»˜è®¤æ¨èè§„åˆ™\n\tjs.configs.recommended,\n\t// ts é»˜è®¤æ¨èè§„åˆ™\n\t...ts.configs.recommended,\n\t// vue3 åŸºç¡€æ¨èè§„åˆ™\n\t// https://www.npmjs.com/package/@vue/eslint-config-typescript\n\t...pluginVue.configs[\"flat/essential\"],\n\t...vueTsEslintConfig(),\n\t// prettier é»˜è®¤æ¨èè§„åˆ™\n\t// https://github.com/prettier/eslint-plugin-prettier?tab=readme-ov-file\n\teslintPluginPrettierRecommended,\n\t// å¿½ç•¥distç›®å½•\n\t{ ignores: [\"dist/\"] },\n];\n```\n\n### ä»€ä¹ˆæ˜¯ rules\n\n```json\n{\n\t\"rules\": {\n\t\t\"semi\": [\"error\", \"always\"],\n\t\t\"quotes\": [\"error\", \"double\"]\n\t}\n}\n```\n\nåç§°â€œsemiâ€å’Œâ€œquotesâ€æ˜¯ ESLint ä¸­è§„åˆ™çš„åç§°ã€‚ç¬¬ä¸€ä¸ªå€¼æ˜¯è§„åˆ™çš„é”™è¯¯çº§åˆ«ï¼Œå¯ä»¥æ˜¯ä»¥ä¸‹å€¼ä¹‹ä¸€ï¼š\n\n- `\"off\"` æˆ–åˆ™ `0` - å…³é—­è§„åˆ™\n- `\"warn\"` or `1` - æ˜¾ç¤ºè­¦å‘Š (ä¸ä¼šå½±å“ exit code)\n- `\"error\"` or `2` - æ˜¾ç¤ºé”™è¯¯ (exit code ä¼šæ˜¯ 1)\n\n## .eslintignore\n\n`eslint` å¿½ç•¥è§„åˆ™ç±»ä¼¼å¦‚ä¸‹ï¼š\n\n```bash\n/library/build/unplugin/components.d.ts\nnode_modules\nsrc/assets\nsrc/icons\npublic\ndist\n```\n\n## åœ¨`package.json`é…ç½®\n\n```json\n{\n\t\"scripts\": {\n\t\t\"lint:fix\": \"eslint {src,mock,library}/**/*.{vue,js,ts} --fix\"\n\t}\n}\n```\n","source":"_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/eslint.md","raw":"---\ntitle: é¡¹ç›®å·¥ç¨‹åŒ–-eslint\nabbrlink: cd69ee4d\ndate: 2024-08-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å·¥ç¨‹åŒ–\n---\n\n# eslint\n\n`ESLint` æ˜¯ä¸€ä¸ªå¯é…ç½®çš„ `JavaScript linter`ã€‚å®ƒå¯ä»¥å¸®åŠ©æ‚¨å‘ç°å¹¶ä¿®å¤ `JavaScript` ä»£ç ä¸­çš„é—®é¢˜ã€‚é—®é¢˜å¯ä»¥æ˜¯ä»»ä½•é—®é¢˜ï¼Œä»æ½œåœ¨çš„è¿è¡Œæ—¶é”™è¯¯ï¼Œåˆ°ä¸éµå¾ªæœ€ä½³å®è·µï¼Œå†åˆ°æ ·å¼é—®é¢˜\n\n## é…ç½®æ–‡ä»¶\n\né…ç½®æ–‡ä»¶çš„åå­—æœ‰å¾ˆå¤šï¼Œç‰ˆæœ¬çš„ä¸åŒä¼šå¯¼è‡´ä¸åŒçš„å¯¼å‡ºè¯­æ³•ï¼š\n\né¦–å…ˆè¯´æ˜æ–‡ä»¶åçš„å˜åŠ¨\n\n- 8.x ç‰ˆæœ¬\n\n  - `module.exports = {}`\n\n  1. .eslintrc.js\n  2. .eslintrc.cjs\n  3. .eslintrc.yaml\n  4. .eslintrc.yml\n  5. .eslintrc.json\n\n- 9.x ç‰ˆæœ¬\n\n  - `export default []`\n\n  1. eslint.config.js\n  2. eslint.config.mjs\n  3. eslint.config.cjs\n\n### 8.x ç‰ˆæœ¬é…ç½®\n\n```js\n// .eslintrc.js\nmodule.exports = {\n\t// é…ç½®æ ¹ç›®å½•\n\troot: true,\n\t// é…ç½®ç¯å¢ƒ,æ”¯æŒçš„ç¯å¢ƒ\n\tenv: {\n\t\tnode: true,\n\t\tbrowser: true,\n\t\tes2021: true,\n\t},\n\t// ç»§æ‰¿çš„æ’ä»¶\n\textends: [\n\t\t// https://github.com/antfu/vue-global-api\n\t\t\"vue-global-api\",\n\t\t// eslint:recommended æˆ–è€… eslint:all\n\t\t// å¼€å¯eslintè§„åˆ™ï¼Œeslint:all ä»£è¡¨å¼€å¯æ‰€æœ‰çš„è§„åˆ™ï¼ˆå®˜æ–¹ä¸æ¨èæ­¤è§„åˆ™ï¼‰\n\t\t\"eslint:recommended\",\n\t\t// eslint-plugin-vue æ’ä»¶\n\t\t\"plugin:vue/vue3-recommended\",\n\t\t// æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js é¡¹ç›®è®¾è®¡çš„ TypeScript ESLint é…ç½®åŒ…ã€‚å®ƒæ—¨åœ¨å¸®åŠ©å¼€å‘è€…åœ¨ä½¿ç”¨ TypeScript å’Œ Vue.js æ—¶\n\t\t// https://www.npmjs.com/package/@vue/eslint-config-typescript\n\t\t\"@vue/eslint-config-typescript/recommended\",\n\t\t// å¯ç”¨prettier/prettierè§„åˆ™\n\t\t\"plugin:prettier/recommended\",\n\t\t// https://www.npmjs.com/package/@vue/eslint-config-prettier\n\t\t// ä¸»è¦éœ€è¦å®‰è£…8.0çš„ç‰ˆæœ¬\n\t\t\"@vue/eslint-config-prettier\",\n\t],\n\t// é…ç½®è§„åˆ™\n\trules: {},\n};\n```\n\n### 9.x ç‰ˆæœ¬é…ç½®\n\nå…³äº`9.0`çš„è¯´æ˜ï¼Œåœ¨[vue é¡¹ç›®åˆ›å»º](/brochure/project/product/init_vuel#eslint)ä¸­å°±æåˆ°äº†\n\n```js\nimport js from \"@eslint/js\";\nimport globals from \"globals\";\nimport ts from \"typescript-eslint\";\n\nimport eslintPluginPrettierRecommended from \"eslint-plugin-prettier/recommended\";\nimport pluginVue from \"eslint-plugin-vue\";\nimport vueTsEslintConfig from \"@vue/eslint-config-typescript\";\n\nexport default [\n\t{ languageOptions: { globals: globals.browser } },\n\t// eslint é»˜è®¤æ¨èè§„åˆ™\n\tjs.configs.recommended,\n\t// ts é»˜è®¤æ¨èè§„åˆ™\n\t...ts.configs.recommended,\n\t// vue3 åŸºç¡€æ¨èè§„åˆ™\n\t// https://www.npmjs.com/package/@vue/eslint-config-typescript\n\t...pluginVue.configs[\"flat/essential\"],\n\t...vueTsEslintConfig(),\n\t// prettier é»˜è®¤æ¨èè§„åˆ™\n\t// https://github.com/prettier/eslint-plugin-prettier?tab=readme-ov-file\n\teslintPluginPrettierRecommended,\n\t// å¿½ç•¥distç›®å½•\n\t{ ignores: [\"dist/\"] },\n];\n```\n\n### ä»€ä¹ˆæ˜¯ rules\n\n```json\n{\n\t\"rules\": {\n\t\t\"semi\": [\"error\", \"always\"],\n\t\t\"quotes\": [\"error\", \"double\"]\n\t}\n}\n```\n\nåç§°â€œsemiâ€å’Œâ€œquotesâ€æ˜¯ ESLint ä¸­è§„åˆ™çš„åç§°ã€‚ç¬¬ä¸€ä¸ªå€¼æ˜¯è§„åˆ™çš„é”™è¯¯çº§åˆ«ï¼Œå¯ä»¥æ˜¯ä»¥ä¸‹å€¼ä¹‹ä¸€ï¼š\n\n- `\"off\"` æˆ–åˆ™ `0` - å…³é—­è§„åˆ™\n- `\"warn\"` or `1` - æ˜¾ç¤ºè­¦å‘Š (ä¸ä¼šå½±å“ exit code)\n- `\"error\"` or `2` - æ˜¾ç¤ºé”™è¯¯ (exit code ä¼šæ˜¯ 1)\n\n## .eslintignore\n\n`eslint` å¿½ç•¥è§„åˆ™ç±»ä¼¼å¦‚ä¸‹ï¼š\n\n```bash\n/library/build/unplugin/components.d.ts\nnode_modules\nsrc/assets\nsrc/icons\npublic\ndist\n```\n\n## åœ¨`package.json`é…ç½®\n\n```json\n{\n\t\"scripts\": {\n\t\t\"lint:fix\": \"eslint {src,mock,library}/**/*.{vue,js,ts} --fix\"\n\t}\n}\n```\n","slug":"æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/eslint","published":1,"updated":"2025-03-12T09:38:15.172Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j9007bfg9m45j4e1al","content":"<h1 id=\"eslint\"><a href=\"#eslint\" class=\"headerlink\" title=\"eslint\"></a>eslint</h1><p><code>ESLint</code> æ˜¯ä¸€ä¸ªå¯é…ç½®çš„ <code>JavaScript linter</code>ã€‚å®ƒå¯ä»¥å¸®åŠ©æ‚¨å‘ç°å¹¶ä¿®å¤ <code>JavaScript</code> ä»£ç ä¸­çš„é—®é¢˜ã€‚é—®é¢˜å¯ä»¥æ˜¯ä»»ä½•é—®é¢˜ï¼Œä»æ½œåœ¨çš„è¿è¡Œæ—¶é”™è¯¯ï¼Œåˆ°ä¸éµå¾ªæœ€ä½³å®è·µï¼Œå†åˆ°æ ·å¼é—®é¢˜</p>\n<h2 id=\"é…ç½®æ–‡ä»¶\"><a href=\"#é…ç½®æ–‡ä»¶\" class=\"headerlink\" title=\"é…ç½®æ–‡ä»¶\"></a>é…ç½®æ–‡ä»¶</h2><p>é…ç½®æ–‡ä»¶çš„åå­—æœ‰å¾ˆå¤šï¼Œç‰ˆæœ¬çš„ä¸åŒä¼šå¯¼è‡´ä¸åŒçš„å¯¼å‡ºè¯­æ³•ï¼š</p>\n<p>é¦–å…ˆè¯´æ˜æ–‡ä»¶åçš„å˜åŠ¨</p>\n<ul>\n<li><p>8.x ç‰ˆæœ¬</p>\n<ul>\n<li><code>module.exports = &#123;&#125;</code></li>\n</ul>\n<ol>\n<li>.eslintrc.js</li>\n<li>.eslintrc.cjs</li>\n<li>.eslintrc.yaml</li>\n<li>.eslintrc.yml</li>\n<li>.eslintrc.json</li>\n</ol>\n</li>\n<li><p>9.x ç‰ˆæœ¬</p>\n<ul>\n<li><code>export default []</code></li>\n</ul>\n<ol>\n<li>eslint.config.js</li>\n<li>eslint.config.mjs</li>\n<li>eslint.config.cjs</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"8-x-ç‰ˆæœ¬é…ç½®\"><a href=\"#8-x-ç‰ˆæœ¬é…ç½®\" class=\"headerlink\" title=\"8.x ç‰ˆæœ¬é…ç½®\"></a>8.x ç‰ˆæœ¬é…ç½®</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// .eslintrc.js</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// é…ç½®æ ¹ç›®å½•</span></span><br><span class=\"line\">\t<span class=\"attr\">root</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// é…ç½®ç¯å¢ƒ,æ”¯æŒçš„ç¯å¢ƒ</span></span><br><span class=\"line\">\t<span class=\"attr\">env</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">node</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">browser</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">es2021</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"comment\">// ç»§æ‰¿çš„æ’ä»¶</span></span><br><span class=\"line\">\t<span class=\"attr\">extends</span>: [</span><br><span class=\"line\">\t\t<span class=\"comment\">// https://github.com/antfu/vue-global-api</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;vue-global-api&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// eslint:recommended æˆ–è€… eslint:all</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¼€å¯eslintè§„åˆ™ï¼Œeslint:all ä»£è¡¨å¼€å¯æ‰€æœ‰çš„è§„åˆ™ï¼ˆå®˜æ–¹ä¸æ¨èæ­¤è§„åˆ™ï¼‰</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;eslint:recommended&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// eslint-plugin-vue æ’ä»¶</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;plugin:vue/vue3-recommended&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js é¡¹ç›®è®¾è®¡çš„ TypeScript ESLint é…ç½®åŒ…ã€‚å®ƒæ—¨åœ¨å¸®åŠ©å¼€å‘è€…åœ¨ä½¿ç”¨ TypeScript å’Œ Vue.js æ—¶</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// https://www.npmjs.com/package/@vue/eslint-config-typescript</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;@vue/eslint-config-typescript/recommended&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¯ç”¨prettier/prettierè§„åˆ™</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;plugin:prettier/recommended&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// https://www.npmjs.com/package/@vue/eslint-config-prettier</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸»è¦éœ€è¦å®‰è£…8.0çš„ç‰ˆæœ¬</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;@vue/eslint-config-prettier&quot;</span>,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"comment\">// é…ç½®è§„åˆ™</span></span><br><span class=\"line\">\t<span class=\"attr\">rules</span>: &#123;&#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"9-x-ç‰ˆæœ¬é…ç½®\"><a href=\"#9-x-ç‰ˆæœ¬é…ç½®\" class=\"headerlink\" title=\"9.x ç‰ˆæœ¬é…ç½®\"></a>9.x ç‰ˆæœ¬é…ç½®</h3><p>å…³äº<code>9.0</code>çš„è¯´æ˜ï¼Œåœ¨<a href=\"/brochure/project/product/init_vuel#eslint\">vue é¡¹ç›®åˆ›å»º</a>ä¸­å°±æåˆ°äº†</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> js <span class=\"keyword\">from</span> <span class=\"string\">&quot;@eslint/js&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> globals <span class=\"keyword\">from</span> <span class=\"string\">&quot;globals&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> ts <span class=\"keyword\">from</span> <span class=\"string\">&quot;typescript-eslint&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> eslintPluginPrettierRecommended <span class=\"keyword\">from</span> <span class=\"string\">&quot;eslint-plugin-prettier/recommended&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginVue <span class=\"keyword\">from</span> <span class=\"string\">&quot;eslint-plugin-vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> vueTsEslintConfig <span class=\"keyword\">from</span> <span class=\"string\">&quot;@vue/eslint-config-typescript&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> [</span><br><span class=\"line\">\t&#123; <span class=\"attr\">languageOptions</span>: &#123; <span class=\"attr\">globals</span>: globals.<span class=\"property\">browser</span> &#125; &#125;,</span><br><span class=\"line\">\t<span class=\"comment\">// eslint é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\tjs.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ts é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...ts.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// vue3 åŸºç¡€æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t<span class=\"comment\">// https://www.npmjs.com/package/@vue/eslint-config-typescript</span></span><br><span class=\"line\">\t...pluginVue.<span class=\"property\">configs</span>[<span class=\"string\">&quot;flat/essential&quot;</span>],</span><br><span class=\"line\">\t...<span class=\"title function_\">vueTsEslintConfig</span>(),</span><br><span class=\"line\">\t<span class=\"comment\">// prettier é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t<span class=\"comment\">// https://github.com/prettier/eslint-plugin-prettier?tab=readme-ov-file</span></span><br><span class=\"line\">\teslintPluginPrettierRecommended,</span><br><span class=\"line\">\t<span class=\"comment\">// å¿½ç•¥distç›®å½•</span></span><br><span class=\"line\">\t&#123; <span class=\"attr\">ignores</span>: [<span class=\"string\">&quot;dist/&quot;</span>] &#125;,</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä»€ä¹ˆæ˜¯-rules\"><a href=\"#ä»€ä¹ˆæ˜¯-rules\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯ rules\"></a>ä»€ä¹ˆæ˜¯ rules</h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;rules&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;semi&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"string\">&quot;error&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;always&quot;</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;quotes&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"string\">&quot;error&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;double&quot;</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>åç§°â€œsemiâ€å’Œâ€œquotesâ€æ˜¯ ESLint ä¸­è§„åˆ™çš„åç§°ã€‚ç¬¬ä¸€ä¸ªå€¼æ˜¯è§„åˆ™çš„é”™è¯¯çº§åˆ«ï¼Œå¯ä»¥æ˜¯ä»¥ä¸‹å€¼ä¹‹ä¸€ï¼š</p>\n<ul>\n<li><code>&quot;off&quot;</code> æˆ–åˆ™ <code>0</code> - å…³é—­è§„åˆ™</li>\n<li><code>&quot;warn&quot;</code> or <code>1</code> - æ˜¾ç¤ºè­¦å‘Š (ä¸ä¼šå½±å“ exit code)</li>\n<li><code>&quot;error&quot;</code> or <code>2</code> - æ˜¾ç¤ºé”™è¯¯ (exit code ä¼šæ˜¯ 1)</li>\n</ul>\n<h2 id=\"eslintignore\"><a href=\"#eslintignore\" class=\"headerlink\" title=\".eslintignore\"></a>.eslintignore</h2><p><code>eslint</code> å¿½ç•¥è§„åˆ™ç±»ä¼¼å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/library/build/unplugin/components.d.ts</span><br><span class=\"line\">node_modules</span><br><span class=\"line\">src/assets</span><br><span class=\"line\">src/icons</span><br><span class=\"line\">public</span><br><span class=\"line\">dist</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åœ¨package-jsoné…ç½®\"><a href=\"#åœ¨package-jsoné…ç½®\" class=\"headerlink\" title=\"åœ¨package.jsoné…ç½®\"></a>åœ¨<code>package.json</code>é…ç½®</h2><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;lint:fix&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;eslint &#123;src,mock,library&#125;/**/*.&#123;vue,js,ts&#125; --fix&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"eslint\"><a href=\"#eslint\" class=\"headerlink\" title=\"eslint\"></a>eslint</h1><p><code>ESLint</code> æ˜¯ä¸€ä¸ªå¯é…ç½®çš„ <code>JavaScript linter</code>ã€‚å®ƒå¯ä»¥å¸®åŠ©æ‚¨å‘ç°å¹¶ä¿®å¤ <code>JavaScript</code> ä»£ç ä¸­çš„é—®é¢˜ã€‚é—®é¢˜å¯ä»¥æ˜¯ä»»ä½•é—®é¢˜ï¼Œä»æ½œåœ¨çš„è¿è¡Œæ—¶é”™è¯¯ï¼Œåˆ°ä¸éµå¾ªæœ€ä½³å®è·µï¼Œå†åˆ°æ ·å¼é—®é¢˜</p>\n<h2 id=\"é…ç½®æ–‡ä»¶\"><a href=\"#é…ç½®æ–‡ä»¶\" class=\"headerlink\" title=\"é…ç½®æ–‡ä»¶\"></a>é…ç½®æ–‡ä»¶</h2><p>é…ç½®æ–‡ä»¶çš„åå­—æœ‰å¾ˆå¤šï¼Œç‰ˆæœ¬çš„ä¸åŒä¼šå¯¼è‡´ä¸åŒçš„å¯¼å‡ºè¯­æ³•ï¼š</p>\n<p>é¦–å…ˆè¯´æ˜æ–‡ä»¶åçš„å˜åŠ¨</p>\n<ul>\n<li><p>8.x ç‰ˆæœ¬</p>\n<ul>\n<li><code>module.exports = &#123;&#125;</code></li>\n</ul>\n<ol>\n<li>.eslintrc.js</li>\n<li>.eslintrc.cjs</li>\n<li>.eslintrc.yaml</li>\n<li>.eslintrc.yml</li>\n<li>.eslintrc.json</li>\n</ol>\n</li>\n<li><p>9.x ç‰ˆæœ¬</p>\n<ul>\n<li><code>export default []</code></li>\n</ul>\n<ol>\n<li>eslint.config.js</li>\n<li>eslint.config.mjs</li>\n<li>eslint.config.cjs</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"8-x-ç‰ˆæœ¬é…ç½®\"><a href=\"#8-x-ç‰ˆæœ¬é…ç½®\" class=\"headerlink\" title=\"8.x ç‰ˆæœ¬é…ç½®\"></a>8.x ç‰ˆæœ¬é…ç½®</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// .eslintrc.js</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// é…ç½®æ ¹ç›®å½•</span></span><br><span class=\"line\">\t<span class=\"attr\">root</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// é…ç½®ç¯å¢ƒ,æ”¯æŒçš„ç¯å¢ƒ</span></span><br><span class=\"line\">\t<span class=\"attr\">env</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">node</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">browser</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">es2021</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"comment\">// ç»§æ‰¿çš„æ’ä»¶</span></span><br><span class=\"line\">\t<span class=\"attr\">extends</span>: [</span><br><span class=\"line\">\t\t<span class=\"comment\">// https://github.com/antfu/vue-global-api</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;vue-global-api&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// eslint:recommended æˆ–è€… eslint:all</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¼€å¯eslintè§„åˆ™ï¼Œeslint:all ä»£è¡¨å¼€å¯æ‰€æœ‰çš„è§„åˆ™ï¼ˆå®˜æ–¹ä¸æ¨èæ­¤è§„åˆ™ï¼‰</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;eslint:recommended&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// eslint-plugin-vue æ’ä»¶</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;plugin:vue/vue3-recommended&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js é¡¹ç›®è®¾è®¡çš„ TypeScript ESLint é…ç½®åŒ…ã€‚å®ƒæ—¨åœ¨å¸®åŠ©å¼€å‘è€…åœ¨ä½¿ç”¨ TypeScript å’Œ Vue.js æ—¶</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// https://www.npmjs.com/package/@vue/eslint-config-typescript</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;@vue/eslint-config-typescript/recommended&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¯ç”¨prettier/prettierè§„åˆ™</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;plugin:prettier/recommended&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// https://www.npmjs.com/package/@vue/eslint-config-prettier</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸»è¦éœ€è¦å®‰è£…8.0çš„ç‰ˆæœ¬</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;@vue/eslint-config-prettier&quot;</span>,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"comment\">// é…ç½®è§„åˆ™</span></span><br><span class=\"line\">\t<span class=\"attr\">rules</span>: &#123;&#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"9-x-ç‰ˆæœ¬é…ç½®\"><a href=\"#9-x-ç‰ˆæœ¬é…ç½®\" class=\"headerlink\" title=\"9.x ç‰ˆæœ¬é…ç½®\"></a>9.x ç‰ˆæœ¬é…ç½®</h3><p>å…³äº<code>9.0</code>çš„è¯´æ˜ï¼Œåœ¨<a href=\"/brochure/project/product/init_vuel#eslint\">vue é¡¹ç›®åˆ›å»º</a>ä¸­å°±æåˆ°äº†</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> js <span class=\"keyword\">from</span> <span class=\"string\">&quot;@eslint/js&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> globals <span class=\"keyword\">from</span> <span class=\"string\">&quot;globals&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> ts <span class=\"keyword\">from</span> <span class=\"string\">&quot;typescript-eslint&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> eslintPluginPrettierRecommended <span class=\"keyword\">from</span> <span class=\"string\">&quot;eslint-plugin-prettier/recommended&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginVue <span class=\"keyword\">from</span> <span class=\"string\">&quot;eslint-plugin-vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> vueTsEslintConfig <span class=\"keyword\">from</span> <span class=\"string\">&quot;@vue/eslint-config-typescript&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> [</span><br><span class=\"line\">\t&#123; <span class=\"attr\">languageOptions</span>: &#123; <span class=\"attr\">globals</span>: globals.<span class=\"property\">browser</span> &#125; &#125;,</span><br><span class=\"line\">\t<span class=\"comment\">// eslint é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\tjs.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ts é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...ts.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// vue3 åŸºç¡€æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t<span class=\"comment\">// https://www.npmjs.com/package/@vue/eslint-config-typescript</span></span><br><span class=\"line\">\t...pluginVue.<span class=\"property\">configs</span>[<span class=\"string\">&quot;flat/essential&quot;</span>],</span><br><span class=\"line\">\t...<span class=\"title function_\">vueTsEslintConfig</span>(),</span><br><span class=\"line\">\t<span class=\"comment\">// prettier é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t<span class=\"comment\">// https://github.com/prettier/eslint-plugin-prettier?tab=readme-ov-file</span></span><br><span class=\"line\">\teslintPluginPrettierRecommended,</span><br><span class=\"line\">\t<span class=\"comment\">// å¿½ç•¥distç›®å½•</span></span><br><span class=\"line\">\t&#123; <span class=\"attr\">ignores</span>: [<span class=\"string\">&quot;dist/&quot;</span>] &#125;,</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä»€ä¹ˆæ˜¯-rules\"><a href=\"#ä»€ä¹ˆæ˜¯-rules\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯ rules\"></a>ä»€ä¹ˆæ˜¯ rules</h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;rules&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;semi&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"string\">&quot;error&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;always&quot;</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;quotes&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"string\">&quot;error&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;double&quot;</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>åç§°â€œsemiâ€å’Œâ€œquotesâ€æ˜¯ ESLint ä¸­è§„åˆ™çš„åç§°ã€‚ç¬¬ä¸€ä¸ªå€¼æ˜¯è§„åˆ™çš„é”™è¯¯çº§åˆ«ï¼Œå¯ä»¥æ˜¯ä»¥ä¸‹å€¼ä¹‹ä¸€ï¼š</p>\n<ul>\n<li><code>&quot;off&quot;</code> æˆ–åˆ™ <code>0</code> - å…³é—­è§„åˆ™</li>\n<li><code>&quot;warn&quot;</code> or <code>1</code> - æ˜¾ç¤ºè­¦å‘Š (ä¸ä¼šå½±å“ exit code)</li>\n<li><code>&quot;error&quot;</code> or <code>2</code> - æ˜¾ç¤ºé”™è¯¯ (exit code ä¼šæ˜¯ 1)</li>\n</ul>\n<h2 id=\"eslintignore\"><a href=\"#eslintignore\" class=\"headerlink\" title=\".eslintignore\"></a>.eslintignore</h2><p><code>eslint</code> å¿½ç•¥è§„åˆ™ç±»ä¼¼å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/library/build/unplugin/components.d.ts</span><br><span class=\"line\">node_modules</span><br><span class=\"line\">src/assets</span><br><span class=\"line\">src/icons</span><br><span class=\"line\">public</span><br><span class=\"line\">dist</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åœ¨package-jsoné…ç½®\"><a href=\"#åœ¨package-jsoné…ç½®\" class=\"headerlink\" title=\"åœ¨package.jsoné…ç½®\"></a>åœ¨<code>package.json</code>é…ç½®</h2><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;lint:fix&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;eslint &#123;src,mock,library&#125;/**/*.&#123;vue,js,ts&#125; --fix&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n"},{"title":"é¡¹ç›®å·¥ç¨‹åŒ–-husky","abbrlink":"cae636c2","date":"2024-08-08T01:05:01.000Z","_content":"\n# husky\n\n`Husky` ä½œä¸ºä¸€ä¸ªå¼ºå¤§çš„`Git`é’©å­ç®¡ç†å™¨ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–ä»£ç è´¨é‡æ£€æŸ¥å’Œæµ‹è¯•æµç¨‹ï¼Œæå¤§åœ°æå‡äº†è½¯ä»¶å¼€å‘å›¢é˜Ÿçš„å·¥ä½œæ•ˆç‡å’Œä»£ç è´¨é‡ã€‚ é€šè¿‡åˆç†é…ç½®ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©å¼€å‘è€…åœ¨æäº¤ä»£ç ä¹‹å‰å‘ç°å¹¶ä¿®æ­£æ½œåœ¨çš„é—®é¢˜ï¼Œä»è€Œå‡å°‘åç»­çš„ä¿®å¤æˆæœ¬å’Œæ²Ÿé€šæˆæœ¬ã€‚\n\nåœ¨é¡¹ç›®ä¸­ï¼Œç»å¸¸ä½¿ç”¨`husky + lint-staged`å†æäº¤ä»£ç ä¹‹å‰åšä¸€ç³»åˆ—ä»£ç æ ¼å¼æ“ä½œï¼Œå› ä¸ºé¡¹ç›®ä¸­å®‰è£…çš„`eslint + stylelint + perttier`æœ‰å¯èƒ½ä¼šå‡ºç°å¦‚æœä»£ç æ²¡æœ‰è¿›è¡Œæ ¼å¼åŒ–ï¼Œé‚£ä¹ˆåœ¨é’©å­ç®¡ç†å™¨ä¸­æ£€æµ‹æ‰§è¡Œå¯¹åº”çš„æ ¼å¼åŒ–å‘½ä»¤ï¼›è¿™æ ·ä¿è¯ä»£ç çš„è§„èŒƒæ€§ï¼›\n\n## å®‰è£…å¯¹åº”çš„ä¾èµ–\n\n```bash\npnpm add -D husky lint-staged @commitlint/cli @commitlint/config-conventional\n```\n\n- `husky`: `Git hooks` å·¥å…·ï¼Œå¯¹`git`æ‰§è¡Œçš„ä¸€äº›å‘½ä»¤ï¼Œé€šè¿‡å¯¹åº”çš„`hooks`é’©å­è§¦å‘ï¼Œæ‰§è¡Œè‡ªå®šä¹‰çš„è„šæœ¬ç¨‹åº\n- `lint-staged`: æ£€æµ‹æ–‡ä»¶æ’ä»¶ï¼Œåªæ£€æµ‹`git add .` ä¸­æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œå¯¹è¿‡æ»¤å‡ºçš„æ–‡ä»¶æ‰§è¡Œè„šæœ¬\n- `@commitlint/cli`ä¸`@commitlint/config-conventional`æ˜¯æäº¤è§„èŒƒé…ç½®\n\n## lint-staged é…ç½®\n\n```json\n{\n\t\"scripts\": {},\n\t// æ³¨æ„ï¼šå’Œscriptsæ˜¯åŒçº§\n\t\"lint-staged\": {\n\t\t\"*.{js,ts,vue,json}\": [\n\t\t\t\"pnpm run lint:fix\",\n\t\t\t\"pnpm run lint:format\",\n\t\t\t\"pnpm run lint:style\",\n\t\t\t\"git add\"\n\t\t]\n\t}\n}\n```\n\nå…³äº`lint:fix, lint:format, lint:style`æ˜¯ä»€ä¹ˆï¼Ÿ\n\n- [`link:fix`](/brochure/05_é¡¹ç›®ç®¡ç†/02_å·¥ç¨‹åŒ–/.eslint.html#åœ¨package-jsoné…ç½®)\n- [`link:format`](/brochure/05_é¡¹ç›®ç®¡ç†/02_å·¥ç¨‹åŒ–/.prettier.html#åœ¨package-jsoné…ç½®)\n- [`link:style`](/brochure/05_é¡¹ç›®ç®¡ç†/02_å·¥ç¨‹åŒ–/.stylelint.html#åœ¨package-jsoné…ç½®)\n\n## commitlint é…ç½®\n\nå®‰è£…æˆåŠŸ`@commitlint/cli`ä¸`@commitlint/config-conventional`ä¹‹åï¼Œéœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ·»åŠ é…ç½®æ–‡ä»¶`commitlint.config.cjs`\n\n```js\nmodule.exports = {\n\textends: [\"@commitlint/config-conventional\"],\n\t// æ ¡éªŒè§„åˆ™\n\trules: {\n\t\t\"type-enum\": [\n\t\t\t2,\n\t\t\t\"always\",\n\t\t\t[\n\t\t\t\t\"feat\",\n\t\t\t\t\"fix\",\n\t\t\t\t\"docs\",\n\t\t\t\t\"style\",\n\t\t\t\t\"refactor\",\n\t\t\t\t\"perf\",\n\t\t\t\t\"test\",\n\t\t\t\t\"chore\",\n\t\t\t\t\"revert\",\n\t\t\t\t\"build\",\n\t\t\t],\n\t\t],\n\t\t\"type-case\": [0],\n\t\t\"type-empty\": [0],\n\t\t\"scope-empty\": [0],\n\t\t\"scope-case\": [0],\n\t\t\"subject-full-stop\": [0, \"never\"],\n\t\t\"subject-case\": [0, \"never\"],\n\t\t\"header-max-length\": [0, \"always\", 72],\n\t},\n};\n```\n\næ¥ç€éœ€è¦åœ¨`package.json`ä¸­é…ç½®å‘½ä»¤ï¼š\n\n```json\n{\n\t// commitlint.config.cjséœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ è¿™ä¸ªé…ç½®æ–‡ä»¶\n\t\"scripts\": {\n\t\t\"commitlint\": \"commitlint --config commitlint.config.cjs -e -V\"\n\t}\n}\n```\n\n## ä½¿ç”¨\n\n### æ·»åŠ å‘½ä»¤\n\n```json\n{\n\t\"scripts\": {\n\t\t\"prepare\": \"husky install\"\n\t}\n}\n```\n\nåœ¨æ‰§è¡Œ`pnpm install`çš„æ—¶å€™, å°±ä¼šæ‰§è¡Œ`prepare`, å½“ç„¶æ³¨æ„çš„æ˜¯ï¼š `husky install`æ˜¯éœ€è¦ä½ çš„é¡¹ç›®æ˜¯æœ‰`.git`é…ç½®çš„ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨`git init`åˆå§‹åŒ–å³å¯ï¼›\n\n### é…ç½®å¯¹åº”çš„é’©å­\n\n#### pre-commit\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰¾åˆ°`.husky`, åœ¨è¿™ä¸ªç›®å½•ä¸­æ·»åŠ `pre-commit`æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š\n\n```bash\n#!/usr/bin/env sh\n. \"$(dirname -- \"$0\")/_/husky.sh\"\npnpm exec lint-staged\n```\n\nåœ¨æäº¤ä¹‹å‰ä¼šæ‰§è¡Œ`lint-staged`, è¿™æ ·é»˜è®¤å°±ä¼šæŠŠä»£ç æ ¼å¼ä¿®å¤ä¸€ä¸‹\n\n### commit-msg\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰¾åˆ°`.husky`, åœ¨è¿™ä¸ªç›®å½•ä¸­æ·»åŠ `commit-msg`æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š\n\n```sh\n#!/usr/bin/env sh\n. \"$(dirname -- \"$0\")/_/husky.sh\"\n\npnpm commitlint\n\n```\n\n**commitlint æ˜¯ä»€ä¹ˆï¼Ÿ**\n\n> `commitlint`å°±æ˜¯`package.json--->script--->commitlintå‘½ä»¤`\n","source":"_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/husky.md","raw":"---\ntitle: é¡¹ç›®å·¥ç¨‹åŒ–-husky\nabbrlink: cae636c2\ndate: 2024-08-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å·¥ç¨‹åŒ–\n---\n\n# husky\n\n`Husky` ä½œä¸ºä¸€ä¸ªå¼ºå¤§çš„`Git`é’©å­ç®¡ç†å™¨ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–ä»£ç è´¨é‡æ£€æŸ¥å’Œæµ‹è¯•æµç¨‹ï¼Œæå¤§åœ°æå‡äº†è½¯ä»¶å¼€å‘å›¢é˜Ÿçš„å·¥ä½œæ•ˆç‡å’Œä»£ç è´¨é‡ã€‚ é€šè¿‡åˆç†é…ç½®ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©å¼€å‘è€…åœ¨æäº¤ä»£ç ä¹‹å‰å‘ç°å¹¶ä¿®æ­£æ½œåœ¨çš„é—®é¢˜ï¼Œä»è€Œå‡å°‘åç»­çš„ä¿®å¤æˆæœ¬å’Œæ²Ÿé€šæˆæœ¬ã€‚\n\nåœ¨é¡¹ç›®ä¸­ï¼Œç»å¸¸ä½¿ç”¨`husky + lint-staged`å†æäº¤ä»£ç ä¹‹å‰åšä¸€ç³»åˆ—ä»£ç æ ¼å¼æ“ä½œï¼Œå› ä¸ºé¡¹ç›®ä¸­å®‰è£…çš„`eslint + stylelint + perttier`æœ‰å¯èƒ½ä¼šå‡ºç°å¦‚æœä»£ç æ²¡æœ‰è¿›è¡Œæ ¼å¼åŒ–ï¼Œé‚£ä¹ˆåœ¨é’©å­ç®¡ç†å™¨ä¸­æ£€æµ‹æ‰§è¡Œå¯¹åº”çš„æ ¼å¼åŒ–å‘½ä»¤ï¼›è¿™æ ·ä¿è¯ä»£ç çš„è§„èŒƒæ€§ï¼›\n\n## å®‰è£…å¯¹åº”çš„ä¾èµ–\n\n```bash\npnpm add -D husky lint-staged @commitlint/cli @commitlint/config-conventional\n```\n\n- `husky`: `Git hooks` å·¥å…·ï¼Œå¯¹`git`æ‰§è¡Œçš„ä¸€äº›å‘½ä»¤ï¼Œé€šè¿‡å¯¹åº”çš„`hooks`é’©å­è§¦å‘ï¼Œæ‰§è¡Œè‡ªå®šä¹‰çš„è„šæœ¬ç¨‹åº\n- `lint-staged`: æ£€æµ‹æ–‡ä»¶æ’ä»¶ï¼Œåªæ£€æµ‹`git add .` ä¸­æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œå¯¹è¿‡æ»¤å‡ºçš„æ–‡ä»¶æ‰§è¡Œè„šæœ¬\n- `@commitlint/cli`ä¸`@commitlint/config-conventional`æ˜¯æäº¤è§„èŒƒé…ç½®\n\n## lint-staged é…ç½®\n\n```json\n{\n\t\"scripts\": {},\n\t// æ³¨æ„ï¼šå’Œscriptsæ˜¯åŒçº§\n\t\"lint-staged\": {\n\t\t\"*.{js,ts,vue,json}\": [\n\t\t\t\"pnpm run lint:fix\",\n\t\t\t\"pnpm run lint:format\",\n\t\t\t\"pnpm run lint:style\",\n\t\t\t\"git add\"\n\t\t]\n\t}\n}\n```\n\nå…³äº`lint:fix, lint:format, lint:style`æ˜¯ä»€ä¹ˆï¼Ÿ\n\n- [`link:fix`](/brochure/05_é¡¹ç›®ç®¡ç†/02_å·¥ç¨‹åŒ–/.eslint.html#åœ¨package-jsoné…ç½®)\n- [`link:format`](/brochure/05_é¡¹ç›®ç®¡ç†/02_å·¥ç¨‹åŒ–/.prettier.html#åœ¨package-jsoné…ç½®)\n- [`link:style`](/brochure/05_é¡¹ç›®ç®¡ç†/02_å·¥ç¨‹åŒ–/.stylelint.html#åœ¨package-jsoné…ç½®)\n\n## commitlint é…ç½®\n\nå®‰è£…æˆåŠŸ`@commitlint/cli`ä¸`@commitlint/config-conventional`ä¹‹åï¼Œéœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ·»åŠ é…ç½®æ–‡ä»¶`commitlint.config.cjs`\n\n```js\nmodule.exports = {\n\textends: [\"@commitlint/config-conventional\"],\n\t// æ ¡éªŒè§„åˆ™\n\trules: {\n\t\t\"type-enum\": [\n\t\t\t2,\n\t\t\t\"always\",\n\t\t\t[\n\t\t\t\t\"feat\",\n\t\t\t\t\"fix\",\n\t\t\t\t\"docs\",\n\t\t\t\t\"style\",\n\t\t\t\t\"refactor\",\n\t\t\t\t\"perf\",\n\t\t\t\t\"test\",\n\t\t\t\t\"chore\",\n\t\t\t\t\"revert\",\n\t\t\t\t\"build\",\n\t\t\t],\n\t\t],\n\t\t\"type-case\": [0],\n\t\t\"type-empty\": [0],\n\t\t\"scope-empty\": [0],\n\t\t\"scope-case\": [0],\n\t\t\"subject-full-stop\": [0, \"never\"],\n\t\t\"subject-case\": [0, \"never\"],\n\t\t\"header-max-length\": [0, \"always\", 72],\n\t},\n};\n```\n\næ¥ç€éœ€è¦åœ¨`package.json`ä¸­é…ç½®å‘½ä»¤ï¼š\n\n```json\n{\n\t// commitlint.config.cjséœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ è¿™ä¸ªé…ç½®æ–‡ä»¶\n\t\"scripts\": {\n\t\t\"commitlint\": \"commitlint --config commitlint.config.cjs -e -V\"\n\t}\n}\n```\n\n## ä½¿ç”¨\n\n### æ·»åŠ å‘½ä»¤\n\n```json\n{\n\t\"scripts\": {\n\t\t\"prepare\": \"husky install\"\n\t}\n}\n```\n\nåœ¨æ‰§è¡Œ`pnpm install`çš„æ—¶å€™, å°±ä¼šæ‰§è¡Œ`prepare`, å½“ç„¶æ³¨æ„çš„æ˜¯ï¼š `husky install`æ˜¯éœ€è¦ä½ çš„é¡¹ç›®æ˜¯æœ‰`.git`é…ç½®çš„ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨`git init`åˆå§‹åŒ–å³å¯ï¼›\n\n### é…ç½®å¯¹åº”çš„é’©å­\n\n#### pre-commit\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰¾åˆ°`.husky`, åœ¨è¿™ä¸ªç›®å½•ä¸­æ·»åŠ `pre-commit`æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š\n\n```bash\n#!/usr/bin/env sh\n. \"$(dirname -- \"$0\")/_/husky.sh\"\npnpm exec lint-staged\n```\n\nåœ¨æäº¤ä¹‹å‰ä¼šæ‰§è¡Œ`lint-staged`, è¿™æ ·é»˜è®¤å°±ä¼šæŠŠä»£ç æ ¼å¼ä¿®å¤ä¸€ä¸‹\n\n### commit-msg\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰¾åˆ°`.husky`, åœ¨è¿™ä¸ªç›®å½•ä¸­æ·»åŠ `commit-msg`æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š\n\n```sh\n#!/usr/bin/env sh\n. \"$(dirname -- \"$0\")/_/husky.sh\"\n\npnpm commitlint\n\n```\n\n**commitlint æ˜¯ä»€ä¹ˆï¼Ÿ**\n\n> `commitlint`å°±æ˜¯`package.json--->script--->commitlintå‘½ä»¤`\n","slug":"æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/husky","published":1,"updated":"2025-03-12T09:38:10.245Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j9007ffg9m8vvd3k8k","content":"<h1 id=\"husky\"><a href=\"#husky\" class=\"headerlink\" title=\"husky\"></a>husky</h1><p><code>Husky</code> ä½œä¸ºä¸€ä¸ªå¼ºå¤§çš„<code>Git</code>é’©å­ç®¡ç†å™¨ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–ä»£ç è´¨é‡æ£€æŸ¥å’Œæµ‹è¯•æµç¨‹ï¼Œæå¤§åœ°æå‡äº†è½¯ä»¶å¼€å‘å›¢é˜Ÿçš„å·¥ä½œæ•ˆç‡å’Œä»£ç è´¨é‡ã€‚ é€šè¿‡åˆç†é…ç½®ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©å¼€å‘è€…åœ¨æäº¤ä»£ç ä¹‹å‰å‘ç°å¹¶ä¿®æ­£æ½œåœ¨çš„é—®é¢˜ï¼Œä»è€Œå‡å°‘åç»­çš„ä¿®å¤æˆæœ¬å’Œæ²Ÿé€šæˆæœ¬ã€‚</p>\n<p>åœ¨é¡¹ç›®ä¸­ï¼Œç»å¸¸ä½¿ç”¨<code>husky + lint-staged</code>å†æäº¤ä»£ç ä¹‹å‰åšä¸€ç³»åˆ—ä»£ç æ ¼å¼æ“ä½œï¼Œå› ä¸ºé¡¹ç›®ä¸­å®‰è£…çš„<code>eslint + stylelint + perttier</code>æœ‰å¯èƒ½ä¼šå‡ºç°å¦‚æœä»£ç æ²¡æœ‰è¿›è¡Œæ ¼å¼åŒ–ï¼Œé‚£ä¹ˆåœ¨é’©å­ç®¡ç†å™¨ä¸­æ£€æµ‹æ‰§è¡Œå¯¹åº”çš„æ ¼å¼åŒ–å‘½ä»¤ï¼›è¿™æ ·ä¿è¯ä»£ç çš„è§„èŒƒæ€§ï¼›</p>\n<h2 id=\"å®‰è£…å¯¹åº”çš„ä¾èµ–\"><a href=\"#å®‰è£…å¯¹åº”çš„ä¾èµ–\" class=\"headerlink\" title=\"å®‰è£…å¯¹åº”çš„ä¾èµ–\"></a>å®‰è£…å¯¹åº”çš„ä¾èµ–</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add -D husky lint-staged @commitlint/cli @commitlint/config-conventional</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>husky</code>: <code>Git hooks</code> å·¥å…·ï¼Œå¯¹<code>git</code>æ‰§è¡Œçš„ä¸€äº›å‘½ä»¤ï¼Œé€šè¿‡å¯¹åº”çš„<code>hooks</code>é’©å­è§¦å‘ï¼Œæ‰§è¡Œè‡ªå®šä¹‰çš„è„šæœ¬ç¨‹åº</li>\n<li><code>lint-staged</code>: æ£€æµ‹æ–‡ä»¶æ’ä»¶ï¼Œåªæ£€æµ‹<code>git add .</code> ä¸­æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œå¯¹è¿‡æ»¤å‡ºçš„æ–‡ä»¶æ‰§è¡Œè„šæœ¬</li>\n<li><code>@commitlint/cli</code>ä¸<code>@commitlint/config-conventional</code>æ˜¯æäº¤è§„èŒƒé…ç½®</li>\n</ul>\n<h2 id=\"lint-staged-é…ç½®\"><a href=\"#lint-staged-é…ç½®\" class=\"headerlink\" title=\"lint-staged é…ç½®\"></a>lint-staged é…ç½®</h2><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ³¨æ„ï¼šå’Œscriptsæ˜¯åŒçº§</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;lint-staged&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;*.&#123;js,ts,vue,json&#125;&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;pnpm run lint:fix&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;pnpm run lint:format&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;pnpm run lint:style&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;git add&quot;</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">]</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>å…³äº<code>lint:fix, lint:format, lint:style</code>æ˜¯ä»€ä¹ˆï¼Ÿ</p>\n<ul>\n<li><a href=\"/brochure/05_%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/02_%E5%B7%A5%E7%A8%8B%E5%8C%96/.eslint.html#%E5%9C%A8package-json%E9%85%8D%E7%BD%AE\"><code>link:fix</code></a></li>\n<li><a href=\"/brochure/05_%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/02_%E5%B7%A5%E7%A8%8B%E5%8C%96/.prettier.html#%E5%9C%A8package-json%E9%85%8D%E7%BD%AE\"><code>link:format</code></a></li>\n<li><a href=\"/brochure/05_%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/02_%E5%B7%A5%E7%A8%8B%E5%8C%96/.stylelint.html#%E5%9C%A8package-json%E9%85%8D%E7%BD%AE\"><code>link:style</code></a></li>\n</ul>\n<h2 id=\"commitlint-é…ç½®\"><a href=\"#commitlint-é…ç½®\" class=\"headerlink\" title=\"commitlint é…ç½®\"></a>commitlint é…ç½®</h2><p>å®‰è£…æˆåŠŸ<code>@commitlint/cli</code>ä¸<code>@commitlint/config-conventional</code>ä¹‹åï¼Œéœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ·»åŠ é…ç½®æ–‡ä»¶<code>commitlint.config.cjs</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">extends</span>: [<span class=\"string\">&quot;@commitlint/config-conventional&quot;</span>],</span><br><span class=\"line\">\t<span class=\"comment\">// æ ¡éªŒè§„åˆ™</span></span><br><span class=\"line\">\t<span class=\"attr\">rules</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;type-enum&quot;</span>: [</span><br><span class=\"line\">\t\t\t<span class=\"number\">2</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;always&quot;</span>,</span><br><span class=\"line\">\t\t\t[</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;feat&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;fix&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;docs&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;style&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;refactor&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;perf&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;test&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;chore&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;revert&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;build&quot;</span>,</span><br><span class=\"line\">\t\t\t],</span><br><span class=\"line\">\t\t],</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;type-case&quot;</span>: [<span class=\"number\">0</span>],</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;type-empty&quot;</span>: [<span class=\"number\">0</span>],</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;scope-empty&quot;</span>: [<span class=\"number\">0</span>],</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;scope-case&quot;</span>: [<span class=\"number\">0</span>],</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;subject-full-stop&quot;</span>: [<span class=\"number\">0</span>, <span class=\"string\">&quot;never&quot;</span>],</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;subject-case&quot;</span>: [<span class=\"number\">0</span>, <span class=\"string\">&quot;never&quot;</span>],</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;header-max-length&quot;</span>: [<span class=\"number\">0</span>, <span class=\"string\">&quot;always&quot;</span>, <span class=\"number\">72</span>],</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>æ¥ç€éœ€è¦åœ¨<code>package.json</code>ä¸­é…ç½®å‘½ä»¤ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"comment\">// commitlint.config.cjséœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ è¿™ä¸ªé…ç½®æ–‡ä»¶</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;commitlint&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;commitlint --config commitlint.config.cjs -e -V&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><h3 id=\"æ·»åŠ å‘½ä»¤\"><a href=\"#æ·»åŠ å‘½ä»¤\" class=\"headerlink\" title=\"æ·»åŠ å‘½ä»¤\"></a>æ·»åŠ å‘½ä»¤</h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;prepare&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;husky install&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>åœ¨æ‰§è¡Œ<code>pnpm install</code>çš„æ—¶å€™, å°±ä¼šæ‰§è¡Œ<code>prepare</code>, å½“ç„¶æ³¨æ„çš„æ˜¯ï¼š <code>husky install</code>æ˜¯éœ€è¦ä½ çš„é¡¹ç›®æ˜¯æœ‰<code>.git</code>é…ç½®çš„ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨<code>git init</code>åˆå§‹åŒ–å³å¯ï¼›</p>\n<h3 id=\"é…ç½®å¯¹åº”çš„é’©å­\"><a href=\"#é…ç½®å¯¹åº”çš„é’©å­\" class=\"headerlink\" title=\"é…ç½®å¯¹åº”çš„é’©å­\"></a>é…ç½®å¯¹åº”çš„é’©å­</h3><h4 id=\"pre-commit\"><a href=\"#pre-commit\" class=\"headerlink\" title=\"pre-commit\"></a>pre-commit</h4><p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰¾åˆ°<code>.husky</code>, åœ¨è¿™ä¸ªç›®å½•ä¸­æ·»åŠ <code>pre-commit</code>æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/usr/bin/env sh</span></span><br><span class=\"line\">. <span class=\"string\">&quot;<span class=\"subst\">$(dirname -- <span class=\"string\">&quot;<span class=\"variable\">$0</span>&quot;</span>)</span>/_/husky.sh&quot;</span></span><br><span class=\"line\">pnpm <span class=\"built_in\">exec</span> lint-staged</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨æäº¤ä¹‹å‰ä¼šæ‰§è¡Œ<code>lint-staged</code>, è¿™æ ·é»˜è®¤å°±ä¼šæŠŠä»£ç æ ¼å¼ä¿®å¤ä¸€ä¸‹</p>\n<h3 id=\"commit-msg\"><a href=\"#commit-msg\" class=\"headerlink\" title=\"commit-msg\"></a>commit-msg</h3><p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰¾åˆ°<code>.husky</code>, åœ¨è¿™ä¸ªç›®å½•ä¸­æ·»åŠ <code>commit-msg</code>æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/usr/bin/env sh</span></span><br><span class=\"line\">. <span class=\"string\">&quot;<span class=\"subst\">$(dirname -- <span class=\"string\">&quot;<span class=\"variable\">$0</span>&quot;</span>)</span>/_/husky.sh&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">pnpm commitlint</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><strong>commitlint æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>\n<blockquote>\n<p><code>commitlint</code>å°±æ˜¯<code>package.json---&gt;script---&gt;commitlintå‘½ä»¤</code></p>\n</blockquote>\n","excerpt":"","more":"<h1 id=\"husky\"><a href=\"#husky\" class=\"headerlink\" title=\"husky\"></a>husky</h1><p><code>Husky</code> ä½œä¸ºä¸€ä¸ªå¼ºå¤§çš„<code>Git</code>é’©å­ç®¡ç†å™¨ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–ä»£ç è´¨é‡æ£€æŸ¥å’Œæµ‹è¯•æµç¨‹ï¼Œæå¤§åœ°æå‡äº†è½¯ä»¶å¼€å‘å›¢é˜Ÿçš„å·¥ä½œæ•ˆç‡å’Œä»£ç è´¨é‡ã€‚ é€šè¿‡åˆç†é…ç½®ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©å¼€å‘è€…åœ¨æäº¤ä»£ç ä¹‹å‰å‘ç°å¹¶ä¿®æ­£æ½œåœ¨çš„é—®é¢˜ï¼Œä»è€Œå‡å°‘åç»­çš„ä¿®å¤æˆæœ¬å’Œæ²Ÿé€šæˆæœ¬ã€‚</p>\n<p>åœ¨é¡¹ç›®ä¸­ï¼Œç»å¸¸ä½¿ç”¨<code>husky + lint-staged</code>å†æäº¤ä»£ç ä¹‹å‰åšä¸€ç³»åˆ—ä»£ç æ ¼å¼æ“ä½œï¼Œå› ä¸ºé¡¹ç›®ä¸­å®‰è£…çš„<code>eslint + stylelint + perttier</code>æœ‰å¯èƒ½ä¼šå‡ºç°å¦‚æœä»£ç æ²¡æœ‰è¿›è¡Œæ ¼å¼åŒ–ï¼Œé‚£ä¹ˆåœ¨é’©å­ç®¡ç†å™¨ä¸­æ£€æµ‹æ‰§è¡Œå¯¹åº”çš„æ ¼å¼åŒ–å‘½ä»¤ï¼›è¿™æ ·ä¿è¯ä»£ç çš„è§„èŒƒæ€§ï¼›</p>\n<h2 id=\"å®‰è£…å¯¹åº”çš„ä¾èµ–\"><a href=\"#å®‰è£…å¯¹åº”çš„ä¾èµ–\" class=\"headerlink\" title=\"å®‰è£…å¯¹åº”çš„ä¾èµ–\"></a>å®‰è£…å¯¹åº”çš„ä¾èµ–</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add -D husky lint-staged @commitlint/cli @commitlint/config-conventional</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>husky</code>: <code>Git hooks</code> å·¥å…·ï¼Œå¯¹<code>git</code>æ‰§è¡Œçš„ä¸€äº›å‘½ä»¤ï¼Œé€šè¿‡å¯¹åº”çš„<code>hooks</code>é’©å­è§¦å‘ï¼Œæ‰§è¡Œè‡ªå®šä¹‰çš„è„šæœ¬ç¨‹åº</li>\n<li><code>lint-staged</code>: æ£€æµ‹æ–‡ä»¶æ’ä»¶ï¼Œåªæ£€æµ‹<code>git add .</code> ä¸­æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œå¯¹è¿‡æ»¤å‡ºçš„æ–‡ä»¶æ‰§è¡Œè„šæœ¬</li>\n<li><code>@commitlint/cli</code>ä¸<code>@commitlint/config-conventional</code>æ˜¯æäº¤è§„èŒƒé…ç½®</li>\n</ul>\n<h2 id=\"lint-staged-é…ç½®\"><a href=\"#lint-staged-é…ç½®\" class=\"headerlink\" title=\"lint-staged é…ç½®\"></a>lint-staged é…ç½®</h2><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ³¨æ„ï¼šå’Œscriptsæ˜¯åŒçº§</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;lint-staged&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;*.&#123;js,ts,vue,json&#125;&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;pnpm run lint:fix&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;pnpm run lint:format&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;pnpm run lint:style&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;git add&quot;</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">]</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>å…³äº<code>lint:fix, lint:format, lint:style</code>æ˜¯ä»€ä¹ˆï¼Ÿ</p>\n<ul>\n<li><a href=\"/brochure/05_%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/02_%E5%B7%A5%E7%A8%8B%E5%8C%96/.eslint.html#%E5%9C%A8package-json%E9%85%8D%E7%BD%AE\"><code>link:fix</code></a></li>\n<li><a href=\"/brochure/05_%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/02_%E5%B7%A5%E7%A8%8B%E5%8C%96/.prettier.html#%E5%9C%A8package-json%E9%85%8D%E7%BD%AE\"><code>link:format</code></a></li>\n<li><a href=\"/brochure/05_%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/02_%E5%B7%A5%E7%A8%8B%E5%8C%96/.stylelint.html#%E5%9C%A8package-json%E9%85%8D%E7%BD%AE\"><code>link:style</code></a></li>\n</ul>\n<h2 id=\"commitlint-é…ç½®\"><a href=\"#commitlint-é…ç½®\" class=\"headerlink\" title=\"commitlint é…ç½®\"></a>commitlint é…ç½®</h2><p>å®‰è£…æˆåŠŸ<code>@commitlint/cli</code>ä¸<code>@commitlint/config-conventional</code>ä¹‹åï¼Œéœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ·»åŠ é…ç½®æ–‡ä»¶<code>commitlint.config.cjs</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">extends</span>: [<span class=\"string\">&quot;@commitlint/config-conventional&quot;</span>],</span><br><span class=\"line\">\t<span class=\"comment\">// æ ¡éªŒè§„åˆ™</span></span><br><span class=\"line\">\t<span class=\"attr\">rules</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;type-enum&quot;</span>: [</span><br><span class=\"line\">\t\t\t<span class=\"number\">2</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;always&quot;</span>,</span><br><span class=\"line\">\t\t\t[</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;feat&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;fix&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;docs&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;style&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;refactor&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;perf&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;test&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;chore&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;revert&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;build&quot;</span>,</span><br><span class=\"line\">\t\t\t],</span><br><span class=\"line\">\t\t],</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;type-case&quot;</span>: [<span class=\"number\">0</span>],</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;type-empty&quot;</span>: [<span class=\"number\">0</span>],</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;scope-empty&quot;</span>: [<span class=\"number\">0</span>],</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;scope-case&quot;</span>: [<span class=\"number\">0</span>],</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;subject-full-stop&quot;</span>: [<span class=\"number\">0</span>, <span class=\"string\">&quot;never&quot;</span>],</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;subject-case&quot;</span>: [<span class=\"number\">0</span>, <span class=\"string\">&quot;never&quot;</span>],</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;header-max-length&quot;</span>: [<span class=\"number\">0</span>, <span class=\"string\">&quot;always&quot;</span>, <span class=\"number\">72</span>],</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>æ¥ç€éœ€è¦åœ¨<code>package.json</code>ä¸­é…ç½®å‘½ä»¤ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"comment\">// commitlint.config.cjséœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ è¿™ä¸ªé…ç½®æ–‡ä»¶</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;commitlint&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;commitlint --config commitlint.config.cjs -e -V&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><h3 id=\"æ·»åŠ å‘½ä»¤\"><a href=\"#æ·»åŠ å‘½ä»¤\" class=\"headerlink\" title=\"æ·»åŠ å‘½ä»¤\"></a>æ·»åŠ å‘½ä»¤</h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;prepare&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;husky install&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>åœ¨æ‰§è¡Œ<code>pnpm install</code>çš„æ—¶å€™, å°±ä¼šæ‰§è¡Œ<code>prepare</code>, å½“ç„¶æ³¨æ„çš„æ˜¯ï¼š <code>husky install</code>æ˜¯éœ€è¦ä½ çš„é¡¹ç›®æ˜¯æœ‰<code>.git</code>é…ç½®çš„ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨<code>git init</code>åˆå§‹åŒ–å³å¯ï¼›</p>\n<h3 id=\"é…ç½®å¯¹åº”çš„é’©å­\"><a href=\"#é…ç½®å¯¹åº”çš„é’©å­\" class=\"headerlink\" title=\"é…ç½®å¯¹åº”çš„é’©å­\"></a>é…ç½®å¯¹åº”çš„é’©å­</h3><h4 id=\"pre-commit\"><a href=\"#pre-commit\" class=\"headerlink\" title=\"pre-commit\"></a>pre-commit</h4><p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰¾åˆ°<code>.husky</code>, åœ¨è¿™ä¸ªç›®å½•ä¸­æ·»åŠ <code>pre-commit</code>æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/usr/bin/env sh</span></span><br><span class=\"line\">. <span class=\"string\">&quot;<span class=\"subst\">$(dirname -- <span class=\"string\">&quot;<span class=\"variable\">$0</span>&quot;</span>)</span>/_/husky.sh&quot;</span></span><br><span class=\"line\">pnpm <span class=\"built_in\">exec</span> lint-staged</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨æäº¤ä¹‹å‰ä¼šæ‰§è¡Œ<code>lint-staged</code>, è¿™æ ·é»˜è®¤å°±ä¼šæŠŠä»£ç æ ¼å¼ä¿®å¤ä¸€ä¸‹</p>\n<h3 id=\"commit-msg\"><a href=\"#commit-msg\" class=\"headerlink\" title=\"commit-msg\"></a>commit-msg</h3><p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰¾åˆ°<code>.husky</code>, åœ¨è¿™ä¸ªç›®å½•ä¸­æ·»åŠ <code>commit-msg</code>æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/usr/bin/env sh</span></span><br><span class=\"line\">. <span class=\"string\">&quot;<span class=\"subst\">$(dirname -- <span class=\"string\">&quot;<span class=\"variable\">$0</span>&quot;</span>)</span>/_/husky.sh&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">pnpm commitlint</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><strong>commitlint æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>\n<blockquote>\n<p><code>commitlint</code>å°±æ˜¯<code>package.json---&gt;script---&gt;commitlintå‘½ä»¤</code></p>\n</blockquote>\n"},{"title":"webpackå’Œviteçš„åŒºåˆ«?","abbrlink":"ae321f5","date":"2024-08-08T01:05:01.000Z","_content":"\n# åŒºåˆ«?\n\nåœ¨ä½¿ç”¨`vite`ä¹‹å‰ï¼Œé¡¹ç›®åŸºæœ¬éƒ½æ˜¯ä½¿ç”¨çš„`webpack`, ä½†æ˜¯é’ˆå¯¹äº`wite`å’Œ`webpack`çš„åŒºåˆ«å¦‚ä¸‹ï¼š\n\n## å¼€å‘æ¨¡å¼\n\n1. `webpack` åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå®ƒé¦–å…ˆéœ€è¦å®Œå…¨æ„å»ºæ•´ä¸ªé¡¹ç›®ï¼Œç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ª bundleï¼Œç„¶åé€šè¿‡çƒ­æ¨¡å—æ›¿æ¢ï¼ˆHMRï¼‰æ¥æ›´æ–°å˜åŒ–çš„éƒ¨åˆ†ã€‚\n2. `vite` Vite ä½¿ç”¨åŸç”Ÿ ES æ¨¡å—å’Œå³æ—¶ç¼–è¯‘ï¼Œå…è®¸åœ¨ä¸å®Œæ•´æ„å»ºçš„æƒ…å†µä¸‹ç›´æ¥åŠ è½½æºä»£ç ï¼Œæä¾›æ›´å¿«çš„åˆå§‹å¯åŠ¨æ—¶é—´å’ŒæŒ‰éœ€ç¼–è¯‘ã€‚\n\n## å¯åŠ¨é€Ÿåº¦\n\n1. `webpack`å¯åŠ¨æ—¶æ˜¯éœ€è¦å…ˆç¼–è¯‘æ•´ä¸ªé¡¹ç›®ï¼Œå°å‹é¡¹ç›®è¿˜å¥½ä½†æ˜¯å¯¹äºå¤§å‹é¡¹ç›®ï¼Œç¼–è¯‘æ—¶é—´ä¼šæ¯”è¾ƒé•¿;\n2. `vite` æ˜¯é¢„æ„å»ºå’ŒæŒ‰éœ€ç¼–è¯‘ ä½†æ˜¯åœ¨å¯åŠ¨é€Ÿåº¦ä¸Šä¼˜äº`webpack`ã€‚\n\n## æ‰“åŒ…æ•ˆç‡\n\n1. `webpack` æä¾›ä¸°å¯Œçš„æ’ä»¶ä¸åŠ è½½å™¨ç”Ÿæ€ç³»ç»Ÿï¼Œå¯ä»¥å¤„ç†å¤æ‚çš„æ„å»ºéœ€æ±‚ï¼Œä½†æ˜¯è¿™ä¹Ÿæ˜¯ç¼ºç‚¹ï¼Œå› ä¸ºéœ€è¦æ›´å¤šçš„é…ç½®å’Œä¾èµ–ã€‚ä¸€å®šç¨‹åº¦ä¸Šå¯¼è‡´è¾ƒé•¿çš„æ‰“åŒ…æ—¶é—´\n2. `vite` ä½¿ç”¨`esbuild`è¿›è¡Œæ‰“åŒ…ï¼Œ`esbuild` æ˜¯ä¸€ä¸ªå¿«é€Ÿã€å°å·§çš„ JavaScript æ„å»ºå·¥å…·ï¼Œå¯ä»¥å¿«é€Ÿæ„å»ºé¡¹ç›®ï¼Œå¹¶ä¸”å¯ä»¥æ”¯æŒ TypeScriptã€Vueã€React ç­‰ã€‚ä½†æ˜¯åœ¨å¯¹é¡¹ç›®çš„é«˜çº§ä¼˜åŒ–ä¸å®šåˆ¶åŒ–æ–¹é¢æ²¡æœ‰`webpack`å¼ºå¤§\n\n## åº•å±‚å®ç°\n\n1. `webpack` åŸºäº`Nodejs`ï¼Œæ‰“åŒ…é€Ÿåº¦é™åˆ¶ä¸`js`å•çº¿ç¨‹ï¼Œå¯¹äºå¤§é¡¹ç›®è€Œè¨€æ„å»ºé€Ÿåº¦å—å…¶å½±å“\n2. `vite` esbuild(go è¯­è¨€å¼€å‘) åŸºäº`Go`è¯­è¨€ï¼Œæ‰“åŒ…é€Ÿåº¦é™åˆ¶ä¸`Go`å¤šçº¿ç¨‹ï¼Œå¯¹äºå¤§é¡¹ç›®è€Œè¨€æ„å»ºé€Ÿåº¦ä¸å—å…¶å½±å“\n\n## ç”Ÿæ€å’Œæˆç†Ÿ\n\n1. `webpack` ç¤¾åŒºç”Ÿæ€ä¸°å¯Œï¼Œè®¸å¤šæ’ä»¶å’Œ loader å·²ç»å¼€æº å¯ç”¨äºå¤æ‚çš„åœºæ™¯\n2. `vite` ä¸å¦‚`webpack` ç¤¾åŒºç”Ÿæ€ä¸°å¯Œï¼Œåœ¨ç‰¹å®šçš„æ„å»ºéœ€æ±‚å’Œå®šåˆ¶åŒ–æ’ä»¶æ–¹é¢ä¸å¦‚`webpack`å®Œå–„\n\n## ç”Ÿäº§ç¯å¢ƒ\n\n1. `webpack` åœ¨ç”Ÿäº§ç¯å¢ƒä¸­. èƒ½å¤Ÿæä¾›é«˜åº¦ä¼˜åŒ–çš„è¾“å‡º, å¦‚ä»£ç åˆ†å‰²å’Œå‹ç¼©, ç¼“å­˜, æ¨¡å—çƒ­æ›´æ–°ç­‰.\n2. `vite` åœ¨æŸäº›æƒ…å†µåœ¨éœ€è¦å®‰è£…é¢å¤–çš„é…ç½®æˆ–è€…æ’ä»¶æ‰èƒ½åšåˆ°\n","source":"_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/webpackå’Œviteçš„åŒºåˆ«.md","raw":"---\ntitle: webpackå’Œviteçš„åŒºåˆ«?\nabbrlink: ae321f5\ndate: 2024-08-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å·¥ç¨‹åŒ–\n---\n\n# åŒºåˆ«?\n\nåœ¨ä½¿ç”¨`vite`ä¹‹å‰ï¼Œé¡¹ç›®åŸºæœ¬éƒ½æ˜¯ä½¿ç”¨çš„`webpack`, ä½†æ˜¯é’ˆå¯¹äº`wite`å’Œ`webpack`çš„åŒºåˆ«å¦‚ä¸‹ï¼š\n\n## å¼€å‘æ¨¡å¼\n\n1. `webpack` åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå®ƒé¦–å…ˆéœ€è¦å®Œå…¨æ„å»ºæ•´ä¸ªé¡¹ç›®ï¼Œç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ª bundleï¼Œç„¶åé€šè¿‡çƒ­æ¨¡å—æ›¿æ¢ï¼ˆHMRï¼‰æ¥æ›´æ–°å˜åŒ–çš„éƒ¨åˆ†ã€‚\n2. `vite` Vite ä½¿ç”¨åŸç”Ÿ ES æ¨¡å—å’Œå³æ—¶ç¼–è¯‘ï¼Œå…è®¸åœ¨ä¸å®Œæ•´æ„å»ºçš„æƒ…å†µä¸‹ç›´æ¥åŠ è½½æºä»£ç ï¼Œæä¾›æ›´å¿«çš„åˆå§‹å¯åŠ¨æ—¶é—´å’ŒæŒ‰éœ€ç¼–è¯‘ã€‚\n\n## å¯åŠ¨é€Ÿåº¦\n\n1. `webpack`å¯åŠ¨æ—¶æ˜¯éœ€è¦å…ˆç¼–è¯‘æ•´ä¸ªé¡¹ç›®ï¼Œå°å‹é¡¹ç›®è¿˜å¥½ä½†æ˜¯å¯¹äºå¤§å‹é¡¹ç›®ï¼Œç¼–è¯‘æ—¶é—´ä¼šæ¯”è¾ƒé•¿;\n2. `vite` æ˜¯é¢„æ„å»ºå’ŒæŒ‰éœ€ç¼–è¯‘ ä½†æ˜¯åœ¨å¯åŠ¨é€Ÿåº¦ä¸Šä¼˜äº`webpack`ã€‚\n\n## æ‰“åŒ…æ•ˆç‡\n\n1. `webpack` æä¾›ä¸°å¯Œçš„æ’ä»¶ä¸åŠ è½½å™¨ç”Ÿæ€ç³»ç»Ÿï¼Œå¯ä»¥å¤„ç†å¤æ‚çš„æ„å»ºéœ€æ±‚ï¼Œä½†æ˜¯è¿™ä¹Ÿæ˜¯ç¼ºç‚¹ï¼Œå› ä¸ºéœ€è¦æ›´å¤šçš„é…ç½®å’Œä¾èµ–ã€‚ä¸€å®šç¨‹åº¦ä¸Šå¯¼è‡´è¾ƒé•¿çš„æ‰“åŒ…æ—¶é—´\n2. `vite` ä½¿ç”¨`esbuild`è¿›è¡Œæ‰“åŒ…ï¼Œ`esbuild` æ˜¯ä¸€ä¸ªå¿«é€Ÿã€å°å·§çš„ JavaScript æ„å»ºå·¥å…·ï¼Œå¯ä»¥å¿«é€Ÿæ„å»ºé¡¹ç›®ï¼Œå¹¶ä¸”å¯ä»¥æ”¯æŒ TypeScriptã€Vueã€React ç­‰ã€‚ä½†æ˜¯åœ¨å¯¹é¡¹ç›®çš„é«˜çº§ä¼˜åŒ–ä¸å®šåˆ¶åŒ–æ–¹é¢æ²¡æœ‰`webpack`å¼ºå¤§\n\n## åº•å±‚å®ç°\n\n1. `webpack` åŸºäº`Nodejs`ï¼Œæ‰“åŒ…é€Ÿåº¦é™åˆ¶ä¸`js`å•çº¿ç¨‹ï¼Œå¯¹äºå¤§é¡¹ç›®è€Œè¨€æ„å»ºé€Ÿåº¦å—å…¶å½±å“\n2. `vite` esbuild(go è¯­è¨€å¼€å‘) åŸºäº`Go`è¯­è¨€ï¼Œæ‰“åŒ…é€Ÿåº¦é™åˆ¶ä¸`Go`å¤šçº¿ç¨‹ï¼Œå¯¹äºå¤§é¡¹ç›®è€Œè¨€æ„å»ºé€Ÿåº¦ä¸å—å…¶å½±å“\n\n## ç”Ÿæ€å’Œæˆç†Ÿ\n\n1. `webpack` ç¤¾åŒºç”Ÿæ€ä¸°å¯Œï¼Œè®¸å¤šæ’ä»¶å’Œ loader å·²ç»å¼€æº å¯ç”¨äºå¤æ‚çš„åœºæ™¯\n2. `vite` ä¸å¦‚`webpack` ç¤¾åŒºç”Ÿæ€ä¸°å¯Œï¼Œåœ¨ç‰¹å®šçš„æ„å»ºéœ€æ±‚å’Œå®šåˆ¶åŒ–æ’ä»¶æ–¹é¢ä¸å¦‚`webpack`å®Œå–„\n\n## ç”Ÿäº§ç¯å¢ƒ\n\n1. `webpack` åœ¨ç”Ÿäº§ç¯å¢ƒä¸­. èƒ½å¤Ÿæä¾›é«˜åº¦ä¼˜åŒ–çš„è¾“å‡º, å¦‚ä»£ç åˆ†å‰²å’Œå‹ç¼©, ç¼“å­˜, æ¨¡å—çƒ­æ›´æ–°ç­‰.\n2. `vite` åœ¨æŸäº›æƒ…å†µåœ¨éœ€è¦å®‰è£…é¢å¤–çš„é…ç½®æˆ–è€…æ’ä»¶æ‰èƒ½åšåˆ°\n","slug":"æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/webpackå’Œviteçš„åŒºåˆ«","published":1,"updated":"2025-03-12T09:37:58.608Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0j9007hfg9m9mef8n10","content":"<h1 id=\"åŒºåˆ«\"><a href=\"#åŒºåˆ«\" class=\"headerlink\" title=\"åŒºåˆ«?\"></a>åŒºåˆ«?</h1><p>åœ¨ä½¿ç”¨<code>vite</code>ä¹‹å‰ï¼Œé¡¹ç›®åŸºæœ¬éƒ½æ˜¯ä½¿ç”¨çš„<code>webpack</code>, ä½†æ˜¯é’ˆå¯¹äº<code>wite</code>å’Œ<code>webpack</code>çš„åŒºåˆ«å¦‚ä¸‹ï¼š</p>\n<h2 id=\"å¼€å‘æ¨¡å¼\"><a href=\"#å¼€å‘æ¨¡å¼\" class=\"headerlink\" title=\"å¼€å‘æ¨¡å¼\"></a>å¼€å‘æ¨¡å¼</h2><ol>\n<li><code>webpack</code> åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå®ƒé¦–å…ˆéœ€è¦å®Œå…¨æ„å»ºæ•´ä¸ªé¡¹ç›®ï¼Œç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ª bundleï¼Œç„¶åé€šè¿‡çƒ­æ¨¡å—æ›¿æ¢ï¼ˆHMRï¼‰æ¥æ›´æ–°å˜åŒ–çš„éƒ¨åˆ†ã€‚</li>\n<li><code>vite</code> Vite ä½¿ç”¨åŸç”Ÿ ES æ¨¡å—å’Œå³æ—¶ç¼–è¯‘ï¼Œå…è®¸åœ¨ä¸å®Œæ•´æ„å»ºçš„æƒ…å†µä¸‹ç›´æ¥åŠ è½½æºä»£ç ï¼Œæä¾›æ›´å¿«çš„åˆå§‹å¯åŠ¨æ—¶é—´å’ŒæŒ‰éœ€ç¼–è¯‘ã€‚</li>\n</ol>\n<h2 id=\"å¯åŠ¨é€Ÿåº¦\"><a href=\"#å¯åŠ¨é€Ÿåº¦\" class=\"headerlink\" title=\"å¯åŠ¨é€Ÿåº¦\"></a>å¯åŠ¨é€Ÿåº¦</h2><ol>\n<li><code>webpack</code>å¯åŠ¨æ—¶æ˜¯éœ€è¦å…ˆç¼–è¯‘æ•´ä¸ªé¡¹ç›®ï¼Œå°å‹é¡¹ç›®è¿˜å¥½ä½†æ˜¯å¯¹äºå¤§å‹é¡¹ç›®ï¼Œç¼–è¯‘æ—¶é—´ä¼šæ¯”è¾ƒé•¿;</li>\n<li><code>vite</code> æ˜¯é¢„æ„å»ºå’ŒæŒ‰éœ€ç¼–è¯‘ ä½†æ˜¯åœ¨å¯åŠ¨é€Ÿåº¦ä¸Šä¼˜äº<code>webpack</code>ã€‚</li>\n</ol>\n<h2 id=\"æ‰“åŒ…æ•ˆç‡\"><a href=\"#æ‰“åŒ…æ•ˆç‡\" class=\"headerlink\" title=\"æ‰“åŒ…æ•ˆç‡\"></a>æ‰“åŒ…æ•ˆç‡</h2><ol>\n<li><code>webpack</code> æä¾›ä¸°å¯Œçš„æ’ä»¶ä¸åŠ è½½å™¨ç”Ÿæ€ç³»ç»Ÿï¼Œå¯ä»¥å¤„ç†å¤æ‚çš„æ„å»ºéœ€æ±‚ï¼Œä½†æ˜¯è¿™ä¹Ÿæ˜¯ç¼ºç‚¹ï¼Œå› ä¸ºéœ€è¦æ›´å¤šçš„é…ç½®å’Œä¾èµ–ã€‚ä¸€å®šç¨‹åº¦ä¸Šå¯¼è‡´è¾ƒé•¿çš„æ‰“åŒ…æ—¶é—´</li>\n<li><code>vite</code> ä½¿ç”¨<code>esbuild</code>è¿›è¡Œæ‰“åŒ…ï¼Œ<code>esbuild</code> æ˜¯ä¸€ä¸ªå¿«é€Ÿã€å°å·§çš„ JavaScript æ„å»ºå·¥å…·ï¼Œå¯ä»¥å¿«é€Ÿæ„å»ºé¡¹ç›®ï¼Œå¹¶ä¸”å¯ä»¥æ”¯æŒ TypeScriptã€Vueã€React ç­‰ã€‚ä½†æ˜¯åœ¨å¯¹é¡¹ç›®çš„é«˜çº§ä¼˜åŒ–ä¸å®šåˆ¶åŒ–æ–¹é¢æ²¡æœ‰<code>webpack</code>å¼ºå¤§</li>\n</ol>\n<h2 id=\"åº•å±‚å®ç°\"><a href=\"#åº•å±‚å®ç°\" class=\"headerlink\" title=\"åº•å±‚å®ç°\"></a>åº•å±‚å®ç°</h2><ol>\n<li><code>webpack</code> åŸºäº<code>Nodejs</code>ï¼Œæ‰“åŒ…é€Ÿåº¦é™åˆ¶ä¸<code>js</code>å•çº¿ç¨‹ï¼Œå¯¹äºå¤§é¡¹ç›®è€Œè¨€æ„å»ºé€Ÿåº¦å—å…¶å½±å“</li>\n<li><code>vite</code> esbuild(go è¯­è¨€å¼€å‘) åŸºäº<code>Go</code>è¯­è¨€ï¼Œæ‰“åŒ…é€Ÿåº¦é™åˆ¶ä¸<code>Go</code>å¤šçº¿ç¨‹ï¼Œå¯¹äºå¤§é¡¹ç›®è€Œè¨€æ„å»ºé€Ÿåº¦ä¸å—å…¶å½±å“</li>\n</ol>\n<h2 id=\"ç”Ÿæ€å’Œæˆç†Ÿ\"><a href=\"#ç”Ÿæ€å’Œæˆç†Ÿ\" class=\"headerlink\" title=\"ç”Ÿæ€å’Œæˆç†Ÿ\"></a>ç”Ÿæ€å’Œæˆç†Ÿ</h2><ol>\n<li><code>webpack</code> ç¤¾åŒºç”Ÿæ€ä¸°å¯Œï¼Œè®¸å¤šæ’ä»¶å’Œ loader å·²ç»å¼€æº å¯ç”¨äºå¤æ‚çš„åœºæ™¯</li>\n<li><code>vite</code> ä¸å¦‚<code>webpack</code> ç¤¾åŒºç”Ÿæ€ä¸°å¯Œï¼Œåœ¨ç‰¹å®šçš„æ„å»ºéœ€æ±‚å’Œå®šåˆ¶åŒ–æ’ä»¶æ–¹é¢ä¸å¦‚<code>webpack</code>å®Œå–„</li>\n</ol>\n<h2 id=\"ç”Ÿäº§ç¯å¢ƒ\"><a href=\"#ç”Ÿäº§ç¯å¢ƒ\" class=\"headerlink\" title=\"ç”Ÿäº§ç¯å¢ƒ\"></a>ç”Ÿäº§ç¯å¢ƒ</h2><ol>\n<li><code>webpack</code> åœ¨ç”Ÿäº§ç¯å¢ƒä¸­. èƒ½å¤Ÿæä¾›é«˜åº¦ä¼˜åŒ–çš„è¾“å‡º, å¦‚ä»£ç åˆ†å‰²å’Œå‹ç¼©, ç¼“å­˜, æ¨¡å—çƒ­æ›´æ–°ç­‰.</li>\n<li><code>vite</code> åœ¨æŸäº›æƒ…å†µåœ¨éœ€è¦å®‰è£…é¢å¤–çš„é…ç½®æˆ–è€…æ’ä»¶æ‰èƒ½åšåˆ°</li>\n</ol>\n","excerpt":"","more":"<h1 id=\"åŒºåˆ«\"><a href=\"#åŒºåˆ«\" class=\"headerlink\" title=\"åŒºåˆ«?\"></a>åŒºåˆ«?</h1><p>åœ¨ä½¿ç”¨<code>vite</code>ä¹‹å‰ï¼Œé¡¹ç›®åŸºæœ¬éƒ½æ˜¯ä½¿ç”¨çš„<code>webpack</code>, ä½†æ˜¯é’ˆå¯¹äº<code>wite</code>å’Œ<code>webpack</code>çš„åŒºåˆ«å¦‚ä¸‹ï¼š</p>\n<h2 id=\"å¼€å‘æ¨¡å¼\"><a href=\"#å¼€å‘æ¨¡å¼\" class=\"headerlink\" title=\"å¼€å‘æ¨¡å¼\"></a>å¼€å‘æ¨¡å¼</h2><ol>\n<li><code>webpack</code> åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå®ƒé¦–å…ˆéœ€è¦å®Œå…¨æ„å»ºæ•´ä¸ªé¡¹ç›®ï¼Œç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ª bundleï¼Œç„¶åé€šè¿‡çƒ­æ¨¡å—æ›¿æ¢ï¼ˆHMRï¼‰æ¥æ›´æ–°å˜åŒ–çš„éƒ¨åˆ†ã€‚</li>\n<li><code>vite</code> Vite ä½¿ç”¨åŸç”Ÿ ES æ¨¡å—å’Œå³æ—¶ç¼–è¯‘ï¼Œå…è®¸åœ¨ä¸å®Œæ•´æ„å»ºçš„æƒ…å†µä¸‹ç›´æ¥åŠ è½½æºä»£ç ï¼Œæä¾›æ›´å¿«çš„åˆå§‹å¯åŠ¨æ—¶é—´å’ŒæŒ‰éœ€ç¼–è¯‘ã€‚</li>\n</ol>\n<h2 id=\"å¯åŠ¨é€Ÿåº¦\"><a href=\"#å¯åŠ¨é€Ÿåº¦\" class=\"headerlink\" title=\"å¯åŠ¨é€Ÿåº¦\"></a>å¯åŠ¨é€Ÿåº¦</h2><ol>\n<li><code>webpack</code>å¯åŠ¨æ—¶æ˜¯éœ€è¦å…ˆç¼–è¯‘æ•´ä¸ªé¡¹ç›®ï¼Œå°å‹é¡¹ç›®è¿˜å¥½ä½†æ˜¯å¯¹äºå¤§å‹é¡¹ç›®ï¼Œç¼–è¯‘æ—¶é—´ä¼šæ¯”è¾ƒé•¿;</li>\n<li><code>vite</code> æ˜¯é¢„æ„å»ºå’ŒæŒ‰éœ€ç¼–è¯‘ ä½†æ˜¯åœ¨å¯åŠ¨é€Ÿåº¦ä¸Šä¼˜äº<code>webpack</code>ã€‚</li>\n</ol>\n<h2 id=\"æ‰“åŒ…æ•ˆç‡\"><a href=\"#æ‰“åŒ…æ•ˆç‡\" class=\"headerlink\" title=\"æ‰“åŒ…æ•ˆç‡\"></a>æ‰“åŒ…æ•ˆç‡</h2><ol>\n<li><code>webpack</code> æä¾›ä¸°å¯Œçš„æ’ä»¶ä¸åŠ è½½å™¨ç”Ÿæ€ç³»ç»Ÿï¼Œå¯ä»¥å¤„ç†å¤æ‚çš„æ„å»ºéœ€æ±‚ï¼Œä½†æ˜¯è¿™ä¹Ÿæ˜¯ç¼ºç‚¹ï¼Œå› ä¸ºéœ€è¦æ›´å¤šçš„é…ç½®å’Œä¾èµ–ã€‚ä¸€å®šç¨‹åº¦ä¸Šå¯¼è‡´è¾ƒé•¿çš„æ‰“åŒ…æ—¶é—´</li>\n<li><code>vite</code> ä½¿ç”¨<code>esbuild</code>è¿›è¡Œæ‰“åŒ…ï¼Œ<code>esbuild</code> æ˜¯ä¸€ä¸ªå¿«é€Ÿã€å°å·§çš„ JavaScript æ„å»ºå·¥å…·ï¼Œå¯ä»¥å¿«é€Ÿæ„å»ºé¡¹ç›®ï¼Œå¹¶ä¸”å¯ä»¥æ”¯æŒ TypeScriptã€Vueã€React ç­‰ã€‚ä½†æ˜¯åœ¨å¯¹é¡¹ç›®çš„é«˜çº§ä¼˜åŒ–ä¸å®šåˆ¶åŒ–æ–¹é¢æ²¡æœ‰<code>webpack</code>å¼ºå¤§</li>\n</ol>\n<h2 id=\"åº•å±‚å®ç°\"><a href=\"#åº•å±‚å®ç°\" class=\"headerlink\" title=\"åº•å±‚å®ç°\"></a>åº•å±‚å®ç°</h2><ol>\n<li><code>webpack</code> åŸºäº<code>Nodejs</code>ï¼Œæ‰“åŒ…é€Ÿåº¦é™åˆ¶ä¸<code>js</code>å•çº¿ç¨‹ï¼Œå¯¹äºå¤§é¡¹ç›®è€Œè¨€æ„å»ºé€Ÿåº¦å—å…¶å½±å“</li>\n<li><code>vite</code> esbuild(go è¯­è¨€å¼€å‘) åŸºäº<code>Go</code>è¯­è¨€ï¼Œæ‰“åŒ…é€Ÿåº¦é™åˆ¶ä¸<code>Go</code>å¤šçº¿ç¨‹ï¼Œå¯¹äºå¤§é¡¹ç›®è€Œè¨€æ„å»ºé€Ÿåº¦ä¸å—å…¶å½±å“</li>\n</ol>\n<h2 id=\"ç”Ÿæ€å’Œæˆç†Ÿ\"><a href=\"#ç”Ÿæ€å’Œæˆç†Ÿ\" class=\"headerlink\" title=\"ç”Ÿæ€å’Œæˆç†Ÿ\"></a>ç”Ÿæ€å’Œæˆç†Ÿ</h2><ol>\n<li><code>webpack</code> ç¤¾åŒºç”Ÿæ€ä¸°å¯Œï¼Œè®¸å¤šæ’ä»¶å’Œ loader å·²ç»å¼€æº å¯ç”¨äºå¤æ‚çš„åœºæ™¯</li>\n<li><code>vite</code> ä¸å¦‚<code>webpack</code> ç¤¾åŒºç”Ÿæ€ä¸°å¯Œï¼Œåœ¨ç‰¹å®šçš„æ„å»ºéœ€æ±‚å’Œå®šåˆ¶åŒ–æ’ä»¶æ–¹é¢ä¸å¦‚<code>webpack</code>å®Œå–„</li>\n</ol>\n<h2 id=\"ç”Ÿäº§ç¯å¢ƒ\"><a href=\"#ç”Ÿäº§ç¯å¢ƒ\" class=\"headerlink\" title=\"ç”Ÿäº§ç¯å¢ƒ\"></a>ç”Ÿäº§ç¯å¢ƒ</h2><ol>\n<li><code>webpack</code> åœ¨ç”Ÿäº§ç¯å¢ƒä¸­. èƒ½å¤Ÿæä¾›é«˜åº¦ä¼˜åŒ–çš„è¾“å‡º, å¦‚ä»£ç åˆ†å‰²å’Œå‹ç¼©, ç¼“å­˜, æ¨¡å—çƒ­æ›´æ–°ç­‰.</li>\n<li><code>vite</code> åœ¨æŸäº›æƒ…å†µåœ¨éœ€è¦å®‰è£…é¢å¤–çš„é…ç½®æˆ–è€…æ’ä»¶æ‰èƒ½åšåˆ°</li>\n</ol>\n"},{"title":"é¡¹ç›®å·¥ç¨‹åŒ–-prettier","abbrlink":"e3341f8b","date":"2024-08-08T01:05:01.000Z","_content":"\n# prettier\n\n`Prettier` æ˜¯ä¸€ä¸ªå›ºæ‰§å·±è§çš„ä»£ç æ ¼å¼åŒ–ç¨‹åº\n\nä¸€èˆ¬é€šè¿‡ä»¥ä¸‹æ–¹å¼ä½¿ç”¨ `prettier`\n\n- ä½¿ç”¨ vscode ç­‰ä»£ç ç¼–è¾‘å™¨çš„ `prettier` æ’ä»¶ï¼šæ­é…å¿«æ·é”®å¦‚ ` ctrl+s`ï¼Œä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œé…ç½®ç®€å•ï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯ç”±äºå›¢é˜Ÿæˆå‘˜å¯èƒ½ä½¿ç”¨ä¸åŒçš„ç¼–è¾‘å™¨ï¼Œ`prettier ` ç‰ˆæœ¬ã€é…ç½®ä¸åŒï¼Œä»è€Œæ ¼å¼åŒ–çš„é£æ ¼è¿¥å¼‚ä¸”éš¾ç»Ÿä¸€ã€‚æ‰€ä»¥è¿™ç§ä½¿ç”¨æ–¹å¼ä¸ªäººä½¿ç”¨æ²¡é—®é¢˜ï¼Œå›¢é˜Ÿæ¨å¹¿ä¸å¤ªé€‚åˆ\n- ä¸‹è½½ `prettier npm` åŒ…ï¼Œåœ¨é¡¹ç›®ä¸­é…ç½®å¥½ï¼Œç»Ÿä¸€æ ¼å¼åŒ–é£æ ¼\n\n## ä½¿ç”¨\n\n`prettier`çš„ä½¿ç”¨å¾ˆç®€å•, æˆ‘æ‹¿`vscode`ä¸¾ä¾‹ï¼š\n\n1. éœ€è¦ä¸‹è½½ç¼–è¾‘å™¨æ’ä»¶, è¿™æ ·åœ¨åœ¨å®Œæˆä¹‹åä¼šåœ¨å…¨å±€`settings.json`ä¸­é…ç½®ï¼Œä¸è®ºç¼–å†™`html, css è¿˜æ˜¯js`ï¼Œä¿å­˜ä¹‹åéƒ½ä¼šç»Ÿä¸€æ ¼å¼åŒ–ï¼›\n2. å¯¹åº”é¡¹ç›®ä¸‹è½½`prettier`ä¾èµ–ï¼Œå¹¶ä¸”åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ `.prettierrcé…ç½®æ–‡ä»¶`å’Œ`.prettierignoreæ’é™¤æ–‡ä»¶`\n\nå¯¹äºä¼ä¸šé¡¹ç›®æ¥è®²ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œå› ä¸ºæœ‰å¯èƒ½æ¯ä¸ªé¡¹ç›®çš„ä¸€äº›ç‰¹æ®Šé…ç½®æ˜¯ä¸ä¸€æ ·çš„(æ­£å¸¸æ¥è®²ï¼Œæ¯ä¸ªä¼ä¸šçš„è§„åˆ™éƒ½æ˜¯ä¸€æ ·çš„)ï¼›\n\n### å®‰è£…ä¾èµ–\n\n`prettier`æ˜¯éœ€è¦æœ¬åœ°å¼€å‘ä½¿ç”¨çš„ï¼Œæ‰€ä»¥åªéœ€è¦å°†ä¾èµ–å®‰è£…åˆ°`devDependencies`\n\n```sh\npnpm add -D prettier\n```\n\nä½¿ç”¨å‘½ä»¤è¡Œæ ¼å¼æ–‡ä»¶ï¼š\n\n```bash\n# æ ¼å¼åŒ–æŸä¸ªæ–‡ä»¶\nnpx prettier --write .\\test.js\n# æ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶\nnpx prettier --write .\n```\n\n`prettier` é»˜è®¤ä¸ä¼šå¤„ç† `node_modules` é‡Œçš„æ–‡ä»¶ï¼Œå¦‚æœæƒ³å¿½ç•¥å…¶ä»–çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¯ä»¥åœ¨é¡¹ç›®ç›®å½•ä¸‹æ–°å»º.`.prettierignore` æ–‡ä»¶ï¼Œè¡¨ç¤ºå¿½ç•¥æŸäº›æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œå…·ä½“æ ¼å¼è·Ÿ`.gitignore` ç±»ä¼¼\n\n### .prettierignore\n\nè®¾ç½® prettier æ ¼å¼åŒ–å¿½è§†å“ªäº›æ–‡ä»¶, ä¾‹å¦‚ï¼š\n\n```bash\n# Lock files\npackage-lock.json\npnpm-lock.yaml\nyarn.lock\n```\n\n### .prettierrc é…ç½®æ–‡ä»¶\n\nå…·ä½“çš„é…ç½®é€‰é¡¹[prettier](https://prettier.io/docs/en/options)\n\n```bash\n{\n  # æŒ‡å®šprettierå°†æ¢è¡Œçš„è¡Œé•¿<int>ï¼Œé»˜è®¤80\n  printWidth: 80,\n\n  # æŒ‡å®šæ¯ä¸ªç¼©è¿›çº§åˆ«çš„ç©ºæ ¼æ•°<int>ï¼Œé»˜è®¤2\n  tabWidth: 2,\n\n  # ç”¨åˆ¶è¡¨ç¬¦è€Œä¸æ˜¯ç©ºæ ¼ç¼©è¿›è¡Œ<bool>ï¼Œé»˜è®¤false\n  useTabs: false,\n\n  # åœ¨è¯­å¥æœ«å°¾æ·»åŠ åˆ†å·<bool>ï¼Œé»˜è®¤true\n  semi: true,\n\n  # ä½¿ç”¨å•å¼•å·è€Œä¸æ˜¯åŒå¼•å·<bool>ï¼Œé»˜è®¤false\n  singleQuote: true,\n\n  # objectå¯¹è±¡ä¸­keyå€¼æ˜¯å¦åŠ å¼•å·<as-needed|consistent|preserve>ï¼Œé»˜è®¤as-needed\n  #/ as-needed-ä»…åœ¨éœ€è¦æ—¶åœ¨å¯¹è±¡å±æ€§å‘¨å›´æ·»åŠ å¼•å·\n  # consistent-å¦‚æœä¸€ä¸ªå¯¹è±¡ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå±æ€§éœ€è¦å¼•å·ï¼Œæ‰€æœ‰å±æ€§æ·»åŠ å¼•å·\n  # preserve-ä¿ç•™å¯¹è±¡å±æ€§ä¸­ç”¨æˆ·è¾“å…¥ä½¿ç”¨çš„å¼•å·\n  quoteProps: 'as-needed',\n\n  # åœ¨ JSX ä¸­ä½¿ç”¨å•å¼•å·è€Œä¸æ˜¯åŒå¼•å·<bool>ï¼Œé»˜è®¤false\n  jsxSingleQuote: false,\n\n  # åœ¨å¤šè¡Œé€—å·åˆ†éš”çš„å¥æ³•ç»“æ„ä¸­å°½å¯èƒ½æ‰“å°å°¾éšé€—å·<es5|none|all>ï¼Œé»˜è®¤es5\n  # es5-åœ¨ ES5 ä¸­æœ‰æ•ˆçš„å°¾éšé€—å·ï¼ˆå¯¹è±¡ã€æ•°ç»„ç­‰ï¼‰ï¼ŒTypeScript çš„ç±»å‹å‚æ•°ä¸­æ²¡æœ‰å°¾éšé€—å·\n  # none-æ²¡æœ‰å°¾éšé€—å·\n  # all-å°½å¯èƒ½ä»¥é€—å·ç»“å°¾ï¼ˆåŒ…æ‹¬å‡½æ•°å‚æ•°å’Œè°ƒç”¨ï¼‰ã€‚è¦è¿è¡Œä»¥è¿™ç§æ–¹å¼æ ¼å¼åŒ–çš„ JavaScript ä»£ç éœ€è¦ä¸€ä¸ªæ”¯æŒ ES2017ï¼ˆNode.js 8+ æˆ–ç°ä»£æµè§ˆå™¨ï¼‰æˆ–ä¸‹å±‚ç¼–è¯‘çš„å¼•æ“ã€‚è¿™è¿˜ä¼šåœ¨ TypeScript çš„ç±»å‹å‚æ•°ä¸­å¯ç”¨å°¾éšé€—å·ï¼ˆè‡ª 2018 å¹´ 1 æœˆå‘å¸ƒçš„ TypeScript 2.7 èµ·æ”¯æŒï¼‰\n  trailingComma: 'all',\n\n  # å¯¹è±¡å­—é¢é‡ä¸­æ‹¬å·ä¹‹é—´çš„ç©ºæ ¼<bool>ï¼Œé»˜è®¤true\n  bracketSpacing: true,\n\n  # å°†>å¤šè¡Œ HTMLï¼ˆHTMLã€JSXã€Vueã€Angularï¼‰å…ƒç´ æ”¾åœ¨æœ€åä¸€è¡Œçš„æœ«å°¾ï¼Œè€Œä¸æ˜¯å•ç‹¬æ”¾åœ¨ä¸‹ä¸€è¡Œï¼ˆä¸é€‚ç”¨äºè‡ªå…³é—­å…ƒç´ ï¼‰<bool>ï¼Œé»˜è®¤false\n\n  bracketSameLine: true,\n\n  # åœ¨å”¯ä¸€çš„ç®­å¤´å‡½æ•°å‚æ•°å‘¨å›´åŒ…å«æ‹¬å·<always|avoid>\n  # always-å§‹ç»ˆåŒ…å«æ‹¬å·\n  # avoid-å°½å¯èƒ½çœç•¥æ‹¬å·\n  arrowParens: 'always',\n\n  # Prettier å¯ä»¥é™åˆ¶è‡ªå·±åªæ ¼å¼åŒ–åœ¨æ–‡ä»¶é¡¶éƒ¨åŒ…å«ç‰¹æ®Šæ³¨é‡Šï¼ˆç§°ä¸º pragmaï¼‰çš„æ–‡ä»¶ã€‚è¿™åœ¨é€æ¸å°†å¤§å‹ã€æœªæ ¼å¼åŒ–çš„ä»£ç åº“è¿‡æ¸¡åˆ° Prettier æ—¶éå¸¸æœ‰ç”¨<bool>\n  requirePragma: false,\n\n  # Prettierå¯ä»¥åœ¨æ–‡ä»¶çš„é¡¶éƒ¨æ’å…¥ä¸€ä¸ª @formatçš„ç‰¹æ®Šæ³¨é‡Šï¼Œä»¥è¡¨æ˜æ”¹æ–‡ä»¶å·²ç»è¢«Prettieræ ¼å¼åŒ–è¿‡äº†ã€‚åœ¨ä½¿ç”¨ --require-pragmaå‚æ•°å¤„ç†ä¸€è¿ä¸²çš„æ–‡ä»¶æ—¶è¿™ä¸ªåŠŸèƒ½å°†ååˆ†æœ‰ç”¨ã€‚å¦‚æœæ–‡ä»¶é¡¶éƒ¨å·²ç»æœ‰ä¸€ä¸ªdoclockï¼Œè¿™ä¸ªé€‰é¡¹å°†æ–°å»ºä¸€è¡Œæ³¨é‡Šï¼Œå¹¶æ‰“ä¸Š@formatæ ‡è®°<bool>ï¼Œé»˜è®¤false\n  insertPragma: false,\n\n  # è¶…è¿‡æœ€å¤§å®½åº¦æ˜¯å¦æ¢è¡Œ<always|never|preserve>ï¼Œé»˜è®¤preserve\n  # always-å¦‚æœè¶…è¿‡æœ€å¤§å®½åº¦æ¢è¡Œ\n  # never-ä¸è¦æ¢è¡Œ\n  # preserve-æŒ‰åŸæ ·æ˜¾ç¤º\n  proseWrap: 'preserve',\n\n  # æŒ‡å®š HTMLã€Vueã€Angular å’Œ Handlebars çš„å…¨å±€ç©ºæ ¼æ•æ„Ÿåº¦<css|strict|ignore>ï¼Œé»˜è®¤css\n  # css-éµå¾ªCSSå±æ€§çš„é»˜è®¤å€¼\n  # strict-æ‰€æœ‰æ ‡ç­¾å‘¨å›´çš„ç©ºæ ¼ï¼ˆæˆ–ç¼ºå°‘ç©ºæ ¼ï¼‰è¢«è®¤ä¸ºæ˜¯é‡è¦çš„\n  # ignore-æ‰€æœ‰æ ‡ç­¾å‘¨å›´çš„ç©ºæ ¼ï¼ˆæˆ–ç¼ºå°‘ç©ºæ ¼ï¼‰è¢«è®¤ä¸ºæ˜¯æ— å…³ç´§è¦çš„\n  htmlWhitespaceSensitivity: 'css',\n\n  # vueæ–‡ä»¶scriptå’Œstyleæ ‡ç­¾ä¸­æ˜¯å¦ç¼©è¿›<bool>ï¼Œé»˜è®¤false\n  vueIndentScriptAndStyle: false,\n\n  # è¡Œå°¾æ¢è¡Œç¬¦<lf|crlf|cr|auto>ï¼Œé»˜è®¤lf\n  endOfLine: 'lf',\n\n  # æ§åˆ¶ Prettier æ˜¯å¦æ ¼å¼åŒ–åµŒå…¥åœ¨æ–‡ä»¶ä¸­çš„å¼•ç”¨ä»£ç <off|auto>ï¼Œé»˜è®¤auto\n  # autoâ€“å¦‚æœ Prettier å¯ä»¥è‡ªåŠ¨è¯†åˆ«ï¼Œåˆ™æ ¼å¼åŒ–åµŒå…¥ä»£ç \n  # off-ä»ä¸è‡ªåŠ¨æ ¼å¼åŒ–åµŒå…¥ä»£ç \n  embeddedLanguageFormatting: 'auto',\n\n  # åœ¨ HTMLã€Vue å’Œ JSX ä¸­å¼ºåˆ¶æ‰§è¡Œæ¯è¡Œå•ä¸ªå±æ€§<bool>ï¼Œé»˜è®¤false\n  singleAttributePerLine: true\n}\n```\n\n## åœ¨`package.json`é…ç½®\n\n```json\n{\n\t\"scripts\": {\n\t\t\"lint:format\": \"prettier  {src,mock,library}/**/*.{html,vue,css,sass,scss,js,ts,md} --write\"\n\t}\n}\n```\n","source":"_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/prettier.md","raw":"---\ntitle: é¡¹ç›®å·¥ç¨‹åŒ–-prettier\nabbrlink: e3341f8b\ndate: 2024-08-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å·¥ç¨‹åŒ–\n---\n\n# prettier\n\n`Prettier` æ˜¯ä¸€ä¸ªå›ºæ‰§å·±è§çš„ä»£ç æ ¼å¼åŒ–ç¨‹åº\n\nä¸€èˆ¬é€šè¿‡ä»¥ä¸‹æ–¹å¼ä½¿ç”¨ `prettier`\n\n- ä½¿ç”¨ vscode ç­‰ä»£ç ç¼–è¾‘å™¨çš„ `prettier` æ’ä»¶ï¼šæ­é…å¿«æ·é”®å¦‚ ` ctrl+s`ï¼Œä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œé…ç½®ç®€å•ï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯ç”±äºå›¢é˜Ÿæˆå‘˜å¯èƒ½ä½¿ç”¨ä¸åŒçš„ç¼–è¾‘å™¨ï¼Œ`prettier ` ç‰ˆæœ¬ã€é…ç½®ä¸åŒï¼Œä»è€Œæ ¼å¼åŒ–çš„é£æ ¼è¿¥å¼‚ä¸”éš¾ç»Ÿä¸€ã€‚æ‰€ä»¥è¿™ç§ä½¿ç”¨æ–¹å¼ä¸ªäººä½¿ç”¨æ²¡é—®é¢˜ï¼Œå›¢é˜Ÿæ¨å¹¿ä¸å¤ªé€‚åˆ\n- ä¸‹è½½ `prettier npm` åŒ…ï¼Œåœ¨é¡¹ç›®ä¸­é…ç½®å¥½ï¼Œç»Ÿä¸€æ ¼å¼åŒ–é£æ ¼\n\n## ä½¿ç”¨\n\n`prettier`çš„ä½¿ç”¨å¾ˆç®€å•, æˆ‘æ‹¿`vscode`ä¸¾ä¾‹ï¼š\n\n1. éœ€è¦ä¸‹è½½ç¼–è¾‘å™¨æ’ä»¶, è¿™æ ·åœ¨åœ¨å®Œæˆä¹‹åä¼šåœ¨å…¨å±€`settings.json`ä¸­é…ç½®ï¼Œä¸è®ºç¼–å†™`html, css è¿˜æ˜¯js`ï¼Œä¿å­˜ä¹‹åéƒ½ä¼šç»Ÿä¸€æ ¼å¼åŒ–ï¼›\n2. å¯¹åº”é¡¹ç›®ä¸‹è½½`prettier`ä¾èµ–ï¼Œå¹¶ä¸”åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ `.prettierrcé…ç½®æ–‡ä»¶`å’Œ`.prettierignoreæ’é™¤æ–‡ä»¶`\n\nå¯¹äºä¼ä¸šé¡¹ç›®æ¥è®²ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œå› ä¸ºæœ‰å¯èƒ½æ¯ä¸ªé¡¹ç›®çš„ä¸€äº›ç‰¹æ®Šé…ç½®æ˜¯ä¸ä¸€æ ·çš„(æ­£å¸¸æ¥è®²ï¼Œæ¯ä¸ªä¼ä¸šçš„è§„åˆ™éƒ½æ˜¯ä¸€æ ·çš„)ï¼›\n\n### å®‰è£…ä¾èµ–\n\n`prettier`æ˜¯éœ€è¦æœ¬åœ°å¼€å‘ä½¿ç”¨çš„ï¼Œæ‰€ä»¥åªéœ€è¦å°†ä¾èµ–å®‰è£…åˆ°`devDependencies`\n\n```sh\npnpm add -D prettier\n```\n\nä½¿ç”¨å‘½ä»¤è¡Œæ ¼å¼æ–‡ä»¶ï¼š\n\n```bash\n# æ ¼å¼åŒ–æŸä¸ªæ–‡ä»¶\nnpx prettier --write .\\test.js\n# æ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶\nnpx prettier --write .\n```\n\n`prettier` é»˜è®¤ä¸ä¼šå¤„ç† `node_modules` é‡Œçš„æ–‡ä»¶ï¼Œå¦‚æœæƒ³å¿½ç•¥å…¶ä»–çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¯ä»¥åœ¨é¡¹ç›®ç›®å½•ä¸‹æ–°å»º.`.prettierignore` æ–‡ä»¶ï¼Œè¡¨ç¤ºå¿½ç•¥æŸäº›æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œå…·ä½“æ ¼å¼è·Ÿ`.gitignore` ç±»ä¼¼\n\n### .prettierignore\n\nè®¾ç½® prettier æ ¼å¼åŒ–å¿½è§†å“ªäº›æ–‡ä»¶, ä¾‹å¦‚ï¼š\n\n```bash\n# Lock files\npackage-lock.json\npnpm-lock.yaml\nyarn.lock\n```\n\n### .prettierrc é…ç½®æ–‡ä»¶\n\nå…·ä½“çš„é…ç½®é€‰é¡¹[prettier](https://prettier.io/docs/en/options)\n\n```bash\n{\n  # æŒ‡å®šprettierå°†æ¢è¡Œçš„è¡Œé•¿<int>ï¼Œé»˜è®¤80\n  printWidth: 80,\n\n  # æŒ‡å®šæ¯ä¸ªç¼©è¿›çº§åˆ«çš„ç©ºæ ¼æ•°<int>ï¼Œé»˜è®¤2\n  tabWidth: 2,\n\n  # ç”¨åˆ¶è¡¨ç¬¦è€Œä¸æ˜¯ç©ºæ ¼ç¼©è¿›è¡Œ<bool>ï¼Œé»˜è®¤false\n  useTabs: false,\n\n  # åœ¨è¯­å¥æœ«å°¾æ·»åŠ åˆ†å·<bool>ï¼Œé»˜è®¤true\n  semi: true,\n\n  # ä½¿ç”¨å•å¼•å·è€Œä¸æ˜¯åŒå¼•å·<bool>ï¼Œé»˜è®¤false\n  singleQuote: true,\n\n  # objectå¯¹è±¡ä¸­keyå€¼æ˜¯å¦åŠ å¼•å·<as-needed|consistent|preserve>ï¼Œé»˜è®¤as-needed\n  #/ as-needed-ä»…åœ¨éœ€è¦æ—¶åœ¨å¯¹è±¡å±æ€§å‘¨å›´æ·»åŠ å¼•å·\n  # consistent-å¦‚æœä¸€ä¸ªå¯¹è±¡ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå±æ€§éœ€è¦å¼•å·ï¼Œæ‰€æœ‰å±æ€§æ·»åŠ å¼•å·\n  # preserve-ä¿ç•™å¯¹è±¡å±æ€§ä¸­ç”¨æˆ·è¾“å…¥ä½¿ç”¨çš„å¼•å·\n  quoteProps: 'as-needed',\n\n  # åœ¨ JSX ä¸­ä½¿ç”¨å•å¼•å·è€Œä¸æ˜¯åŒå¼•å·<bool>ï¼Œé»˜è®¤false\n  jsxSingleQuote: false,\n\n  # åœ¨å¤šè¡Œé€—å·åˆ†éš”çš„å¥æ³•ç»“æ„ä¸­å°½å¯èƒ½æ‰“å°å°¾éšé€—å·<es5|none|all>ï¼Œé»˜è®¤es5\n  # es5-åœ¨ ES5 ä¸­æœ‰æ•ˆçš„å°¾éšé€—å·ï¼ˆå¯¹è±¡ã€æ•°ç»„ç­‰ï¼‰ï¼ŒTypeScript çš„ç±»å‹å‚æ•°ä¸­æ²¡æœ‰å°¾éšé€—å·\n  # none-æ²¡æœ‰å°¾éšé€—å·\n  # all-å°½å¯èƒ½ä»¥é€—å·ç»“å°¾ï¼ˆåŒ…æ‹¬å‡½æ•°å‚æ•°å’Œè°ƒç”¨ï¼‰ã€‚è¦è¿è¡Œä»¥è¿™ç§æ–¹å¼æ ¼å¼åŒ–çš„ JavaScript ä»£ç éœ€è¦ä¸€ä¸ªæ”¯æŒ ES2017ï¼ˆNode.js 8+ æˆ–ç°ä»£æµè§ˆå™¨ï¼‰æˆ–ä¸‹å±‚ç¼–è¯‘çš„å¼•æ“ã€‚è¿™è¿˜ä¼šåœ¨ TypeScript çš„ç±»å‹å‚æ•°ä¸­å¯ç”¨å°¾éšé€—å·ï¼ˆè‡ª 2018 å¹´ 1 æœˆå‘å¸ƒçš„ TypeScript 2.7 èµ·æ”¯æŒï¼‰\n  trailingComma: 'all',\n\n  # å¯¹è±¡å­—é¢é‡ä¸­æ‹¬å·ä¹‹é—´çš„ç©ºæ ¼<bool>ï¼Œé»˜è®¤true\n  bracketSpacing: true,\n\n  # å°†>å¤šè¡Œ HTMLï¼ˆHTMLã€JSXã€Vueã€Angularï¼‰å…ƒç´ æ”¾åœ¨æœ€åä¸€è¡Œçš„æœ«å°¾ï¼Œè€Œä¸æ˜¯å•ç‹¬æ”¾åœ¨ä¸‹ä¸€è¡Œï¼ˆä¸é€‚ç”¨äºè‡ªå…³é—­å…ƒç´ ï¼‰<bool>ï¼Œé»˜è®¤false\n\n  bracketSameLine: true,\n\n  # åœ¨å”¯ä¸€çš„ç®­å¤´å‡½æ•°å‚æ•°å‘¨å›´åŒ…å«æ‹¬å·<always|avoid>\n  # always-å§‹ç»ˆåŒ…å«æ‹¬å·\n  # avoid-å°½å¯èƒ½çœç•¥æ‹¬å·\n  arrowParens: 'always',\n\n  # Prettier å¯ä»¥é™åˆ¶è‡ªå·±åªæ ¼å¼åŒ–åœ¨æ–‡ä»¶é¡¶éƒ¨åŒ…å«ç‰¹æ®Šæ³¨é‡Šï¼ˆç§°ä¸º pragmaï¼‰çš„æ–‡ä»¶ã€‚è¿™åœ¨é€æ¸å°†å¤§å‹ã€æœªæ ¼å¼åŒ–çš„ä»£ç åº“è¿‡æ¸¡åˆ° Prettier æ—¶éå¸¸æœ‰ç”¨<bool>\n  requirePragma: false,\n\n  # Prettierå¯ä»¥åœ¨æ–‡ä»¶çš„é¡¶éƒ¨æ’å…¥ä¸€ä¸ª @formatçš„ç‰¹æ®Šæ³¨é‡Šï¼Œä»¥è¡¨æ˜æ”¹æ–‡ä»¶å·²ç»è¢«Prettieræ ¼å¼åŒ–è¿‡äº†ã€‚åœ¨ä½¿ç”¨ --require-pragmaå‚æ•°å¤„ç†ä¸€è¿ä¸²çš„æ–‡ä»¶æ—¶è¿™ä¸ªåŠŸèƒ½å°†ååˆ†æœ‰ç”¨ã€‚å¦‚æœæ–‡ä»¶é¡¶éƒ¨å·²ç»æœ‰ä¸€ä¸ªdoclockï¼Œè¿™ä¸ªé€‰é¡¹å°†æ–°å»ºä¸€è¡Œæ³¨é‡Šï¼Œå¹¶æ‰“ä¸Š@formatæ ‡è®°<bool>ï¼Œé»˜è®¤false\n  insertPragma: false,\n\n  # è¶…è¿‡æœ€å¤§å®½åº¦æ˜¯å¦æ¢è¡Œ<always|never|preserve>ï¼Œé»˜è®¤preserve\n  # always-å¦‚æœè¶…è¿‡æœ€å¤§å®½åº¦æ¢è¡Œ\n  # never-ä¸è¦æ¢è¡Œ\n  # preserve-æŒ‰åŸæ ·æ˜¾ç¤º\n  proseWrap: 'preserve',\n\n  # æŒ‡å®š HTMLã€Vueã€Angular å’Œ Handlebars çš„å…¨å±€ç©ºæ ¼æ•æ„Ÿåº¦<css|strict|ignore>ï¼Œé»˜è®¤css\n  # css-éµå¾ªCSSå±æ€§çš„é»˜è®¤å€¼\n  # strict-æ‰€æœ‰æ ‡ç­¾å‘¨å›´çš„ç©ºæ ¼ï¼ˆæˆ–ç¼ºå°‘ç©ºæ ¼ï¼‰è¢«è®¤ä¸ºæ˜¯é‡è¦çš„\n  # ignore-æ‰€æœ‰æ ‡ç­¾å‘¨å›´çš„ç©ºæ ¼ï¼ˆæˆ–ç¼ºå°‘ç©ºæ ¼ï¼‰è¢«è®¤ä¸ºæ˜¯æ— å…³ç´§è¦çš„\n  htmlWhitespaceSensitivity: 'css',\n\n  # vueæ–‡ä»¶scriptå’Œstyleæ ‡ç­¾ä¸­æ˜¯å¦ç¼©è¿›<bool>ï¼Œé»˜è®¤false\n  vueIndentScriptAndStyle: false,\n\n  # è¡Œå°¾æ¢è¡Œç¬¦<lf|crlf|cr|auto>ï¼Œé»˜è®¤lf\n  endOfLine: 'lf',\n\n  # æ§åˆ¶ Prettier æ˜¯å¦æ ¼å¼åŒ–åµŒå…¥åœ¨æ–‡ä»¶ä¸­çš„å¼•ç”¨ä»£ç <off|auto>ï¼Œé»˜è®¤auto\n  # autoâ€“å¦‚æœ Prettier å¯ä»¥è‡ªåŠ¨è¯†åˆ«ï¼Œåˆ™æ ¼å¼åŒ–åµŒå…¥ä»£ç \n  # off-ä»ä¸è‡ªåŠ¨æ ¼å¼åŒ–åµŒå…¥ä»£ç \n  embeddedLanguageFormatting: 'auto',\n\n  # åœ¨ HTMLã€Vue å’Œ JSX ä¸­å¼ºåˆ¶æ‰§è¡Œæ¯è¡Œå•ä¸ªå±æ€§<bool>ï¼Œé»˜è®¤false\n  singleAttributePerLine: true\n}\n```\n\n## åœ¨`package.json`é…ç½®\n\n```json\n{\n\t\"scripts\": {\n\t\t\"lint:format\": \"prettier  {src,mock,library}/**/*.{html,vue,css,sass,scss,js,ts,md} --write\"\n\t}\n}\n```\n","slug":"æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/prettier","published":1,"updated":"2025-03-12T09:38:07.548Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0ja007lfg9m8gdl1as3","content":"<h1 id=\"prettier\"><a href=\"#prettier\" class=\"headerlink\" title=\"prettier\"></a>prettier</h1><p><code>Prettier</code> æ˜¯ä¸€ä¸ªå›ºæ‰§å·±è§çš„ä»£ç æ ¼å¼åŒ–ç¨‹åº</p>\n<p>ä¸€èˆ¬é€šè¿‡ä»¥ä¸‹æ–¹å¼ä½¿ç”¨ <code>prettier</code></p>\n<ul>\n<li>ä½¿ç”¨ vscode ç­‰ä»£ç ç¼–è¾‘å™¨çš„ <code>prettier</code> æ’ä»¶ï¼šæ­é…å¿«æ·é”®å¦‚ <code> ctrl+s</code>ï¼Œä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œé…ç½®ç®€å•ï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯ç”±äºå›¢é˜Ÿæˆå‘˜å¯èƒ½ä½¿ç”¨ä¸åŒçš„ç¼–è¾‘å™¨ï¼Œ<code>prettier </code> ç‰ˆæœ¬ã€é…ç½®ä¸åŒï¼Œä»è€Œæ ¼å¼åŒ–çš„é£æ ¼è¿¥å¼‚ä¸”éš¾ç»Ÿä¸€ã€‚æ‰€ä»¥è¿™ç§ä½¿ç”¨æ–¹å¼ä¸ªäººä½¿ç”¨æ²¡é—®é¢˜ï¼Œå›¢é˜Ÿæ¨å¹¿ä¸å¤ªé€‚åˆ</li>\n<li>ä¸‹è½½ <code>prettier npm</code> åŒ…ï¼Œåœ¨é¡¹ç›®ä¸­é…ç½®å¥½ï¼Œç»Ÿä¸€æ ¼å¼åŒ–é£æ ¼</li>\n</ul>\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><p><code>prettier</code>çš„ä½¿ç”¨å¾ˆç®€å•, æˆ‘æ‹¿<code>vscode</code>ä¸¾ä¾‹ï¼š</p>\n<ol>\n<li>éœ€è¦ä¸‹è½½ç¼–è¾‘å™¨æ’ä»¶, è¿™æ ·åœ¨åœ¨å®Œæˆä¹‹åä¼šåœ¨å…¨å±€<code>settings.json</code>ä¸­é…ç½®ï¼Œä¸è®ºç¼–å†™<code>html, css è¿˜æ˜¯js</code>ï¼Œä¿å­˜ä¹‹åéƒ½ä¼šç»Ÿä¸€æ ¼å¼åŒ–ï¼›</li>\n<li>å¯¹åº”é¡¹ç›®ä¸‹è½½<code>prettier</code>ä¾èµ–ï¼Œå¹¶ä¸”åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ <code>.prettierrcé…ç½®æ–‡ä»¶</code>å’Œ<code>.prettierignoreæ’é™¤æ–‡ä»¶</code></li>\n</ol>\n<p>å¯¹äºä¼ä¸šé¡¹ç›®æ¥è®²ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œå› ä¸ºæœ‰å¯èƒ½æ¯ä¸ªé¡¹ç›®çš„ä¸€äº›ç‰¹æ®Šé…ç½®æ˜¯ä¸ä¸€æ ·çš„(æ­£å¸¸æ¥è®²ï¼Œæ¯ä¸ªä¼ä¸šçš„è§„åˆ™éƒ½æ˜¯ä¸€æ ·çš„)ï¼›</p>\n<h3 id=\"å®‰è£…ä¾èµ–\"><a href=\"#å®‰è£…ä¾èµ–\" class=\"headerlink\" title=\"å®‰è£…ä¾èµ–\"></a>å®‰è£…ä¾èµ–</h3><p><code>prettier</code>æ˜¯éœ€è¦æœ¬åœ°å¼€å‘ä½¿ç”¨çš„ï¼Œæ‰€ä»¥åªéœ€è¦å°†ä¾èµ–å®‰è£…åˆ°<code>devDependencies</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add -D prettier</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨å‘½ä»¤è¡Œæ ¼å¼æ–‡ä»¶ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ ¼å¼åŒ–æŸä¸ªæ–‡ä»¶</span></span><br><span class=\"line\">npx prettier --write .\\test.js</span><br><span class=\"line\"><span class=\"comment\"># æ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶</span></span><br><span class=\"line\">npx prettier --write .</span><br></pre></td></tr></table></figure>\n\n<p><code>prettier</code> é»˜è®¤ä¸ä¼šå¤„ç† <code>node_modules</code> é‡Œçš„æ–‡ä»¶ï¼Œå¦‚æœæƒ³å¿½ç•¥å…¶ä»–çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¯ä»¥åœ¨é¡¹ç›®ç›®å½•ä¸‹æ–°å»º.<code>.prettierignore</code> æ–‡ä»¶ï¼Œè¡¨ç¤ºå¿½ç•¥æŸäº›æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œå…·ä½“æ ¼å¼è·Ÿ<code>.gitignore</code> ç±»ä¼¼</p>\n<h3 id=\"prettierignore\"><a href=\"#prettierignore\" class=\"headerlink\" title=\".prettierignore\"></a>.prettierignore</h3><p>è®¾ç½® prettier æ ¼å¼åŒ–å¿½è§†å“ªäº›æ–‡ä»¶, ä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Lock files</span></span><br><span class=\"line\">package-lock.json</span><br><span class=\"line\">pnpm-lock.yaml</span><br><span class=\"line\">yarn.lock</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"prettierrc-é…ç½®æ–‡ä»¶\"><a href=\"#prettierrc-é…ç½®æ–‡ä»¶\" class=\"headerlink\" title=\".prettierrc é…ç½®æ–‡ä»¶\"></a>.prettierrc é…ç½®æ–‡ä»¶</h3><p>å…·ä½“çš„é…ç½®é€‰é¡¹<a href=\"https://prettier.io/docs/en/options\">prettier</a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"comment\"># æŒ‡å®šprettierå°†æ¢è¡Œçš„è¡Œé•¿&lt;int&gt;ï¼Œé»˜è®¤80</span></span><br><span class=\"line\">  printWidth: 80,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># æŒ‡å®šæ¯ä¸ªç¼©è¿›çº§åˆ«çš„ç©ºæ ¼æ•°&lt;int&gt;ï¼Œé»˜è®¤2</span></span><br><span class=\"line\">  tabWidth: 2,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># ç”¨åˆ¶è¡¨ç¬¦è€Œä¸æ˜¯ç©ºæ ¼ç¼©è¿›è¡Œ&lt;bool&gt;ï¼Œé»˜è®¤false</span></span><br><span class=\"line\">  useTabs: <span class=\"literal\">false</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># åœ¨è¯­å¥æœ«å°¾æ·»åŠ åˆ†å·&lt;bool&gt;ï¼Œé»˜è®¤true</span></span><br><span class=\"line\">  semi: <span class=\"literal\">true</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># ä½¿ç”¨å•å¼•å·è€Œä¸æ˜¯åŒå¼•å·&lt;bool&gt;ï¼Œé»˜è®¤false</span></span><br><span class=\"line\">  singleQuote: <span class=\"literal\">true</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># objectå¯¹è±¡ä¸­keyå€¼æ˜¯å¦åŠ å¼•å·&lt;as-needed|consistent|preserve&gt;ï¼Œé»˜è®¤as-needed</span></span><br><span class=\"line\">  <span class=\"comment\">#/ as-needed-ä»…åœ¨éœ€è¦æ—¶åœ¨å¯¹è±¡å±æ€§å‘¨å›´æ·»åŠ å¼•å·</span></span><br><span class=\"line\">  <span class=\"comment\"># consistent-å¦‚æœä¸€ä¸ªå¯¹è±¡ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå±æ€§éœ€è¦å¼•å·ï¼Œæ‰€æœ‰å±æ€§æ·»åŠ å¼•å·</span></span><br><span class=\"line\">  <span class=\"comment\"># preserve-ä¿ç•™å¯¹è±¡å±æ€§ä¸­ç”¨æˆ·è¾“å…¥ä½¿ç”¨çš„å¼•å·</span></span><br><span class=\"line\">  quoteProps: <span class=\"string\">&#x27;as-needed&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># åœ¨ JSX ä¸­ä½¿ç”¨å•å¼•å·è€Œä¸æ˜¯åŒå¼•å·&lt;bool&gt;ï¼Œé»˜è®¤false</span></span><br><span class=\"line\">  jsxSingleQuote: <span class=\"literal\">false</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># åœ¨å¤šè¡Œé€—å·åˆ†éš”çš„å¥æ³•ç»“æ„ä¸­å°½å¯èƒ½æ‰“å°å°¾éšé€—å·&lt;es5|none|all&gt;ï¼Œé»˜è®¤es5</span></span><br><span class=\"line\">  <span class=\"comment\"># es5-åœ¨ ES5 ä¸­æœ‰æ•ˆçš„å°¾éšé€—å·ï¼ˆå¯¹è±¡ã€æ•°ç»„ç­‰ï¼‰ï¼ŒTypeScript çš„ç±»å‹å‚æ•°ä¸­æ²¡æœ‰å°¾éšé€—å·</span></span><br><span class=\"line\">  <span class=\"comment\"># none-æ²¡æœ‰å°¾éšé€—å·</span></span><br><span class=\"line\">  <span class=\"comment\"># all-å°½å¯èƒ½ä»¥é€—å·ç»“å°¾ï¼ˆåŒ…æ‹¬å‡½æ•°å‚æ•°å’Œè°ƒç”¨ï¼‰ã€‚è¦è¿è¡Œä»¥è¿™ç§æ–¹å¼æ ¼å¼åŒ–çš„ JavaScript ä»£ç éœ€è¦ä¸€ä¸ªæ”¯æŒ ES2017ï¼ˆNode.js 8+ æˆ–ç°ä»£æµè§ˆå™¨ï¼‰æˆ–ä¸‹å±‚ç¼–è¯‘çš„å¼•æ“ã€‚è¿™è¿˜ä¼šåœ¨ TypeScript çš„ç±»å‹å‚æ•°ä¸­å¯ç”¨å°¾éšé€—å·ï¼ˆè‡ª 2018 å¹´ 1 æœˆå‘å¸ƒçš„ TypeScript 2.7 èµ·æ”¯æŒï¼‰</span></span><br><span class=\"line\">  trailingComma: <span class=\"string\">&#x27;all&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># å¯¹è±¡å­—é¢é‡ä¸­æ‹¬å·ä¹‹é—´çš„ç©ºæ ¼&lt;bool&gt;ï¼Œé»˜è®¤true</span></span><br><span class=\"line\">  bracketSpacing: <span class=\"literal\">true</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># å°†&gt;å¤šè¡Œ HTMLï¼ˆHTMLã€JSXã€Vueã€Angularï¼‰å…ƒç´ æ”¾åœ¨æœ€åä¸€è¡Œçš„æœ«å°¾ï¼Œè€Œä¸æ˜¯å•ç‹¬æ”¾åœ¨ä¸‹ä¸€è¡Œï¼ˆä¸é€‚ç”¨äºè‡ªå…³é—­å…ƒç´ ï¼‰&lt;bool&gt;ï¼Œé»˜è®¤false</span></span><br><span class=\"line\"></span><br><span class=\"line\">  bracketSameLine: <span class=\"literal\">true</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># åœ¨å”¯ä¸€çš„ç®­å¤´å‡½æ•°å‚æ•°å‘¨å›´åŒ…å«æ‹¬å·&lt;always|avoid&gt;</span></span><br><span class=\"line\">  <span class=\"comment\"># always-å§‹ç»ˆåŒ…å«æ‹¬å·</span></span><br><span class=\"line\">  <span class=\"comment\"># avoid-å°½å¯èƒ½çœç•¥æ‹¬å·</span></span><br><span class=\"line\">  arrowParens: <span class=\"string\">&#x27;always&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># Prettier å¯ä»¥é™åˆ¶è‡ªå·±åªæ ¼å¼åŒ–åœ¨æ–‡ä»¶é¡¶éƒ¨åŒ…å«ç‰¹æ®Šæ³¨é‡Šï¼ˆç§°ä¸º pragmaï¼‰çš„æ–‡ä»¶ã€‚è¿™åœ¨é€æ¸å°†å¤§å‹ã€æœªæ ¼å¼åŒ–çš„ä»£ç åº“è¿‡æ¸¡åˆ° Prettier æ—¶éå¸¸æœ‰ç”¨&lt;bool&gt;</span></span><br><span class=\"line\">  requirePragma: <span class=\"literal\">false</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># Prettierå¯ä»¥åœ¨æ–‡ä»¶çš„é¡¶éƒ¨æ’å…¥ä¸€ä¸ª @formatçš„ç‰¹æ®Šæ³¨é‡Šï¼Œä»¥è¡¨æ˜æ”¹æ–‡ä»¶å·²ç»è¢«Prettieræ ¼å¼åŒ–è¿‡äº†ã€‚åœ¨ä½¿ç”¨ --require-pragmaå‚æ•°å¤„ç†ä¸€è¿ä¸²çš„æ–‡ä»¶æ—¶è¿™ä¸ªåŠŸèƒ½å°†ååˆ†æœ‰ç”¨ã€‚å¦‚æœæ–‡ä»¶é¡¶éƒ¨å·²ç»æœ‰ä¸€ä¸ªdoclockï¼Œè¿™ä¸ªé€‰é¡¹å°†æ–°å»ºä¸€è¡Œæ³¨é‡Šï¼Œå¹¶æ‰“ä¸Š@formatæ ‡è®°&lt;bool&gt;ï¼Œé»˜è®¤false</span></span><br><span class=\"line\">  insertPragma: <span class=\"literal\">false</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># è¶…è¿‡æœ€å¤§å®½åº¦æ˜¯å¦æ¢è¡Œ&lt;always|never|preserve&gt;ï¼Œé»˜è®¤preserve</span></span><br><span class=\"line\">  <span class=\"comment\"># always-å¦‚æœè¶…è¿‡æœ€å¤§å®½åº¦æ¢è¡Œ</span></span><br><span class=\"line\">  <span class=\"comment\"># never-ä¸è¦æ¢è¡Œ</span></span><br><span class=\"line\">  <span class=\"comment\"># preserve-æŒ‰åŸæ ·æ˜¾ç¤º</span></span><br><span class=\"line\">  proseWrap: <span class=\"string\">&#x27;preserve&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># æŒ‡å®š HTMLã€Vueã€Angular å’Œ Handlebars çš„å…¨å±€ç©ºæ ¼æ•æ„Ÿåº¦&lt;css|strict|ignore&gt;ï¼Œé»˜è®¤css</span></span><br><span class=\"line\">  <span class=\"comment\"># css-éµå¾ªCSSå±æ€§çš„é»˜è®¤å€¼</span></span><br><span class=\"line\">  <span class=\"comment\"># strict-æ‰€æœ‰æ ‡ç­¾å‘¨å›´çš„ç©ºæ ¼ï¼ˆæˆ–ç¼ºå°‘ç©ºæ ¼ï¼‰è¢«è®¤ä¸ºæ˜¯é‡è¦çš„</span></span><br><span class=\"line\">  <span class=\"comment\"># ignore-æ‰€æœ‰æ ‡ç­¾å‘¨å›´çš„ç©ºæ ¼ï¼ˆæˆ–ç¼ºå°‘ç©ºæ ¼ï¼‰è¢«è®¤ä¸ºæ˜¯æ— å…³ç´§è¦çš„</span></span><br><span class=\"line\">  htmlWhitespaceSensitivity: <span class=\"string\">&#x27;css&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># vueæ–‡ä»¶scriptå’Œstyleæ ‡ç­¾ä¸­æ˜¯å¦ç¼©è¿›&lt;bool&gt;ï¼Œé»˜è®¤false</span></span><br><span class=\"line\">  vueIndentScriptAndStyle: <span class=\"literal\">false</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># è¡Œå°¾æ¢è¡Œç¬¦&lt;lf|crlf|cr|auto&gt;ï¼Œé»˜è®¤lf</span></span><br><span class=\"line\">  endOfLine: <span class=\"string\">&#x27;lf&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># æ§åˆ¶ Prettier æ˜¯å¦æ ¼å¼åŒ–åµŒå…¥åœ¨æ–‡ä»¶ä¸­çš„å¼•ç”¨ä»£ç &lt;off|auto&gt;ï¼Œé»˜è®¤auto</span></span><br><span class=\"line\">  <span class=\"comment\"># autoâ€“å¦‚æœ Prettier å¯ä»¥è‡ªåŠ¨è¯†åˆ«ï¼Œåˆ™æ ¼å¼åŒ–åµŒå…¥ä»£ç </span></span><br><span class=\"line\">  <span class=\"comment\"># off-ä»ä¸è‡ªåŠ¨æ ¼å¼åŒ–åµŒå…¥ä»£ç </span></span><br><span class=\"line\">  embeddedLanguageFormatting: <span class=\"string\">&#x27;auto&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># åœ¨ HTMLã€Vue å’Œ JSX ä¸­å¼ºåˆ¶æ‰§è¡Œæ¯è¡Œå•ä¸ªå±æ€§&lt;bool&gt;ï¼Œé»˜è®¤false</span></span><br><span class=\"line\">  singleAttributePerLine: <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åœ¨package-jsoné…ç½®\"><a href=\"#åœ¨package-jsoné…ç½®\" class=\"headerlink\" title=\"åœ¨package.jsoné…ç½®\"></a>åœ¨<code>package.json</code>é…ç½®</h2><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;lint:format&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;prettier  &#123;src,mock,library&#125;/**/*.&#123;html,vue,css,sass,scss,js,ts,md&#125; --write&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"prettier\"><a href=\"#prettier\" class=\"headerlink\" title=\"prettier\"></a>prettier</h1><p><code>Prettier</code> æ˜¯ä¸€ä¸ªå›ºæ‰§å·±è§çš„ä»£ç æ ¼å¼åŒ–ç¨‹åº</p>\n<p>ä¸€èˆ¬é€šè¿‡ä»¥ä¸‹æ–¹å¼ä½¿ç”¨ <code>prettier</code></p>\n<ul>\n<li>ä½¿ç”¨ vscode ç­‰ä»£ç ç¼–è¾‘å™¨çš„ <code>prettier</code> æ’ä»¶ï¼šæ­é…å¿«æ·é”®å¦‚ <code> ctrl+s</code>ï¼Œä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œé…ç½®ç®€å•ï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯ç”±äºå›¢é˜Ÿæˆå‘˜å¯èƒ½ä½¿ç”¨ä¸åŒçš„ç¼–è¾‘å™¨ï¼Œ<code>prettier </code> ç‰ˆæœ¬ã€é…ç½®ä¸åŒï¼Œä»è€Œæ ¼å¼åŒ–çš„é£æ ¼è¿¥å¼‚ä¸”éš¾ç»Ÿä¸€ã€‚æ‰€ä»¥è¿™ç§ä½¿ç”¨æ–¹å¼ä¸ªäººä½¿ç”¨æ²¡é—®é¢˜ï¼Œå›¢é˜Ÿæ¨å¹¿ä¸å¤ªé€‚åˆ</li>\n<li>ä¸‹è½½ <code>prettier npm</code> åŒ…ï¼Œåœ¨é¡¹ç›®ä¸­é…ç½®å¥½ï¼Œç»Ÿä¸€æ ¼å¼åŒ–é£æ ¼</li>\n</ul>\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><p><code>prettier</code>çš„ä½¿ç”¨å¾ˆç®€å•, æˆ‘æ‹¿<code>vscode</code>ä¸¾ä¾‹ï¼š</p>\n<ol>\n<li>éœ€è¦ä¸‹è½½ç¼–è¾‘å™¨æ’ä»¶, è¿™æ ·åœ¨åœ¨å®Œæˆä¹‹åä¼šåœ¨å…¨å±€<code>settings.json</code>ä¸­é…ç½®ï¼Œä¸è®ºç¼–å†™<code>html, css è¿˜æ˜¯js</code>ï¼Œä¿å­˜ä¹‹åéƒ½ä¼šç»Ÿä¸€æ ¼å¼åŒ–ï¼›</li>\n<li>å¯¹åº”é¡¹ç›®ä¸‹è½½<code>prettier</code>ä¾èµ–ï¼Œå¹¶ä¸”åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ <code>.prettierrcé…ç½®æ–‡ä»¶</code>å’Œ<code>.prettierignoreæ’é™¤æ–‡ä»¶</code></li>\n</ol>\n<p>å¯¹äºä¼ä¸šé¡¹ç›®æ¥è®²ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œå› ä¸ºæœ‰å¯èƒ½æ¯ä¸ªé¡¹ç›®çš„ä¸€äº›ç‰¹æ®Šé…ç½®æ˜¯ä¸ä¸€æ ·çš„(æ­£å¸¸æ¥è®²ï¼Œæ¯ä¸ªä¼ä¸šçš„è§„åˆ™éƒ½æ˜¯ä¸€æ ·çš„)ï¼›</p>\n<h3 id=\"å®‰è£…ä¾èµ–\"><a href=\"#å®‰è£…ä¾èµ–\" class=\"headerlink\" title=\"å®‰è£…ä¾èµ–\"></a>å®‰è£…ä¾èµ–</h3><p><code>prettier</code>æ˜¯éœ€è¦æœ¬åœ°å¼€å‘ä½¿ç”¨çš„ï¼Œæ‰€ä»¥åªéœ€è¦å°†ä¾èµ–å®‰è£…åˆ°<code>devDependencies</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add -D prettier</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨å‘½ä»¤è¡Œæ ¼å¼æ–‡ä»¶ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ ¼å¼åŒ–æŸä¸ªæ–‡ä»¶</span></span><br><span class=\"line\">npx prettier --write .\\test.js</span><br><span class=\"line\"><span class=\"comment\"># æ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶</span></span><br><span class=\"line\">npx prettier --write .</span><br></pre></td></tr></table></figure>\n\n<p><code>prettier</code> é»˜è®¤ä¸ä¼šå¤„ç† <code>node_modules</code> é‡Œçš„æ–‡ä»¶ï¼Œå¦‚æœæƒ³å¿½ç•¥å…¶ä»–çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¯ä»¥åœ¨é¡¹ç›®ç›®å½•ä¸‹æ–°å»º.<code>.prettierignore</code> æ–‡ä»¶ï¼Œè¡¨ç¤ºå¿½ç•¥æŸäº›æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œå…·ä½“æ ¼å¼è·Ÿ<code>.gitignore</code> ç±»ä¼¼</p>\n<h3 id=\"prettierignore\"><a href=\"#prettierignore\" class=\"headerlink\" title=\".prettierignore\"></a>.prettierignore</h3><p>è®¾ç½® prettier æ ¼å¼åŒ–å¿½è§†å“ªäº›æ–‡ä»¶, ä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Lock files</span></span><br><span class=\"line\">package-lock.json</span><br><span class=\"line\">pnpm-lock.yaml</span><br><span class=\"line\">yarn.lock</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"prettierrc-é…ç½®æ–‡ä»¶\"><a href=\"#prettierrc-é…ç½®æ–‡ä»¶\" class=\"headerlink\" title=\".prettierrc é…ç½®æ–‡ä»¶\"></a>.prettierrc é…ç½®æ–‡ä»¶</h3><p>å…·ä½“çš„é…ç½®é€‰é¡¹<a href=\"https://prettier.io/docs/en/options\">prettier</a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"comment\"># æŒ‡å®šprettierå°†æ¢è¡Œçš„è¡Œé•¿&lt;int&gt;ï¼Œé»˜è®¤80</span></span><br><span class=\"line\">  printWidth: 80,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># æŒ‡å®šæ¯ä¸ªç¼©è¿›çº§åˆ«çš„ç©ºæ ¼æ•°&lt;int&gt;ï¼Œé»˜è®¤2</span></span><br><span class=\"line\">  tabWidth: 2,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># ç”¨åˆ¶è¡¨ç¬¦è€Œä¸æ˜¯ç©ºæ ¼ç¼©è¿›è¡Œ&lt;bool&gt;ï¼Œé»˜è®¤false</span></span><br><span class=\"line\">  useTabs: <span class=\"literal\">false</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># åœ¨è¯­å¥æœ«å°¾æ·»åŠ åˆ†å·&lt;bool&gt;ï¼Œé»˜è®¤true</span></span><br><span class=\"line\">  semi: <span class=\"literal\">true</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># ä½¿ç”¨å•å¼•å·è€Œä¸æ˜¯åŒå¼•å·&lt;bool&gt;ï¼Œé»˜è®¤false</span></span><br><span class=\"line\">  singleQuote: <span class=\"literal\">true</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># objectå¯¹è±¡ä¸­keyå€¼æ˜¯å¦åŠ å¼•å·&lt;as-needed|consistent|preserve&gt;ï¼Œé»˜è®¤as-needed</span></span><br><span class=\"line\">  <span class=\"comment\">#/ as-needed-ä»…åœ¨éœ€è¦æ—¶åœ¨å¯¹è±¡å±æ€§å‘¨å›´æ·»åŠ å¼•å·</span></span><br><span class=\"line\">  <span class=\"comment\"># consistent-å¦‚æœä¸€ä¸ªå¯¹è±¡ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå±æ€§éœ€è¦å¼•å·ï¼Œæ‰€æœ‰å±æ€§æ·»åŠ å¼•å·</span></span><br><span class=\"line\">  <span class=\"comment\"># preserve-ä¿ç•™å¯¹è±¡å±æ€§ä¸­ç”¨æˆ·è¾“å…¥ä½¿ç”¨çš„å¼•å·</span></span><br><span class=\"line\">  quoteProps: <span class=\"string\">&#x27;as-needed&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># åœ¨ JSX ä¸­ä½¿ç”¨å•å¼•å·è€Œä¸æ˜¯åŒå¼•å·&lt;bool&gt;ï¼Œé»˜è®¤false</span></span><br><span class=\"line\">  jsxSingleQuote: <span class=\"literal\">false</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># åœ¨å¤šè¡Œé€—å·åˆ†éš”çš„å¥æ³•ç»“æ„ä¸­å°½å¯èƒ½æ‰“å°å°¾éšé€—å·&lt;es5|none|all&gt;ï¼Œé»˜è®¤es5</span></span><br><span class=\"line\">  <span class=\"comment\"># es5-åœ¨ ES5 ä¸­æœ‰æ•ˆçš„å°¾éšé€—å·ï¼ˆå¯¹è±¡ã€æ•°ç»„ç­‰ï¼‰ï¼ŒTypeScript çš„ç±»å‹å‚æ•°ä¸­æ²¡æœ‰å°¾éšé€—å·</span></span><br><span class=\"line\">  <span class=\"comment\"># none-æ²¡æœ‰å°¾éšé€—å·</span></span><br><span class=\"line\">  <span class=\"comment\"># all-å°½å¯èƒ½ä»¥é€—å·ç»“å°¾ï¼ˆåŒ…æ‹¬å‡½æ•°å‚æ•°å’Œè°ƒç”¨ï¼‰ã€‚è¦è¿è¡Œä»¥è¿™ç§æ–¹å¼æ ¼å¼åŒ–çš„ JavaScript ä»£ç éœ€è¦ä¸€ä¸ªæ”¯æŒ ES2017ï¼ˆNode.js 8+ æˆ–ç°ä»£æµè§ˆå™¨ï¼‰æˆ–ä¸‹å±‚ç¼–è¯‘çš„å¼•æ“ã€‚è¿™è¿˜ä¼šåœ¨ TypeScript çš„ç±»å‹å‚æ•°ä¸­å¯ç”¨å°¾éšé€—å·ï¼ˆè‡ª 2018 å¹´ 1 æœˆå‘å¸ƒçš„ TypeScript 2.7 èµ·æ”¯æŒï¼‰</span></span><br><span class=\"line\">  trailingComma: <span class=\"string\">&#x27;all&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># å¯¹è±¡å­—é¢é‡ä¸­æ‹¬å·ä¹‹é—´çš„ç©ºæ ¼&lt;bool&gt;ï¼Œé»˜è®¤true</span></span><br><span class=\"line\">  bracketSpacing: <span class=\"literal\">true</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># å°†&gt;å¤šè¡Œ HTMLï¼ˆHTMLã€JSXã€Vueã€Angularï¼‰å…ƒç´ æ”¾åœ¨æœ€åä¸€è¡Œçš„æœ«å°¾ï¼Œè€Œä¸æ˜¯å•ç‹¬æ”¾åœ¨ä¸‹ä¸€è¡Œï¼ˆä¸é€‚ç”¨äºè‡ªå…³é—­å…ƒç´ ï¼‰&lt;bool&gt;ï¼Œé»˜è®¤false</span></span><br><span class=\"line\"></span><br><span class=\"line\">  bracketSameLine: <span class=\"literal\">true</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># åœ¨å”¯ä¸€çš„ç®­å¤´å‡½æ•°å‚æ•°å‘¨å›´åŒ…å«æ‹¬å·&lt;always|avoid&gt;</span></span><br><span class=\"line\">  <span class=\"comment\"># always-å§‹ç»ˆåŒ…å«æ‹¬å·</span></span><br><span class=\"line\">  <span class=\"comment\"># avoid-å°½å¯èƒ½çœç•¥æ‹¬å·</span></span><br><span class=\"line\">  arrowParens: <span class=\"string\">&#x27;always&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># Prettier å¯ä»¥é™åˆ¶è‡ªå·±åªæ ¼å¼åŒ–åœ¨æ–‡ä»¶é¡¶éƒ¨åŒ…å«ç‰¹æ®Šæ³¨é‡Šï¼ˆç§°ä¸º pragmaï¼‰çš„æ–‡ä»¶ã€‚è¿™åœ¨é€æ¸å°†å¤§å‹ã€æœªæ ¼å¼åŒ–çš„ä»£ç åº“è¿‡æ¸¡åˆ° Prettier æ—¶éå¸¸æœ‰ç”¨&lt;bool&gt;</span></span><br><span class=\"line\">  requirePragma: <span class=\"literal\">false</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># Prettierå¯ä»¥åœ¨æ–‡ä»¶çš„é¡¶éƒ¨æ’å…¥ä¸€ä¸ª @formatçš„ç‰¹æ®Šæ³¨é‡Šï¼Œä»¥è¡¨æ˜æ”¹æ–‡ä»¶å·²ç»è¢«Prettieræ ¼å¼åŒ–è¿‡äº†ã€‚åœ¨ä½¿ç”¨ --require-pragmaå‚æ•°å¤„ç†ä¸€è¿ä¸²çš„æ–‡ä»¶æ—¶è¿™ä¸ªåŠŸèƒ½å°†ååˆ†æœ‰ç”¨ã€‚å¦‚æœæ–‡ä»¶é¡¶éƒ¨å·²ç»æœ‰ä¸€ä¸ªdoclockï¼Œè¿™ä¸ªé€‰é¡¹å°†æ–°å»ºä¸€è¡Œæ³¨é‡Šï¼Œå¹¶æ‰“ä¸Š@formatæ ‡è®°&lt;bool&gt;ï¼Œé»˜è®¤false</span></span><br><span class=\"line\">  insertPragma: <span class=\"literal\">false</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># è¶…è¿‡æœ€å¤§å®½åº¦æ˜¯å¦æ¢è¡Œ&lt;always|never|preserve&gt;ï¼Œé»˜è®¤preserve</span></span><br><span class=\"line\">  <span class=\"comment\"># always-å¦‚æœè¶…è¿‡æœ€å¤§å®½åº¦æ¢è¡Œ</span></span><br><span class=\"line\">  <span class=\"comment\"># never-ä¸è¦æ¢è¡Œ</span></span><br><span class=\"line\">  <span class=\"comment\"># preserve-æŒ‰åŸæ ·æ˜¾ç¤º</span></span><br><span class=\"line\">  proseWrap: <span class=\"string\">&#x27;preserve&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># æŒ‡å®š HTMLã€Vueã€Angular å’Œ Handlebars çš„å…¨å±€ç©ºæ ¼æ•æ„Ÿåº¦&lt;css|strict|ignore&gt;ï¼Œé»˜è®¤css</span></span><br><span class=\"line\">  <span class=\"comment\"># css-éµå¾ªCSSå±æ€§çš„é»˜è®¤å€¼</span></span><br><span class=\"line\">  <span class=\"comment\"># strict-æ‰€æœ‰æ ‡ç­¾å‘¨å›´çš„ç©ºæ ¼ï¼ˆæˆ–ç¼ºå°‘ç©ºæ ¼ï¼‰è¢«è®¤ä¸ºæ˜¯é‡è¦çš„</span></span><br><span class=\"line\">  <span class=\"comment\"># ignore-æ‰€æœ‰æ ‡ç­¾å‘¨å›´çš„ç©ºæ ¼ï¼ˆæˆ–ç¼ºå°‘ç©ºæ ¼ï¼‰è¢«è®¤ä¸ºæ˜¯æ— å…³ç´§è¦çš„</span></span><br><span class=\"line\">  htmlWhitespaceSensitivity: <span class=\"string\">&#x27;css&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># vueæ–‡ä»¶scriptå’Œstyleæ ‡ç­¾ä¸­æ˜¯å¦ç¼©è¿›&lt;bool&gt;ï¼Œé»˜è®¤false</span></span><br><span class=\"line\">  vueIndentScriptAndStyle: <span class=\"literal\">false</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># è¡Œå°¾æ¢è¡Œç¬¦&lt;lf|crlf|cr|auto&gt;ï¼Œé»˜è®¤lf</span></span><br><span class=\"line\">  endOfLine: <span class=\"string\">&#x27;lf&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># æ§åˆ¶ Prettier æ˜¯å¦æ ¼å¼åŒ–åµŒå…¥åœ¨æ–‡ä»¶ä¸­çš„å¼•ç”¨ä»£ç &lt;off|auto&gt;ï¼Œé»˜è®¤auto</span></span><br><span class=\"line\">  <span class=\"comment\"># autoâ€“å¦‚æœ Prettier å¯ä»¥è‡ªåŠ¨è¯†åˆ«ï¼Œåˆ™æ ¼å¼åŒ–åµŒå…¥ä»£ç </span></span><br><span class=\"line\">  <span class=\"comment\"># off-ä»ä¸è‡ªåŠ¨æ ¼å¼åŒ–åµŒå…¥ä»£ç </span></span><br><span class=\"line\">  embeddedLanguageFormatting: <span class=\"string\">&#x27;auto&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># åœ¨ HTMLã€Vue å’Œ JSX ä¸­å¼ºåˆ¶æ‰§è¡Œæ¯è¡Œå•ä¸ªå±æ€§&lt;bool&gt;ï¼Œé»˜è®¤false</span></span><br><span class=\"line\">  singleAttributePerLine: <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åœ¨package-jsoné…ç½®\"><a href=\"#åœ¨package-jsoné…ç½®\" class=\"headerlink\" title=\"åœ¨package.jsoné…ç½®\"></a>åœ¨<code>package.json</code>é…ç½®</h2><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;lint:format&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;prettier  &#123;src,mock,library&#125;/**/*.&#123;html,vue,css,sass,scss,js,ts,md&#125; --write&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n"},{"title":"é¡¹ç›®å·¥ç¨‹åŒ–-stylelint","abbrlink":"cac99d28","date":"2024-08-08T01:05:01.000Z","_content":"\n# stylelint\n\n`stylelint` æ˜¯ä¸€ä¸ªç”¨äºæ£€æµ‹ CSS ä»£ç é£æ ¼å’Œé”™è¯¯çš„å·¥å…·ï¼Œå®ƒæœ‰ç‚¹ç±»ä¼¼äº `ESlint`ï¼Œä½†æ˜¯å®ƒä¸“æ³¨äº `CSSã€‚` `stylelint` ä¸ä»…å¯ä»¥å¸®åŠ©ä½ åœ¨å›¢é˜Ÿä¸­ä¿æŒä¸€è‡´çš„ CSS ä»£ç é£æ ¼ï¼Œå‘ç°æ½œåœ¨çš„é”™è¯¯ï¼Œå¹¶ä¸”ç¡®ä¿ä»£ç ç¬¦åˆæœ€ä½³å®è·µã€‚\n\n`Stylelint` éœ€è¦ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œå¹¶åœ¨ä»¥ä¸‹ä½ç½®å¯»æ‰¾ä¸€ä¸ª[é…ç½®](https://stylelint.io/user-guide/configure)ï¼š\n\n- `stylelint.config.js` æˆ–`.stylelintrc.js` æ–‡ä»¶ä½¿ç”¨å“ªä¸ªæ¨¡å—ç³»ç»Ÿå–å†³äº `Node.js` çš„é»˜è®¤æ¨¡å—ç³»ç»Ÿé…ç½®ï¼ˆä¾‹å¦‚`\"type\":\"module\"`åœ¨ `package.json`ï¼‰ã€‚\n- `stylelint.config.mjs` æˆ–`.stylelintrc.mjs `ä½¿ç”¨æ–‡ä»¶ `export defaultï¼ˆES æ¨¡å—ï¼‰`\n- `stylelint.config.cjs` æˆ–ä½¿ç”¨(`CommonJS`) çš„`.stylelintrc.cjs` æ–‡ä»¶ `module.exports`\n- `.stylelintrc.json`ã€`.stylelintrc.yml` æˆ–`.stylelintrc.yaml `æ–‡ä»¶\n\n## é…ç½®\n\n[ç›¸å…³èµ„æ–™-stylelint è§„èŒƒ](http://www.yanhongzhi.com/post/project_specification3.html)\n\n### es æ¨¡å—é…ç½®\n\n```js\n// .stylelintrc.mjs\n// å¦‚æœæ²¡æœ‰ä¸‹é¢çš„ä¾èµ–ï¼Œè¯·è‡ªè¡Œå®‰è£…\nexport default {\n\textends: [\n\t\t// é…ç½®  scss æ ·å¼æ ¼å¼åŒ–\n\t\t\"stylelint-config-recommended-scss\",\n\t\t// é…ç½®  vue æ ·å¼æ ¼å¼åŒ–\n\t\t\"stylelint-config-recommended-vue\",\n\t\t// é…ç½® stylelint css å±æ€§ä¹¦å†™é¡ºåºæ’ä»¶,\n\t\t\"stylelint-config-recess-order\",\n\t],\n\trules: {},\n};\n```\n\n### Commonjs é…ç½®\n\n```js\n// .stylelintrc.js\nmodule.exports = {\n\textends: [\n\t\t\"stylelint-config-recommended-scss\",\n\t\t\"stylelint-config-recommended-vue\",\n\t\t\"stylelint-config-recess-order\",\n\t],\n\trules: {},\n};\n```\n\n## .stylelintignore\n\n`.stylelintignore` æ–‡ä»¶ç”¨äºå¿½ç•¥æŸäº›æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œè¿™äº›æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ä¸ä¼šè¢« `stylelint` æ£€æµ‹ã€‚\n\nä¸¾ä¸ªä¾‹å­ï¼š\n\n```sh\n/node_modules/*\n/dist/*\n/public/*\n```\n\n## .stylelintcache\n\né»˜è®¤ç”Ÿæˆçš„ `.stylelintcache` æ–‡ä»¶æ”¾ç½®äºæ‰§è¡Œç›®å½•ä¸­\n\n## åœ¨`package.json`é…ç½®\n\n```json\n{\n\t\"scripts\": {\n\t\t// --cache ä¼šç”Ÿæˆ .stylelintcache\n\t\t\"lint:style\": \"stylelint {src,mock,library}/**/*.{vue,css,sass,scss} --cache --fix\"\n\t}\n}\n```\n","source":"_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/stylelint.md","raw":"---\ntitle: é¡¹ç›®å·¥ç¨‹åŒ–-stylelint\nabbrlink: cac99d28\ndate: 2024-08-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å·¥ç¨‹åŒ–\n---\n\n# stylelint\n\n`stylelint` æ˜¯ä¸€ä¸ªç”¨äºæ£€æµ‹ CSS ä»£ç é£æ ¼å’Œé”™è¯¯çš„å·¥å…·ï¼Œå®ƒæœ‰ç‚¹ç±»ä¼¼äº `ESlint`ï¼Œä½†æ˜¯å®ƒä¸“æ³¨äº `CSSã€‚` `stylelint` ä¸ä»…å¯ä»¥å¸®åŠ©ä½ åœ¨å›¢é˜Ÿä¸­ä¿æŒä¸€è‡´çš„ CSS ä»£ç é£æ ¼ï¼Œå‘ç°æ½œåœ¨çš„é”™è¯¯ï¼Œå¹¶ä¸”ç¡®ä¿ä»£ç ç¬¦åˆæœ€ä½³å®è·µã€‚\n\n`Stylelint` éœ€è¦ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œå¹¶åœ¨ä»¥ä¸‹ä½ç½®å¯»æ‰¾ä¸€ä¸ª[é…ç½®](https://stylelint.io/user-guide/configure)ï¼š\n\n- `stylelint.config.js` æˆ–`.stylelintrc.js` æ–‡ä»¶ä½¿ç”¨å“ªä¸ªæ¨¡å—ç³»ç»Ÿå–å†³äº `Node.js` çš„é»˜è®¤æ¨¡å—ç³»ç»Ÿé…ç½®ï¼ˆä¾‹å¦‚`\"type\":\"module\"`åœ¨ `package.json`ï¼‰ã€‚\n- `stylelint.config.mjs` æˆ–`.stylelintrc.mjs `ä½¿ç”¨æ–‡ä»¶ `export defaultï¼ˆES æ¨¡å—ï¼‰`\n- `stylelint.config.cjs` æˆ–ä½¿ç”¨(`CommonJS`) çš„`.stylelintrc.cjs` æ–‡ä»¶ `module.exports`\n- `.stylelintrc.json`ã€`.stylelintrc.yml` æˆ–`.stylelintrc.yaml `æ–‡ä»¶\n\n## é…ç½®\n\n[ç›¸å…³èµ„æ–™-stylelint è§„èŒƒ](http://www.yanhongzhi.com/post/project_specification3.html)\n\n### es æ¨¡å—é…ç½®\n\n```js\n// .stylelintrc.mjs\n// å¦‚æœæ²¡æœ‰ä¸‹é¢çš„ä¾èµ–ï¼Œè¯·è‡ªè¡Œå®‰è£…\nexport default {\n\textends: [\n\t\t// é…ç½®  scss æ ·å¼æ ¼å¼åŒ–\n\t\t\"stylelint-config-recommended-scss\",\n\t\t// é…ç½®  vue æ ·å¼æ ¼å¼åŒ–\n\t\t\"stylelint-config-recommended-vue\",\n\t\t// é…ç½® stylelint css å±æ€§ä¹¦å†™é¡ºåºæ’ä»¶,\n\t\t\"stylelint-config-recess-order\",\n\t],\n\trules: {},\n};\n```\n\n### Commonjs é…ç½®\n\n```js\n// .stylelintrc.js\nmodule.exports = {\n\textends: [\n\t\t\"stylelint-config-recommended-scss\",\n\t\t\"stylelint-config-recommended-vue\",\n\t\t\"stylelint-config-recess-order\",\n\t],\n\trules: {},\n};\n```\n\n## .stylelintignore\n\n`.stylelintignore` æ–‡ä»¶ç”¨äºå¿½ç•¥æŸäº›æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œè¿™äº›æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ä¸ä¼šè¢« `stylelint` æ£€æµ‹ã€‚\n\nä¸¾ä¸ªä¾‹å­ï¼š\n\n```sh\n/node_modules/*\n/dist/*\n/public/*\n```\n\n## .stylelintcache\n\né»˜è®¤ç”Ÿæˆçš„ `.stylelintcache` æ–‡ä»¶æ”¾ç½®äºæ‰§è¡Œç›®å½•ä¸­\n\n## åœ¨`package.json`é…ç½®\n\n```json\n{\n\t\"scripts\": {\n\t\t// --cache ä¼šç”Ÿæˆ .stylelintcache\n\t\t\"lint:style\": \"stylelint {src,mock,library}/**/*.{vue,css,sass,scss} --cache --fix\"\n\t}\n}\n```\n","slug":"æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/stylelint","published":1,"updated":"2025-03-12T09:38:01.489Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0ja007nfg9mg7dad3l6","content":"<h1 id=\"stylelint\"><a href=\"#stylelint\" class=\"headerlink\" title=\"stylelint\"></a>stylelint</h1><p><code>stylelint</code> æ˜¯ä¸€ä¸ªç”¨äºæ£€æµ‹ CSS ä»£ç é£æ ¼å’Œé”™è¯¯çš„å·¥å…·ï¼Œå®ƒæœ‰ç‚¹ç±»ä¼¼äº <code>ESlint</code>ï¼Œä½†æ˜¯å®ƒä¸“æ³¨äº <code>CSSã€‚</code> <code>stylelint</code> ä¸ä»…å¯ä»¥å¸®åŠ©ä½ åœ¨å›¢é˜Ÿä¸­ä¿æŒä¸€è‡´çš„ CSS ä»£ç é£æ ¼ï¼Œå‘ç°æ½œåœ¨çš„é”™è¯¯ï¼Œå¹¶ä¸”ç¡®ä¿ä»£ç ç¬¦åˆæœ€ä½³å®è·µã€‚</p>\n<p><code>Stylelint</code> éœ€è¦ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œå¹¶åœ¨ä»¥ä¸‹ä½ç½®å¯»æ‰¾ä¸€ä¸ª<a href=\"https://stylelint.io/user-guide/configure\">é…ç½®</a>ï¼š</p>\n<ul>\n<li><code>stylelint.config.js</code> æˆ–<code>.stylelintrc.js</code> æ–‡ä»¶ä½¿ç”¨å“ªä¸ªæ¨¡å—ç³»ç»Ÿå–å†³äº <code>Node.js</code> çš„é»˜è®¤æ¨¡å—ç³»ç»Ÿé…ç½®ï¼ˆä¾‹å¦‚<code>&quot;type&quot;:&quot;module&quot;</code>åœ¨ <code>package.json</code>ï¼‰ã€‚</li>\n<li><code>stylelint.config.mjs</code> æˆ–<code>.stylelintrc.mjs </code>ä½¿ç”¨æ–‡ä»¶ <code>export defaultï¼ˆES æ¨¡å—ï¼‰</code></li>\n<li><code>stylelint.config.cjs</code> æˆ–ä½¿ç”¨(<code>CommonJS</code>) çš„<code>.stylelintrc.cjs</code> æ–‡ä»¶ <code>module.exports</code></li>\n<li><code>.stylelintrc.json</code>ã€<code>.stylelintrc.yml</code> æˆ–<code>.stylelintrc.yaml </code>æ–‡ä»¶</li>\n</ul>\n<h2 id=\"é…ç½®\"><a href=\"#é…ç½®\" class=\"headerlink\" title=\"é…ç½®\"></a>é…ç½®</h2><p><a href=\"http://www.yanhongzhi.com/post/project_specification3.html\">ç›¸å…³èµ„æ–™-stylelint è§„èŒƒ</a></p>\n<h3 id=\"es-æ¨¡å—é…ç½®\"><a href=\"#es-æ¨¡å—é…ç½®\" class=\"headerlink\" title=\"es æ¨¡å—é…ç½®\"></a>es æ¨¡å—é…ç½®</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// .stylelintrc.mjs</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœæ²¡æœ‰ä¸‹é¢çš„ä¾èµ–ï¼Œè¯·è‡ªè¡Œå®‰è£…</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">extends</span>: [</span><br><span class=\"line\">\t\t<span class=\"comment\">// é…ç½®  scss æ ·å¼æ ¼å¼åŒ–</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recommended-scss&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// é…ç½®  vue æ ·å¼æ ¼å¼åŒ–</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recommended-vue&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// é…ç½® stylelint css å±æ€§ä¹¦å†™é¡ºåºæ’ä»¶,</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recess-order&quot;</span>,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"attr\">rules</span>: &#123;&#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Commonjs-é…ç½®\"><a href=\"#Commonjs-é…ç½®\" class=\"headerlink\" title=\"Commonjs é…ç½®\"></a>Commonjs é…ç½®</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// .stylelintrc.js</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">extends</span>: [</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recommended-scss&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recommended-vue&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recess-order&quot;</span>,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"attr\">rules</span>: &#123;&#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"stylelintignore\"><a href=\"#stylelintignore\" class=\"headerlink\" title=\".stylelintignore\"></a>.stylelintignore</h2><p><code>.stylelintignore</code> æ–‡ä»¶ç”¨äºå¿½ç•¥æŸäº›æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œè¿™äº›æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ä¸ä¼šè¢« <code>stylelint</code> æ£€æµ‹ã€‚</p>\n<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/node_modules/*</span><br><span class=\"line\">/dist/*</span><br><span class=\"line\">/public/*</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"stylelintcache\"><a href=\"#stylelintcache\" class=\"headerlink\" title=\".stylelintcache\"></a>.stylelintcache</h2><p>é»˜è®¤ç”Ÿæˆçš„ <code>.stylelintcache</code> æ–‡ä»¶æ”¾ç½®äºæ‰§è¡Œç›®å½•ä¸­</p>\n<h2 id=\"åœ¨package-jsoné…ç½®\"><a href=\"#åœ¨package-jsoné…ç½®\" class=\"headerlink\" title=\"åœ¨package.jsoné…ç½®\"></a>åœ¨<code>package.json</code>é…ç½®</h2><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// --cache ä¼šç”Ÿæˆ .stylelintcache</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;lint:style&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;stylelint &#123;src,mock,library&#125;/**/*.&#123;vue,css,sass,scss&#125; --cache --fix&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<h1 id=\"stylelint\"><a href=\"#stylelint\" class=\"headerlink\" title=\"stylelint\"></a>stylelint</h1><p><code>stylelint</code> æ˜¯ä¸€ä¸ªç”¨äºæ£€æµ‹ CSS ä»£ç é£æ ¼å’Œé”™è¯¯çš„å·¥å…·ï¼Œå®ƒæœ‰ç‚¹ç±»ä¼¼äº <code>ESlint</code>ï¼Œä½†æ˜¯å®ƒä¸“æ³¨äº <code>CSSã€‚</code> <code>stylelint</code> ä¸ä»…å¯ä»¥å¸®åŠ©ä½ åœ¨å›¢é˜Ÿä¸­ä¿æŒä¸€è‡´çš„ CSS ä»£ç é£æ ¼ï¼Œå‘ç°æ½œåœ¨çš„é”™è¯¯ï¼Œå¹¶ä¸”ç¡®ä¿ä»£ç ç¬¦åˆæœ€ä½³å®è·µã€‚</p>\n<p><code>Stylelint</code> éœ€è¦ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œå¹¶åœ¨ä»¥ä¸‹ä½ç½®å¯»æ‰¾ä¸€ä¸ª<a href=\"https://stylelint.io/user-guide/configure\">é…ç½®</a>ï¼š</p>\n<ul>\n<li><code>stylelint.config.js</code> æˆ–<code>.stylelintrc.js</code> æ–‡ä»¶ä½¿ç”¨å“ªä¸ªæ¨¡å—ç³»ç»Ÿå–å†³äº <code>Node.js</code> çš„é»˜è®¤æ¨¡å—ç³»ç»Ÿé…ç½®ï¼ˆä¾‹å¦‚<code>&quot;type&quot;:&quot;module&quot;</code>åœ¨ <code>package.json</code>ï¼‰ã€‚</li>\n<li><code>stylelint.config.mjs</code> æˆ–<code>.stylelintrc.mjs </code>ä½¿ç”¨æ–‡ä»¶ <code>export defaultï¼ˆES æ¨¡å—ï¼‰</code></li>\n<li><code>stylelint.config.cjs</code> æˆ–ä½¿ç”¨(<code>CommonJS</code>) çš„<code>.stylelintrc.cjs</code> æ–‡ä»¶ <code>module.exports</code></li>\n<li><code>.stylelintrc.json</code>ã€<code>.stylelintrc.yml</code> æˆ–<code>.stylelintrc.yaml </code>æ–‡ä»¶</li>\n</ul>\n<h2 id=\"é…ç½®\"><a href=\"#é…ç½®\" class=\"headerlink\" title=\"é…ç½®\"></a>é…ç½®</h2><p><a href=\"http://www.yanhongzhi.com/post/project_specification3.html\">ç›¸å…³èµ„æ–™-stylelint è§„èŒƒ</a></p>\n<h3 id=\"es-æ¨¡å—é…ç½®\"><a href=\"#es-æ¨¡å—é…ç½®\" class=\"headerlink\" title=\"es æ¨¡å—é…ç½®\"></a>es æ¨¡å—é…ç½®</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// .stylelintrc.mjs</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœæ²¡æœ‰ä¸‹é¢çš„ä¾èµ–ï¼Œè¯·è‡ªè¡Œå®‰è£…</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">extends</span>: [</span><br><span class=\"line\">\t\t<span class=\"comment\">// é…ç½®  scss æ ·å¼æ ¼å¼åŒ–</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recommended-scss&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// é…ç½®  vue æ ·å¼æ ¼å¼åŒ–</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recommended-vue&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// é…ç½® stylelint css å±æ€§ä¹¦å†™é¡ºåºæ’ä»¶,</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recess-order&quot;</span>,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"attr\">rules</span>: &#123;&#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Commonjs-é…ç½®\"><a href=\"#Commonjs-é…ç½®\" class=\"headerlink\" title=\"Commonjs é…ç½®\"></a>Commonjs é…ç½®</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// .stylelintrc.js</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">extends</span>: [</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recommended-scss&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recommended-vue&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recess-order&quot;</span>,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"attr\">rules</span>: &#123;&#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"stylelintignore\"><a href=\"#stylelintignore\" class=\"headerlink\" title=\".stylelintignore\"></a>.stylelintignore</h2><p><code>.stylelintignore</code> æ–‡ä»¶ç”¨äºå¿½ç•¥æŸäº›æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œè¿™äº›æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ä¸ä¼šè¢« <code>stylelint</code> æ£€æµ‹ã€‚</p>\n<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/node_modules/*</span><br><span class=\"line\">/dist/*</span><br><span class=\"line\">/public/*</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"stylelintcache\"><a href=\"#stylelintcache\" class=\"headerlink\" title=\".stylelintcache\"></a>.stylelintcache</h2><p>é»˜è®¤ç”Ÿæˆçš„ <code>.stylelintcache</code> æ–‡ä»¶æ”¾ç½®äºæ‰§è¡Œç›®å½•ä¸­</p>\n<h2 id=\"åœ¨package-jsoné…ç½®\"><a href=\"#åœ¨package-jsoné…ç½®\" class=\"headerlink\" title=\"åœ¨package.jsoné…ç½®\"></a>åœ¨<code>package.json</code>é…ç½®</h2><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// --cache ä¼šç”Ÿæˆ .stylelintcache</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;lint:style&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;stylelint &#123;src,mock,library&#125;/**/*.&#123;vue,css,sass,scss&#125; --cache --fix&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n"},{"title":"é¡¹ç›®å·¥ç¨‹åŒ–-release-it","abbrlink":"c1959f05","date":"2024-08-08T01:05:01.000Z","_content":"\n# release-it?\n\næ˜¯ä¸€ä¸ªç”¨äºè‡ªåŠ¨åŒ–è½¯ä»¶å‘å¸ƒçš„å‘½ä»¤è¡Œå·¥å…·ã€‚å®ƒå¯ä»¥å¸®åŠ©å¼€å‘å›¢é˜Ÿè‡ªåŠ¨åŒ–ç‰ˆæœ¬æ§åˆ¶ã€ç”Ÿæˆæ›´æ–°æ—¥å¿—ï¼ˆCHANGELOGï¼‰ã€åˆ›å»º Git æ ‡ç­¾ã€å‘å¸ƒåˆ° npm ç­‰ä»»åŠ¡ã€‚\n\n## ä¸»è¦åŠŸèƒ½\n\n- è‡ªåŠ¨ç‰ˆæœ¬å·é€’å¢ (éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ Semantic Versioning)\n- è‡ªåŠ¨ç”Ÿæˆ/æ›´æ–° CHANGELOG\n- Git æäº¤ã€æ‰“æ ‡ç­¾å’Œæ¨é€\n- å‘å¸ƒåˆ° npm ä»“åº“\n- æ”¯æŒ hooks æ¥æ‰§è¡Œè‡ªå®šä¹‰è„šæœ¬\n- æ”¯æŒæ’ä»¶æ‰©å±•åŠŸèƒ½\n\n## åŸºæœ¬ä½¿ç”¨\n\n### 1. å®‰è£…:\n\n```bash\nnpm install --save-dev release-it\n```\n\n### 2.æ·»åŠ å‘å¸ƒè„šæœ¬åˆ° package.json:\n\n```json\n{\n\t\"scripts\": {\n\t\t\"release\": \"release-it\"\n\t}\n}\n```\n\n### 3. è¿è¡Œå‘å¸ƒ:\n\nå¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.release-it.json` è¿›è¡Œé…ç½®:\n\n```json\n{\n\t\"plugins\": {\n\t\t\"@release-it/conventional-changelog\": {\n\t\t\t\"preset\": {\n\t\t\t\t\"name\": \"conventionalcommits\",\n\t\t\t\t\"types\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"feat\",\n\t\t\t\t\t\t\"section\": \"âœ¨ Features | æ–°åŠŸèƒ½\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"fix\",\n\t\t\t\t\t\t\"section\": \"ğŸ› Bug Fixes | Bug ä¿®å¤\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"chore\",\n\t\t\t\t\t\t\"section\": \"ğŸ« Chores | å…¶ä»–æ›´æ–°\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"docs\",\n\t\t\t\t\t\t\"section\": \"ğŸ“ Documentation | æ–‡æ¡£\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"style\",\n\t\t\t\t\t\t\"section\": \"ğŸ’„ Styles | é£æ ¼\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"refactor\",\n\t\t\t\t\t\t\"section\": \"â™» Code Refactoring | ä»£ç é‡æ„\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"perf\",\n\t\t\t\t\t\t\"section\": \"âš¡ Performance Improvements | æ€§èƒ½ä¼˜åŒ–\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"test\",\n\t\t\t\t\t\t\"section\": \"âœ… Tests | æµ‹è¯•\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"revert\",\n\t\t\t\t\t\t\"section\": \"âª Reverts | å›é€€\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"build\",\n\t\t\t\t\t\t\"section\": \"ğŸ‘·â€ Build System | æ„å»º\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"ci\",\n\t\t\t\t\t\t\"section\": \"ğŸ”§ Continuous Integration | CI é…ç½®\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"config\",\n\t\t\t\t\t\t\"section\": \"ğŸ”¨ CONFIG | é…ç½®\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"infile\": \"CHANGELOG.md\",\n\t\t\t\"ignoreRecommendedBump\": true,\n\t\t\t\"strictSemVer\": true\n\t\t}\n\t},\n\t\"git\": {\n\t\t\"commitMessage\": \"chore: Release v${version}\"\n\t},\n\t\"github\": {\n\t\t\"release\": true,\n\t\t\"draft\": false\n\t}\n}\n```\n\nä¸€é”®å‘å¸ƒ, åŒæ—¶ç”Ÿæˆ`change.md`æ–‡ä»¶ï¼Œç›´æ¥ä¼šç”Ÿæˆå¯¹åº”çš„`tag`å½“ç„¶ä¹Ÿæ˜¯ä¸€ä»¶å‘å¸ƒçº¿ä¸Šç‰ˆæœ¬çš„ï¼›\n","source":"_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/release-it.md","raw":"---\ntitle: é¡¹ç›®å·¥ç¨‹åŒ–-release-it\nabbrlink: c1959f05\ndate: 2024-08-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å·¥ç¨‹åŒ–\n---\n\n# release-it?\n\næ˜¯ä¸€ä¸ªç”¨äºè‡ªåŠ¨åŒ–è½¯ä»¶å‘å¸ƒçš„å‘½ä»¤è¡Œå·¥å…·ã€‚å®ƒå¯ä»¥å¸®åŠ©å¼€å‘å›¢é˜Ÿè‡ªåŠ¨åŒ–ç‰ˆæœ¬æ§åˆ¶ã€ç”Ÿæˆæ›´æ–°æ—¥å¿—ï¼ˆCHANGELOGï¼‰ã€åˆ›å»º Git æ ‡ç­¾ã€å‘å¸ƒåˆ° npm ç­‰ä»»åŠ¡ã€‚\n\n## ä¸»è¦åŠŸèƒ½\n\n- è‡ªåŠ¨ç‰ˆæœ¬å·é€’å¢ (éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ Semantic Versioning)\n- è‡ªåŠ¨ç”Ÿæˆ/æ›´æ–° CHANGELOG\n- Git æäº¤ã€æ‰“æ ‡ç­¾å’Œæ¨é€\n- å‘å¸ƒåˆ° npm ä»“åº“\n- æ”¯æŒ hooks æ¥æ‰§è¡Œè‡ªå®šä¹‰è„šæœ¬\n- æ”¯æŒæ’ä»¶æ‰©å±•åŠŸèƒ½\n\n## åŸºæœ¬ä½¿ç”¨\n\n### 1. å®‰è£…:\n\n```bash\nnpm install --save-dev release-it\n```\n\n### 2.æ·»åŠ å‘å¸ƒè„šæœ¬åˆ° package.json:\n\n```json\n{\n\t\"scripts\": {\n\t\t\"release\": \"release-it\"\n\t}\n}\n```\n\n### 3. è¿è¡Œå‘å¸ƒ:\n\nå¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.release-it.json` è¿›è¡Œé…ç½®:\n\n```json\n{\n\t\"plugins\": {\n\t\t\"@release-it/conventional-changelog\": {\n\t\t\t\"preset\": {\n\t\t\t\t\"name\": \"conventionalcommits\",\n\t\t\t\t\"types\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"feat\",\n\t\t\t\t\t\t\"section\": \"âœ¨ Features | æ–°åŠŸèƒ½\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"fix\",\n\t\t\t\t\t\t\"section\": \"ğŸ› Bug Fixes | Bug ä¿®å¤\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"chore\",\n\t\t\t\t\t\t\"section\": \"ğŸ« Chores | å…¶ä»–æ›´æ–°\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"docs\",\n\t\t\t\t\t\t\"section\": \"ğŸ“ Documentation | æ–‡æ¡£\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"style\",\n\t\t\t\t\t\t\"section\": \"ğŸ’„ Styles | é£æ ¼\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"refactor\",\n\t\t\t\t\t\t\"section\": \"â™» Code Refactoring | ä»£ç é‡æ„\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"perf\",\n\t\t\t\t\t\t\"section\": \"âš¡ Performance Improvements | æ€§èƒ½ä¼˜åŒ–\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"test\",\n\t\t\t\t\t\t\"section\": \"âœ… Tests | æµ‹è¯•\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"revert\",\n\t\t\t\t\t\t\"section\": \"âª Reverts | å›é€€\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"build\",\n\t\t\t\t\t\t\"section\": \"ğŸ‘·â€ Build System | æ„å»º\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"ci\",\n\t\t\t\t\t\t\"section\": \"ğŸ”§ Continuous Integration | CI é…ç½®\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"config\",\n\t\t\t\t\t\t\"section\": \"ğŸ”¨ CONFIG | é…ç½®\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"infile\": \"CHANGELOG.md\",\n\t\t\t\"ignoreRecommendedBump\": true,\n\t\t\t\"strictSemVer\": true\n\t\t}\n\t},\n\t\"git\": {\n\t\t\"commitMessage\": \"chore: Release v${version}\"\n\t},\n\t\"github\": {\n\t\t\"release\": true,\n\t\t\"draft\": false\n\t}\n}\n```\n\nä¸€é”®å‘å¸ƒ, åŒæ—¶ç”Ÿæˆ`change.md`æ–‡ä»¶ï¼Œç›´æ¥ä¼šç”Ÿæˆå¯¹åº”çš„`tag`å½“ç„¶ä¹Ÿæ˜¯ä¸€ä»¶å‘å¸ƒçº¿ä¸Šç‰ˆæœ¬çš„ï¼›\n","slug":"æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/release-it","published":1,"updated":"2025-03-12T09:38:04.454Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0ja007qfg9m07gk8pvi","content":"<h1 id=\"release-it\"><a href=\"#release-it\" class=\"headerlink\" title=\"release-it?\"></a>release-it?</h1><p>æ˜¯ä¸€ä¸ªç”¨äºè‡ªåŠ¨åŒ–è½¯ä»¶å‘å¸ƒçš„å‘½ä»¤è¡Œå·¥å…·ã€‚å®ƒå¯ä»¥å¸®åŠ©å¼€å‘å›¢é˜Ÿè‡ªåŠ¨åŒ–ç‰ˆæœ¬æ§åˆ¶ã€ç”Ÿæˆæ›´æ–°æ—¥å¿—ï¼ˆCHANGELOGï¼‰ã€åˆ›å»º Git æ ‡ç­¾ã€å‘å¸ƒåˆ° npm ç­‰ä»»åŠ¡ã€‚</p>\n<h2 id=\"ä¸»è¦åŠŸèƒ½\"><a href=\"#ä¸»è¦åŠŸèƒ½\" class=\"headerlink\" title=\"ä¸»è¦åŠŸèƒ½\"></a>ä¸»è¦åŠŸèƒ½</h2><ul>\n<li>è‡ªåŠ¨ç‰ˆæœ¬å·é€’å¢ (éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ Semantic Versioning)</li>\n<li>è‡ªåŠ¨ç”Ÿæˆ&#x2F;æ›´æ–° CHANGELOG</li>\n<li>Git æäº¤ã€æ‰“æ ‡ç­¾å’Œæ¨é€</li>\n<li>å‘å¸ƒåˆ° npm ä»“åº“</li>\n<li>æ”¯æŒ hooks æ¥æ‰§è¡Œè‡ªå®šä¹‰è„šæœ¬</li>\n<li>æ”¯æŒæ’ä»¶æ‰©å±•åŠŸèƒ½</li>\n</ul>\n<h2 id=\"åŸºæœ¬ä½¿ç”¨\"><a href=\"#åŸºæœ¬ä½¿ç”¨\" class=\"headerlink\" title=\"åŸºæœ¬ä½¿ç”¨\"></a>åŸºæœ¬ä½¿ç”¨</h2><h3 id=\"1-å®‰è£…\"><a href=\"#1-å®‰è£…\" class=\"headerlink\" title=\"1. å®‰è£…:\"></a>1. å®‰è£…:</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save-dev release-it</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2-æ·»åŠ å‘å¸ƒè„šæœ¬åˆ°-package-json\"><a href=\"#2-æ·»åŠ å‘å¸ƒè„šæœ¬åˆ°-package-json\" class=\"headerlink\" title=\"2.æ·»åŠ å‘å¸ƒè„šæœ¬åˆ° package.json:\"></a>2.æ·»åŠ å‘å¸ƒè„šæœ¬åˆ° package.json:</h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;release&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;release-it&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-è¿è¡Œå‘å¸ƒ\"><a href=\"#3-è¿è¡Œå‘å¸ƒ\" class=\"headerlink\" title=\"3. è¿è¡Œå‘å¸ƒ:\"></a>3. è¿è¡Œå‘å¸ƒ:</h3><p>å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>.release-it.json</code> è¿›è¡Œé…ç½®:</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;plugins&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;@release-it/conventional-changelog&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;preset&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;conventionalcommits&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">&quot;types&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;feat&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;âœ¨ Features | æ–°åŠŸèƒ½&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;fix&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ğŸ› Bug Fixes | Bug ä¿®å¤&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;chore&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ğŸ« Chores | å…¶ä»–æ›´æ–°&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;docs&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ğŸ“ Documentation | æ–‡æ¡£&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;style&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ğŸ’„ Styles | é£æ ¼&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;refactor&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;â™» Code Refactoring | ä»£ç é‡æ„&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;perf&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;âš¡ Performance Improvements | æ€§èƒ½ä¼˜åŒ–&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;test&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;âœ… Tests | æµ‹è¯•&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;revert&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;âª Reverts | å›é€€&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;build&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ğŸ‘·â€ Build System | æ„å»º&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ci&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ğŸ”§ Continuous Integration | CI é…ç½®&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;config&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ğŸ”¨ CONFIG | é…ç½®&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t\t\t\t<span class=\"punctuation\">]</span></span><br><span class=\"line\">\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;infile&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;CHANGELOG.md&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;ignoreRecommendedBump&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;strictSemVer&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;git&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;commitMessage&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;chore: Release v$&#123;version&#125;&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;github&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;release&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;draft&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">false</span></span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸€é”®å‘å¸ƒ, åŒæ—¶ç”Ÿæˆ<code>change.md</code>æ–‡ä»¶ï¼Œç›´æ¥ä¼šç”Ÿæˆå¯¹åº”çš„<code>tag</code>å½“ç„¶ä¹Ÿæ˜¯ä¸€ä»¶å‘å¸ƒçº¿ä¸Šç‰ˆæœ¬çš„ï¼›</p>\n","excerpt":"","more":"<h1 id=\"release-it\"><a href=\"#release-it\" class=\"headerlink\" title=\"release-it?\"></a>release-it?</h1><p>æ˜¯ä¸€ä¸ªç”¨äºè‡ªåŠ¨åŒ–è½¯ä»¶å‘å¸ƒçš„å‘½ä»¤è¡Œå·¥å…·ã€‚å®ƒå¯ä»¥å¸®åŠ©å¼€å‘å›¢é˜Ÿè‡ªåŠ¨åŒ–ç‰ˆæœ¬æ§åˆ¶ã€ç”Ÿæˆæ›´æ–°æ—¥å¿—ï¼ˆCHANGELOGï¼‰ã€åˆ›å»º Git æ ‡ç­¾ã€å‘å¸ƒåˆ° npm ç­‰ä»»åŠ¡ã€‚</p>\n<h2 id=\"ä¸»è¦åŠŸèƒ½\"><a href=\"#ä¸»è¦åŠŸèƒ½\" class=\"headerlink\" title=\"ä¸»è¦åŠŸèƒ½\"></a>ä¸»è¦åŠŸèƒ½</h2><ul>\n<li>è‡ªåŠ¨ç‰ˆæœ¬å·é€’å¢ (éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ Semantic Versioning)</li>\n<li>è‡ªåŠ¨ç”Ÿæˆ&#x2F;æ›´æ–° CHANGELOG</li>\n<li>Git æäº¤ã€æ‰“æ ‡ç­¾å’Œæ¨é€</li>\n<li>å‘å¸ƒåˆ° npm ä»“åº“</li>\n<li>æ”¯æŒ hooks æ¥æ‰§è¡Œè‡ªå®šä¹‰è„šæœ¬</li>\n<li>æ”¯æŒæ’ä»¶æ‰©å±•åŠŸèƒ½</li>\n</ul>\n<h2 id=\"åŸºæœ¬ä½¿ç”¨\"><a href=\"#åŸºæœ¬ä½¿ç”¨\" class=\"headerlink\" title=\"åŸºæœ¬ä½¿ç”¨\"></a>åŸºæœ¬ä½¿ç”¨</h2><h3 id=\"1-å®‰è£…\"><a href=\"#1-å®‰è£…\" class=\"headerlink\" title=\"1. å®‰è£…:\"></a>1. å®‰è£…:</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save-dev release-it</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2-æ·»åŠ å‘å¸ƒè„šæœ¬åˆ°-package-json\"><a href=\"#2-æ·»åŠ å‘å¸ƒè„šæœ¬åˆ°-package-json\" class=\"headerlink\" title=\"2.æ·»åŠ å‘å¸ƒè„šæœ¬åˆ° package.json:\"></a>2.æ·»åŠ å‘å¸ƒè„šæœ¬åˆ° package.json:</h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;release&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;release-it&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-è¿è¡Œå‘å¸ƒ\"><a href=\"#3-è¿è¡Œå‘å¸ƒ\" class=\"headerlink\" title=\"3. è¿è¡Œå‘å¸ƒ:\"></a>3. è¿è¡Œå‘å¸ƒ:</h3><p>å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>.release-it.json</code> è¿›è¡Œé…ç½®:</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;plugins&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;@release-it/conventional-changelog&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;preset&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;conventionalcommits&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">&quot;types&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;feat&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;âœ¨ Features | æ–°åŠŸèƒ½&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;fix&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ğŸ› Bug Fixes | Bug ä¿®å¤&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;chore&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ğŸ« Chores | å…¶ä»–æ›´æ–°&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;docs&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ğŸ“ Documentation | æ–‡æ¡£&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;style&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ğŸ’„ Styles | é£æ ¼&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;refactor&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;â™» Code Refactoring | ä»£ç é‡æ„&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;perf&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;âš¡ Performance Improvements | æ€§èƒ½ä¼˜åŒ–&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;test&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;âœ… Tests | æµ‹è¯•&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;revert&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;âª Reverts | å›é€€&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;build&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ğŸ‘·â€ Build System | æ„å»º&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ci&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ğŸ”§ Continuous Integration | CI é…ç½®&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;config&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">&quot;section&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ğŸ”¨ CONFIG | é…ç½®&quot;</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t\t\t\t<span class=\"punctuation\">]</span></span><br><span class=\"line\">\t\t\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;infile&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;CHANGELOG.md&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;ignoreRecommendedBump&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;strictSemVer&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;git&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;commitMessage&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;chore: Release v$&#123;version&#125;&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;github&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;release&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;draft&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">false</span></span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸€é”®å‘å¸ƒ, åŒæ—¶ç”Ÿæˆ<code>change.md</code>æ–‡ä»¶ï¼Œç›´æ¥ä¼šç”Ÿæˆå¯¹åº”çš„<code>tag</code>å½“ç„¶ä¹Ÿæ˜¯ä¸€ä»¶å‘å¸ƒçº¿ä¸Šç‰ˆæœ¬çš„ï¼›</p>\n"},{"title":"é¡¹ç›®å·¥ç¨‹åŒ–-å…¶ä»–é…ç½®æ–‡ä»¶","abbrlink":"8e8b6215","date":"2024-08-08T01:05:01.000Z","_content":"\n\né¡¹ç›®ä¸­çš„é…ç½®æ–‡ä»¶å¤ªå¤šäº†ï¼Œé™¤äº†è§„èŒƒæ€§çš„é…ç½®æ–‡ä»¶ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„é…ç½®æ–‡ä»¶\n\n\n## .node-version\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶`.node-version`, è¿™ä¸ªæ–‡ä»¶å°±æ˜¯å›ºå®š`node`ç‰ˆæœ¬çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š\n\n```bash\n# .node-version\n18\n```\n\nå½“é¡¹ç›® A æˆ‘è®¾ç½®ä¹‹å, å¦‚æœç”µè„‘å®‰è£…çš„æœ‰`18`çš„ç‰ˆæœ¬ï¼Œæ‰“å¼€ç¼–è¾‘å™¨ä¹‹åç»ˆç«¯ä¼šæ˜¾ç¤º`Using Node v18.18.0`ï¼Œ å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆä¼šæ˜¾ç¤º\n`Can't find an installed Node version matching v18.x.x.\nDo you want to install it? answer [y/N]: `\n\nä½ å¯ä»¥è¾“å…¥`y`è¿›è¡Œå®‰è£…ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€€å‡ºï¼Œä½¿ç”¨å½“å‰çš„`node`ç‰ˆæœ¬è¿è¡Œé¡¹ç›®ï¼›\n\n## .npmrc\n\nè®¾ç½®çš„æ˜¯`npm`çš„ç›¸å…³é…ç½®\n\n```bash\n# è®¾ç½®install æº\nregistry=https://registry.npmmirror.com/\n# è®¾ç½®ä¸º true æ—¶ï¼Œä¼šæå‡ï¼ˆhoistï¼‰æŸäº›ä¾èµ–åˆ°æ›´é«˜å±‚çº§ï¼Œä»¥ä¼˜åŒ–ä¾èµ–æ ‘ç»“æ„ã€‚\nshamefully-hoist=true\n# è®¾ç½®ä¸º false æ—¶ï¼Œè¡¨ç¤ºæ”¾å®½å¯¹ peer dependencies çš„ä¸¥æ ¼æ£€æŸ¥ï¼Œé¿å…å®‰è£…æ—¶å‡ºç°é”™è¯¯ã€‚\nstrict-peer-dependencies=false\n```\n\n## .nvmrc\n\nè®¾ç½®`nvm`çš„é…ç½®ä¿¡æ¯\n\n```bash\n# è®¾ç½®nodeç‰ˆæœ¬\nv16.14.0\n```\n","source":"_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/å…¶ä»–é…ç½®æ–‡ä»¶.md","raw":"---\ntitle: é¡¹ç›®å·¥ç¨‹åŒ–-å…¶ä»–é…ç½®æ–‡ä»¶\nabbrlink: 8e8b6215\ndate: 2024-08-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å·¥ç¨‹åŒ–\n---\n\n\né¡¹ç›®ä¸­çš„é…ç½®æ–‡ä»¶å¤ªå¤šäº†ï¼Œé™¤äº†è§„èŒƒæ€§çš„é…ç½®æ–‡ä»¶ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„é…ç½®æ–‡ä»¶\n\n\n## .node-version\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶`.node-version`, è¿™ä¸ªæ–‡ä»¶å°±æ˜¯å›ºå®š`node`ç‰ˆæœ¬çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š\n\n```bash\n# .node-version\n18\n```\n\nå½“é¡¹ç›® A æˆ‘è®¾ç½®ä¹‹å, å¦‚æœç”µè„‘å®‰è£…çš„æœ‰`18`çš„ç‰ˆæœ¬ï¼Œæ‰“å¼€ç¼–è¾‘å™¨ä¹‹åç»ˆç«¯ä¼šæ˜¾ç¤º`Using Node v18.18.0`ï¼Œ å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆä¼šæ˜¾ç¤º\n`Can't find an installed Node version matching v18.x.x.\nDo you want to install it? answer [y/N]: `\n\nä½ å¯ä»¥è¾“å…¥`y`è¿›è¡Œå®‰è£…ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€€å‡ºï¼Œä½¿ç”¨å½“å‰çš„`node`ç‰ˆæœ¬è¿è¡Œé¡¹ç›®ï¼›\n\n## .npmrc\n\nè®¾ç½®çš„æ˜¯`npm`çš„ç›¸å…³é…ç½®\n\n```bash\n# è®¾ç½®install æº\nregistry=https://registry.npmmirror.com/\n# è®¾ç½®ä¸º true æ—¶ï¼Œä¼šæå‡ï¼ˆhoistï¼‰æŸäº›ä¾èµ–åˆ°æ›´é«˜å±‚çº§ï¼Œä»¥ä¼˜åŒ–ä¾èµ–æ ‘ç»“æ„ã€‚\nshamefully-hoist=true\n# è®¾ç½®ä¸º false æ—¶ï¼Œè¡¨ç¤ºæ”¾å®½å¯¹ peer dependencies çš„ä¸¥æ ¼æ£€æŸ¥ï¼Œé¿å…å®‰è£…æ—¶å‡ºç°é”™è¯¯ã€‚\nstrict-peer-dependencies=false\n```\n\n## .nvmrc\n\nè®¾ç½®`nvm`çš„é…ç½®ä¿¡æ¯\n\n```bash\n# è®¾ç½®nodeç‰ˆæœ¬\nv16.14.0\n```\n","slug":"æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/å·¥ç¨‹åŒ–/å…¶ä»–é…ç½®æ–‡ä»¶","published":1,"updated":"2025-03-12T09:37:50.471Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0ja007tfg9mcds39sze","content":"<p>é¡¹ç›®ä¸­çš„é…ç½®æ–‡ä»¶å¤ªå¤šäº†ï¼Œé™¤äº†è§„èŒƒæ€§çš„é…ç½®æ–‡ä»¶ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„é…ç½®æ–‡ä»¶</p>\n<h2 id=\"node-version\"><a href=\"#node-version\" class=\"headerlink\" title=\".node-version\"></a>.node-version</h2><p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶<code>.node-version</code>, è¿™ä¸ªæ–‡ä»¶å°±æ˜¯å›ºå®š<code>node</code>ç‰ˆæœ¬çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># .node-version</span></span><br><span class=\"line\">18</span><br></pre></td></tr></table></figure>\n\n<p>å½“é¡¹ç›® A æˆ‘è®¾ç½®ä¹‹å, å¦‚æœç”µè„‘å®‰è£…çš„æœ‰<code>18</code>çš„ç‰ˆæœ¬ï¼Œæ‰“å¼€ç¼–è¾‘å™¨ä¹‹åç»ˆç«¯ä¼šæ˜¾ç¤º<code>Using Node v18.18.0</code>ï¼Œ å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆä¼šæ˜¾ç¤º<br><code>Can&#39;t find an installed Node version matching v18.x.x. Do you want to install it? answer [y/N]: </code></p>\n<p>ä½ å¯ä»¥è¾“å…¥<code>y</code>è¿›è¡Œå®‰è£…ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€€å‡ºï¼Œä½¿ç”¨å½“å‰çš„<code>node</code>ç‰ˆæœ¬è¿è¡Œé¡¹ç›®ï¼›</p>\n<h2 id=\"npmrc\"><a href=\"#npmrc\" class=\"headerlink\" title=\".npmrc\"></a>.npmrc</h2><p>è®¾ç½®çš„æ˜¯<code>npm</code>çš„ç›¸å…³é…ç½®</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># è®¾ç½®install æº</span></span><br><span class=\"line\">registry=https://registry.npmmirror.com/</span><br><span class=\"line\"><span class=\"comment\"># è®¾ç½®ä¸º true æ—¶ï¼Œä¼šæå‡ï¼ˆhoistï¼‰æŸäº›ä¾èµ–åˆ°æ›´é«˜å±‚çº§ï¼Œä»¥ä¼˜åŒ–ä¾èµ–æ ‘ç»“æ„ã€‚</span></span><br><span class=\"line\">shamefully-hoist=<span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"comment\"># è®¾ç½®ä¸º false æ—¶ï¼Œè¡¨ç¤ºæ”¾å®½å¯¹ peer dependencies çš„ä¸¥æ ¼æ£€æŸ¥ï¼Œé¿å…å®‰è£…æ—¶å‡ºç°é”™è¯¯ã€‚</span></span><br><span class=\"line\">strict-peer-dependencies=<span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"nvmrc\"><a href=\"#nvmrc\" class=\"headerlink\" title=\".nvmrc\"></a>.nvmrc</h2><p>è®¾ç½®<code>nvm</code>çš„é…ç½®ä¿¡æ¯</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># è®¾ç½®nodeç‰ˆæœ¬</span></span><br><span class=\"line\">v16.14.0</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<p>é¡¹ç›®ä¸­çš„é…ç½®æ–‡ä»¶å¤ªå¤šäº†ï¼Œé™¤äº†è§„èŒƒæ€§çš„é…ç½®æ–‡ä»¶ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„é…ç½®æ–‡ä»¶</p>\n<h2 id=\"node-version\"><a href=\"#node-version\" class=\"headerlink\" title=\".node-version\"></a>.node-version</h2><p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶<code>.node-version</code>, è¿™ä¸ªæ–‡ä»¶å°±æ˜¯å›ºå®š<code>node</code>ç‰ˆæœ¬çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># .node-version</span></span><br><span class=\"line\">18</span><br></pre></td></tr></table></figure>\n\n<p>å½“é¡¹ç›® A æˆ‘è®¾ç½®ä¹‹å, å¦‚æœç”µè„‘å®‰è£…çš„æœ‰<code>18</code>çš„ç‰ˆæœ¬ï¼Œæ‰“å¼€ç¼–è¾‘å™¨ä¹‹åç»ˆç«¯ä¼šæ˜¾ç¤º<code>Using Node v18.18.0</code>ï¼Œ å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆä¼šæ˜¾ç¤º<br><code>Can&#39;t find an installed Node version matching v18.x.x. Do you want to install it? answer [y/N]: </code></p>\n<p>ä½ å¯ä»¥è¾“å…¥<code>y</code>è¿›è¡Œå®‰è£…ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€€å‡ºï¼Œä½¿ç”¨å½“å‰çš„<code>node</code>ç‰ˆæœ¬è¿è¡Œé¡¹ç›®ï¼›</p>\n<h2 id=\"npmrc\"><a href=\"#npmrc\" class=\"headerlink\" title=\".npmrc\"></a>.npmrc</h2><p>è®¾ç½®çš„æ˜¯<code>npm</code>çš„ç›¸å…³é…ç½®</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># è®¾ç½®install æº</span></span><br><span class=\"line\">registry=https://registry.npmmirror.com/</span><br><span class=\"line\"><span class=\"comment\"># è®¾ç½®ä¸º true æ—¶ï¼Œä¼šæå‡ï¼ˆhoistï¼‰æŸäº›ä¾èµ–åˆ°æ›´é«˜å±‚çº§ï¼Œä»¥ä¼˜åŒ–ä¾èµ–æ ‘ç»“æ„ã€‚</span></span><br><span class=\"line\">shamefully-hoist=<span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"comment\"># è®¾ç½®ä¸º false æ—¶ï¼Œè¡¨ç¤ºæ”¾å®½å¯¹ peer dependencies çš„ä¸¥æ ¼æ£€æŸ¥ï¼Œé¿å…å®‰è£…æ—¶å‡ºç°é”™è¯¯ã€‚</span></span><br><span class=\"line\">strict-peer-dependencies=<span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"nvmrc\"><a href=\"#nvmrc\" class=\"headerlink\" title=\".nvmrc\"></a>.nvmrc</h2><p>è®¾ç½®<code>nvm</code>çš„é…ç½®ä¿¡æ¯</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># è®¾ç½®nodeç‰ˆæœ¬</span></span><br><span class=\"line\">v16.14.0</span><br></pre></td></tr></table></figure>\n"},{"title":"é¡¹ç›®ä¼˜åŒ–çš„æ–¹å‘?","abbrlink":"7e0eb1ea","date":"2023-11-08T01:05:01.000Z","_content":"\n# ä¼˜åŒ–?\n\næ€§èƒ½ä¼˜åŒ–çš„æ–¹é¢æœ‰å¾ˆå¤šï¼Œè¿™é‡Œé›†ä¸­æ‹¿`vue`ä¸¾ä¾‹è¯´æ˜ï¼ˆéƒ¨åˆ†æ–¹æ¡ˆç½‘ä¸Šé‡‡é›†çš„ï¼‰ï¼š\n\n## æ¡ä»¶æ¸²æŸ“ä¼˜åŒ–\n\næ¡ä»¶æ¸²æŸ“åˆ†ä¸º`v-ifå’Œv-show`, å…·ä½“ä¿©è€…çš„åŒºåˆ«å¯è¯¦çœ‹ä¹‹å‰çš„æ–‡ç« [if å’Œ show çš„åŒºåˆ«](/brochure/vue/interview/if_show)\n\n1. `v-if`å’Œ`v-show`çš„åŒºåˆ«ä½¿ç”¨ï¼Œä½¿ç”¨æ­£ç¡®å¯å‡å°‘ DOM æ ‘çš„æ€§èƒ½å¼€é”€\n2. é¿å…åœ¨`v-for`ä¸­ä½¿ç”¨`v-if` [v-for å’Œ v-if ä¸ºä»€ä¹ˆä¸èƒ½åŒæ—¶ä½¿ç”¨](/brochure/vue/interview/for_if)\n\n## åˆç†åˆ©ç”¨è®¡ç®—å±æ€§å’Œç›‘å¬å™¨\n\nå…³äºè®¡ç®—å±æ€§å’Œç›‘å¬å™¨çš„çš„è¯¦ç»†è¯´æ˜ä»¥åŠåŒºåˆ«å¯å¯è¯¦çœ‹ä¹‹å‰çš„æ–‡ç« [watch,watchEffect å’Œ computed çš„åŒºåˆ«](/brochure/vue/interview/watch_watchEffect_computed)\n\n1. åˆç†ä½¿ç”¨ computedï¼šå¯¹äºä¾èµ–å…¶ä»–æ•°æ®å¹¶éœ€è¦åœ¨å¤šä¸ªåœ°æ–¹å¤ç”¨çš„å¤æ‚é€»è¾‘ï¼Œä½¿ç”¨è®¡ç®—å±æ€§å¯ä»¥å®ç°ç¼“å­˜ï¼Œåªåœ¨ä¾èµ–æ•°æ®å˜åŒ–æ—¶æ‰é‡æ–°è®¡ç®—ã€‚\n2. ç²¾ç®€ watchï¼šé¿å…åœ¨ watch ä¸­æ‰§è¡Œè¿‡äºå¤æ‚çš„è®¡ç®—æˆ–æ“ä½œã€‚å¯¹äºæ·±åº¦ç›‘å¬æˆ–å¤§å¯¹è±¡çš„å˜åŒ–ï¼Œå¯ä»¥ç»“åˆ deep å’Œ immediate é€‰é¡¹ä¼˜åŒ–ï¼Œæˆ–è€…è€ƒè™‘ä½¿ç”¨ computed æ›¿ä»£ã€‚\n\n## è·¯ç”±æ‡’åŠ è½½\n\n1. **åŠ¨æ€å¯¼å…¥ç»„ä»¶** ä½¿ç”¨ import() è¯­æ³•å®ç°å¼‚æ­¥åŠ è½½è·¯ç”±å¯¹åº”çš„ç»„ä»¶ï¼Œé¿å…åœ¨åº”ç”¨å¯åŠ¨æ—¶ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰ä»£ç ï¼Œä»è€Œå‡å°‘åˆå§‹åŠ è½½æ—¶é—´ã€‚\n2. **ä»£ç åˆ†å‰²** åˆ©ç”¨ Webpack ç­‰æ„å»ºå·¥å…·çš„ä»£ç åˆ†å‰²åŠŸèƒ½ï¼Œå°†å¤§å‹åº”ç”¨æ‹†åˆ†ä¸ºå¤šä¸ªæŒ‰éœ€åŠ è½½çš„å—ã€‚\n\n## åˆ—è¡¨æ¸²æŸ“ä¼˜åŒ–\n\n1. ä¸º v-for éå†çš„å…ƒç´ æ·»åŠ  key å±æ€§ï¼šè¿™æœ‰åŠ©äº Vue è¯†åˆ«å¹¶æ›´å‡†ç¡®åœ°è¿›è¡Œ DOM æ›´æ–°ï¼Œé€šè¿‡é«˜æ•ˆçš„å…ƒç´ å¤ç”¨å’Œç§»åŠ¨ï¼Œé™ä½ä¸å¿…è¦çš„ DOM æ“ä½œã€‚\n2. å¯¹äºé•¿åˆ—è¡¨, å¯ä»¥ä½¿ç”¨æ»šåŠ¨åŠ è½½ï¼Œåˆ†é¡µä»¥åŠ è™šæ‹Ÿåˆ—è¡¨ç­‰ä¼˜åŒ–ã€‚\n\n## çŠ¶æ€ç®¡ç†ä¼˜åŒ–\n\n1. åˆç†è®¾è®¡æ•°æ®ç»“æ„ï¼šé¿å…è¿‡å¤šçš„æ·±å±‚æ¬¡åµŒå¥—ï¼Œå‡å°‘ä¸å¿…è¦çš„æ´¾ç”ŸçŠ¶æ€å’Œè®¡ç®—å±æ€§ã€‚\n\n## ç»„ä»¶ä¼˜åŒ–\n\n1. åˆç†è®¾è®¡ç»„ä»¶ç²’åº¦ï¼šé¿å…è¿‡åº¦ç»†åŒ–å¯¼è‡´è¿‡å¤šç»„ä»¶å®ä¾‹ï¼ŒåŒæ—¶ä¹Ÿé¿å…ç»„ä»¶è¿‡äºåºå¤§å½±å“æ¸²æŸ“æ€§èƒ½ã€‚\n2. ä½¿ç”¨ `v-once` é™æ€å†…å®¹æ ‡è®°ï¼šå¯¹äºæ— éœ€æ›´æ–°çš„é™æ€å†…å®¹ï¼Œæ·»åŠ  `v-once` æŒ‡ä»¤ä»¥ç¡®ä¿å®ƒä»¬ä»…æ¸²æŸ“ä¸€æ¬¡ï¼Œåç»­ä¸å†å‚ä¸è™šæ‹Ÿ `DOM diff` è¿‡ç¨‹ã€‚\n\n## èµ„æºä¼˜åŒ–\n\n1. **å›¾ç‰‡æ‡’åŠ è½½** ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ vue-lazyloadï¼‰å®ç°å›¾ç‰‡æŒ‰éœ€åŠ è½½ï¼Œæå‡é¡µé¢åŠ è½½é€Ÿåº¦ã€‚\n2. **å‹ç¼©ä¸åˆå¹¶èµ„æº** å¯¹ CSSã€JavaScript æ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œå¹¶åˆç†åˆå¹¶ä»¥å‡å°‘ HTTP è¯·æ±‚æ¬¡æ•°ã€‚\n\n## æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æˆ–é¢„æ¸²æŸ“\n\n1. **å¯¹äº SEO æ•æ„Ÿæˆ–é¦–å±åŠ è½½é€Ÿåº¦è¦æ±‚é«˜çš„åº”ç”¨**ï¼Œé‡‡ç”¨ SSR æˆ–é™æ€é¢„æ¸²æŸ“ï¼ˆå¦‚ prerender-spa-pluginï¼‰æ¥æå‡åˆå§‹åŠ è½½é€Ÿåº¦å’Œæœç´¢å¼•æ“å‹å¥½æ€§ã€‚\n\n## æ€§èƒ½ç›‘æµ‹ä¸åˆ†æ\n\n1. ä½¿ç”¨ Vue DevToolsï¼šæ£€æŸ¥ç»„ä»¶æ¸²æŸ“ã€props å˜æ›´ã€çŠ¶æ€æ›´æ–°ç­‰ï¼Œè¯†åˆ«æ½œåœ¨çš„æ€§èƒ½ç“¶é¢ˆã€‚\n2. **æ€§èƒ½ç›‘æ§å·¥å…·**ï¼šå¦‚ vue-perf-devtool æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆå¦‚ Google Lighthouseï¼‰ï¼Œè¿›è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•å’ŒæŒç»­ç›‘æ§ã€‚\n\n## ä¿æŒ Vue åŠä¾èµ–é¡¹æ›´æ–°\n\n1. **å®šæœŸå‡çº§ Vue åŠç›¸å…³åº“ç‰ˆæœ¬**ï¼šæ–°ç‰ˆæœ¬é€šå¸¸åŒ…å«æ€§èƒ½æ”¹è¿›å’Œ bug ä¿®å¤ï¼Œä¿æŒæ›´æ–°æœ‰åˆ©äºåˆ©ç”¨æœ€æ–°ä¼˜åŒ–æˆæœã€‚\n\né€šè¿‡ç»¼åˆè¿ç”¨ä¸Šè¿°ç­–ç•¥ï¼Œå¯ä»¥æœ‰æ•ˆåœ°ä¼˜åŒ– Vue åº”ç”¨çš„æ€§èƒ½ï¼Œæå‡ç”¨æˆ·äº¤äº’ä½“éªŒå’Œåº”ç”¨æ•´ä½“å“åº”é€Ÿåº¦ã€‚è®°å¾—åœ¨å®è·µä¸­æ ¹æ®å…·ä½“é¡¹ç›®éœ€æ±‚å’Œæ€§èƒ½æŒ‡æ ‡è¿›è¡Œæœ‰é’ˆå¯¹æ€§çš„ä¼˜åŒ–ã€‚\n","source":"_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/é¡¹ç›®ä¼˜åŒ–/ä¼˜åŒ–çš„æ–¹å‘.md","raw":"---\ntitle: é¡¹ç›®ä¼˜åŒ–çš„æ–¹å‘?\nabbrlink: 7e0eb1ea\ndate: 2023-11-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å·¥ç¨‹åŒ–\n---\n\n# ä¼˜åŒ–?\n\næ€§èƒ½ä¼˜åŒ–çš„æ–¹é¢æœ‰å¾ˆå¤šï¼Œè¿™é‡Œé›†ä¸­æ‹¿`vue`ä¸¾ä¾‹è¯´æ˜ï¼ˆéƒ¨åˆ†æ–¹æ¡ˆç½‘ä¸Šé‡‡é›†çš„ï¼‰ï¼š\n\n## æ¡ä»¶æ¸²æŸ“ä¼˜åŒ–\n\næ¡ä»¶æ¸²æŸ“åˆ†ä¸º`v-ifå’Œv-show`, å…·ä½“ä¿©è€…çš„åŒºåˆ«å¯è¯¦çœ‹ä¹‹å‰çš„æ–‡ç« [if å’Œ show çš„åŒºåˆ«](/brochure/vue/interview/if_show)\n\n1. `v-if`å’Œ`v-show`çš„åŒºåˆ«ä½¿ç”¨ï¼Œä½¿ç”¨æ­£ç¡®å¯å‡å°‘ DOM æ ‘çš„æ€§èƒ½å¼€é”€\n2. é¿å…åœ¨`v-for`ä¸­ä½¿ç”¨`v-if` [v-for å’Œ v-if ä¸ºä»€ä¹ˆä¸èƒ½åŒæ—¶ä½¿ç”¨](/brochure/vue/interview/for_if)\n\n## åˆç†åˆ©ç”¨è®¡ç®—å±æ€§å’Œç›‘å¬å™¨\n\nå…³äºè®¡ç®—å±æ€§å’Œç›‘å¬å™¨çš„çš„è¯¦ç»†è¯´æ˜ä»¥åŠåŒºåˆ«å¯å¯è¯¦çœ‹ä¹‹å‰çš„æ–‡ç« [watch,watchEffect å’Œ computed çš„åŒºåˆ«](/brochure/vue/interview/watch_watchEffect_computed)\n\n1. åˆç†ä½¿ç”¨ computedï¼šå¯¹äºä¾èµ–å…¶ä»–æ•°æ®å¹¶éœ€è¦åœ¨å¤šä¸ªåœ°æ–¹å¤ç”¨çš„å¤æ‚é€»è¾‘ï¼Œä½¿ç”¨è®¡ç®—å±æ€§å¯ä»¥å®ç°ç¼“å­˜ï¼Œåªåœ¨ä¾èµ–æ•°æ®å˜åŒ–æ—¶æ‰é‡æ–°è®¡ç®—ã€‚\n2. ç²¾ç®€ watchï¼šé¿å…åœ¨ watch ä¸­æ‰§è¡Œè¿‡äºå¤æ‚çš„è®¡ç®—æˆ–æ“ä½œã€‚å¯¹äºæ·±åº¦ç›‘å¬æˆ–å¤§å¯¹è±¡çš„å˜åŒ–ï¼Œå¯ä»¥ç»“åˆ deep å’Œ immediate é€‰é¡¹ä¼˜åŒ–ï¼Œæˆ–è€…è€ƒè™‘ä½¿ç”¨ computed æ›¿ä»£ã€‚\n\n## è·¯ç”±æ‡’åŠ è½½\n\n1. **åŠ¨æ€å¯¼å…¥ç»„ä»¶** ä½¿ç”¨ import() è¯­æ³•å®ç°å¼‚æ­¥åŠ è½½è·¯ç”±å¯¹åº”çš„ç»„ä»¶ï¼Œé¿å…åœ¨åº”ç”¨å¯åŠ¨æ—¶ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰ä»£ç ï¼Œä»è€Œå‡å°‘åˆå§‹åŠ è½½æ—¶é—´ã€‚\n2. **ä»£ç åˆ†å‰²** åˆ©ç”¨ Webpack ç­‰æ„å»ºå·¥å…·çš„ä»£ç åˆ†å‰²åŠŸèƒ½ï¼Œå°†å¤§å‹åº”ç”¨æ‹†åˆ†ä¸ºå¤šä¸ªæŒ‰éœ€åŠ è½½çš„å—ã€‚\n\n## åˆ—è¡¨æ¸²æŸ“ä¼˜åŒ–\n\n1. ä¸º v-for éå†çš„å…ƒç´ æ·»åŠ  key å±æ€§ï¼šè¿™æœ‰åŠ©äº Vue è¯†åˆ«å¹¶æ›´å‡†ç¡®åœ°è¿›è¡Œ DOM æ›´æ–°ï¼Œé€šè¿‡é«˜æ•ˆçš„å…ƒç´ å¤ç”¨å’Œç§»åŠ¨ï¼Œé™ä½ä¸å¿…è¦çš„ DOM æ“ä½œã€‚\n2. å¯¹äºé•¿åˆ—è¡¨, å¯ä»¥ä½¿ç”¨æ»šåŠ¨åŠ è½½ï¼Œåˆ†é¡µä»¥åŠ è™šæ‹Ÿåˆ—è¡¨ç­‰ä¼˜åŒ–ã€‚\n\n## çŠ¶æ€ç®¡ç†ä¼˜åŒ–\n\n1. åˆç†è®¾è®¡æ•°æ®ç»“æ„ï¼šé¿å…è¿‡å¤šçš„æ·±å±‚æ¬¡åµŒå¥—ï¼Œå‡å°‘ä¸å¿…è¦çš„æ´¾ç”ŸçŠ¶æ€å’Œè®¡ç®—å±æ€§ã€‚\n\n## ç»„ä»¶ä¼˜åŒ–\n\n1. åˆç†è®¾è®¡ç»„ä»¶ç²’åº¦ï¼šé¿å…è¿‡åº¦ç»†åŒ–å¯¼è‡´è¿‡å¤šç»„ä»¶å®ä¾‹ï¼ŒåŒæ—¶ä¹Ÿé¿å…ç»„ä»¶è¿‡äºåºå¤§å½±å“æ¸²æŸ“æ€§èƒ½ã€‚\n2. ä½¿ç”¨ `v-once` é™æ€å†…å®¹æ ‡è®°ï¼šå¯¹äºæ— éœ€æ›´æ–°çš„é™æ€å†…å®¹ï¼Œæ·»åŠ  `v-once` æŒ‡ä»¤ä»¥ç¡®ä¿å®ƒä»¬ä»…æ¸²æŸ“ä¸€æ¬¡ï¼Œåç»­ä¸å†å‚ä¸è™šæ‹Ÿ `DOM diff` è¿‡ç¨‹ã€‚\n\n## èµ„æºä¼˜åŒ–\n\n1. **å›¾ç‰‡æ‡’åŠ è½½** ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ vue-lazyloadï¼‰å®ç°å›¾ç‰‡æŒ‰éœ€åŠ è½½ï¼Œæå‡é¡µé¢åŠ è½½é€Ÿåº¦ã€‚\n2. **å‹ç¼©ä¸åˆå¹¶èµ„æº** å¯¹ CSSã€JavaScript æ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œå¹¶åˆç†åˆå¹¶ä»¥å‡å°‘ HTTP è¯·æ±‚æ¬¡æ•°ã€‚\n\n## æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æˆ–é¢„æ¸²æŸ“\n\n1. **å¯¹äº SEO æ•æ„Ÿæˆ–é¦–å±åŠ è½½é€Ÿåº¦è¦æ±‚é«˜çš„åº”ç”¨**ï¼Œé‡‡ç”¨ SSR æˆ–é™æ€é¢„æ¸²æŸ“ï¼ˆå¦‚ prerender-spa-pluginï¼‰æ¥æå‡åˆå§‹åŠ è½½é€Ÿåº¦å’Œæœç´¢å¼•æ“å‹å¥½æ€§ã€‚\n\n## æ€§èƒ½ç›‘æµ‹ä¸åˆ†æ\n\n1. ä½¿ç”¨ Vue DevToolsï¼šæ£€æŸ¥ç»„ä»¶æ¸²æŸ“ã€props å˜æ›´ã€çŠ¶æ€æ›´æ–°ç­‰ï¼Œè¯†åˆ«æ½œåœ¨çš„æ€§èƒ½ç“¶é¢ˆã€‚\n2. **æ€§èƒ½ç›‘æ§å·¥å…·**ï¼šå¦‚ vue-perf-devtool æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆå¦‚ Google Lighthouseï¼‰ï¼Œè¿›è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•å’ŒæŒç»­ç›‘æ§ã€‚\n\n## ä¿æŒ Vue åŠä¾èµ–é¡¹æ›´æ–°\n\n1. **å®šæœŸå‡çº§ Vue åŠç›¸å…³åº“ç‰ˆæœ¬**ï¼šæ–°ç‰ˆæœ¬é€šå¸¸åŒ…å«æ€§èƒ½æ”¹è¿›å’Œ bug ä¿®å¤ï¼Œä¿æŒæ›´æ–°æœ‰åˆ©äºåˆ©ç”¨æœ€æ–°ä¼˜åŒ–æˆæœã€‚\n\né€šè¿‡ç»¼åˆè¿ç”¨ä¸Šè¿°ç­–ç•¥ï¼Œå¯ä»¥æœ‰æ•ˆåœ°ä¼˜åŒ– Vue åº”ç”¨çš„æ€§èƒ½ï¼Œæå‡ç”¨æˆ·äº¤äº’ä½“éªŒå’Œåº”ç”¨æ•´ä½“å“åº”é€Ÿåº¦ã€‚è®°å¾—åœ¨å®è·µä¸­æ ¹æ®å…·ä½“é¡¹ç›®éœ€æ±‚å’Œæ€§èƒ½æŒ‡æ ‡è¿›è¡Œæœ‰é’ˆå¯¹æ€§çš„ä¼˜åŒ–ã€‚\n","slug":"æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/é¡¹ç›®ä¼˜åŒ–/ä¼˜åŒ–çš„æ–¹å‘","published":1,"updated":"2025-03-12T09:39:38.968Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0ja007wfg9mahsybot3","content":"<h1 id=\"ä¼˜åŒ–\"><a href=\"#ä¼˜åŒ–\" class=\"headerlink\" title=\"ä¼˜åŒ–?\"></a>ä¼˜åŒ–?</h1><p>æ€§èƒ½ä¼˜åŒ–çš„æ–¹é¢æœ‰å¾ˆå¤šï¼Œè¿™é‡Œé›†ä¸­æ‹¿<code>vue</code>ä¸¾ä¾‹è¯´æ˜ï¼ˆéƒ¨åˆ†æ–¹æ¡ˆç½‘ä¸Šé‡‡é›†çš„ï¼‰ï¼š</p>\n<h2 id=\"æ¡ä»¶æ¸²æŸ“ä¼˜åŒ–\"><a href=\"#æ¡ä»¶æ¸²æŸ“ä¼˜åŒ–\" class=\"headerlink\" title=\"æ¡ä»¶æ¸²æŸ“ä¼˜åŒ–\"></a>æ¡ä»¶æ¸²æŸ“ä¼˜åŒ–</h2><p>æ¡ä»¶æ¸²æŸ“åˆ†ä¸º<code>v-ifå’Œv-show</code>, å…·ä½“ä¿©è€…çš„åŒºåˆ«å¯è¯¦çœ‹ä¹‹å‰çš„æ–‡ç« <a href=\"/brochure/vue/interview/if_show\">if å’Œ show çš„åŒºåˆ«</a></p>\n<ol>\n<li><code>v-if</code>å’Œ<code>v-show</code>çš„åŒºåˆ«ä½¿ç”¨ï¼Œä½¿ç”¨æ­£ç¡®å¯å‡å°‘ DOM æ ‘çš„æ€§èƒ½å¼€é”€</li>\n<li>é¿å…åœ¨<code>v-for</code>ä¸­ä½¿ç”¨<code>v-if</code> <a href=\"/brochure/vue/interview/for_if\">v-for å’Œ v-if ä¸ºä»€ä¹ˆä¸èƒ½åŒæ—¶ä½¿ç”¨</a></li>\n</ol>\n<h2 id=\"åˆç†åˆ©ç”¨è®¡ç®—å±æ€§å’Œç›‘å¬å™¨\"><a href=\"#åˆç†åˆ©ç”¨è®¡ç®—å±æ€§å’Œç›‘å¬å™¨\" class=\"headerlink\" title=\"åˆç†åˆ©ç”¨è®¡ç®—å±æ€§å’Œç›‘å¬å™¨\"></a>åˆç†åˆ©ç”¨è®¡ç®—å±æ€§å’Œç›‘å¬å™¨</h2><p>å…³äºè®¡ç®—å±æ€§å’Œç›‘å¬å™¨çš„çš„è¯¦ç»†è¯´æ˜ä»¥åŠåŒºåˆ«å¯å¯è¯¦çœ‹ä¹‹å‰çš„æ–‡ç« <a href=\"/brochure/vue/interview/watch_watchEffect_computed\">watch,watchEffect å’Œ computed çš„åŒºåˆ«</a></p>\n<ol>\n<li>åˆç†ä½¿ç”¨ computedï¼šå¯¹äºä¾èµ–å…¶ä»–æ•°æ®å¹¶éœ€è¦åœ¨å¤šä¸ªåœ°æ–¹å¤ç”¨çš„å¤æ‚é€»è¾‘ï¼Œä½¿ç”¨è®¡ç®—å±æ€§å¯ä»¥å®ç°ç¼“å­˜ï¼Œåªåœ¨ä¾èµ–æ•°æ®å˜åŒ–æ—¶æ‰é‡æ–°è®¡ç®—ã€‚</li>\n<li>ç²¾ç®€ watchï¼šé¿å…åœ¨ watch ä¸­æ‰§è¡Œè¿‡äºå¤æ‚çš„è®¡ç®—æˆ–æ“ä½œã€‚å¯¹äºæ·±åº¦ç›‘å¬æˆ–å¤§å¯¹è±¡çš„å˜åŒ–ï¼Œå¯ä»¥ç»“åˆ deep å’Œ immediate é€‰é¡¹ä¼˜åŒ–ï¼Œæˆ–è€…è€ƒè™‘ä½¿ç”¨ computed æ›¿ä»£ã€‚</li>\n</ol>\n<h2 id=\"è·¯ç”±æ‡’åŠ è½½\"><a href=\"#è·¯ç”±æ‡’åŠ è½½\" class=\"headerlink\" title=\"è·¯ç”±æ‡’åŠ è½½\"></a>è·¯ç”±æ‡’åŠ è½½</h2><ol>\n<li><strong>åŠ¨æ€å¯¼å…¥ç»„ä»¶</strong> ä½¿ç”¨ import() è¯­æ³•å®ç°å¼‚æ­¥åŠ è½½è·¯ç”±å¯¹åº”çš„ç»„ä»¶ï¼Œé¿å…åœ¨åº”ç”¨å¯åŠ¨æ—¶ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰ä»£ç ï¼Œä»è€Œå‡å°‘åˆå§‹åŠ è½½æ—¶é—´ã€‚</li>\n<li><strong>ä»£ç åˆ†å‰²</strong> åˆ©ç”¨ Webpack ç­‰æ„å»ºå·¥å…·çš„ä»£ç åˆ†å‰²åŠŸèƒ½ï¼Œå°†å¤§å‹åº”ç”¨æ‹†åˆ†ä¸ºå¤šä¸ªæŒ‰éœ€åŠ è½½çš„å—ã€‚</li>\n</ol>\n<h2 id=\"åˆ—è¡¨æ¸²æŸ“ä¼˜åŒ–\"><a href=\"#åˆ—è¡¨æ¸²æŸ“ä¼˜åŒ–\" class=\"headerlink\" title=\"åˆ—è¡¨æ¸²æŸ“ä¼˜åŒ–\"></a>åˆ—è¡¨æ¸²æŸ“ä¼˜åŒ–</h2><ol>\n<li>ä¸º v-for éå†çš„å…ƒç´ æ·»åŠ  key å±æ€§ï¼šè¿™æœ‰åŠ©äº Vue è¯†åˆ«å¹¶æ›´å‡†ç¡®åœ°è¿›è¡Œ DOM æ›´æ–°ï¼Œé€šè¿‡é«˜æ•ˆçš„å…ƒç´ å¤ç”¨å’Œç§»åŠ¨ï¼Œé™ä½ä¸å¿…è¦çš„ DOM æ“ä½œã€‚</li>\n<li>å¯¹äºé•¿åˆ—è¡¨, å¯ä»¥ä½¿ç”¨æ»šåŠ¨åŠ è½½ï¼Œåˆ†é¡µä»¥åŠ è™šæ‹Ÿåˆ—è¡¨ç­‰ä¼˜åŒ–ã€‚</li>\n</ol>\n<h2 id=\"çŠ¶æ€ç®¡ç†ä¼˜åŒ–\"><a href=\"#çŠ¶æ€ç®¡ç†ä¼˜åŒ–\" class=\"headerlink\" title=\"çŠ¶æ€ç®¡ç†ä¼˜åŒ–\"></a>çŠ¶æ€ç®¡ç†ä¼˜åŒ–</h2><ol>\n<li>åˆç†è®¾è®¡æ•°æ®ç»“æ„ï¼šé¿å…è¿‡å¤šçš„æ·±å±‚æ¬¡åµŒå¥—ï¼Œå‡å°‘ä¸å¿…è¦çš„æ´¾ç”ŸçŠ¶æ€å’Œè®¡ç®—å±æ€§ã€‚</li>\n</ol>\n<h2 id=\"ç»„ä»¶ä¼˜åŒ–\"><a href=\"#ç»„ä»¶ä¼˜åŒ–\" class=\"headerlink\" title=\"ç»„ä»¶ä¼˜åŒ–\"></a>ç»„ä»¶ä¼˜åŒ–</h2><ol>\n<li>åˆç†è®¾è®¡ç»„ä»¶ç²’åº¦ï¼šé¿å…è¿‡åº¦ç»†åŒ–å¯¼è‡´è¿‡å¤šç»„ä»¶å®ä¾‹ï¼ŒåŒæ—¶ä¹Ÿé¿å…ç»„ä»¶è¿‡äºåºå¤§å½±å“æ¸²æŸ“æ€§èƒ½ã€‚</li>\n<li>ä½¿ç”¨ <code>v-once</code> é™æ€å†…å®¹æ ‡è®°ï¼šå¯¹äºæ— éœ€æ›´æ–°çš„é™æ€å†…å®¹ï¼Œæ·»åŠ  <code>v-once</code> æŒ‡ä»¤ä»¥ç¡®ä¿å®ƒä»¬ä»…æ¸²æŸ“ä¸€æ¬¡ï¼Œåç»­ä¸å†å‚ä¸è™šæ‹Ÿ <code>DOM diff</code> è¿‡ç¨‹ã€‚</li>\n</ol>\n<h2 id=\"èµ„æºä¼˜åŒ–\"><a href=\"#èµ„æºä¼˜åŒ–\" class=\"headerlink\" title=\"èµ„æºä¼˜åŒ–\"></a>èµ„æºä¼˜åŒ–</h2><ol>\n<li><strong>å›¾ç‰‡æ‡’åŠ è½½</strong> ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ vue-lazyloadï¼‰å®ç°å›¾ç‰‡æŒ‰éœ€åŠ è½½ï¼Œæå‡é¡µé¢åŠ è½½é€Ÿåº¦ã€‚</li>\n<li><strong>å‹ç¼©ä¸åˆå¹¶èµ„æº</strong> å¯¹ CSSã€JavaScript æ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œå¹¶åˆç†åˆå¹¶ä»¥å‡å°‘ HTTP è¯·æ±‚æ¬¡æ•°ã€‚</li>\n</ol>\n<h2 id=\"æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æˆ–é¢„æ¸²æŸ“\"><a href=\"#æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æˆ–é¢„æ¸²æŸ“\" class=\"headerlink\" title=\"æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æˆ–é¢„æ¸²æŸ“\"></a>æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æˆ–é¢„æ¸²æŸ“</h2><ol>\n<li><strong>å¯¹äº SEO æ•æ„Ÿæˆ–é¦–å±åŠ è½½é€Ÿåº¦è¦æ±‚é«˜çš„åº”ç”¨</strong>ï¼Œé‡‡ç”¨ SSR æˆ–é™æ€é¢„æ¸²æŸ“ï¼ˆå¦‚ prerender-spa-pluginï¼‰æ¥æå‡åˆå§‹åŠ è½½é€Ÿåº¦å’Œæœç´¢å¼•æ“å‹å¥½æ€§ã€‚</li>\n</ol>\n<h2 id=\"æ€§èƒ½ç›‘æµ‹ä¸åˆ†æ\"><a href=\"#æ€§èƒ½ç›‘æµ‹ä¸åˆ†æ\" class=\"headerlink\" title=\"æ€§èƒ½ç›‘æµ‹ä¸åˆ†æ\"></a>æ€§èƒ½ç›‘æµ‹ä¸åˆ†æ</h2><ol>\n<li>ä½¿ç”¨ Vue DevToolsï¼šæ£€æŸ¥ç»„ä»¶æ¸²æŸ“ã€props å˜æ›´ã€çŠ¶æ€æ›´æ–°ç­‰ï¼Œè¯†åˆ«æ½œåœ¨çš„æ€§èƒ½ç“¶é¢ˆã€‚</li>\n<li><strong>æ€§èƒ½ç›‘æ§å·¥å…·</strong>ï¼šå¦‚ vue-perf-devtool æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆå¦‚ Google Lighthouseï¼‰ï¼Œè¿›è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•å’ŒæŒç»­ç›‘æ§ã€‚</li>\n</ol>\n<h2 id=\"ä¿æŒ-Vue-åŠä¾èµ–é¡¹æ›´æ–°\"><a href=\"#ä¿æŒ-Vue-åŠä¾èµ–é¡¹æ›´æ–°\" class=\"headerlink\" title=\"ä¿æŒ Vue åŠä¾èµ–é¡¹æ›´æ–°\"></a>ä¿æŒ Vue åŠä¾èµ–é¡¹æ›´æ–°</h2><ol>\n<li><strong>å®šæœŸå‡çº§ Vue åŠç›¸å…³åº“ç‰ˆæœ¬</strong>ï¼šæ–°ç‰ˆæœ¬é€šå¸¸åŒ…å«æ€§èƒ½æ”¹è¿›å’Œ bug ä¿®å¤ï¼Œä¿æŒæ›´æ–°æœ‰åˆ©äºåˆ©ç”¨æœ€æ–°ä¼˜åŒ–æˆæœã€‚</li>\n</ol>\n<p>é€šè¿‡ç»¼åˆè¿ç”¨ä¸Šè¿°ç­–ç•¥ï¼Œå¯ä»¥æœ‰æ•ˆåœ°ä¼˜åŒ– Vue åº”ç”¨çš„æ€§èƒ½ï¼Œæå‡ç”¨æˆ·äº¤äº’ä½“éªŒå’Œåº”ç”¨æ•´ä½“å“åº”é€Ÿåº¦ã€‚è®°å¾—åœ¨å®è·µä¸­æ ¹æ®å…·ä½“é¡¹ç›®éœ€æ±‚å’Œæ€§èƒ½æŒ‡æ ‡è¿›è¡Œæœ‰é’ˆå¯¹æ€§çš„ä¼˜åŒ–ã€‚</p>\n","excerpt":"","more":"<h1 id=\"ä¼˜åŒ–\"><a href=\"#ä¼˜åŒ–\" class=\"headerlink\" title=\"ä¼˜åŒ–?\"></a>ä¼˜åŒ–?</h1><p>æ€§èƒ½ä¼˜åŒ–çš„æ–¹é¢æœ‰å¾ˆå¤šï¼Œè¿™é‡Œé›†ä¸­æ‹¿<code>vue</code>ä¸¾ä¾‹è¯´æ˜ï¼ˆéƒ¨åˆ†æ–¹æ¡ˆç½‘ä¸Šé‡‡é›†çš„ï¼‰ï¼š</p>\n<h2 id=\"æ¡ä»¶æ¸²æŸ“ä¼˜åŒ–\"><a href=\"#æ¡ä»¶æ¸²æŸ“ä¼˜åŒ–\" class=\"headerlink\" title=\"æ¡ä»¶æ¸²æŸ“ä¼˜åŒ–\"></a>æ¡ä»¶æ¸²æŸ“ä¼˜åŒ–</h2><p>æ¡ä»¶æ¸²æŸ“åˆ†ä¸º<code>v-ifå’Œv-show</code>, å…·ä½“ä¿©è€…çš„åŒºåˆ«å¯è¯¦çœ‹ä¹‹å‰çš„æ–‡ç« <a href=\"/brochure/vue/interview/if_show\">if å’Œ show çš„åŒºåˆ«</a></p>\n<ol>\n<li><code>v-if</code>å’Œ<code>v-show</code>çš„åŒºåˆ«ä½¿ç”¨ï¼Œä½¿ç”¨æ­£ç¡®å¯å‡å°‘ DOM æ ‘çš„æ€§èƒ½å¼€é”€</li>\n<li>é¿å…åœ¨<code>v-for</code>ä¸­ä½¿ç”¨<code>v-if</code> <a href=\"/brochure/vue/interview/for_if\">v-for å’Œ v-if ä¸ºä»€ä¹ˆä¸èƒ½åŒæ—¶ä½¿ç”¨</a></li>\n</ol>\n<h2 id=\"åˆç†åˆ©ç”¨è®¡ç®—å±æ€§å’Œç›‘å¬å™¨\"><a href=\"#åˆç†åˆ©ç”¨è®¡ç®—å±æ€§å’Œç›‘å¬å™¨\" class=\"headerlink\" title=\"åˆç†åˆ©ç”¨è®¡ç®—å±æ€§å’Œç›‘å¬å™¨\"></a>åˆç†åˆ©ç”¨è®¡ç®—å±æ€§å’Œç›‘å¬å™¨</h2><p>å…³äºè®¡ç®—å±æ€§å’Œç›‘å¬å™¨çš„çš„è¯¦ç»†è¯´æ˜ä»¥åŠåŒºåˆ«å¯å¯è¯¦çœ‹ä¹‹å‰çš„æ–‡ç« <a href=\"/brochure/vue/interview/watch_watchEffect_computed\">watch,watchEffect å’Œ computed çš„åŒºåˆ«</a></p>\n<ol>\n<li>åˆç†ä½¿ç”¨ computedï¼šå¯¹äºä¾èµ–å…¶ä»–æ•°æ®å¹¶éœ€è¦åœ¨å¤šä¸ªåœ°æ–¹å¤ç”¨çš„å¤æ‚é€»è¾‘ï¼Œä½¿ç”¨è®¡ç®—å±æ€§å¯ä»¥å®ç°ç¼“å­˜ï¼Œåªåœ¨ä¾èµ–æ•°æ®å˜åŒ–æ—¶æ‰é‡æ–°è®¡ç®—ã€‚</li>\n<li>ç²¾ç®€ watchï¼šé¿å…åœ¨ watch ä¸­æ‰§è¡Œè¿‡äºå¤æ‚çš„è®¡ç®—æˆ–æ“ä½œã€‚å¯¹äºæ·±åº¦ç›‘å¬æˆ–å¤§å¯¹è±¡çš„å˜åŒ–ï¼Œå¯ä»¥ç»“åˆ deep å’Œ immediate é€‰é¡¹ä¼˜åŒ–ï¼Œæˆ–è€…è€ƒè™‘ä½¿ç”¨ computed æ›¿ä»£ã€‚</li>\n</ol>\n<h2 id=\"è·¯ç”±æ‡’åŠ è½½\"><a href=\"#è·¯ç”±æ‡’åŠ è½½\" class=\"headerlink\" title=\"è·¯ç”±æ‡’åŠ è½½\"></a>è·¯ç”±æ‡’åŠ è½½</h2><ol>\n<li><strong>åŠ¨æ€å¯¼å…¥ç»„ä»¶</strong> ä½¿ç”¨ import() è¯­æ³•å®ç°å¼‚æ­¥åŠ è½½è·¯ç”±å¯¹åº”çš„ç»„ä»¶ï¼Œé¿å…åœ¨åº”ç”¨å¯åŠ¨æ—¶ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰ä»£ç ï¼Œä»è€Œå‡å°‘åˆå§‹åŠ è½½æ—¶é—´ã€‚</li>\n<li><strong>ä»£ç åˆ†å‰²</strong> åˆ©ç”¨ Webpack ç­‰æ„å»ºå·¥å…·çš„ä»£ç åˆ†å‰²åŠŸèƒ½ï¼Œå°†å¤§å‹åº”ç”¨æ‹†åˆ†ä¸ºå¤šä¸ªæŒ‰éœ€åŠ è½½çš„å—ã€‚</li>\n</ol>\n<h2 id=\"åˆ—è¡¨æ¸²æŸ“ä¼˜åŒ–\"><a href=\"#åˆ—è¡¨æ¸²æŸ“ä¼˜åŒ–\" class=\"headerlink\" title=\"åˆ—è¡¨æ¸²æŸ“ä¼˜åŒ–\"></a>åˆ—è¡¨æ¸²æŸ“ä¼˜åŒ–</h2><ol>\n<li>ä¸º v-for éå†çš„å…ƒç´ æ·»åŠ  key å±æ€§ï¼šè¿™æœ‰åŠ©äº Vue è¯†åˆ«å¹¶æ›´å‡†ç¡®åœ°è¿›è¡Œ DOM æ›´æ–°ï¼Œé€šè¿‡é«˜æ•ˆçš„å…ƒç´ å¤ç”¨å’Œç§»åŠ¨ï¼Œé™ä½ä¸å¿…è¦çš„ DOM æ“ä½œã€‚</li>\n<li>å¯¹äºé•¿åˆ—è¡¨, å¯ä»¥ä½¿ç”¨æ»šåŠ¨åŠ è½½ï¼Œåˆ†é¡µä»¥åŠ è™šæ‹Ÿåˆ—è¡¨ç­‰ä¼˜åŒ–ã€‚</li>\n</ol>\n<h2 id=\"çŠ¶æ€ç®¡ç†ä¼˜åŒ–\"><a href=\"#çŠ¶æ€ç®¡ç†ä¼˜åŒ–\" class=\"headerlink\" title=\"çŠ¶æ€ç®¡ç†ä¼˜åŒ–\"></a>çŠ¶æ€ç®¡ç†ä¼˜åŒ–</h2><ol>\n<li>åˆç†è®¾è®¡æ•°æ®ç»“æ„ï¼šé¿å…è¿‡å¤šçš„æ·±å±‚æ¬¡åµŒå¥—ï¼Œå‡å°‘ä¸å¿…è¦çš„æ´¾ç”ŸçŠ¶æ€å’Œè®¡ç®—å±æ€§ã€‚</li>\n</ol>\n<h2 id=\"ç»„ä»¶ä¼˜åŒ–\"><a href=\"#ç»„ä»¶ä¼˜åŒ–\" class=\"headerlink\" title=\"ç»„ä»¶ä¼˜åŒ–\"></a>ç»„ä»¶ä¼˜åŒ–</h2><ol>\n<li>åˆç†è®¾è®¡ç»„ä»¶ç²’åº¦ï¼šé¿å…è¿‡åº¦ç»†åŒ–å¯¼è‡´è¿‡å¤šç»„ä»¶å®ä¾‹ï¼ŒåŒæ—¶ä¹Ÿé¿å…ç»„ä»¶è¿‡äºåºå¤§å½±å“æ¸²æŸ“æ€§èƒ½ã€‚</li>\n<li>ä½¿ç”¨ <code>v-once</code> é™æ€å†…å®¹æ ‡è®°ï¼šå¯¹äºæ— éœ€æ›´æ–°çš„é™æ€å†…å®¹ï¼Œæ·»åŠ  <code>v-once</code> æŒ‡ä»¤ä»¥ç¡®ä¿å®ƒä»¬ä»…æ¸²æŸ“ä¸€æ¬¡ï¼Œåç»­ä¸å†å‚ä¸è™šæ‹Ÿ <code>DOM diff</code> è¿‡ç¨‹ã€‚</li>\n</ol>\n<h2 id=\"èµ„æºä¼˜åŒ–\"><a href=\"#èµ„æºä¼˜åŒ–\" class=\"headerlink\" title=\"èµ„æºä¼˜åŒ–\"></a>èµ„æºä¼˜åŒ–</h2><ol>\n<li><strong>å›¾ç‰‡æ‡’åŠ è½½</strong> ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ vue-lazyloadï¼‰å®ç°å›¾ç‰‡æŒ‰éœ€åŠ è½½ï¼Œæå‡é¡µé¢åŠ è½½é€Ÿåº¦ã€‚</li>\n<li><strong>å‹ç¼©ä¸åˆå¹¶èµ„æº</strong> å¯¹ CSSã€JavaScript æ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œå¹¶åˆç†åˆå¹¶ä»¥å‡å°‘ HTTP è¯·æ±‚æ¬¡æ•°ã€‚</li>\n</ol>\n<h2 id=\"æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æˆ–é¢„æ¸²æŸ“\"><a href=\"#æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æˆ–é¢„æ¸²æŸ“\" class=\"headerlink\" title=\"æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æˆ–é¢„æ¸²æŸ“\"></a>æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æˆ–é¢„æ¸²æŸ“</h2><ol>\n<li><strong>å¯¹äº SEO æ•æ„Ÿæˆ–é¦–å±åŠ è½½é€Ÿåº¦è¦æ±‚é«˜çš„åº”ç”¨</strong>ï¼Œé‡‡ç”¨ SSR æˆ–é™æ€é¢„æ¸²æŸ“ï¼ˆå¦‚ prerender-spa-pluginï¼‰æ¥æå‡åˆå§‹åŠ è½½é€Ÿåº¦å’Œæœç´¢å¼•æ“å‹å¥½æ€§ã€‚</li>\n</ol>\n<h2 id=\"æ€§èƒ½ç›‘æµ‹ä¸åˆ†æ\"><a href=\"#æ€§èƒ½ç›‘æµ‹ä¸åˆ†æ\" class=\"headerlink\" title=\"æ€§èƒ½ç›‘æµ‹ä¸åˆ†æ\"></a>æ€§èƒ½ç›‘æµ‹ä¸åˆ†æ</h2><ol>\n<li>ä½¿ç”¨ Vue DevToolsï¼šæ£€æŸ¥ç»„ä»¶æ¸²æŸ“ã€props å˜æ›´ã€çŠ¶æ€æ›´æ–°ç­‰ï¼Œè¯†åˆ«æ½œåœ¨çš„æ€§èƒ½ç“¶é¢ˆã€‚</li>\n<li><strong>æ€§èƒ½ç›‘æ§å·¥å…·</strong>ï¼šå¦‚ vue-perf-devtool æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆå¦‚ Google Lighthouseï¼‰ï¼Œè¿›è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•å’ŒæŒç»­ç›‘æ§ã€‚</li>\n</ol>\n<h2 id=\"ä¿æŒ-Vue-åŠä¾èµ–é¡¹æ›´æ–°\"><a href=\"#ä¿æŒ-Vue-åŠä¾èµ–é¡¹æ›´æ–°\" class=\"headerlink\" title=\"ä¿æŒ Vue åŠä¾èµ–é¡¹æ›´æ–°\"></a>ä¿æŒ Vue åŠä¾èµ–é¡¹æ›´æ–°</h2><ol>\n<li><strong>å®šæœŸå‡çº§ Vue åŠç›¸å…³åº“ç‰ˆæœ¬</strong>ï¼šæ–°ç‰ˆæœ¬é€šå¸¸åŒ…å«æ€§èƒ½æ”¹è¿›å’Œ bug ä¿®å¤ï¼Œä¿æŒæ›´æ–°æœ‰åˆ©äºåˆ©ç”¨æœ€æ–°ä¼˜åŒ–æˆæœã€‚</li>\n</ol>\n<p>é€šè¿‡ç»¼åˆè¿ç”¨ä¸Šè¿°ç­–ç•¥ï¼Œå¯ä»¥æœ‰æ•ˆåœ°ä¼˜åŒ– Vue åº”ç”¨çš„æ€§èƒ½ï¼Œæå‡ç”¨æˆ·äº¤äº’ä½“éªŒå’Œåº”ç”¨æ•´ä½“å“åº”é€Ÿåº¦ã€‚è®°å¾—åœ¨å®è·µä¸­æ ¹æ®å…·ä½“é¡¹ç›®éœ€æ±‚å’Œæ€§èƒ½æŒ‡æ ‡è¿›è¡Œæœ‰é’ˆå¯¹æ€§çš„ä¼˜åŒ–ã€‚</p>\n"},{"title":"Vueé¡¹ç›®ç®¡ç†","abbrlink":"42138971","date":"2024-07-20T03:20:38.000Z","_content":"\n<a style=\"display: flex; gap: 5px;\">\n<img src=\"https://img.shields.io/badge/vue-3.4.21-green\"/>\n<img src=\"https://img.shields.io/badge/node-21.1.0-yellow\"/>\n<img src=\"https://img.shields.io/badge/eslint-9.0.0-blue\"/>\n<img src=\"https://img.shields.io/badge/stylelint-16.3.1-red\"/>\n<img src=\"https://img.shields.io/badge/vite-5.2.0-orange\"/>\n</a>\n\n## åˆå§‹åŒ–é¡¹ç›®\n\n::: code-group\n\n```sh [npm]\nnpm create vite@latest\n```\n\n```sh [Yarn]\nyarn create vite\n```\n\n```sh [PNPM]\npnpm create vite\n```\n\n```sh [bun]\nbun create vite\n```\n\nä¸ç®¡ç”¨ä»€ä¹ˆæ–¹å¼éƒ½å¯ä»¥å®‰è£…, ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ä½¿ç”¨`bun`å®‰è£…éœ€è¦å…ˆçœ‹ä¸‹å®˜ç½‘ [Bun](https://bun.sh)\n\nä¸¾ä¸ªä¾‹å­:\n\n1. é¡¹ç›®åç§°ä¸ºä½ çš„é¡¹ç›®åå­—, å¦‚: `vue-project`\n2. é€‰æ‹©é¡¹ç›®ç±»å‹ä¸º`vue`\n3. é€‰æ‹©`TypeScript`è¿›è¡Œå¼€å‘, å…¶å®ƒçš„ä¸ç”¨é€‰æ‹©å³å¯;\n\nä¸ç”¨å»é»˜è®¤é€‰æ‹©`Eslint`, å› ä¸ºè¿™é‡Œä½¿ç”¨çš„æ˜¯é«˜ç‰ˆæœ¬çš„`Eslintï¼ˆ9.0.0ï¼‰`å’Œé»˜è®¤å®‰è£…çš„`Eslintï¼ˆ8.x.xï¼‰`çš„è¯­æ³•æœ‰å†²çªï¼›\n\n## ä»£ç è§„èŒƒ\n\n### EditorConfig\n\n::: tip\n`EditorConfig` çš„ä½œç”¨æ˜¯åœ¨å¤šä¸ªç¼–è¾‘å™¨å’Œ IDE ä¹‹é—´ç»´æŠ¤ä¸€è‡´çš„ä»£ç é£æ ¼ã€‚\n:::\n\nå¦‚æœä½¿ç”¨`Vscode`è¿›è¡Œå¼€å‘çš„è¯, é‚£å°±è¦å®‰è£…`EditorConfig for VS Code`æ’ä»¶, ç„¶ååœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º`.editorconfig`æ–‡ä»¶, å†…å®¹å¦‚ä¸‹:\n\n```shell\n# Editor configuration, see http://editorconfig.org\n# è¡¨ç¤ºæ˜¯æœ€é¡¶å±‚çš„ EditorConfig é…ç½®æ–‡ä»¶\nroot = true\n[*] # è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶é€‚ç”¨\ncharset = utf-8 # è®¾ç½®æ–‡ä»¶å­—ç¬¦é›†ä¸º utf-8\nindent_style = space # ç¼©è¿›é£æ ¼ï¼ˆtab | spaceï¼‰\nindent_size = 2 # ç¼©è¿›å¤§å°\nend_of_line = lf # æ§åˆ¶æ¢è¡Œç±»å‹(lf | cr | crlf)\ntrim_trailing_whitespace = true # å»é™¤è¡Œé¦–çš„ä»»æ„ç©ºç™½å­—ç¬¦\ninsert_final_newline = true # å§‹ç»ˆåœ¨æ–‡ä»¶æœ«å°¾æ’å…¥ä¸€ä¸ªæ–°è¡Œ\ntrim_trailing_whitespace = true # åˆ é™¤ä¸€è¡Œä¸­çš„å‰åç©ºæ ¼\n```\n\n### eslint\n\n::: tip\nESLint æ˜¯ä¸€ä¸ªç”¨äºæ£€æµ‹ JavaScript ä»£ç é—®é¢˜çš„å·¥å…·ï¼Œå¸®æˆ‘ä»¬å‘ç°å¹¶ä¿®å¤ JavaScript ä»£ç ä¸­çš„é—®é¢˜ã€‚\n:::\n\nå®‰è£…å‘½ä»¤ï¼š`pnpm create @eslint/config`\n\n```shell\nâˆš How would you like to use ESLint? Â· (To check syntax and find problems)\nâˆš What type of modules does your project use? Â· (JavaScript modules (import/export))\nâˆš Which framework does your project use? Â· (Vue.js)\nâˆš Does your project use TypeScript? Â· (Yes)\nâˆš Where does your code run? Â· (Browser)\nâˆš Would you like to install them now?  ï¼ˆYesï¼‰\nâˆš Which package manager do you want to use? ï¼ˆæ ¹æ®è‡ªå·±æƒ…å†µï¼Œæœ¬æ–‡ä½¿ç”¨pnpmï¼‰\n```\n\næ­¤æ—¶æ ¹ç›®å½•ä¼šè‡ªåŠ¨æˆ eslint.config.js æ–‡ä»¶, å†…å®¹å¦‚ä¸‹ï¼š\n\n```js\nimport globals from \"globals\";\nimport pluginJs from \"@eslint/js\";\nimport tseslint from \"typescript-eslint\";\nimport pluginVue from \"eslint-plugin-vue\";\n\nexport default [\n\t{ languageOptions: { globals: globals.browser } },\n\t// eslint é»˜è®¤æ¨èè§„åˆ™\n\tpluginJs.configs.recommended,\n\t// ts é»˜è®¤æ¨èè§„åˆ™\n\t...tseslint.configs.recommended,\n\t// vue3 åŸºç¡€æ¨èè§„åˆ™\n\t...pluginVue.configs[\"flat/essential\"],\n];\n```\n\næ³¨æ„ï¼šæ­¤æ—¶æˆ‘ä»¬å®‰è£…çš„æ˜¯ `Eslint` çš„ç‰ˆæœ¬ä¸ºï¼š9.0.0, è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸ç”¨é»˜è®¤è„šæ‰‹æ¶å®‰è£…çš„åŸå› ï¼š é»˜è®¤çš„`eslint`ç‰ˆæœ¬ä¸º`8.x.x`, æˆ‘ä»¬ç›´æ¥ä½¿ç”¨æ–°ç‰ˆæœ¬`9.0.0`ï¼Œä¸è¿‡ç›¸å¯¹äº`8.X.X`å†™æ³•ä¸Šæœ‰å¾ˆå¤§å˜åŠ¨ï¼Œå¯ä»¥å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://eslint.org/docs/latest/use/configure/configuration-files-new)\n\næ¥ç€é…ç½®`.eslintrc.js`æ–‡ä»¶ï¼š\n\n```js\nmodule.exports = {\n  import globals from \"globals\";\nimport pluginJs from \"@eslint/js\";\nimport tseslint from \"typescript-eslint\";\nimport pluginVue from \"eslint-plugin-vue\";\n\nexport default [\n\t{ languageOptions: { globals: globals.browser } },\n\t// eslint é»˜è®¤æ¨èè§„åˆ™\n\tpluginJs.configs.recommended,\n\t// ts é»˜è®¤æ¨èè§„åˆ™\n\t...tseslint.configs.recommended,\n\t// vue3 åŸºç¡€æ¨èè§„åˆ™\n\t...pluginVue.configs[\"flat/essential\"],\n  languageOptions: {\n\t\t\tglobals: {\n\t\t\t\t...globals.browser,\n\t\t\t\t...globals.es2020,\n\t\t\t\t...globals.node,\n\t\t\t},\n\t\t\tecmaVersion: 2020,\n      // è¿™é‡Œçš„parserVue ä¼šä½¿ç”¨æ’ä»¶\n\t\t\t// parser: parserVue,\n\t\t\tparserOptions: {\n\t\t\t\tparser: tseslint.parser,\n\t\t\t},\n\t\t},\n\t},\n];\n```\n\n### Prettier\n\n::: tip\nPrettier æ˜¯ä¸€ä¸ªä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œå¯ä»¥è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ï¼Œä½¿å…¶ç¬¦åˆç»Ÿä¸€çš„é£æ ¼ã€‚\n:::\n\nå®‰è£…å‘½ä»¤ï¼š`pnpm add -D eslint-plugin-prettier eslint-config-prettier`\n\nä¿®æ”¹`eslint.config.js`æ·»åŠ `prettier`é…ç½®\n\n```js\nimport globals from \"globals\";\nimport pluginJs from \"@eslint/js\";\nimport tseslint from \"typescript-eslint\";\nimport pluginVue from \"eslint-plugin-vue\";\nimport pluginPrettierRecommendedConfigs from \"eslint-plugin-prettier/recommended\";\nexport default [\n\t// eslint é»˜è®¤æ¨èè§„åˆ™\n\tpluginJs.configs.recommended,\n\t// ts é»˜è®¤æ¨èè§„åˆ™\n\t...tseslint.configs.recommended,\n\t// vue3 åŸºç¡€æ¨èè§„åˆ™\n\t...pluginVue.configs[\"flat/recommended\"],\n\t// prettier é»˜è®¤æ¨èè§„åˆ™\n\tpluginPrettierRecommendedConfigs,\n\t{\n\t\tlanguageOptions: {\n\t\t\tglobals: {\n\t\t\t\t...globals.browser,\n\t\t\t\t...globals.es2020,\n\t\t\t\t...globals.node,\n\t\t\t},\n\t\t\tecmaVersion: 2020,\n\t\t\tparser: parserVue,\n\t\t\tparserOptions: {\n\t\t\t\tparser: tseslint.parser,\n\t\t\t},\n\t\t},\n\t},\n];\n```\n\næ ¹ç›®å½•ä¸‹æ–°å»º `prettier.config.js` æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š\n\n```js\nexport default {\n\ttabWidth: 2, // ç¼©è¿›\n\tuseTabs: true, // ç¼©è¿›æ–¹å¼\n\tsemi: false, // è¯­å¥ç»“å°¾æ˜¯å¦åŠ åˆ†å·\n\tsingleQuote: true, // å•å¼•å·\n\tprintWidth: 120, // æ¢è¡Œé•¿åº¦\n\tarrowParens: \"always\", // ç®­å¤´å‡½æ•°å‚æ•°\n\tbracketSpacing: true, // å¯¹è±¡èŠ±æ‹¬å·å†…æ˜¯å¦åŠ ç©ºæ ¼\n\tendOfLine: \"auto\", // æ¢è¡Œç¬¦\n\tvueIndentScriptAndStyle: true, // vueæ–‡ä»¶å†…scriptå’Œstyleæ ‡ç­¾ç¼©è¿›\n};\n```\n\n### Eslint å¯èƒ½å‡ºç°çš„é—®é¢˜\n\nå½“æ‰“å¼€ components/HelloWorld.vue æ–‡ä»¶ï¼Œä¼šå‘ç°æ­¤è¡ŒæŠ¥é”™ï¼š\n\n```js\ndefineProps<{ msg: string }>() // Parsing error: Unexpected token )eslint\n```\n\nè§£å†³åŠæ³•ï¼š é…ç½® vue-eslint-parserï¼Œä¿®æ”¹ eslint.config.js\n\n```js\nimport globals from \"globals\";\nimport pluginJs from \"@eslint/js\";\nimport tseslint from \"typescript-eslint\";\nimport pluginVue from \"eslint-plugin-vue\";\nimport pluginPrettierRecommendedConfigs from \"eslint-plugin-prettier/recommended\";\nimport parserVue from \"vue-eslint-parser\";\n\nexport default [\n\t// eslint é»˜è®¤æ¨èè§„åˆ™\n\tpluginJs.configs.recommended,\n\t// ts é»˜è®¤æ¨èè§„åˆ™\n\t...tseslint.configs.recommended,\n\t// vue3 åŸºç¡€æ¨èè§„åˆ™\n\t...pluginVue.configs[\"flat/recommended\"],\n\t// prettier é»˜è®¤æ¨èè§„åˆ™\n\tpluginPrettierRecommendedConfigs,\n\t{\n\t\tlanguageOptions: {\n\t\t\tglobals: {\n\t\t\t\t...globals.browser,\n\t\t\t\t...globals.es2020,\n\t\t\t\t...globals.node,\n\t\t\t},\n\t\t\tecmaVersion: 2020,\n\t\t\tparser: parserVue,\n\t\t\tparserOptions: {\n\t\t\t\tparser: tseslint.parser,\n\t\t\t},\n\t\t},\n\t},\n];\n```\n\næ·»åŠ æ’ä»¶ `vite-plugin-eslintpnpm add -D vite-plugin-eslint`\n\n```js\nimport { defineConfig } from \"vite\";\nimport vue from \"@vitejs/plugin-vue\";\nimport eslintPlugin from \"vite-plugin-eslint\";\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n\tplugins: [vue(), eslintPlugin()],\n});\n```\n\nç”±äº vite-plugin-eslint åº“æœ‰ç‚¹è½åï¼Œå¯¼è‡´ vite é«˜ç‰ˆæœ¬ä¸èƒ½æ­£ç¡®çš„è¯†åˆ« cjs æ¨¡å—ï¼Œæ‰€ä»¥é…ç½® src\\vite-env.d.tsï¼š\n\n```js\n/// <reference types=\"vite/client\" />\n\n/**\n * ç”±äº vite-plugin-eslint åº“æœ‰ç‚¹è½åï¼Œå¯¼è‡´ vite é«˜ç‰ˆæœ¬ä¸èƒ½æ­£ç¡®çš„è¯†åˆ« cjs æ¨¡å—\n * æ‰€ä»¥è¿™é‡Œæ‰‹åŠ¨å®šä¹‰\n */\ndeclare module 'vite-plugin-eslint' {\n\timport { Plugin } from 'vite'\n\timport { ESLint } from 'eslint'\n\n\t/** Plugin options, extending from ESlint options */\n\tinterface Options extends ESLint.Options {\n\t\t/** Path to ESLint instance that will be used for linting */\n\t\teslintPath?: string\n\t\t/** Check all matching files on project startup */\n\t\tlintOnStart?: boolean\n\t\t/** A single file, or array of files, to include when linting */\n\t\tinclude?: string | string[]\n\t\t/** A single file, or array of files, to exclude when linting */\n\t\texclude?: string | string[]\n\t\t/** Custom error formatter or the name of a built-in formatter */\n\t\tformatter?: string | ESLint.Formatter['format']\n\t\t/** The waring found will be printed */\n\t\temitWarning?: boolean\n\t\t/** The errors found will be printed */\n\t\temitError?: boolean\n\t\t/** Will cause the module build to fail if there are any warnings, based on emitWarning */\n\t\tfailOnWarning?: boolean\n\t\t/** Will cause the module build to fail if there are any errors, based on emitError */\n\t\tfailOnError?: boolean\n\t}\n\n\tconst content: (rawOptions?: Options) => Plugin\n\texport default content\n}\n```\n\nä¿®æ”¹é…ç½® tsconfig.json\n\n```json\n{\n\t\"compilerOptions\": {\n\t\t\"target\": \"ES2020\",\n\t\t\"useDefineForClassFields\": true,\n\t\t\"module\": \"ESNext\",\n\t\t\"lib\": [\"ES2020\", \"DOM\", \"DOM.Iterable\"],\n\t\t\"skipLibCheck\": true,\n\n\t\t/* Bundler mode */\n\t\t\"moduleResolution\": \"bundler\",\n\t\t\"allowImportingTsExtensions\": true,\n\t\t\"resolveJsonModule\": true,\n\t\t\"isolatedModules\": true,\n\t\t\"noEmit\": true,\n\t\t\"jsx\": \"preserve\",\n\n\t\t/* Linting */\n\t\t\"strict\": true,\n\t\t\"noUnusedLocals\": true,\n\t\t\"noUnusedParameters\": true,\n\t\t\"noFallthroughCasesInSwitch\": true,\n\t\t\"types\": [\n\t\t\t// ç¼–è¯‘è¿‡ç¨‹ä¸­è¢«åŒ…å«è¿›æ¥çš„ç±»å‹å£°æ˜æ–‡ä»¶\n\t\t\t\"vite/client\"\n\t\t]\n\t}\n}\n```\n\n### stylint\n\n::: tip\nstylelint æ˜¯ä¸€ä¸ª CSS è¯­æ³•æ£€æŸ¥å·¥å…·ï¼Œå¯ä»¥æ£€æµ‹ CSS ä»£ç çš„é”™è¯¯å’Œé£æ ¼é—®é¢˜ã€‚\n:::\n\nå®‰è£…ï¼š `pnpm add -D stylelint stylelint-config-html stylelint-config-prettier stylelint-config-standard stylelint-config-recess-order stylelint-config-recommended-scss stylelint-config-recommended-vue`\n\n```shell\nstylelint    æ ¸å¿ƒåº“\nstylelint-config-html    è§£æ HTML æ–‡ä»¶ä¸­çš„æ ·å¼\nstylelint-config-prettier    ç»“åˆ Prettier ä½¿ç”¨\nstylelint-config-standard    StyleLint çš„æ ‡å‡†å¯å…±äº«é…ç½®\nstylelint-config-recess-order    æä¾›ä¼˜åŒ–æ ·å¼é¡ºåºçš„é…ç½®\nstylelint-config-recommended-scss    æ‰©å±• stylelint-config-recommended å…±äº«é…ç½®å¹¶ä¸º SCSS é…ç½®å…¶è§„åˆ™\nstylelint-config-recommended-vue    æ‰©å±• stylelint-config-recommended å…±äº«é…ç½®å¹¶ä¸º Vue é…ç½®å…¶è§„åˆ™\n```\n\næ ¹ç›®å½•åˆ›å»º.stylelintrc.js å¹¶é…ç½®ï¼š\n\n```js\nexport default {\n\t// ç»§æ‰¿æ¨èè§„èŒƒé…ç½®\n\textends: [\n\t\t\"stylelint-config-standard\",\n\t\t\"stylelint-config-recommended-scss\",\n\t\t\"stylelint-config-recommended-vue/scss\",\n\t\t\"stylelint-config-html/vue\",\n\t\t\"stylelint-config-recess-order\",\n\t],\n\t// æŒ‡å®šä¸åŒæ–‡ä»¶å¯¹åº”çš„è§£æå™¨\n\toverrides: [\n\t\t{\n\t\t\tfiles: [\"**/*.{vue,html}\"],\n\t\t\tcustomSyntax: \"postcss-html\",\n\t\t},\n\t\t{\n\t\t\tfiles: [\"**/*.{css,scss}\"],\n\t\t\tcustomSyntax: \"postcss-scss\",\n\t\t},\n\t],\n\t// è‡ªå®šä¹‰è§„åˆ™\n\trules: {\n\t\t// å…è®¸ global ã€export ã€v-deepç­‰ä¼ªç±»\n\t\t\"selector-pseudo-class-no-unknown\": [\n\t\t\ttrue,\n\t\t\t{\n\t\t\t\tignorePseudoClasses: [\"global\", \"export\", \"v-deep\", \"deep\"],\n\t\t\t},\n\t\t],\n\t},\n};\n```\n\næ ¹ç›®å½•åˆ›å»º `.stylelintignore` æ–‡ä»¶ï¼Œé…ç½®å¿½ç•¥æ–‡ä»¶å¦‚ä¸‹ï¼š\n\n```shell\ndist\nnode_modules\npublic\n.husky\n.vscode\n```\n\n## å‘½ä»¤é…ç½®\n\né…ç½®æ ¹ç›®å½•æ–‡ä»¶`package.json`çš„é…ç½®ï¼š\n\n```json\n  \"scripts\": {\n    \"dev\": \"vite\",\n    \"build\": \"vue-tsc && vite build\",\n    \"preview\": \"vite preview\",\n    \"lint:eslint\": \"eslint --fix\",\n\t\t\"lint:format\": \"prettier --write --log-level warn \\\"src/**/*.{js,ts,json,tsx,css,less,vue,html,md}\\\"\",\n\t\t\"lint:stylelint\": \"stylelint \\\"**/*.{css,scss,vue,html}\\\" --fix\"\n  },\n```\n\nä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–å‘½ä»¤\n\n```shell\npnpm lint:eslint\npnpm lint:format\npnpm lint:stylelint\n```\n\n## vscode ç¼–è¯‘å™¨ä¿å­˜è‡ªåŠ¨åŒ–é…ç½®\n\nä¿®æ”¹æ ¹ç›®å½•.vscode æ–‡ä»¶å¤¹ä¸‹çš„`settings.json`(æ²¡æœ‰çš„è¯æ–°å»ºä¸€ä¸ª)ï¼š\n\n```json\n{\n\t\"files.eol\": \"\\n\", // æ–‡ä»¶ç»“æŸç¬¦\n\t\"eslint.format.enable\": true, // å¼€å¯ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤\n\t\"editor.codeLens\": true, // æ˜¾ç¤ºè¡Œå·\n\t\"editor.tabSize\": 2, // é‡æ–°è®¾å®štabsize\n\t\"editor.detectIndentation\": false, // ç¦ç”¨è‡ªåŠ¨æ£€æµ‹ç¼©è¿›\n\t// å°†prettierè®¾ç½®ä¸ºé»˜è®¤æ ¼å¼åŒ–ç¨‹åº(åœ¨ç¼–è¾‘å™¨ä¸­æœ‰å¯èƒ½è¢«å…¶ä»–Formatterå ç”¨ï¼Œæ‰€ä»¥å°†prettierè®¾ç½®ä¸ºé»˜è®¤Formatter)\n\t\"editor.defaultFormatter\": \"esbenp.prettier-vscode\",\n\t// å…³é—­js/tsçš„é»˜è®¤format,ç»Ÿä¸€ç”¨eslintè¿›è¡Œæ ¼å¼åŒ–ï¼ˆtslintå·²ç»ä¸ç»´æŠ¤äº†ï¼Œæ‰€ä»¥è½¬eslintå§ï¼‰\n\t\"javascript.format.enable\": false,\n\t\"typescript.format.enable\": false,\n\t// ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ– (æ ¹æ®æ ¹ç›®å½•ä¸‹â€˜.prettierrcæ–‡ä»¶é…ç½®é¡¹â€™)\n\t\"editor.formatOnSave\": true,\n\t// Enable per-language\n\t\"[html]\": {\n\t\t\"editor.defaultFormatter\": \"vscode.html-language-features\",\n\t\t\"editor.formatOnSave\": true\n\t},\n\t\"[vue]\": {\n\t\t\"editor.formatOnSave\": true, // äº¤ç»™ eslint\n\t\t\"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n\t},\n\t\"[javascript]\": {\n\t\t\"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n\t},\n\t// ä»€ä¹ˆç±»å‹çš„æ–‡ä»¶éœ€è¦éµå®ˆstylelintè§„åˆ™\n\t\"stylelint.validate\": [\"css\", \"less\", \"postcss\", \"scss\", \"sass\", \"vue\"],\n\t// ä¸ºESLintå¯ç”¨â€œä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤â€ï¼Œå¹¶ä¸”ä»ç„¶å…·æœ‰æ ¼å¼å’Œå¿«é€Ÿä¿®å¤åŠŸèƒ½\n\t\"editor.codeActionsOnSave\": {\n\t\t\"source.fixAll\": \"always\",\n\t\t\"source.fixAll.stylelint\": \"always\"\n\t},\n\t\"[markdown]\": {\n\t\t\"editor.defaultFormatter\": null,\n\t\t\"editor.formatOnSave\": false\n\t},\n\t\"[json]\": {\n\t\t\"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n\t},\n\t\"[typescript]\": {\n\t\t\"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n\t},\n\t\"[scss]\": {\n\t\t\"editor.defaultFormatter\": \"stylelint.vscode-stylelint\"\n\t}\n}\n```\n\n## å‚è€ƒæ–‡çŒ®\n\n- [åŸæ–‡](https://mp.weixin.qq.com/s/AF2go62o8ueV2rGA1pF-_A)\n- [eslint](https://eslint.org/)\n- [vite](https://vitejs.dev/)\n- [stylelint](https://stylelint.io/)\n- [prettier](https://prettier.io/)\n- [shields](https://shields.io/badges)\n","source":"_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/é¡¹ç›®åˆ›å»º/vue.md","raw":"---\ntitle: Vueé¡¹ç›®ç®¡ç†\nabbrlink: '42138971'\ndate: 2024-07-20 11:20:38\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - Vue\n---\n\n<a style=\"display: flex; gap: 5px;\">\n<img src=\"https://img.shields.io/badge/vue-3.4.21-green\"/>\n<img src=\"https://img.shields.io/badge/node-21.1.0-yellow\"/>\n<img src=\"https://img.shields.io/badge/eslint-9.0.0-blue\"/>\n<img src=\"https://img.shields.io/badge/stylelint-16.3.1-red\"/>\n<img src=\"https://img.shields.io/badge/vite-5.2.0-orange\"/>\n</a>\n\n## åˆå§‹åŒ–é¡¹ç›®\n\n::: code-group\n\n```sh [npm]\nnpm create vite@latest\n```\n\n```sh [Yarn]\nyarn create vite\n```\n\n```sh [PNPM]\npnpm create vite\n```\n\n```sh [bun]\nbun create vite\n```\n\nä¸ç®¡ç”¨ä»€ä¹ˆæ–¹å¼éƒ½å¯ä»¥å®‰è£…, ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ä½¿ç”¨`bun`å®‰è£…éœ€è¦å…ˆçœ‹ä¸‹å®˜ç½‘ [Bun](https://bun.sh)\n\nä¸¾ä¸ªä¾‹å­:\n\n1. é¡¹ç›®åç§°ä¸ºä½ çš„é¡¹ç›®åå­—, å¦‚: `vue-project`\n2. é€‰æ‹©é¡¹ç›®ç±»å‹ä¸º`vue`\n3. é€‰æ‹©`TypeScript`è¿›è¡Œå¼€å‘, å…¶å®ƒçš„ä¸ç”¨é€‰æ‹©å³å¯;\n\nä¸ç”¨å»é»˜è®¤é€‰æ‹©`Eslint`, å› ä¸ºè¿™é‡Œä½¿ç”¨çš„æ˜¯é«˜ç‰ˆæœ¬çš„`Eslintï¼ˆ9.0.0ï¼‰`å’Œé»˜è®¤å®‰è£…çš„`Eslintï¼ˆ8.x.xï¼‰`çš„è¯­æ³•æœ‰å†²çªï¼›\n\n## ä»£ç è§„èŒƒ\n\n### EditorConfig\n\n::: tip\n`EditorConfig` çš„ä½œç”¨æ˜¯åœ¨å¤šä¸ªç¼–è¾‘å™¨å’Œ IDE ä¹‹é—´ç»´æŠ¤ä¸€è‡´çš„ä»£ç é£æ ¼ã€‚\n:::\n\nå¦‚æœä½¿ç”¨`Vscode`è¿›è¡Œå¼€å‘çš„è¯, é‚£å°±è¦å®‰è£…`EditorConfig for VS Code`æ’ä»¶, ç„¶ååœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º`.editorconfig`æ–‡ä»¶, å†…å®¹å¦‚ä¸‹:\n\n```shell\n# Editor configuration, see http://editorconfig.org\n# è¡¨ç¤ºæ˜¯æœ€é¡¶å±‚çš„ EditorConfig é…ç½®æ–‡ä»¶\nroot = true\n[*] # è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶é€‚ç”¨\ncharset = utf-8 # è®¾ç½®æ–‡ä»¶å­—ç¬¦é›†ä¸º utf-8\nindent_style = space # ç¼©è¿›é£æ ¼ï¼ˆtab | spaceï¼‰\nindent_size = 2 # ç¼©è¿›å¤§å°\nend_of_line = lf # æ§åˆ¶æ¢è¡Œç±»å‹(lf | cr | crlf)\ntrim_trailing_whitespace = true # å»é™¤è¡Œé¦–çš„ä»»æ„ç©ºç™½å­—ç¬¦\ninsert_final_newline = true # å§‹ç»ˆåœ¨æ–‡ä»¶æœ«å°¾æ’å…¥ä¸€ä¸ªæ–°è¡Œ\ntrim_trailing_whitespace = true # åˆ é™¤ä¸€è¡Œä¸­çš„å‰åç©ºæ ¼\n```\n\n### eslint\n\n::: tip\nESLint æ˜¯ä¸€ä¸ªç”¨äºæ£€æµ‹ JavaScript ä»£ç é—®é¢˜çš„å·¥å…·ï¼Œå¸®æˆ‘ä»¬å‘ç°å¹¶ä¿®å¤ JavaScript ä»£ç ä¸­çš„é—®é¢˜ã€‚\n:::\n\nå®‰è£…å‘½ä»¤ï¼š`pnpm create @eslint/config`\n\n```shell\nâˆš How would you like to use ESLint? Â· (To check syntax and find problems)\nâˆš What type of modules does your project use? Â· (JavaScript modules (import/export))\nâˆš Which framework does your project use? Â· (Vue.js)\nâˆš Does your project use TypeScript? Â· (Yes)\nâˆš Where does your code run? Â· (Browser)\nâˆš Would you like to install them now?  ï¼ˆYesï¼‰\nâˆš Which package manager do you want to use? ï¼ˆæ ¹æ®è‡ªå·±æƒ…å†µï¼Œæœ¬æ–‡ä½¿ç”¨pnpmï¼‰\n```\n\næ­¤æ—¶æ ¹ç›®å½•ä¼šè‡ªåŠ¨æˆ eslint.config.js æ–‡ä»¶, å†…å®¹å¦‚ä¸‹ï¼š\n\n```js\nimport globals from \"globals\";\nimport pluginJs from \"@eslint/js\";\nimport tseslint from \"typescript-eslint\";\nimport pluginVue from \"eslint-plugin-vue\";\n\nexport default [\n\t{ languageOptions: { globals: globals.browser } },\n\t// eslint é»˜è®¤æ¨èè§„åˆ™\n\tpluginJs.configs.recommended,\n\t// ts é»˜è®¤æ¨èè§„åˆ™\n\t...tseslint.configs.recommended,\n\t// vue3 åŸºç¡€æ¨èè§„åˆ™\n\t...pluginVue.configs[\"flat/essential\"],\n];\n```\n\næ³¨æ„ï¼šæ­¤æ—¶æˆ‘ä»¬å®‰è£…çš„æ˜¯ `Eslint` çš„ç‰ˆæœ¬ä¸ºï¼š9.0.0, è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸ç”¨é»˜è®¤è„šæ‰‹æ¶å®‰è£…çš„åŸå› ï¼š é»˜è®¤çš„`eslint`ç‰ˆæœ¬ä¸º`8.x.x`, æˆ‘ä»¬ç›´æ¥ä½¿ç”¨æ–°ç‰ˆæœ¬`9.0.0`ï¼Œä¸è¿‡ç›¸å¯¹äº`8.X.X`å†™æ³•ä¸Šæœ‰å¾ˆå¤§å˜åŠ¨ï¼Œå¯ä»¥å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://eslint.org/docs/latest/use/configure/configuration-files-new)\n\næ¥ç€é…ç½®`.eslintrc.js`æ–‡ä»¶ï¼š\n\n```js\nmodule.exports = {\n  import globals from \"globals\";\nimport pluginJs from \"@eslint/js\";\nimport tseslint from \"typescript-eslint\";\nimport pluginVue from \"eslint-plugin-vue\";\n\nexport default [\n\t{ languageOptions: { globals: globals.browser } },\n\t// eslint é»˜è®¤æ¨èè§„åˆ™\n\tpluginJs.configs.recommended,\n\t// ts é»˜è®¤æ¨èè§„åˆ™\n\t...tseslint.configs.recommended,\n\t// vue3 åŸºç¡€æ¨èè§„åˆ™\n\t...pluginVue.configs[\"flat/essential\"],\n  languageOptions: {\n\t\t\tglobals: {\n\t\t\t\t...globals.browser,\n\t\t\t\t...globals.es2020,\n\t\t\t\t...globals.node,\n\t\t\t},\n\t\t\tecmaVersion: 2020,\n      // è¿™é‡Œçš„parserVue ä¼šä½¿ç”¨æ’ä»¶\n\t\t\t// parser: parserVue,\n\t\t\tparserOptions: {\n\t\t\t\tparser: tseslint.parser,\n\t\t\t},\n\t\t},\n\t},\n];\n```\n\n### Prettier\n\n::: tip\nPrettier æ˜¯ä¸€ä¸ªä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œå¯ä»¥è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ï¼Œä½¿å…¶ç¬¦åˆç»Ÿä¸€çš„é£æ ¼ã€‚\n:::\n\nå®‰è£…å‘½ä»¤ï¼š`pnpm add -D eslint-plugin-prettier eslint-config-prettier`\n\nä¿®æ”¹`eslint.config.js`æ·»åŠ `prettier`é…ç½®\n\n```js\nimport globals from \"globals\";\nimport pluginJs from \"@eslint/js\";\nimport tseslint from \"typescript-eslint\";\nimport pluginVue from \"eslint-plugin-vue\";\nimport pluginPrettierRecommendedConfigs from \"eslint-plugin-prettier/recommended\";\nexport default [\n\t// eslint é»˜è®¤æ¨èè§„åˆ™\n\tpluginJs.configs.recommended,\n\t// ts é»˜è®¤æ¨èè§„åˆ™\n\t...tseslint.configs.recommended,\n\t// vue3 åŸºç¡€æ¨èè§„åˆ™\n\t...pluginVue.configs[\"flat/recommended\"],\n\t// prettier é»˜è®¤æ¨èè§„åˆ™\n\tpluginPrettierRecommendedConfigs,\n\t{\n\t\tlanguageOptions: {\n\t\t\tglobals: {\n\t\t\t\t...globals.browser,\n\t\t\t\t...globals.es2020,\n\t\t\t\t...globals.node,\n\t\t\t},\n\t\t\tecmaVersion: 2020,\n\t\t\tparser: parserVue,\n\t\t\tparserOptions: {\n\t\t\t\tparser: tseslint.parser,\n\t\t\t},\n\t\t},\n\t},\n];\n```\n\næ ¹ç›®å½•ä¸‹æ–°å»º `prettier.config.js` æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š\n\n```js\nexport default {\n\ttabWidth: 2, // ç¼©è¿›\n\tuseTabs: true, // ç¼©è¿›æ–¹å¼\n\tsemi: false, // è¯­å¥ç»“å°¾æ˜¯å¦åŠ åˆ†å·\n\tsingleQuote: true, // å•å¼•å·\n\tprintWidth: 120, // æ¢è¡Œé•¿åº¦\n\tarrowParens: \"always\", // ç®­å¤´å‡½æ•°å‚æ•°\n\tbracketSpacing: true, // å¯¹è±¡èŠ±æ‹¬å·å†…æ˜¯å¦åŠ ç©ºæ ¼\n\tendOfLine: \"auto\", // æ¢è¡Œç¬¦\n\tvueIndentScriptAndStyle: true, // vueæ–‡ä»¶å†…scriptå’Œstyleæ ‡ç­¾ç¼©è¿›\n};\n```\n\n### Eslint å¯èƒ½å‡ºç°çš„é—®é¢˜\n\nå½“æ‰“å¼€ components/HelloWorld.vue æ–‡ä»¶ï¼Œä¼šå‘ç°æ­¤è¡ŒæŠ¥é”™ï¼š\n\n```js\ndefineProps<{ msg: string }>() // Parsing error: Unexpected token )eslint\n```\n\nè§£å†³åŠæ³•ï¼š é…ç½® vue-eslint-parserï¼Œä¿®æ”¹ eslint.config.js\n\n```js\nimport globals from \"globals\";\nimport pluginJs from \"@eslint/js\";\nimport tseslint from \"typescript-eslint\";\nimport pluginVue from \"eslint-plugin-vue\";\nimport pluginPrettierRecommendedConfigs from \"eslint-plugin-prettier/recommended\";\nimport parserVue from \"vue-eslint-parser\";\n\nexport default [\n\t// eslint é»˜è®¤æ¨èè§„åˆ™\n\tpluginJs.configs.recommended,\n\t// ts é»˜è®¤æ¨èè§„åˆ™\n\t...tseslint.configs.recommended,\n\t// vue3 åŸºç¡€æ¨èè§„åˆ™\n\t...pluginVue.configs[\"flat/recommended\"],\n\t// prettier é»˜è®¤æ¨èè§„åˆ™\n\tpluginPrettierRecommendedConfigs,\n\t{\n\t\tlanguageOptions: {\n\t\t\tglobals: {\n\t\t\t\t...globals.browser,\n\t\t\t\t...globals.es2020,\n\t\t\t\t...globals.node,\n\t\t\t},\n\t\t\tecmaVersion: 2020,\n\t\t\tparser: parserVue,\n\t\t\tparserOptions: {\n\t\t\t\tparser: tseslint.parser,\n\t\t\t},\n\t\t},\n\t},\n];\n```\n\næ·»åŠ æ’ä»¶ `vite-plugin-eslintpnpm add -D vite-plugin-eslint`\n\n```js\nimport { defineConfig } from \"vite\";\nimport vue from \"@vitejs/plugin-vue\";\nimport eslintPlugin from \"vite-plugin-eslint\";\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n\tplugins: [vue(), eslintPlugin()],\n});\n```\n\nç”±äº vite-plugin-eslint åº“æœ‰ç‚¹è½åï¼Œå¯¼è‡´ vite é«˜ç‰ˆæœ¬ä¸èƒ½æ­£ç¡®çš„è¯†åˆ« cjs æ¨¡å—ï¼Œæ‰€ä»¥é…ç½® src\\vite-env.d.tsï¼š\n\n```js\n/// <reference types=\"vite/client\" />\n\n/**\n * ç”±äº vite-plugin-eslint åº“æœ‰ç‚¹è½åï¼Œå¯¼è‡´ vite é«˜ç‰ˆæœ¬ä¸èƒ½æ­£ç¡®çš„è¯†åˆ« cjs æ¨¡å—\n * æ‰€ä»¥è¿™é‡Œæ‰‹åŠ¨å®šä¹‰\n */\ndeclare module 'vite-plugin-eslint' {\n\timport { Plugin } from 'vite'\n\timport { ESLint } from 'eslint'\n\n\t/** Plugin options, extending from ESlint options */\n\tinterface Options extends ESLint.Options {\n\t\t/** Path to ESLint instance that will be used for linting */\n\t\teslintPath?: string\n\t\t/** Check all matching files on project startup */\n\t\tlintOnStart?: boolean\n\t\t/** A single file, or array of files, to include when linting */\n\t\tinclude?: string | string[]\n\t\t/** A single file, or array of files, to exclude when linting */\n\t\texclude?: string | string[]\n\t\t/** Custom error formatter or the name of a built-in formatter */\n\t\tformatter?: string | ESLint.Formatter['format']\n\t\t/** The waring found will be printed */\n\t\temitWarning?: boolean\n\t\t/** The errors found will be printed */\n\t\temitError?: boolean\n\t\t/** Will cause the module build to fail if there are any warnings, based on emitWarning */\n\t\tfailOnWarning?: boolean\n\t\t/** Will cause the module build to fail if there are any errors, based on emitError */\n\t\tfailOnError?: boolean\n\t}\n\n\tconst content: (rawOptions?: Options) => Plugin\n\texport default content\n}\n```\n\nä¿®æ”¹é…ç½® tsconfig.json\n\n```json\n{\n\t\"compilerOptions\": {\n\t\t\"target\": \"ES2020\",\n\t\t\"useDefineForClassFields\": true,\n\t\t\"module\": \"ESNext\",\n\t\t\"lib\": [\"ES2020\", \"DOM\", \"DOM.Iterable\"],\n\t\t\"skipLibCheck\": true,\n\n\t\t/* Bundler mode */\n\t\t\"moduleResolution\": \"bundler\",\n\t\t\"allowImportingTsExtensions\": true,\n\t\t\"resolveJsonModule\": true,\n\t\t\"isolatedModules\": true,\n\t\t\"noEmit\": true,\n\t\t\"jsx\": \"preserve\",\n\n\t\t/* Linting */\n\t\t\"strict\": true,\n\t\t\"noUnusedLocals\": true,\n\t\t\"noUnusedParameters\": true,\n\t\t\"noFallthroughCasesInSwitch\": true,\n\t\t\"types\": [\n\t\t\t// ç¼–è¯‘è¿‡ç¨‹ä¸­è¢«åŒ…å«è¿›æ¥çš„ç±»å‹å£°æ˜æ–‡ä»¶\n\t\t\t\"vite/client\"\n\t\t]\n\t}\n}\n```\n\n### stylint\n\n::: tip\nstylelint æ˜¯ä¸€ä¸ª CSS è¯­æ³•æ£€æŸ¥å·¥å…·ï¼Œå¯ä»¥æ£€æµ‹ CSS ä»£ç çš„é”™è¯¯å’Œé£æ ¼é—®é¢˜ã€‚\n:::\n\nå®‰è£…ï¼š `pnpm add -D stylelint stylelint-config-html stylelint-config-prettier stylelint-config-standard stylelint-config-recess-order stylelint-config-recommended-scss stylelint-config-recommended-vue`\n\n```shell\nstylelint    æ ¸å¿ƒåº“\nstylelint-config-html    è§£æ HTML æ–‡ä»¶ä¸­çš„æ ·å¼\nstylelint-config-prettier    ç»“åˆ Prettier ä½¿ç”¨\nstylelint-config-standard    StyleLint çš„æ ‡å‡†å¯å…±äº«é…ç½®\nstylelint-config-recess-order    æä¾›ä¼˜åŒ–æ ·å¼é¡ºåºçš„é…ç½®\nstylelint-config-recommended-scss    æ‰©å±• stylelint-config-recommended å…±äº«é…ç½®å¹¶ä¸º SCSS é…ç½®å…¶è§„åˆ™\nstylelint-config-recommended-vue    æ‰©å±• stylelint-config-recommended å…±äº«é…ç½®å¹¶ä¸º Vue é…ç½®å…¶è§„åˆ™\n```\n\næ ¹ç›®å½•åˆ›å»º.stylelintrc.js å¹¶é…ç½®ï¼š\n\n```js\nexport default {\n\t// ç»§æ‰¿æ¨èè§„èŒƒé…ç½®\n\textends: [\n\t\t\"stylelint-config-standard\",\n\t\t\"stylelint-config-recommended-scss\",\n\t\t\"stylelint-config-recommended-vue/scss\",\n\t\t\"stylelint-config-html/vue\",\n\t\t\"stylelint-config-recess-order\",\n\t],\n\t// æŒ‡å®šä¸åŒæ–‡ä»¶å¯¹åº”çš„è§£æå™¨\n\toverrides: [\n\t\t{\n\t\t\tfiles: [\"**/*.{vue,html}\"],\n\t\t\tcustomSyntax: \"postcss-html\",\n\t\t},\n\t\t{\n\t\t\tfiles: [\"**/*.{css,scss}\"],\n\t\t\tcustomSyntax: \"postcss-scss\",\n\t\t},\n\t],\n\t// è‡ªå®šä¹‰è§„åˆ™\n\trules: {\n\t\t// å…è®¸ global ã€export ã€v-deepç­‰ä¼ªç±»\n\t\t\"selector-pseudo-class-no-unknown\": [\n\t\t\ttrue,\n\t\t\t{\n\t\t\t\tignorePseudoClasses: [\"global\", \"export\", \"v-deep\", \"deep\"],\n\t\t\t},\n\t\t],\n\t},\n};\n```\n\næ ¹ç›®å½•åˆ›å»º `.stylelintignore` æ–‡ä»¶ï¼Œé…ç½®å¿½ç•¥æ–‡ä»¶å¦‚ä¸‹ï¼š\n\n```shell\ndist\nnode_modules\npublic\n.husky\n.vscode\n```\n\n## å‘½ä»¤é…ç½®\n\né…ç½®æ ¹ç›®å½•æ–‡ä»¶`package.json`çš„é…ç½®ï¼š\n\n```json\n  \"scripts\": {\n    \"dev\": \"vite\",\n    \"build\": \"vue-tsc && vite build\",\n    \"preview\": \"vite preview\",\n    \"lint:eslint\": \"eslint --fix\",\n\t\t\"lint:format\": \"prettier --write --log-level warn \\\"src/**/*.{js,ts,json,tsx,css,less,vue,html,md}\\\"\",\n\t\t\"lint:stylelint\": \"stylelint \\\"**/*.{css,scss,vue,html}\\\" --fix\"\n  },\n```\n\nä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–å‘½ä»¤\n\n```shell\npnpm lint:eslint\npnpm lint:format\npnpm lint:stylelint\n```\n\n## vscode ç¼–è¯‘å™¨ä¿å­˜è‡ªåŠ¨åŒ–é…ç½®\n\nä¿®æ”¹æ ¹ç›®å½•.vscode æ–‡ä»¶å¤¹ä¸‹çš„`settings.json`(æ²¡æœ‰çš„è¯æ–°å»ºä¸€ä¸ª)ï¼š\n\n```json\n{\n\t\"files.eol\": \"\\n\", // æ–‡ä»¶ç»“æŸç¬¦\n\t\"eslint.format.enable\": true, // å¼€å¯ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤\n\t\"editor.codeLens\": true, // æ˜¾ç¤ºè¡Œå·\n\t\"editor.tabSize\": 2, // é‡æ–°è®¾å®štabsize\n\t\"editor.detectIndentation\": false, // ç¦ç”¨è‡ªåŠ¨æ£€æµ‹ç¼©è¿›\n\t// å°†prettierè®¾ç½®ä¸ºé»˜è®¤æ ¼å¼åŒ–ç¨‹åº(åœ¨ç¼–è¾‘å™¨ä¸­æœ‰å¯èƒ½è¢«å…¶ä»–Formatterå ç”¨ï¼Œæ‰€ä»¥å°†prettierè®¾ç½®ä¸ºé»˜è®¤Formatter)\n\t\"editor.defaultFormatter\": \"esbenp.prettier-vscode\",\n\t// å…³é—­js/tsçš„é»˜è®¤format,ç»Ÿä¸€ç”¨eslintè¿›è¡Œæ ¼å¼åŒ–ï¼ˆtslintå·²ç»ä¸ç»´æŠ¤äº†ï¼Œæ‰€ä»¥è½¬eslintå§ï¼‰\n\t\"javascript.format.enable\": false,\n\t\"typescript.format.enable\": false,\n\t// ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ– (æ ¹æ®æ ¹ç›®å½•ä¸‹â€˜.prettierrcæ–‡ä»¶é…ç½®é¡¹â€™)\n\t\"editor.formatOnSave\": true,\n\t// Enable per-language\n\t\"[html]\": {\n\t\t\"editor.defaultFormatter\": \"vscode.html-language-features\",\n\t\t\"editor.formatOnSave\": true\n\t},\n\t\"[vue]\": {\n\t\t\"editor.formatOnSave\": true, // äº¤ç»™ eslint\n\t\t\"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n\t},\n\t\"[javascript]\": {\n\t\t\"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n\t},\n\t// ä»€ä¹ˆç±»å‹çš„æ–‡ä»¶éœ€è¦éµå®ˆstylelintè§„åˆ™\n\t\"stylelint.validate\": [\"css\", \"less\", \"postcss\", \"scss\", \"sass\", \"vue\"],\n\t// ä¸ºESLintå¯ç”¨â€œä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤â€ï¼Œå¹¶ä¸”ä»ç„¶å…·æœ‰æ ¼å¼å’Œå¿«é€Ÿä¿®å¤åŠŸèƒ½\n\t\"editor.codeActionsOnSave\": {\n\t\t\"source.fixAll\": \"always\",\n\t\t\"source.fixAll.stylelint\": \"always\"\n\t},\n\t\"[markdown]\": {\n\t\t\"editor.defaultFormatter\": null,\n\t\t\"editor.formatOnSave\": false\n\t},\n\t\"[json]\": {\n\t\t\"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n\t},\n\t\"[typescript]\": {\n\t\t\"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n\t},\n\t\"[scss]\": {\n\t\t\"editor.defaultFormatter\": \"stylelint.vscode-stylelint\"\n\t}\n}\n```\n\n## å‚è€ƒæ–‡çŒ®\n\n- [åŸæ–‡](https://mp.weixin.qq.com/s/AF2go62o8ueV2rGA1pF-_A)\n- [eslint](https://eslint.org/)\n- [vite](https://vitejs.dev/)\n- [stylelint](https://stylelint.io/)\n- [prettier](https://prettier.io/)\n- [shields](https://shields.io/badges)\n","slug":"æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/é¡¹ç›®åˆ›å»º/vue","published":1,"updated":"2025-03-12T09:30:14.600Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0jb007zfg9m1ces4h49","content":"<a style=\"display: flex; gap: 5px;\">\n<img src=\"https://img.shields.io/badge/vue-3.4.21-green\"/>\n<img src=\"https://img.shields.io/badge/node-21.1.0-yellow\"/>\n<img src=\"https://img.shields.io/badge/eslint-9.0.0-blue\"/>\n<img src=\"https://img.shields.io/badge/stylelint-16.3.1-red\"/>\n<img src=\"https://img.shields.io/badge/vite-5.2.0-orange\"/>\n</a>\n\n<h2 id=\"åˆå§‹åŒ–é¡¹ç›®\"><a href=\"#åˆå§‹åŒ–é¡¹ç›®\" class=\"headerlink\" title=\"åˆå§‹åŒ–é¡¹ç›®\"></a>åˆå§‹åŒ–é¡¹ç›®</h2><p>::: code-group</p>\n<figure class=\"highlight sh\"><figcaption><span>[npm]</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm create vite@latest</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight sh\"><figcaption><span>[Yarn]</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn create vite</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight sh\"><figcaption><span>[PNPM]</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm create vite</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight sh\"><figcaption><span>[bun]</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bun create vite</span><br></pre></td></tr></table></figure>\n\n<p>ä¸ç®¡ç”¨ä»€ä¹ˆæ–¹å¼éƒ½å¯ä»¥å®‰è£…, ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ä½¿ç”¨<code>bun</code>å®‰è£…éœ€è¦å…ˆçœ‹ä¸‹å®˜ç½‘ <a href=\"https://bun.sh/\">Bun</a></p>\n<p>ä¸¾ä¸ªä¾‹å­:</p>\n<ol>\n<li>é¡¹ç›®åç§°ä¸ºä½ çš„é¡¹ç›®åå­—, å¦‚: <code>vue-project</code></li>\n<li>é€‰æ‹©é¡¹ç›®ç±»å‹ä¸º<code>vue</code></li>\n<li>é€‰æ‹©<code>TypeScript</code>è¿›è¡Œå¼€å‘, å…¶å®ƒçš„ä¸ç”¨é€‰æ‹©å³å¯;</li>\n</ol>\n<p>ä¸ç”¨å»é»˜è®¤é€‰æ‹©<code>Eslint</code>, å› ä¸ºè¿™é‡Œä½¿ç”¨çš„æ˜¯é«˜ç‰ˆæœ¬çš„<code>Eslintï¼ˆ9.0.0ï¼‰</code>å’Œé»˜è®¤å®‰è£…çš„<code>Eslintï¼ˆ8.x.xï¼‰</code>çš„è¯­æ³•æœ‰å†²çªï¼›</p>\n<h2 id=\"ä»£ç è§„èŒƒ\"><a href=\"#ä»£ç è§„èŒƒ\" class=\"headerlink\" title=\"ä»£ç è§„èŒƒ\"></a>ä»£ç è§„èŒƒ</h2><h3 id=\"EditorConfig\"><a href=\"#EditorConfig\" class=\"headerlink\" title=\"EditorConfig\"></a>EditorConfig</h3><p>::: tip<br><code>EditorConfig</code> çš„ä½œç”¨æ˜¯åœ¨å¤šä¸ªç¼–è¾‘å™¨å’Œ IDE ä¹‹é—´ç»´æŠ¤ä¸€è‡´çš„ä»£ç é£æ ¼ã€‚<br>:::</p>\n<p>å¦‚æœä½¿ç”¨<code>Vscode</code>è¿›è¡Œå¼€å‘çš„è¯, é‚£å°±è¦å®‰è£…<code>EditorConfig for VS Code</code>æ’ä»¶, ç„¶ååœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º<code>.editorconfig</code>æ–‡ä»¶, å†…å®¹å¦‚ä¸‹:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Editor configuration, see http://editorconfig.org</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">è¡¨ç¤ºæ˜¯æœ€é¡¶å±‚çš„ EditorConfig é…ç½®æ–‡ä»¶</span></span><br><span class=\"line\">root = true</span><br><span class=\"line\">[*] # è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶é€‚ç”¨</span><br><span class=\"line\">charset = utf-8 # è®¾ç½®æ–‡ä»¶å­—ç¬¦é›†ä¸º utf-8</span><br><span class=\"line\">indent_style = space # ç¼©è¿›é£æ ¼ï¼ˆtab | spaceï¼‰</span><br><span class=\"line\">indent_size = 2 # ç¼©è¿›å¤§å°</span><br><span class=\"line\">end_of_line = lf # æ§åˆ¶æ¢è¡Œç±»å‹(lf | cr | crlf)</span><br><span class=\"line\">trim_trailing_whitespace = true # å»é™¤è¡Œé¦–çš„ä»»æ„ç©ºç™½å­—ç¬¦</span><br><span class=\"line\">insert_final_newline = true # å§‹ç»ˆåœ¨æ–‡ä»¶æœ«å°¾æ’å…¥ä¸€ä¸ªæ–°è¡Œ</span><br><span class=\"line\">trim_trailing_whitespace = true # åˆ é™¤ä¸€è¡Œä¸­çš„å‰åç©ºæ ¼</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"eslint\"><a href=\"#eslint\" class=\"headerlink\" title=\"eslint\"></a>eslint</h3><p>::: tip<br>ESLint æ˜¯ä¸€ä¸ªç”¨äºæ£€æµ‹ JavaScript ä»£ç é—®é¢˜çš„å·¥å…·ï¼Œå¸®æˆ‘ä»¬å‘ç°å¹¶ä¿®å¤ JavaScript ä»£ç ä¸­çš„é—®é¢˜ã€‚<br>:::</p>\n<p>å®‰è£…å‘½ä»¤ï¼š<code>pnpm create @eslint/config</code></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">âˆš How would you like to use ESLint? Â· (To check syntax and find problems)</span><br><span class=\"line\">âˆš What type of modules does your project use? Â· (JavaScript modules (import/export))</span><br><span class=\"line\">âˆš Which framework does your project use? Â· (Vue.js)</span><br><span class=\"line\">âˆš Does your project use TypeScript? Â· (Yes)</span><br><span class=\"line\">âˆš Where does your code run? Â· (Browser)</span><br><span class=\"line\">âˆš Would you like to install them now?  ï¼ˆYesï¼‰</span><br><span class=\"line\">âˆš Which package manager do you want to use? ï¼ˆæ ¹æ®è‡ªå·±æƒ…å†µï¼Œæœ¬æ–‡ä½¿ç”¨pnpmï¼‰</span><br></pre></td></tr></table></figure>\n\n<p>æ­¤æ—¶æ ¹ç›®å½•ä¼šè‡ªåŠ¨æˆ eslint.config.js æ–‡ä»¶, å†…å®¹å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> globals <span class=\"keyword\">from</span> <span class=\"string\">&quot;globals&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginJs <span class=\"keyword\">from</span> <span class=\"string\">&quot;@eslint/js&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> tseslint <span class=\"keyword\">from</span> <span class=\"string\">&quot;typescript-eslint&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginVue <span class=\"keyword\">from</span> <span class=\"string\">&quot;eslint-plugin-vue&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> [</span><br><span class=\"line\">\t&#123; <span class=\"attr\">languageOptions</span>: &#123; <span class=\"attr\">globals</span>: globals.<span class=\"property\">browser</span> &#125; &#125;,</span><br><span class=\"line\">\t<span class=\"comment\">// eslint é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\tpluginJs.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ts é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...tseslint.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// vue3 åŸºç¡€æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...pluginVue.<span class=\"property\">configs</span>[<span class=\"string\">&quot;flat/essential&quot;</span>],</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<p>æ³¨æ„ï¼šæ­¤æ—¶æˆ‘ä»¬å®‰è£…çš„æ˜¯ <code>Eslint</code> çš„ç‰ˆæœ¬ä¸ºï¼š9.0.0, è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸ç”¨é»˜è®¤è„šæ‰‹æ¶å®‰è£…çš„åŸå› ï¼š é»˜è®¤çš„<code>eslint</code>ç‰ˆæœ¬ä¸º<code>8.x.x</code>, æˆ‘ä»¬ç›´æ¥ä½¿ç”¨æ–°ç‰ˆæœ¬<code>9.0.0</code>ï¼Œä¸è¿‡ç›¸å¯¹äº<code>8.X.X</code>å†™æ³•ä¸Šæœ‰å¾ˆå¤§å˜åŠ¨ï¼Œå¯ä»¥å‚è€ƒ<a href=\"https://eslint.org/docs/latest/use/configure/configuration-files-new\">å®˜æ–¹æ–‡æ¡£</a></p>\n<p>æ¥ç€é…ç½®<code>.eslintrc.js</code>æ–‡ä»¶ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"keyword\">import</span> globals <span class=\"keyword\">from</span> <span class=\"string\">&quot;globals&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginJs <span class=\"keyword\">from</span> <span class=\"string\">&quot;@eslint/js&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> tseslint <span class=\"keyword\">from</span> <span class=\"string\">&quot;typescript-eslint&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginVue <span class=\"keyword\">from</span> <span class=\"string\">&quot;eslint-plugin-vue&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> [</span><br><span class=\"line\">\t&#123; <span class=\"attr\">languageOptions</span>: &#123; <span class=\"attr\">globals</span>: globals.<span class=\"property\">browser</span> &#125; &#125;,</span><br><span class=\"line\">\t<span class=\"comment\">// eslint é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\tpluginJs.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ts é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...tseslint.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// vue3 åŸºç¡€æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...pluginVue.<span class=\"property\">configs</span>[<span class=\"string\">&quot;flat/essential&quot;</span>],</span><br><span class=\"line\">  <span class=\"attr\">languageOptions</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">globals</span>: &#123;</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">browser</span>,</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">es2020</span>,</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">node</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">ecmaVersion</span>: <span class=\"number\">2020</span>,</span><br><span class=\"line\">      <span class=\"comment\">// è¿™é‡Œçš„parserVue ä¼šä½¿ç”¨æ’ä»¶</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// parser: parserVue,</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">parserOptions</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">parser</span>: tseslint.<span class=\"property\">parser</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Prettier\"><a href=\"#Prettier\" class=\"headerlink\" title=\"Prettier\"></a>Prettier</h3><p>::: tip<br>Prettier æ˜¯ä¸€ä¸ªä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œå¯ä»¥è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ï¼Œä½¿å…¶ç¬¦åˆç»Ÿä¸€çš„é£æ ¼ã€‚<br>:::</p>\n<p>å®‰è£…å‘½ä»¤ï¼š<code>pnpm add -D eslint-plugin-prettier eslint-config-prettier</code></p>\n<p>ä¿®æ”¹<code>eslint.config.js</code>æ·»åŠ <code>prettier</code>é…ç½®</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> globals <span class=\"keyword\">from</span> <span class=\"string\">&quot;globals&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginJs <span class=\"keyword\">from</span> <span class=\"string\">&quot;@eslint/js&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> tseslint <span class=\"keyword\">from</span> <span class=\"string\">&quot;typescript-eslint&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginVue <span class=\"keyword\">from</span> <span class=\"string\">&quot;eslint-plugin-vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginPrettierRecommendedConfigs <span class=\"keyword\">from</span> <span class=\"string\">&quot;eslint-plugin-prettier/recommended&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> [</span><br><span class=\"line\">\t<span class=\"comment\">// eslint é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\tpluginJs.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ts é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...tseslint.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// vue3 åŸºç¡€æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...pluginVue.<span class=\"property\">configs</span>[<span class=\"string\">&quot;flat/recommended&quot;</span>],</span><br><span class=\"line\">\t<span class=\"comment\">// prettier é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\tpluginPrettierRecommendedConfigs,</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">languageOptions</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">globals</span>: &#123;</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">browser</span>,</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">es2020</span>,</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">node</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">ecmaVersion</span>: <span class=\"number\">2020</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">parser</span>: parserVue,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">parserOptions</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">parser</span>: tseslint.<span class=\"property\">parser</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<p>æ ¹ç›®å½•ä¸‹æ–°å»º <code>prettier.config.js</code> æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">tabWidth</span>: <span class=\"number\">2</span>, <span class=\"comment\">// ç¼©è¿›</span></span><br><span class=\"line\">\t<span class=\"attr\">useTabs</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// ç¼©è¿›æ–¹å¼</span></span><br><span class=\"line\">\t<span class=\"attr\">semi</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// è¯­å¥ç»“å°¾æ˜¯å¦åŠ åˆ†å·</span></span><br><span class=\"line\">\t<span class=\"attr\">singleQuote</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// å•å¼•å·</span></span><br><span class=\"line\">\t<span class=\"attr\">printWidth</span>: <span class=\"number\">120</span>, <span class=\"comment\">// æ¢è¡Œé•¿åº¦</span></span><br><span class=\"line\">\t<span class=\"attr\">arrowParens</span>: <span class=\"string\">&quot;always&quot;</span>, <span class=\"comment\">// ç®­å¤´å‡½æ•°å‚æ•°</span></span><br><span class=\"line\">\t<span class=\"attr\">bracketSpacing</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// å¯¹è±¡èŠ±æ‹¬å·å†…æ˜¯å¦åŠ ç©ºæ ¼</span></span><br><span class=\"line\">\t<span class=\"attr\">endOfLine</span>: <span class=\"string\">&quot;auto&quot;</span>, <span class=\"comment\">// æ¢è¡Œç¬¦</span></span><br><span class=\"line\">\t<span class=\"attr\">vueIndentScriptAndStyle</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// vueæ–‡ä»¶å†…scriptå’Œstyleæ ‡ç­¾ç¼©è¿›</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Eslint-å¯èƒ½å‡ºç°çš„é—®é¢˜\"><a href=\"#Eslint-å¯èƒ½å‡ºç°çš„é—®é¢˜\" class=\"headerlink\" title=\"Eslint å¯èƒ½å‡ºç°çš„é—®é¢˜\"></a>Eslint å¯èƒ½å‡ºç°çš„é—®é¢˜</h3><p>å½“æ‰“å¼€ components&#x2F;HelloWorld.vue æ–‡ä»¶ï¼Œä¼šå‘ç°æ­¤è¡ŒæŠ¥é”™ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">defineProps&lt;&#123; <span class=\"attr\">msg</span>: string &#125;&gt;() <span class=\"comment\">// Parsing error: Unexpected token )eslint</span></span><br></pre></td></tr></table></figure>\n\n<p>è§£å†³åŠæ³•ï¼š é…ç½® vue-eslint-parserï¼Œä¿®æ”¹ eslint.config.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> globals <span class=\"keyword\">from</span> <span class=\"string\">&quot;globals&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginJs <span class=\"keyword\">from</span> <span class=\"string\">&quot;@eslint/js&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> tseslint <span class=\"keyword\">from</span> <span class=\"string\">&quot;typescript-eslint&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginVue <span class=\"keyword\">from</span> <span class=\"string\">&quot;eslint-plugin-vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginPrettierRecommendedConfigs <span class=\"keyword\">from</span> <span class=\"string\">&quot;eslint-plugin-prettier/recommended&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> parserVue <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue-eslint-parser&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> [</span><br><span class=\"line\">\t<span class=\"comment\">// eslint é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\tpluginJs.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ts é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...tseslint.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// vue3 åŸºç¡€æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...pluginVue.<span class=\"property\">configs</span>[<span class=\"string\">&quot;flat/recommended&quot;</span>],</span><br><span class=\"line\">\t<span class=\"comment\">// prettier é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\tpluginPrettierRecommendedConfigs,</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">languageOptions</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">globals</span>: &#123;</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">browser</span>,</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">es2020</span>,</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">node</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">ecmaVersion</span>: <span class=\"number\">2020</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">parser</span>: parserVue,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">parserOptions</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">parser</span>: tseslint.<span class=\"property\">parser</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<p>æ·»åŠ æ’ä»¶ <code>vite-plugin-eslintpnpm add -D vite-plugin-eslint</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineConfig &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vite&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> vue <span class=\"keyword\">from</span> <span class=\"string\">&quot;@vitejs/plugin-vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> eslintPlugin <span class=\"keyword\">from</span> <span class=\"string\">&quot;vite-plugin-eslint&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// https://vitejs.dev/config/</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">plugins</span>: [<span class=\"title function_\">vue</span>(), <span class=\"title function_\">eslintPlugin</span>()],</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>ç”±äº vite-plugin-eslint åº“æœ‰ç‚¹è½åï¼Œå¯¼è‡´ vite é«˜ç‰ˆæœ¬ä¸èƒ½æ­£ç¡®çš„è¯†åˆ« cjs æ¨¡å—ï¼Œæ‰€ä»¥é…ç½® src\\vite-env.d.tsï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/// &lt;reference types=&quot;vite/client&quot; /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * ç”±äº vite-plugin-eslint åº“æœ‰ç‚¹è½åï¼Œå¯¼è‡´ vite é«˜ç‰ˆæœ¬ä¸èƒ½æ­£ç¡®çš„è¯†åˆ« cjs æ¨¡å—</span></span><br><span class=\"line\"><span class=\"comment\"> * æ‰€ä»¥è¿™é‡Œæ‰‹åŠ¨å®šä¹‰</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\">declare <span class=\"variable language_\">module</span> <span class=\"string\">&#x27;vite-plugin-eslint&#x27;</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Plugin</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vite&#x27;</span></span><br><span class=\"line\">\t<span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ESLint</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;eslint&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/** Plugin options, extending from ESlint options */</span></span><br><span class=\"line\">\tinterface <span class=\"title class_\">Options</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">ESLint</span>.<span class=\"property\">Options</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">/** Path to ESLint instance that will be used for linting */</span></span><br><span class=\"line\">\t\teslintPath?: string</span><br><span class=\"line\">\t\t<span class=\"comment\">/** Check all matching files on project startup */</span></span><br><span class=\"line\">\t\tlintOnStart?: boolean</span><br><span class=\"line\">\t\t<span class=\"comment\">/** A single file, or array of files, to include when linting */</span></span><br><span class=\"line\">\t\tinclude?: string | string[]</span><br><span class=\"line\">\t\t<span class=\"comment\">/** A single file, or array of files, to exclude when linting */</span></span><br><span class=\"line\">\t\texclude?: string | string[]</span><br><span class=\"line\">\t\t<span class=\"comment\">/** Custom error formatter or the name of a built-in formatter */</span></span><br><span class=\"line\">\t\tformatter?: string | <span class=\"title class_\">ESLint</span>.<span class=\"property\">Formatter</span>[<span class=\"string\">&#x27;format&#x27;</span>]</span><br><span class=\"line\">\t\t<span class=\"comment\">/** The waring found will be printed */</span></span><br><span class=\"line\">\t\temitWarning?: boolean</span><br><span class=\"line\">\t\t<span class=\"comment\">/** The errors found will be printed */</span></span><br><span class=\"line\">\t\temitError?: boolean</span><br><span class=\"line\">\t\t<span class=\"comment\">/** Will cause the module build to fail if there are any warnings, based on emitWarning */</span></span><br><span class=\"line\">\t\tfailOnWarning?: boolean</span><br><span class=\"line\">\t\t<span class=\"comment\">/** Will cause the module build to fail if there are any errors, based on emitError */</span></span><br><span class=\"line\">\t\tfailOnError?: boolean</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> <span class=\"attr\">content</span>: <span class=\"function\">(<span class=\"params\">rawOptions?: Options</span>) =&gt;</span> <span class=\"title class_\">Plugin</span></span><br><span class=\"line\">\t<span class=\"keyword\">export</span> <span class=\"keyword\">default</span> content</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¿®æ”¹é…ç½® tsconfig.json</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;compilerOptions&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;target&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ES2020&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;useDefineForClassFields&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;module&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ESNext&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;lib&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"string\">&quot;ES2020&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;DOM&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;DOM.Iterable&quot;</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;skipLibCheck&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">/* Bundler mode */</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;moduleResolution&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;bundler&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;allowImportingTsExtensions&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;resolveJsonModule&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;isolatedModules&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;noEmit&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;jsx&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;preserve&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">/* Linting */</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;strict&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;noUnusedLocals&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;noUnusedParameters&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;noFallthroughCasesInSwitch&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;types&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// ç¼–è¯‘è¿‡ç¨‹ä¸­è¢«åŒ…å«è¿›æ¥çš„ç±»å‹å£°æ˜æ–‡ä»¶</span></span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;vite/client&quot;</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">]</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"stylint\"><a href=\"#stylint\" class=\"headerlink\" title=\"stylint\"></a>stylint</h3><p>::: tip<br>stylelint æ˜¯ä¸€ä¸ª CSS è¯­æ³•æ£€æŸ¥å·¥å…·ï¼Œå¯ä»¥æ£€æµ‹ CSS ä»£ç çš„é”™è¯¯å’Œé£æ ¼é—®é¢˜ã€‚<br>:::</p>\n<p>å®‰è£…ï¼š <code>pnpm add -D stylelint stylelint-config-html stylelint-config-prettier stylelint-config-standard stylelint-config-recess-order stylelint-config-recommended-scss stylelint-config-recommended-vue</code></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stylelint    æ ¸å¿ƒåº“</span><br><span class=\"line\">stylelint-config-html    è§£æ HTML æ–‡ä»¶ä¸­çš„æ ·å¼</span><br><span class=\"line\">stylelint-config-prettier    ç»“åˆ Prettier ä½¿ç”¨</span><br><span class=\"line\">stylelint-config-standard    StyleLint çš„æ ‡å‡†å¯å…±äº«é…ç½®</span><br><span class=\"line\">stylelint-config-recess-order    æä¾›ä¼˜åŒ–æ ·å¼é¡ºåºçš„é…ç½®</span><br><span class=\"line\">stylelint-config-recommended-scss    æ‰©å±• stylelint-config-recommended å…±äº«é…ç½®å¹¶ä¸º SCSS é…ç½®å…¶è§„åˆ™</span><br><span class=\"line\">stylelint-config-recommended-vue    æ‰©å±• stylelint-config-recommended å…±äº«é…ç½®å¹¶ä¸º Vue é…ç½®å…¶è§„åˆ™</span><br></pre></td></tr></table></figure>\n\n<p>æ ¹ç›®å½•åˆ›å»º.stylelintrc.js å¹¶é…ç½®ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// ç»§æ‰¿æ¨èè§„èŒƒé…ç½®</span></span><br><span class=\"line\">\t<span class=\"attr\">extends</span>: [</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-standard&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recommended-scss&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recommended-vue/scss&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-html/vue&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recess-order&quot;</span>,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"comment\">// æŒ‡å®šä¸åŒæ–‡ä»¶å¯¹åº”çš„è§£æå™¨</span></span><br><span class=\"line\">\t<span class=\"attr\">overrides</span>: [</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">files</span>: [<span class=\"string\">&quot;**/*.&#123;vue,html&#125;&quot;</span>],</span><br><span class=\"line\">\t\t\t<span class=\"attr\">customSyntax</span>: <span class=\"string\">&quot;postcss-html&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">files</span>: [<span class=\"string\">&quot;**/*.&#123;css,scss&#125;&quot;</span>],</span><br><span class=\"line\">\t\t\t<span class=\"attr\">customSyntax</span>: <span class=\"string\">&quot;postcss-scss&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"comment\">// è‡ªå®šä¹‰è§„åˆ™</span></span><br><span class=\"line\">\t<span class=\"attr\">rules</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å…è®¸ global ã€export ã€v-deepç­‰ä¼ªç±»</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;selector-pseudo-class-no-unknown&quot;</span>: [</span><br><span class=\"line\">\t\t\t<span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">ignorePseudoClasses</span>: [<span class=\"string\">&quot;global&quot;</span>, <span class=\"string\">&quot;export&quot;</span>, <span class=\"string\">&quot;v-deep&quot;</span>, <span class=\"string\">&quot;deep&quot;</span>],</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t],</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>æ ¹ç›®å½•åˆ›å»º <code>.stylelintignore</code> æ–‡ä»¶ï¼Œé…ç½®å¿½ç•¥æ–‡ä»¶å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dist</span><br><span class=\"line\">node_modules</span><br><span class=\"line\">public</span><br><span class=\"line\">.husky</span><br><span class=\"line\">.vscode</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å‘½ä»¤é…ç½®\"><a href=\"#å‘½ä»¤é…ç½®\" class=\"headerlink\" title=\"å‘½ä»¤é…ç½®\"></a>å‘½ä»¤é…ç½®</h2><p>é…ç½®æ ¹ç›®å½•æ–‡ä»¶<code>package.json</code>çš„é…ç½®ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;dev&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vite&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;build&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vue-tsc &amp;&amp; vite build&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;preview&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vite preview&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;lint:eslint&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;eslint --fix&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;lint:format&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;prettier --write --log-level warn \\&quot;src/**/*.&#123;js,ts,json,tsx,css,less,vue,html,md&#125;\\&quot;&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;lint:stylelint&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;stylelint \\&quot;**/*.&#123;css,scss,vue,html&#125;\\&quot; --fix&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br></pre></td></tr></table></figure>\n\n<p>ä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–å‘½ä»¤</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm lint:eslint</span><br><span class=\"line\">pnpm lint:format</span><br><span class=\"line\">pnpm lint:stylelint</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"vscode-ç¼–è¯‘å™¨ä¿å­˜è‡ªåŠ¨åŒ–é…ç½®\"><a href=\"#vscode-ç¼–è¯‘å™¨ä¿å­˜è‡ªåŠ¨åŒ–é…ç½®\" class=\"headerlink\" title=\"vscode ç¼–è¯‘å™¨ä¿å­˜è‡ªåŠ¨åŒ–é…ç½®\"></a>vscode ç¼–è¯‘å™¨ä¿å­˜è‡ªåŠ¨åŒ–é…ç½®</h2><p>ä¿®æ”¹æ ¹ç›®å½•.vscode æ–‡ä»¶å¤¹ä¸‹çš„<code>settings.json</code>(æ²¡æœ‰çš„è¯æ–°å»ºä¸€ä¸ª)ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;files.eol&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;\\n&quot;</span><span class=\"punctuation\">,</span> <span class=\"comment\">// æ–‡ä»¶ç»“æŸç¬¦</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;eslint.format.enable&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span> <span class=\"comment\">// å¼€å¯ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;editor.codeLens&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span> <span class=\"comment\">// æ˜¾ç¤ºè¡Œå·</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;editor.tabSize&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">2</span><span class=\"punctuation\">,</span> <span class=\"comment\">// é‡æ–°è®¾å®štabsize</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;editor.detectIndentation&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">false</span></span><span class=\"punctuation\">,</span> <span class=\"comment\">// ç¦ç”¨è‡ªåŠ¨æ£€æµ‹ç¼©è¿›</span></span><br><span class=\"line\">\t<span class=\"comment\">// å°†prettierè®¾ç½®ä¸ºé»˜è®¤æ ¼å¼åŒ–ç¨‹åº(åœ¨ç¼–è¾‘å™¨ä¸­æœ‰å¯èƒ½è¢«å…¶ä»–Formatterå ç”¨ï¼Œæ‰€ä»¥å°†prettierè®¾ç½®ä¸ºé»˜è®¤Formatter)</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;editor.defaultFormatter&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;esbenp.prettier-vscode&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"comment\">// å…³é—­js/tsçš„é»˜è®¤format,ç»Ÿä¸€ç”¨eslintè¿›è¡Œæ ¼å¼åŒ–ï¼ˆtslintå·²ç»ä¸ç»´æŠ¤äº†ï¼Œæ‰€ä»¥è½¬eslintå§ï¼‰</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;javascript.format.enable&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">false</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;typescript.format.enable&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">false</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ– (æ ¹æ®æ ¹ç›®å½•ä¸‹â€˜.prettierrcæ–‡ä»¶é…ç½®é¡¹â€™)</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;editor.formatOnSave&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"comment\">// Enable per-language</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;[html]&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.defaultFormatter&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vscode.html-language-features&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.formatOnSave&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;[vue]&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.formatOnSave&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span> <span class=\"comment\">// äº¤ç»™ eslint</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.defaultFormatter&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;esbenp.prettier-vscode&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;[javascript]&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.defaultFormatter&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;esbenp.prettier-vscode&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä»€ä¹ˆç±»å‹çš„æ–‡ä»¶éœ€è¦éµå®ˆstylelintè§„åˆ™</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;stylelint.validate&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"string\">&quot;css&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;less&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;postcss&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;scss&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;sass&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;vue&quot;</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä¸ºESLintå¯ç”¨â€œä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤â€ï¼Œå¹¶ä¸”ä»ç„¶å…·æœ‰æ ¼å¼å’Œå¿«é€Ÿä¿®å¤åŠŸèƒ½</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;editor.codeActionsOnSave&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;source.fixAll&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;always&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;source.fixAll.stylelint&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;always&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;[markdown]&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.defaultFormatter&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">null</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.formatOnSave&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">false</span></span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;[json]&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.defaultFormatter&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;esbenp.prettier-vscode&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;[typescript]&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.defaultFormatter&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;esbenp.prettier-vscode&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;[scss]&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.defaultFormatter&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;stylelint.vscode-stylelint&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å‚è€ƒæ–‡çŒ®\"><a href=\"#å‚è€ƒæ–‡çŒ®\" class=\"headerlink\" title=\"å‚è€ƒæ–‡çŒ®\"></a>å‚è€ƒæ–‡çŒ®</h2><ul>\n<li><a href=\"https://mp.weixin.qq.com/s/AF2go62o8ueV2rGA1pF-_A\">åŸæ–‡</a></li>\n<li><a href=\"https://eslint.org/\">eslint</a></li>\n<li><a href=\"https://vitejs.dev/\">vite</a></li>\n<li><a href=\"https://stylelint.io/\">stylelint</a></li>\n<li><a href=\"https://prettier.io/\">prettier</a></li>\n<li><a href=\"https://shields.io/badges\">shields</a></li>\n</ul>\n","excerpt":"","more":"<a style=\"display: flex; gap: 5px;\">\n<img src=\"https://img.shields.io/badge/vue-3.4.21-green\"/>\n<img src=\"https://img.shields.io/badge/node-21.1.0-yellow\"/>\n<img src=\"https://img.shields.io/badge/eslint-9.0.0-blue\"/>\n<img src=\"https://img.shields.io/badge/stylelint-16.3.1-red\"/>\n<img src=\"https://img.shields.io/badge/vite-5.2.0-orange\"/>\n</a>\n\n<h2 id=\"åˆå§‹åŒ–é¡¹ç›®\"><a href=\"#åˆå§‹åŒ–é¡¹ç›®\" class=\"headerlink\" title=\"åˆå§‹åŒ–é¡¹ç›®\"></a>åˆå§‹åŒ–é¡¹ç›®</h2><p>::: code-group</p>\n<figure class=\"highlight sh\"><figcaption><span>[npm]</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm create vite@latest</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight sh\"><figcaption><span>[Yarn]</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn create vite</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight sh\"><figcaption><span>[PNPM]</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm create vite</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight sh\"><figcaption><span>[bun]</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bun create vite</span><br></pre></td></tr></table></figure>\n\n<p>ä¸ç®¡ç”¨ä»€ä¹ˆæ–¹å¼éƒ½å¯ä»¥å®‰è£…, ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ä½¿ç”¨<code>bun</code>å®‰è£…éœ€è¦å…ˆçœ‹ä¸‹å®˜ç½‘ <a href=\"https://bun.sh/\">Bun</a></p>\n<p>ä¸¾ä¸ªä¾‹å­:</p>\n<ol>\n<li>é¡¹ç›®åç§°ä¸ºä½ çš„é¡¹ç›®åå­—, å¦‚: <code>vue-project</code></li>\n<li>é€‰æ‹©é¡¹ç›®ç±»å‹ä¸º<code>vue</code></li>\n<li>é€‰æ‹©<code>TypeScript</code>è¿›è¡Œå¼€å‘, å…¶å®ƒçš„ä¸ç”¨é€‰æ‹©å³å¯;</li>\n</ol>\n<p>ä¸ç”¨å»é»˜è®¤é€‰æ‹©<code>Eslint</code>, å› ä¸ºè¿™é‡Œä½¿ç”¨çš„æ˜¯é«˜ç‰ˆæœ¬çš„<code>Eslintï¼ˆ9.0.0ï¼‰</code>å’Œé»˜è®¤å®‰è£…çš„<code>Eslintï¼ˆ8.x.xï¼‰</code>çš„è¯­æ³•æœ‰å†²çªï¼›</p>\n<h2 id=\"ä»£ç è§„èŒƒ\"><a href=\"#ä»£ç è§„èŒƒ\" class=\"headerlink\" title=\"ä»£ç è§„èŒƒ\"></a>ä»£ç è§„èŒƒ</h2><h3 id=\"EditorConfig\"><a href=\"#EditorConfig\" class=\"headerlink\" title=\"EditorConfig\"></a>EditorConfig</h3><p>::: tip<br><code>EditorConfig</code> çš„ä½œç”¨æ˜¯åœ¨å¤šä¸ªç¼–è¾‘å™¨å’Œ IDE ä¹‹é—´ç»´æŠ¤ä¸€è‡´çš„ä»£ç é£æ ¼ã€‚<br>:::</p>\n<p>å¦‚æœä½¿ç”¨<code>Vscode</code>è¿›è¡Œå¼€å‘çš„è¯, é‚£å°±è¦å®‰è£…<code>EditorConfig for VS Code</code>æ’ä»¶, ç„¶ååœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º<code>.editorconfig</code>æ–‡ä»¶, å†…å®¹å¦‚ä¸‹:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Editor configuration, see http://editorconfig.org</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">è¡¨ç¤ºæ˜¯æœ€é¡¶å±‚çš„ EditorConfig é…ç½®æ–‡ä»¶</span></span><br><span class=\"line\">root = true</span><br><span class=\"line\">[*] # è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶é€‚ç”¨</span><br><span class=\"line\">charset = utf-8 # è®¾ç½®æ–‡ä»¶å­—ç¬¦é›†ä¸º utf-8</span><br><span class=\"line\">indent_style = space # ç¼©è¿›é£æ ¼ï¼ˆtab | spaceï¼‰</span><br><span class=\"line\">indent_size = 2 # ç¼©è¿›å¤§å°</span><br><span class=\"line\">end_of_line = lf # æ§åˆ¶æ¢è¡Œç±»å‹(lf | cr | crlf)</span><br><span class=\"line\">trim_trailing_whitespace = true # å»é™¤è¡Œé¦–çš„ä»»æ„ç©ºç™½å­—ç¬¦</span><br><span class=\"line\">insert_final_newline = true # å§‹ç»ˆåœ¨æ–‡ä»¶æœ«å°¾æ’å…¥ä¸€ä¸ªæ–°è¡Œ</span><br><span class=\"line\">trim_trailing_whitespace = true # åˆ é™¤ä¸€è¡Œä¸­çš„å‰åç©ºæ ¼</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"eslint\"><a href=\"#eslint\" class=\"headerlink\" title=\"eslint\"></a>eslint</h3><p>::: tip<br>ESLint æ˜¯ä¸€ä¸ªç”¨äºæ£€æµ‹ JavaScript ä»£ç é—®é¢˜çš„å·¥å…·ï¼Œå¸®æˆ‘ä»¬å‘ç°å¹¶ä¿®å¤ JavaScript ä»£ç ä¸­çš„é—®é¢˜ã€‚<br>:::</p>\n<p>å®‰è£…å‘½ä»¤ï¼š<code>pnpm create @eslint/config</code></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">âˆš How would you like to use ESLint? Â· (To check syntax and find problems)</span><br><span class=\"line\">âˆš What type of modules does your project use? Â· (JavaScript modules (import/export))</span><br><span class=\"line\">âˆš Which framework does your project use? Â· (Vue.js)</span><br><span class=\"line\">âˆš Does your project use TypeScript? Â· (Yes)</span><br><span class=\"line\">âˆš Where does your code run? Â· (Browser)</span><br><span class=\"line\">âˆš Would you like to install them now?  ï¼ˆYesï¼‰</span><br><span class=\"line\">âˆš Which package manager do you want to use? ï¼ˆæ ¹æ®è‡ªå·±æƒ…å†µï¼Œæœ¬æ–‡ä½¿ç”¨pnpmï¼‰</span><br></pre></td></tr></table></figure>\n\n<p>æ­¤æ—¶æ ¹ç›®å½•ä¼šè‡ªåŠ¨æˆ eslint.config.js æ–‡ä»¶, å†…å®¹å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> globals <span class=\"keyword\">from</span> <span class=\"string\">&quot;globals&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginJs <span class=\"keyword\">from</span> <span class=\"string\">&quot;@eslint/js&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> tseslint <span class=\"keyword\">from</span> <span class=\"string\">&quot;typescript-eslint&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginVue <span class=\"keyword\">from</span> <span class=\"string\">&quot;eslint-plugin-vue&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> [</span><br><span class=\"line\">\t&#123; <span class=\"attr\">languageOptions</span>: &#123; <span class=\"attr\">globals</span>: globals.<span class=\"property\">browser</span> &#125; &#125;,</span><br><span class=\"line\">\t<span class=\"comment\">// eslint é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\tpluginJs.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ts é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...tseslint.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// vue3 åŸºç¡€æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...pluginVue.<span class=\"property\">configs</span>[<span class=\"string\">&quot;flat/essential&quot;</span>],</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<p>æ³¨æ„ï¼šæ­¤æ—¶æˆ‘ä»¬å®‰è£…çš„æ˜¯ <code>Eslint</code> çš„ç‰ˆæœ¬ä¸ºï¼š9.0.0, è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸ç”¨é»˜è®¤è„šæ‰‹æ¶å®‰è£…çš„åŸå› ï¼š é»˜è®¤çš„<code>eslint</code>ç‰ˆæœ¬ä¸º<code>8.x.x</code>, æˆ‘ä»¬ç›´æ¥ä½¿ç”¨æ–°ç‰ˆæœ¬<code>9.0.0</code>ï¼Œä¸è¿‡ç›¸å¯¹äº<code>8.X.X</code>å†™æ³•ä¸Šæœ‰å¾ˆå¤§å˜åŠ¨ï¼Œå¯ä»¥å‚è€ƒ<a href=\"https://eslint.org/docs/latest/use/configure/configuration-files-new\">å®˜æ–¹æ–‡æ¡£</a></p>\n<p>æ¥ç€é…ç½®<code>.eslintrc.js</code>æ–‡ä»¶ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"keyword\">import</span> globals <span class=\"keyword\">from</span> <span class=\"string\">&quot;globals&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginJs <span class=\"keyword\">from</span> <span class=\"string\">&quot;@eslint/js&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> tseslint <span class=\"keyword\">from</span> <span class=\"string\">&quot;typescript-eslint&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginVue <span class=\"keyword\">from</span> <span class=\"string\">&quot;eslint-plugin-vue&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> [</span><br><span class=\"line\">\t&#123; <span class=\"attr\">languageOptions</span>: &#123; <span class=\"attr\">globals</span>: globals.<span class=\"property\">browser</span> &#125; &#125;,</span><br><span class=\"line\">\t<span class=\"comment\">// eslint é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\tpluginJs.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ts é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...tseslint.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// vue3 åŸºç¡€æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...pluginVue.<span class=\"property\">configs</span>[<span class=\"string\">&quot;flat/essential&quot;</span>],</span><br><span class=\"line\">  <span class=\"attr\">languageOptions</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">globals</span>: &#123;</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">browser</span>,</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">es2020</span>,</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">node</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">ecmaVersion</span>: <span class=\"number\">2020</span>,</span><br><span class=\"line\">      <span class=\"comment\">// è¿™é‡Œçš„parserVue ä¼šä½¿ç”¨æ’ä»¶</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// parser: parserVue,</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">parserOptions</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">parser</span>: tseslint.<span class=\"property\">parser</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Prettier\"><a href=\"#Prettier\" class=\"headerlink\" title=\"Prettier\"></a>Prettier</h3><p>::: tip<br>Prettier æ˜¯ä¸€ä¸ªä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œå¯ä»¥è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ï¼Œä½¿å…¶ç¬¦åˆç»Ÿä¸€çš„é£æ ¼ã€‚<br>:::</p>\n<p>å®‰è£…å‘½ä»¤ï¼š<code>pnpm add -D eslint-plugin-prettier eslint-config-prettier</code></p>\n<p>ä¿®æ”¹<code>eslint.config.js</code>æ·»åŠ <code>prettier</code>é…ç½®</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> globals <span class=\"keyword\">from</span> <span class=\"string\">&quot;globals&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginJs <span class=\"keyword\">from</span> <span class=\"string\">&quot;@eslint/js&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> tseslint <span class=\"keyword\">from</span> <span class=\"string\">&quot;typescript-eslint&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginVue <span class=\"keyword\">from</span> <span class=\"string\">&quot;eslint-plugin-vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginPrettierRecommendedConfigs <span class=\"keyword\">from</span> <span class=\"string\">&quot;eslint-plugin-prettier/recommended&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> [</span><br><span class=\"line\">\t<span class=\"comment\">// eslint é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\tpluginJs.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ts é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...tseslint.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// vue3 åŸºç¡€æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...pluginVue.<span class=\"property\">configs</span>[<span class=\"string\">&quot;flat/recommended&quot;</span>],</span><br><span class=\"line\">\t<span class=\"comment\">// prettier é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\tpluginPrettierRecommendedConfigs,</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">languageOptions</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">globals</span>: &#123;</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">browser</span>,</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">es2020</span>,</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">node</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">ecmaVersion</span>: <span class=\"number\">2020</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">parser</span>: parserVue,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">parserOptions</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">parser</span>: tseslint.<span class=\"property\">parser</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<p>æ ¹ç›®å½•ä¸‹æ–°å»º <code>prettier.config.js</code> æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">tabWidth</span>: <span class=\"number\">2</span>, <span class=\"comment\">// ç¼©è¿›</span></span><br><span class=\"line\">\t<span class=\"attr\">useTabs</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// ç¼©è¿›æ–¹å¼</span></span><br><span class=\"line\">\t<span class=\"attr\">semi</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// è¯­å¥ç»“å°¾æ˜¯å¦åŠ åˆ†å·</span></span><br><span class=\"line\">\t<span class=\"attr\">singleQuote</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// å•å¼•å·</span></span><br><span class=\"line\">\t<span class=\"attr\">printWidth</span>: <span class=\"number\">120</span>, <span class=\"comment\">// æ¢è¡Œé•¿åº¦</span></span><br><span class=\"line\">\t<span class=\"attr\">arrowParens</span>: <span class=\"string\">&quot;always&quot;</span>, <span class=\"comment\">// ç®­å¤´å‡½æ•°å‚æ•°</span></span><br><span class=\"line\">\t<span class=\"attr\">bracketSpacing</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// å¯¹è±¡èŠ±æ‹¬å·å†…æ˜¯å¦åŠ ç©ºæ ¼</span></span><br><span class=\"line\">\t<span class=\"attr\">endOfLine</span>: <span class=\"string\">&quot;auto&quot;</span>, <span class=\"comment\">// æ¢è¡Œç¬¦</span></span><br><span class=\"line\">\t<span class=\"attr\">vueIndentScriptAndStyle</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// vueæ–‡ä»¶å†…scriptå’Œstyleæ ‡ç­¾ç¼©è¿›</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Eslint-å¯èƒ½å‡ºç°çš„é—®é¢˜\"><a href=\"#Eslint-å¯èƒ½å‡ºç°çš„é—®é¢˜\" class=\"headerlink\" title=\"Eslint å¯èƒ½å‡ºç°çš„é—®é¢˜\"></a>Eslint å¯èƒ½å‡ºç°çš„é—®é¢˜</h3><p>å½“æ‰“å¼€ components&#x2F;HelloWorld.vue æ–‡ä»¶ï¼Œä¼šå‘ç°æ­¤è¡ŒæŠ¥é”™ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">defineProps&lt;&#123; <span class=\"attr\">msg</span>: string &#125;&gt;() <span class=\"comment\">// Parsing error: Unexpected token )eslint</span></span><br></pre></td></tr></table></figure>\n\n<p>è§£å†³åŠæ³•ï¼š é…ç½® vue-eslint-parserï¼Œä¿®æ”¹ eslint.config.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> globals <span class=\"keyword\">from</span> <span class=\"string\">&quot;globals&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginJs <span class=\"keyword\">from</span> <span class=\"string\">&quot;@eslint/js&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> tseslint <span class=\"keyword\">from</span> <span class=\"string\">&quot;typescript-eslint&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginVue <span class=\"keyword\">from</span> <span class=\"string\">&quot;eslint-plugin-vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pluginPrettierRecommendedConfigs <span class=\"keyword\">from</span> <span class=\"string\">&quot;eslint-plugin-prettier/recommended&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> parserVue <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue-eslint-parser&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> [</span><br><span class=\"line\">\t<span class=\"comment\">// eslint é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\tpluginJs.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// ts é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...tseslint.<span class=\"property\">configs</span>.<span class=\"property\">recommended</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// vue3 åŸºç¡€æ¨èè§„åˆ™</span></span><br><span class=\"line\">\t...pluginVue.<span class=\"property\">configs</span>[<span class=\"string\">&quot;flat/recommended&quot;</span>],</span><br><span class=\"line\">\t<span class=\"comment\">// prettier é»˜è®¤æ¨èè§„åˆ™</span></span><br><span class=\"line\">\tpluginPrettierRecommendedConfigs,</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">languageOptions</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">globals</span>: &#123;</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">browser</span>,</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">es2020</span>,</span><br><span class=\"line\">\t\t\t\t...globals.<span class=\"property\">node</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">ecmaVersion</span>: <span class=\"number\">2020</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">parser</span>: parserVue,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">parserOptions</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">parser</span>: tseslint.<span class=\"property\">parser</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<p>æ·»åŠ æ’ä»¶ <code>vite-plugin-eslintpnpm add -D vite-plugin-eslint</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineConfig &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vite&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> vue <span class=\"keyword\">from</span> <span class=\"string\">&quot;@vitejs/plugin-vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> eslintPlugin <span class=\"keyword\">from</span> <span class=\"string\">&quot;vite-plugin-eslint&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// https://vitejs.dev/config/</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">plugins</span>: [<span class=\"title function_\">vue</span>(), <span class=\"title function_\">eslintPlugin</span>()],</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>ç”±äº vite-plugin-eslint åº“æœ‰ç‚¹è½åï¼Œå¯¼è‡´ vite é«˜ç‰ˆæœ¬ä¸èƒ½æ­£ç¡®çš„è¯†åˆ« cjs æ¨¡å—ï¼Œæ‰€ä»¥é…ç½® src\\vite-env.d.tsï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/// &lt;reference types=&quot;vite/client&quot; /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * ç”±äº vite-plugin-eslint åº“æœ‰ç‚¹è½åï¼Œå¯¼è‡´ vite é«˜ç‰ˆæœ¬ä¸èƒ½æ­£ç¡®çš„è¯†åˆ« cjs æ¨¡å—</span></span><br><span class=\"line\"><span class=\"comment\"> * æ‰€ä»¥è¿™é‡Œæ‰‹åŠ¨å®šä¹‰</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\">declare <span class=\"variable language_\">module</span> <span class=\"string\">&#x27;vite-plugin-eslint&#x27;</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Plugin</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vite&#x27;</span></span><br><span class=\"line\">\t<span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ESLint</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;eslint&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/** Plugin options, extending from ESlint options */</span></span><br><span class=\"line\">\tinterface <span class=\"title class_\">Options</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">ESLint</span>.<span class=\"property\">Options</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">/** Path to ESLint instance that will be used for linting */</span></span><br><span class=\"line\">\t\teslintPath?: string</span><br><span class=\"line\">\t\t<span class=\"comment\">/** Check all matching files on project startup */</span></span><br><span class=\"line\">\t\tlintOnStart?: boolean</span><br><span class=\"line\">\t\t<span class=\"comment\">/** A single file, or array of files, to include when linting */</span></span><br><span class=\"line\">\t\tinclude?: string | string[]</span><br><span class=\"line\">\t\t<span class=\"comment\">/** A single file, or array of files, to exclude when linting */</span></span><br><span class=\"line\">\t\texclude?: string | string[]</span><br><span class=\"line\">\t\t<span class=\"comment\">/** Custom error formatter or the name of a built-in formatter */</span></span><br><span class=\"line\">\t\tformatter?: string | <span class=\"title class_\">ESLint</span>.<span class=\"property\">Formatter</span>[<span class=\"string\">&#x27;format&#x27;</span>]</span><br><span class=\"line\">\t\t<span class=\"comment\">/** The waring found will be printed */</span></span><br><span class=\"line\">\t\temitWarning?: boolean</span><br><span class=\"line\">\t\t<span class=\"comment\">/** The errors found will be printed */</span></span><br><span class=\"line\">\t\temitError?: boolean</span><br><span class=\"line\">\t\t<span class=\"comment\">/** Will cause the module build to fail if there are any warnings, based on emitWarning */</span></span><br><span class=\"line\">\t\tfailOnWarning?: boolean</span><br><span class=\"line\">\t\t<span class=\"comment\">/** Will cause the module build to fail if there are any errors, based on emitError */</span></span><br><span class=\"line\">\t\tfailOnError?: boolean</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> <span class=\"attr\">content</span>: <span class=\"function\">(<span class=\"params\">rawOptions?: Options</span>) =&gt;</span> <span class=\"title class_\">Plugin</span></span><br><span class=\"line\">\t<span class=\"keyword\">export</span> <span class=\"keyword\">default</span> content</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¿®æ”¹é…ç½® tsconfig.json</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;compilerOptions&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;target&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ES2020&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;useDefineForClassFields&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;module&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ESNext&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;lib&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"string\">&quot;ES2020&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;DOM&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;DOM.Iterable&quot;</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;skipLibCheck&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">/* Bundler mode */</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;moduleResolution&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;bundler&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;allowImportingTsExtensions&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;resolveJsonModule&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;isolatedModules&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;noEmit&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;jsx&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;preserve&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">/* Linting */</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;strict&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;noUnusedLocals&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;noUnusedParameters&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;noFallthroughCasesInSwitch&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;types&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// ç¼–è¯‘è¿‡ç¨‹ä¸­è¢«åŒ…å«è¿›æ¥çš„ç±»å‹å£°æ˜æ–‡ä»¶</span></span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;vite/client&quot;</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">]</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"stylint\"><a href=\"#stylint\" class=\"headerlink\" title=\"stylint\"></a>stylint</h3><p>::: tip<br>stylelint æ˜¯ä¸€ä¸ª CSS è¯­æ³•æ£€æŸ¥å·¥å…·ï¼Œå¯ä»¥æ£€æµ‹ CSS ä»£ç çš„é”™è¯¯å’Œé£æ ¼é—®é¢˜ã€‚<br>:::</p>\n<p>å®‰è£…ï¼š <code>pnpm add -D stylelint stylelint-config-html stylelint-config-prettier stylelint-config-standard stylelint-config-recess-order stylelint-config-recommended-scss stylelint-config-recommended-vue</code></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stylelint    æ ¸å¿ƒåº“</span><br><span class=\"line\">stylelint-config-html    è§£æ HTML æ–‡ä»¶ä¸­çš„æ ·å¼</span><br><span class=\"line\">stylelint-config-prettier    ç»“åˆ Prettier ä½¿ç”¨</span><br><span class=\"line\">stylelint-config-standard    StyleLint çš„æ ‡å‡†å¯å…±äº«é…ç½®</span><br><span class=\"line\">stylelint-config-recess-order    æä¾›ä¼˜åŒ–æ ·å¼é¡ºåºçš„é…ç½®</span><br><span class=\"line\">stylelint-config-recommended-scss    æ‰©å±• stylelint-config-recommended å…±äº«é…ç½®å¹¶ä¸º SCSS é…ç½®å…¶è§„åˆ™</span><br><span class=\"line\">stylelint-config-recommended-vue    æ‰©å±• stylelint-config-recommended å…±äº«é…ç½®å¹¶ä¸º Vue é…ç½®å…¶è§„åˆ™</span><br></pre></td></tr></table></figure>\n\n<p>æ ¹ç›®å½•åˆ›å»º.stylelintrc.js å¹¶é…ç½®ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// ç»§æ‰¿æ¨èè§„èŒƒé…ç½®</span></span><br><span class=\"line\">\t<span class=\"attr\">extends</span>: [</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-standard&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recommended-scss&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recommended-vue/scss&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-html/vue&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;stylelint-config-recess-order&quot;</span>,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"comment\">// æŒ‡å®šä¸åŒæ–‡ä»¶å¯¹åº”çš„è§£æå™¨</span></span><br><span class=\"line\">\t<span class=\"attr\">overrides</span>: [</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">files</span>: [<span class=\"string\">&quot;**/*.&#123;vue,html&#125;&quot;</span>],</span><br><span class=\"line\">\t\t\t<span class=\"attr\">customSyntax</span>: <span class=\"string\">&quot;postcss-html&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">files</span>: [<span class=\"string\">&quot;**/*.&#123;css,scss&#125;&quot;</span>],</span><br><span class=\"line\">\t\t\t<span class=\"attr\">customSyntax</span>: <span class=\"string\">&quot;postcss-scss&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"comment\">// è‡ªå®šä¹‰è§„åˆ™</span></span><br><span class=\"line\">\t<span class=\"attr\">rules</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å…è®¸ global ã€export ã€v-deepç­‰ä¼ªç±»</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;selector-pseudo-class-no-unknown&quot;</span>: [</span><br><span class=\"line\">\t\t\t<span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">ignorePseudoClasses</span>: [<span class=\"string\">&quot;global&quot;</span>, <span class=\"string\">&quot;export&quot;</span>, <span class=\"string\">&quot;v-deep&quot;</span>, <span class=\"string\">&quot;deep&quot;</span>],</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t],</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>æ ¹ç›®å½•åˆ›å»º <code>.stylelintignore</code> æ–‡ä»¶ï¼Œé…ç½®å¿½ç•¥æ–‡ä»¶å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dist</span><br><span class=\"line\">node_modules</span><br><span class=\"line\">public</span><br><span class=\"line\">.husky</span><br><span class=\"line\">.vscode</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å‘½ä»¤é…ç½®\"><a href=\"#å‘½ä»¤é…ç½®\" class=\"headerlink\" title=\"å‘½ä»¤é…ç½®\"></a>å‘½ä»¤é…ç½®</h2><p>é…ç½®æ ¹ç›®å½•æ–‡ä»¶<code>package.json</code>çš„é…ç½®ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;dev&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vite&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;build&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vue-tsc &amp;&amp; vite build&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;preview&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vite preview&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;lint:eslint&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;eslint --fix&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;lint:format&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;prettier --write --log-level warn \\&quot;src/**/*.&#123;js,ts,json,tsx,css,less,vue,html,md&#125;\\&quot;&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;lint:stylelint&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;stylelint \\&quot;**/*.&#123;css,scss,vue,html&#125;\\&quot; --fix&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br></pre></td></tr></table></figure>\n\n<p>ä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–å‘½ä»¤</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm lint:eslint</span><br><span class=\"line\">pnpm lint:format</span><br><span class=\"line\">pnpm lint:stylelint</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"vscode-ç¼–è¯‘å™¨ä¿å­˜è‡ªåŠ¨åŒ–é…ç½®\"><a href=\"#vscode-ç¼–è¯‘å™¨ä¿å­˜è‡ªåŠ¨åŒ–é…ç½®\" class=\"headerlink\" title=\"vscode ç¼–è¯‘å™¨ä¿å­˜è‡ªåŠ¨åŒ–é…ç½®\"></a>vscode ç¼–è¯‘å™¨ä¿å­˜è‡ªåŠ¨åŒ–é…ç½®</h2><p>ä¿®æ”¹æ ¹ç›®å½•.vscode æ–‡ä»¶å¤¹ä¸‹çš„<code>settings.json</code>(æ²¡æœ‰çš„è¯æ–°å»ºä¸€ä¸ª)ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;files.eol&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;\\n&quot;</span><span class=\"punctuation\">,</span> <span class=\"comment\">// æ–‡ä»¶ç»“æŸç¬¦</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;eslint.format.enable&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span> <span class=\"comment\">// å¼€å¯ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;editor.codeLens&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span> <span class=\"comment\">// æ˜¾ç¤ºè¡Œå·</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;editor.tabSize&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">2</span><span class=\"punctuation\">,</span> <span class=\"comment\">// é‡æ–°è®¾å®štabsize</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;editor.detectIndentation&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">false</span></span><span class=\"punctuation\">,</span> <span class=\"comment\">// ç¦ç”¨è‡ªåŠ¨æ£€æµ‹ç¼©è¿›</span></span><br><span class=\"line\">\t<span class=\"comment\">// å°†prettierè®¾ç½®ä¸ºé»˜è®¤æ ¼å¼åŒ–ç¨‹åº(åœ¨ç¼–è¾‘å™¨ä¸­æœ‰å¯èƒ½è¢«å…¶ä»–Formatterå ç”¨ï¼Œæ‰€ä»¥å°†prettierè®¾ç½®ä¸ºé»˜è®¤Formatter)</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;editor.defaultFormatter&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;esbenp.prettier-vscode&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"comment\">// å…³é—­js/tsçš„é»˜è®¤format,ç»Ÿä¸€ç”¨eslintè¿›è¡Œæ ¼å¼åŒ–ï¼ˆtslintå·²ç»ä¸ç»´æŠ¤äº†ï¼Œæ‰€ä»¥è½¬eslintå§ï¼‰</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;javascript.format.enable&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">false</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;typescript.format.enable&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">false</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ– (æ ¹æ®æ ¹ç›®å½•ä¸‹â€˜.prettierrcæ–‡ä»¶é…ç½®é¡¹â€™)</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;editor.formatOnSave&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"comment\">// Enable per-language</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;[html]&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.defaultFormatter&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;vscode.html-language-features&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.formatOnSave&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;[vue]&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.formatOnSave&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span> <span class=\"comment\">// äº¤ç»™ eslint</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.defaultFormatter&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;esbenp.prettier-vscode&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;[javascript]&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.defaultFormatter&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;esbenp.prettier-vscode&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä»€ä¹ˆç±»å‹çš„æ–‡ä»¶éœ€è¦éµå®ˆstylelintè§„åˆ™</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;stylelint.validate&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"string\">&quot;css&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;less&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;postcss&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;scss&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;sass&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;vue&quot;</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä¸ºESLintå¯ç”¨â€œä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤â€ï¼Œå¹¶ä¸”ä»ç„¶å…·æœ‰æ ¼å¼å’Œå¿«é€Ÿä¿®å¤åŠŸèƒ½</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;editor.codeActionsOnSave&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;source.fixAll&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;always&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;source.fixAll.stylelint&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;always&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;[markdown]&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.defaultFormatter&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">null</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.formatOnSave&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">false</span></span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;[json]&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.defaultFormatter&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;esbenp.prettier-vscode&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;[typescript]&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.defaultFormatter&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;esbenp.prettier-vscode&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;[scss]&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;editor.defaultFormatter&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;stylelint.vscode-stylelint&quot;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å‚è€ƒæ–‡çŒ®\"><a href=\"#å‚è€ƒæ–‡çŒ®\" class=\"headerlink\" title=\"å‚è€ƒæ–‡çŒ®\"></a>å‚è€ƒæ–‡çŒ®</h2><ul>\n<li><a href=\"https://mp.weixin.qq.com/s/AF2go62o8ueV2rGA1pF-_A\">åŸæ–‡</a></li>\n<li><a href=\"https://eslint.org/\">eslint</a></li>\n<li><a href=\"https://vitejs.dev/\">vite</a></li>\n<li><a href=\"https://stylelint.io/\">stylelint</a></li>\n<li><a href=\"https://prettier.io/\">prettier</a></li>\n<li><a href=\"https://shields.io/badges\">shields</a></li>\n</ul>\n"},{"title":"webpackæ‰“åŒ…ä¼˜åŒ–?","abbrlink":"7e0eb1ea","date":"2023-11-08T01:05:01.000Z","_content":"\n# ä¼˜åŒ–?\n\nå‰ç«¯çš„æ›´æ–°è¿­ä»£æ˜¯å¾ˆå¿«çš„ï¼Œä»æœ€å¼€å§‹çš„ä¸‰ä»¶å¥—åˆ°ç°åœ¨çš„å“åº”å¼å¼€å‘ï¼Œåœ¨åˆ°ç°åœ¨çš„é¡¹ç›®ç®¡ç†åŒ–ï¼›\n\näºæ˜¯å‰ç«¯åˆå¾—å­¦ä¼šå·¥ç¨‹åŒ–ä»¥åŠå¯¹é¡¹ç›®ä¼˜åŒ–çš„çŸ¥è¯†ï¼Œæœ€å¼€å§‹çš„å‰ç«¯æ˜¯æ²¡æœ‰å·¥ç¨‹è¿™ä¸€æŠ€èƒ½çš„ï¼Œ å°±æ˜¯æŠŠç®€å•çš„èµ„æºåŒºåˆ†ç›®å½•ï¼Œå†ä»ä¸åŒçš„ç›®å½•è°ƒå–ä¸åŒçš„èµ„æºæ–‡ä»¶;\n\nä½†æ˜¯æš´éœ²å‡ºæœ‰å¾ˆå¤šé—®é¢˜ï¼Œå°±å¥½æ¯”èµ„æºæ€ä¹ˆé‡å¤åˆ©ç”¨ï¼Œæ¯æ¬¡æ‰“å¼€é¡µé¢èµ„æºåˆè¦é‡æ–°åŠ è½½ï¼Œè€Œä¸æ˜¯è¯»å–ç¼“å­˜ã€‚è¿™æ ·çš„æƒ…å†µä¼šå¯¼è‡´æµè§ˆå™¨çš„å¡é¡¿ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚\n\nå†è€…å°±æ˜¯ä»£ç é£æ ¼ï¼Œèµ·åˆå“ªæœ‰é£æ ¼å°±æ˜¯å„å†™å„çš„ï¼Œå¯¹äºå›¢é˜Ÿå¼å¼€å‘ä¸€ç›´æ˜¯ä¸ªå¤´ç–¼çš„é—®é¢˜ï¼›\n\nä¹‹åå°±å‡ºç°äº†å„å¼å„æ ·çš„å·¥ç¨‹åŒ–ï¼Œæ¯”å¦‚ï¼šä»£ç æ ¼å¼åŒ–çš„é£æ ¼ï¼Œæ£€éªŒä»£ç çš„æ ¼å¼ï¼Œä»£ç å‹ç¼©ä¸æ··æ·†ç­‰ç­‰ï¼›\n\nè¿™æ ·çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯åšåˆ°ç»Ÿä¸€ï¼Œä¹‹åçš„å¼€å‘å…¨éƒ½æ˜¯ä»¥è¿™ä¸ªä¸ºæ ‡å‡†ï¼›å…³äºå¦‚ä½•è§„èŒƒåŒ–æ­å»ºé¡¹ç›®å¯ä»¥å‚è€ƒä¹‹å‰çš„æ–‡ç« [Vue é¡¹ç›®æ­å»º](/brochure/project/product/init_vue)\n\né€šè¿‡`webpack5`æ­å»ºçš„`vue3`çš„é¡¹ç›®å¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿ è¿™é‡Œå…·ä½“è¯´æ˜æ‰“åŒ…ä¼˜åŒ–; ä¸€äº›ä¼˜åŒ–çš„æ–¹æ¡ˆå¯å‚è€ƒ[ä»å“ªäº›æ–¹é¢è¿›è¡Œæ€§èƒ½ä¼˜åŒ–](/brochure/project/direction/direction)\n\n## ç®€å•äº†è§£ Webpack\n\n`Webpack` æ˜¯ä¸€ä¸ªå‰ç«¯èµ„æºæ‰“åŒ…å·¥å…·ï¼Œå¯ä»¥æŒ‰ç…§æ¨¡å—ä¾èµ–å…³ç³»æ‰“åŒ…é¡¹ç›®ï¼Œå°†ä¸åŒæ¨¡å—çš„ä¾èµ–å…³ç³»æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œæœ€ç»ˆç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªé™æ€èµ„æºï¼Œå¦‚ï¼šjsã€cssã€å›¾ç‰‡ç­‰ã€‚\n\n`Webpack`å°±æ˜¯åŒºåˆ†ä¸åŒçš„æ¨¡å—ï¼Œä¾‹å¦‚ï¼šé¡¹ç›®æ‰“åŒ…çš„å…¥å£æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Œå°†æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶æ”¾åœ¨å“ªé‡Œï¼Œæœ¬åœ°æœåŠ¡çš„é…ç½®ä»¥åŠå¯¹ä»£ç çš„æ‹†åˆ†ï¼›å…¶å®`webpack`æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„æ„ä¹‰ï¼Œå¯ä»¥ç†è§£çš„å°±æ˜¯é¡¹ç›®åº•å±‚çš„å»ºç­‘ï¼Œåªæœ‰å§é¡¹ç›®åº•å±‚æ­å»ºå®Œå–„ä¹‹åï¼Œæ‰èƒ½æ›´å¥½çš„å»å¼€å‘é¡¹ç›®ã€‚\n\né¡¹ç›®ä¸­æœ‰ä¸€äº›ç‰¹å®šçš„æ’ä»¶ï¼Œæ¯”å¦‚æ··åˆå¼å¼€å‘`h5`éœ€è¦æŸ¥çœ‹`networker`ï¼Œé‚£å°±éœ€è¦å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„`vconsole`ï¼›è¿™æ ·çš„è¯ä¸ç®¡æ‚¨æ˜¯æœ¬åœ°å¼€å‘è¿˜æ˜¯å…¶ä»–ç¯å¢ƒæµ‹è¯•éƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼›\n\n`Webpack` çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯ï¼š\n\n1. æ¨¡å—åŒ–ï¼šå°†é¡¹ç›®æ‹†åˆ†æˆå°çš„æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—åªåŒ…å«ä¸€ä¸ªåŠŸèƒ½ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚\n2. æ¨¡å—åŒ–åŠ è½½ï¼šé€šè¿‡æ¨¡å—åŒ–åŠ è½½ï¼Œå¯ä»¥å‡å°‘è¯·æ±‚æ•°é‡ï¼Œæé«˜é¡µé¢åŠ è½½é€Ÿåº¦ã€‚\n3. æ¨¡å—åŒ–ç¼–è¯‘ï¼šé€šè¿‡æ¨¡å—åŒ–ç¼–è¯‘ï¼Œå¯ä»¥å‡å°‘ä»£ç ä½“ç§¯ï¼Œæé«˜è¿è¡Œé€Ÿåº¦ã€‚\n\nä¼˜åŒ–èŒƒå›´ï¼š\n\n1. ç¼©å°æ‰“åŒ…èŒƒå›´ï¼šç¼©å°æ‰“åŒ…èŒƒå›´ï¼Œå¯ä»¥å‡å°‘æ‰“åŒ…ä½“ç§¯ã€‚\n2. ä¼˜åŒ–æ‰“åŒ…é€Ÿåº¦ï¼šä¼˜åŒ–æ‰“åŒ…é€Ÿåº¦ï¼Œå¯ä»¥å‡å°‘æ‰“åŒ…æ—¶é—´ã€‚\n3. ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯ï¼šä¼˜åŒ–æ‰“åŒ…ä½“ç§¯ï¼Œå¯ä»¥å‡å°‘æ‰“åŒ…ä½“ç§¯ã€‚\n\næœ€åˆçš„é¡¹ç›®å°±æ˜¯è¿™æ ·çš„ç›®å½•:\n\n```js\njs/*\ncss/*\nhtml/*\n...\n```\n\nä½†æ˜¯ç°åœ¨çš„é¡¹ç›®æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå¼•å…¥çš„èµ„æºä¹Ÿæ˜¯å¾ˆå¤šçš„ï¼Œæ‰€ä»¥éœ€è¦å°†è¿™äº›èµ„æºè¿›è¡Œåˆ†ç±»ï¼Œç„¶åè¿›è¡Œæ‰“åŒ…ã€‚æœ€åé€šè¿‡æ‰“åŒ…å·¥å…·æ‰“åŒ…å‡ºæ¥çš„é—®é¢˜å°±ç±»ä¼¼äºæœ€åˆçš„é¡¹ç›®;\n\n```js\nstatic / css;\nstatic / js;\nstatic / vue;\nindex.html;\n```\n\n## åˆå§‹åŒ–é¡¹ç›®\n\næˆ‘ä»¬æ‹¿`vue`æ¥è®², å…ˆè¦åœ¨å…¨å±€å®‰è£…`@vue/cli`, åé¢æˆ‘ä»¬ä¼šè¯´åˆ°ä¸ºä»€ä¹ˆè¦å®‰è£…å…¨å±€;\n\n```sh\nnpm i -g @vue/cli\n```\n\nå®‰è£…æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„é¡¹ç›®:\n\n```sh\nvue create é¡¹ç›®åç§°\n```\n\næˆ‘ä»¬é€‰æ‹©`vue3`è¿›è¡Œé¡¹ç›®æµ‹è¯•æ‰“åŒ…; å®‰è£…æˆåŠŸä¹‹å`install` å®Œæˆä¹‹åä½¿ç”¨`vue ui`å¯ä»¥é€šè¿‡å¯è§†åŒ–é¢æ¿å¯¼å…¥é¡¹ç›®ï¼Œè¿™æ ·çš„åŒ–å°±å¯ä»¥æŸ¥çœ‹è‡ªå·±é¡¹ç›®å®‰è£…çš„ä¾èµ–ä»¥åŠå¯¹ä¾èµ–è¿›è¡Œæ›´æ–°çš„æ“ä½œ;\n\næ•ˆæœå¦‚ä¸‹ï¼š\n\n![ui](https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_16-48-15.png)\n\nç‚¹å¼€`ä»»åŠ¡`ï¼š\n\n![ä»»åŠ¡](https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_16-49-34.png)\n\nè¿™é‡Œæˆ‘ä»¬å°±èƒ½çœ‹åˆ°é¡¹ç›®çš„ä¸€äº›èµ„æºå¤§å°ï¼Œç„¶åé€šè¿‡`webpack`é…ç½®é’ˆå¯¹äºè¿™äº›ä¾èµ–é¡¹ç›®è¿›è¡Œä¼˜åŒ–;\n\n## ä¼˜åŒ–\n\né¦–å…ˆè¦å…ˆçŸ¥é“`public/index.html`æ–‡ä»¶ä¸­çš„`<title><%= htmlWebpackPlugin.options.title %></title>`æ˜¯æ€ä¹ˆæ¥çš„ï¼›\n\nå¯¹æœ€å¼€å§‹çš„ç‰ˆæœ¬æ˜¯éœ€è¦å®‰è£…`htmlWebpackPlugin`å¯¹åº”çš„ä¾èµ–ï¼Œç„¶ååœ¨`webpack.config.js`ä¸­é…ç½®`htmlWebpackPlugin`ï¼Œç„¶åå°±å¯ä»¥åœ¨`public/index.html`ä¸­é€šè¿‡`<%= htmlWebpackPlugin.options.title %>`æ¥è·å–`title`çš„å€¼äº†ï¼›[html-webpack-plugin](https://www.npmjs.com/package/html-webpack-plugin)\n\n```js\nconst HtmlWebpackPlugin = require(\"html-webpack-plugin\");\n{\n\tplugins: [\n\t\tnew HtmlWebpackPlugin({\n\t\t\ttitle: \"My App\", // æ ‡é¢˜\n\t\t\tfilename: \"assets/admin.html\", // æ–‡ä»¶\n\t\t}),\n\t];\n}\n```\n\n## å¦‚ä½•è®¾ç½® title\n\nä½†æ˜¯å¯¹äºé«˜ç‰ˆæœ¬å°±ä¸éœ€è¦ç‰¹åˆ«å®‰è£…æ’ä»¶äº†ï¼›æƒ³è¦è®¾ç½®`title`æœ‰ä¿©ç§æ–¹æ¡ˆ: åœ¨`vue.config.js`ä¸­é…ç½®\n\n### æ–¹æ¡ˆä¸€\n\n```js\nmodule.exports = defineConfig({\n transpileDependencies: true,\n pages: {\n  index: {\n   entry: \"src/main.js\",\n   title: \"æµ‹è¯•é¡¹ç›®\", // è¿™é‡Œå°±æ˜¯æœ€ç»ˆçš„title\n  },\n },\n}\n```\n\n### æ–¹æ¡ˆäºŒ\n\n```js\n{\n\tchainWebpack: config => {\n\t\tconfig.plugin(\"html\").tap(args => {\n\t\t\targs[0].title = \"æµ‹è¯•é¡¹ç›®\";\n\t\t\treturn args;\n\t\t});\n\t};\n}\n```\n\nè¿™æ ·æ‚¨å°±å¯ä»¥å®šåˆ¶åŒ–æ ‡é¢˜äº†;\n\n## è®¾ç½®æ‰“åŒ…ç›®å½•ä»¥åŠé™æ€èµ„æºç›®å½•\n\nå¯¹äºé…ç½®, æ‰“åŒ…ç›®å½•é»˜è®¤çš„æ˜¯`dist`, é™æ€ç›®å½•é»˜è®¤çš„æ˜¯`static`; å½“ç„¶æ‚¨å¯ä»¥è‡ªå®šä¹‰\n\n```js\n{\n  // è¾“å‡ºç›®å½•\n outputDir: \"dist\",\n // é™æ€èµ„æºç›®å½•\n assetsDir: \"static\",\n}\n```\n\n## ç®€å•åŒºåˆ† chainWebpack å’Œ configureWebpack\n\n1. `configureWebpack`: é€šè¿‡æ“ä½œå¯¹è±¡çš„å½¢å¼ï¼Œæ¥ä¿®æ”¹é»˜è®¤çš„ webpack é…ç½®ï¼Œè¯¥å¯¹è±¡å°†ä¼šè¢« webpack-merge åˆå¹¶å…¥æœ€ç»ˆçš„ webpack é…ç½®\n2. `chainWebpack` é€šè¿‡é“¾å¼ç¼–ç¨‹çš„å½¢å¼ï¼Œæ¥ä¿®æ”¹é»˜è®¤çš„ webpack é…ç½®\n\n```js\n// configureWebpack å½¢å¼\n{\n  configureWebpack:{\n    resolve: {\n      // åˆ«åé…ç½®\n      alias: {\n        'assets': '@/assets',\n        'common': '@/common',\n        'components': '@/components',\n        'network': '@/network',\n        'configs': '@/configs',\n        'views': '@/views',\n        'plugins': '@/plugins',\n      }\n    }\n  },\n}\n```\n\n```js\n// chainWebpackå½¢å¼\n{\n\tchainWebpack: config => {\n\t\tconfig.resolve.alias\n\t\t\t.set(\"@\", resolve(\"src\"))\n\t\t\t.set(\"@v\", resolve(\"src/views\"))\n\t\t\t.set(\"@c\", resolve(\"src/components\"))\n\t\t\t.set(\"@u\", resolve(\"src/util\"))\n\t\t\t.set(\"@h\", resolve(\"src/hooks\"));\n\t};\n}\n```\n\nè¿™é‡Œæˆ‘ä»¬é€šè¿‡å¯¹è±¡çš„å½¢å¼å¯¹åˆ«åè¿›è¡Œé…ç½®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„çš„å½¢å¼ï¼Œä½†æ˜¯æ•°ç»„çš„å½¢å¼éœ€è¦æˆ‘ä»¬è‡ªå·±è¿›è¡Œé…ç½®ï¼›ä¹Ÿæ˜¯é€šè¿‡å¯¹è±¡çš„å½¢å¼å»åˆ†åŒ…\n\n## åˆ†åŒ…ä¼˜åŒ–\n\næˆ‘ä»¬çš„é¡¹ç›®ç”¨çš„æœ‰`uiç»„ä»¶, lodashä¸€äº›ç‰¹å®šçš„å·¥å…·ï¼Œè¿˜æœ‰axios, vuexæˆ–è€…pinia`ç­‰ç­‰ï¼›ä½†æ˜¯å¯¹äºä¸€äº›æ’ä»¶æ˜¯å¾ˆå¤§çš„ï¼ŒåŒ…æ‹¬è‡ªå·±å†å†™é¡µé¢çš„æ—¶å€™æ²¡æœ‰æ³¨æ„ä¼˜åŒ–çš„æ€ç»´é‚£ä¹ˆåæœŸç»´æŠ¤èµ·æ¥ç»å¯¹æ˜¯å¾ˆç—›è‹¦çš„ï¼›\n\nç®€å•çš„è¯´åˆ†åŒ…å°±æ˜¯ å°†ä¸€äº›`install`çš„ä¾èµ–è¿›è¡Œåˆ†åŒ…ï¼Œæ¯”å¦‚`axios`ï¼Œ`vuex`ï¼Œ`pinia`ç­‰ç­‰ï¼›æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶å¦‚ï¼š`chunk-axios.js`ï¼Œ`chunk-vuex.js`ï¼Œ`chunk-pinia.js`ç­‰ç­‰ï¼›è¿™æ ·çš„è¯æˆ‘ä»¬å°±çŸ¥é“è¿™äº›æ–‡ä»¶éƒ½æ˜¯ä»€ä¹ˆæ–‡ä»¶äº†, è€Œä¸æ˜¯`common.js, vendor.js`ï¼›\n\n```js\n{\n  configureWebpack: {\n    optimization: {\n      moduleIds: \"deterministic\",\n      runtimeChunk: \"single\",\n      minimize: true,\n      splitChunks: {\n        // åˆ†å‰²æ‰€æœ‰ç±»å‹çš„chunkï¼ˆåŒ…æ‹¬å¼‚æ­¥å’ŒåŒæ­¥ï¼‰\n        chunks: \"all\",\n        // æœ€å°æå–æ–‡ä»¶å¤§å°ï¼ˆé»˜è®¤å€¼ï¼‰\n        minSize: 20000,\n        // maxSize: 0,\n        // éœ€åœ¨ä¸¤ä¸ªæ¨¡å—ä¸­å…±äº«æ‰è¿›è¡Œæ‹†åˆ†\n        minChunks: 2,\n        // æœ€å¤§å¼‚æ­¥è¯·æ±‚å¹¶å‘æ•°ï¼ˆé»˜è®¤å€¼ï¼‰\n        maxAsyncRequests: 5,\n        // æœ€å¤§åˆå§‹åŒ–è¯·æ±‚å¹¶å‘æ•°ï¼ˆé»˜è®¤å€¼ï¼‰\n        maxInitialRequests: 3,\n        // ç¼“å­˜ç»„\n        cacheGroups: {\n        // vendorç»„ å­˜æ”¾node_modulesä¸‹çš„chunk\n        vendor: {\n          // åŒ¹é…node_modulesä¸‹æ‰€æœ‰çš„chunk\n          test: /[\\\\/]node_modules[\\\\/]/,\n          name(module) {\n          let packageName = \"vendors\";\n          const reg = /[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/;\n          if (reg.test(module.context)) {\n            packageName = module.context.match(reg)[1];\n          }\n          // æœ€åä»¥ chunk-lodash å‘½å\n          return `chunk-${packageName.replace(\"@\", \"\")}`;\n          },\n          // ä¼˜å…ˆçº§10 ä¼˜å…ˆå°†node_modulesä¸‹çš„chunkæ‹†åˆ†åˆ°vendorç»„\n          priority: 10,\n          // é‡ç”¨æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°ç”Ÿæˆ\n          reuseExistingChunk: true,\n          // å¼ºåˆ¶æ‹†åˆ†\n          enforce: true,\n        },\n        // é»˜è®¤ç»„ énode_modulesä¸‹çš„æ–‡ä»¶å— å°†æ‰§è¡Œdefaultç¼“å­˜ç»„è§„åˆ™\n        default: {\n          // é‡ç”¨æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°ç”Ÿæˆ\n          reuseExistingChunk: true,\n          // ä¼˜å…ˆçº§ -10\n          priority: -10,\n          // å¼ºåˆ¶æ‹†åˆ†\n          enforce: true,\n        },\n        },\n      },\n    }\n  }\n}\n```\n\nè¿™æ ·çš„è¯ä¸€äº›åŸºç¡€çš„å…¬å…±æ¨¡å—å°±ä¼šè¢«æŠ½ç¦»å‡ºæ¥ï¼Œ è¿™æ ·åœ¨æ‰“åŒ…çš„æ—¶å€™ï¼Œ å°±ä¸ä¼šç”Ÿæˆå¤šä¸ªå…¬å…±æ¨¡å—äº†ã€‚ å…·ä½“çš„å‚æ•°é…ç½®å¯å‚è€ƒæ–‡æ¡£ [webpack](https://webpack.docschina.org/)\n\n## æ’ä»¶\n\nä½†æ˜¯åšåˆ°è¿™é‡Œè¿˜æ˜¯ä¸å¤Ÿçš„ï¼Œå°±æ¯”å¦‚æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶è¿›è¡Œ`gz`å‹ç¼©ï¼Œç»„ä»¶æŒ‰éœ€åŠ è½½ç­‰ç­‰;\n\n```js\nconst AutoImport = require(\"unplugin-auto-import/webpack\");\nconst Components = require(\"unplugin-vue-components/webpack\");\nconst { ElementPlusResolver } = require(\"unplugin-vue-components/resolvers\");\nconst BundleAnalyzerPlugin = require(\"webpack-bundle-analyzer\").BundleAnalyzerPlugin;\nconst productionGzipExtensions = [\"js\", \"css\"];\n{\n  configureWebpack: {\n    // æ’ä»¶\n    plugins: [\n    // å…·ä½“æŸ¥çœ‹element-plusæ–‡æ¡£\n    AutoImport({\n      resolvers: [ElementPlusResolver()],\n    }),\n    Components({\n      resolvers: [ElementPlusResolver()],\n    }),\n    // å‹ç¼©\n    new CompressionWebpackPlugin({\n      algorithm: \"gzip\",\n      test: new RegExp(\"\\\\.(\" + productionGzipExtensions.join(\"|\") + \")$\"),\n      threshold: 10240,\n      deleteOriginalAssets: false, // ä¸åˆ é™¤æºæ–‡ä»¶\n      minRatio: 0.8,\n    }),\n    // æ„å»ºé¢„è§ˆï¼Œ æ‰“åŒ…åˆ†æ\n    new BundleAnalyzerPlugin(),\n    ],\n  }\n}\n```\n\n## å¿½ç•¥æ‰“åŒ…çš„ä¾èµ–\n\n```js\nconst cdn = {\n css: [\"https://cdn.bootcdn.net/ajax/libs/element-plus/2.7.2/index.min.css\"],\n js: [\n  // vue\n  \"https://cdn.bootcdn.net/ajax/libs/vue/3.2.13/vue.global.min.js\",\n  // ele\n  \"https://cdn.bootcdn.net/ajax/libs/element-plus-icons-vue/2.3.1/global.iife.min.js\",\n  \"https://cdn.bootcdn.net/ajax/libs/element-plus/2.7.2/index.full.min.js\",\n  // lodash\n  \"https://cdn.bootcdn.net/ajax/libs/lodash.js/4.17.21/lodash.min.js\",\n  // router\n  \"https://cdn.bootcdn.net/ajax/libs/vue-router/4.3.2/vue-router.global.min.js\",\n ],\n};\n\n{\n  configureWebpack: {\n    externals: {\n      // å°†ä¸€äº›ä½“ç§¯æ¯”è¾ƒå¤§çš„åŒ…æ‹†å‡ºæ¥ï¼Œä»¥cdnçš„é“¾æ¥å¼•å…¥ï¼Œ è¿™æ ·å‡å°‘æ‰“åŒ…ä½“ç§¯\n      vue: \"Vue\",\n      \"element-plus\": \"ElementPlus\",\n      \"@element-plus/icons-vue\": \"ElementPlusIconsVue\",\n      \"lodash-es\": \"_\",\n      \"vue-router\": \"VueRouter\",\n    }\n  }\n}\n```\n\næ¥ç€åœ¨`public/index.html`é…ç½® cdn\n\n```js\n<% for (var i in htmlWebpackPlugin.options.cdn && htmlWebpackPlugin.options.cdn.css) { %>\n  <link href=\"<%= htmlWebpackPlugin.options.cdn.css[i] %>\" rel=\"stylesheet\" />\n<% } %>\n\n\n<% for (var i in htmlWebpackPlugin.options.cdn && htmlWebpackPlugin.options.cdn.js) { %>\n  <script src=\"<%= htmlWebpackPlugin.options.cdn.js[i] %>\" ></script>\n<% } %>\n```\n\n## é…ç½® devserver\n\n```js\n{\n  devServer: {\n    open: true,\n    host: \"localhost\",\n    port: 8080,\n    https: false,\n    client: {\n      // å…è®¸åœ¨æµè§ˆå™¨ä¸­è®¾ç½®æ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤æ˜¯æ™®é€šçš„æç¤º\n      logging: \"info\",\n      // å½“å‡ºç°ç¼–è¯‘é”™è¯¯æˆ–è­¦å‘Šæ—¶ï¼Œåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºå…¨å±è¦†ç›–\n      overlay: true,\n      // åœ¨æµè§ˆå™¨ä¸­ä»¥ç™¾åˆ†æ¯”æ˜¾ç¤ºç¼–è¯‘è¿›åº¦ï¼› æ‰“å¼€æ§åˆ¶å°å°±å¯ä»¥çœ‹è§\n      progress: true,\n      // é™æ¬¡å°è¯•é‡æ–°è¿æ¥\n      reconnect: true,\n    },\n  },\n}\n```\n\nåˆ°è¿™é‡Œä¸€ä¸ªç®€å•çš„`webpack`æ‰“åŒ…ä¼˜åŒ–å°±å®Œæˆäº†ï¼›æˆ‘ä»¬é€šè¿‡`vue ui`æ‰“åŒ…çœ‹ä¸€ä¸‹;\n\n![build](https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_17-18-15.png)\n\nè¿™é‡Œçš„æˆ‘ä»¬å°±å¯ä»¥çœ‹å‡ºå‹ç¼©å‰ä¸å‹ç¼©åçš„æ–‡ä»¶å¤§å°å¯¹æ¯”ï¼Œéƒ¨ç½²é¡¹ç›®ä¹Ÿå¯ä»¥è½»æ¾çš„å®ç°`CDN`åŠ é€Ÿï¼Œ ä¼˜åŒ–æ‰“åŒ…é€Ÿåº¦ï¼Œ å‡å°‘æœåŠ¡å™¨å‹åŠ›ï¼Œ æå‡ç”¨æˆ·ä½“éªŒã€‚é‚£è¿™æ ·çš„æ˜¯ä¸æ˜¯å¯ä»¥åšåˆ°ç¬é—´æ‰“å¼€é¡µé¢å‘¢ï¼Ÿ\n\n![success](https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_17-20-15.png)\n\n![success](https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_17-21-36.png)\n\nç„¶åæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä¸€ä¸ªé¡¹ç›®æœ€åæ‰€ç”¨åˆ°çš„èµ„æºå¤§å°ï¼›\n\n## æœ€ç»ˆæµ‹è¯•ä»£ç \n\n```js\nconst { defineConfig } = require(\"@vue/cli-service\");\nconst CompressionWebpackPlugin = require(\"compression-webpack-plugin\");\nconst AutoImport = require(\"unplugin-auto-import/webpack\");\nconst Components = require(\"unplugin-vue-components/webpack\");\nconst { ElementPlusResolver } = require(\"unplugin-vue-components/resolvers\");\nconst BundleAnalyzerPlugin =\n\trequire(\"webpack-bundle-analyzer\").BundleAnalyzerPlugin;\n\nconst path = require(\"path\");\n\n// const isProduction = process.env.NODE_ENV === \"production\";\n\nconst cdn = {\n\tcss: [\"https://cdn.bootcdn.net/ajax/libs/element-plus/2.7.2/index.min.css\"],\n\tjs: [\n\t\t// vue\n\t\t\"https://cdn.bootcdn.net/ajax/libs/vue/3.2.13/vue.global.min.js\",\n\t\t// ele\n\t\t\"https://cdn.bootcdn.net/ajax/libs/element-plus-icons-vue/2.3.1/global.iife.min.js\",\n\t\t\"https://cdn.bootcdn.net/ajax/libs/element-plus/2.7.2/index.full.min.js\",\n\t\t// lodash\n\t\t\"https://cdn.bootcdn.net/ajax/libs/lodash.js/4.17.21/lodash.min.js\",\n\t\t// router\n\t\t\"https://cdn.bootcdn.net/ajax/libs/vue-router/4.3.2/vue-router.global.min.js\",\n\t],\n};\n\nconst externals = {\n\tvue: \"Vue\",\n\t\"element-plus\": \"ElementPlus\",\n\t\"@element-plus/icons-vue\": \"ElementPlusIconsVue\",\n\t\"lodash-es\": \"_\",\n\t\"vue-router\": \"VueRouter\",\n};\n\nconst productionGzipExtensions = [\"js\", \"css\"];\n\nmodule.exports = defineConfig({\n\ttranspileDependencies: true,\n\tpages: {\n\t\tindex: {\n\t\t\tentry: \"src/main.js\",\n\t\t\ttitle: \"æµ‹è¯•é¡¹ç›®\",\n\t\t\t// cdn: isProduction ? cdn : {},\n\t\t\tcdn,\n\t\t},\n\t},\n\t// è¾“å‡ºç›®å½•\n\toutputDir: \"dist\",\n\t// é™æ€èµ„æºç›®å½•\n\tassetsDir: \"static\",\n\t// æ˜¯å¦å¼€å¯eslintä¿å­˜æ£€æµ‹\n\tlintOnSave: true,\n\t// æ˜¯å¦åœ¨æ„å»ºç”Ÿäº§åŒ…æ—¶ç”Ÿæˆ sourceMap æ–‡ä»¶ï¼Œfalseå°†æé«˜æ„å»ºé€Ÿåº¦\n\tproductionSourceMap: false,\n\n\t// é“¾å¼ç¼–ç¨‹ ä¿®æ”¹é»˜è®¤çš„webpacké…ç½®\n\tchainWebpack: () => {\n\t\t// config.plugin(\"html\").tap(args => {\n\t\t//  args[0].title = \"æµ‹è¯•é¡¹ç›®\";\n\t\t//  return args\n\t\t// });\n\t},\n\n\t// å¯¹è±¡çš„å½¢å¼æ“ä½œ webpacké…ç½®\n\tconfigureWebpack: {\n\t\t// åˆ«å\n\t\tresolve: {\n\t\t\talias: {\n\t\t\t\t\"@\": path.resolve(__dirname, \"src\"),\n\t\t\t},\n\t\t},\n\t\tdevtool: \"inline-source-map\",\n\n\t\t// åˆ†åŒ…ä¼˜åŒ–\n\t\toptimization: {\n\t\t\tmoduleIds: \"deterministic\",\n\t\t\truntimeChunk: \"single\",\n\t\t\tminimize: true,\n\t\t\tsplitChunks: {\n\t\t\t\tchunks: \"all\", // åˆ†å‰²æ‰€æœ‰ç±»å‹çš„chunkï¼ˆåŒ…æ‹¬å¼‚æ­¥å’ŒåŒæ­¥ï¼‰\n\t\t\t\tminSize: 20000, // æœ€å°æå–æ–‡ä»¶å¤§å°ï¼ˆé»˜è®¤å€¼ï¼‰\n\t\t\t\t// maxSize: 0,\n\t\t\t\tminChunks: 2, // éœ€åœ¨ä¸¤ä¸ªæ¨¡å—ä¸­å…±äº«æ‰è¿›è¡Œæ‹†åˆ†\n\t\t\t\tmaxAsyncRequests: 5, // æœ€å¤§å¼‚æ­¥è¯·æ±‚å¹¶å‘æ•°ï¼ˆé»˜è®¤å€¼ï¼‰\n\t\t\t\tmaxInitialRequests: 3, // æœ€å¤§åˆå§‹åŒ–è¯·æ±‚å¹¶å‘æ•°ï¼ˆé»˜è®¤å€¼ï¼‰\n\t\t\t\tcacheGroups: {\n\t\t\t\t\t// vendorç»„ å­˜æ”¾node_modulesä¸‹çš„chunk\n\t\t\t\t\tvendor: {\n\t\t\t\t\t\ttest: /[\\\\/]node_modules[\\\\/]/, // åŒ¹é…node_modulesä¸‹æ‰€æœ‰çš„chunk\n\t\t\t\t\t\tname(module) {\n\t\t\t\t\t\t\tlet packageName = \"vendors\";\n\t\t\t\t\t\t\tconst reg = /[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/;\n\t\t\t\t\t\t\tif (reg.test(module.context)) {\n\t\t\t\t\t\t\t\tpackageName = module.context.match(reg)[1];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconsole.log(module.context, \"==========\");\n\t\t\t\t\t\t\t// æœ€åä»¥ chunk-lodash å‘½å\n\t\t\t\t\t\t\treturn `chunk-${packageName.replace(\"@\", \"\")}`;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// name: \"chunk-vendor\",\n\t\t\t\t\t\tpriority: 10, // ä¼˜å…ˆçº§10 ä¼˜å…ˆå°†node_modulesä¸‹çš„chunkæ‹†åˆ†åˆ°vendorç»„\n\t\t\t\t\t\treuseExistingChunk: true, // é‡ç”¨æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°ç”Ÿæˆ\n\t\t\t\t\t\tenforce: true, // å¼ºåˆ¶æ‹†åˆ†\n\t\t\t\t\t},\n\t\t\t\t\t// é»˜è®¤ç»„ énode_modulesä¸‹çš„æ–‡ä»¶å— å°†æ‰§è¡Œdefaultç¼“å­˜ç»„è§„åˆ™\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\treuseExistingChunk: true, // é‡ç”¨æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°ç”Ÿæˆ\n\t\t\t\t\t\tpriority: -10, // ä¼˜å…ˆçº§ -10\n\t\t\t\t\t\tenforce: true, // å¼ºåˆ¶æ‹†åˆ†\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t// æ’ä»¶\n\t\tplugins: [\n\t\t\tAutoImport({\n\t\t\t\tresolvers: [ElementPlusResolver()],\n\t\t\t}),\n\t\t\tComponents({\n\t\t\t\tresolvers: [ElementPlusResolver()],\n\t\t\t}),\n\t\t\t// å‹ç¼©\n\t\t\tnew CompressionWebpackPlugin({\n\t\t\t\talgorithm: \"gzip\",\n\t\t\t\ttest: new RegExp(\"\\\\.(\" + productionGzipExtensions.join(\"|\") + \")$\"),\n\t\t\t\tthreshold: 10240,\n\t\t\t\tdeleteOriginalAssets: false, // ä¸åˆ é™¤æºæ–‡ä»¶\n\t\t\t\tminRatio: 0.8,\n\t\t\t}),\n\t\t\t// æ„å»ºé¢„è§ˆ\n\t\t\tnew BundleAnalyzerPlugin(),\n\t\t],\n\n\t\t// å¿½ç•¥çš„ä¾èµ–\n\t\t// externals: isProduction ? externals : {},\n\t\texternals,\n\t},\n\n\t// æœåŠ¡\n\tdevServer: {\n\t\topen: true,\n\t\thost: \"localhost\",\n\t\tport: 8080,\n\t\thttps: false,\n\t\tclient: {\n\t\t\t// å…è®¸åœ¨æµè§ˆå™¨ä¸­è®¾ç½®æ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤æ˜¯æ™®é€šçš„æç¤º\n\t\t\tlogging: \"info\",\n\t\t\t// å½“å‡ºç°ç¼–è¯‘é”™è¯¯æˆ–è­¦å‘Šæ—¶ï¼Œåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºå…¨å±è¦†ç›–\n\t\t\toverlay: true,\n\t\t\t// åœ¨æµè§ˆå™¨ä¸­ä»¥ç™¾åˆ†æ¯”æ˜¾ç¤ºç¼–è¯‘è¿›åº¦\n\t\t\tprogress: true,\n\t\t\t// é™æ¬¡å°è¯•é‡æ–°è¿æ¥\n\t\t\treconnect: true,\n\t\t},\n\t},\n});\n```\n\n```html\n<!DOCTYPE html>\n<html lang=\"\">\n\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n\t\t<meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\" />\n\t\t<link rel=\"icon\" href=\"<%= BASE_URL %>favicon.ico\" />\n\t\t<title><%= htmlWebpackPlugin.options.title %></title>\n\n\t\t<% for (var i in htmlWebpackPlugin.options.cdn &&\n\t\thtmlWebpackPlugin.options.cdn.css) { %>\n\t\t<link href=\"<%= htmlWebpackPlugin.options.cdn.css[i] %>\" rel=\"stylesheet\" />\n\t\t<% } %> <% for (var i in htmlWebpackPlugin.options.cdn &&\n\t\thtmlWebpackPlugin.options.cdn.js) { %>\n\t\t<script src=\"<%= htmlWebpackPlugin.options.cdn.js[i] %>\"></script>\n\t\t<% } %>\n\t</head>\n\t<body>\n\t\t<noscript>\n\t\t\t<strong\n\t\t\t\t>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work\n\t\t\t\tproperly without JavaScript enabled. Please enable it to\n\t\t\t\tcontinue.</strong\n\t\t\t>\n\t\t</noscript>\n\t\t<div id=\"app\"></div>\n\t\t<!-- built files will be auto injected -->\n\t</body>\n</html>\n```\n\n## æ•ˆæœå›¾\n\n![result](https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_17-24-45.png)\n","source":"_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/é¡¹ç›®ä¼˜åŒ–/webpackæ‰“åŒ…ä¼˜åŒ–.md","raw":"---\ntitle: webpackæ‰“åŒ…ä¼˜åŒ–?\nabbrlink: 7e0eb1ea\ndate: 2023-11-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å·¥ç¨‹åŒ–\n---\n\n# ä¼˜åŒ–?\n\nå‰ç«¯çš„æ›´æ–°è¿­ä»£æ˜¯å¾ˆå¿«çš„ï¼Œä»æœ€å¼€å§‹çš„ä¸‰ä»¶å¥—åˆ°ç°åœ¨çš„å“åº”å¼å¼€å‘ï¼Œåœ¨åˆ°ç°åœ¨çš„é¡¹ç›®ç®¡ç†åŒ–ï¼›\n\näºæ˜¯å‰ç«¯åˆå¾—å­¦ä¼šå·¥ç¨‹åŒ–ä»¥åŠå¯¹é¡¹ç›®ä¼˜åŒ–çš„çŸ¥è¯†ï¼Œæœ€å¼€å§‹çš„å‰ç«¯æ˜¯æ²¡æœ‰å·¥ç¨‹è¿™ä¸€æŠ€èƒ½çš„ï¼Œ å°±æ˜¯æŠŠç®€å•çš„èµ„æºåŒºåˆ†ç›®å½•ï¼Œå†ä»ä¸åŒçš„ç›®å½•è°ƒå–ä¸åŒçš„èµ„æºæ–‡ä»¶;\n\nä½†æ˜¯æš´éœ²å‡ºæœ‰å¾ˆå¤šé—®é¢˜ï¼Œå°±å¥½æ¯”èµ„æºæ€ä¹ˆé‡å¤åˆ©ç”¨ï¼Œæ¯æ¬¡æ‰“å¼€é¡µé¢èµ„æºåˆè¦é‡æ–°åŠ è½½ï¼Œè€Œä¸æ˜¯è¯»å–ç¼“å­˜ã€‚è¿™æ ·çš„æƒ…å†µä¼šå¯¼è‡´æµè§ˆå™¨çš„å¡é¡¿ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚\n\nå†è€…å°±æ˜¯ä»£ç é£æ ¼ï¼Œèµ·åˆå“ªæœ‰é£æ ¼å°±æ˜¯å„å†™å„çš„ï¼Œå¯¹äºå›¢é˜Ÿå¼å¼€å‘ä¸€ç›´æ˜¯ä¸ªå¤´ç–¼çš„é—®é¢˜ï¼›\n\nä¹‹åå°±å‡ºç°äº†å„å¼å„æ ·çš„å·¥ç¨‹åŒ–ï¼Œæ¯”å¦‚ï¼šä»£ç æ ¼å¼åŒ–çš„é£æ ¼ï¼Œæ£€éªŒä»£ç çš„æ ¼å¼ï¼Œä»£ç å‹ç¼©ä¸æ··æ·†ç­‰ç­‰ï¼›\n\nè¿™æ ·çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯åšåˆ°ç»Ÿä¸€ï¼Œä¹‹åçš„å¼€å‘å…¨éƒ½æ˜¯ä»¥è¿™ä¸ªä¸ºæ ‡å‡†ï¼›å…³äºå¦‚ä½•è§„èŒƒåŒ–æ­å»ºé¡¹ç›®å¯ä»¥å‚è€ƒä¹‹å‰çš„æ–‡ç« [Vue é¡¹ç›®æ­å»º](/brochure/project/product/init_vue)\n\né€šè¿‡`webpack5`æ­å»ºçš„`vue3`çš„é¡¹ç›®å¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿ è¿™é‡Œå…·ä½“è¯´æ˜æ‰“åŒ…ä¼˜åŒ–; ä¸€äº›ä¼˜åŒ–çš„æ–¹æ¡ˆå¯å‚è€ƒ[ä»å“ªäº›æ–¹é¢è¿›è¡Œæ€§èƒ½ä¼˜åŒ–](/brochure/project/direction/direction)\n\n## ç®€å•äº†è§£ Webpack\n\n`Webpack` æ˜¯ä¸€ä¸ªå‰ç«¯èµ„æºæ‰“åŒ…å·¥å…·ï¼Œå¯ä»¥æŒ‰ç…§æ¨¡å—ä¾èµ–å…³ç³»æ‰“åŒ…é¡¹ç›®ï¼Œå°†ä¸åŒæ¨¡å—çš„ä¾èµ–å…³ç³»æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œæœ€ç»ˆç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªé™æ€èµ„æºï¼Œå¦‚ï¼šjsã€cssã€å›¾ç‰‡ç­‰ã€‚\n\n`Webpack`å°±æ˜¯åŒºåˆ†ä¸åŒçš„æ¨¡å—ï¼Œä¾‹å¦‚ï¼šé¡¹ç›®æ‰“åŒ…çš„å…¥å£æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Œå°†æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶æ”¾åœ¨å“ªé‡Œï¼Œæœ¬åœ°æœåŠ¡çš„é…ç½®ä»¥åŠå¯¹ä»£ç çš„æ‹†åˆ†ï¼›å…¶å®`webpack`æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„æ„ä¹‰ï¼Œå¯ä»¥ç†è§£çš„å°±æ˜¯é¡¹ç›®åº•å±‚çš„å»ºç­‘ï¼Œåªæœ‰å§é¡¹ç›®åº•å±‚æ­å»ºå®Œå–„ä¹‹åï¼Œæ‰èƒ½æ›´å¥½çš„å»å¼€å‘é¡¹ç›®ã€‚\n\né¡¹ç›®ä¸­æœ‰ä¸€äº›ç‰¹å®šçš„æ’ä»¶ï¼Œæ¯”å¦‚æ··åˆå¼å¼€å‘`h5`éœ€è¦æŸ¥çœ‹`networker`ï¼Œé‚£å°±éœ€è¦å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„`vconsole`ï¼›è¿™æ ·çš„è¯ä¸ç®¡æ‚¨æ˜¯æœ¬åœ°å¼€å‘è¿˜æ˜¯å…¶ä»–ç¯å¢ƒæµ‹è¯•éƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼›\n\n`Webpack` çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯ï¼š\n\n1. æ¨¡å—åŒ–ï¼šå°†é¡¹ç›®æ‹†åˆ†æˆå°çš„æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—åªåŒ…å«ä¸€ä¸ªåŠŸèƒ½ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚\n2. æ¨¡å—åŒ–åŠ è½½ï¼šé€šè¿‡æ¨¡å—åŒ–åŠ è½½ï¼Œå¯ä»¥å‡å°‘è¯·æ±‚æ•°é‡ï¼Œæé«˜é¡µé¢åŠ è½½é€Ÿåº¦ã€‚\n3. æ¨¡å—åŒ–ç¼–è¯‘ï¼šé€šè¿‡æ¨¡å—åŒ–ç¼–è¯‘ï¼Œå¯ä»¥å‡å°‘ä»£ç ä½“ç§¯ï¼Œæé«˜è¿è¡Œé€Ÿåº¦ã€‚\n\nä¼˜åŒ–èŒƒå›´ï¼š\n\n1. ç¼©å°æ‰“åŒ…èŒƒå›´ï¼šç¼©å°æ‰“åŒ…èŒƒå›´ï¼Œå¯ä»¥å‡å°‘æ‰“åŒ…ä½“ç§¯ã€‚\n2. ä¼˜åŒ–æ‰“åŒ…é€Ÿåº¦ï¼šä¼˜åŒ–æ‰“åŒ…é€Ÿåº¦ï¼Œå¯ä»¥å‡å°‘æ‰“åŒ…æ—¶é—´ã€‚\n3. ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯ï¼šä¼˜åŒ–æ‰“åŒ…ä½“ç§¯ï¼Œå¯ä»¥å‡å°‘æ‰“åŒ…ä½“ç§¯ã€‚\n\næœ€åˆçš„é¡¹ç›®å°±æ˜¯è¿™æ ·çš„ç›®å½•:\n\n```js\njs/*\ncss/*\nhtml/*\n...\n```\n\nä½†æ˜¯ç°åœ¨çš„é¡¹ç›®æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå¼•å…¥çš„èµ„æºä¹Ÿæ˜¯å¾ˆå¤šçš„ï¼Œæ‰€ä»¥éœ€è¦å°†è¿™äº›èµ„æºè¿›è¡Œåˆ†ç±»ï¼Œç„¶åè¿›è¡Œæ‰“åŒ…ã€‚æœ€åé€šè¿‡æ‰“åŒ…å·¥å…·æ‰“åŒ…å‡ºæ¥çš„é—®é¢˜å°±ç±»ä¼¼äºæœ€åˆçš„é¡¹ç›®;\n\n```js\nstatic / css;\nstatic / js;\nstatic / vue;\nindex.html;\n```\n\n## åˆå§‹åŒ–é¡¹ç›®\n\næˆ‘ä»¬æ‹¿`vue`æ¥è®², å…ˆè¦åœ¨å…¨å±€å®‰è£…`@vue/cli`, åé¢æˆ‘ä»¬ä¼šè¯´åˆ°ä¸ºä»€ä¹ˆè¦å®‰è£…å…¨å±€;\n\n```sh\nnpm i -g @vue/cli\n```\n\nå®‰è£…æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„é¡¹ç›®:\n\n```sh\nvue create é¡¹ç›®åç§°\n```\n\næˆ‘ä»¬é€‰æ‹©`vue3`è¿›è¡Œé¡¹ç›®æµ‹è¯•æ‰“åŒ…; å®‰è£…æˆåŠŸä¹‹å`install` å®Œæˆä¹‹åä½¿ç”¨`vue ui`å¯ä»¥é€šè¿‡å¯è§†åŒ–é¢æ¿å¯¼å…¥é¡¹ç›®ï¼Œè¿™æ ·çš„åŒ–å°±å¯ä»¥æŸ¥çœ‹è‡ªå·±é¡¹ç›®å®‰è£…çš„ä¾èµ–ä»¥åŠå¯¹ä¾èµ–è¿›è¡Œæ›´æ–°çš„æ“ä½œ;\n\næ•ˆæœå¦‚ä¸‹ï¼š\n\n![ui](https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_16-48-15.png)\n\nç‚¹å¼€`ä»»åŠ¡`ï¼š\n\n![ä»»åŠ¡](https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_16-49-34.png)\n\nè¿™é‡Œæˆ‘ä»¬å°±èƒ½çœ‹åˆ°é¡¹ç›®çš„ä¸€äº›èµ„æºå¤§å°ï¼Œç„¶åé€šè¿‡`webpack`é…ç½®é’ˆå¯¹äºè¿™äº›ä¾èµ–é¡¹ç›®è¿›è¡Œä¼˜åŒ–;\n\n## ä¼˜åŒ–\n\né¦–å…ˆè¦å…ˆçŸ¥é“`public/index.html`æ–‡ä»¶ä¸­çš„`<title><%= htmlWebpackPlugin.options.title %></title>`æ˜¯æ€ä¹ˆæ¥çš„ï¼›\n\nå¯¹æœ€å¼€å§‹çš„ç‰ˆæœ¬æ˜¯éœ€è¦å®‰è£…`htmlWebpackPlugin`å¯¹åº”çš„ä¾èµ–ï¼Œç„¶ååœ¨`webpack.config.js`ä¸­é…ç½®`htmlWebpackPlugin`ï¼Œç„¶åå°±å¯ä»¥åœ¨`public/index.html`ä¸­é€šè¿‡`<%= htmlWebpackPlugin.options.title %>`æ¥è·å–`title`çš„å€¼äº†ï¼›[html-webpack-plugin](https://www.npmjs.com/package/html-webpack-plugin)\n\n```js\nconst HtmlWebpackPlugin = require(\"html-webpack-plugin\");\n{\n\tplugins: [\n\t\tnew HtmlWebpackPlugin({\n\t\t\ttitle: \"My App\", // æ ‡é¢˜\n\t\t\tfilename: \"assets/admin.html\", // æ–‡ä»¶\n\t\t}),\n\t];\n}\n```\n\n## å¦‚ä½•è®¾ç½® title\n\nä½†æ˜¯å¯¹äºé«˜ç‰ˆæœ¬å°±ä¸éœ€è¦ç‰¹åˆ«å®‰è£…æ’ä»¶äº†ï¼›æƒ³è¦è®¾ç½®`title`æœ‰ä¿©ç§æ–¹æ¡ˆ: åœ¨`vue.config.js`ä¸­é…ç½®\n\n### æ–¹æ¡ˆä¸€\n\n```js\nmodule.exports = defineConfig({\n transpileDependencies: true,\n pages: {\n  index: {\n   entry: \"src/main.js\",\n   title: \"æµ‹è¯•é¡¹ç›®\", // è¿™é‡Œå°±æ˜¯æœ€ç»ˆçš„title\n  },\n },\n}\n```\n\n### æ–¹æ¡ˆäºŒ\n\n```js\n{\n\tchainWebpack: config => {\n\t\tconfig.plugin(\"html\").tap(args => {\n\t\t\targs[0].title = \"æµ‹è¯•é¡¹ç›®\";\n\t\t\treturn args;\n\t\t});\n\t};\n}\n```\n\nè¿™æ ·æ‚¨å°±å¯ä»¥å®šåˆ¶åŒ–æ ‡é¢˜äº†;\n\n## è®¾ç½®æ‰“åŒ…ç›®å½•ä»¥åŠé™æ€èµ„æºç›®å½•\n\nå¯¹äºé…ç½®, æ‰“åŒ…ç›®å½•é»˜è®¤çš„æ˜¯`dist`, é™æ€ç›®å½•é»˜è®¤çš„æ˜¯`static`; å½“ç„¶æ‚¨å¯ä»¥è‡ªå®šä¹‰\n\n```js\n{\n  // è¾“å‡ºç›®å½•\n outputDir: \"dist\",\n // é™æ€èµ„æºç›®å½•\n assetsDir: \"static\",\n}\n```\n\n## ç®€å•åŒºåˆ† chainWebpack å’Œ configureWebpack\n\n1. `configureWebpack`: é€šè¿‡æ“ä½œå¯¹è±¡çš„å½¢å¼ï¼Œæ¥ä¿®æ”¹é»˜è®¤çš„ webpack é…ç½®ï¼Œè¯¥å¯¹è±¡å°†ä¼šè¢« webpack-merge åˆå¹¶å…¥æœ€ç»ˆçš„ webpack é…ç½®\n2. `chainWebpack` é€šè¿‡é“¾å¼ç¼–ç¨‹çš„å½¢å¼ï¼Œæ¥ä¿®æ”¹é»˜è®¤çš„ webpack é…ç½®\n\n```js\n// configureWebpack å½¢å¼\n{\n  configureWebpack:{\n    resolve: {\n      // åˆ«åé…ç½®\n      alias: {\n        'assets': '@/assets',\n        'common': '@/common',\n        'components': '@/components',\n        'network': '@/network',\n        'configs': '@/configs',\n        'views': '@/views',\n        'plugins': '@/plugins',\n      }\n    }\n  },\n}\n```\n\n```js\n// chainWebpackå½¢å¼\n{\n\tchainWebpack: config => {\n\t\tconfig.resolve.alias\n\t\t\t.set(\"@\", resolve(\"src\"))\n\t\t\t.set(\"@v\", resolve(\"src/views\"))\n\t\t\t.set(\"@c\", resolve(\"src/components\"))\n\t\t\t.set(\"@u\", resolve(\"src/util\"))\n\t\t\t.set(\"@h\", resolve(\"src/hooks\"));\n\t};\n}\n```\n\nè¿™é‡Œæˆ‘ä»¬é€šè¿‡å¯¹è±¡çš„å½¢å¼å¯¹åˆ«åè¿›è¡Œé…ç½®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„çš„å½¢å¼ï¼Œä½†æ˜¯æ•°ç»„çš„å½¢å¼éœ€è¦æˆ‘ä»¬è‡ªå·±è¿›è¡Œé…ç½®ï¼›ä¹Ÿæ˜¯é€šè¿‡å¯¹è±¡çš„å½¢å¼å»åˆ†åŒ…\n\n## åˆ†åŒ…ä¼˜åŒ–\n\næˆ‘ä»¬çš„é¡¹ç›®ç”¨çš„æœ‰`uiç»„ä»¶, lodashä¸€äº›ç‰¹å®šçš„å·¥å…·ï¼Œè¿˜æœ‰axios, vuexæˆ–è€…pinia`ç­‰ç­‰ï¼›ä½†æ˜¯å¯¹äºä¸€äº›æ’ä»¶æ˜¯å¾ˆå¤§çš„ï¼ŒåŒ…æ‹¬è‡ªå·±å†å†™é¡µé¢çš„æ—¶å€™æ²¡æœ‰æ³¨æ„ä¼˜åŒ–çš„æ€ç»´é‚£ä¹ˆåæœŸç»´æŠ¤èµ·æ¥ç»å¯¹æ˜¯å¾ˆç—›è‹¦çš„ï¼›\n\nç®€å•çš„è¯´åˆ†åŒ…å°±æ˜¯ å°†ä¸€äº›`install`çš„ä¾èµ–è¿›è¡Œåˆ†åŒ…ï¼Œæ¯”å¦‚`axios`ï¼Œ`vuex`ï¼Œ`pinia`ç­‰ç­‰ï¼›æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶å¦‚ï¼š`chunk-axios.js`ï¼Œ`chunk-vuex.js`ï¼Œ`chunk-pinia.js`ç­‰ç­‰ï¼›è¿™æ ·çš„è¯æˆ‘ä»¬å°±çŸ¥é“è¿™äº›æ–‡ä»¶éƒ½æ˜¯ä»€ä¹ˆæ–‡ä»¶äº†, è€Œä¸æ˜¯`common.js, vendor.js`ï¼›\n\n```js\n{\n  configureWebpack: {\n    optimization: {\n      moduleIds: \"deterministic\",\n      runtimeChunk: \"single\",\n      minimize: true,\n      splitChunks: {\n        // åˆ†å‰²æ‰€æœ‰ç±»å‹çš„chunkï¼ˆåŒ…æ‹¬å¼‚æ­¥å’ŒåŒæ­¥ï¼‰\n        chunks: \"all\",\n        // æœ€å°æå–æ–‡ä»¶å¤§å°ï¼ˆé»˜è®¤å€¼ï¼‰\n        minSize: 20000,\n        // maxSize: 0,\n        // éœ€åœ¨ä¸¤ä¸ªæ¨¡å—ä¸­å…±äº«æ‰è¿›è¡Œæ‹†åˆ†\n        minChunks: 2,\n        // æœ€å¤§å¼‚æ­¥è¯·æ±‚å¹¶å‘æ•°ï¼ˆé»˜è®¤å€¼ï¼‰\n        maxAsyncRequests: 5,\n        // æœ€å¤§åˆå§‹åŒ–è¯·æ±‚å¹¶å‘æ•°ï¼ˆé»˜è®¤å€¼ï¼‰\n        maxInitialRequests: 3,\n        // ç¼“å­˜ç»„\n        cacheGroups: {\n        // vendorç»„ å­˜æ”¾node_modulesä¸‹çš„chunk\n        vendor: {\n          // åŒ¹é…node_modulesä¸‹æ‰€æœ‰çš„chunk\n          test: /[\\\\/]node_modules[\\\\/]/,\n          name(module) {\n          let packageName = \"vendors\";\n          const reg = /[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/;\n          if (reg.test(module.context)) {\n            packageName = module.context.match(reg)[1];\n          }\n          // æœ€åä»¥ chunk-lodash å‘½å\n          return `chunk-${packageName.replace(\"@\", \"\")}`;\n          },\n          // ä¼˜å…ˆçº§10 ä¼˜å…ˆå°†node_modulesä¸‹çš„chunkæ‹†åˆ†åˆ°vendorç»„\n          priority: 10,\n          // é‡ç”¨æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°ç”Ÿæˆ\n          reuseExistingChunk: true,\n          // å¼ºåˆ¶æ‹†åˆ†\n          enforce: true,\n        },\n        // é»˜è®¤ç»„ énode_modulesä¸‹çš„æ–‡ä»¶å— å°†æ‰§è¡Œdefaultç¼“å­˜ç»„è§„åˆ™\n        default: {\n          // é‡ç”¨æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°ç”Ÿæˆ\n          reuseExistingChunk: true,\n          // ä¼˜å…ˆçº§ -10\n          priority: -10,\n          // å¼ºåˆ¶æ‹†åˆ†\n          enforce: true,\n        },\n        },\n      },\n    }\n  }\n}\n```\n\nè¿™æ ·çš„è¯ä¸€äº›åŸºç¡€çš„å…¬å…±æ¨¡å—å°±ä¼šè¢«æŠ½ç¦»å‡ºæ¥ï¼Œ è¿™æ ·åœ¨æ‰“åŒ…çš„æ—¶å€™ï¼Œ å°±ä¸ä¼šç”Ÿæˆå¤šä¸ªå…¬å…±æ¨¡å—äº†ã€‚ å…·ä½“çš„å‚æ•°é…ç½®å¯å‚è€ƒæ–‡æ¡£ [webpack](https://webpack.docschina.org/)\n\n## æ’ä»¶\n\nä½†æ˜¯åšåˆ°è¿™é‡Œè¿˜æ˜¯ä¸å¤Ÿçš„ï¼Œå°±æ¯”å¦‚æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶è¿›è¡Œ`gz`å‹ç¼©ï¼Œç»„ä»¶æŒ‰éœ€åŠ è½½ç­‰ç­‰;\n\n```js\nconst AutoImport = require(\"unplugin-auto-import/webpack\");\nconst Components = require(\"unplugin-vue-components/webpack\");\nconst { ElementPlusResolver } = require(\"unplugin-vue-components/resolvers\");\nconst BundleAnalyzerPlugin = require(\"webpack-bundle-analyzer\").BundleAnalyzerPlugin;\nconst productionGzipExtensions = [\"js\", \"css\"];\n{\n  configureWebpack: {\n    // æ’ä»¶\n    plugins: [\n    // å…·ä½“æŸ¥çœ‹element-plusæ–‡æ¡£\n    AutoImport({\n      resolvers: [ElementPlusResolver()],\n    }),\n    Components({\n      resolvers: [ElementPlusResolver()],\n    }),\n    // å‹ç¼©\n    new CompressionWebpackPlugin({\n      algorithm: \"gzip\",\n      test: new RegExp(\"\\\\.(\" + productionGzipExtensions.join(\"|\") + \")$\"),\n      threshold: 10240,\n      deleteOriginalAssets: false, // ä¸åˆ é™¤æºæ–‡ä»¶\n      minRatio: 0.8,\n    }),\n    // æ„å»ºé¢„è§ˆï¼Œ æ‰“åŒ…åˆ†æ\n    new BundleAnalyzerPlugin(),\n    ],\n  }\n}\n```\n\n## å¿½ç•¥æ‰“åŒ…çš„ä¾èµ–\n\n```js\nconst cdn = {\n css: [\"https://cdn.bootcdn.net/ajax/libs/element-plus/2.7.2/index.min.css\"],\n js: [\n  // vue\n  \"https://cdn.bootcdn.net/ajax/libs/vue/3.2.13/vue.global.min.js\",\n  // ele\n  \"https://cdn.bootcdn.net/ajax/libs/element-plus-icons-vue/2.3.1/global.iife.min.js\",\n  \"https://cdn.bootcdn.net/ajax/libs/element-plus/2.7.2/index.full.min.js\",\n  // lodash\n  \"https://cdn.bootcdn.net/ajax/libs/lodash.js/4.17.21/lodash.min.js\",\n  // router\n  \"https://cdn.bootcdn.net/ajax/libs/vue-router/4.3.2/vue-router.global.min.js\",\n ],\n};\n\n{\n  configureWebpack: {\n    externals: {\n      // å°†ä¸€äº›ä½“ç§¯æ¯”è¾ƒå¤§çš„åŒ…æ‹†å‡ºæ¥ï¼Œä»¥cdnçš„é“¾æ¥å¼•å…¥ï¼Œ è¿™æ ·å‡å°‘æ‰“åŒ…ä½“ç§¯\n      vue: \"Vue\",\n      \"element-plus\": \"ElementPlus\",\n      \"@element-plus/icons-vue\": \"ElementPlusIconsVue\",\n      \"lodash-es\": \"_\",\n      \"vue-router\": \"VueRouter\",\n    }\n  }\n}\n```\n\næ¥ç€åœ¨`public/index.html`é…ç½® cdn\n\n```js\n<% for (var i in htmlWebpackPlugin.options.cdn && htmlWebpackPlugin.options.cdn.css) { %>\n  <link href=\"<%= htmlWebpackPlugin.options.cdn.css[i] %>\" rel=\"stylesheet\" />\n<% } %>\n\n\n<% for (var i in htmlWebpackPlugin.options.cdn && htmlWebpackPlugin.options.cdn.js) { %>\n  <script src=\"<%= htmlWebpackPlugin.options.cdn.js[i] %>\" ></script>\n<% } %>\n```\n\n## é…ç½® devserver\n\n```js\n{\n  devServer: {\n    open: true,\n    host: \"localhost\",\n    port: 8080,\n    https: false,\n    client: {\n      // å…è®¸åœ¨æµè§ˆå™¨ä¸­è®¾ç½®æ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤æ˜¯æ™®é€šçš„æç¤º\n      logging: \"info\",\n      // å½“å‡ºç°ç¼–è¯‘é”™è¯¯æˆ–è­¦å‘Šæ—¶ï¼Œåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºå…¨å±è¦†ç›–\n      overlay: true,\n      // åœ¨æµè§ˆå™¨ä¸­ä»¥ç™¾åˆ†æ¯”æ˜¾ç¤ºç¼–è¯‘è¿›åº¦ï¼› æ‰“å¼€æ§åˆ¶å°å°±å¯ä»¥çœ‹è§\n      progress: true,\n      // é™æ¬¡å°è¯•é‡æ–°è¿æ¥\n      reconnect: true,\n    },\n  },\n}\n```\n\nåˆ°è¿™é‡Œä¸€ä¸ªç®€å•çš„`webpack`æ‰“åŒ…ä¼˜åŒ–å°±å®Œæˆäº†ï¼›æˆ‘ä»¬é€šè¿‡`vue ui`æ‰“åŒ…çœ‹ä¸€ä¸‹;\n\n![build](https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_17-18-15.png)\n\nè¿™é‡Œçš„æˆ‘ä»¬å°±å¯ä»¥çœ‹å‡ºå‹ç¼©å‰ä¸å‹ç¼©åçš„æ–‡ä»¶å¤§å°å¯¹æ¯”ï¼Œéƒ¨ç½²é¡¹ç›®ä¹Ÿå¯ä»¥è½»æ¾çš„å®ç°`CDN`åŠ é€Ÿï¼Œ ä¼˜åŒ–æ‰“åŒ…é€Ÿåº¦ï¼Œ å‡å°‘æœåŠ¡å™¨å‹åŠ›ï¼Œ æå‡ç”¨æˆ·ä½“éªŒã€‚é‚£è¿™æ ·çš„æ˜¯ä¸æ˜¯å¯ä»¥åšåˆ°ç¬é—´æ‰“å¼€é¡µé¢å‘¢ï¼Ÿ\n\n![success](https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_17-20-15.png)\n\n![success](https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_17-21-36.png)\n\nç„¶åæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä¸€ä¸ªé¡¹ç›®æœ€åæ‰€ç”¨åˆ°çš„èµ„æºå¤§å°ï¼›\n\n## æœ€ç»ˆæµ‹è¯•ä»£ç \n\n```js\nconst { defineConfig } = require(\"@vue/cli-service\");\nconst CompressionWebpackPlugin = require(\"compression-webpack-plugin\");\nconst AutoImport = require(\"unplugin-auto-import/webpack\");\nconst Components = require(\"unplugin-vue-components/webpack\");\nconst { ElementPlusResolver } = require(\"unplugin-vue-components/resolvers\");\nconst BundleAnalyzerPlugin =\n\trequire(\"webpack-bundle-analyzer\").BundleAnalyzerPlugin;\n\nconst path = require(\"path\");\n\n// const isProduction = process.env.NODE_ENV === \"production\";\n\nconst cdn = {\n\tcss: [\"https://cdn.bootcdn.net/ajax/libs/element-plus/2.7.2/index.min.css\"],\n\tjs: [\n\t\t// vue\n\t\t\"https://cdn.bootcdn.net/ajax/libs/vue/3.2.13/vue.global.min.js\",\n\t\t// ele\n\t\t\"https://cdn.bootcdn.net/ajax/libs/element-plus-icons-vue/2.3.1/global.iife.min.js\",\n\t\t\"https://cdn.bootcdn.net/ajax/libs/element-plus/2.7.2/index.full.min.js\",\n\t\t// lodash\n\t\t\"https://cdn.bootcdn.net/ajax/libs/lodash.js/4.17.21/lodash.min.js\",\n\t\t// router\n\t\t\"https://cdn.bootcdn.net/ajax/libs/vue-router/4.3.2/vue-router.global.min.js\",\n\t],\n};\n\nconst externals = {\n\tvue: \"Vue\",\n\t\"element-plus\": \"ElementPlus\",\n\t\"@element-plus/icons-vue\": \"ElementPlusIconsVue\",\n\t\"lodash-es\": \"_\",\n\t\"vue-router\": \"VueRouter\",\n};\n\nconst productionGzipExtensions = [\"js\", \"css\"];\n\nmodule.exports = defineConfig({\n\ttranspileDependencies: true,\n\tpages: {\n\t\tindex: {\n\t\t\tentry: \"src/main.js\",\n\t\t\ttitle: \"æµ‹è¯•é¡¹ç›®\",\n\t\t\t// cdn: isProduction ? cdn : {},\n\t\t\tcdn,\n\t\t},\n\t},\n\t// è¾“å‡ºç›®å½•\n\toutputDir: \"dist\",\n\t// é™æ€èµ„æºç›®å½•\n\tassetsDir: \"static\",\n\t// æ˜¯å¦å¼€å¯eslintä¿å­˜æ£€æµ‹\n\tlintOnSave: true,\n\t// æ˜¯å¦åœ¨æ„å»ºç”Ÿäº§åŒ…æ—¶ç”Ÿæˆ sourceMap æ–‡ä»¶ï¼Œfalseå°†æé«˜æ„å»ºé€Ÿåº¦\n\tproductionSourceMap: false,\n\n\t// é“¾å¼ç¼–ç¨‹ ä¿®æ”¹é»˜è®¤çš„webpacké…ç½®\n\tchainWebpack: () => {\n\t\t// config.plugin(\"html\").tap(args => {\n\t\t//  args[0].title = \"æµ‹è¯•é¡¹ç›®\";\n\t\t//  return args\n\t\t// });\n\t},\n\n\t// å¯¹è±¡çš„å½¢å¼æ“ä½œ webpacké…ç½®\n\tconfigureWebpack: {\n\t\t// åˆ«å\n\t\tresolve: {\n\t\t\talias: {\n\t\t\t\t\"@\": path.resolve(__dirname, \"src\"),\n\t\t\t},\n\t\t},\n\t\tdevtool: \"inline-source-map\",\n\n\t\t// åˆ†åŒ…ä¼˜åŒ–\n\t\toptimization: {\n\t\t\tmoduleIds: \"deterministic\",\n\t\t\truntimeChunk: \"single\",\n\t\t\tminimize: true,\n\t\t\tsplitChunks: {\n\t\t\t\tchunks: \"all\", // åˆ†å‰²æ‰€æœ‰ç±»å‹çš„chunkï¼ˆåŒ…æ‹¬å¼‚æ­¥å’ŒåŒæ­¥ï¼‰\n\t\t\t\tminSize: 20000, // æœ€å°æå–æ–‡ä»¶å¤§å°ï¼ˆé»˜è®¤å€¼ï¼‰\n\t\t\t\t// maxSize: 0,\n\t\t\t\tminChunks: 2, // éœ€åœ¨ä¸¤ä¸ªæ¨¡å—ä¸­å…±äº«æ‰è¿›è¡Œæ‹†åˆ†\n\t\t\t\tmaxAsyncRequests: 5, // æœ€å¤§å¼‚æ­¥è¯·æ±‚å¹¶å‘æ•°ï¼ˆé»˜è®¤å€¼ï¼‰\n\t\t\t\tmaxInitialRequests: 3, // æœ€å¤§åˆå§‹åŒ–è¯·æ±‚å¹¶å‘æ•°ï¼ˆé»˜è®¤å€¼ï¼‰\n\t\t\t\tcacheGroups: {\n\t\t\t\t\t// vendorç»„ å­˜æ”¾node_modulesä¸‹çš„chunk\n\t\t\t\t\tvendor: {\n\t\t\t\t\t\ttest: /[\\\\/]node_modules[\\\\/]/, // åŒ¹é…node_modulesä¸‹æ‰€æœ‰çš„chunk\n\t\t\t\t\t\tname(module) {\n\t\t\t\t\t\t\tlet packageName = \"vendors\";\n\t\t\t\t\t\t\tconst reg = /[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/;\n\t\t\t\t\t\t\tif (reg.test(module.context)) {\n\t\t\t\t\t\t\t\tpackageName = module.context.match(reg)[1];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconsole.log(module.context, \"==========\");\n\t\t\t\t\t\t\t// æœ€åä»¥ chunk-lodash å‘½å\n\t\t\t\t\t\t\treturn `chunk-${packageName.replace(\"@\", \"\")}`;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// name: \"chunk-vendor\",\n\t\t\t\t\t\tpriority: 10, // ä¼˜å…ˆçº§10 ä¼˜å…ˆå°†node_modulesä¸‹çš„chunkæ‹†åˆ†åˆ°vendorç»„\n\t\t\t\t\t\treuseExistingChunk: true, // é‡ç”¨æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°ç”Ÿæˆ\n\t\t\t\t\t\tenforce: true, // å¼ºåˆ¶æ‹†åˆ†\n\t\t\t\t\t},\n\t\t\t\t\t// é»˜è®¤ç»„ énode_modulesä¸‹çš„æ–‡ä»¶å— å°†æ‰§è¡Œdefaultç¼“å­˜ç»„è§„åˆ™\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\treuseExistingChunk: true, // é‡ç”¨æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°ç”Ÿæˆ\n\t\t\t\t\t\tpriority: -10, // ä¼˜å…ˆçº§ -10\n\t\t\t\t\t\tenforce: true, // å¼ºåˆ¶æ‹†åˆ†\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t// æ’ä»¶\n\t\tplugins: [\n\t\t\tAutoImport({\n\t\t\t\tresolvers: [ElementPlusResolver()],\n\t\t\t}),\n\t\t\tComponents({\n\t\t\t\tresolvers: [ElementPlusResolver()],\n\t\t\t}),\n\t\t\t// å‹ç¼©\n\t\t\tnew CompressionWebpackPlugin({\n\t\t\t\talgorithm: \"gzip\",\n\t\t\t\ttest: new RegExp(\"\\\\.(\" + productionGzipExtensions.join(\"|\") + \")$\"),\n\t\t\t\tthreshold: 10240,\n\t\t\t\tdeleteOriginalAssets: false, // ä¸åˆ é™¤æºæ–‡ä»¶\n\t\t\t\tminRatio: 0.8,\n\t\t\t}),\n\t\t\t// æ„å»ºé¢„è§ˆ\n\t\t\tnew BundleAnalyzerPlugin(),\n\t\t],\n\n\t\t// å¿½ç•¥çš„ä¾èµ–\n\t\t// externals: isProduction ? externals : {},\n\t\texternals,\n\t},\n\n\t// æœåŠ¡\n\tdevServer: {\n\t\topen: true,\n\t\thost: \"localhost\",\n\t\tport: 8080,\n\t\thttps: false,\n\t\tclient: {\n\t\t\t// å…è®¸åœ¨æµè§ˆå™¨ä¸­è®¾ç½®æ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤æ˜¯æ™®é€šçš„æç¤º\n\t\t\tlogging: \"info\",\n\t\t\t// å½“å‡ºç°ç¼–è¯‘é”™è¯¯æˆ–è­¦å‘Šæ—¶ï¼Œåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºå…¨å±è¦†ç›–\n\t\t\toverlay: true,\n\t\t\t// åœ¨æµè§ˆå™¨ä¸­ä»¥ç™¾åˆ†æ¯”æ˜¾ç¤ºç¼–è¯‘è¿›åº¦\n\t\t\tprogress: true,\n\t\t\t// é™æ¬¡å°è¯•é‡æ–°è¿æ¥\n\t\t\treconnect: true,\n\t\t},\n\t},\n});\n```\n\n```html\n<!DOCTYPE html>\n<html lang=\"\">\n\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n\t\t<meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\" />\n\t\t<link rel=\"icon\" href=\"<%= BASE_URL %>favicon.ico\" />\n\t\t<title><%= htmlWebpackPlugin.options.title %></title>\n\n\t\t<% for (var i in htmlWebpackPlugin.options.cdn &&\n\t\thtmlWebpackPlugin.options.cdn.css) { %>\n\t\t<link href=\"<%= htmlWebpackPlugin.options.cdn.css[i] %>\" rel=\"stylesheet\" />\n\t\t<% } %> <% for (var i in htmlWebpackPlugin.options.cdn &&\n\t\thtmlWebpackPlugin.options.cdn.js) { %>\n\t\t<script src=\"<%= htmlWebpackPlugin.options.cdn.js[i] %>\"></script>\n\t\t<% } %>\n\t</head>\n\t<body>\n\t\t<noscript>\n\t\t\t<strong\n\t\t\t\t>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work\n\t\t\t\tproperly without JavaScript enabled. Please enable it to\n\t\t\t\tcontinue.</strong\n\t\t\t>\n\t\t</noscript>\n\t\t<div id=\"app\"></div>\n\t\t<!-- built files will be auto injected -->\n\t</body>\n</html>\n```\n\n## æ•ˆæœå›¾\n\n![result](https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_17-24-45.png)\n","slug":"æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/é¡¹ç›®ä¼˜åŒ–/webpackæ‰“åŒ…ä¼˜åŒ–","published":1,"updated":"2025-03-13T10:16:19.197Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0jb0082fg9m5zgm6yha","content":"<h1 id=\"ä¼˜åŒ–\"><a href=\"#ä¼˜åŒ–\" class=\"headerlink\" title=\"ä¼˜åŒ–?\"></a>ä¼˜åŒ–?</h1><p>å‰ç«¯çš„æ›´æ–°è¿­ä»£æ˜¯å¾ˆå¿«çš„ï¼Œä»æœ€å¼€å§‹çš„ä¸‰ä»¶å¥—åˆ°ç°åœ¨çš„å“åº”å¼å¼€å‘ï¼Œåœ¨åˆ°ç°åœ¨çš„é¡¹ç›®ç®¡ç†åŒ–ï¼›</p>\n<p>äºæ˜¯å‰ç«¯åˆå¾—å­¦ä¼šå·¥ç¨‹åŒ–ä»¥åŠå¯¹é¡¹ç›®ä¼˜åŒ–çš„çŸ¥è¯†ï¼Œæœ€å¼€å§‹çš„å‰ç«¯æ˜¯æ²¡æœ‰å·¥ç¨‹è¿™ä¸€æŠ€èƒ½çš„ï¼Œ å°±æ˜¯æŠŠç®€å•çš„èµ„æºåŒºåˆ†ç›®å½•ï¼Œå†ä»ä¸åŒçš„ç›®å½•è°ƒå–ä¸åŒçš„èµ„æºæ–‡ä»¶;</p>\n<p>ä½†æ˜¯æš´éœ²å‡ºæœ‰å¾ˆå¤šé—®é¢˜ï¼Œå°±å¥½æ¯”èµ„æºæ€ä¹ˆé‡å¤åˆ©ç”¨ï¼Œæ¯æ¬¡æ‰“å¼€é¡µé¢èµ„æºåˆè¦é‡æ–°åŠ è½½ï¼Œè€Œä¸æ˜¯è¯»å–ç¼“å­˜ã€‚è¿™æ ·çš„æƒ…å†µä¼šå¯¼è‡´æµè§ˆå™¨çš„å¡é¡¿ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚</p>\n<p>å†è€…å°±æ˜¯ä»£ç é£æ ¼ï¼Œèµ·åˆå“ªæœ‰é£æ ¼å°±æ˜¯å„å†™å„çš„ï¼Œå¯¹äºå›¢é˜Ÿå¼å¼€å‘ä¸€ç›´æ˜¯ä¸ªå¤´ç–¼çš„é—®é¢˜ï¼›</p>\n<p>ä¹‹åå°±å‡ºç°äº†å„å¼å„æ ·çš„å·¥ç¨‹åŒ–ï¼Œæ¯”å¦‚ï¼šä»£ç æ ¼å¼åŒ–çš„é£æ ¼ï¼Œæ£€éªŒä»£ç çš„æ ¼å¼ï¼Œä»£ç å‹ç¼©ä¸æ··æ·†ç­‰ç­‰ï¼›</p>\n<p>è¿™æ ·çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯åšåˆ°ç»Ÿä¸€ï¼Œä¹‹åçš„å¼€å‘å…¨éƒ½æ˜¯ä»¥è¿™ä¸ªä¸ºæ ‡å‡†ï¼›å…³äºå¦‚ä½•è§„èŒƒåŒ–æ­å»ºé¡¹ç›®å¯ä»¥å‚è€ƒä¹‹å‰çš„æ–‡ç« <a href=\"/brochure/project/product/init_vue\">Vue é¡¹ç›®æ­å»º</a></p>\n<p>é€šè¿‡<code>webpack5</code>æ­å»ºçš„<code>vue3</code>çš„é¡¹ç›®å¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿ è¿™é‡Œå…·ä½“è¯´æ˜æ‰“åŒ…ä¼˜åŒ–; ä¸€äº›ä¼˜åŒ–çš„æ–¹æ¡ˆå¯å‚è€ƒ<a href=\"/brochure/project/direction/direction\">ä»å“ªäº›æ–¹é¢è¿›è¡Œæ€§èƒ½ä¼˜åŒ–</a></p>\n<h2 id=\"ç®€å•äº†è§£-Webpack\"><a href=\"#ç®€å•äº†è§£-Webpack\" class=\"headerlink\" title=\"ç®€å•äº†è§£ Webpack\"></a>ç®€å•äº†è§£ Webpack</h2><p><code>Webpack</code> æ˜¯ä¸€ä¸ªå‰ç«¯èµ„æºæ‰“åŒ…å·¥å…·ï¼Œå¯ä»¥æŒ‰ç…§æ¨¡å—ä¾èµ–å…³ç³»æ‰“åŒ…é¡¹ç›®ï¼Œå°†ä¸åŒæ¨¡å—çš„ä¾èµ–å…³ç³»æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œæœ€ç»ˆç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªé™æ€èµ„æºï¼Œå¦‚ï¼šjsã€cssã€å›¾ç‰‡ç­‰ã€‚</p>\n<p><code>Webpack</code>å°±æ˜¯åŒºåˆ†ä¸åŒçš„æ¨¡å—ï¼Œä¾‹å¦‚ï¼šé¡¹ç›®æ‰“åŒ…çš„å…¥å£æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Œå°†æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶æ”¾åœ¨å“ªé‡Œï¼Œæœ¬åœ°æœåŠ¡çš„é…ç½®ä»¥åŠå¯¹ä»£ç çš„æ‹†åˆ†ï¼›å…¶å®<code>webpack</code>æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„æ„ä¹‰ï¼Œå¯ä»¥ç†è§£çš„å°±æ˜¯é¡¹ç›®åº•å±‚çš„å»ºç­‘ï¼Œåªæœ‰å§é¡¹ç›®åº•å±‚æ­å»ºå®Œå–„ä¹‹åï¼Œæ‰èƒ½æ›´å¥½çš„å»å¼€å‘é¡¹ç›®ã€‚</p>\n<p>é¡¹ç›®ä¸­æœ‰ä¸€äº›ç‰¹å®šçš„æ’ä»¶ï¼Œæ¯”å¦‚æ··åˆå¼å¼€å‘<code>h5</code>éœ€è¦æŸ¥çœ‹<code>networker</code>ï¼Œé‚£å°±éœ€è¦å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„<code>vconsole</code>ï¼›è¿™æ ·çš„è¯ä¸ç®¡æ‚¨æ˜¯æœ¬åœ°å¼€å‘è¿˜æ˜¯å…¶ä»–ç¯å¢ƒæµ‹è¯•éƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼›</p>\n<p><code>Webpack</code> çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯ï¼š</p>\n<ol>\n<li>æ¨¡å—åŒ–ï¼šå°†é¡¹ç›®æ‹†åˆ†æˆå°çš„æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—åªåŒ…å«ä¸€ä¸ªåŠŸèƒ½ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚</li>\n<li>æ¨¡å—åŒ–åŠ è½½ï¼šé€šè¿‡æ¨¡å—åŒ–åŠ è½½ï¼Œå¯ä»¥å‡å°‘è¯·æ±‚æ•°é‡ï¼Œæé«˜é¡µé¢åŠ è½½é€Ÿåº¦ã€‚</li>\n<li>æ¨¡å—åŒ–ç¼–è¯‘ï¼šé€šè¿‡æ¨¡å—åŒ–ç¼–è¯‘ï¼Œå¯ä»¥å‡å°‘ä»£ç ä½“ç§¯ï¼Œæé«˜è¿è¡Œé€Ÿåº¦ã€‚</li>\n</ol>\n<p>ä¼˜åŒ–èŒƒå›´ï¼š</p>\n<ol>\n<li>ç¼©å°æ‰“åŒ…èŒƒå›´ï¼šç¼©å°æ‰“åŒ…èŒƒå›´ï¼Œå¯ä»¥å‡å°‘æ‰“åŒ…ä½“ç§¯ã€‚</li>\n<li>ä¼˜åŒ–æ‰“åŒ…é€Ÿåº¦ï¼šä¼˜åŒ–æ‰“åŒ…é€Ÿåº¦ï¼Œå¯ä»¥å‡å°‘æ‰“åŒ…æ—¶é—´ã€‚</li>\n<li>ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯ï¼šä¼˜åŒ–æ‰“åŒ…ä½“ç§¯ï¼Œå¯ä»¥å‡å°‘æ‰“åŒ…ä½“ç§¯ã€‚</li>\n</ol>\n<p>æœ€åˆçš„é¡¹ç›®å°±æ˜¯è¿™æ ·çš„ç›®å½•:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">js<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">css/*</span></span><br><span class=\"line\"><span class=\"comment\">html/*</span></span><br><span class=\"line\"><span class=\"comment\">...</span></span><br></pre></td></tr></table></figure>\n\n<p>ä½†æ˜¯ç°åœ¨çš„é¡¹ç›®æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå¼•å…¥çš„èµ„æºä¹Ÿæ˜¯å¾ˆå¤šçš„ï¼Œæ‰€ä»¥éœ€è¦å°†è¿™äº›èµ„æºè¿›è¡Œåˆ†ç±»ï¼Œç„¶åè¿›è¡Œæ‰“åŒ…ã€‚æœ€åé€šè¿‡æ‰“åŒ…å·¥å…·æ‰“åŒ…å‡ºæ¥çš„é—®é¢˜å°±ç±»ä¼¼äºæœ€åˆçš„é¡¹ç›®;</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">static</span> / css;</span><br><span class=\"line\"><span class=\"keyword\">static</span> / js;</span><br><span class=\"line\"><span class=\"keyword\">static</span> / vue;</span><br><span class=\"line\">index.<span class=\"property\">html</span>;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åˆå§‹åŒ–é¡¹ç›®\"><a href=\"#åˆå§‹åŒ–é¡¹ç›®\" class=\"headerlink\" title=\"åˆå§‹åŒ–é¡¹ç›®\"></a>åˆå§‹åŒ–é¡¹ç›®</h2><p>æˆ‘ä»¬æ‹¿<code>vue</code>æ¥è®², å…ˆè¦åœ¨å…¨å±€å®‰è£…<code>@vue/cli</code>, åé¢æˆ‘ä»¬ä¼šè¯´åˆ°ä¸ºä»€ä¹ˆè¦å®‰è£…å…¨å±€;</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -g @vue/cli</span><br></pre></td></tr></table></figure>\n\n<p>å®‰è£…æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„é¡¹ç›®:</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue create é¡¹ç›®åç§°</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬é€‰æ‹©<code>vue3</code>è¿›è¡Œé¡¹ç›®æµ‹è¯•æ‰“åŒ…; å®‰è£…æˆåŠŸä¹‹å<code>install</code> å®Œæˆä¹‹åä½¿ç”¨<code>vue ui</code>å¯ä»¥é€šè¿‡å¯è§†åŒ–é¢æ¿å¯¼å…¥é¡¹ç›®ï¼Œè¿™æ ·çš„åŒ–å°±å¯ä»¥æŸ¥çœ‹è‡ªå·±é¡¹ç›®å®‰è£…çš„ä¾èµ–ä»¥åŠå¯¹ä¾èµ–è¿›è¡Œæ›´æ–°çš„æ“ä½œ;</p>\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_16-48-15.png\" alt=\"ui\"></p>\n<p>ç‚¹å¼€<code>ä»»åŠ¡</code>ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_16-49-34.png\" alt=\"ä»»åŠ¡\"></p>\n<p>è¿™é‡Œæˆ‘ä»¬å°±èƒ½çœ‹åˆ°é¡¹ç›®çš„ä¸€äº›èµ„æºå¤§å°ï¼Œç„¶åé€šè¿‡<code>webpack</code>é…ç½®é’ˆå¯¹äºè¿™äº›ä¾èµ–é¡¹ç›®è¿›è¡Œä¼˜åŒ–;</p>\n<h2 id=\"ä¼˜åŒ–-1\"><a href=\"#ä¼˜åŒ–-1\" class=\"headerlink\" title=\"ä¼˜åŒ–\"></a>ä¼˜åŒ–</h2><p>é¦–å…ˆè¦å…ˆçŸ¥é“<code>public/index.html</code>æ–‡ä»¶ä¸­çš„<code>&lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;</code>æ˜¯æ€ä¹ˆæ¥çš„ï¼›</p>\n<p>å¯¹æœ€å¼€å§‹çš„ç‰ˆæœ¬æ˜¯éœ€è¦å®‰è£…<code>htmlWebpackPlugin</code>å¯¹åº”çš„ä¾èµ–ï¼Œç„¶ååœ¨<code>webpack.config.js</code>ä¸­é…ç½®<code>htmlWebpackPlugin</code>ï¼Œç„¶åå°±å¯ä»¥åœ¨<code>public/index.html</code>ä¸­é€šè¿‡<code>&lt;%= htmlWebpackPlugin.options.title %&gt;</code>æ¥è·å–<code>title</code>çš„å€¼äº†ï¼›<a href=\"https://www.npmjs.com/package/html-webpack-plugin\">html-webpack-plugin</a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">HtmlWebpackPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;html-webpack-plugin&quot;</span>);</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">\t\t<span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">title</span>: <span class=\"string\">&quot;My App&quot;</span>, <span class=\"comment\">// æ ‡é¢˜</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">filename</span>: <span class=\"string\">&quot;assets/admin.html&quot;</span>, <span class=\"comment\">// æ–‡ä»¶</span></span><br><span class=\"line\">\t\t&#125;),</span><br><span class=\"line\">\t];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å¦‚ä½•è®¾ç½®-title\"><a href=\"#å¦‚ä½•è®¾ç½®-title\" class=\"headerlink\" title=\"å¦‚ä½•è®¾ç½® title\"></a>å¦‚ä½•è®¾ç½® title</h2><p>ä½†æ˜¯å¯¹äºé«˜ç‰ˆæœ¬å°±ä¸éœ€è¦ç‰¹åˆ«å®‰è£…æ’ä»¶äº†ï¼›æƒ³è¦è®¾ç½®<code>title</code>æœ‰ä¿©ç§æ–¹æ¡ˆ: åœ¨<code>vue.config.js</code>ä¸­é…ç½®</p>\n<h3 id=\"æ–¹æ¡ˆä¸€\"><a href=\"#æ–¹æ¡ˆä¸€\" class=\"headerlink\" title=\"æ–¹æ¡ˆä¸€\"></a>æ–¹æ¡ˆä¸€</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\"> <span class=\"attr\">transpileDependencies</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"> <span class=\"attr\">pages</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">index</span>: &#123;</span><br><span class=\"line\">   <span class=\"attr\">entry</span>: <span class=\"string\">&quot;src/main.js&quot;</span>,</span><br><span class=\"line\">   <span class=\"attr\">title</span>: <span class=\"string\">&quot;æµ‹è¯•é¡¹ç›®&quot;</span>, <span class=\"comment\">// è¿™é‡Œå°±æ˜¯æœ€ç»ˆçš„title</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"> &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ–¹æ¡ˆäºŒ\"><a href=\"#æ–¹æ¡ˆäºŒ\" class=\"headerlink\" title=\"æ–¹æ¡ˆäºŒ\"></a>æ–¹æ¡ˆäºŒ</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">chainWebpack</span>: <span class=\"function\"><span class=\"params\">config</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\tconfig.<span class=\"title function_\">plugin</span>(<span class=\"string\">&quot;html&quot;</span>).<span class=\"title function_\">tap</span>(<span class=\"function\"><span class=\"params\">args</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\targs[<span class=\"number\">0</span>].<span class=\"property\">title</span> = <span class=\"string\">&quot;æµ‹è¯•é¡¹ç›®&quot;</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> args;</span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·æ‚¨å°±å¯ä»¥å®šåˆ¶åŒ–æ ‡é¢˜äº†;</p>\n<h2 id=\"è®¾ç½®æ‰“åŒ…ç›®å½•ä»¥åŠé™æ€èµ„æºç›®å½•\"><a href=\"#è®¾ç½®æ‰“åŒ…ç›®å½•ä»¥åŠé™æ€èµ„æºç›®å½•\" class=\"headerlink\" title=\"è®¾ç½®æ‰“åŒ…ç›®å½•ä»¥åŠé™æ€èµ„æºç›®å½•\"></a>è®¾ç½®æ‰“åŒ…ç›®å½•ä»¥åŠé™æ€èµ„æºç›®å½•</h2><p>å¯¹äºé…ç½®, æ‰“åŒ…ç›®å½•é»˜è®¤çš„æ˜¯<code>dist</code>, é™æ€ç›®å½•é»˜è®¤çš„æ˜¯<code>static</code>; å½“ç„¶æ‚¨å¯ä»¥è‡ªå®šä¹‰</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"comment\">// è¾“å‡ºç›®å½•</span></span><br><span class=\"line\"> <span class=\"attr\">outputDir</span>: <span class=\"string\">&quot;dist&quot;</span>,</span><br><span class=\"line\"> <span class=\"comment\">// é™æ€èµ„æºç›®å½•</span></span><br><span class=\"line\"> <span class=\"attr\">assetsDir</span>: <span class=\"string\">&quot;static&quot;</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ç®€å•åŒºåˆ†-chainWebpack-å’Œ-configureWebpack\"><a href=\"#ç®€å•åŒºåˆ†-chainWebpack-å’Œ-configureWebpack\" class=\"headerlink\" title=\"ç®€å•åŒºåˆ† chainWebpack å’Œ configureWebpack\"></a>ç®€å•åŒºåˆ† chainWebpack å’Œ configureWebpack</h2><ol>\n<li><code>configureWebpack</code>: é€šè¿‡æ“ä½œå¯¹è±¡çš„å½¢å¼ï¼Œæ¥ä¿®æ”¹é»˜è®¤çš„ webpack é…ç½®ï¼Œè¯¥å¯¹è±¡å°†ä¼šè¢« webpack-merge åˆå¹¶å…¥æœ€ç»ˆçš„ webpack é…ç½®</li>\n<li><code>chainWebpack</code> é€šè¿‡é“¾å¼ç¼–ç¨‹çš„å½¢å¼ï¼Œæ¥ä¿®æ”¹é»˜è®¤çš„ webpack é…ç½®</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// configureWebpack å½¢å¼</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">configureWebpack</span>:&#123;</span><br><span class=\"line\">    <span class=\"attr\">resolve</span>: &#123;</span><br><span class=\"line\">      <span class=\"comment\">// åˆ«åé…ç½®</span></span><br><span class=\"line\">      <span class=\"attr\">alias</span>: &#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;assets&#x27;</span>: <span class=\"string\">&#x27;@/assets&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;common&#x27;</span>: <span class=\"string\">&#x27;@/common&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;components&#x27;</span>: <span class=\"string\">&#x27;@/components&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;network&#x27;</span>: <span class=\"string\">&#x27;@/network&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;configs&#x27;</span>: <span class=\"string\">&#x27;@/configs&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;views&#x27;</span>: <span class=\"string\">&#x27;@/views&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;plugins&#x27;</span>: <span class=\"string\">&#x27;@/plugins&#x27;</span>,</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// chainWebpackå½¢å¼</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">chainWebpack</span>: <span class=\"function\"><span class=\"params\">config</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\tconfig.<span class=\"property\">resolve</span>.<span class=\"property\">alias</span></span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src&quot;</span>))</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@v&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src/views&quot;</span>))</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@c&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src/components&quot;</span>))</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@u&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src/util&quot;</span>))</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@h&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src/hooks&quot;</span>));</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œæˆ‘ä»¬é€šè¿‡å¯¹è±¡çš„å½¢å¼å¯¹åˆ«åè¿›è¡Œé…ç½®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„çš„å½¢å¼ï¼Œä½†æ˜¯æ•°ç»„çš„å½¢å¼éœ€è¦æˆ‘ä»¬è‡ªå·±è¿›è¡Œé…ç½®ï¼›ä¹Ÿæ˜¯é€šè¿‡å¯¹è±¡çš„å½¢å¼å»åˆ†åŒ…</p>\n<h2 id=\"åˆ†åŒ…ä¼˜åŒ–\"><a href=\"#åˆ†åŒ…ä¼˜åŒ–\" class=\"headerlink\" title=\"åˆ†åŒ…ä¼˜åŒ–\"></a>åˆ†åŒ…ä¼˜åŒ–</h2><p>æˆ‘ä»¬çš„é¡¹ç›®ç”¨çš„æœ‰<code>uiç»„ä»¶, lodashä¸€äº›ç‰¹å®šçš„å·¥å…·ï¼Œè¿˜æœ‰axios, vuexæˆ–è€…pinia</code>ç­‰ç­‰ï¼›ä½†æ˜¯å¯¹äºä¸€äº›æ’ä»¶æ˜¯å¾ˆå¤§çš„ï¼ŒåŒ…æ‹¬è‡ªå·±å†å†™é¡µé¢çš„æ—¶å€™æ²¡æœ‰æ³¨æ„ä¼˜åŒ–çš„æ€ç»´é‚£ä¹ˆåæœŸç»´æŠ¤èµ·æ¥ç»å¯¹æ˜¯å¾ˆç—›è‹¦çš„ï¼›</p>\n<p>ç®€å•çš„è¯´åˆ†åŒ…å°±æ˜¯ å°†ä¸€äº›<code>install</code>çš„ä¾èµ–è¿›è¡Œåˆ†åŒ…ï¼Œæ¯”å¦‚<code>axios</code>ï¼Œ<code>vuex</code>ï¼Œ<code>pinia</code>ç­‰ç­‰ï¼›æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶å¦‚ï¼š<code>chunk-axios.js</code>ï¼Œ<code>chunk-vuex.js</code>ï¼Œ<code>chunk-pinia.js</code>ç­‰ç­‰ï¼›è¿™æ ·çš„è¯æˆ‘ä»¬å°±çŸ¥é“è¿™äº›æ–‡ä»¶éƒ½æ˜¯ä»€ä¹ˆæ–‡ä»¶äº†, è€Œä¸æ˜¯<code>common.js, vendor.js</code>ï¼›</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">configureWebpack</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">optimization</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">moduleIds</span>: <span class=\"string\">&quot;deterministic&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">runtimeChunk</span>: <span class=\"string\">&quot;single&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">minimize</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">splitChunks</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// åˆ†å‰²æ‰€æœ‰ç±»å‹çš„chunkï¼ˆåŒ…æ‹¬å¼‚æ­¥å’ŒåŒæ­¥ï¼‰</span></span><br><span class=\"line\">        <span class=\"attr\">chunks</span>: <span class=\"string\">&quot;all&quot;</span>,</span><br><span class=\"line\">        <span class=\"comment\">// æœ€å°æå–æ–‡ä»¶å¤§å°ï¼ˆé»˜è®¤å€¼ï¼‰</span></span><br><span class=\"line\">        <span class=\"attr\">minSize</span>: <span class=\"number\">20000</span>,</span><br><span class=\"line\">        <span class=\"comment\">// maxSize: 0,</span></span><br><span class=\"line\">        <span class=\"comment\">// éœ€åœ¨ä¸¤ä¸ªæ¨¡å—ä¸­å…±äº«æ‰è¿›è¡Œæ‹†åˆ†</span></span><br><span class=\"line\">        <span class=\"attr\">minChunks</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">        <span class=\"comment\">// æœ€å¤§å¼‚æ­¥è¯·æ±‚å¹¶å‘æ•°ï¼ˆé»˜è®¤å€¼ï¼‰</span></span><br><span class=\"line\">        <span class=\"attr\">maxAsyncRequests</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">        <span class=\"comment\">// æœ€å¤§åˆå§‹åŒ–è¯·æ±‚å¹¶å‘æ•°ï¼ˆé»˜è®¤å€¼ï¼‰</span></span><br><span class=\"line\">        <span class=\"attr\">maxInitialRequests</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">        <span class=\"comment\">// ç¼“å­˜ç»„</span></span><br><span class=\"line\">        <span class=\"attr\">cacheGroups</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// vendorç»„ å­˜æ”¾node_modulesä¸‹çš„chunk</span></span><br><span class=\"line\">        <span class=\"attr\">vendor</span>: &#123;</span><br><span class=\"line\">          <span class=\"comment\">// åŒ¹é…node_modulesä¸‹æ‰€æœ‰çš„chunk</span></span><br><span class=\"line\">          <span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]/</span>,</span><br><span class=\"line\">          <span class=\"title function_\">name</span>(<span class=\"params\"><span class=\"variable language_\">module</span></span>) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">let</span> packageName = <span class=\"string\">&quot;vendors&quot;</span>;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> reg = <span class=\"regexp\">/[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/</span>;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (reg.<span class=\"title function_\">test</span>(<span class=\"variable language_\">module</span>.<span class=\"property\">context</span>)) &#123;</span><br><span class=\"line\">            packageName = <span class=\"variable language_\">module</span>.<span class=\"property\">context</span>.<span class=\"title function_\">match</span>(reg)[<span class=\"number\">1</span>];</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"comment\">// æœ€åä»¥ chunk-lodash å‘½å</span></span><br><span class=\"line\">          <span class=\"keyword\">return</span> <span class=\"string\">`chunk-<span class=\"subst\">$&#123;packageName.replace(<span class=\"string\">&quot;@&quot;</span>, <span class=\"string\">&quot;&quot;</span>)&#125;</span>`</span>;</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          <span class=\"comment\">// ä¼˜å…ˆçº§10 ä¼˜å…ˆå°†node_modulesä¸‹çš„chunkæ‹†åˆ†åˆ°vendorç»„</span></span><br><span class=\"line\">          <span class=\"attr\">priority</span>: <span class=\"number\">10</span>,</span><br><span class=\"line\">          <span class=\"comment\">// é‡ç”¨æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°ç”Ÿæˆ</span></span><br><span class=\"line\">          <span class=\"attr\">reuseExistingChunk</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">          <span class=\"comment\">// å¼ºåˆ¶æ‹†åˆ†</span></span><br><span class=\"line\">          <span class=\"attr\">enforce</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"comment\">// é»˜è®¤ç»„ énode_modulesä¸‹çš„æ–‡ä»¶å— å°†æ‰§è¡Œdefaultç¼“å­˜ç»„è§„åˆ™</span></span><br><span class=\"line\">        <span class=\"attr\">default</span>: &#123;</span><br><span class=\"line\">          <span class=\"comment\">// é‡ç”¨æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°ç”Ÿæˆ</span></span><br><span class=\"line\">          <span class=\"attr\">reuseExistingChunk</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">          <span class=\"comment\">// ä¼˜å…ˆçº§ -10</span></span><br><span class=\"line\">          <span class=\"attr\">priority</span>: -<span class=\"number\">10</span>,</span><br><span class=\"line\">          <span class=\"comment\">// å¼ºåˆ¶æ‹†åˆ†</span></span><br><span class=\"line\">          <span class=\"attr\">enforce</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·çš„è¯ä¸€äº›åŸºç¡€çš„å…¬å…±æ¨¡å—å°±ä¼šè¢«æŠ½ç¦»å‡ºæ¥ï¼Œ è¿™æ ·åœ¨æ‰“åŒ…çš„æ—¶å€™ï¼Œ å°±ä¸ä¼šç”Ÿæˆå¤šä¸ªå…¬å…±æ¨¡å—äº†ã€‚ å…·ä½“çš„å‚æ•°é…ç½®å¯å‚è€ƒæ–‡æ¡£ <a href=\"https://webpack.docschina.org/\">webpack</a></p>\n<h2 id=\"æ’ä»¶\"><a href=\"#æ’ä»¶\" class=\"headerlink\" title=\"æ’ä»¶\"></a>æ’ä»¶</h2><p>ä½†æ˜¯åšåˆ°è¿™é‡Œè¿˜æ˜¯ä¸å¤Ÿçš„ï¼Œå°±æ¯”å¦‚æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶è¿›è¡Œ<code>gz</code>å‹ç¼©ï¼Œç»„ä»¶æŒ‰éœ€åŠ è½½ç­‰ç­‰;</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">AutoImport</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;unplugin-auto-import/webpack&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">Components</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;unplugin-vue-components/webpack&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"title class_\">ElementPlusResolver</span> &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;unplugin-vue-components/resolvers&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">BundleAnalyzerPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;webpack-bundle-analyzer&quot;</span>).<span class=\"property\">BundleAnalyzerPlugin</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> productionGzipExtensions = [<span class=\"string\">&quot;js&quot;</span>, <span class=\"string\">&quot;css&quot;</span>];</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">configureWebpack</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// æ’ä»¶</span></span><br><span class=\"line\">    <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// å…·ä½“æŸ¥çœ‹element-plusæ–‡æ¡£</span></span><br><span class=\"line\">    <span class=\"title class_\">AutoImport</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">resolvers</span>: [<span class=\"title class_\">ElementPlusResolver</span>()],</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"title class_\">Components</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">resolvers</span>: [<span class=\"title class_\">ElementPlusResolver</span>()],</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"comment\">// å‹ç¼©</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">CompressionWebpackPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">algorithm</span>: <span class=\"string\">&quot;gzip&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">test</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(<span class=\"string\">&quot;\\\\.(&quot;</span> + productionGzipExtensions.<span class=\"title function_\">join</span>(<span class=\"string\">&quot;|&quot;</span>) + <span class=\"string\">&quot;)$&quot;</span>),</span><br><span class=\"line\">      <span class=\"attr\">threshold</span>: <span class=\"number\">10240</span>,</span><br><span class=\"line\">      <span class=\"attr\">deleteOriginalAssets</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// ä¸åˆ é™¤æºæ–‡ä»¶</span></span><br><span class=\"line\">      <span class=\"attr\">minRatio</span>: <span class=\"number\">0.8</span>,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"comment\">// æ„å»ºé¢„è§ˆï¼Œ æ‰“åŒ…åˆ†æ</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">BundleAnalyzerPlugin</span>(),</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å¿½ç•¥æ‰“åŒ…çš„ä¾èµ–\"><a href=\"#å¿½ç•¥æ‰“åŒ…çš„ä¾èµ–\" class=\"headerlink\" title=\"å¿½ç•¥æ‰“åŒ…çš„ä¾èµ–\"></a>å¿½ç•¥æ‰“åŒ…çš„ä¾èµ–</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> cdn = &#123;</span><br><span class=\"line\"> <span class=\"attr\">css</span>: [<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/element-plus/2.7.2/index.min.css&quot;</span>],</span><br><span class=\"line\"> <span class=\"attr\">js</span>: [</span><br><span class=\"line\">  <span class=\"comment\">// vue</span></span><br><span class=\"line\">  <span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/vue/3.2.13/vue.global.min.js&quot;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// ele</span></span><br><span class=\"line\">  <span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/element-plus-icons-vue/2.3.1/global.iife.min.js&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/element-plus/2.7.2/index.full.min.js&quot;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// lodash</span></span><br><span class=\"line\">  <span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/lodash.js/4.17.21/lodash.min.js&quot;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// router</span></span><br><span class=\"line\">  <span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/vue-router/4.3.2/vue-router.global.min.js&quot;</span>,</span><br><span class=\"line\"> ],</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">configureWebpack</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">externals</span>: &#123;</span><br><span class=\"line\">      <span class=\"comment\">// å°†ä¸€äº›ä½“ç§¯æ¯”è¾ƒå¤§çš„åŒ…æ‹†å‡ºæ¥ï¼Œä»¥cdnçš„é“¾æ¥å¼•å…¥ï¼Œ è¿™æ ·å‡å°‘æ‰“åŒ…ä½“ç§¯</span></span><br><span class=\"line\">      <span class=\"attr\">vue</span>: <span class=\"string\">&quot;Vue&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;element-plus&quot;</span>: <span class=\"string\">&quot;ElementPlus&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;@element-plus/icons-vue&quot;</span>: <span class=\"string\">&quot;ElementPlusIconsVue&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;lodash-es&quot;</span>: <span class=\"string\">&quot;_&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;vue-router&quot;</span>: <span class=\"string\">&quot;VueRouter&quot;</span>,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ¥ç€åœ¨<code>public/index.html</code>é…ç½® cdn</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;% <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i <span class=\"keyword\">in</span> htmlWebpackPlugin.<span class=\"property\">options</span>.<span class=\"property\">cdn</span> &amp;&amp; htmlWebpackPlugin.<span class=\"property\">options</span>.<span class=\"property\">cdn</span>.<span class=\"property\">css</span>) &#123; %&gt;</span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.css[i] %&gt;&quot;</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> /&gt;</span></span></span><br><span class=\"line\">&lt;% &#125; %&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;% <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i <span class=\"keyword\">in</span> htmlWebpackPlugin.<span class=\"property\">options</span>.<span class=\"property\">cdn</span> &amp;&amp; htmlWebpackPlugin.<span class=\"property\">options</span>.<span class=\"property\">cdn</span>.<span class=\"property\">js</span>) &#123; %&gt;</span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.js[i] %&gt;&quot;</span> &gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"é…ç½®-devserver\"><a href=\"#é…ç½®-devserver\" class=\"headerlink\" title=\"é…ç½® devserver\"></a>é…ç½® devserver</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">open</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">host</span>: <span class=\"string\">&quot;localhost&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">port</span>: <span class=\"number\">8080</span>,</span><br><span class=\"line\">    <span class=\"attr\">https</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"attr\">client</span>: &#123;</span><br><span class=\"line\">      <span class=\"comment\">// å…è®¸åœ¨æµè§ˆå™¨ä¸­è®¾ç½®æ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤æ˜¯æ™®é€šçš„æç¤º</span></span><br><span class=\"line\">      <span class=\"attr\">logging</span>: <span class=\"string\">&quot;info&quot;</span>,</span><br><span class=\"line\">      <span class=\"comment\">// å½“å‡ºç°ç¼–è¯‘é”™è¯¯æˆ–è­¦å‘Šæ—¶ï¼Œåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºå…¨å±è¦†ç›–</span></span><br><span class=\"line\">      <span class=\"attr\">overlay</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"comment\">// åœ¨æµè§ˆå™¨ä¸­ä»¥ç™¾åˆ†æ¯”æ˜¾ç¤ºç¼–è¯‘è¿›åº¦ï¼› æ‰“å¼€æ§åˆ¶å°å°±å¯ä»¥çœ‹è§</span></span><br><span class=\"line\">      <span class=\"attr\">progress</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"comment\">// é™æ¬¡å°è¯•é‡æ–°è¿æ¥</span></span><br><span class=\"line\">      <span class=\"attr\">reconnect</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>åˆ°è¿™é‡Œä¸€ä¸ªç®€å•çš„<code>webpack</code>æ‰“åŒ…ä¼˜åŒ–å°±å®Œæˆäº†ï¼›æˆ‘ä»¬é€šè¿‡<code>vue ui</code>æ‰“åŒ…çœ‹ä¸€ä¸‹;</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_17-18-15.png\" alt=\"build\"></p>\n<p>è¿™é‡Œçš„æˆ‘ä»¬å°±å¯ä»¥çœ‹å‡ºå‹ç¼©å‰ä¸å‹ç¼©åçš„æ–‡ä»¶å¤§å°å¯¹æ¯”ï¼Œéƒ¨ç½²é¡¹ç›®ä¹Ÿå¯ä»¥è½»æ¾çš„å®ç°<code>CDN</code>åŠ é€Ÿï¼Œ ä¼˜åŒ–æ‰“åŒ…é€Ÿåº¦ï¼Œ å‡å°‘æœåŠ¡å™¨å‹åŠ›ï¼Œ æå‡ç”¨æˆ·ä½“éªŒã€‚é‚£è¿™æ ·çš„æ˜¯ä¸æ˜¯å¯ä»¥åšåˆ°ç¬é—´æ‰“å¼€é¡µé¢å‘¢ï¼Ÿ</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_17-20-15.png\" alt=\"success\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_17-21-36.png\" alt=\"success\"></p>\n<p>ç„¶åæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä¸€ä¸ªé¡¹ç›®æœ€åæ‰€ç”¨åˆ°çš„èµ„æºå¤§å°ï¼›</p>\n<h2 id=\"æœ€ç»ˆæµ‹è¯•ä»£ç \"><a href=\"#æœ€ç»ˆæµ‹è¯•ä»£ç \" class=\"headerlink\" title=\"æœ€ç»ˆæµ‹è¯•ä»£ç \"></a>æœ€ç»ˆæµ‹è¯•ä»£ç </h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; defineConfig &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;@vue/cli-service&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">CompressionWebpackPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;compression-webpack-plugin&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">AutoImport</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;unplugin-auto-import/webpack&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">Components</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;unplugin-vue-components/webpack&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"title class_\">ElementPlusResolver</span> &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;unplugin-vue-components/resolvers&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">BundleAnalyzerPlugin</span> =</span><br><span class=\"line\">\t<span class=\"built_in\">require</span>(<span class=\"string\">&quot;webpack-bundle-analyzer&quot;</span>).<span class=\"property\">BundleAnalyzerPlugin</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;path&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// const isProduction = process.env.NODE_ENV === &quot;production&quot;;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> cdn = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">css</span>: [<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/element-plus/2.7.2/index.min.css&quot;</span>],</span><br><span class=\"line\">\t<span class=\"attr\">js</span>: [</span><br><span class=\"line\">\t\t<span class=\"comment\">// vue</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/vue/3.2.13/vue.global.min.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// ele</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/element-plus-icons-vue/2.3.1/global.iife.min.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/element-plus/2.7.2/index.full.min.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// lodash</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/lodash.js/4.17.21/lodash.min.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// router</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/vue-router/4.3.2/vue-router.global.min.js&quot;</span>,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> externals = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">vue</span>: <span class=\"string\">&quot;Vue&quot;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&quot;element-plus&quot;</span>: <span class=\"string\">&quot;ElementPlus&quot;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&quot;@element-plus/icons-vue&quot;</span>: <span class=\"string\">&quot;ElementPlusIconsVue&quot;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&quot;lodash-es&quot;</span>: <span class=\"string\">&quot;_&quot;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&quot;vue-router&quot;</span>: <span class=\"string\">&quot;VueRouter&quot;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> productionGzipExtensions = [<span class=\"string\">&quot;js&quot;</span>, <span class=\"string\">&quot;css&quot;</span>];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">transpileDependencies</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t<span class=\"attr\">pages</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">index</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">entry</span>: <span class=\"string\">&quot;src/main.js&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">title</span>: <span class=\"string\">&quot;æµ‹è¯•é¡¹ç›®&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// cdn: isProduction ? cdn : &#123;&#125;,</span></span><br><span class=\"line\">\t\t\tcdn,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å‡ºç›®å½•</span></span><br><span class=\"line\">\t<span class=\"attr\">outputDir</span>: <span class=\"string\">&quot;dist&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// é™æ€èµ„æºç›®å½•</span></span><br><span class=\"line\">\t<span class=\"attr\">assetsDir</span>: <span class=\"string\">&quot;static&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// æ˜¯å¦å¼€å¯eslintä¿å­˜æ£€æµ‹</span></span><br><span class=\"line\">\t<span class=\"attr\">lintOnSave</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// æ˜¯å¦åœ¨æ„å»ºç”Ÿäº§åŒ…æ—¶ç”Ÿæˆ sourceMap æ–‡ä»¶ï¼Œfalseå°†æé«˜æ„å»ºé€Ÿåº¦</span></span><br><span class=\"line\">\t<span class=\"attr\">productionSourceMap</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// é“¾å¼ç¼–ç¨‹ ä¿®æ”¹é»˜è®¤çš„webpacké…ç½®</span></span><br><span class=\"line\">\t<span class=\"attr\">chainWebpack</span>: <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// config.plugin(&quot;html&quot;).tap(args =&gt; &#123;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//  args[0].title = &quot;æµ‹è¯•é¡¹ç›®&quot;;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//  return args</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// &#125;);</span></span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// å¯¹è±¡çš„å½¢å¼æ“ä½œ webpacké…ç½®</span></span><br><span class=\"line\">\t<span class=\"attr\">configureWebpack</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// åˆ«å</span></span><br><span class=\"line\">\t\t<span class=\"attr\">resolve</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">alias</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;@&quot;</span>: path.<span class=\"title function_\">resolve</span>(__dirname, <span class=\"string\">&quot;src&quot;</span>),</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t<span class=\"attr\">devtool</span>: <span class=\"string\">&quot;inline-source-map&quot;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// åˆ†åŒ…ä¼˜åŒ–</span></span><br><span class=\"line\">\t\t<span class=\"attr\">optimization</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">moduleIds</span>: <span class=\"string\">&quot;deterministic&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">runtimeChunk</span>: <span class=\"string\">&quot;single&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">minimize</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">splitChunks</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">chunks</span>: <span class=\"string\">&quot;all&quot;</span>, <span class=\"comment\">// åˆ†å‰²æ‰€æœ‰ç±»å‹çš„chunkï¼ˆåŒ…æ‹¬å¼‚æ­¥å’ŒåŒæ­¥ï¼‰</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">minSize</span>: <span class=\"number\">20000</span>, <span class=\"comment\">// æœ€å°æå–æ–‡ä»¶å¤§å°ï¼ˆé»˜è®¤å€¼ï¼‰</span></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// maxSize: 0,</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">minChunks</span>: <span class=\"number\">2</span>, <span class=\"comment\">// éœ€åœ¨ä¸¤ä¸ªæ¨¡å—ä¸­å…±äº«æ‰è¿›è¡Œæ‹†åˆ†</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">maxAsyncRequests</span>: <span class=\"number\">5</span>, <span class=\"comment\">// æœ€å¤§å¼‚æ­¥è¯·æ±‚å¹¶å‘æ•°ï¼ˆé»˜è®¤å€¼ï¼‰</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">maxInitialRequests</span>: <span class=\"number\">3</span>, <span class=\"comment\">// æœ€å¤§åˆå§‹åŒ–è¯·æ±‚å¹¶å‘æ•°ï¼ˆé»˜è®¤å€¼ï¼‰</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">cacheGroups</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"comment\">// vendorç»„ å­˜æ”¾node_modulesä¸‹çš„chunk</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">vendor</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]/</span>, <span class=\"comment\">// åŒ¹é…node_modulesä¸‹æ‰€æœ‰çš„chunk</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"title function_\">name</span>(<span class=\"params\"><span class=\"variable language_\">module</span></span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">let</span> packageName = <span class=\"string\">&quot;vendors&quot;</span>;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">const</span> reg = <span class=\"regexp\">/[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/</span>;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">if</span> (reg.<span class=\"title function_\">test</span>(<span class=\"variable language_\">module</span>.<span class=\"property\">context</span>)) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t\tpackageName = <span class=\"variable language_\">module</span>.<span class=\"property\">context</span>.<span class=\"title function_\">match</span>(reg)[<span class=\"number\">1</span>];</span><br><span class=\"line\">\t\t\t\t\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">module</span>.<span class=\"property\">context</span>, <span class=\"string\">&quot;==========&quot;</span>);</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"comment\">// æœ€åä»¥ chunk-lodash å‘½å</span></span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"string\">`chunk-<span class=\"subst\">$&#123;packageName.replace(<span class=\"string\">&quot;@&quot;</span>, <span class=\"string\">&quot;&quot;</span>)&#125;</span>`</span>;</span><br><span class=\"line\">\t\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"comment\">// name: &quot;chunk-vendor&quot;,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: <span class=\"number\">10</span>, <span class=\"comment\">// ä¼˜å…ˆçº§10 ä¼˜å…ˆå°†node_modulesä¸‹çš„chunkæ‹†åˆ†åˆ°vendorç»„</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">reuseExistingChunk</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// é‡ç”¨æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°ç”Ÿæˆ</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">enforce</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// å¼ºåˆ¶æ‹†åˆ†</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"comment\">// é»˜è®¤ç»„ énode_modulesä¸‹çš„æ–‡ä»¶å— å°†æ‰§è¡Œdefaultç¼“å­˜ç»„è§„åˆ™</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">default</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">reuseExistingChunk</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// é‡ç”¨æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°ç”Ÿæˆ</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: -<span class=\"number\">10</span>, <span class=\"comment\">// ä¼˜å…ˆçº§ -10</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">enforce</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// å¼ºåˆ¶æ‹†åˆ†</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ’ä»¶</span></span><br><span class=\"line\">\t\t<span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">\t\t\t<span class=\"title class_\">AutoImport</span>(&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">resolvers</span>: [<span class=\"title class_\">ElementPlusResolver</span>()],</span><br><span class=\"line\">\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t<span class=\"title class_\">Components</span>(&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">resolvers</span>: [<span class=\"title class_\">ElementPlusResolver</span>()],</span><br><span class=\"line\">\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å‹ç¼©</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">new</span> <span class=\"title class_\">CompressionWebpackPlugin</span>(&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">algorithm</span>: <span class=\"string\">&quot;gzip&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">test</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(<span class=\"string\">&quot;\\\\.(&quot;</span> + productionGzipExtensions.<span class=\"title function_\">join</span>(<span class=\"string\">&quot;|&quot;</span>) + <span class=\"string\">&quot;)$&quot;</span>),</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">threshold</span>: <span class=\"number\">10240</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">deleteOriginalAssets</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// ä¸åˆ é™¤æºæ–‡ä»¶</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">minRatio</span>: <span class=\"number\">0.8</span>,</span><br><span class=\"line\">\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ„å»ºé¢„è§ˆ</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">new</span> <span class=\"title class_\">BundleAnalyzerPlugin</span>(),</span><br><span class=\"line\">\t\t],</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¿½ç•¥çš„ä¾èµ–</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// externals: isProduction ? externals : &#123;&#125;,</span></span><br><span class=\"line\">\t\texternals,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æœåŠ¡</span></span><br><span class=\"line\">\t<span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">open</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">host</span>: <span class=\"string\">&quot;localhost&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">port</span>: <span class=\"number\">8080</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">https</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">client</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å…è®¸åœ¨æµè§ˆå™¨ä¸­è®¾ç½®æ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤æ˜¯æ™®é€šçš„æç¤º</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">logging</span>: <span class=\"string\">&quot;info&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å½“å‡ºç°ç¼–è¯‘é”™è¯¯æˆ–è­¦å‘Šæ—¶ï¼Œåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºå…¨å±è¦†ç›–</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">overlay</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// åœ¨æµè§ˆå™¨ä¸­ä»¥ç™¾åˆ†æ¯”æ˜¾ç¤ºç¼–è¯‘è¿›åº¦</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">progress</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// é™æ¬¡å°è¯•é‡æ–°è¿æ¥</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">reconnect</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width,initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;icon&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= BASE_URL %&gt;favicon.ico&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>&lt;%= htmlWebpackPlugin.options.title %&gt;<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp;</span><br><span class=\"line\">\t\thtmlWebpackPlugin.options.cdn.css) &#123; %&gt;</span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.css[i] %&gt;&quot;</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t&lt;% &#125; %&gt; &lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp;</span><br><span class=\"line\">\t\thtmlWebpackPlugin.options.cdn.js) &#123; %&gt;</span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.js[i] %&gt;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t\t&lt;% &#125; %&gt;</span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">noscript</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">strong</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t\t&gt;</span>We&#x27;re sorry but &lt;%= htmlWebpackPlugin.options.title %&gt; doesn&#x27;t work</span><br><span class=\"line\">\t\t\t\tproperly without JavaScript enabled. Please enable it to</span><br><span class=\"line\">\t\t\t\tcontinue.&lt;/strong</span><br><span class=\"line\">\t\t\t&gt;</span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">noscript</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">&lt;!-- built files will be auto injected --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ•ˆæœå›¾\"><a href=\"#æ•ˆæœå›¾\" class=\"headerlink\" title=\"æ•ˆæœå›¾\"></a>æ•ˆæœå›¾</h2><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_17-24-45.png\" alt=\"result\"></p>\n","excerpt":"","more":"<h1 id=\"ä¼˜åŒ–\"><a href=\"#ä¼˜åŒ–\" class=\"headerlink\" title=\"ä¼˜åŒ–?\"></a>ä¼˜åŒ–?</h1><p>å‰ç«¯çš„æ›´æ–°è¿­ä»£æ˜¯å¾ˆå¿«çš„ï¼Œä»æœ€å¼€å§‹çš„ä¸‰ä»¶å¥—åˆ°ç°åœ¨çš„å“åº”å¼å¼€å‘ï¼Œåœ¨åˆ°ç°åœ¨çš„é¡¹ç›®ç®¡ç†åŒ–ï¼›</p>\n<p>äºæ˜¯å‰ç«¯åˆå¾—å­¦ä¼šå·¥ç¨‹åŒ–ä»¥åŠå¯¹é¡¹ç›®ä¼˜åŒ–çš„çŸ¥è¯†ï¼Œæœ€å¼€å§‹çš„å‰ç«¯æ˜¯æ²¡æœ‰å·¥ç¨‹è¿™ä¸€æŠ€èƒ½çš„ï¼Œ å°±æ˜¯æŠŠç®€å•çš„èµ„æºåŒºåˆ†ç›®å½•ï¼Œå†ä»ä¸åŒçš„ç›®å½•è°ƒå–ä¸åŒçš„èµ„æºæ–‡ä»¶;</p>\n<p>ä½†æ˜¯æš´éœ²å‡ºæœ‰å¾ˆå¤šé—®é¢˜ï¼Œå°±å¥½æ¯”èµ„æºæ€ä¹ˆé‡å¤åˆ©ç”¨ï¼Œæ¯æ¬¡æ‰“å¼€é¡µé¢èµ„æºåˆè¦é‡æ–°åŠ è½½ï¼Œè€Œä¸æ˜¯è¯»å–ç¼“å­˜ã€‚è¿™æ ·çš„æƒ…å†µä¼šå¯¼è‡´æµè§ˆå™¨çš„å¡é¡¿ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚</p>\n<p>å†è€…å°±æ˜¯ä»£ç é£æ ¼ï¼Œèµ·åˆå“ªæœ‰é£æ ¼å°±æ˜¯å„å†™å„çš„ï¼Œå¯¹äºå›¢é˜Ÿå¼å¼€å‘ä¸€ç›´æ˜¯ä¸ªå¤´ç–¼çš„é—®é¢˜ï¼›</p>\n<p>ä¹‹åå°±å‡ºç°äº†å„å¼å„æ ·çš„å·¥ç¨‹åŒ–ï¼Œæ¯”å¦‚ï¼šä»£ç æ ¼å¼åŒ–çš„é£æ ¼ï¼Œæ£€éªŒä»£ç çš„æ ¼å¼ï¼Œä»£ç å‹ç¼©ä¸æ··æ·†ç­‰ç­‰ï¼›</p>\n<p>è¿™æ ·çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯åšåˆ°ç»Ÿä¸€ï¼Œä¹‹åçš„å¼€å‘å…¨éƒ½æ˜¯ä»¥è¿™ä¸ªä¸ºæ ‡å‡†ï¼›å…³äºå¦‚ä½•è§„èŒƒåŒ–æ­å»ºé¡¹ç›®å¯ä»¥å‚è€ƒä¹‹å‰çš„æ–‡ç« <a href=\"/brochure/project/product/init_vue\">Vue é¡¹ç›®æ­å»º</a></p>\n<p>é€šè¿‡<code>webpack5</code>æ­å»ºçš„<code>vue3</code>çš„é¡¹ç›®å¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿ è¿™é‡Œå…·ä½“è¯´æ˜æ‰“åŒ…ä¼˜åŒ–; ä¸€äº›ä¼˜åŒ–çš„æ–¹æ¡ˆå¯å‚è€ƒ<a href=\"/brochure/project/direction/direction\">ä»å“ªäº›æ–¹é¢è¿›è¡Œæ€§èƒ½ä¼˜åŒ–</a></p>\n<h2 id=\"ç®€å•äº†è§£-Webpack\"><a href=\"#ç®€å•äº†è§£-Webpack\" class=\"headerlink\" title=\"ç®€å•äº†è§£ Webpack\"></a>ç®€å•äº†è§£ Webpack</h2><p><code>Webpack</code> æ˜¯ä¸€ä¸ªå‰ç«¯èµ„æºæ‰“åŒ…å·¥å…·ï¼Œå¯ä»¥æŒ‰ç…§æ¨¡å—ä¾èµ–å…³ç³»æ‰“åŒ…é¡¹ç›®ï¼Œå°†ä¸åŒæ¨¡å—çš„ä¾èµ–å…³ç³»æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œæœ€ç»ˆç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªé™æ€èµ„æºï¼Œå¦‚ï¼šjsã€cssã€å›¾ç‰‡ç­‰ã€‚</p>\n<p><code>Webpack</code>å°±æ˜¯åŒºåˆ†ä¸åŒçš„æ¨¡å—ï¼Œä¾‹å¦‚ï¼šé¡¹ç›®æ‰“åŒ…çš„å…¥å£æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Œå°†æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶æ”¾åœ¨å“ªé‡Œï¼Œæœ¬åœ°æœåŠ¡çš„é…ç½®ä»¥åŠå¯¹ä»£ç çš„æ‹†åˆ†ï¼›å…¶å®<code>webpack</code>æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„æ„ä¹‰ï¼Œå¯ä»¥ç†è§£çš„å°±æ˜¯é¡¹ç›®åº•å±‚çš„å»ºç­‘ï¼Œåªæœ‰å§é¡¹ç›®åº•å±‚æ­å»ºå®Œå–„ä¹‹åï¼Œæ‰èƒ½æ›´å¥½çš„å»å¼€å‘é¡¹ç›®ã€‚</p>\n<p>é¡¹ç›®ä¸­æœ‰ä¸€äº›ç‰¹å®šçš„æ’ä»¶ï¼Œæ¯”å¦‚æ··åˆå¼å¼€å‘<code>h5</code>éœ€è¦æŸ¥çœ‹<code>networker</code>ï¼Œé‚£å°±éœ€è¦å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„<code>vconsole</code>ï¼›è¿™æ ·çš„è¯ä¸ç®¡æ‚¨æ˜¯æœ¬åœ°å¼€å‘è¿˜æ˜¯å…¶ä»–ç¯å¢ƒæµ‹è¯•éƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼›</p>\n<p><code>Webpack</code> çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯ï¼š</p>\n<ol>\n<li>æ¨¡å—åŒ–ï¼šå°†é¡¹ç›®æ‹†åˆ†æˆå°çš„æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—åªåŒ…å«ä¸€ä¸ªåŠŸèƒ½ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚</li>\n<li>æ¨¡å—åŒ–åŠ è½½ï¼šé€šè¿‡æ¨¡å—åŒ–åŠ è½½ï¼Œå¯ä»¥å‡å°‘è¯·æ±‚æ•°é‡ï¼Œæé«˜é¡µé¢åŠ è½½é€Ÿåº¦ã€‚</li>\n<li>æ¨¡å—åŒ–ç¼–è¯‘ï¼šé€šè¿‡æ¨¡å—åŒ–ç¼–è¯‘ï¼Œå¯ä»¥å‡å°‘ä»£ç ä½“ç§¯ï¼Œæé«˜è¿è¡Œé€Ÿåº¦ã€‚</li>\n</ol>\n<p>ä¼˜åŒ–èŒƒå›´ï¼š</p>\n<ol>\n<li>ç¼©å°æ‰“åŒ…èŒƒå›´ï¼šç¼©å°æ‰“åŒ…èŒƒå›´ï¼Œå¯ä»¥å‡å°‘æ‰“åŒ…ä½“ç§¯ã€‚</li>\n<li>ä¼˜åŒ–æ‰“åŒ…é€Ÿåº¦ï¼šä¼˜åŒ–æ‰“åŒ…é€Ÿåº¦ï¼Œå¯ä»¥å‡å°‘æ‰“åŒ…æ—¶é—´ã€‚</li>\n<li>ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯ï¼šä¼˜åŒ–æ‰“åŒ…ä½“ç§¯ï¼Œå¯ä»¥å‡å°‘æ‰“åŒ…ä½“ç§¯ã€‚</li>\n</ol>\n<p>æœ€åˆçš„é¡¹ç›®å°±æ˜¯è¿™æ ·çš„ç›®å½•:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">js<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">css/*</span></span><br><span class=\"line\"><span class=\"comment\">html/*</span></span><br><span class=\"line\"><span class=\"comment\">...</span></span><br></pre></td></tr></table></figure>\n\n<p>ä½†æ˜¯ç°åœ¨çš„é¡¹ç›®æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå¼•å…¥çš„èµ„æºä¹Ÿæ˜¯å¾ˆå¤šçš„ï¼Œæ‰€ä»¥éœ€è¦å°†è¿™äº›èµ„æºè¿›è¡Œåˆ†ç±»ï¼Œç„¶åè¿›è¡Œæ‰“åŒ…ã€‚æœ€åé€šè¿‡æ‰“åŒ…å·¥å…·æ‰“åŒ…å‡ºæ¥çš„é—®é¢˜å°±ç±»ä¼¼äºæœ€åˆçš„é¡¹ç›®;</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">static</span> / css;</span><br><span class=\"line\"><span class=\"keyword\">static</span> / js;</span><br><span class=\"line\"><span class=\"keyword\">static</span> / vue;</span><br><span class=\"line\">index.<span class=\"property\">html</span>;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åˆå§‹åŒ–é¡¹ç›®\"><a href=\"#åˆå§‹åŒ–é¡¹ç›®\" class=\"headerlink\" title=\"åˆå§‹åŒ–é¡¹ç›®\"></a>åˆå§‹åŒ–é¡¹ç›®</h2><p>æˆ‘ä»¬æ‹¿<code>vue</code>æ¥è®², å…ˆè¦åœ¨å…¨å±€å®‰è£…<code>@vue/cli</code>, åé¢æˆ‘ä»¬ä¼šè¯´åˆ°ä¸ºä»€ä¹ˆè¦å®‰è£…å…¨å±€;</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -g @vue/cli</span><br></pre></td></tr></table></figure>\n\n<p>å®‰è£…æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„é¡¹ç›®:</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue create é¡¹ç›®åç§°</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬é€‰æ‹©<code>vue3</code>è¿›è¡Œé¡¹ç›®æµ‹è¯•æ‰“åŒ…; å®‰è£…æˆåŠŸä¹‹å<code>install</code> å®Œæˆä¹‹åä½¿ç”¨<code>vue ui</code>å¯ä»¥é€šè¿‡å¯è§†åŒ–é¢æ¿å¯¼å…¥é¡¹ç›®ï¼Œè¿™æ ·çš„åŒ–å°±å¯ä»¥æŸ¥çœ‹è‡ªå·±é¡¹ç›®å®‰è£…çš„ä¾èµ–ä»¥åŠå¯¹ä¾èµ–è¿›è¡Œæ›´æ–°çš„æ“ä½œ;</p>\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_16-48-15.png\" alt=\"ui\"></p>\n<p>ç‚¹å¼€<code>ä»»åŠ¡</code>ï¼š</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_16-49-34.png\" alt=\"ä»»åŠ¡\"></p>\n<p>è¿™é‡Œæˆ‘ä»¬å°±èƒ½çœ‹åˆ°é¡¹ç›®çš„ä¸€äº›èµ„æºå¤§å°ï¼Œç„¶åé€šè¿‡<code>webpack</code>é…ç½®é’ˆå¯¹äºè¿™äº›ä¾èµ–é¡¹ç›®è¿›è¡Œä¼˜åŒ–;</p>\n<h2 id=\"ä¼˜åŒ–-1\"><a href=\"#ä¼˜åŒ–-1\" class=\"headerlink\" title=\"ä¼˜åŒ–\"></a>ä¼˜åŒ–</h2><p>é¦–å…ˆè¦å…ˆçŸ¥é“<code>public/index.html</code>æ–‡ä»¶ä¸­çš„<code>&lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;</code>æ˜¯æ€ä¹ˆæ¥çš„ï¼›</p>\n<p>å¯¹æœ€å¼€å§‹çš„ç‰ˆæœ¬æ˜¯éœ€è¦å®‰è£…<code>htmlWebpackPlugin</code>å¯¹åº”çš„ä¾èµ–ï¼Œç„¶ååœ¨<code>webpack.config.js</code>ä¸­é…ç½®<code>htmlWebpackPlugin</code>ï¼Œç„¶åå°±å¯ä»¥åœ¨<code>public/index.html</code>ä¸­é€šè¿‡<code>&lt;%= htmlWebpackPlugin.options.title %&gt;</code>æ¥è·å–<code>title</code>çš„å€¼äº†ï¼›<a href=\"https://www.npmjs.com/package/html-webpack-plugin\">html-webpack-plugin</a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">HtmlWebpackPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;html-webpack-plugin&quot;</span>);</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">\t\t<span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">title</span>: <span class=\"string\">&quot;My App&quot;</span>, <span class=\"comment\">// æ ‡é¢˜</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">filename</span>: <span class=\"string\">&quot;assets/admin.html&quot;</span>, <span class=\"comment\">// æ–‡ä»¶</span></span><br><span class=\"line\">\t\t&#125;),</span><br><span class=\"line\">\t];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å¦‚ä½•è®¾ç½®-title\"><a href=\"#å¦‚ä½•è®¾ç½®-title\" class=\"headerlink\" title=\"å¦‚ä½•è®¾ç½® title\"></a>å¦‚ä½•è®¾ç½® title</h2><p>ä½†æ˜¯å¯¹äºé«˜ç‰ˆæœ¬å°±ä¸éœ€è¦ç‰¹åˆ«å®‰è£…æ’ä»¶äº†ï¼›æƒ³è¦è®¾ç½®<code>title</code>æœ‰ä¿©ç§æ–¹æ¡ˆ: åœ¨<code>vue.config.js</code>ä¸­é…ç½®</p>\n<h3 id=\"æ–¹æ¡ˆä¸€\"><a href=\"#æ–¹æ¡ˆä¸€\" class=\"headerlink\" title=\"æ–¹æ¡ˆä¸€\"></a>æ–¹æ¡ˆä¸€</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\"> <span class=\"attr\">transpileDependencies</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"> <span class=\"attr\">pages</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">index</span>: &#123;</span><br><span class=\"line\">   <span class=\"attr\">entry</span>: <span class=\"string\">&quot;src/main.js&quot;</span>,</span><br><span class=\"line\">   <span class=\"attr\">title</span>: <span class=\"string\">&quot;æµ‹è¯•é¡¹ç›®&quot;</span>, <span class=\"comment\">// è¿™é‡Œå°±æ˜¯æœ€ç»ˆçš„title</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"> &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ–¹æ¡ˆäºŒ\"><a href=\"#æ–¹æ¡ˆäºŒ\" class=\"headerlink\" title=\"æ–¹æ¡ˆäºŒ\"></a>æ–¹æ¡ˆäºŒ</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">chainWebpack</span>: <span class=\"function\"><span class=\"params\">config</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\tconfig.<span class=\"title function_\">plugin</span>(<span class=\"string\">&quot;html&quot;</span>).<span class=\"title function_\">tap</span>(<span class=\"function\"><span class=\"params\">args</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\targs[<span class=\"number\">0</span>].<span class=\"property\">title</span> = <span class=\"string\">&quot;æµ‹è¯•é¡¹ç›®&quot;</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> args;</span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·æ‚¨å°±å¯ä»¥å®šåˆ¶åŒ–æ ‡é¢˜äº†;</p>\n<h2 id=\"è®¾ç½®æ‰“åŒ…ç›®å½•ä»¥åŠé™æ€èµ„æºç›®å½•\"><a href=\"#è®¾ç½®æ‰“åŒ…ç›®å½•ä»¥åŠé™æ€èµ„æºç›®å½•\" class=\"headerlink\" title=\"è®¾ç½®æ‰“åŒ…ç›®å½•ä»¥åŠé™æ€èµ„æºç›®å½•\"></a>è®¾ç½®æ‰“åŒ…ç›®å½•ä»¥åŠé™æ€èµ„æºç›®å½•</h2><p>å¯¹äºé…ç½®, æ‰“åŒ…ç›®å½•é»˜è®¤çš„æ˜¯<code>dist</code>, é™æ€ç›®å½•é»˜è®¤çš„æ˜¯<code>static</code>; å½“ç„¶æ‚¨å¯ä»¥è‡ªå®šä¹‰</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"comment\">// è¾“å‡ºç›®å½•</span></span><br><span class=\"line\"> <span class=\"attr\">outputDir</span>: <span class=\"string\">&quot;dist&quot;</span>,</span><br><span class=\"line\"> <span class=\"comment\">// é™æ€èµ„æºç›®å½•</span></span><br><span class=\"line\"> <span class=\"attr\">assetsDir</span>: <span class=\"string\">&quot;static&quot;</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ç®€å•åŒºåˆ†-chainWebpack-å’Œ-configureWebpack\"><a href=\"#ç®€å•åŒºåˆ†-chainWebpack-å’Œ-configureWebpack\" class=\"headerlink\" title=\"ç®€å•åŒºåˆ† chainWebpack å’Œ configureWebpack\"></a>ç®€å•åŒºåˆ† chainWebpack å’Œ configureWebpack</h2><ol>\n<li><code>configureWebpack</code>: é€šè¿‡æ“ä½œå¯¹è±¡çš„å½¢å¼ï¼Œæ¥ä¿®æ”¹é»˜è®¤çš„ webpack é…ç½®ï¼Œè¯¥å¯¹è±¡å°†ä¼šè¢« webpack-merge åˆå¹¶å…¥æœ€ç»ˆçš„ webpack é…ç½®</li>\n<li><code>chainWebpack</code> é€šè¿‡é“¾å¼ç¼–ç¨‹çš„å½¢å¼ï¼Œæ¥ä¿®æ”¹é»˜è®¤çš„ webpack é…ç½®</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// configureWebpack å½¢å¼</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">configureWebpack</span>:&#123;</span><br><span class=\"line\">    <span class=\"attr\">resolve</span>: &#123;</span><br><span class=\"line\">      <span class=\"comment\">// åˆ«åé…ç½®</span></span><br><span class=\"line\">      <span class=\"attr\">alias</span>: &#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;assets&#x27;</span>: <span class=\"string\">&#x27;@/assets&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;common&#x27;</span>: <span class=\"string\">&#x27;@/common&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;components&#x27;</span>: <span class=\"string\">&#x27;@/components&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;network&#x27;</span>: <span class=\"string\">&#x27;@/network&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;configs&#x27;</span>: <span class=\"string\">&#x27;@/configs&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;views&#x27;</span>: <span class=\"string\">&#x27;@/views&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;plugins&#x27;</span>: <span class=\"string\">&#x27;@/plugins&#x27;</span>,</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// chainWebpackå½¢å¼</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">chainWebpack</span>: <span class=\"function\"><span class=\"params\">config</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\tconfig.<span class=\"property\">resolve</span>.<span class=\"property\">alias</span></span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src&quot;</span>))</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@v&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src/views&quot;</span>))</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@c&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src/components&quot;</span>))</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@u&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src/util&quot;</span>))</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@h&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src/hooks&quot;</span>));</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œæˆ‘ä»¬é€šè¿‡å¯¹è±¡çš„å½¢å¼å¯¹åˆ«åè¿›è¡Œé…ç½®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„çš„å½¢å¼ï¼Œä½†æ˜¯æ•°ç»„çš„å½¢å¼éœ€è¦æˆ‘ä»¬è‡ªå·±è¿›è¡Œé…ç½®ï¼›ä¹Ÿæ˜¯é€šè¿‡å¯¹è±¡çš„å½¢å¼å»åˆ†åŒ…</p>\n<h2 id=\"åˆ†åŒ…ä¼˜åŒ–\"><a href=\"#åˆ†åŒ…ä¼˜åŒ–\" class=\"headerlink\" title=\"åˆ†åŒ…ä¼˜åŒ–\"></a>åˆ†åŒ…ä¼˜åŒ–</h2><p>æˆ‘ä»¬çš„é¡¹ç›®ç”¨çš„æœ‰<code>uiç»„ä»¶, lodashä¸€äº›ç‰¹å®šçš„å·¥å…·ï¼Œè¿˜æœ‰axios, vuexæˆ–è€…pinia</code>ç­‰ç­‰ï¼›ä½†æ˜¯å¯¹äºä¸€äº›æ’ä»¶æ˜¯å¾ˆå¤§çš„ï¼ŒåŒ…æ‹¬è‡ªå·±å†å†™é¡µé¢çš„æ—¶å€™æ²¡æœ‰æ³¨æ„ä¼˜åŒ–çš„æ€ç»´é‚£ä¹ˆåæœŸç»´æŠ¤èµ·æ¥ç»å¯¹æ˜¯å¾ˆç—›è‹¦çš„ï¼›</p>\n<p>ç®€å•çš„è¯´åˆ†åŒ…å°±æ˜¯ å°†ä¸€äº›<code>install</code>çš„ä¾èµ–è¿›è¡Œåˆ†åŒ…ï¼Œæ¯”å¦‚<code>axios</code>ï¼Œ<code>vuex</code>ï¼Œ<code>pinia</code>ç­‰ç­‰ï¼›æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶å¦‚ï¼š<code>chunk-axios.js</code>ï¼Œ<code>chunk-vuex.js</code>ï¼Œ<code>chunk-pinia.js</code>ç­‰ç­‰ï¼›è¿™æ ·çš„è¯æˆ‘ä»¬å°±çŸ¥é“è¿™äº›æ–‡ä»¶éƒ½æ˜¯ä»€ä¹ˆæ–‡ä»¶äº†, è€Œä¸æ˜¯<code>common.js, vendor.js</code>ï¼›</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">configureWebpack</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">optimization</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">moduleIds</span>: <span class=\"string\">&quot;deterministic&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">runtimeChunk</span>: <span class=\"string\">&quot;single&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">minimize</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">splitChunks</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// åˆ†å‰²æ‰€æœ‰ç±»å‹çš„chunkï¼ˆåŒ…æ‹¬å¼‚æ­¥å’ŒåŒæ­¥ï¼‰</span></span><br><span class=\"line\">        <span class=\"attr\">chunks</span>: <span class=\"string\">&quot;all&quot;</span>,</span><br><span class=\"line\">        <span class=\"comment\">// æœ€å°æå–æ–‡ä»¶å¤§å°ï¼ˆé»˜è®¤å€¼ï¼‰</span></span><br><span class=\"line\">        <span class=\"attr\">minSize</span>: <span class=\"number\">20000</span>,</span><br><span class=\"line\">        <span class=\"comment\">// maxSize: 0,</span></span><br><span class=\"line\">        <span class=\"comment\">// éœ€åœ¨ä¸¤ä¸ªæ¨¡å—ä¸­å…±äº«æ‰è¿›è¡Œæ‹†åˆ†</span></span><br><span class=\"line\">        <span class=\"attr\">minChunks</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">        <span class=\"comment\">// æœ€å¤§å¼‚æ­¥è¯·æ±‚å¹¶å‘æ•°ï¼ˆé»˜è®¤å€¼ï¼‰</span></span><br><span class=\"line\">        <span class=\"attr\">maxAsyncRequests</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">        <span class=\"comment\">// æœ€å¤§åˆå§‹åŒ–è¯·æ±‚å¹¶å‘æ•°ï¼ˆé»˜è®¤å€¼ï¼‰</span></span><br><span class=\"line\">        <span class=\"attr\">maxInitialRequests</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">        <span class=\"comment\">// ç¼“å­˜ç»„</span></span><br><span class=\"line\">        <span class=\"attr\">cacheGroups</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// vendorç»„ å­˜æ”¾node_modulesä¸‹çš„chunk</span></span><br><span class=\"line\">        <span class=\"attr\">vendor</span>: &#123;</span><br><span class=\"line\">          <span class=\"comment\">// åŒ¹é…node_modulesä¸‹æ‰€æœ‰çš„chunk</span></span><br><span class=\"line\">          <span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]/</span>,</span><br><span class=\"line\">          <span class=\"title function_\">name</span>(<span class=\"params\"><span class=\"variable language_\">module</span></span>) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">let</span> packageName = <span class=\"string\">&quot;vendors&quot;</span>;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> reg = <span class=\"regexp\">/[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/</span>;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (reg.<span class=\"title function_\">test</span>(<span class=\"variable language_\">module</span>.<span class=\"property\">context</span>)) &#123;</span><br><span class=\"line\">            packageName = <span class=\"variable language_\">module</span>.<span class=\"property\">context</span>.<span class=\"title function_\">match</span>(reg)[<span class=\"number\">1</span>];</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"comment\">// æœ€åä»¥ chunk-lodash å‘½å</span></span><br><span class=\"line\">          <span class=\"keyword\">return</span> <span class=\"string\">`chunk-<span class=\"subst\">$&#123;packageName.replace(<span class=\"string\">&quot;@&quot;</span>, <span class=\"string\">&quot;&quot;</span>)&#125;</span>`</span>;</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          <span class=\"comment\">// ä¼˜å…ˆçº§10 ä¼˜å…ˆå°†node_modulesä¸‹çš„chunkæ‹†åˆ†åˆ°vendorç»„</span></span><br><span class=\"line\">          <span class=\"attr\">priority</span>: <span class=\"number\">10</span>,</span><br><span class=\"line\">          <span class=\"comment\">// é‡ç”¨æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°ç”Ÿæˆ</span></span><br><span class=\"line\">          <span class=\"attr\">reuseExistingChunk</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">          <span class=\"comment\">// å¼ºåˆ¶æ‹†åˆ†</span></span><br><span class=\"line\">          <span class=\"attr\">enforce</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"comment\">// é»˜è®¤ç»„ énode_modulesä¸‹çš„æ–‡ä»¶å— å°†æ‰§è¡Œdefaultç¼“å­˜ç»„è§„åˆ™</span></span><br><span class=\"line\">        <span class=\"attr\">default</span>: &#123;</span><br><span class=\"line\">          <span class=\"comment\">// é‡ç”¨æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°ç”Ÿæˆ</span></span><br><span class=\"line\">          <span class=\"attr\">reuseExistingChunk</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">          <span class=\"comment\">// ä¼˜å…ˆçº§ -10</span></span><br><span class=\"line\">          <span class=\"attr\">priority</span>: -<span class=\"number\">10</span>,</span><br><span class=\"line\">          <span class=\"comment\">// å¼ºåˆ¶æ‹†åˆ†</span></span><br><span class=\"line\">          <span class=\"attr\">enforce</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·çš„è¯ä¸€äº›åŸºç¡€çš„å…¬å…±æ¨¡å—å°±ä¼šè¢«æŠ½ç¦»å‡ºæ¥ï¼Œ è¿™æ ·åœ¨æ‰“åŒ…çš„æ—¶å€™ï¼Œ å°±ä¸ä¼šç”Ÿæˆå¤šä¸ªå…¬å…±æ¨¡å—äº†ã€‚ å…·ä½“çš„å‚æ•°é…ç½®å¯å‚è€ƒæ–‡æ¡£ <a href=\"https://webpack.docschina.org/\">webpack</a></p>\n<h2 id=\"æ’ä»¶\"><a href=\"#æ’ä»¶\" class=\"headerlink\" title=\"æ’ä»¶\"></a>æ’ä»¶</h2><p>ä½†æ˜¯åšåˆ°è¿™é‡Œè¿˜æ˜¯ä¸å¤Ÿçš„ï¼Œå°±æ¯”å¦‚æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶è¿›è¡Œ<code>gz</code>å‹ç¼©ï¼Œç»„ä»¶æŒ‰éœ€åŠ è½½ç­‰ç­‰;</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">AutoImport</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;unplugin-auto-import/webpack&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">Components</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;unplugin-vue-components/webpack&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"title class_\">ElementPlusResolver</span> &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;unplugin-vue-components/resolvers&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">BundleAnalyzerPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;webpack-bundle-analyzer&quot;</span>).<span class=\"property\">BundleAnalyzerPlugin</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> productionGzipExtensions = [<span class=\"string\">&quot;js&quot;</span>, <span class=\"string\">&quot;css&quot;</span>];</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">configureWebpack</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// æ’ä»¶</span></span><br><span class=\"line\">    <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// å…·ä½“æŸ¥çœ‹element-plusæ–‡æ¡£</span></span><br><span class=\"line\">    <span class=\"title class_\">AutoImport</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">resolvers</span>: [<span class=\"title class_\">ElementPlusResolver</span>()],</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"title class_\">Components</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">resolvers</span>: [<span class=\"title class_\">ElementPlusResolver</span>()],</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"comment\">// å‹ç¼©</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">CompressionWebpackPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">algorithm</span>: <span class=\"string\">&quot;gzip&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">test</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(<span class=\"string\">&quot;\\\\.(&quot;</span> + productionGzipExtensions.<span class=\"title function_\">join</span>(<span class=\"string\">&quot;|&quot;</span>) + <span class=\"string\">&quot;)$&quot;</span>),</span><br><span class=\"line\">      <span class=\"attr\">threshold</span>: <span class=\"number\">10240</span>,</span><br><span class=\"line\">      <span class=\"attr\">deleteOriginalAssets</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// ä¸åˆ é™¤æºæ–‡ä»¶</span></span><br><span class=\"line\">      <span class=\"attr\">minRatio</span>: <span class=\"number\">0.8</span>,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"comment\">// æ„å»ºé¢„è§ˆï¼Œ æ‰“åŒ…åˆ†æ</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">BundleAnalyzerPlugin</span>(),</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å¿½ç•¥æ‰“åŒ…çš„ä¾èµ–\"><a href=\"#å¿½ç•¥æ‰“åŒ…çš„ä¾èµ–\" class=\"headerlink\" title=\"å¿½ç•¥æ‰“åŒ…çš„ä¾èµ–\"></a>å¿½ç•¥æ‰“åŒ…çš„ä¾èµ–</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> cdn = &#123;</span><br><span class=\"line\"> <span class=\"attr\">css</span>: [<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/element-plus/2.7.2/index.min.css&quot;</span>],</span><br><span class=\"line\"> <span class=\"attr\">js</span>: [</span><br><span class=\"line\">  <span class=\"comment\">// vue</span></span><br><span class=\"line\">  <span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/vue/3.2.13/vue.global.min.js&quot;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// ele</span></span><br><span class=\"line\">  <span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/element-plus-icons-vue/2.3.1/global.iife.min.js&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/element-plus/2.7.2/index.full.min.js&quot;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// lodash</span></span><br><span class=\"line\">  <span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/lodash.js/4.17.21/lodash.min.js&quot;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// router</span></span><br><span class=\"line\">  <span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/vue-router/4.3.2/vue-router.global.min.js&quot;</span>,</span><br><span class=\"line\"> ],</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">configureWebpack</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">externals</span>: &#123;</span><br><span class=\"line\">      <span class=\"comment\">// å°†ä¸€äº›ä½“ç§¯æ¯”è¾ƒå¤§çš„åŒ…æ‹†å‡ºæ¥ï¼Œä»¥cdnçš„é“¾æ¥å¼•å…¥ï¼Œ è¿™æ ·å‡å°‘æ‰“åŒ…ä½“ç§¯</span></span><br><span class=\"line\">      <span class=\"attr\">vue</span>: <span class=\"string\">&quot;Vue&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;element-plus&quot;</span>: <span class=\"string\">&quot;ElementPlus&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;@element-plus/icons-vue&quot;</span>: <span class=\"string\">&quot;ElementPlusIconsVue&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;lodash-es&quot;</span>: <span class=\"string\">&quot;_&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;vue-router&quot;</span>: <span class=\"string\">&quot;VueRouter&quot;</span>,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ¥ç€åœ¨<code>public/index.html</code>é…ç½® cdn</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;% <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i <span class=\"keyword\">in</span> htmlWebpackPlugin.<span class=\"property\">options</span>.<span class=\"property\">cdn</span> &amp;&amp; htmlWebpackPlugin.<span class=\"property\">options</span>.<span class=\"property\">cdn</span>.<span class=\"property\">css</span>) &#123; %&gt;</span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.css[i] %&gt;&quot;</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> /&gt;</span></span></span><br><span class=\"line\">&lt;% &#125; %&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;% <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i <span class=\"keyword\">in</span> htmlWebpackPlugin.<span class=\"property\">options</span>.<span class=\"property\">cdn</span> &amp;&amp; htmlWebpackPlugin.<span class=\"property\">options</span>.<span class=\"property\">cdn</span>.<span class=\"property\">js</span>) &#123; %&gt;</span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.js[i] %&gt;&quot;</span> &gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"é…ç½®-devserver\"><a href=\"#é…ç½®-devserver\" class=\"headerlink\" title=\"é…ç½® devserver\"></a>é…ç½® devserver</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">open</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">host</span>: <span class=\"string\">&quot;localhost&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">port</span>: <span class=\"number\">8080</span>,</span><br><span class=\"line\">    <span class=\"attr\">https</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"attr\">client</span>: &#123;</span><br><span class=\"line\">      <span class=\"comment\">// å…è®¸åœ¨æµè§ˆå™¨ä¸­è®¾ç½®æ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤æ˜¯æ™®é€šçš„æç¤º</span></span><br><span class=\"line\">      <span class=\"attr\">logging</span>: <span class=\"string\">&quot;info&quot;</span>,</span><br><span class=\"line\">      <span class=\"comment\">// å½“å‡ºç°ç¼–è¯‘é”™è¯¯æˆ–è­¦å‘Šæ—¶ï¼Œåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºå…¨å±è¦†ç›–</span></span><br><span class=\"line\">      <span class=\"attr\">overlay</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"comment\">// åœ¨æµè§ˆå™¨ä¸­ä»¥ç™¾åˆ†æ¯”æ˜¾ç¤ºç¼–è¯‘è¿›åº¦ï¼› æ‰“å¼€æ§åˆ¶å°å°±å¯ä»¥çœ‹è§</span></span><br><span class=\"line\">      <span class=\"attr\">progress</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"comment\">// é™æ¬¡å°è¯•é‡æ–°è¿æ¥</span></span><br><span class=\"line\">      <span class=\"attr\">reconnect</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>åˆ°è¿™é‡Œä¸€ä¸ªç®€å•çš„<code>webpack</code>æ‰“åŒ…ä¼˜åŒ–å°±å®Œæˆäº†ï¼›æˆ‘ä»¬é€šè¿‡<code>vue ui</code>æ‰“åŒ…çœ‹ä¸€ä¸‹;</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_17-18-15.png\" alt=\"build\"></p>\n<p>è¿™é‡Œçš„æˆ‘ä»¬å°±å¯ä»¥çœ‹å‡ºå‹ç¼©å‰ä¸å‹ç¼©åçš„æ–‡ä»¶å¤§å°å¯¹æ¯”ï¼Œéƒ¨ç½²é¡¹ç›®ä¹Ÿå¯ä»¥è½»æ¾çš„å®ç°<code>CDN</code>åŠ é€Ÿï¼Œ ä¼˜åŒ–æ‰“åŒ…é€Ÿåº¦ï¼Œ å‡å°‘æœåŠ¡å™¨å‹åŠ›ï¼Œ æå‡ç”¨æˆ·ä½“éªŒã€‚é‚£è¿™æ ·çš„æ˜¯ä¸æ˜¯å¯ä»¥åšåˆ°ç¬é—´æ‰“å¼€é¡µé¢å‘¢ï¼Ÿ</p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_17-20-15.png\" alt=\"success\"></p>\n<p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_17-21-36.png\" alt=\"success\"></p>\n<p>ç„¶åæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä¸€ä¸ªé¡¹ç›®æœ€åæ‰€ç”¨åˆ°çš„èµ„æºå¤§å°ï¼›</p>\n<h2 id=\"æœ€ç»ˆæµ‹è¯•ä»£ç \"><a href=\"#æœ€ç»ˆæµ‹è¯•ä»£ç \" class=\"headerlink\" title=\"æœ€ç»ˆæµ‹è¯•ä»£ç \"></a>æœ€ç»ˆæµ‹è¯•ä»£ç </h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; defineConfig &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;@vue/cli-service&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">CompressionWebpackPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;compression-webpack-plugin&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">AutoImport</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;unplugin-auto-import/webpack&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">Components</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;unplugin-vue-components/webpack&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"title class_\">ElementPlusResolver</span> &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;unplugin-vue-components/resolvers&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">BundleAnalyzerPlugin</span> =</span><br><span class=\"line\">\t<span class=\"built_in\">require</span>(<span class=\"string\">&quot;webpack-bundle-analyzer&quot;</span>).<span class=\"property\">BundleAnalyzerPlugin</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;path&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// const isProduction = process.env.NODE_ENV === &quot;production&quot;;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> cdn = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">css</span>: [<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/element-plus/2.7.2/index.min.css&quot;</span>],</span><br><span class=\"line\">\t<span class=\"attr\">js</span>: [</span><br><span class=\"line\">\t\t<span class=\"comment\">// vue</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/vue/3.2.13/vue.global.min.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// ele</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/element-plus-icons-vue/2.3.1/global.iife.min.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/element-plus/2.7.2/index.full.min.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// lodash</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/lodash.js/4.17.21/lodash.min.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// router</span></span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/vue-router/4.3.2/vue-router.global.min.js&quot;</span>,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> externals = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">vue</span>: <span class=\"string\">&quot;Vue&quot;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&quot;element-plus&quot;</span>: <span class=\"string\">&quot;ElementPlus&quot;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&quot;@element-plus/icons-vue&quot;</span>: <span class=\"string\">&quot;ElementPlusIconsVue&quot;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&quot;lodash-es&quot;</span>: <span class=\"string\">&quot;_&quot;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&quot;vue-router&quot;</span>: <span class=\"string\">&quot;VueRouter&quot;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> productionGzipExtensions = [<span class=\"string\">&quot;js&quot;</span>, <span class=\"string\">&quot;css&quot;</span>];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">transpileDependencies</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t<span class=\"attr\">pages</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">index</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">entry</span>: <span class=\"string\">&quot;src/main.js&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">title</span>: <span class=\"string\">&quot;æµ‹è¯•é¡¹ç›®&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// cdn: isProduction ? cdn : &#123;&#125;,</span></span><br><span class=\"line\">\t\t\tcdn,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å‡ºç›®å½•</span></span><br><span class=\"line\">\t<span class=\"attr\">outputDir</span>: <span class=\"string\">&quot;dist&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// é™æ€èµ„æºç›®å½•</span></span><br><span class=\"line\">\t<span class=\"attr\">assetsDir</span>: <span class=\"string\">&quot;static&quot;</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// æ˜¯å¦å¼€å¯eslintä¿å­˜æ£€æµ‹</span></span><br><span class=\"line\">\t<span class=\"attr\">lintOnSave</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t<span class=\"comment\">// æ˜¯å¦åœ¨æ„å»ºç”Ÿäº§åŒ…æ—¶ç”Ÿæˆ sourceMap æ–‡ä»¶ï¼Œfalseå°†æé«˜æ„å»ºé€Ÿåº¦</span></span><br><span class=\"line\">\t<span class=\"attr\">productionSourceMap</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// é“¾å¼ç¼–ç¨‹ ä¿®æ”¹é»˜è®¤çš„webpacké…ç½®</span></span><br><span class=\"line\">\t<span class=\"attr\">chainWebpack</span>: <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// config.plugin(&quot;html&quot;).tap(args =&gt; &#123;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//  args[0].title = &quot;æµ‹è¯•é¡¹ç›®&quot;;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//  return args</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// &#125;);</span></span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// å¯¹è±¡çš„å½¢å¼æ“ä½œ webpacké…ç½®</span></span><br><span class=\"line\">\t<span class=\"attr\">configureWebpack</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// åˆ«å</span></span><br><span class=\"line\">\t\t<span class=\"attr\">resolve</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">alias</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">&quot;@&quot;</span>: path.<span class=\"title function_\">resolve</span>(__dirname, <span class=\"string\">&quot;src&quot;</span>),</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t<span class=\"attr\">devtool</span>: <span class=\"string\">&quot;inline-source-map&quot;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// åˆ†åŒ…ä¼˜åŒ–</span></span><br><span class=\"line\">\t\t<span class=\"attr\">optimization</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">moduleIds</span>: <span class=\"string\">&quot;deterministic&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">runtimeChunk</span>: <span class=\"string\">&quot;single&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">minimize</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">splitChunks</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">chunks</span>: <span class=\"string\">&quot;all&quot;</span>, <span class=\"comment\">// åˆ†å‰²æ‰€æœ‰ç±»å‹çš„chunkï¼ˆåŒ…æ‹¬å¼‚æ­¥å’ŒåŒæ­¥ï¼‰</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">minSize</span>: <span class=\"number\">20000</span>, <span class=\"comment\">// æœ€å°æå–æ–‡ä»¶å¤§å°ï¼ˆé»˜è®¤å€¼ï¼‰</span></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// maxSize: 0,</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">minChunks</span>: <span class=\"number\">2</span>, <span class=\"comment\">// éœ€åœ¨ä¸¤ä¸ªæ¨¡å—ä¸­å…±äº«æ‰è¿›è¡Œæ‹†åˆ†</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">maxAsyncRequests</span>: <span class=\"number\">5</span>, <span class=\"comment\">// æœ€å¤§å¼‚æ­¥è¯·æ±‚å¹¶å‘æ•°ï¼ˆé»˜è®¤å€¼ï¼‰</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">maxInitialRequests</span>: <span class=\"number\">3</span>, <span class=\"comment\">// æœ€å¤§åˆå§‹åŒ–è¯·æ±‚å¹¶å‘æ•°ï¼ˆé»˜è®¤å€¼ï¼‰</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">cacheGroups</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"comment\">// vendorç»„ å­˜æ”¾node_modulesä¸‹çš„chunk</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">vendor</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]/</span>, <span class=\"comment\">// åŒ¹é…node_modulesä¸‹æ‰€æœ‰çš„chunk</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"title function_\">name</span>(<span class=\"params\"><span class=\"variable language_\">module</span></span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">let</span> packageName = <span class=\"string\">&quot;vendors&quot;</span>;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">const</span> reg = <span class=\"regexp\">/[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/</span>;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">if</span> (reg.<span class=\"title function_\">test</span>(<span class=\"variable language_\">module</span>.<span class=\"property\">context</span>)) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t\tpackageName = <span class=\"variable language_\">module</span>.<span class=\"property\">context</span>.<span class=\"title function_\">match</span>(reg)[<span class=\"number\">1</span>];</span><br><span class=\"line\">\t\t\t\t\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">module</span>.<span class=\"property\">context</span>, <span class=\"string\">&quot;==========&quot;</span>);</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"comment\">// æœ€åä»¥ chunk-lodash å‘½å</span></span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"string\">`chunk-<span class=\"subst\">$&#123;packageName.replace(<span class=\"string\">&quot;@&quot;</span>, <span class=\"string\">&quot;&quot;</span>)&#125;</span>`</span>;</span><br><span class=\"line\">\t\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"comment\">// name: &quot;chunk-vendor&quot;,</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: <span class=\"number\">10</span>, <span class=\"comment\">// ä¼˜å…ˆçº§10 ä¼˜å…ˆå°†node_modulesä¸‹çš„chunkæ‹†åˆ†åˆ°vendorç»„</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">reuseExistingChunk</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// é‡ç”¨æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°ç”Ÿæˆ</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">enforce</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// å¼ºåˆ¶æ‹†åˆ†</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"comment\">// é»˜è®¤ç»„ énode_modulesä¸‹çš„æ–‡ä»¶å— å°†æ‰§è¡Œdefaultç¼“å­˜ç»„è§„åˆ™</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">default</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">reuseExistingChunk</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// é‡ç”¨æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°ç”Ÿæˆ</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: -<span class=\"number\">10</span>, <span class=\"comment\">// ä¼˜å…ˆçº§ -10</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">enforce</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// å¼ºåˆ¶æ‹†åˆ†</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ’ä»¶</span></span><br><span class=\"line\">\t\t<span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">\t\t\t<span class=\"title class_\">AutoImport</span>(&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">resolvers</span>: [<span class=\"title class_\">ElementPlusResolver</span>()],</span><br><span class=\"line\">\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t<span class=\"title class_\">Components</span>(&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">resolvers</span>: [<span class=\"title class_\">ElementPlusResolver</span>()],</span><br><span class=\"line\">\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å‹ç¼©</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">new</span> <span class=\"title class_\">CompressionWebpackPlugin</span>(&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">algorithm</span>: <span class=\"string\">&quot;gzip&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">test</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(<span class=\"string\">&quot;\\\\.(&quot;</span> + productionGzipExtensions.<span class=\"title function_\">join</span>(<span class=\"string\">&quot;|&quot;</span>) + <span class=\"string\">&quot;)$&quot;</span>),</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">threshold</span>: <span class=\"number\">10240</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">deleteOriginalAssets</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// ä¸åˆ é™¤æºæ–‡ä»¶</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">minRatio</span>: <span class=\"number\">0.8</span>,</span><br><span class=\"line\">\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ„å»ºé¢„è§ˆ</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">new</span> <span class=\"title class_\">BundleAnalyzerPlugin</span>(),</span><br><span class=\"line\">\t\t],</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¿½ç•¥çš„ä¾èµ–</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// externals: isProduction ? externals : &#123;&#125;,</span></span><br><span class=\"line\">\t\texternals,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// æœåŠ¡</span></span><br><span class=\"line\">\t<span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">open</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">host</span>: <span class=\"string\">&quot;localhost&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">port</span>: <span class=\"number\">8080</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">https</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">client</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å…è®¸åœ¨æµè§ˆå™¨ä¸­è®¾ç½®æ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤æ˜¯æ™®é€šçš„æç¤º</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">logging</span>: <span class=\"string\">&quot;info&quot;</span>,</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å½“å‡ºç°ç¼–è¯‘é”™è¯¯æˆ–è­¦å‘Šæ—¶ï¼Œåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºå…¨å±è¦†ç›–</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">overlay</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// åœ¨æµè§ˆå™¨ä¸­ä»¥ç™¾åˆ†æ¯”æ˜¾ç¤ºç¼–è¯‘è¿›åº¦</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">progress</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// é™æ¬¡å°è¯•é‡æ–°è¿æ¥</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">reconnect</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width,initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;icon&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= BASE_URL %&gt;favicon.ico&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>&lt;%= htmlWebpackPlugin.options.title %&gt;<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp;</span><br><span class=\"line\">\t\thtmlWebpackPlugin.options.cdn.css) &#123; %&gt;</span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.css[i] %&gt;&quot;</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t&lt;% &#125; %&gt; &lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp;</span><br><span class=\"line\">\t\thtmlWebpackPlugin.options.cdn.js) &#123; %&gt;</span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.js[i] %&gt;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t\t&lt;% &#125; %&gt;</span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">noscript</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">strong</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t\t&gt;</span>We&#x27;re sorry but &lt;%= htmlWebpackPlugin.options.title %&gt; doesn&#x27;t work</span><br><span class=\"line\">\t\t\t\tproperly without JavaScript enabled. Please enable it to</span><br><span class=\"line\">\t\t\t\tcontinue.&lt;/strong</span><br><span class=\"line\">\t\t\t&gt;</span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">noscript</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">&lt;!-- built files will be auto injected --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ•ˆæœå›¾\"><a href=\"#æ•ˆæœå›¾\" class=\"headerlink\" title=\"æ•ˆæœå›¾\"></a>æ•ˆæœå›¾</h2><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/Snipaste_2024-04-30_17-24-45.png\" alt=\"result\"></p>\n"},{"title":"webpackæ‰“åŒ…ä¼˜åŒ–(è€ç‰ˆæœ¬)","abbrlink":"b27b61d3","date":"2023-11-08T01:05:01.000Z","_content":"\n# ä¼˜åŒ–èƒŒæ™¯\n\nå‰æ®µæ—¶é—´æäº†ä¸€ä¸ªæ–°é¡¹ç›®, ç”¨çš„å…¨æ–° vue3 å’Œ vant3 çš„æ¡†æ¶ï¼Œè®¿é—®é¡¹ç›®æ—¶é•¿ 1 åˆ†å¤šéƒ½æ²¡æœ‰åŠ è½½å‡ºæ¥, å…¶å®å¼•å…¥çš„æ¡†æ¶å°±åªæœ‰ vant å’Œä¸€äº›æ’ä»¶ï¼Œ å¯¹äºå•é¡µé¢è€Œè¨€ï¼Œè¿™æ˜¯æœ‰å¾ˆå¤§çš„é—®é¢˜çš„ï¼Œé¡µé¢è®°è½½ç¼“æ…¢ï¼Œèµ„æºä¸‹è½½æ…¢, ä¸€ä¸ª vender.js æ–‡ä»¶ è¾¾åˆ°äº† mbï¼Œå¯¹äºä¸€ä¸ªæ–°é¡¹ç›®è€Œè¨€ï¼Œ æ€ä¹ˆä¼šè¿™ä¹ˆå¤§å‘¢ï¼Ÿè¿™æ—¶å°±åº”è¯¥å…ˆå»è€ƒè™‘ä¸€ä¸‹é¡¹ç›®å¦‚ä½•ä¼˜åŒ–ã€‚æ€æ ·å®ç° 11s åˆ° 1s çš„æ•ˆæœã€‚\n\n## ä¼˜åŒ–æ–¹å‘\n\n- æ–‡ä»¶æ‹†åˆ†ï¼Œä»£ç ï¼Œå›¾ç‰‡ï¼Œæ–‡ä»¶å‹ç¼©ï¼Œ Gzip å‹ç¼©\n- node_modules åŒ…ä½“ç§¯è¿‡å¤§çš„æ–‡ä»¶æ‹†åˆ†ï¼Œä¼˜åŒ–åˆ†åŒ…ç­–ç•¥\n- ä¼˜åŒ–è·¯ç”±æ‡’åŠ è½½\n- æ‹†åˆ†ç¬¬ä¸‰æ–¹æ’ä»¶, æ”¹ç”¨ cdn é“¾æ¥\n- loading åŠ¨ç”»\n- éª¨æ¶å±\n\n## å¼€å§‹ä¼˜åŒ–\n\n### ä½“ç§¯ä¼˜åŒ–\n\n#### æ’æŸ¥å†—ä½™ä¾èµ–ï¼Œæ–‡ä»¶èµ„æºï¼Œå›¾ç‰‡\n\n- åˆ é™¤é¡¹ç›®ä¸­å¤šä½™çš„ä¾èµ–\n- é™æ€èµ„æºå…¨éƒ¨æ”¾å…¥ assets æ–‡ä»¶å¤¹ä¸‹\n\n#### å›¾ç‰‡å‹ç¼©\n\n- æ‰‹åŠ¨å°†å›¾ç‰‡è¿›è¡Œå‹ç¼©, ä½†æ˜¯è¿™æ ·æ¯”è¾ƒéº»çƒ¦\n- å¼•å…¥æ’ä»¶ image-webpack-loadeï¼Œè¿›è¡Œå‹ç¼©\n\n```sh\n// install\nnpm i image-webpack-loader -D\n```\n\n```js\n// vue.config.js\nchainWebpack: config => {\n\t// åˆ¤æ–­ç¯å¢ƒ\n\tif (isProd) {\n\t\t// å›¾ç‰‡å‹ç¼©å¤„ç†\n\t\tconst imgRule = config.module.rule(\"images\");\n\t\timgRule\n\t\t\t.test(/\\.(png|jpe?g|gif|webp)(\\?.*)?$/)\n\t\t\t.use(\"image-webpack-loader\")\n\t\t\t.loader(\"image-webpack-loader\")\n\t\t\t.options({ bypassOnDebug: true })\n\t\t\t.end();\n\t}\n};\n```\n\n#### ä¼˜åŒ– vant ä½“ç§¯, cdn åŠ é€Ÿ\n\nvant UI åº“å…¨å±€å¼•å…¥ï¼Œ ä¼šå°† vant æ‰“åŒ…åœ¨ vender æ–‡ä»¶ä¸­ï¼Œ æˆ‘ä»¬å°†å®ƒæ‹†å‡ºæ¥ï¼Œä½¿ç”¨ cdn é“¾æ¥\n\n```js\nconst isProcess =\n\tprocess.env.NODE_ENV === \"production\" ||\n\tprocess.env.NODE_ENV === \"test\" ||\n\tprocess.env.NODE_ENV === \"pre\";\n// ä½¿ç”¨cdn\nconst cdn = {\n\tcss: [\"https://cdn.jsdelivr.net/npm/vant@3.2.3/lib/index.css\"],\n\tjs: [\n\t\t\"https://cdn.jsdelivr.net/npm/vue@3.2.6/dist/vue.global.prod.js\",\n\t\t\"https://cdn.jsdelivr.net/npm/vue-router@4.0.11/dist/vue-router.global.prod.js\",\n\t\t\"https://cdn.jsdelivr.net/npm/vuex@4.0.2/dist/vuex.global.prod.js\",\n\t\t\"https://cdn.jsdelivr.net/npm/axios@0.21.4/dist/axios.min.js\",\n\t\t\"https://cdn.jsdelivr.net/npm/vant@3.2.3/lib/vant.min.js\",\n\t],\n\t// ç¬¬ä¸‰æ–¹æ’ä»¶æ‹†åˆ†\n\texternals: {\n\t\tvue: \"Vue\",\n\t\t\"vue-router\": \"VueRouter\",\n\t\tvuex: \"Vuex\",\n\t\taxios: \"axios\",\n\t\tvant: \"vant\",\n\t},\n};\n// æœ¬åœ°ä¸ä¼šæ‹†åˆ†\nconfigureWebpack: {\n\texternals: {\n\t\tisProcess ? cdn.externals : {};\n\t}\n}\n```\n\n#### ä¼˜åŒ– moment ä½“ç§¯\n\n```js\n// è¿™é‡Œä½¿ç”¨å†…ç½®çš„IgnorePluginå³å¯åšåˆ°\nnew webpack.IgnorePlugin(/^\\.\\/locale$/, /moment$/),\n```\n\n#### ä¼˜åŒ– core-js ä½“ç§¯\n\né¡¹ç›®ä¸­é»˜è®¤æ˜¯`useBuiltIns: 'entry'`å°†æ‰€æœ‰`polyfill`éƒ½å¼•å…¥äº†ï¼Œå¯¼è‡´åŒ…æ¯”è¾ƒå¤§ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ u`seBuiltIns: 'entry'`è°ƒæ•´ä¸‹ç­–ç•¥ï¼ŒæŒ‰éœ€å¼•å…¥ï¼Œé¡¹ç›®ä¸­æ²¡ä½¿ç”¨åˆ°çš„ API å°±ä¸åš`polyfill`å¤„ç†äº†\n\n```js\n// babel.config.js\nmodule.exports = {\n\tpresets: [\n\t\t\"@vue/cli-plugin-babel/preset\",\n\t\t[\n\t\t\t\"@babel/preset-env\",\n\t\t\t{\n\t\t\t\tuseBuiltIns: \"usage\", // entryï¼Œusage\n\t\t\t\tcorejs: 3,\n\t\t\t},\n\t\t],\n\t],\n\tplugins,\n};\n```\n\n### ä¼ è¾“ä¼˜åŒ–\n\n#### ä¼˜åŒ–åˆ†åŒ…ç­–ç•¥\n\nvue-cli3 çš„é»˜è®¤ä¼˜åŒ–æ˜¯å°†æ‰€æœ‰ npm ä¾èµ–éƒ½æ‰“è¿› chunk-vendorï¼Œä½†è¿™ç§åšæ³•åœ¨ä¾èµ–å¤šçš„æƒ…å†µä¸‹å¯¼è‡´ chunk-vendor è¿‡å¤§\n\n```js\noptimization: isProd\n\t? {\n\t\t\tsplitChunks: {\n\t\t\t\tchunks: \"all\",\n\t\t\t\tmaxInitialRequests: Infinity, // é»˜è®¤ä¸º3ï¼Œè°ƒæ•´ä¸ºå…è®¸æ— é™å…¥å£èµ„æº\n\t\t\t\tminSize: 20000, // 20Kä»¥ä¸‹çš„ä¾èµ–ä¸åšæ‹†åˆ†\n\t\t\t\tcacheGroups: {\n\t\t\t\t\tvendors: {\n\t\t\t\t\t\t// æ‹†åˆ†ä¾èµ–ï¼Œé¿å…å•æ–‡ä»¶è¿‡å¤§æ‹–æ…¢é¡µé¢å±•ç¤º\n\t\t\t\t\t\t// å¾—ç›ŠäºHTTP2å¤šè·¯å¤ç”¨ï¼Œä¸ç”¨å¤ªæ‹…å¿ƒèµ„æºè¯·æ±‚å¤ªå¤šçš„é—®é¢˜\n\t\t\t\t\t\tname(module) {\n\t\t\t\t\t\t\t// æ‹†åŒ…\n\t\t\t\t\t\t\tconst packageName = module.context.match(\n\t\t\t\t\t\t\t\t/[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/\n\t\t\t\t\t\t\t)[1];\n\t\t\t\t\t\t\t// è¿›ä¸€æ­¥å°†Antç»„ä»¶æ‹†åˆ†å‡ºæ¥,è¯·æ ¹æ®æƒ…å†µæ¥\n\t\t\t\t\t\t\t// const packageName = module.context.match(/[\\\\/]node_modules[\\\\/](?:ant-design-vue[\\\\/]es[\\\\/])?(.*?)([\\\\/]|$)/)[1]\n\t\t\t\t\t\t\treturn `npm.${packageName.replace(\"@\", \"\")}`; // éƒ¨åˆ†æœåŠ¡å™¨ä¸å…è®¸URLå¸¦@\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttest: /[\\\\/]node_modules[\\\\/]/,\n\t\t\t\t\t\tpriority: -10,\n\t\t\t\t\t\tchunks: \"initial\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\truntimeChunk: { name: entrypoint => `runtime-${entrypoint.name}` },\n\t  }\n\t: {};\n```\n\n#### è·¯ç”±æ‡’åŠ è½½\n\nSPA ä¸­ä¸€ä¸ªå¾ˆé‡è¦çš„æé€Ÿæ‰‹æ®µå°±æ˜¯è·¯ç”±æ‡’åŠ è½½ï¼Œå½“æ‰“å¼€é¡µé¢æ—¶æ‰å»åŠ è½½å¯¹åº”æ–‡ä»¶ï¼Œæˆ‘ä»¬åˆ©ç”¨ Vue çš„å¼‚æ­¥ç»„ä»¶å’Œ webpack çš„ä»£ç åˆ†å‰²ï¼ˆimport()ï¼‰å°±å¯ä»¥è½»æ¾å®ç°æ‡’åŠ è½½äº†ã€‚\nä½†å½“è·¯ç”±è¿‡å¤šæ—¶ï¼Œè¯·åˆç†åœ°ç”¨ webpack çš„é­”æ³•æ³¨é‡Šå¯¹è·¯ç”±è¿›è¡Œåˆ†ç»„ï¼Œå¤ªå¤šçš„ chunk ä¼šå½±å“æ„å»ºæ—¶çš„é€Ÿåº¦\n\n```js\n{\n  path: 'register',\n  name: 'register',\n  component: () => import(/* webpackChunkName: \"user\" */ '@/views/user/register'),\n}\n```\n\n#### gzip å‹ç¼©\n\nGzip å‹ç¼©æ˜¯ä¸€ç§å¼ºåŠ›å‹ç¼©æ‰‹æ®µï¼Œé’ˆå¯¹æ–‡æœ¬æ–‡ä»¶æ—¶é€šå¸¸èƒ½å‡å°‘ 2/3 çš„ä½“ç§¯ã€‚\n\nHTTP åè®®ä¸­ç”¨å¤´éƒ¨å­—æ®µ Accept-Encoding å’Œ Content-Encoding å¯¹ã€Œé‡‡ç”¨ä½•ç§ç¼–ç æ ¼å¼ä¼ è¾“æ­£æ–‡ã€è¿›è¡Œäº†åå®šï¼Œè¯·æ±‚å¤´çš„ Accept-Encoding ä¼šåˆ—å‡ºå®¢æˆ·ç«¯æ”¯æŒçš„ç¼–ç æ ¼å¼ã€‚å½“å“åº”å¤´çš„ Content-Encoding æŒ‡å®šäº† gzip æ—¶ï¼Œæµè§ˆå™¨åˆ™ä¼šè¿›è¡Œå¯¹åº”è§£å‹\n\nä¸€èˆ¬æµè§ˆå™¨éƒ½æ”¯æŒ gzipï¼Œæ‰€ä»¥ Accept-Encoding ä¹Ÿä¼šè‡ªåŠ¨å¸¦ä¸Š gzipï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®©èµ„æºæœåŠ¡å™¨åœ¨ Content-Encoding æŒ‡å®š gzipï¼Œå¹¶è¿”å› gzip æ–‡ä»¶\n\n- Nginx é…ç½®\n\n```sh\n#å¼€å¯å’Œå…³é—­gzipæ¨¡å¼\ngzip on;\n#gizpå‹ç¼©èµ·ç‚¹ï¼Œæ–‡ä»¶å¤§äº1kæ‰è¿›è¡Œå‹ç¼©\ngzip_min_length 1k;\n# gzip å‹ç¼©çº§åˆ«ï¼Œ1-9ï¼Œæ•°å­—è¶Šå¤§å‹ç¼©çš„è¶Šå¥½ï¼Œä¹Ÿè¶Šå ç”¨CPUæ—¶é—´\ngzip_comp_level 6;\n# è¿›è¡Œå‹ç¼©çš„æ–‡ä»¶ç±»å‹ã€‚\ngzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript ;\n# nginxå¯¹äºé™æ€æ–‡ä»¶çš„å¤„ç†æ¨¡å—ï¼Œå¼€å¯åä¼šå¯»æ‰¾ä»¥.gzç»“å°¾çš„æ–‡ä»¶ï¼Œç›´æ¥è¿”å›ï¼Œä¸ä¼šå ç”¨cpuè¿›è¡Œå‹ç¼©ï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™ä¸è¿›è¡Œå‹ç¼©\ngzip_static on\n# æ˜¯å¦åœ¨http headerä¸­æ·»åŠ Vary: Accept-Encodingï¼Œå»ºè®®å¼€å¯\ngzip_vary on;\n# è®¾ç½®gzipå‹ç¼©é’ˆå¯¹çš„HTTPåè®®ç‰ˆæœ¬\ngzip_http_version 1.1;\n```\n\n- æ„å»ºæ˜¯ç”Ÿæˆ gzip æ–‡ä»¶\n\n```js\n// vue.config.js\nconst CompressionPlugin = require(\"compression-webpack-plugin\");\n// gzipå‹ç¼©å¤„ç†\nchainWebpack: config => {\n\tif (isProd) {\n\t\tconfig.plugin(\"compression-webpack-plugin\").use(\n\t\t\tnew CompressionPlugin({\n\t\t\t\ttest: /\\.js$|\\.html$|\\.css$/, // åŒ¹é…æ–‡ä»¶å\n\t\t\t\tthreshold: 10240, // å¯¹è¶…è¿‡10kçš„æ•°æ®å‹ç¼©\n\t\t\t\tdeleteOriginalAssets: false, // ä¸åˆ é™¤æºæ–‡ä»¶\n\t\t\t})\n\t\t);\n\t}\n};\n```\n\n#### prefetch ï¼Œ preload\n\n```html\n<% for (var i in htmlWebpackPlugin.options.cdn &&\nhtmlWebpackPlugin.options.cdn.css) { %>\n<link\n\thref=\"<%= htmlWebpackPlugin.options.cdn.css[i] %>\"\n\trel=\"preload\"\n\tas=\"style\"\n/>\n<link href=\"<%= htmlWebpackPlugin.options.cdn.css[i] %>\" rel=\"stylesheet\" />\n<% } %> <% for (var i in htmlWebpackPlugin.options.cdn &&\nhtmlWebpackPlugin.options.cdn.js) { %>\n<link\n\thref=\"<%= htmlWebpackPlugin.options.cdn.js[i] %>\"\n\trel=\"preload\"\n\tas=\"script\"\n/>\n<% } %>\n```\n\n```js\nconfig.plugins.delete(\"prefetch\");\nconfig.plugins.delete(\"preload\");\n```\n\n1. prefetch æ˜¯åœ¨æµè§ˆå™¨ç©ºé—²æ—¶åŠ è½½ï¼Œå¯ä»¥å‡å°‘ç”¨æˆ·ç­‰å¾…æ—¶é—´ï¼Œä½†åŠ è½½æ—¶é—´ä¼šæ›´é•¿ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šåŒæ—¶åŠ è½½å¤šä¸ªæ–‡ä»¶ã€‚\n2. preload æ˜¯åœ¨å½“å‰é¡µé¢åŠ è½½æ—¶åŠ è½½ï¼ŒåŠ è½½é€Ÿåº¦ä¼šæ›´å¿«ï¼Œä½†åŠ è½½æ—¶é—´ä¼šæ›´çŸ­ï¼Œä½†åŒæ—¶ä¼šå¢åŠ ç”¨æˆ·æµé‡ã€‚\n3. prefetch å’Œ preload éƒ½æ˜¯ HTML5 æ–°å¢çš„æ ‡ç­¾ï¼Œä½†æ˜¯ preload çš„ä¼˜å…ˆçº§é«˜äº prefetchã€‚\n4. prefetch çš„ä½œç”¨æ˜¯é¢„åŠ è½½ï¼Œè€Œ preload çš„ä½œç”¨æ˜¯é¢„è·å–ã€‚\n\n## æ¨¡æ¿\n\n```html\n<!DOCTYPE html>\n<html lang=\"\">\n\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n\t\t<script\n\t\t\ttype=\"text/javascript\"\n\t\t\tsrc=\"https://webapi.amap.com/maps?v=1.4.4&key=13df4ba40de83428e30e3031ee61cb59\"\n\t\t></script>\n\t\t<!-- <script type=\"text/javascript\" src=\"../src//util//remogeo.js\"></script> -->\n\t\t<!-- <meta http-equiv=\"Content-Security-Policy\" content=\"upgrade-insecure-requests\"> -->\n\t\t<!-- <meta content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, viewport-fit=cover\" name=\"viewport\" /> -->\n\t\t<meta\n\t\t\tname=\"viewport\"\n\t\t\tcontent=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, shrink-to-fit=no,user-scalable=no\"\n\t\t/>\n\t\t<link rel=\"icon\" href=\"<%= BASE_URL %>favicon.ico\" />\n\t\t<title><%= htmlWebpackPlugin.options.title %></title>\n\t\t<script src=\"https://res.wx.qq.com/open/js/jweixin-1.2.0.js\"></script>\n\t\t<script src=\"https://open.work.weixin.qq.com/wwopen/js/jwxwork-1.0.0.js\"></script>\n\t\t<% for (var i in htmlWebpackPlugin.options.cdn &&\n\t\thtmlWebpackPlugin.options.cdn.css) { %>\n\t\t<link\n\t\t\thref=\"<%= htmlWebpackPlugin.options.cdn.css[i] %>\"\n\t\t\trel=\"preload\"\n\t\t\tas=\"style\"\n\t\t/>\n\t\t<link href=\"<%= htmlWebpackPlugin.options.cdn.css[i] %>\" rel=\"stylesheet\" />\n\t\t<% } %> <% for (var i in htmlWebpackPlugin.options.cdn &&\n\t\thtmlWebpackPlugin.options.cdn.js) { %>\n\t\t<link\n\t\t\thref=\"<%= htmlWebpackPlugin.options.cdn.js[i] %>\"\n\t\t\trel=\"preload\"\n\t\t\tas=\"script\"\n\t\t/>\n\t\t<% } %>\n\t</head>\n\t<body>\n\t\t<noscript>\n\t\t\t<strong\n\t\t\t\t>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work\n\t\t\t\tproperly without JavaScript enabled. Please enable it to\n\t\t\t\tcontinue.</strong\n\t\t\t>\n\t\t</noscript>\n\t\t<div id=\"app\"></div>\n\t\t<!-- built files will be auto injected -->\n\t\t<% for (var i in htmlWebpackPlugin.options.cdn &&\n\t\thtmlWebpackPlugin.options.cdn.js) { %>\n\t\t<script src=\"<%= htmlWebpackPlugin.options.cdn.js[i] %>\"></script>\n\t\t<% } %>\n\t</body>\n\t<script></script>\n</html>\n```\n\n```js\nconst webpack = require(\"webpack\");\nconst path = require(\"path\");\nconst resolve = dir => path.join(__dirname, dir);\nconst CompressionWebpackPlugin = require(\"compression-webpack-plugin\");\nconst vConsolePlugin = require(\"vconsole-webpack-plugin\");\nconst productionGzipExtensions = [\"js\", \"css\"];\n\nconst isProcess =\n\tprocess.env.NODE_ENV === \"production\" ||\n\tprocess.env.NODE_ENV === \"test\" ||\n\tprocess.env.NODE_ENV === \"pre\";\n\n// é…ç½® cdn, æ‹†åˆ†æ¨¡å—\nconst cdn = {\n\tcss: [\"https://cdn.jsdelivr.net/npm/vant@3.2.3/lib/index.css\"],\n\tjs: [\n\t\t\"https://cdn.jsdelivr.net/npm/vue@3.2.6/dist/vue.global.prod.js\",\n\t\t\"https://cdn.jsdelivr.net/npm/vue-router@4.0.11/dist/vue-router.global.prod.js\",\n\t\t\"https://cdn.jsdelivr.net/npm/vuex@4.0.2/dist/vuex.global.prod.js\",\n\t\t\"https://cdn.jsdelivr.net/npm/axios@0.21.4/dist/axios.min.js\",\n\t\t\"https://cdn.jsdelivr.net/npm/vant@3.2.3/lib/vant.min.js\",\n\t\t\"https://file.anbangke.com/js/map_index.js\",\n\t],\n\texternals: {\n\t\tvue: \"Vue\",\n\t\t\"vue-router\": \"VueRouter\",\n\t\tvuex: \"Vuex\",\n\t\taxios: \"axios\",\n\t\tvant: \"vant\",\n\t\tAMap: \"AMap\",\n\t},\n};\n\nconst vueConfig = {\n\tconfigureWebpack: {\n\t\toptimization: {\n\t\t\tsplitChunks: {\n\t\t\t\tchunks: \"all\",\n\t\t\t\tminSize: 30000,\n\t\t\t\tminChunks: 1,\n\t\t\t\tmaxAsyncRequests: 5,\n\t\t\t\tmaxInitialRequests: 3,\n\t\t\t\tautomaticNameDelimiter: \"~\",\n\t\t\t\tname: true,\n\t\t\t\tcacheGroups: {\n\t\t\t\t\tvendors: {\n\t\t\t\t\t\tchunks: \"all\",\n\t\t\t\t\t\ttest: /[\\\\/]node_modules[\\\\/]/,\n\t\t\t\t\t\tname(module) {\n\t\t\t\t\t\t\tconst packageName = module.context.match(\n\t\t\t\t\t\t\t\t/[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/\n\t\t\t\t\t\t\t)[1];\n\t\t\t\t\t\t\treturn `chunk.${packageName.replace(\"@\", \"\")}`;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpriority: -10,\n\t\t\t\t\t\treuseExistingChunk: true,\n\t\t\t\t\t},\n\t\t\t\t\t\"crypto-js\": {\n\t\t\t\t\t\tname: \"chunk-crypto-js\",\n\t\t\t\t\t\ttest: /[\\\\/]node_modules[\\\\/]_?crypto-js(.*)/,\n\t\t\t\t\t\tpriority: 10,\n\t\t\t\t\t},\n\t\t\t\t\tvant: {\n\t\t\t\t\t\tname: \"chunk-vant-js\",\n\t\t\t\t\t\ttest: /[\\\\/]node_modules[\\\\/]_?vant(.*)/,\n\t\t\t\t\t\tpriority: 20,\n\t\t\t\t\t},\n\t\t\t\t\t\"core-js\": {\n\t\t\t\t\t\tname: \"chunk-core-js\",\n\t\t\t\t\t\ttest: /[\\\\/]node_modules[\\\\/]_?core-js(.*)/,\n\t\t\t\t\t\tpriority: 25,\n\t\t\t\t\t},\n\t\t\t\t\tcommon: {\n\t\t\t\t\t\t// split async commons chunk\n\t\t\t\t\t\tname: \"chunk-common\",\n\t\t\t\t\t\tminChunks: 2,\n\t\t\t\t\t\tpriority: -20,\n\t\t\t\t\t\tchunks: \"initial\",\n\t\t\t\t\t\treuseExistingChunk: true,\n\t\t\t\t\t},\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\tminChunks: 2,\n\t\t\t\t\t\tpriority: -20,\n\t\t\t\t\t\treuseExistingChunk: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tplugins: [\n\t\t\t// Ignore all locale files of moment.js\n\t\t\tnew webpack.IgnorePlugin(/^\\.\\/locale$/, /moment$/),\n\t\t\tnew webpack.optimize.LimitChunkCountPlugin({\n\t\t\t\tmaxChunks: 5,\n\t\t\t\tminChunkSize: 100,\n\t\t\t}),\n\t\t\tnew CompressionWebpackPlugin({\n\t\t\t\talgorithm: \"gzip\",\n\t\t\t\ttest: new RegExp(\"\\\\.(\" + productionGzipExtensions.join(\"|\") + \")$\"),\n\t\t\t\tthreshold: 10240,\n\t\t\t\tdeleteOriginalAssets: false, // ä¸åˆ é™¤æºæ–‡ä»¶\n\t\t\t\tminRatio: 0.8,\n\t\t\t}),\n\t\t\tnew vConsolePlugin({\n\t\t\t\tfilter: [],\n\t\t\t\tenable: process.env.NODE_ENV != \"production\",\n\t\t\t}),\n\t\t],\n\t\t// if prod, add externals\n\t\texternals: isProcess ? cdn.externals : {},\n\t},\n\toutputDir: \"dist\",\n\tassetsDir: \"static\",\n\tlintOnSave: true, // æ˜¯å¦å¼€å¯eslintä¿å­˜æ£€æµ‹\n\tproductionSourceMap: false, // æ˜¯å¦åœ¨æ„å»ºç”Ÿäº§åŒ…æ—¶ç”Ÿæˆ sourceMap\n\tchainWebpack: config => {\n\t\tconfig.resolve.alias\n\t\t\t.set(\"@\", resolve(\"src\"))\n\t\t\t.set(\"@v\", resolve(\"src/views\"))\n\t\t\t.set(\"@c\", resolve(\"src/components\"))\n\t\t\t.set(\"@u\", resolve(\"src/util\"));\n\t\tconfig.optimization.runtimeChunk(\"single\");\n\t\tconfig.plugin(\"html\").tap(args => {\n\t\t\targs[0].title = \"\";\n\t\t\t// é…ç½®ç¯å¢ƒcdn\n\t\t\tif (isProcess) {\n\t\t\t\targs[0].cdn = cdn;\n\t\t\t}\n\t\t\treturn args;\n\t\t});\n\t\t// é¢„è§ˆæ‰“åŒ…æ¨¡å—\n\t\t// config.plugin('webpack-bundle-analyzer')\n\t\t// \t.use(require('webpack-bundle-analyzer').BundleAnalyzerPlugin)\n\t\t// \t.end()\n\t\t// å…³é—­Prefetch, åœ¨é¦–å±ä¼šæŠŠè¿™åå‡ ä¸ªè·¯ç”±æ–‡ä»¶ï¼Œéƒ½ä¸€å£æ°”ä¸‹è½½äº† åˆ é™¤é¢„åŠ è½½\n\t\tconfig.plugins.delete(\"prefetch\");\n\t\tconfig.plugins.delete(\"preload\");\n\t\t// å‹ç¼©ä»£ç \n\t\tconfig.optimization.minimize(true);\n\t},\n\tdevServer: {\n\t\thost: \"0.0.0.0\", //å±€åŸŸç½‘å’Œæœ¬åœ°è®¿é—®\n\t\tport: 80,\n\t\thot: true,\n\t\topen: false,\n\t\toverlay: {\n\t\t\twarning: false,\n\t\t\terror: true,\n\t\t},\n\t\tdisableHostCheck: true,\n\t},\n};\nmodule.exports = vueConfig;\n```\n\n### æ‰“åŒ…ä¹‹åä½“éªŒ 1s æ‰“å¼€é¡¹ç›®\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112181708.7zqeietpgn.webp)\n\n## å‚è€ƒèµ„æ–™\n\n- [ğŸ¢11s åˆ° âš¡1sï¼Œæ€§èƒ½ä¼˜åŒ–ä¹‹é¦–å±åŠ è½½ ğŸš€](https://juejin.cn/post/6949896020788690958?share_token=d0a44d3a-83bf-4b45-8834-4d99ed8b7fac)\n","source":"_posts/æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/é¡¹ç›®ä¼˜åŒ–/webpackæ‰“åŒ…ä¼˜åŒ–(è€ç‰ˆæœ¬).md","raw":"---\ntitle: webpackæ‰“åŒ…ä¼˜åŒ–(è€ç‰ˆæœ¬)\nabbrlink: b27b61d3\ndate: 2023-11-08 09:05:01\ncategories:\n  - æŠ€èƒ½å°å†Œ\ntags:\n  - å·¥ç¨‹åŒ–\n---\n\n# ä¼˜åŒ–èƒŒæ™¯\n\nå‰æ®µæ—¶é—´æäº†ä¸€ä¸ªæ–°é¡¹ç›®, ç”¨çš„å…¨æ–° vue3 å’Œ vant3 çš„æ¡†æ¶ï¼Œè®¿é—®é¡¹ç›®æ—¶é•¿ 1 åˆ†å¤šéƒ½æ²¡æœ‰åŠ è½½å‡ºæ¥, å…¶å®å¼•å…¥çš„æ¡†æ¶å°±åªæœ‰ vant å’Œä¸€äº›æ’ä»¶ï¼Œ å¯¹äºå•é¡µé¢è€Œè¨€ï¼Œè¿™æ˜¯æœ‰å¾ˆå¤§çš„é—®é¢˜çš„ï¼Œé¡µé¢è®°è½½ç¼“æ…¢ï¼Œèµ„æºä¸‹è½½æ…¢, ä¸€ä¸ª vender.js æ–‡ä»¶ è¾¾åˆ°äº† mbï¼Œå¯¹äºä¸€ä¸ªæ–°é¡¹ç›®è€Œè¨€ï¼Œ æ€ä¹ˆä¼šè¿™ä¹ˆå¤§å‘¢ï¼Ÿè¿™æ—¶å°±åº”è¯¥å…ˆå»è€ƒè™‘ä¸€ä¸‹é¡¹ç›®å¦‚ä½•ä¼˜åŒ–ã€‚æ€æ ·å®ç° 11s åˆ° 1s çš„æ•ˆæœã€‚\n\n## ä¼˜åŒ–æ–¹å‘\n\n- æ–‡ä»¶æ‹†åˆ†ï¼Œä»£ç ï¼Œå›¾ç‰‡ï¼Œæ–‡ä»¶å‹ç¼©ï¼Œ Gzip å‹ç¼©\n- node_modules åŒ…ä½“ç§¯è¿‡å¤§çš„æ–‡ä»¶æ‹†åˆ†ï¼Œä¼˜åŒ–åˆ†åŒ…ç­–ç•¥\n- ä¼˜åŒ–è·¯ç”±æ‡’åŠ è½½\n- æ‹†åˆ†ç¬¬ä¸‰æ–¹æ’ä»¶, æ”¹ç”¨ cdn é“¾æ¥\n- loading åŠ¨ç”»\n- éª¨æ¶å±\n\n## å¼€å§‹ä¼˜åŒ–\n\n### ä½“ç§¯ä¼˜åŒ–\n\n#### æ’æŸ¥å†—ä½™ä¾èµ–ï¼Œæ–‡ä»¶èµ„æºï¼Œå›¾ç‰‡\n\n- åˆ é™¤é¡¹ç›®ä¸­å¤šä½™çš„ä¾èµ–\n- é™æ€èµ„æºå…¨éƒ¨æ”¾å…¥ assets æ–‡ä»¶å¤¹ä¸‹\n\n#### å›¾ç‰‡å‹ç¼©\n\n- æ‰‹åŠ¨å°†å›¾ç‰‡è¿›è¡Œå‹ç¼©, ä½†æ˜¯è¿™æ ·æ¯”è¾ƒéº»çƒ¦\n- å¼•å…¥æ’ä»¶ image-webpack-loadeï¼Œè¿›è¡Œå‹ç¼©\n\n```sh\n// install\nnpm i image-webpack-loader -D\n```\n\n```js\n// vue.config.js\nchainWebpack: config => {\n\t// åˆ¤æ–­ç¯å¢ƒ\n\tif (isProd) {\n\t\t// å›¾ç‰‡å‹ç¼©å¤„ç†\n\t\tconst imgRule = config.module.rule(\"images\");\n\t\timgRule\n\t\t\t.test(/\\.(png|jpe?g|gif|webp)(\\?.*)?$/)\n\t\t\t.use(\"image-webpack-loader\")\n\t\t\t.loader(\"image-webpack-loader\")\n\t\t\t.options({ bypassOnDebug: true })\n\t\t\t.end();\n\t}\n};\n```\n\n#### ä¼˜åŒ– vant ä½“ç§¯, cdn åŠ é€Ÿ\n\nvant UI åº“å…¨å±€å¼•å…¥ï¼Œ ä¼šå°† vant æ‰“åŒ…åœ¨ vender æ–‡ä»¶ä¸­ï¼Œ æˆ‘ä»¬å°†å®ƒæ‹†å‡ºæ¥ï¼Œä½¿ç”¨ cdn é“¾æ¥\n\n```js\nconst isProcess =\n\tprocess.env.NODE_ENV === \"production\" ||\n\tprocess.env.NODE_ENV === \"test\" ||\n\tprocess.env.NODE_ENV === \"pre\";\n// ä½¿ç”¨cdn\nconst cdn = {\n\tcss: [\"https://cdn.jsdelivr.net/npm/vant@3.2.3/lib/index.css\"],\n\tjs: [\n\t\t\"https://cdn.jsdelivr.net/npm/vue@3.2.6/dist/vue.global.prod.js\",\n\t\t\"https://cdn.jsdelivr.net/npm/vue-router@4.0.11/dist/vue-router.global.prod.js\",\n\t\t\"https://cdn.jsdelivr.net/npm/vuex@4.0.2/dist/vuex.global.prod.js\",\n\t\t\"https://cdn.jsdelivr.net/npm/axios@0.21.4/dist/axios.min.js\",\n\t\t\"https://cdn.jsdelivr.net/npm/vant@3.2.3/lib/vant.min.js\",\n\t],\n\t// ç¬¬ä¸‰æ–¹æ’ä»¶æ‹†åˆ†\n\texternals: {\n\t\tvue: \"Vue\",\n\t\t\"vue-router\": \"VueRouter\",\n\t\tvuex: \"Vuex\",\n\t\taxios: \"axios\",\n\t\tvant: \"vant\",\n\t},\n};\n// æœ¬åœ°ä¸ä¼šæ‹†åˆ†\nconfigureWebpack: {\n\texternals: {\n\t\tisProcess ? cdn.externals : {};\n\t}\n}\n```\n\n#### ä¼˜åŒ– moment ä½“ç§¯\n\n```js\n// è¿™é‡Œä½¿ç”¨å†…ç½®çš„IgnorePluginå³å¯åšåˆ°\nnew webpack.IgnorePlugin(/^\\.\\/locale$/, /moment$/),\n```\n\n#### ä¼˜åŒ– core-js ä½“ç§¯\n\né¡¹ç›®ä¸­é»˜è®¤æ˜¯`useBuiltIns: 'entry'`å°†æ‰€æœ‰`polyfill`éƒ½å¼•å…¥äº†ï¼Œå¯¼è‡´åŒ…æ¯”è¾ƒå¤§ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ u`seBuiltIns: 'entry'`è°ƒæ•´ä¸‹ç­–ç•¥ï¼ŒæŒ‰éœ€å¼•å…¥ï¼Œé¡¹ç›®ä¸­æ²¡ä½¿ç”¨åˆ°çš„ API å°±ä¸åš`polyfill`å¤„ç†äº†\n\n```js\n// babel.config.js\nmodule.exports = {\n\tpresets: [\n\t\t\"@vue/cli-plugin-babel/preset\",\n\t\t[\n\t\t\t\"@babel/preset-env\",\n\t\t\t{\n\t\t\t\tuseBuiltIns: \"usage\", // entryï¼Œusage\n\t\t\t\tcorejs: 3,\n\t\t\t},\n\t\t],\n\t],\n\tplugins,\n};\n```\n\n### ä¼ è¾“ä¼˜åŒ–\n\n#### ä¼˜åŒ–åˆ†åŒ…ç­–ç•¥\n\nvue-cli3 çš„é»˜è®¤ä¼˜åŒ–æ˜¯å°†æ‰€æœ‰ npm ä¾èµ–éƒ½æ‰“è¿› chunk-vendorï¼Œä½†è¿™ç§åšæ³•åœ¨ä¾èµ–å¤šçš„æƒ…å†µä¸‹å¯¼è‡´ chunk-vendor è¿‡å¤§\n\n```js\noptimization: isProd\n\t? {\n\t\t\tsplitChunks: {\n\t\t\t\tchunks: \"all\",\n\t\t\t\tmaxInitialRequests: Infinity, // é»˜è®¤ä¸º3ï¼Œè°ƒæ•´ä¸ºå…è®¸æ— é™å…¥å£èµ„æº\n\t\t\t\tminSize: 20000, // 20Kä»¥ä¸‹çš„ä¾èµ–ä¸åšæ‹†åˆ†\n\t\t\t\tcacheGroups: {\n\t\t\t\t\tvendors: {\n\t\t\t\t\t\t// æ‹†åˆ†ä¾èµ–ï¼Œé¿å…å•æ–‡ä»¶è¿‡å¤§æ‹–æ…¢é¡µé¢å±•ç¤º\n\t\t\t\t\t\t// å¾—ç›ŠäºHTTP2å¤šè·¯å¤ç”¨ï¼Œä¸ç”¨å¤ªæ‹…å¿ƒèµ„æºè¯·æ±‚å¤ªå¤šçš„é—®é¢˜\n\t\t\t\t\t\tname(module) {\n\t\t\t\t\t\t\t// æ‹†åŒ…\n\t\t\t\t\t\t\tconst packageName = module.context.match(\n\t\t\t\t\t\t\t\t/[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/\n\t\t\t\t\t\t\t)[1];\n\t\t\t\t\t\t\t// è¿›ä¸€æ­¥å°†Antç»„ä»¶æ‹†åˆ†å‡ºæ¥,è¯·æ ¹æ®æƒ…å†µæ¥\n\t\t\t\t\t\t\t// const packageName = module.context.match(/[\\\\/]node_modules[\\\\/](?:ant-design-vue[\\\\/]es[\\\\/])?(.*?)([\\\\/]|$)/)[1]\n\t\t\t\t\t\t\treturn `npm.${packageName.replace(\"@\", \"\")}`; // éƒ¨åˆ†æœåŠ¡å™¨ä¸å…è®¸URLå¸¦@\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttest: /[\\\\/]node_modules[\\\\/]/,\n\t\t\t\t\t\tpriority: -10,\n\t\t\t\t\t\tchunks: \"initial\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\truntimeChunk: { name: entrypoint => `runtime-${entrypoint.name}` },\n\t  }\n\t: {};\n```\n\n#### è·¯ç”±æ‡’åŠ è½½\n\nSPA ä¸­ä¸€ä¸ªå¾ˆé‡è¦çš„æé€Ÿæ‰‹æ®µå°±æ˜¯è·¯ç”±æ‡’åŠ è½½ï¼Œå½“æ‰“å¼€é¡µé¢æ—¶æ‰å»åŠ è½½å¯¹åº”æ–‡ä»¶ï¼Œæˆ‘ä»¬åˆ©ç”¨ Vue çš„å¼‚æ­¥ç»„ä»¶å’Œ webpack çš„ä»£ç åˆ†å‰²ï¼ˆimport()ï¼‰å°±å¯ä»¥è½»æ¾å®ç°æ‡’åŠ è½½äº†ã€‚\nä½†å½“è·¯ç”±è¿‡å¤šæ—¶ï¼Œè¯·åˆç†åœ°ç”¨ webpack çš„é­”æ³•æ³¨é‡Šå¯¹è·¯ç”±è¿›è¡Œåˆ†ç»„ï¼Œå¤ªå¤šçš„ chunk ä¼šå½±å“æ„å»ºæ—¶çš„é€Ÿåº¦\n\n```js\n{\n  path: 'register',\n  name: 'register',\n  component: () => import(/* webpackChunkName: \"user\" */ '@/views/user/register'),\n}\n```\n\n#### gzip å‹ç¼©\n\nGzip å‹ç¼©æ˜¯ä¸€ç§å¼ºåŠ›å‹ç¼©æ‰‹æ®µï¼Œé’ˆå¯¹æ–‡æœ¬æ–‡ä»¶æ—¶é€šå¸¸èƒ½å‡å°‘ 2/3 çš„ä½“ç§¯ã€‚\n\nHTTP åè®®ä¸­ç”¨å¤´éƒ¨å­—æ®µ Accept-Encoding å’Œ Content-Encoding å¯¹ã€Œé‡‡ç”¨ä½•ç§ç¼–ç æ ¼å¼ä¼ è¾“æ­£æ–‡ã€è¿›è¡Œäº†åå®šï¼Œè¯·æ±‚å¤´çš„ Accept-Encoding ä¼šåˆ—å‡ºå®¢æˆ·ç«¯æ”¯æŒçš„ç¼–ç æ ¼å¼ã€‚å½“å“åº”å¤´çš„ Content-Encoding æŒ‡å®šäº† gzip æ—¶ï¼Œæµè§ˆå™¨åˆ™ä¼šè¿›è¡Œå¯¹åº”è§£å‹\n\nä¸€èˆ¬æµè§ˆå™¨éƒ½æ”¯æŒ gzipï¼Œæ‰€ä»¥ Accept-Encoding ä¹Ÿä¼šè‡ªåŠ¨å¸¦ä¸Š gzipï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®©èµ„æºæœåŠ¡å™¨åœ¨ Content-Encoding æŒ‡å®š gzipï¼Œå¹¶è¿”å› gzip æ–‡ä»¶\n\n- Nginx é…ç½®\n\n```sh\n#å¼€å¯å’Œå…³é—­gzipæ¨¡å¼\ngzip on;\n#gizpå‹ç¼©èµ·ç‚¹ï¼Œæ–‡ä»¶å¤§äº1kæ‰è¿›è¡Œå‹ç¼©\ngzip_min_length 1k;\n# gzip å‹ç¼©çº§åˆ«ï¼Œ1-9ï¼Œæ•°å­—è¶Šå¤§å‹ç¼©çš„è¶Šå¥½ï¼Œä¹Ÿè¶Šå ç”¨CPUæ—¶é—´\ngzip_comp_level 6;\n# è¿›è¡Œå‹ç¼©çš„æ–‡ä»¶ç±»å‹ã€‚\ngzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript ;\n# nginxå¯¹äºé™æ€æ–‡ä»¶çš„å¤„ç†æ¨¡å—ï¼Œå¼€å¯åä¼šå¯»æ‰¾ä»¥.gzç»“å°¾çš„æ–‡ä»¶ï¼Œç›´æ¥è¿”å›ï¼Œä¸ä¼šå ç”¨cpuè¿›è¡Œå‹ç¼©ï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™ä¸è¿›è¡Œå‹ç¼©\ngzip_static on\n# æ˜¯å¦åœ¨http headerä¸­æ·»åŠ Vary: Accept-Encodingï¼Œå»ºè®®å¼€å¯\ngzip_vary on;\n# è®¾ç½®gzipå‹ç¼©é’ˆå¯¹çš„HTTPåè®®ç‰ˆæœ¬\ngzip_http_version 1.1;\n```\n\n- æ„å»ºæ˜¯ç”Ÿæˆ gzip æ–‡ä»¶\n\n```js\n// vue.config.js\nconst CompressionPlugin = require(\"compression-webpack-plugin\");\n// gzipå‹ç¼©å¤„ç†\nchainWebpack: config => {\n\tif (isProd) {\n\t\tconfig.plugin(\"compression-webpack-plugin\").use(\n\t\t\tnew CompressionPlugin({\n\t\t\t\ttest: /\\.js$|\\.html$|\\.css$/, // åŒ¹é…æ–‡ä»¶å\n\t\t\t\tthreshold: 10240, // å¯¹è¶…è¿‡10kçš„æ•°æ®å‹ç¼©\n\t\t\t\tdeleteOriginalAssets: false, // ä¸åˆ é™¤æºæ–‡ä»¶\n\t\t\t})\n\t\t);\n\t}\n};\n```\n\n#### prefetch ï¼Œ preload\n\n```html\n<% for (var i in htmlWebpackPlugin.options.cdn &&\nhtmlWebpackPlugin.options.cdn.css) { %>\n<link\n\thref=\"<%= htmlWebpackPlugin.options.cdn.css[i] %>\"\n\trel=\"preload\"\n\tas=\"style\"\n/>\n<link href=\"<%= htmlWebpackPlugin.options.cdn.css[i] %>\" rel=\"stylesheet\" />\n<% } %> <% for (var i in htmlWebpackPlugin.options.cdn &&\nhtmlWebpackPlugin.options.cdn.js) { %>\n<link\n\thref=\"<%= htmlWebpackPlugin.options.cdn.js[i] %>\"\n\trel=\"preload\"\n\tas=\"script\"\n/>\n<% } %>\n```\n\n```js\nconfig.plugins.delete(\"prefetch\");\nconfig.plugins.delete(\"preload\");\n```\n\n1. prefetch æ˜¯åœ¨æµè§ˆå™¨ç©ºé—²æ—¶åŠ è½½ï¼Œå¯ä»¥å‡å°‘ç”¨æˆ·ç­‰å¾…æ—¶é—´ï¼Œä½†åŠ è½½æ—¶é—´ä¼šæ›´é•¿ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šåŒæ—¶åŠ è½½å¤šä¸ªæ–‡ä»¶ã€‚\n2. preload æ˜¯åœ¨å½“å‰é¡µé¢åŠ è½½æ—¶åŠ è½½ï¼ŒåŠ è½½é€Ÿåº¦ä¼šæ›´å¿«ï¼Œä½†åŠ è½½æ—¶é—´ä¼šæ›´çŸ­ï¼Œä½†åŒæ—¶ä¼šå¢åŠ ç”¨æˆ·æµé‡ã€‚\n3. prefetch å’Œ preload éƒ½æ˜¯ HTML5 æ–°å¢çš„æ ‡ç­¾ï¼Œä½†æ˜¯ preload çš„ä¼˜å…ˆçº§é«˜äº prefetchã€‚\n4. prefetch çš„ä½œç”¨æ˜¯é¢„åŠ è½½ï¼Œè€Œ preload çš„ä½œç”¨æ˜¯é¢„è·å–ã€‚\n\n## æ¨¡æ¿\n\n```html\n<!DOCTYPE html>\n<html lang=\"\">\n\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n\t\t<script\n\t\t\ttype=\"text/javascript\"\n\t\t\tsrc=\"https://webapi.amap.com/maps?v=1.4.4&key=13df4ba40de83428e30e3031ee61cb59\"\n\t\t></script>\n\t\t<!-- <script type=\"text/javascript\" src=\"../src//util//remogeo.js\"></script> -->\n\t\t<!-- <meta http-equiv=\"Content-Security-Policy\" content=\"upgrade-insecure-requests\"> -->\n\t\t<!-- <meta content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, viewport-fit=cover\" name=\"viewport\" /> -->\n\t\t<meta\n\t\t\tname=\"viewport\"\n\t\t\tcontent=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, shrink-to-fit=no,user-scalable=no\"\n\t\t/>\n\t\t<link rel=\"icon\" href=\"<%= BASE_URL %>favicon.ico\" />\n\t\t<title><%= htmlWebpackPlugin.options.title %></title>\n\t\t<script src=\"https://res.wx.qq.com/open/js/jweixin-1.2.0.js\"></script>\n\t\t<script src=\"https://open.work.weixin.qq.com/wwopen/js/jwxwork-1.0.0.js\"></script>\n\t\t<% for (var i in htmlWebpackPlugin.options.cdn &&\n\t\thtmlWebpackPlugin.options.cdn.css) { %>\n\t\t<link\n\t\t\thref=\"<%= htmlWebpackPlugin.options.cdn.css[i] %>\"\n\t\t\trel=\"preload\"\n\t\t\tas=\"style\"\n\t\t/>\n\t\t<link href=\"<%= htmlWebpackPlugin.options.cdn.css[i] %>\" rel=\"stylesheet\" />\n\t\t<% } %> <% for (var i in htmlWebpackPlugin.options.cdn &&\n\t\thtmlWebpackPlugin.options.cdn.js) { %>\n\t\t<link\n\t\t\thref=\"<%= htmlWebpackPlugin.options.cdn.js[i] %>\"\n\t\t\trel=\"preload\"\n\t\t\tas=\"script\"\n\t\t/>\n\t\t<% } %>\n\t</head>\n\t<body>\n\t\t<noscript>\n\t\t\t<strong\n\t\t\t\t>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work\n\t\t\t\tproperly without JavaScript enabled. Please enable it to\n\t\t\t\tcontinue.</strong\n\t\t\t>\n\t\t</noscript>\n\t\t<div id=\"app\"></div>\n\t\t<!-- built files will be auto injected -->\n\t\t<% for (var i in htmlWebpackPlugin.options.cdn &&\n\t\thtmlWebpackPlugin.options.cdn.js) { %>\n\t\t<script src=\"<%= htmlWebpackPlugin.options.cdn.js[i] %>\"></script>\n\t\t<% } %>\n\t</body>\n\t<script></script>\n</html>\n```\n\n```js\nconst webpack = require(\"webpack\");\nconst path = require(\"path\");\nconst resolve = dir => path.join(__dirname, dir);\nconst CompressionWebpackPlugin = require(\"compression-webpack-plugin\");\nconst vConsolePlugin = require(\"vconsole-webpack-plugin\");\nconst productionGzipExtensions = [\"js\", \"css\"];\n\nconst isProcess =\n\tprocess.env.NODE_ENV === \"production\" ||\n\tprocess.env.NODE_ENV === \"test\" ||\n\tprocess.env.NODE_ENV === \"pre\";\n\n// é…ç½® cdn, æ‹†åˆ†æ¨¡å—\nconst cdn = {\n\tcss: [\"https://cdn.jsdelivr.net/npm/vant@3.2.3/lib/index.css\"],\n\tjs: [\n\t\t\"https://cdn.jsdelivr.net/npm/vue@3.2.6/dist/vue.global.prod.js\",\n\t\t\"https://cdn.jsdelivr.net/npm/vue-router@4.0.11/dist/vue-router.global.prod.js\",\n\t\t\"https://cdn.jsdelivr.net/npm/vuex@4.0.2/dist/vuex.global.prod.js\",\n\t\t\"https://cdn.jsdelivr.net/npm/axios@0.21.4/dist/axios.min.js\",\n\t\t\"https://cdn.jsdelivr.net/npm/vant@3.2.3/lib/vant.min.js\",\n\t\t\"https://file.anbangke.com/js/map_index.js\",\n\t],\n\texternals: {\n\t\tvue: \"Vue\",\n\t\t\"vue-router\": \"VueRouter\",\n\t\tvuex: \"Vuex\",\n\t\taxios: \"axios\",\n\t\tvant: \"vant\",\n\t\tAMap: \"AMap\",\n\t},\n};\n\nconst vueConfig = {\n\tconfigureWebpack: {\n\t\toptimization: {\n\t\t\tsplitChunks: {\n\t\t\t\tchunks: \"all\",\n\t\t\t\tminSize: 30000,\n\t\t\t\tminChunks: 1,\n\t\t\t\tmaxAsyncRequests: 5,\n\t\t\t\tmaxInitialRequests: 3,\n\t\t\t\tautomaticNameDelimiter: \"~\",\n\t\t\t\tname: true,\n\t\t\t\tcacheGroups: {\n\t\t\t\t\tvendors: {\n\t\t\t\t\t\tchunks: \"all\",\n\t\t\t\t\t\ttest: /[\\\\/]node_modules[\\\\/]/,\n\t\t\t\t\t\tname(module) {\n\t\t\t\t\t\t\tconst packageName = module.context.match(\n\t\t\t\t\t\t\t\t/[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/\n\t\t\t\t\t\t\t)[1];\n\t\t\t\t\t\t\treturn `chunk.${packageName.replace(\"@\", \"\")}`;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpriority: -10,\n\t\t\t\t\t\treuseExistingChunk: true,\n\t\t\t\t\t},\n\t\t\t\t\t\"crypto-js\": {\n\t\t\t\t\t\tname: \"chunk-crypto-js\",\n\t\t\t\t\t\ttest: /[\\\\/]node_modules[\\\\/]_?crypto-js(.*)/,\n\t\t\t\t\t\tpriority: 10,\n\t\t\t\t\t},\n\t\t\t\t\tvant: {\n\t\t\t\t\t\tname: \"chunk-vant-js\",\n\t\t\t\t\t\ttest: /[\\\\/]node_modules[\\\\/]_?vant(.*)/,\n\t\t\t\t\t\tpriority: 20,\n\t\t\t\t\t},\n\t\t\t\t\t\"core-js\": {\n\t\t\t\t\t\tname: \"chunk-core-js\",\n\t\t\t\t\t\ttest: /[\\\\/]node_modules[\\\\/]_?core-js(.*)/,\n\t\t\t\t\t\tpriority: 25,\n\t\t\t\t\t},\n\t\t\t\t\tcommon: {\n\t\t\t\t\t\t// split async commons chunk\n\t\t\t\t\t\tname: \"chunk-common\",\n\t\t\t\t\t\tminChunks: 2,\n\t\t\t\t\t\tpriority: -20,\n\t\t\t\t\t\tchunks: \"initial\",\n\t\t\t\t\t\treuseExistingChunk: true,\n\t\t\t\t\t},\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\tminChunks: 2,\n\t\t\t\t\t\tpriority: -20,\n\t\t\t\t\t\treuseExistingChunk: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tplugins: [\n\t\t\t// Ignore all locale files of moment.js\n\t\t\tnew webpack.IgnorePlugin(/^\\.\\/locale$/, /moment$/),\n\t\t\tnew webpack.optimize.LimitChunkCountPlugin({\n\t\t\t\tmaxChunks: 5,\n\t\t\t\tminChunkSize: 100,\n\t\t\t}),\n\t\t\tnew CompressionWebpackPlugin({\n\t\t\t\talgorithm: \"gzip\",\n\t\t\t\ttest: new RegExp(\"\\\\.(\" + productionGzipExtensions.join(\"|\") + \")$\"),\n\t\t\t\tthreshold: 10240,\n\t\t\t\tdeleteOriginalAssets: false, // ä¸åˆ é™¤æºæ–‡ä»¶\n\t\t\t\tminRatio: 0.8,\n\t\t\t}),\n\t\t\tnew vConsolePlugin({\n\t\t\t\tfilter: [],\n\t\t\t\tenable: process.env.NODE_ENV != \"production\",\n\t\t\t}),\n\t\t],\n\t\t// if prod, add externals\n\t\texternals: isProcess ? cdn.externals : {},\n\t},\n\toutputDir: \"dist\",\n\tassetsDir: \"static\",\n\tlintOnSave: true, // æ˜¯å¦å¼€å¯eslintä¿å­˜æ£€æµ‹\n\tproductionSourceMap: false, // æ˜¯å¦åœ¨æ„å»ºç”Ÿäº§åŒ…æ—¶ç”Ÿæˆ sourceMap\n\tchainWebpack: config => {\n\t\tconfig.resolve.alias\n\t\t\t.set(\"@\", resolve(\"src\"))\n\t\t\t.set(\"@v\", resolve(\"src/views\"))\n\t\t\t.set(\"@c\", resolve(\"src/components\"))\n\t\t\t.set(\"@u\", resolve(\"src/util\"));\n\t\tconfig.optimization.runtimeChunk(\"single\");\n\t\tconfig.plugin(\"html\").tap(args => {\n\t\t\targs[0].title = \"\";\n\t\t\t// é…ç½®ç¯å¢ƒcdn\n\t\t\tif (isProcess) {\n\t\t\t\targs[0].cdn = cdn;\n\t\t\t}\n\t\t\treturn args;\n\t\t});\n\t\t// é¢„è§ˆæ‰“åŒ…æ¨¡å—\n\t\t// config.plugin('webpack-bundle-analyzer')\n\t\t// \t.use(require('webpack-bundle-analyzer').BundleAnalyzerPlugin)\n\t\t// \t.end()\n\t\t// å…³é—­Prefetch, åœ¨é¦–å±ä¼šæŠŠè¿™åå‡ ä¸ªè·¯ç”±æ–‡ä»¶ï¼Œéƒ½ä¸€å£æ°”ä¸‹è½½äº† åˆ é™¤é¢„åŠ è½½\n\t\tconfig.plugins.delete(\"prefetch\");\n\t\tconfig.plugins.delete(\"preload\");\n\t\t// å‹ç¼©ä»£ç \n\t\tconfig.optimization.minimize(true);\n\t},\n\tdevServer: {\n\t\thost: \"0.0.0.0\", //å±€åŸŸç½‘å’Œæœ¬åœ°è®¿é—®\n\t\tport: 80,\n\t\thot: true,\n\t\topen: false,\n\t\toverlay: {\n\t\t\twarning: false,\n\t\t\terror: true,\n\t\t},\n\t\tdisableHostCheck: true,\n\t},\n};\nmodule.exports = vueConfig;\n```\n\n### æ‰“åŒ…ä¹‹åä½“éªŒ 1s æ‰“å¼€é¡¹ç›®\n\n![x](https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112181708.7zqeietpgn.webp)\n\n## å‚è€ƒèµ„æ–™\n\n- [ğŸ¢11s åˆ° âš¡1sï¼Œæ€§èƒ½ä¼˜åŒ–ä¹‹é¦–å±åŠ è½½ ğŸš€](https://juejin.cn/post/6949896020788690958?share_token=d0a44d3a-83bf-4b45-8834-4d99ed8b7fac)\n","slug":"æŠ€èƒ½å°å†Œ/é¡¹ç›®ç®¡ç†/é¡¹ç›®ä¼˜åŒ–/webpackæ‰“åŒ…ä¼˜åŒ–(è€ç‰ˆæœ¬)","published":1,"updated":"2025-03-13T10:16:19.123Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0jb0085fg9m17uy8sdv","content":"<h1 id=\"ä¼˜åŒ–èƒŒæ™¯\"><a href=\"#ä¼˜åŒ–èƒŒæ™¯\" class=\"headerlink\" title=\"ä¼˜åŒ–èƒŒæ™¯\"></a>ä¼˜åŒ–èƒŒæ™¯</h1><p>å‰æ®µæ—¶é—´æäº†ä¸€ä¸ªæ–°é¡¹ç›®, ç”¨çš„å…¨æ–° vue3 å’Œ vant3 çš„æ¡†æ¶ï¼Œè®¿é—®é¡¹ç›®æ—¶é•¿ 1 åˆ†å¤šéƒ½æ²¡æœ‰åŠ è½½å‡ºæ¥, å…¶å®å¼•å…¥çš„æ¡†æ¶å°±åªæœ‰ vant å’Œä¸€äº›æ’ä»¶ï¼Œ å¯¹äºå•é¡µé¢è€Œè¨€ï¼Œè¿™æ˜¯æœ‰å¾ˆå¤§çš„é—®é¢˜çš„ï¼Œé¡µé¢è®°è½½ç¼“æ…¢ï¼Œèµ„æºä¸‹è½½æ…¢, ä¸€ä¸ª vender.js æ–‡ä»¶ è¾¾åˆ°äº† mbï¼Œå¯¹äºä¸€ä¸ªæ–°é¡¹ç›®è€Œè¨€ï¼Œ æ€ä¹ˆä¼šè¿™ä¹ˆå¤§å‘¢ï¼Ÿè¿™æ—¶å°±åº”è¯¥å…ˆå»è€ƒè™‘ä¸€ä¸‹é¡¹ç›®å¦‚ä½•ä¼˜åŒ–ã€‚æ€æ ·å®ç° 11s åˆ° 1s çš„æ•ˆæœã€‚</p>\n<h2 id=\"ä¼˜åŒ–æ–¹å‘\"><a href=\"#ä¼˜åŒ–æ–¹å‘\" class=\"headerlink\" title=\"ä¼˜åŒ–æ–¹å‘\"></a>ä¼˜åŒ–æ–¹å‘</h2><ul>\n<li>æ–‡ä»¶æ‹†åˆ†ï¼Œä»£ç ï¼Œå›¾ç‰‡ï¼Œæ–‡ä»¶å‹ç¼©ï¼Œ Gzip å‹ç¼©</li>\n<li>node_modules åŒ…ä½“ç§¯è¿‡å¤§çš„æ–‡ä»¶æ‹†åˆ†ï¼Œä¼˜åŒ–åˆ†åŒ…ç­–ç•¥</li>\n<li>ä¼˜åŒ–è·¯ç”±æ‡’åŠ è½½</li>\n<li>æ‹†åˆ†ç¬¬ä¸‰æ–¹æ’ä»¶, æ”¹ç”¨ cdn é“¾æ¥</li>\n<li>loading åŠ¨ç”»</li>\n<li>éª¨æ¶å±</li>\n</ul>\n<h2 id=\"å¼€å§‹ä¼˜åŒ–\"><a href=\"#å¼€å§‹ä¼˜åŒ–\" class=\"headerlink\" title=\"å¼€å§‹ä¼˜åŒ–\"></a>å¼€å§‹ä¼˜åŒ–</h2><h3 id=\"ä½“ç§¯ä¼˜åŒ–\"><a href=\"#ä½“ç§¯ä¼˜åŒ–\" class=\"headerlink\" title=\"ä½“ç§¯ä¼˜åŒ–\"></a>ä½“ç§¯ä¼˜åŒ–</h3><h4 id=\"æ’æŸ¥å†—ä½™ä¾èµ–ï¼Œæ–‡ä»¶èµ„æºï¼Œå›¾ç‰‡\"><a href=\"#æ’æŸ¥å†—ä½™ä¾èµ–ï¼Œæ–‡ä»¶èµ„æºï¼Œå›¾ç‰‡\" class=\"headerlink\" title=\"æ’æŸ¥å†—ä½™ä¾èµ–ï¼Œæ–‡ä»¶èµ„æºï¼Œå›¾ç‰‡\"></a>æ’æŸ¥å†—ä½™ä¾èµ–ï¼Œæ–‡ä»¶èµ„æºï¼Œå›¾ç‰‡</h4><ul>\n<li>åˆ é™¤é¡¹ç›®ä¸­å¤šä½™çš„ä¾èµ–</li>\n<li>é™æ€èµ„æºå…¨éƒ¨æ”¾å…¥ assets æ–‡ä»¶å¤¹ä¸‹</li>\n</ul>\n<h4 id=\"å›¾ç‰‡å‹ç¼©\"><a href=\"#å›¾ç‰‡å‹ç¼©\" class=\"headerlink\" title=\"å›¾ç‰‡å‹ç¼©\"></a>å›¾ç‰‡å‹ç¼©</h4><ul>\n<li>æ‰‹åŠ¨å°†å›¾ç‰‡è¿›è¡Œå‹ç¼©, ä½†æ˜¯è¿™æ ·æ¯”è¾ƒéº»çƒ¦</li>\n<li>å¼•å…¥æ’ä»¶ image-webpack-loadeï¼Œè¿›è¡Œå‹ç¼©</li>\n</ul>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// install</span><br><span class=\"line\">npm i image-webpack-loader -D</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// vue.config.js</span></span><br><span class=\"line\"><span class=\"attr\">chainWebpack</span>: <span class=\"function\"><span class=\"params\">config</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆ¤æ–­ç¯å¢ƒ</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (isProd) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å›¾ç‰‡å‹ç¼©å¤„ç†</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> imgRule = config.<span class=\"property\">module</span>.<span class=\"title function_\">rule</span>(<span class=\"string\">&quot;images&quot;</span>);</span><br><span class=\"line\">\t\timgRule</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">test</span>(<span class=\"regexp\">/\\.(png|jpe?g|gif|webp)(\\?.*)?$/</span>)</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">use</span>(<span class=\"string\">&quot;image-webpack-loader&quot;</span>)</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">loader</span>(<span class=\"string\">&quot;image-webpack-loader&quot;</span>)</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">options</span>(&#123; <span class=\"attr\">bypassOnDebug</span>: <span class=\"literal\">true</span> &#125;)</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">end</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ä¼˜åŒ–-vant-ä½“ç§¯-cdn-åŠ é€Ÿ\"><a href=\"#ä¼˜åŒ–-vant-ä½“ç§¯-cdn-åŠ é€Ÿ\" class=\"headerlink\" title=\"ä¼˜åŒ– vant ä½“ç§¯, cdn åŠ é€Ÿ\"></a>ä¼˜åŒ– vant ä½“ç§¯, cdn åŠ é€Ÿ</h4><p>vant UI åº“å…¨å±€å¼•å…¥ï¼Œ ä¼šå°† vant æ‰“åŒ…åœ¨ vender æ–‡ä»¶ä¸­ï¼Œ æˆ‘ä»¬å°†å®ƒæ‹†å‡ºæ¥ï¼Œä½¿ç”¨ cdn é“¾æ¥</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> isProcess =</span><br><span class=\"line\">\tprocess.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&quot;production&quot;</span> ||</span><br><span class=\"line\">\tprocess.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&quot;test&quot;</span> ||</span><br><span class=\"line\">\tprocess.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&quot;pre&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// ä½¿ç”¨cdn</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> cdn = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">css</span>: [<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vant@3.2.3/lib/index.css&quot;</span>],</span><br><span class=\"line\">\t<span class=\"attr\">js</span>: [</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vue@3.2.6/dist/vue.global.prod.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vue-router@4.0.11/dist/vue-router.global.prod.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vuex@4.0.2/dist/vuex.global.prod.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/axios@0.21.4/dist/axios.min.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vant@3.2.3/lib/vant.min.js&quot;</span>,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"comment\">// ç¬¬ä¸‰æ–¹æ’ä»¶æ‹†åˆ†</span></span><br><span class=\"line\">\t<span class=\"attr\">externals</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">vue</span>: <span class=\"string\">&quot;Vue&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;vue-router&quot;</span>: <span class=\"string\">&quot;VueRouter&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">vuex</span>: <span class=\"string\">&quot;Vuex&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">axios</span>: <span class=\"string\">&quot;axios&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">vant</span>: <span class=\"string\">&quot;vant&quot;</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// æœ¬åœ°ä¸ä¼šæ‹†åˆ†</span></span><br><span class=\"line\"><span class=\"attr\">configureWebpack</span>: &#123;</span><br><span class=\"line\">\t<span class=\"attr\">externals</span>: &#123;</span><br><span class=\"line\">\t\tisProcess ? cdn.<span class=\"property\">externals</span> : &#123;&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ä¼˜åŒ–-moment-ä½“ç§¯\"><a href=\"#ä¼˜åŒ–-moment-ä½“ç§¯\" class=\"headerlink\" title=\"ä¼˜åŒ– moment ä½“ç§¯\"></a>ä¼˜åŒ– moment ä½“ç§¯</h4><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è¿™é‡Œä½¿ç”¨å†…ç½®çš„IgnorePluginå³å¯åšåˆ°</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> webpack.<span class=\"title class_\">IgnorePlugin</span>(<span class=\"regexp\">/^\\.\\/locale$/</span>, <span class=\"regexp\">/moment$/</span>),</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ä¼˜åŒ–-core-js-ä½“ç§¯\"><a href=\"#ä¼˜åŒ–-core-js-ä½“ç§¯\" class=\"headerlink\" title=\"ä¼˜åŒ– core-js ä½“ç§¯\"></a>ä¼˜åŒ– core-js ä½“ç§¯</h4><p>é¡¹ç›®ä¸­é»˜è®¤æ˜¯<code>useBuiltIns: &#39;entry&#39;</code>å°†æ‰€æœ‰<code>polyfill</code>éƒ½å¼•å…¥äº†ï¼Œå¯¼è‡´åŒ…æ¯”è¾ƒå¤§ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ u<code>seBuiltIns: &#39;entry&#39;</code>è°ƒæ•´ä¸‹ç­–ç•¥ï¼ŒæŒ‰éœ€å¼•å…¥ï¼Œé¡¹ç›®ä¸­æ²¡ä½¿ç”¨åˆ°çš„ API å°±ä¸åš<code>polyfill</code>å¤„ç†äº†</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// babel.config.js</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">presets</span>: [</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;@vue/cli-plugin-babel/preset&quot;</span>,</span><br><span class=\"line\">\t\t[</span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;@babel/preset-env&quot;</span>,</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">useBuiltIns</span>: <span class=\"string\">&quot;usage&quot;</span>, <span class=\"comment\">// entryï¼Œusage</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">corejs</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t],</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\tplugins,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä¼ è¾“ä¼˜åŒ–\"><a href=\"#ä¼ è¾“ä¼˜åŒ–\" class=\"headerlink\" title=\"ä¼ è¾“ä¼˜åŒ–\"></a>ä¼ è¾“ä¼˜åŒ–</h3><h4 id=\"ä¼˜åŒ–åˆ†åŒ…ç­–ç•¥\"><a href=\"#ä¼˜åŒ–åˆ†åŒ…ç­–ç•¥\" class=\"headerlink\" title=\"ä¼˜åŒ–åˆ†åŒ…ç­–ç•¥\"></a>ä¼˜åŒ–åˆ†åŒ…ç­–ç•¥</h4><p>vue-cli3 çš„é»˜è®¤ä¼˜åŒ–æ˜¯å°†æ‰€æœ‰ npm ä¾èµ–éƒ½æ‰“è¿› chunk-vendorï¼Œä½†è¿™ç§åšæ³•åœ¨ä¾èµ–å¤šçš„æƒ…å†µä¸‹å¯¼è‡´ chunk-vendor è¿‡å¤§</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">optimization</span>: isProd</span><br><span class=\"line\">\t? &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">splitChunks</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">chunks</span>: <span class=\"string\">&quot;all&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">maxInitialRequests</span>: <span class=\"title class_\">Infinity</span>, <span class=\"comment\">// é»˜è®¤ä¸º3ï¼Œè°ƒæ•´ä¸ºå…è®¸æ— é™å…¥å£èµ„æº</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">minSize</span>: <span class=\"number\">20000</span>, <span class=\"comment\">// 20Kä»¥ä¸‹çš„ä¾èµ–ä¸åšæ‹†åˆ†</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">cacheGroups</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">vendors</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"comment\">// æ‹†åˆ†ä¾èµ–ï¼Œé¿å…å•æ–‡ä»¶è¿‡å¤§æ‹–æ…¢é¡µé¢å±•ç¤º</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"comment\">// å¾—ç›ŠäºHTTP2å¤šè·¯å¤ç”¨ï¼Œä¸ç”¨å¤ªæ‹…å¿ƒèµ„æºè¯·æ±‚å¤ªå¤šçš„é—®é¢˜</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"title function_\">name</span>(<span class=\"params\"><span class=\"variable language_\">module</span></span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"comment\">// æ‹†åŒ…</span></span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">const</span> packageName = <span class=\"variable language_\">module</span>.<span class=\"property\">context</span>.<span class=\"title function_\">match</span>(</span><br><span class=\"line\">\t\t\t\t\t\t\t\t<span class=\"regexp\">/[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/</span></span><br><span class=\"line\">\t\t\t\t\t\t\t)[<span class=\"number\">1</span>];</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"comment\">// è¿›ä¸€æ­¥å°†Antç»„ä»¶æ‹†åˆ†å‡ºæ¥,è¯·æ ¹æ®æƒ…å†µæ¥</span></span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"comment\">// const packageName = module.context.match(/[\\\\/]node_modules[\\\\/](?:ant-design-vue[\\\\/]es[\\\\/])?(.*?)([\\\\/]|$)/)[1]</span></span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"string\">`npm.<span class=\"subst\">$&#123;packageName.replace(<span class=\"string\">&quot;@&quot;</span>, <span class=\"string\">&quot;&quot;</span>)&#125;</span>`</span>; <span class=\"comment\">// éƒ¨åˆ†æœåŠ¡å™¨ä¸å…è®¸URLå¸¦@</span></span><br><span class=\"line\">\t\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]/</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: -<span class=\"number\">10</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">chunks</span>: <span class=\"string\">&quot;initial&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">runtimeChunk</span>: &#123; <span class=\"attr\">name</span>: <span class=\"function\"><span class=\"params\">entrypoint</span> =&gt;</span> <span class=\"string\">`runtime-<span class=\"subst\">$&#123;entrypoint.name&#125;</span>`</span> &#125;,</span><br><span class=\"line\">\t  &#125;</span><br><span class=\"line\">\t: &#123;&#125;;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"è·¯ç”±æ‡’åŠ è½½\"><a href=\"#è·¯ç”±æ‡’åŠ è½½\" class=\"headerlink\" title=\"è·¯ç”±æ‡’åŠ è½½\"></a>è·¯ç”±æ‡’åŠ è½½</h4><p>SPA ä¸­ä¸€ä¸ªå¾ˆé‡è¦çš„æé€Ÿæ‰‹æ®µå°±æ˜¯è·¯ç”±æ‡’åŠ è½½ï¼Œå½“æ‰“å¼€é¡µé¢æ—¶æ‰å»åŠ è½½å¯¹åº”æ–‡ä»¶ï¼Œæˆ‘ä»¬åˆ©ç”¨ Vue çš„å¼‚æ­¥ç»„ä»¶å’Œ webpack çš„ä»£ç åˆ†å‰²ï¼ˆimport()ï¼‰å°±å¯ä»¥è½»æ¾å®ç°æ‡’åŠ è½½äº†ã€‚<br>ä½†å½“è·¯ç”±è¿‡å¤šæ—¶ï¼Œè¯·åˆç†åœ°ç”¨ webpack çš„é­”æ³•æ³¨é‡Šå¯¹è·¯ç”±è¿›è¡Œåˆ†ç»„ï¼Œå¤ªå¤šçš„ chunk ä¼šå½±å“æ„å»ºæ—¶çš„é€Ÿåº¦</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">path</span>: <span class=\"string\">&#x27;register&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;register&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">component</span>: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"comment\">/* webpackChunkName: &quot;user&quot; */</span> <span class=\"string\">&#x27;@/views/user/register&#x27;</span>),</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"gzip-å‹ç¼©\"><a href=\"#gzip-å‹ç¼©\" class=\"headerlink\" title=\"gzip å‹ç¼©\"></a>gzip å‹ç¼©</h4><p>Gzip å‹ç¼©æ˜¯ä¸€ç§å¼ºåŠ›å‹ç¼©æ‰‹æ®µï¼Œé’ˆå¯¹æ–‡æœ¬æ–‡ä»¶æ—¶é€šå¸¸èƒ½å‡å°‘ 2&#x2F;3 çš„ä½“ç§¯ã€‚</p>\n<p>HTTP åè®®ä¸­ç”¨å¤´éƒ¨å­—æ®µ Accept-Encoding å’Œ Content-Encoding å¯¹ã€Œé‡‡ç”¨ä½•ç§ç¼–ç æ ¼å¼ä¼ è¾“æ­£æ–‡ã€è¿›è¡Œäº†åå®šï¼Œè¯·æ±‚å¤´çš„ Accept-Encoding ä¼šåˆ—å‡ºå®¢æˆ·ç«¯æ”¯æŒçš„ç¼–ç æ ¼å¼ã€‚å½“å“åº”å¤´çš„ Content-Encoding æŒ‡å®šäº† gzip æ—¶ï¼Œæµè§ˆå™¨åˆ™ä¼šè¿›è¡Œå¯¹åº”è§£å‹</p>\n<p>ä¸€èˆ¬æµè§ˆå™¨éƒ½æ”¯æŒ gzipï¼Œæ‰€ä»¥ Accept-Encoding ä¹Ÿä¼šè‡ªåŠ¨å¸¦ä¸Š gzipï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®©èµ„æºæœåŠ¡å™¨åœ¨ Content-Encoding æŒ‡å®š gzipï¼Œå¹¶è¿”å› gzip æ–‡ä»¶</p>\n<ul>\n<li>Nginx é…ç½®</li>\n</ul>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#å¼€å¯å’Œå…³é—­gzipæ¨¡å¼</span></span><br><span class=\"line\">gzip on;</span><br><span class=\"line\"><span class=\"comment\">#gizpå‹ç¼©èµ·ç‚¹ï¼Œæ–‡ä»¶å¤§äº1kæ‰è¿›è¡Œå‹ç¼©</span></span><br><span class=\"line\">gzip_min_length 1k;</span><br><span class=\"line\"><span class=\"comment\"># gzip å‹ç¼©çº§åˆ«ï¼Œ1-9ï¼Œæ•°å­—è¶Šå¤§å‹ç¼©çš„è¶Šå¥½ï¼Œä¹Ÿè¶Šå ç”¨CPUæ—¶é—´</span></span><br><span class=\"line\">gzip_comp_level 6;</span><br><span class=\"line\"><span class=\"comment\"># è¿›è¡Œå‹ç¼©çš„æ–‡ä»¶ç±»å‹ã€‚</span></span><br><span class=\"line\">gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript ;</span><br><span class=\"line\"><span class=\"comment\"># nginxå¯¹äºé™æ€æ–‡ä»¶çš„å¤„ç†æ¨¡å—ï¼Œå¼€å¯åä¼šå¯»æ‰¾ä»¥.gzç»“å°¾çš„æ–‡ä»¶ï¼Œç›´æ¥è¿”å›ï¼Œä¸ä¼šå ç”¨cpuè¿›è¡Œå‹ç¼©ï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™ä¸è¿›è¡Œå‹ç¼©</span></span><br><span class=\"line\">gzip_static on</span><br><span class=\"line\"><span class=\"comment\"># æ˜¯å¦åœ¨http headerä¸­æ·»åŠ Vary: Accept-Encodingï¼Œå»ºè®®å¼€å¯</span></span><br><span class=\"line\">gzip_vary on;</span><br><span class=\"line\"><span class=\"comment\"># è®¾ç½®gzipå‹ç¼©é’ˆå¯¹çš„HTTPåè®®ç‰ˆæœ¬</span></span><br><span class=\"line\">gzip_http_version 1.1;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>æ„å»ºæ˜¯ç”Ÿæˆ gzip æ–‡ä»¶</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// vue.config.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">CompressionPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;compression-webpack-plugin&quot;</span>);</span><br><span class=\"line\"><span class=\"comment\">// gzipå‹ç¼©å¤„ç†</span></span><br><span class=\"line\"><span class=\"attr\">chainWebpack</span>: <span class=\"function\"><span class=\"params\">config</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (isProd) &#123;</span><br><span class=\"line\">\t\tconfig.<span class=\"title function_\">plugin</span>(<span class=\"string\">&quot;compression-webpack-plugin&quot;</span>).<span class=\"title function_\">use</span>(</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">new</span> <span class=\"title class_\">CompressionPlugin</span>(&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$|\\.html$|\\.css$/</span>, <span class=\"comment\">// åŒ¹é…æ–‡ä»¶å</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">threshold</span>: <span class=\"number\">10240</span>, <span class=\"comment\">// å¯¹è¶…è¿‡10kçš„æ•°æ®å‹ç¼©</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">deleteOriginalAssets</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// ä¸åˆ é™¤æºæ–‡ä»¶</span></span><br><span class=\"line\">\t\t\t&#125;)</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"prefetch-ï¼Œ-preload\"><a href=\"#prefetch-ï¼Œ-preload\" class=\"headerlink\" title=\"prefetch ï¼Œ preload\"></a>prefetch ï¼Œ preload</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp;</span><br><span class=\"line\">htmlWebpackPlugin.options.cdn.css) &#123; %&gt;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.css[i] %&gt;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">rel</span>=<span class=\"string\">&quot;preload&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">as</span>=<span class=\"string\">&quot;style&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.css[i] %&gt;&quot;</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class=\"line\">&lt;% &#125; %&gt; &lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp;</span><br><span class=\"line\">htmlWebpackPlugin.options.cdn.js) &#123; %&gt;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.js[i] %&gt;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">rel</span>=<span class=\"string\">&quot;preload&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">as</span>=<span class=\"string\">&quot;script&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">/&gt;</span></span><br><span class=\"line\">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config.<span class=\"property\">plugins</span>.<span class=\"title function_\">delete</span>(<span class=\"string\">&quot;prefetch&quot;</span>);</span><br><span class=\"line\">config.<span class=\"property\">plugins</span>.<span class=\"title function_\">delete</span>(<span class=\"string\">&quot;preload&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>prefetch æ˜¯åœ¨æµè§ˆå™¨ç©ºé—²æ—¶åŠ è½½ï¼Œå¯ä»¥å‡å°‘ç”¨æˆ·ç­‰å¾…æ—¶é—´ï¼Œä½†åŠ è½½æ—¶é—´ä¼šæ›´é•¿ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šåŒæ—¶åŠ è½½å¤šä¸ªæ–‡ä»¶ã€‚</li>\n<li>preload æ˜¯åœ¨å½“å‰é¡µé¢åŠ è½½æ—¶åŠ è½½ï¼ŒåŠ è½½é€Ÿåº¦ä¼šæ›´å¿«ï¼Œä½†åŠ è½½æ—¶é—´ä¼šæ›´çŸ­ï¼Œä½†åŒæ—¶ä¼šå¢åŠ ç”¨æˆ·æµé‡ã€‚</li>\n<li>prefetch å’Œ preload éƒ½æ˜¯ HTML5 æ–°å¢çš„æ ‡ç­¾ï¼Œä½†æ˜¯ preload çš„ä¼˜å…ˆçº§é«˜äº prefetchã€‚</li>\n<li>prefetch çš„ä½œç”¨æ˜¯é¢„åŠ è½½ï¼Œè€Œ preload çš„ä½œç”¨æ˜¯é¢„è·å–ã€‚</li>\n</ol>\n<h2 id=\"æ¨¡æ¿\"><a href=\"#æ¨¡æ¿\" class=\"headerlink\" title=\"æ¨¡æ¿\"></a>æ¨¡æ¿</h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">src</span>=<span class=\"string\">&quot;https://webapi.amap.com/maps?v=1.4.4&amp;key=13df4ba40de83428e30e3031ee61cb59&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">&lt;!-- &lt;script type=&quot;text/javascript&quot; src=&quot;../src//util//remogeo.js&quot;&gt;&lt;/script&gt; --&gt;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">&lt;!-- &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;upgrade-insecure-requests&quot;&gt; --&gt;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">&lt;!-- &lt;meta content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, viewport-fit=cover&quot; name=&quot;viewport&quot; /&gt; --&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, shrink-to-fit=no,user-scalable=no&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t/&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;icon&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= BASE_URL %&gt;favicon.ico&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>&lt;%= htmlWebpackPlugin.options.title %&gt;<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://res.wx.qq.com/open/js/jweixin-1.2.0.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://open.work.weixin.qq.com/wwopen/js/jwxwork-1.0.0.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t\t&lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp;</span><br><span class=\"line\">\t\thtmlWebpackPlugin.options.cdn.css) &#123; %&gt;</span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.css[i] %&gt;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">rel</span>=<span class=\"string\">&quot;preload&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">as</span>=<span class=\"string\">&quot;style&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t/&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.css[i] %&gt;&quot;</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t&lt;% &#125; %&gt; &lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp;</span><br><span class=\"line\">\t\thtmlWebpackPlugin.options.cdn.js) &#123; %&gt;</span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.js[i] %&gt;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">rel</span>=<span class=\"string\">&quot;preload&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">as</span>=<span class=\"string\">&quot;script&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t/&gt;</span></span><br><span class=\"line\">\t\t&lt;% &#125; %&gt;</span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">noscript</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">strong</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t\t&gt;</span>We&#x27;re sorry but &lt;%= htmlWebpackPlugin.options.title %&gt; doesn&#x27;t work</span><br><span class=\"line\">\t\t\t\tproperly without JavaScript enabled. Please enable it to</span><br><span class=\"line\">\t\t\t\tcontinue.&lt;/strong</span><br><span class=\"line\">\t\t\t&gt;</span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">noscript</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">&lt;!-- built files will be auto injected --&gt;</span></span><br><span class=\"line\">\t\t&lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp;</span><br><span class=\"line\">\t\thtmlWebpackPlugin.options.cdn.js) &#123; %&gt;</span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.js[i] %&gt;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t\t&lt;% &#125; %&gt;</span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;webpack&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;path&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">resolve</span> = dir =&gt; path.<span class=\"title function_\">join</span>(__dirname, dir);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">CompressionWebpackPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;compression-webpack-plugin&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> vConsolePlugin = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;vconsole-webpack-plugin&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> productionGzipExtensions = [<span class=\"string\">&quot;js&quot;</span>, <span class=\"string\">&quot;css&quot;</span>];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> isProcess =</span><br><span class=\"line\">\tprocess.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&quot;production&quot;</span> ||</span><br><span class=\"line\">\tprocess.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&quot;test&quot;</span> ||</span><br><span class=\"line\">\tprocess.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&quot;pre&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é…ç½® cdn, æ‹†åˆ†æ¨¡å—</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> cdn = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">css</span>: [<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vant@3.2.3/lib/index.css&quot;</span>],</span><br><span class=\"line\">\t<span class=\"attr\">js</span>: [</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vue@3.2.6/dist/vue.global.prod.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vue-router@4.0.11/dist/vue-router.global.prod.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vuex@4.0.2/dist/vuex.global.prod.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/axios@0.21.4/dist/axios.min.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vant@3.2.3/lib/vant.min.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://file.anbangke.com/js/map_index.js&quot;</span>,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"attr\">externals</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">vue</span>: <span class=\"string\">&quot;Vue&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;vue-router&quot;</span>: <span class=\"string\">&quot;VueRouter&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">vuex</span>: <span class=\"string\">&quot;Vuex&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">axios</span>: <span class=\"string\">&quot;axios&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">vant</span>: <span class=\"string\">&quot;vant&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"title class_\">AMap</span>: <span class=\"string\">&quot;AMap&quot;</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> vueConfig = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">configureWebpack</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">optimization</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">splitChunks</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">chunks</span>: <span class=\"string\">&quot;all&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">minSize</span>: <span class=\"number\">30000</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">minChunks</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">maxAsyncRequests</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">maxInitialRequests</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">automaticNameDelimiter</span>: <span class=\"string\">&quot;~&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">name</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">cacheGroups</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">vendors</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">chunks</span>: <span class=\"string\">&quot;all&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]/</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"title function_\">name</span>(<span class=\"params\"><span class=\"variable language_\">module</span></span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">const</span> packageName = <span class=\"variable language_\">module</span>.<span class=\"property\">context</span>.<span class=\"title function_\">match</span>(</span><br><span class=\"line\">\t\t\t\t\t\t\t\t<span class=\"regexp\">/[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/</span></span><br><span class=\"line\">\t\t\t\t\t\t\t)[<span class=\"number\">1</span>];</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"string\">`chunk.<span class=\"subst\">$&#123;packageName.replace(<span class=\"string\">&quot;@&quot;</span>, <span class=\"string\">&quot;&quot;</span>)&#125;</span>`</span>;</span><br><span class=\"line\">\t\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: -<span class=\"number\">10</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">reuseExistingChunk</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">&quot;crypto-js&quot;</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;chunk-crypto-js&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]_?crypto-js(.*)/</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: <span class=\"number\">10</span>,</span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">vant</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;chunk-vant-js&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]_?vant(.*)/</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: <span class=\"number\">20</span>,</span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">&quot;core-js&quot;</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;chunk-core-js&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]_?core-js(.*)/</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: <span class=\"number\">25</span>,</span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">common</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"comment\">// split async commons chunk</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;chunk-common&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">minChunks</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: -<span class=\"number\">20</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">chunks</span>: <span class=\"string\">&quot;initial&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">reuseExistingChunk</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">default</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">minChunks</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: -<span class=\"number\">20</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">reuseExistingChunk</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t<span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// Ignore all locale files of moment.js</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">new</span> webpack.<span class=\"title class_\">IgnorePlugin</span>(<span class=\"regexp\">/^\\.\\/locale$/</span>, <span class=\"regexp\">/moment$/</span>),</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">new</span> webpack.<span class=\"property\">optimize</span>.<span class=\"title class_\">LimitChunkCountPlugin</span>(&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">maxChunks</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">minChunkSize</span>: <span class=\"number\">100</span>,</span><br><span class=\"line\">\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">new</span> <span class=\"title class_\">CompressionWebpackPlugin</span>(&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">algorithm</span>: <span class=\"string\">&quot;gzip&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">test</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(<span class=\"string\">&quot;\\\\.(&quot;</span> + productionGzipExtensions.<span class=\"title function_\">join</span>(<span class=\"string\">&quot;|&quot;</span>) + <span class=\"string\">&quot;)$&quot;</span>),</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">threshold</span>: <span class=\"number\">10240</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">deleteOriginalAssets</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// ä¸åˆ é™¤æºæ–‡ä»¶</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">minRatio</span>: <span class=\"number\">0.8</span>,</span><br><span class=\"line\">\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">new</span> <span class=\"title function_\">vConsolePlugin</span>(&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">filter</span>: [],</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">enable</span>: process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> != <span class=\"string\">&quot;production&quot;</span>,</span><br><span class=\"line\">\t\t\t&#125;),</span><br><span class=\"line\">\t\t],</span><br><span class=\"line\">\t\t<span class=\"comment\">// if prod, add externals</span></span><br><span class=\"line\">\t\t<span class=\"attr\">externals</span>: isProcess ? cdn.<span class=\"property\">externals</span> : &#123;&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">outputDir</span>: <span class=\"string\">&quot;dist&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">assetsDir</span>: <span class=\"string\">&quot;static&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">lintOnSave</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// æ˜¯å¦å¼€å¯eslintä¿å­˜æ£€æµ‹</span></span><br><span class=\"line\">\t<span class=\"attr\">productionSourceMap</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// æ˜¯å¦åœ¨æ„å»ºç”Ÿäº§åŒ…æ—¶ç”Ÿæˆ sourceMap</span></span><br><span class=\"line\">\t<span class=\"attr\">chainWebpack</span>: <span class=\"function\"><span class=\"params\">config</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\tconfig.<span class=\"property\">resolve</span>.<span class=\"property\">alias</span></span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src&quot;</span>))</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@v&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src/views&quot;</span>))</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@c&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src/components&quot;</span>))</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@u&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src/util&quot;</span>));</span><br><span class=\"line\">\t\tconfig.<span class=\"property\">optimization</span>.<span class=\"title function_\">runtimeChunk</span>(<span class=\"string\">&quot;single&quot;</span>);</span><br><span class=\"line\">\t\tconfig.<span class=\"title function_\">plugin</span>(<span class=\"string\">&quot;html&quot;</span>).<span class=\"title function_\">tap</span>(<span class=\"function\"><span class=\"params\">args</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\targs[<span class=\"number\">0</span>].<span class=\"property\">title</span> = <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// é…ç½®ç¯å¢ƒcdn</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (isProcess) &#123;</span><br><span class=\"line\">\t\t\t\targs[<span class=\"number\">0</span>].<span class=\"property\">cdn</span> = cdn;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> args;</span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t\t<span class=\"comment\">// é¢„è§ˆæ‰“åŒ…æ¨¡å—</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// config.plugin(&#x27;webpack-bundle-analyzer&#x27;)</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// \t.use(require(&#x27;webpack-bundle-analyzer&#x27;).BundleAnalyzerPlugin)</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// \t.end()</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å…³é—­Prefetch, åœ¨é¦–å±ä¼šæŠŠè¿™åå‡ ä¸ªè·¯ç”±æ–‡ä»¶ï¼Œéƒ½ä¸€å£æ°”ä¸‹è½½äº† åˆ é™¤é¢„åŠ è½½</span></span><br><span class=\"line\">\t\tconfig.<span class=\"property\">plugins</span>.<span class=\"title function_\">delete</span>(<span class=\"string\">&quot;prefetch&quot;</span>);</span><br><span class=\"line\">\t\tconfig.<span class=\"property\">plugins</span>.<span class=\"title function_\">delete</span>(<span class=\"string\">&quot;preload&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">// å‹ç¼©ä»£ç </span></span><br><span class=\"line\">\t\tconfig.<span class=\"property\">optimization</span>.<span class=\"title function_\">minimize</span>(<span class=\"literal\">true</span>);</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">host</span>: <span class=\"string\">&quot;0.0.0.0&quot;</span>, <span class=\"comment\">//å±€åŸŸç½‘å’Œæœ¬åœ°è®¿é—®</span></span><br><span class=\"line\">\t\t<span class=\"attr\">port</span>: <span class=\"number\">80</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">hot</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">open</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">overlay</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">warning</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">error</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t<span class=\"attr\">disableHostCheck</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = vueConfig;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ‰“åŒ…ä¹‹åä½“éªŒ-1s-æ‰“å¼€é¡¹ç›®\"><a href=\"#æ‰“åŒ…ä¹‹åä½“éªŒ-1s-æ‰“å¼€é¡¹ç›®\" class=\"headerlink\" title=\"æ‰“åŒ…ä¹‹åä½“éªŒ 1s æ‰“å¼€é¡¹ç›®\"></a>æ‰“åŒ…ä¹‹åä½“éªŒ 1s æ‰“å¼€é¡¹ç›®</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112181708.7zqeietpgn.webp\" alt=\"x\"></p>\n<h2 id=\"å‚è€ƒèµ„æ–™\"><a href=\"#å‚è€ƒèµ„æ–™\" class=\"headerlink\" title=\"å‚è€ƒèµ„æ–™\"></a>å‚è€ƒèµ„æ–™</h2><ul>\n<li><a href=\"https://juejin.cn/post/6949896020788690958?share_token=d0a44d3a-83bf-4b45-8834-4d99ed8b7fac\">ğŸ¢11s åˆ° âš¡1sï¼Œæ€§èƒ½ä¼˜åŒ–ä¹‹é¦–å±åŠ è½½ ğŸš€</a></li>\n</ul>\n","excerpt":"","more":"<h1 id=\"ä¼˜åŒ–èƒŒæ™¯\"><a href=\"#ä¼˜åŒ–èƒŒæ™¯\" class=\"headerlink\" title=\"ä¼˜åŒ–èƒŒæ™¯\"></a>ä¼˜åŒ–èƒŒæ™¯</h1><p>å‰æ®µæ—¶é—´æäº†ä¸€ä¸ªæ–°é¡¹ç›®, ç”¨çš„å…¨æ–° vue3 å’Œ vant3 çš„æ¡†æ¶ï¼Œè®¿é—®é¡¹ç›®æ—¶é•¿ 1 åˆ†å¤šéƒ½æ²¡æœ‰åŠ è½½å‡ºæ¥, å…¶å®å¼•å…¥çš„æ¡†æ¶å°±åªæœ‰ vant å’Œä¸€äº›æ’ä»¶ï¼Œ å¯¹äºå•é¡µé¢è€Œè¨€ï¼Œè¿™æ˜¯æœ‰å¾ˆå¤§çš„é—®é¢˜çš„ï¼Œé¡µé¢è®°è½½ç¼“æ…¢ï¼Œèµ„æºä¸‹è½½æ…¢, ä¸€ä¸ª vender.js æ–‡ä»¶ è¾¾åˆ°äº† mbï¼Œå¯¹äºä¸€ä¸ªæ–°é¡¹ç›®è€Œè¨€ï¼Œ æ€ä¹ˆä¼šè¿™ä¹ˆå¤§å‘¢ï¼Ÿè¿™æ—¶å°±åº”è¯¥å…ˆå»è€ƒè™‘ä¸€ä¸‹é¡¹ç›®å¦‚ä½•ä¼˜åŒ–ã€‚æ€æ ·å®ç° 11s åˆ° 1s çš„æ•ˆæœã€‚</p>\n<h2 id=\"ä¼˜åŒ–æ–¹å‘\"><a href=\"#ä¼˜åŒ–æ–¹å‘\" class=\"headerlink\" title=\"ä¼˜åŒ–æ–¹å‘\"></a>ä¼˜åŒ–æ–¹å‘</h2><ul>\n<li>æ–‡ä»¶æ‹†åˆ†ï¼Œä»£ç ï¼Œå›¾ç‰‡ï¼Œæ–‡ä»¶å‹ç¼©ï¼Œ Gzip å‹ç¼©</li>\n<li>node_modules åŒ…ä½“ç§¯è¿‡å¤§çš„æ–‡ä»¶æ‹†åˆ†ï¼Œä¼˜åŒ–åˆ†åŒ…ç­–ç•¥</li>\n<li>ä¼˜åŒ–è·¯ç”±æ‡’åŠ è½½</li>\n<li>æ‹†åˆ†ç¬¬ä¸‰æ–¹æ’ä»¶, æ”¹ç”¨ cdn é“¾æ¥</li>\n<li>loading åŠ¨ç”»</li>\n<li>éª¨æ¶å±</li>\n</ul>\n<h2 id=\"å¼€å§‹ä¼˜åŒ–\"><a href=\"#å¼€å§‹ä¼˜åŒ–\" class=\"headerlink\" title=\"å¼€å§‹ä¼˜åŒ–\"></a>å¼€å§‹ä¼˜åŒ–</h2><h3 id=\"ä½“ç§¯ä¼˜åŒ–\"><a href=\"#ä½“ç§¯ä¼˜åŒ–\" class=\"headerlink\" title=\"ä½“ç§¯ä¼˜åŒ–\"></a>ä½“ç§¯ä¼˜åŒ–</h3><h4 id=\"æ’æŸ¥å†—ä½™ä¾èµ–ï¼Œæ–‡ä»¶èµ„æºï¼Œå›¾ç‰‡\"><a href=\"#æ’æŸ¥å†—ä½™ä¾èµ–ï¼Œæ–‡ä»¶èµ„æºï¼Œå›¾ç‰‡\" class=\"headerlink\" title=\"æ’æŸ¥å†—ä½™ä¾èµ–ï¼Œæ–‡ä»¶èµ„æºï¼Œå›¾ç‰‡\"></a>æ’æŸ¥å†—ä½™ä¾èµ–ï¼Œæ–‡ä»¶èµ„æºï¼Œå›¾ç‰‡</h4><ul>\n<li>åˆ é™¤é¡¹ç›®ä¸­å¤šä½™çš„ä¾èµ–</li>\n<li>é™æ€èµ„æºå…¨éƒ¨æ”¾å…¥ assets æ–‡ä»¶å¤¹ä¸‹</li>\n</ul>\n<h4 id=\"å›¾ç‰‡å‹ç¼©\"><a href=\"#å›¾ç‰‡å‹ç¼©\" class=\"headerlink\" title=\"å›¾ç‰‡å‹ç¼©\"></a>å›¾ç‰‡å‹ç¼©</h4><ul>\n<li>æ‰‹åŠ¨å°†å›¾ç‰‡è¿›è¡Œå‹ç¼©, ä½†æ˜¯è¿™æ ·æ¯”è¾ƒéº»çƒ¦</li>\n<li>å¼•å…¥æ’ä»¶ image-webpack-loadeï¼Œè¿›è¡Œå‹ç¼©</li>\n</ul>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// install</span><br><span class=\"line\">npm i image-webpack-loader -D</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// vue.config.js</span></span><br><span class=\"line\"><span class=\"attr\">chainWebpack</span>: <span class=\"function\"><span class=\"params\">config</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆ¤æ–­ç¯å¢ƒ</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (isProd) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å›¾ç‰‡å‹ç¼©å¤„ç†</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> imgRule = config.<span class=\"property\">module</span>.<span class=\"title function_\">rule</span>(<span class=\"string\">&quot;images&quot;</span>);</span><br><span class=\"line\">\t\timgRule</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">test</span>(<span class=\"regexp\">/\\.(png|jpe?g|gif|webp)(\\?.*)?$/</span>)</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">use</span>(<span class=\"string\">&quot;image-webpack-loader&quot;</span>)</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">loader</span>(<span class=\"string\">&quot;image-webpack-loader&quot;</span>)</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">options</span>(&#123; <span class=\"attr\">bypassOnDebug</span>: <span class=\"literal\">true</span> &#125;)</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">end</span>();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ä¼˜åŒ–-vant-ä½“ç§¯-cdn-åŠ é€Ÿ\"><a href=\"#ä¼˜åŒ–-vant-ä½“ç§¯-cdn-åŠ é€Ÿ\" class=\"headerlink\" title=\"ä¼˜åŒ– vant ä½“ç§¯, cdn åŠ é€Ÿ\"></a>ä¼˜åŒ– vant ä½“ç§¯, cdn åŠ é€Ÿ</h4><p>vant UI åº“å…¨å±€å¼•å…¥ï¼Œ ä¼šå°† vant æ‰“åŒ…åœ¨ vender æ–‡ä»¶ä¸­ï¼Œ æˆ‘ä»¬å°†å®ƒæ‹†å‡ºæ¥ï¼Œä½¿ç”¨ cdn é“¾æ¥</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> isProcess =</span><br><span class=\"line\">\tprocess.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&quot;production&quot;</span> ||</span><br><span class=\"line\">\tprocess.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&quot;test&quot;</span> ||</span><br><span class=\"line\">\tprocess.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&quot;pre&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// ä½¿ç”¨cdn</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> cdn = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">css</span>: [<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vant@3.2.3/lib/index.css&quot;</span>],</span><br><span class=\"line\">\t<span class=\"attr\">js</span>: [</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vue@3.2.6/dist/vue.global.prod.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vue-router@4.0.11/dist/vue-router.global.prod.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vuex@4.0.2/dist/vuex.global.prod.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/axios@0.21.4/dist/axios.min.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vant@3.2.3/lib/vant.min.js&quot;</span>,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"comment\">// ç¬¬ä¸‰æ–¹æ’ä»¶æ‹†åˆ†</span></span><br><span class=\"line\">\t<span class=\"attr\">externals</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">vue</span>: <span class=\"string\">&quot;Vue&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;vue-router&quot;</span>: <span class=\"string\">&quot;VueRouter&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">vuex</span>: <span class=\"string\">&quot;Vuex&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">axios</span>: <span class=\"string\">&quot;axios&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">vant</span>: <span class=\"string\">&quot;vant&quot;</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// æœ¬åœ°ä¸ä¼šæ‹†åˆ†</span></span><br><span class=\"line\"><span class=\"attr\">configureWebpack</span>: &#123;</span><br><span class=\"line\">\t<span class=\"attr\">externals</span>: &#123;</span><br><span class=\"line\">\t\tisProcess ? cdn.<span class=\"property\">externals</span> : &#123;&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ä¼˜åŒ–-moment-ä½“ç§¯\"><a href=\"#ä¼˜åŒ–-moment-ä½“ç§¯\" class=\"headerlink\" title=\"ä¼˜åŒ– moment ä½“ç§¯\"></a>ä¼˜åŒ– moment ä½“ç§¯</h4><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è¿™é‡Œä½¿ç”¨å†…ç½®çš„IgnorePluginå³å¯åšåˆ°</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> webpack.<span class=\"title class_\">IgnorePlugin</span>(<span class=\"regexp\">/^\\.\\/locale$/</span>, <span class=\"regexp\">/moment$/</span>),</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ä¼˜åŒ–-core-js-ä½“ç§¯\"><a href=\"#ä¼˜åŒ–-core-js-ä½“ç§¯\" class=\"headerlink\" title=\"ä¼˜åŒ– core-js ä½“ç§¯\"></a>ä¼˜åŒ– core-js ä½“ç§¯</h4><p>é¡¹ç›®ä¸­é»˜è®¤æ˜¯<code>useBuiltIns: &#39;entry&#39;</code>å°†æ‰€æœ‰<code>polyfill</code>éƒ½å¼•å…¥äº†ï¼Œå¯¼è‡´åŒ…æ¯”è¾ƒå¤§ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ u<code>seBuiltIns: &#39;entry&#39;</code>è°ƒæ•´ä¸‹ç­–ç•¥ï¼ŒæŒ‰éœ€å¼•å…¥ï¼Œé¡¹ç›®ä¸­æ²¡ä½¿ç”¨åˆ°çš„ API å°±ä¸åš<code>polyfill</code>å¤„ç†äº†</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// babel.config.js</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">presets</span>: [</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;@vue/cli-plugin-babel/preset&quot;</span>,</span><br><span class=\"line\">\t\t[</span><br><span class=\"line\">\t\t\t<span class=\"string\">&quot;@babel/preset-env&quot;</span>,</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">useBuiltIns</span>: <span class=\"string\">&quot;usage&quot;</span>, <span class=\"comment\">// entryï¼Œusage</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">corejs</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t],</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\tplugins,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä¼ è¾“ä¼˜åŒ–\"><a href=\"#ä¼ è¾“ä¼˜åŒ–\" class=\"headerlink\" title=\"ä¼ è¾“ä¼˜åŒ–\"></a>ä¼ è¾“ä¼˜åŒ–</h3><h4 id=\"ä¼˜åŒ–åˆ†åŒ…ç­–ç•¥\"><a href=\"#ä¼˜åŒ–åˆ†åŒ…ç­–ç•¥\" class=\"headerlink\" title=\"ä¼˜åŒ–åˆ†åŒ…ç­–ç•¥\"></a>ä¼˜åŒ–åˆ†åŒ…ç­–ç•¥</h4><p>vue-cli3 çš„é»˜è®¤ä¼˜åŒ–æ˜¯å°†æ‰€æœ‰ npm ä¾èµ–éƒ½æ‰“è¿› chunk-vendorï¼Œä½†è¿™ç§åšæ³•åœ¨ä¾èµ–å¤šçš„æƒ…å†µä¸‹å¯¼è‡´ chunk-vendor è¿‡å¤§</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">optimization</span>: isProd</span><br><span class=\"line\">\t? &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">splitChunks</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">chunks</span>: <span class=\"string\">&quot;all&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">maxInitialRequests</span>: <span class=\"title class_\">Infinity</span>, <span class=\"comment\">// é»˜è®¤ä¸º3ï¼Œè°ƒæ•´ä¸ºå…è®¸æ— é™å…¥å£èµ„æº</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">minSize</span>: <span class=\"number\">20000</span>, <span class=\"comment\">// 20Kä»¥ä¸‹çš„ä¾èµ–ä¸åšæ‹†åˆ†</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">cacheGroups</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">vendors</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"comment\">// æ‹†åˆ†ä¾èµ–ï¼Œé¿å…å•æ–‡ä»¶è¿‡å¤§æ‹–æ…¢é¡µé¢å±•ç¤º</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"comment\">// å¾—ç›ŠäºHTTP2å¤šè·¯å¤ç”¨ï¼Œä¸ç”¨å¤ªæ‹…å¿ƒèµ„æºè¯·æ±‚å¤ªå¤šçš„é—®é¢˜</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"title function_\">name</span>(<span class=\"params\"><span class=\"variable language_\">module</span></span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"comment\">// æ‹†åŒ…</span></span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">const</span> packageName = <span class=\"variable language_\">module</span>.<span class=\"property\">context</span>.<span class=\"title function_\">match</span>(</span><br><span class=\"line\">\t\t\t\t\t\t\t\t<span class=\"regexp\">/[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/</span></span><br><span class=\"line\">\t\t\t\t\t\t\t)[<span class=\"number\">1</span>];</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"comment\">// è¿›ä¸€æ­¥å°†Antç»„ä»¶æ‹†åˆ†å‡ºæ¥,è¯·æ ¹æ®æƒ…å†µæ¥</span></span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"comment\">// const packageName = module.context.match(/[\\\\/]node_modules[\\\\/](?:ant-design-vue[\\\\/]es[\\\\/])?(.*?)([\\\\/]|$)/)[1]</span></span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"string\">`npm.<span class=\"subst\">$&#123;packageName.replace(<span class=\"string\">&quot;@&quot;</span>, <span class=\"string\">&quot;&quot;</span>)&#125;</span>`</span>; <span class=\"comment\">// éƒ¨åˆ†æœåŠ¡å™¨ä¸å…è®¸URLå¸¦@</span></span><br><span class=\"line\">\t\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]/</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: -<span class=\"number\">10</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">chunks</span>: <span class=\"string\">&quot;initial&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">runtimeChunk</span>: &#123; <span class=\"attr\">name</span>: <span class=\"function\"><span class=\"params\">entrypoint</span> =&gt;</span> <span class=\"string\">`runtime-<span class=\"subst\">$&#123;entrypoint.name&#125;</span>`</span> &#125;,</span><br><span class=\"line\">\t  &#125;</span><br><span class=\"line\">\t: &#123;&#125;;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"è·¯ç”±æ‡’åŠ è½½\"><a href=\"#è·¯ç”±æ‡’åŠ è½½\" class=\"headerlink\" title=\"è·¯ç”±æ‡’åŠ è½½\"></a>è·¯ç”±æ‡’åŠ è½½</h4><p>SPA ä¸­ä¸€ä¸ªå¾ˆé‡è¦çš„æé€Ÿæ‰‹æ®µå°±æ˜¯è·¯ç”±æ‡’åŠ è½½ï¼Œå½“æ‰“å¼€é¡µé¢æ—¶æ‰å»åŠ è½½å¯¹åº”æ–‡ä»¶ï¼Œæˆ‘ä»¬åˆ©ç”¨ Vue çš„å¼‚æ­¥ç»„ä»¶å’Œ webpack çš„ä»£ç åˆ†å‰²ï¼ˆimport()ï¼‰å°±å¯ä»¥è½»æ¾å®ç°æ‡’åŠ è½½äº†ã€‚<br>ä½†å½“è·¯ç”±è¿‡å¤šæ—¶ï¼Œè¯·åˆç†åœ°ç”¨ webpack çš„é­”æ³•æ³¨é‡Šå¯¹è·¯ç”±è¿›è¡Œåˆ†ç»„ï¼Œå¤ªå¤šçš„ chunk ä¼šå½±å“æ„å»ºæ—¶çš„é€Ÿåº¦</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">path</span>: <span class=\"string\">&#x27;register&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;register&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">component</span>: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"comment\">/* webpackChunkName: &quot;user&quot; */</span> <span class=\"string\">&#x27;@/views/user/register&#x27;</span>),</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"gzip-å‹ç¼©\"><a href=\"#gzip-å‹ç¼©\" class=\"headerlink\" title=\"gzip å‹ç¼©\"></a>gzip å‹ç¼©</h4><p>Gzip å‹ç¼©æ˜¯ä¸€ç§å¼ºåŠ›å‹ç¼©æ‰‹æ®µï¼Œé’ˆå¯¹æ–‡æœ¬æ–‡ä»¶æ—¶é€šå¸¸èƒ½å‡å°‘ 2&#x2F;3 çš„ä½“ç§¯ã€‚</p>\n<p>HTTP åè®®ä¸­ç”¨å¤´éƒ¨å­—æ®µ Accept-Encoding å’Œ Content-Encoding å¯¹ã€Œé‡‡ç”¨ä½•ç§ç¼–ç æ ¼å¼ä¼ è¾“æ­£æ–‡ã€è¿›è¡Œäº†åå®šï¼Œè¯·æ±‚å¤´çš„ Accept-Encoding ä¼šåˆ—å‡ºå®¢æˆ·ç«¯æ”¯æŒçš„ç¼–ç æ ¼å¼ã€‚å½“å“åº”å¤´çš„ Content-Encoding æŒ‡å®šäº† gzip æ—¶ï¼Œæµè§ˆå™¨åˆ™ä¼šè¿›è¡Œå¯¹åº”è§£å‹</p>\n<p>ä¸€èˆ¬æµè§ˆå™¨éƒ½æ”¯æŒ gzipï¼Œæ‰€ä»¥ Accept-Encoding ä¹Ÿä¼šè‡ªåŠ¨å¸¦ä¸Š gzipï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®©èµ„æºæœåŠ¡å™¨åœ¨ Content-Encoding æŒ‡å®š gzipï¼Œå¹¶è¿”å› gzip æ–‡ä»¶</p>\n<ul>\n<li>Nginx é…ç½®</li>\n</ul>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#å¼€å¯å’Œå…³é—­gzipæ¨¡å¼</span></span><br><span class=\"line\">gzip on;</span><br><span class=\"line\"><span class=\"comment\">#gizpå‹ç¼©èµ·ç‚¹ï¼Œæ–‡ä»¶å¤§äº1kæ‰è¿›è¡Œå‹ç¼©</span></span><br><span class=\"line\">gzip_min_length 1k;</span><br><span class=\"line\"><span class=\"comment\"># gzip å‹ç¼©çº§åˆ«ï¼Œ1-9ï¼Œæ•°å­—è¶Šå¤§å‹ç¼©çš„è¶Šå¥½ï¼Œä¹Ÿè¶Šå ç”¨CPUæ—¶é—´</span></span><br><span class=\"line\">gzip_comp_level 6;</span><br><span class=\"line\"><span class=\"comment\"># è¿›è¡Œå‹ç¼©çš„æ–‡ä»¶ç±»å‹ã€‚</span></span><br><span class=\"line\">gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript ;</span><br><span class=\"line\"><span class=\"comment\"># nginxå¯¹äºé™æ€æ–‡ä»¶çš„å¤„ç†æ¨¡å—ï¼Œå¼€å¯åä¼šå¯»æ‰¾ä»¥.gzç»“å°¾çš„æ–‡ä»¶ï¼Œç›´æ¥è¿”å›ï¼Œä¸ä¼šå ç”¨cpuè¿›è¡Œå‹ç¼©ï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™ä¸è¿›è¡Œå‹ç¼©</span></span><br><span class=\"line\">gzip_static on</span><br><span class=\"line\"><span class=\"comment\"># æ˜¯å¦åœ¨http headerä¸­æ·»åŠ Vary: Accept-Encodingï¼Œå»ºè®®å¼€å¯</span></span><br><span class=\"line\">gzip_vary on;</span><br><span class=\"line\"><span class=\"comment\"># è®¾ç½®gzipå‹ç¼©é’ˆå¯¹çš„HTTPåè®®ç‰ˆæœ¬</span></span><br><span class=\"line\">gzip_http_version 1.1;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>æ„å»ºæ˜¯ç”Ÿæˆ gzip æ–‡ä»¶</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// vue.config.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">CompressionPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;compression-webpack-plugin&quot;</span>);</span><br><span class=\"line\"><span class=\"comment\">// gzipå‹ç¼©å¤„ç†</span></span><br><span class=\"line\"><span class=\"attr\">chainWebpack</span>: <span class=\"function\"><span class=\"params\">config</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (isProd) &#123;</span><br><span class=\"line\">\t\tconfig.<span class=\"title function_\">plugin</span>(<span class=\"string\">&quot;compression-webpack-plugin&quot;</span>).<span class=\"title function_\">use</span>(</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">new</span> <span class=\"title class_\">CompressionPlugin</span>(&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$|\\.html$|\\.css$/</span>, <span class=\"comment\">// åŒ¹é…æ–‡ä»¶å</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">threshold</span>: <span class=\"number\">10240</span>, <span class=\"comment\">// å¯¹è¶…è¿‡10kçš„æ•°æ®å‹ç¼©</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">deleteOriginalAssets</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// ä¸åˆ é™¤æºæ–‡ä»¶</span></span><br><span class=\"line\">\t\t\t&#125;)</span><br><span class=\"line\">\t\t);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"prefetch-ï¼Œ-preload\"><a href=\"#prefetch-ï¼Œ-preload\" class=\"headerlink\" title=\"prefetch ï¼Œ preload\"></a>prefetch ï¼Œ preload</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp;</span><br><span class=\"line\">htmlWebpackPlugin.options.cdn.css) &#123; %&gt;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.css[i] %&gt;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">rel</span>=<span class=\"string\">&quot;preload&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">as</span>=<span class=\"string\">&quot;style&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.css[i] %&gt;&quot;</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class=\"line\">&lt;% &#125; %&gt; &lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp;</span><br><span class=\"line\">htmlWebpackPlugin.options.cdn.js) &#123; %&gt;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.js[i] %&gt;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">rel</span>=<span class=\"string\">&quot;preload&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">as</span>=<span class=\"string\">&quot;script&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">/&gt;</span></span><br><span class=\"line\">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config.<span class=\"property\">plugins</span>.<span class=\"title function_\">delete</span>(<span class=\"string\">&quot;prefetch&quot;</span>);</span><br><span class=\"line\">config.<span class=\"property\">plugins</span>.<span class=\"title function_\">delete</span>(<span class=\"string\">&quot;preload&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>prefetch æ˜¯åœ¨æµè§ˆå™¨ç©ºé—²æ—¶åŠ è½½ï¼Œå¯ä»¥å‡å°‘ç”¨æˆ·ç­‰å¾…æ—¶é—´ï¼Œä½†åŠ è½½æ—¶é—´ä¼šæ›´é•¿ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šåŒæ—¶åŠ è½½å¤šä¸ªæ–‡ä»¶ã€‚</li>\n<li>preload æ˜¯åœ¨å½“å‰é¡µé¢åŠ è½½æ—¶åŠ è½½ï¼ŒåŠ è½½é€Ÿåº¦ä¼šæ›´å¿«ï¼Œä½†åŠ è½½æ—¶é—´ä¼šæ›´çŸ­ï¼Œä½†åŒæ—¶ä¼šå¢åŠ ç”¨æˆ·æµé‡ã€‚</li>\n<li>prefetch å’Œ preload éƒ½æ˜¯ HTML5 æ–°å¢çš„æ ‡ç­¾ï¼Œä½†æ˜¯ preload çš„ä¼˜å…ˆçº§é«˜äº prefetchã€‚</li>\n<li>prefetch çš„ä½œç”¨æ˜¯é¢„åŠ è½½ï¼Œè€Œ preload çš„ä½œç”¨æ˜¯é¢„è·å–ã€‚</li>\n</ol>\n<h2 id=\"æ¨¡æ¿\"><a href=\"#æ¨¡æ¿\" class=\"headerlink\" title=\"æ¨¡æ¿\"></a>æ¨¡æ¿</h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">src</span>=<span class=\"string\">&quot;https://webapi.amap.com/maps?v=1.4.4&amp;key=13df4ba40de83428e30e3031ee61cb59&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">&lt;!-- &lt;script type=&quot;text/javascript&quot; src=&quot;../src//util//remogeo.js&quot;&gt;&lt;/script&gt; --&gt;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">&lt;!-- &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;upgrade-insecure-requests&quot;&gt; --&gt;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">&lt;!-- &lt;meta content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, viewport-fit=cover&quot; name=&quot;viewport&quot; /&gt; --&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, shrink-to-fit=no,user-scalable=no&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t/&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;icon&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= BASE_URL %&gt;favicon.ico&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>&lt;%= htmlWebpackPlugin.options.title %&gt;<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://res.wx.qq.com/open/js/jweixin-1.2.0.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://open.work.weixin.qq.com/wwopen/js/jwxwork-1.0.0.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t\t&lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp;</span><br><span class=\"line\">\t\thtmlWebpackPlugin.options.cdn.css) &#123; %&gt;</span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.css[i] %&gt;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">rel</span>=<span class=\"string\">&quot;preload&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">as</span>=<span class=\"string\">&quot;style&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t/&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.css[i] %&gt;&quot;</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class=\"line\">\t\t&lt;% &#125; %&gt; &lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp;</span><br><span class=\"line\">\t\thtmlWebpackPlugin.options.cdn.js) &#123; %&gt;</span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">href</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.js[i] %&gt;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">rel</span>=<span class=\"string\">&quot;preload&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t<span class=\"attr\">as</span>=<span class=\"string\">&quot;script&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t/&gt;</span></span><br><span class=\"line\">\t\t&lt;% &#125; %&gt;</span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">noscript</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">strong</span></span></span><br><span class=\"line\"><span class=\"tag\">\t\t\t\t&gt;</span>We&#x27;re sorry but &lt;%= htmlWebpackPlugin.options.title %&gt; doesn&#x27;t work</span><br><span class=\"line\">\t\t\t\tproperly without JavaScript enabled. Please enable it to</span><br><span class=\"line\">\t\t\t\tcontinue.&lt;/strong</span><br><span class=\"line\">\t\t\t&gt;</span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">noscript</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">&lt;!-- built files will be auto injected --&gt;</span></span><br><span class=\"line\">\t\t&lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp;</span><br><span class=\"line\">\t\thtmlWebpackPlugin.options.cdn.js) &#123; %&gt;</span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&lt;%= htmlWebpackPlugin.options.cdn.js[i] %&gt;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t\t&lt;% &#125; %&gt;</span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;webpack&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;path&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">resolve</span> = dir =&gt; path.<span class=\"title function_\">join</span>(__dirname, dir);</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">CompressionWebpackPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;compression-webpack-plugin&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> vConsolePlugin = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;vconsole-webpack-plugin&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> productionGzipExtensions = [<span class=\"string\">&quot;js&quot;</span>, <span class=\"string\">&quot;css&quot;</span>];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> isProcess =</span><br><span class=\"line\">\tprocess.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&quot;production&quot;</span> ||</span><br><span class=\"line\">\tprocess.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&quot;test&quot;</span> ||</span><br><span class=\"line\">\tprocess.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&quot;pre&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é…ç½® cdn, æ‹†åˆ†æ¨¡å—</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> cdn = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">css</span>: [<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vant@3.2.3/lib/index.css&quot;</span>],</span><br><span class=\"line\">\t<span class=\"attr\">js</span>: [</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vue@3.2.6/dist/vue.global.prod.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vue-router@4.0.11/dist/vue-router.global.prod.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vuex@4.0.2/dist/vuex.global.prod.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/axios@0.21.4/dist/axios.min.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vant@3.2.3/lib/vant.min.js&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;https://file.anbangke.com/js/map_index.js&quot;</span>,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">\t<span class=\"attr\">externals</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">vue</span>: <span class=\"string\">&quot;Vue&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;vue-router&quot;</span>: <span class=\"string\">&quot;VueRouter&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">vuex</span>: <span class=\"string\">&quot;Vuex&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">axios</span>: <span class=\"string\">&quot;axios&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">vant</span>: <span class=\"string\">&quot;vant&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"title class_\">AMap</span>: <span class=\"string\">&quot;AMap&quot;</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> vueConfig = &#123;</span><br><span class=\"line\">\t<span class=\"attr\">configureWebpack</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">optimization</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">splitChunks</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">chunks</span>: <span class=\"string\">&quot;all&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">minSize</span>: <span class=\"number\">30000</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">minChunks</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">maxAsyncRequests</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">maxInitialRequests</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">automaticNameDelimiter</span>: <span class=\"string\">&quot;~&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">name</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">cacheGroups</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">vendors</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">chunks</span>: <span class=\"string\">&quot;all&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]/</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"title function_\">name</span>(<span class=\"params\"><span class=\"variable language_\">module</span></span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">const</span> packageName = <span class=\"variable language_\">module</span>.<span class=\"property\">context</span>.<span class=\"title function_\">match</span>(</span><br><span class=\"line\">\t\t\t\t\t\t\t\t<span class=\"regexp\">/[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/</span></span><br><span class=\"line\">\t\t\t\t\t\t\t)[<span class=\"number\">1</span>];</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"string\">`chunk.<span class=\"subst\">$&#123;packageName.replace(<span class=\"string\">&quot;@&quot;</span>, <span class=\"string\">&quot;&quot;</span>)&#125;</span>`</span>;</span><br><span class=\"line\">\t\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: -<span class=\"number\">10</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">reuseExistingChunk</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">&quot;crypto-js&quot;</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;chunk-crypto-js&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]_?crypto-js(.*)/</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: <span class=\"number\">10</span>,</span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">vant</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;chunk-vant-js&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]_?vant(.*)/</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: <span class=\"number\">20</span>,</span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">&quot;core-js&quot;</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;chunk-core-js&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]_?core-js(.*)/</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: <span class=\"number\">25</span>,</span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">common</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"comment\">// split async commons chunk</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;chunk-common&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">minChunks</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: -<span class=\"number\">20</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">chunks</span>: <span class=\"string\">&quot;initial&quot;</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">reuseExistingChunk</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">default</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">minChunks</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">priority</span>: -<span class=\"number\">20</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">reuseExistingChunk</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t<span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// Ignore all locale files of moment.js</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">new</span> webpack.<span class=\"title class_\">IgnorePlugin</span>(<span class=\"regexp\">/^\\.\\/locale$/</span>, <span class=\"regexp\">/moment$/</span>),</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">new</span> webpack.<span class=\"property\">optimize</span>.<span class=\"title class_\">LimitChunkCountPlugin</span>(&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">maxChunks</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">minChunkSize</span>: <span class=\"number\">100</span>,</span><br><span class=\"line\">\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">new</span> <span class=\"title class_\">CompressionWebpackPlugin</span>(&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">algorithm</span>: <span class=\"string\">&quot;gzip&quot;</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">test</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(<span class=\"string\">&quot;\\\\.(&quot;</span> + productionGzipExtensions.<span class=\"title function_\">join</span>(<span class=\"string\">&quot;|&quot;</span>) + <span class=\"string\">&quot;)$&quot;</span>),</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">threshold</span>: <span class=\"number\">10240</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">deleteOriginalAssets</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// ä¸åˆ é™¤æºæ–‡ä»¶</span></span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">minRatio</span>: <span class=\"number\">0.8</span>,</span><br><span class=\"line\">\t\t\t&#125;),</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">new</span> <span class=\"title function_\">vConsolePlugin</span>(&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">filter</span>: [],</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">enable</span>: process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> != <span class=\"string\">&quot;production&quot;</span>,</span><br><span class=\"line\">\t\t\t&#125;),</span><br><span class=\"line\">\t\t],</span><br><span class=\"line\">\t\t<span class=\"comment\">// if prod, add externals</span></span><br><span class=\"line\">\t\t<span class=\"attr\">externals</span>: isProcess ? cdn.<span class=\"property\">externals</span> : &#123;&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">outputDir</span>: <span class=\"string\">&quot;dist&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">assetsDir</span>: <span class=\"string\">&quot;static&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">lintOnSave</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// æ˜¯å¦å¼€å¯eslintä¿å­˜æ£€æµ‹</span></span><br><span class=\"line\">\t<span class=\"attr\">productionSourceMap</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// æ˜¯å¦åœ¨æ„å»ºç”Ÿäº§åŒ…æ—¶ç”Ÿæˆ sourceMap</span></span><br><span class=\"line\">\t<span class=\"attr\">chainWebpack</span>: <span class=\"function\"><span class=\"params\">config</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\tconfig.<span class=\"property\">resolve</span>.<span class=\"property\">alias</span></span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src&quot;</span>))</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@v&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src/views&quot;</span>))</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@c&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src/components&quot;</span>))</span><br><span class=\"line\">\t\t\t.<span class=\"title function_\">set</span>(<span class=\"string\">&quot;@u&quot;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;src/util&quot;</span>));</span><br><span class=\"line\">\t\tconfig.<span class=\"property\">optimization</span>.<span class=\"title function_\">runtimeChunk</span>(<span class=\"string\">&quot;single&quot;</span>);</span><br><span class=\"line\">\t\tconfig.<span class=\"title function_\">plugin</span>(<span class=\"string\">&quot;html&quot;</span>).<span class=\"title function_\">tap</span>(<span class=\"function\"><span class=\"params\">args</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\targs[<span class=\"number\">0</span>].<span class=\"property\">title</span> = <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// é…ç½®ç¯å¢ƒcdn</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (isProcess) &#123;</span><br><span class=\"line\">\t\t\t\targs[<span class=\"number\">0</span>].<span class=\"property\">cdn</span> = cdn;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> args;</span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t\t<span class=\"comment\">// é¢„è§ˆæ‰“åŒ…æ¨¡å—</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// config.plugin(&#x27;webpack-bundle-analyzer&#x27;)</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// \t.use(require(&#x27;webpack-bundle-analyzer&#x27;).BundleAnalyzerPlugin)</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// \t.end()</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å…³é—­Prefetch, åœ¨é¦–å±ä¼šæŠŠè¿™åå‡ ä¸ªè·¯ç”±æ–‡ä»¶ï¼Œéƒ½ä¸€å£æ°”ä¸‹è½½äº† åˆ é™¤é¢„åŠ è½½</span></span><br><span class=\"line\">\t\tconfig.<span class=\"property\">plugins</span>.<span class=\"title function_\">delete</span>(<span class=\"string\">&quot;prefetch&quot;</span>);</span><br><span class=\"line\">\t\tconfig.<span class=\"property\">plugins</span>.<span class=\"title function_\">delete</span>(<span class=\"string\">&quot;preload&quot;</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">// å‹ç¼©ä»£ç </span></span><br><span class=\"line\">\t\tconfig.<span class=\"property\">optimization</span>.<span class=\"title function_\">minimize</span>(<span class=\"literal\">true</span>);</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">host</span>: <span class=\"string\">&quot;0.0.0.0&quot;</span>, <span class=\"comment\">//å±€åŸŸç½‘å’Œæœ¬åœ°è®¿é—®</span></span><br><span class=\"line\">\t\t<span class=\"attr\">port</span>: <span class=\"number\">80</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">hot</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">open</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">overlay</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">warning</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t\t\t<span class=\"attr\">error</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t<span class=\"attr\">disableHostCheck</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = vueConfig;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ‰“åŒ…ä¹‹åä½“éªŒ-1s-æ‰“å¼€é¡¹ç›®\"><a href=\"#æ‰“åŒ…ä¹‹åä½“éªŒ-1s-æ‰“å¼€é¡¹ç›®\" class=\"headerlink\" title=\"æ‰“åŒ…ä¹‹åä½“éªŒ 1s æ‰“å¼€é¡¹ç›®\"></a>æ‰“åŒ…ä¹‹åä½“éªŒ 1s æ‰“å¼€é¡¹ç›®</h3><p><img src=\"https://wangxiaoze-view.github.io/picx-images-hosting/images/20211112181708.7zqeietpgn.webp\" alt=\"x\"></p>\n<h2 id=\"å‚è€ƒèµ„æ–™\"><a href=\"#å‚è€ƒèµ„æ–™\" class=\"headerlink\" title=\"å‚è€ƒèµ„æ–™\"></a>å‚è€ƒèµ„æ–™</h2><ul>\n<li><a href=\"https://juejin.cn/post/6949896020788690958?share_token=d0a44d3a-83bf-4b45-8834-4d99ed8b7fac\">ğŸ¢11s åˆ° âš¡1sï¼Œæ€§èƒ½ä¼˜åŒ–ä¹‹é¦–å±åŠ è½½ ğŸš€</a></li>\n</ul>\n"},{"title":"ä¸´ç»ˆå‰çš„å›æº¯-ç¬¬ä¸‰ç« ï¼šä¸å¥¹åˆè¯†","abbrlink":"b342ee93","date":"2023-10-08T01:05:01.000Z","_content":"å‡å­¦äº†ï¼Œä»Šå¤©çš„æˆ‘å°±æ˜¯åˆä¸­ç”Ÿäº†ï¼\n\nå‡å­¦çš„ç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯åˆ†ç­ï¼Œå½“ç„¶è¿™é‡Œçš„åˆ†ç­å°±æ˜¯å­¦æ ¡æ ¹æ®ä¸€å®šçš„è§„åˆ™å»æ‰“ä¹±æ’åºçš„ï¼Œå…·ä½“æ˜¯ä»€ä¹ˆæ ·å­çš„æˆ‘ä¹Ÿä¸æ¸…æ¥šï¼›\n\nç¬¬ä¸€æ¬¡è§åˆ°è¿™ä¹ˆå¤šäººï¼Œäººç”Ÿåœ°ä¸ç†Ÿçš„ï¼Œè¿˜æœ‰ç‚¹å°èƒ†æ€¯ï¼›å› ä¸ºçœ‹çš„ä¸€äº›é¦™æ¸¯ç”µè§†è®©æˆ‘è§‰å¾—ä¸èƒ½åš£å¼ ï¼Œå®‰å®‰é™é™åœ°åšä¸€åç¾ç”·å­å°±å¥½ï¼›\n\nå¥½äº†ï¼Œåˆ°äº†ç­çº§è§åˆ°å¾ˆå¤šäººï¼Œæ®Šä¸çŸ¥æˆ‘ä¸å¥¹çš„ç¼˜åˆ†å°±æ­¤å±•å¼€ï¼š\n\næˆ‘ä¸‡ä¸‡ä¹Ÿæ²¡æƒ³åˆ°ä½•å¾·ä½•èƒ½æˆ‘ç«Ÿç„¶èƒ½åšç¬¬äºŒæ’ï¼Œåœ¨æˆ‘å°è±¡ä¸­ï¼Œå‰å‡ æ’éƒ½æ˜¯ä¼˜ç§€å­¦ç”Ÿï¼›é‚£æ—¶çš„åŒæ¡Œå°±æ˜¯å¥¹ï¼Œä¹Ÿè®¸è¿™å°±æ˜¯ç¼˜åˆ†å§ï¼›\n\nç†Ÿæ‚‰ä¹‹ååŒæ¡Œä¹‹é—´çš„ç¬¬ä¸€æ¬¡è¾ƒé‡ï¼Œå°æ—¶å€™çš„éƒ½æœ‰ä¸ªäººé¢†åœ°ï¼Œå¦‚ä½•åŒºåˆ†ä¸ªäººé¢†åœ°å‘¢ï¼Œä¹Ÿå°±æ˜¯ä¿©ä¸ªæ¡Œå­æ‹¼æ¥åœ¨ä¸€èµ·ä¸­é—´çš„é‚£ä¸ªé—´éš”ç§°ä¹‹ä¸ºâ€œä¸‰å…«çº¿â€ï¼Œç›´åˆ°ä»Šå¤©ä¹Ÿæƒ³ä¸æ˜ç™½ï¼›é‚£æ¬¡è¾ƒé‡åˆ°åº•æ˜¯è°èµ¢ï¼›\n\nå¯¹äºå°å­¦ç”Ÿçš„æˆ‘å½“æ—¶çš„ææ¶æ–¹å¼å°±æ˜¯ï¼šä½ åœ¨æˆ‘çš„é¢†åœ°æŒªåŠ¨ä¸€ç‚¹æˆ‘åœ¨ä½ çš„é¢†åœ°æŒªåŠ¨ä¸€ç‚¹ï¼›æŠŠäººå®¶æƒ¹ç”Ÿæ°”äº†ï¼Œå¥½äº†ç›´æ¥åœ¨ä½ çš„èƒ³è†Šä¸Šæä½ ä¸€ä¸‹ï¼Œé‚£æ—¶å€™æ˜¯çœŸç–¼ï¼Œå¯¹äºæ²¡æ€ä¹ˆå—è¿‡ä¼¤çš„æˆ‘å½“æ—¶å°±å—ä¸äº†äº†ï¼Œå¦‚æœå½“æ—¶æœ‰æ¬ç –æˆ‘éƒ½èƒ½è§‰å¾—å°†å®ƒä¸€åˆ†ä¸ºäºŒäº†ï¼›\n\nä¿—è¯è¯´â€œä¸æ‰“ä¸ç›¸è¯†â€ï¼Œæ…¢æ…¢æˆ‘ä»¬å°±ç†Ÿæ‚‰äº†å½¼æ­¤ï¼Œå½“æ—¶å’±ä¹Ÿä¸çŸ¥é“é‚£æ˜¯ä»€ä¹ˆæ„Ÿè§‰ï¼Œå°±æ˜¯è¯´é‚£ä¸ªäººå¥½æœ‰æ„æ€ï¼Œä¹Ÿè®¸å’Œå¥¹ç©æœ‰ä¸ä¸€æ ·çš„æ„Ÿè§‰ï¼›å°±åƒè¿‡å®¶å®¶ä¼¼çš„ï¼›\n\næ—¶é—´é•¿äº†ï¼Œå¯¹å¥¹çš„æ„Ÿè§‰å°±ä¸ä¸€æ ·äº†ï¼Œé‚£ç§æ„Ÿè§‰ä¹Ÿå°±æ˜¯ç°åœ¨å¤§äººä»¬è¯´çš„â€œæ—©æ‹â€ï¼›\n\næˆ‘ä¹Ÿåœ¨æƒ³ä¸ºä»€ä¹ˆå½“æ˜¯å°±â€œæ—©æ‹å‘¢â€ï¼Œ æˆ‘å®‰æ…°ç€è‡ªå·±ï¼šå’±ä¹Ÿä¸æ˜¯ä»€ä¹ˆå¥½äººï¼Œä¹Ÿä¸æ˜¯è€å¸ˆå£ä¸­è¯´çš„ä¼˜ç§€ç”Ÿï¼Œåªä¸è¿‡è¿™æ ·çš„å®‰æ…°æ˜¯è‡ªæ¬ºæ¬ºäººè€Œå·²ï¼›\n\næ¯æ¬¡ä¸Šè¯¾å°±æƒ³ä¸‹è¯¾ï¼Œå½“æ—¶æ•™å®¤åé¢æŒ‚ç€é’Ÿè¡¨ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¦ç»å¸¸å°±è¿‡å»çœ‹æ—¶é—´ï¼Œä½ è§‰å¾—æˆ‘æ˜¯å†çœ‹æ—¶é—´å—ï¼Œä¸æ˜¯å› ä¸ºå¥¹å†åé¢ï¼Œè¿™æ ·æˆ‘å°±èƒ½å·å·ç„ä¸€çœ¼ï¼›\n\nåˆäºŒå®¶é‡Œå‘ç”Ÿäº†ç‰¹æ®Šæƒ…å†µï¼ˆä¸æ–¹ä¾¿è¯´ï¼‰ï¼Œå½“è¯·äº†ä¸€å‘¨å‡æœŸçš„æˆ‘å›åˆ°æ•™å®¤æ„Ÿè§‰å¥½é™Œç”Ÿå•Šï¼Œæ„Ÿè§‰å‘¨å›´äººæ²¡æœ‰é‚£ä¹ˆç†Ÿæ‚‰äº†ï¼Œæˆ‘è®°å¾—å½“æ—¶å¥½åƒæ˜¯éŸ³ä¹è¯¾ï¼Œå› ä¸ºæˆ‘çš„çŠ¶æ€ä¸å¯¹ï¼Œåœ¨å¥¹çœ¼é‡Œå°±æ ¼å¤–æ˜¾çœ¼ï¼Œå› ä¸ºè¯·å‡å¥¹çŸ¥é“äº†æ¥é¾™å»è„‰ï¼Œä¹Ÿæ²¡è¯´ä»€ä¹ˆï¼Œé‚£æ®µæ—¶é—´å°±é»˜é»˜åœ¨æˆ‘èº«è¾¹ï¼›\n\nçªç„¶æƒ³èµ·æ¥ï¼Œå¥¹å†™çš„å­—å¥½çœ‹ï¼Œä¼šç»å¸¸åœ¨æˆ‘çš„è¯­æ–‡ä¹¦ä¸Šå†™ï¼Œé‚£æ—¶æˆ‘åˆçŸ¥é“äº†ä¸€ä¸ªä¸ªå´­æ–°çš„è¯â€œå¡å“‡ä¼Šâ€ï¼Œ å½“æ—¶å’±ä¹Ÿä¸çŸ¥é“æ˜¯å•¥æ„æ€ï¼Œåªæ˜¯çœ‹åˆ°ä¹¦ä¸Šæ€»æ˜¯æœ‰ç±»ä¼¼è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¥ä¸ºæ˜¯å¥¹å†™çš„ï¼Œå½“æ—¶é—®å¥¹å¥¹è¯´æ²¡æœ‰ï¼›åæ¥å°±ä¸äº†äº†ä¹‹äº†ï¼›\n\nå½“æ—¶æœ€ç–¯ç‹‚çš„ä¸¾åŠ¨å°±æ˜¯ï¼Œé›¨ä¸­æ·‹è¿‡é›¨ï¼Œéª‘ç€æ‘©æ‰˜é£é©°ç”µæ£ï¼Œååœ¨è‚©å¤´ä¸¾èµ·ï¼Œå½“æ—¶å¹¶ä¸åœ¨æ„åˆ«äººçš„çœ¼å…‰ï¼Œä¹Ÿä¸çŸ¥é“å½“æ—¶è‡ªå·±æ˜¯ä»€ä¹ˆæ„Ÿè§‰ï¼›è°è¿˜æ²¡æœ‰è¿‡é’æ˜¥å‘¢ï¼Œ\n\nç›´åˆ°ç°åœ¨æƒ³èµ·æ¥ï¼Œæˆ‘ä¹Ÿå¯ä»¥å¯¹ç€ä»–äººè®²ï¼Œæˆ‘çš„é’æ˜¥æ²¡æœ‰é‚£ä¹ˆå¤šï¼Œåªæ˜¯å¥¹ç»™æˆ‘ç•™äº†è¿™ä¹ˆå¤§çš„å°è®°ï¼›\n\nçŸ­çŸ­æ—¶é—´å°±è¦ä¸­è€ƒäº†ï¼Œä¹Ÿä¸çŸ¥é“ä¹‹åæ˜¯ä»€ä¹ˆï¼Œä¹Ÿè®¸éƒ½åœ¨æƒ³ç€èƒ½åšæŒä¸‹å»ï¼›\n\nå¯æƒœäº†ï¼Œä¹‹åçš„è·¯ï¼Œå¹¶ä¸æ˜¯ä½ æˆ‘æƒ³çš„é‚£ä¹ˆç®€å•ï¼Œ maybe...\n","source":"_posts/ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/ä¸å¥¹åˆè¯†.md","raw":"---\ntitle: ä¸´ç»ˆå‰çš„å›æº¯-ç¬¬ä¸‰ç« ï¼šä¸å¥¹åˆè¯†\nabbrlink: b342ee93\ndate: 2023-10-08 09:05:01\ncategories:\n  - ç”Ÿæ´»æ—¥å¿—\ntags:\n  - å°è¯´\n---\nå‡å­¦äº†ï¼Œä»Šå¤©çš„æˆ‘å°±æ˜¯åˆä¸­ç”Ÿäº†ï¼\n\nå‡å­¦çš„ç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯åˆ†ç­ï¼Œå½“ç„¶è¿™é‡Œçš„åˆ†ç­å°±æ˜¯å­¦æ ¡æ ¹æ®ä¸€å®šçš„è§„åˆ™å»æ‰“ä¹±æ’åºçš„ï¼Œå…·ä½“æ˜¯ä»€ä¹ˆæ ·å­çš„æˆ‘ä¹Ÿä¸æ¸…æ¥šï¼›\n\nç¬¬ä¸€æ¬¡è§åˆ°è¿™ä¹ˆå¤šäººï¼Œäººç”Ÿåœ°ä¸ç†Ÿçš„ï¼Œè¿˜æœ‰ç‚¹å°èƒ†æ€¯ï¼›å› ä¸ºçœ‹çš„ä¸€äº›é¦™æ¸¯ç”µè§†è®©æˆ‘è§‰å¾—ä¸èƒ½åš£å¼ ï¼Œå®‰å®‰é™é™åœ°åšä¸€åç¾ç”·å­å°±å¥½ï¼›\n\nå¥½äº†ï¼Œåˆ°äº†ç­çº§è§åˆ°å¾ˆå¤šäººï¼Œæ®Šä¸çŸ¥æˆ‘ä¸å¥¹çš„ç¼˜åˆ†å°±æ­¤å±•å¼€ï¼š\n\næˆ‘ä¸‡ä¸‡ä¹Ÿæ²¡æƒ³åˆ°ä½•å¾·ä½•èƒ½æˆ‘ç«Ÿç„¶èƒ½åšç¬¬äºŒæ’ï¼Œåœ¨æˆ‘å°è±¡ä¸­ï¼Œå‰å‡ æ’éƒ½æ˜¯ä¼˜ç§€å­¦ç”Ÿï¼›é‚£æ—¶çš„åŒæ¡Œå°±æ˜¯å¥¹ï¼Œä¹Ÿè®¸è¿™å°±æ˜¯ç¼˜åˆ†å§ï¼›\n\nç†Ÿæ‚‰ä¹‹ååŒæ¡Œä¹‹é—´çš„ç¬¬ä¸€æ¬¡è¾ƒé‡ï¼Œå°æ—¶å€™çš„éƒ½æœ‰ä¸ªäººé¢†åœ°ï¼Œå¦‚ä½•åŒºåˆ†ä¸ªäººé¢†åœ°å‘¢ï¼Œä¹Ÿå°±æ˜¯ä¿©ä¸ªæ¡Œå­æ‹¼æ¥åœ¨ä¸€èµ·ä¸­é—´çš„é‚£ä¸ªé—´éš”ç§°ä¹‹ä¸ºâ€œä¸‰å…«çº¿â€ï¼Œç›´åˆ°ä»Šå¤©ä¹Ÿæƒ³ä¸æ˜ç™½ï¼›é‚£æ¬¡è¾ƒé‡åˆ°åº•æ˜¯è°èµ¢ï¼›\n\nå¯¹äºå°å­¦ç”Ÿçš„æˆ‘å½“æ—¶çš„ææ¶æ–¹å¼å°±æ˜¯ï¼šä½ åœ¨æˆ‘çš„é¢†åœ°æŒªåŠ¨ä¸€ç‚¹æˆ‘åœ¨ä½ çš„é¢†åœ°æŒªåŠ¨ä¸€ç‚¹ï¼›æŠŠäººå®¶æƒ¹ç”Ÿæ°”äº†ï¼Œå¥½äº†ç›´æ¥åœ¨ä½ çš„èƒ³è†Šä¸Šæä½ ä¸€ä¸‹ï¼Œé‚£æ—¶å€™æ˜¯çœŸç–¼ï¼Œå¯¹äºæ²¡æ€ä¹ˆå—è¿‡ä¼¤çš„æˆ‘å½“æ—¶å°±å—ä¸äº†äº†ï¼Œå¦‚æœå½“æ—¶æœ‰æ¬ç –æˆ‘éƒ½èƒ½è§‰å¾—å°†å®ƒä¸€åˆ†ä¸ºäºŒäº†ï¼›\n\nä¿—è¯è¯´â€œä¸æ‰“ä¸ç›¸è¯†â€ï¼Œæ…¢æ…¢æˆ‘ä»¬å°±ç†Ÿæ‚‰äº†å½¼æ­¤ï¼Œå½“æ—¶å’±ä¹Ÿä¸çŸ¥é“é‚£æ˜¯ä»€ä¹ˆæ„Ÿè§‰ï¼Œå°±æ˜¯è¯´é‚£ä¸ªäººå¥½æœ‰æ„æ€ï¼Œä¹Ÿè®¸å’Œå¥¹ç©æœ‰ä¸ä¸€æ ·çš„æ„Ÿè§‰ï¼›å°±åƒè¿‡å®¶å®¶ä¼¼çš„ï¼›\n\næ—¶é—´é•¿äº†ï¼Œå¯¹å¥¹çš„æ„Ÿè§‰å°±ä¸ä¸€æ ·äº†ï¼Œé‚£ç§æ„Ÿè§‰ä¹Ÿå°±æ˜¯ç°åœ¨å¤§äººä»¬è¯´çš„â€œæ—©æ‹â€ï¼›\n\næˆ‘ä¹Ÿåœ¨æƒ³ä¸ºä»€ä¹ˆå½“æ˜¯å°±â€œæ—©æ‹å‘¢â€ï¼Œ æˆ‘å®‰æ…°ç€è‡ªå·±ï¼šå’±ä¹Ÿä¸æ˜¯ä»€ä¹ˆå¥½äººï¼Œä¹Ÿä¸æ˜¯è€å¸ˆå£ä¸­è¯´çš„ä¼˜ç§€ç”Ÿï¼Œåªä¸è¿‡è¿™æ ·çš„å®‰æ…°æ˜¯è‡ªæ¬ºæ¬ºäººè€Œå·²ï¼›\n\næ¯æ¬¡ä¸Šè¯¾å°±æƒ³ä¸‹è¯¾ï¼Œå½“æ—¶æ•™å®¤åé¢æŒ‚ç€é’Ÿè¡¨ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¦ç»å¸¸å°±è¿‡å»çœ‹æ—¶é—´ï¼Œä½ è§‰å¾—æˆ‘æ˜¯å†çœ‹æ—¶é—´å—ï¼Œä¸æ˜¯å› ä¸ºå¥¹å†åé¢ï¼Œè¿™æ ·æˆ‘å°±èƒ½å·å·ç„ä¸€çœ¼ï¼›\n\nåˆäºŒå®¶é‡Œå‘ç”Ÿäº†ç‰¹æ®Šæƒ…å†µï¼ˆä¸æ–¹ä¾¿è¯´ï¼‰ï¼Œå½“è¯·äº†ä¸€å‘¨å‡æœŸçš„æˆ‘å›åˆ°æ•™å®¤æ„Ÿè§‰å¥½é™Œç”Ÿå•Šï¼Œæ„Ÿè§‰å‘¨å›´äººæ²¡æœ‰é‚£ä¹ˆç†Ÿæ‚‰äº†ï¼Œæˆ‘è®°å¾—å½“æ—¶å¥½åƒæ˜¯éŸ³ä¹è¯¾ï¼Œå› ä¸ºæˆ‘çš„çŠ¶æ€ä¸å¯¹ï¼Œåœ¨å¥¹çœ¼é‡Œå°±æ ¼å¤–æ˜¾çœ¼ï¼Œå› ä¸ºè¯·å‡å¥¹çŸ¥é“äº†æ¥é¾™å»è„‰ï¼Œä¹Ÿæ²¡è¯´ä»€ä¹ˆï¼Œé‚£æ®µæ—¶é—´å°±é»˜é»˜åœ¨æˆ‘èº«è¾¹ï¼›\n\nçªç„¶æƒ³èµ·æ¥ï¼Œå¥¹å†™çš„å­—å¥½çœ‹ï¼Œä¼šç»å¸¸åœ¨æˆ‘çš„è¯­æ–‡ä¹¦ä¸Šå†™ï¼Œé‚£æ—¶æˆ‘åˆçŸ¥é“äº†ä¸€ä¸ªä¸ªå´­æ–°çš„è¯â€œå¡å“‡ä¼Šâ€ï¼Œ å½“æ—¶å’±ä¹Ÿä¸çŸ¥é“æ˜¯å•¥æ„æ€ï¼Œåªæ˜¯çœ‹åˆ°ä¹¦ä¸Šæ€»æ˜¯æœ‰ç±»ä¼¼è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¥ä¸ºæ˜¯å¥¹å†™çš„ï¼Œå½“æ—¶é—®å¥¹å¥¹è¯´æ²¡æœ‰ï¼›åæ¥å°±ä¸äº†äº†ä¹‹äº†ï¼›\n\nå½“æ—¶æœ€ç–¯ç‹‚çš„ä¸¾åŠ¨å°±æ˜¯ï¼Œé›¨ä¸­æ·‹è¿‡é›¨ï¼Œéª‘ç€æ‘©æ‰˜é£é©°ç”µæ£ï¼Œååœ¨è‚©å¤´ä¸¾èµ·ï¼Œå½“æ—¶å¹¶ä¸åœ¨æ„åˆ«äººçš„çœ¼å…‰ï¼Œä¹Ÿä¸çŸ¥é“å½“æ—¶è‡ªå·±æ˜¯ä»€ä¹ˆæ„Ÿè§‰ï¼›è°è¿˜æ²¡æœ‰è¿‡é’æ˜¥å‘¢ï¼Œ\n\nç›´åˆ°ç°åœ¨æƒ³èµ·æ¥ï¼Œæˆ‘ä¹Ÿå¯ä»¥å¯¹ç€ä»–äººè®²ï¼Œæˆ‘çš„é’æ˜¥æ²¡æœ‰é‚£ä¹ˆå¤šï¼Œåªæ˜¯å¥¹ç»™æˆ‘ç•™äº†è¿™ä¹ˆå¤§çš„å°è®°ï¼›\n\nçŸ­çŸ­æ—¶é—´å°±è¦ä¸­è€ƒäº†ï¼Œä¹Ÿä¸çŸ¥é“ä¹‹åæ˜¯ä»€ä¹ˆï¼Œä¹Ÿè®¸éƒ½åœ¨æƒ³ç€èƒ½åšæŒä¸‹å»ï¼›\n\nå¯æƒœäº†ï¼Œä¹‹åçš„è·¯ï¼Œå¹¶ä¸æ˜¯ä½ æˆ‘æƒ³çš„é‚£ä¹ˆç®€å•ï¼Œ maybe...\n","slug":"ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/ä¸å¥¹åˆè¯†","published":1,"updated":"2025-03-12T10:11:35.425Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0jb0089fg9m7i9q9h1t","content":"<p>å‡å­¦äº†ï¼Œä»Šå¤©çš„æˆ‘å°±æ˜¯åˆä¸­ç”Ÿäº†ï¼</p>\n<p>å‡å­¦çš„ç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯åˆ†ç­ï¼Œå½“ç„¶è¿™é‡Œçš„åˆ†ç­å°±æ˜¯å­¦æ ¡æ ¹æ®ä¸€å®šçš„è§„åˆ™å»æ‰“ä¹±æ’åºçš„ï¼Œå…·ä½“æ˜¯ä»€ä¹ˆæ ·å­çš„æˆ‘ä¹Ÿä¸æ¸…æ¥šï¼›</p>\n<p>ç¬¬ä¸€æ¬¡è§åˆ°è¿™ä¹ˆå¤šäººï¼Œäººç”Ÿåœ°ä¸ç†Ÿçš„ï¼Œè¿˜æœ‰ç‚¹å°èƒ†æ€¯ï¼›å› ä¸ºçœ‹çš„ä¸€äº›é¦™æ¸¯ç”µè§†è®©æˆ‘è§‰å¾—ä¸èƒ½åš£å¼ ï¼Œå®‰å®‰é™é™åœ°åšä¸€åç¾ç”·å­å°±å¥½ï¼›</p>\n<p>å¥½äº†ï¼Œåˆ°äº†ç­çº§è§åˆ°å¾ˆå¤šäººï¼Œæ®Šä¸çŸ¥æˆ‘ä¸å¥¹çš„ç¼˜åˆ†å°±æ­¤å±•å¼€ï¼š</p>\n<p>æˆ‘ä¸‡ä¸‡ä¹Ÿæ²¡æƒ³åˆ°ä½•å¾·ä½•èƒ½æˆ‘ç«Ÿç„¶èƒ½åšç¬¬äºŒæ’ï¼Œåœ¨æˆ‘å°è±¡ä¸­ï¼Œå‰å‡ æ’éƒ½æ˜¯ä¼˜ç§€å­¦ç”Ÿï¼›é‚£æ—¶çš„åŒæ¡Œå°±æ˜¯å¥¹ï¼Œä¹Ÿè®¸è¿™å°±æ˜¯ç¼˜åˆ†å§ï¼›</p>\n<p>ç†Ÿæ‚‰ä¹‹ååŒæ¡Œä¹‹é—´çš„ç¬¬ä¸€æ¬¡è¾ƒé‡ï¼Œå°æ—¶å€™çš„éƒ½æœ‰ä¸ªäººé¢†åœ°ï¼Œå¦‚ä½•åŒºåˆ†ä¸ªäººé¢†åœ°å‘¢ï¼Œä¹Ÿå°±æ˜¯ä¿©ä¸ªæ¡Œå­æ‹¼æ¥åœ¨ä¸€èµ·ä¸­é—´çš„é‚£ä¸ªé—´éš”ç§°ä¹‹ä¸ºâ€œä¸‰å…«çº¿â€ï¼Œç›´åˆ°ä»Šå¤©ä¹Ÿæƒ³ä¸æ˜ç™½ï¼›é‚£æ¬¡è¾ƒé‡åˆ°åº•æ˜¯è°èµ¢ï¼›</p>\n<p>å¯¹äºå°å­¦ç”Ÿçš„æˆ‘å½“æ—¶çš„ææ¶æ–¹å¼å°±æ˜¯ï¼šä½ åœ¨æˆ‘çš„é¢†åœ°æŒªåŠ¨ä¸€ç‚¹æˆ‘åœ¨ä½ çš„é¢†åœ°æŒªåŠ¨ä¸€ç‚¹ï¼›æŠŠäººå®¶æƒ¹ç”Ÿæ°”äº†ï¼Œå¥½äº†ç›´æ¥åœ¨ä½ çš„èƒ³è†Šä¸Šæä½ ä¸€ä¸‹ï¼Œé‚£æ—¶å€™æ˜¯çœŸç–¼ï¼Œå¯¹äºæ²¡æ€ä¹ˆå—è¿‡ä¼¤çš„æˆ‘å½“æ—¶å°±å—ä¸äº†äº†ï¼Œå¦‚æœå½“æ—¶æœ‰æ¬ç –æˆ‘éƒ½èƒ½è§‰å¾—å°†å®ƒä¸€åˆ†ä¸ºäºŒäº†ï¼›</p>\n<p>ä¿—è¯è¯´â€œä¸æ‰“ä¸ç›¸è¯†â€ï¼Œæ…¢æ…¢æˆ‘ä»¬å°±ç†Ÿæ‚‰äº†å½¼æ­¤ï¼Œå½“æ—¶å’±ä¹Ÿä¸çŸ¥é“é‚£æ˜¯ä»€ä¹ˆæ„Ÿè§‰ï¼Œå°±æ˜¯è¯´é‚£ä¸ªäººå¥½æœ‰æ„æ€ï¼Œä¹Ÿè®¸å’Œå¥¹ç©æœ‰ä¸ä¸€æ ·çš„æ„Ÿè§‰ï¼›å°±åƒè¿‡å®¶å®¶ä¼¼çš„ï¼›</p>\n<p>æ—¶é—´é•¿äº†ï¼Œå¯¹å¥¹çš„æ„Ÿè§‰å°±ä¸ä¸€æ ·äº†ï¼Œé‚£ç§æ„Ÿè§‰ä¹Ÿå°±æ˜¯ç°åœ¨å¤§äººä»¬è¯´çš„â€œæ—©æ‹â€ï¼›</p>\n<p>æˆ‘ä¹Ÿåœ¨æƒ³ä¸ºä»€ä¹ˆå½“æ˜¯å°±â€œæ—©æ‹å‘¢â€ï¼Œ æˆ‘å®‰æ…°ç€è‡ªå·±ï¼šå’±ä¹Ÿä¸æ˜¯ä»€ä¹ˆå¥½äººï¼Œä¹Ÿä¸æ˜¯è€å¸ˆå£ä¸­è¯´çš„ä¼˜ç§€ç”Ÿï¼Œåªä¸è¿‡è¿™æ ·çš„å®‰æ…°æ˜¯è‡ªæ¬ºæ¬ºäººè€Œå·²ï¼›</p>\n<p>æ¯æ¬¡ä¸Šè¯¾å°±æƒ³ä¸‹è¯¾ï¼Œå½“æ—¶æ•™å®¤åé¢æŒ‚ç€é’Ÿè¡¨ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¦ç»å¸¸å°±è¿‡å»çœ‹æ—¶é—´ï¼Œä½ è§‰å¾—æˆ‘æ˜¯å†çœ‹æ—¶é—´å—ï¼Œä¸æ˜¯å› ä¸ºå¥¹å†åé¢ï¼Œè¿™æ ·æˆ‘å°±èƒ½å·å·ç„ä¸€çœ¼ï¼›</p>\n<p>åˆäºŒå®¶é‡Œå‘ç”Ÿäº†ç‰¹æ®Šæƒ…å†µï¼ˆä¸æ–¹ä¾¿è¯´ï¼‰ï¼Œå½“è¯·äº†ä¸€å‘¨å‡æœŸçš„æˆ‘å›åˆ°æ•™å®¤æ„Ÿè§‰å¥½é™Œç”Ÿå•Šï¼Œæ„Ÿè§‰å‘¨å›´äººæ²¡æœ‰é‚£ä¹ˆç†Ÿæ‚‰äº†ï¼Œæˆ‘è®°å¾—å½“æ—¶å¥½åƒæ˜¯éŸ³ä¹è¯¾ï¼Œå› ä¸ºæˆ‘çš„çŠ¶æ€ä¸å¯¹ï¼Œåœ¨å¥¹çœ¼é‡Œå°±æ ¼å¤–æ˜¾çœ¼ï¼Œå› ä¸ºè¯·å‡å¥¹çŸ¥é“äº†æ¥é¾™å»è„‰ï¼Œä¹Ÿæ²¡è¯´ä»€ä¹ˆï¼Œé‚£æ®µæ—¶é—´å°±é»˜é»˜åœ¨æˆ‘èº«è¾¹ï¼›</p>\n<p>çªç„¶æƒ³èµ·æ¥ï¼Œå¥¹å†™çš„å­—å¥½çœ‹ï¼Œä¼šç»å¸¸åœ¨æˆ‘çš„è¯­æ–‡ä¹¦ä¸Šå†™ï¼Œé‚£æ—¶æˆ‘åˆçŸ¥é“äº†ä¸€ä¸ªä¸ªå´­æ–°çš„è¯â€œå¡å“‡ä¼Šâ€ï¼Œ å½“æ—¶å’±ä¹Ÿä¸çŸ¥é“æ˜¯å•¥æ„æ€ï¼Œåªæ˜¯çœ‹åˆ°ä¹¦ä¸Šæ€»æ˜¯æœ‰ç±»ä¼¼è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¥ä¸ºæ˜¯å¥¹å†™çš„ï¼Œå½“æ—¶é—®å¥¹å¥¹è¯´æ²¡æœ‰ï¼›åæ¥å°±ä¸äº†äº†ä¹‹äº†ï¼›</p>\n<p>å½“æ—¶æœ€ç–¯ç‹‚çš„ä¸¾åŠ¨å°±æ˜¯ï¼Œé›¨ä¸­æ·‹è¿‡é›¨ï¼Œéª‘ç€æ‘©æ‰˜é£é©°ç”µæ£ï¼Œååœ¨è‚©å¤´ä¸¾èµ·ï¼Œå½“æ—¶å¹¶ä¸åœ¨æ„åˆ«äººçš„çœ¼å…‰ï¼Œä¹Ÿä¸çŸ¥é“å½“æ—¶è‡ªå·±æ˜¯ä»€ä¹ˆæ„Ÿè§‰ï¼›è°è¿˜æ²¡æœ‰è¿‡é’æ˜¥å‘¢ï¼Œ</p>\n<p>ç›´åˆ°ç°åœ¨æƒ³èµ·æ¥ï¼Œæˆ‘ä¹Ÿå¯ä»¥å¯¹ç€ä»–äººè®²ï¼Œæˆ‘çš„é’æ˜¥æ²¡æœ‰é‚£ä¹ˆå¤šï¼Œåªæ˜¯å¥¹ç»™æˆ‘ç•™äº†è¿™ä¹ˆå¤§çš„å°è®°ï¼›</p>\n<p>çŸ­çŸ­æ—¶é—´å°±è¦ä¸­è€ƒäº†ï¼Œä¹Ÿä¸çŸ¥é“ä¹‹åæ˜¯ä»€ä¹ˆï¼Œä¹Ÿè®¸éƒ½åœ¨æƒ³ç€èƒ½åšæŒä¸‹å»ï¼›</p>\n<p>å¯æƒœäº†ï¼Œä¹‹åçš„è·¯ï¼Œå¹¶ä¸æ˜¯ä½ æˆ‘æƒ³çš„é‚£ä¹ˆç®€å•ï¼Œ maybeâ€¦</p>\n","excerpt":"","more":"<p>å‡å­¦äº†ï¼Œä»Šå¤©çš„æˆ‘å°±æ˜¯åˆä¸­ç”Ÿäº†ï¼</p>\n<p>å‡å­¦çš„ç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯åˆ†ç­ï¼Œå½“ç„¶è¿™é‡Œçš„åˆ†ç­å°±æ˜¯å­¦æ ¡æ ¹æ®ä¸€å®šçš„è§„åˆ™å»æ‰“ä¹±æ’åºçš„ï¼Œå…·ä½“æ˜¯ä»€ä¹ˆæ ·å­çš„æˆ‘ä¹Ÿä¸æ¸…æ¥šï¼›</p>\n<p>ç¬¬ä¸€æ¬¡è§åˆ°è¿™ä¹ˆå¤šäººï¼Œäººç”Ÿåœ°ä¸ç†Ÿçš„ï¼Œè¿˜æœ‰ç‚¹å°èƒ†æ€¯ï¼›å› ä¸ºçœ‹çš„ä¸€äº›é¦™æ¸¯ç”µè§†è®©æˆ‘è§‰å¾—ä¸èƒ½åš£å¼ ï¼Œå®‰å®‰é™é™åœ°åšä¸€åç¾ç”·å­å°±å¥½ï¼›</p>\n<p>å¥½äº†ï¼Œåˆ°äº†ç­çº§è§åˆ°å¾ˆå¤šäººï¼Œæ®Šä¸çŸ¥æˆ‘ä¸å¥¹çš„ç¼˜åˆ†å°±æ­¤å±•å¼€ï¼š</p>\n<p>æˆ‘ä¸‡ä¸‡ä¹Ÿæ²¡æƒ³åˆ°ä½•å¾·ä½•èƒ½æˆ‘ç«Ÿç„¶èƒ½åšç¬¬äºŒæ’ï¼Œåœ¨æˆ‘å°è±¡ä¸­ï¼Œå‰å‡ æ’éƒ½æ˜¯ä¼˜ç§€å­¦ç”Ÿï¼›é‚£æ—¶çš„åŒæ¡Œå°±æ˜¯å¥¹ï¼Œä¹Ÿè®¸è¿™å°±æ˜¯ç¼˜åˆ†å§ï¼›</p>\n<p>ç†Ÿæ‚‰ä¹‹ååŒæ¡Œä¹‹é—´çš„ç¬¬ä¸€æ¬¡è¾ƒé‡ï¼Œå°æ—¶å€™çš„éƒ½æœ‰ä¸ªäººé¢†åœ°ï¼Œå¦‚ä½•åŒºåˆ†ä¸ªäººé¢†åœ°å‘¢ï¼Œä¹Ÿå°±æ˜¯ä¿©ä¸ªæ¡Œå­æ‹¼æ¥åœ¨ä¸€èµ·ä¸­é—´çš„é‚£ä¸ªé—´éš”ç§°ä¹‹ä¸ºâ€œä¸‰å…«çº¿â€ï¼Œç›´åˆ°ä»Šå¤©ä¹Ÿæƒ³ä¸æ˜ç™½ï¼›é‚£æ¬¡è¾ƒé‡åˆ°åº•æ˜¯è°èµ¢ï¼›</p>\n<p>å¯¹äºå°å­¦ç”Ÿçš„æˆ‘å½“æ—¶çš„ææ¶æ–¹å¼å°±æ˜¯ï¼šä½ åœ¨æˆ‘çš„é¢†åœ°æŒªåŠ¨ä¸€ç‚¹æˆ‘åœ¨ä½ çš„é¢†åœ°æŒªåŠ¨ä¸€ç‚¹ï¼›æŠŠäººå®¶æƒ¹ç”Ÿæ°”äº†ï¼Œå¥½äº†ç›´æ¥åœ¨ä½ çš„èƒ³è†Šä¸Šæä½ ä¸€ä¸‹ï¼Œé‚£æ—¶å€™æ˜¯çœŸç–¼ï¼Œå¯¹äºæ²¡æ€ä¹ˆå—è¿‡ä¼¤çš„æˆ‘å½“æ—¶å°±å—ä¸äº†äº†ï¼Œå¦‚æœå½“æ—¶æœ‰æ¬ç –æˆ‘éƒ½èƒ½è§‰å¾—å°†å®ƒä¸€åˆ†ä¸ºäºŒäº†ï¼›</p>\n<p>ä¿—è¯è¯´â€œä¸æ‰“ä¸ç›¸è¯†â€ï¼Œæ…¢æ…¢æˆ‘ä»¬å°±ç†Ÿæ‚‰äº†å½¼æ­¤ï¼Œå½“æ—¶å’±ä¹Ÿä¸çŸ¥é“é‚£æ˜¯ä»€ä¹ˆæ„Ÿè§‰ï¼Œå°±æ˜¯è¯´é‚£ä¸ªäººå¥½æœ‰æ„æ€ï¼Œä¹Ÿè®¸å’Œå¥¹ç©æœ‰ä¸ä¸€æ ·çš„æ„Ÿè§‰ï¼›å°±åƒè¿‡å®¶å®¶ä¼¼çš„ï¼›</p>\n<p>æ—¶é—´é•¿äº†ï¼Œå¯¹å¥¹çš„æ„Ÿè§‰å°±ä¸ä¸€æ ·äº†ï¼Œé‚£ç§æ„Ÿè§‰ä¹Ÿå°±æ˜¯ç°åœ¨å¤§äººä»¬è¯´çš„â€œæ—©æ‹â€ï¼›</p>\n<p>æˆ‘ä¹Ÿåœ¨æƒ³ä¸ºä»€ä¹ˆå½“æ˜¯å°±â€œæ—©æ‹å‘¢â€ï¼Œ æˆ‘å®‰æ…°ç€è‡ªå·±ï¼šå’±ä¹Ÿä¸æ˜¯ä»€ä¹ˆå¥½äººï¼Œä¹Ÿä¸æ˜¯è€å¸ˆå£ä¸­è¯´çš„ä¼˜ç§€ç”Ÿï¼Œåªä¸è¿‡è¿™æ ·çš„å®‰æ…°æ˜¯è‡ªæ¬ºæ¬ºäººè€Œå·²ï¼›</p>\n<p>æ¯æ¬¡ä¸Šè¯¾å°±æƒ³ä¸‹è¯¾ï¼Œå½“æ—¶æ•™å®¤åé¢æŒ‚ç€é’Ÿè¡¨ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¦ç»å¸¸å°±è¿‡å»çœ‹æ—¶é—´ï¼Œä½ è§‰å¾—æˆ‘æ˜¯å†çœ‹æ—¶é—´å—ï¼Œä¸æ˜¯å› ä¸ºå¥¹å†åé¢ï¼Œè¿™æ ·æˆ‘å°±èƒ½å·å·ç„ä¸€çœ¼ï¼›</p>\n<p>åˆäºŒå®¶é‡Œå‘ç”Ÿäº†ç‰¹æ®Šæƒ…å†µï¼ˆä¸æ–¹ä¾¿è¯´ï¼‰ï¼Œå½“è¯·äº†ä¸€å‘¨å‡æœŸçš„æˆ‘å›åˆ°æ•™å®¤æ„Ÿè§‰å¥½é™Œç”Ÿå•Šï¼Œæ„Ÿè§‰å‘¨å›´äººæ²¡æœ‰é‚£ä¹ˆç†Ÿæ‚‰äº†ï¼Œæˆ‘è®°å¾—å½“æ—¶å¥½åƒæ˜¯éŸ³ä¹è¯¾ï¼Œå› ä¸ºæˆ‘çš„çŠ¶æ€ä¸å¯¹ï¼Œåœ¨å¥¹çœ¼é‡Œå°±æ ¼å¤–æ˜¾çœ¼ï¼Œå› ä¸ºè¯·å‡å¥¹çŸ¥é“äº†æ¥é¾™å»è„‰ï¼Œä¹Ÿæ²¡è¯´ä»€ä¹ˆï¼Œé‚£æ®µæ—¶é—´å°±é»˜é»˜åœ¨æˆ‘èº«è¾¹ï¼›</p>\n<p>çªç„¶æƒ³èµ·æ¥ï¼Œå¥¹å†™çš„å­—å¥½çœ‹ï¼Œä¼šç»å¸¸åœ¨æˆ‘çš„è¯­æ–‡ä¹¦ä¸Šå†™ï¼Œé‚£æ—¶æˆ‘åˆçŸ¥é“äº†ä¸€ä¸ªä¸ªå´­æ–°çš„è¯â€œå¡å“‡ä¼Šâ€ï¼Œ å½“æ—¶å’±ä¹Ÿä¸çŸ¥é“æ˜¯å•¥æ„æ€ï¼Œåªæ˜¯çœ‹åˆ°ä¹¦ä¸Šæ€»æ˜¯æœ‰ç±»ä¼¼è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¥ä¸ºæ˜¯å¥¹å†™çš„ï¼Œå½“æ—¶é—®å¥¹å¥¹è¯´æ²¡æœ‰ï¼›åæ¥å°±ä¸äº†äº†ä¹‹äº†ï¼›</p>\n<p>å½“æ—¶æœ€ç–¯ç‹‚çš„ä¸¾åŠ¨å°±æ˜¯ï¼Œé›¨ä¸­æ·‹è¿‡é›¨ï¼Œéª‘ç€æ‘©æ‰˜é£é©°ç”µæ£ï¼Œååœ¨è‚©å¤´ä¸¾èµ·ï¼Œå½“æ—¶å¹¶ä¸åœ¨æ„åˆ«äººçš„çœ¼å…‰ï¼Œä¹Ÿä¸çŸ¥é“å½“æ—¶è‡ªå·±æ˜¯ä»€ä¹ˆæ„Ÿè§‰ï¼›è°è¿˜æ²¡æœ‰è¿‡é’æ˜¥å‘¢ï¼Œ</p>\n<p>ç›´åˆ°ç°åœ¨æƒ³èµ·æ¥ï¼Œæˆ‘ä¹Ÿå¯ä»¥å¯¹ç€ä»–äººè®²ï¼Œæˆ‘çš„é’æ˜¥æ²¡æœ‰é‚£ä¹ˆå¤šï¼Œåªæ˜¯å¥¹ç»™æˆ‘ç•™äº†è¿™ä¹ˆå¤§çš„å°è®°ï¼›</p>\n<p>çŸ­çŸ­æ—¶é—´å°±è¦ä¸­è€ƒäº†ï¼Œä¹Ÿä¸çŸ¥é“ä¹‹åæ˜¯ä»€ä¹ˆï¼Œä¹Ÿè®¸éƒ½åœ¨æƒ³ç€èƒ½åšæŒä¸‹å»ï¼›</p>\n<p>å¯æƒœäº†ï¼Œä¹‹åçš„è·¯ï¼Œå¹¶ä¸æ˜¯ä½ æˆ‘æƒ³çš„é‚£ä¹ˆç®€å•ï¼Œ maybeâ€¦</p>\n"},{"title":"ä¸´ç»ˆå‰çš„å›æº¯-ç¬¬å…­ç« ï¼šæˆ‘çš„èœ•å˜","abbrlink":"3f47066d","date":"2023-10-08T01:05:01.000Z","_content":"ç›¸æ¯”â€œé¢“åºŸâ€çš„äººç”Ÿï¼Œæˆ‘æ›´å–œæ¬¢â€œåƒåœ¾â€çš„äººç”Ÿã€‚\n\nä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè¯´å‘¢ï¼Œå¯¹æˆ‘è€Œè¨€ï¼Œâ€œé¢“åºŸâ€å¾€å¾€æ˜¯ä¸€ä¸ªäººä»ä¸å»åšè‡ªå·±çš„é€‰æ‹©ï¼Œè€Œâ€œåƒåœ¾â€åˆ™æ˜¯ä¸€ä¸ªäººåšè‡ªå·±é€‰æ‹©ï¼Œä½†æ˜¯æ²¡æœ‰å¾—åˆ°æƒ³è¦çš„ç»“æœï¼Œä½†æ•ˆæœå¾€å¾€æ˜¯æ¯”â€œé¢“åºŸâ€å¥½ã€‚å½“ç„¶ç”Ÿæ´»å°±å¾ˆå¹³å¸¸ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹è‰²ï¼›\n\nå½“ç„¶æ²¡æœ‰å¾—åˆ°æƒ³è¦çš„ç»“æœå°±æ”¾å¼ƒå¾€å¾€ä¸æ˜¯æˆ‘çš„ä½œé£ï¼›\n\nå¾€å¾€ä¸€ä¸ªäººçš„æ”¹å˜ä¹Ÿè®¸å°±åœ¨ä¸€ç¬é—´å§ï¼š\n\nè€äººå¸¸è¯´çš„ä¸€å¥è¯å°±æ˜¯ï¼šä½ åˆ«æ€•æœ‰äººç¦»å¼€ï¼Œä½ è¦çŸ¥é“çš„æ˜¯åˆ«äººåªæ˜¯ä½ äººç”Ÿçš„è¿‡å®¢ï¼›å½“ä½ é‡åˆ°çš„æ¯ä¸€ä¸ªäººéƒ½ä¼šä¸€ä¸ªäººç”Ÿé“ç†äº¤ç»™ä½ ï¼›\n\nåœ¨â€œå¥¹â€ç¦»å»çš„æ—¶å€™ï¼Œè·Ÿæˆ‘è¯´äº†ä¸€å¥â€œä¹Ÿè®¸ä½ è¯¥å­¦ä¼šé•¿å¤§äº†â€ï¼Œå½“æ—¶æˆ‘è¿˜æ²¡è¿™å¥è¯å­˜åœ¨ç€ä»€ä¹ˆæ„æ€ï¼Œç›´åˆ°ä¹‹åçš„ä¸€ä»¶äº‹è®©æˆ‘æ˜ç™½äº†è¿™å¥è¯çš„çœŸæ­£å«ä¹‰ï¼›\n\nå½“è€ w é¦–æ¬¡å» 4s åº—æè½¦å†åˆ°åˆä½œå•†è´´è†œçš„æ—¶å€™ï¼Œè¿™ä¸€è·¯ä¸Šçš„å¿ƒæƒ…å¯è°“æ˜¯å¾ˆç³Ÿç³•ï¼›ä»¥ä¸ºç€çš„æ˜¯ä¸€æ¬¡è¡Œä¼šåŠç†å¥½ï¼Œç»“æœè¿˜çš„ä¸ªäººå»æœ€åè¿˜æ˜¯éª‚éª‚å’§å’§çš„å»äº†ï¼›\n\nå› ä¸ºäººå¤šå°±æŠŠè½¦åœåœ¨äº†é—¨å£ï¼Œäºæ˜¯å°±åœ¨åº—é‡Œç­‰å¾…äº†ï¼Œæ²¡å¤šä¸€ä¼šå„¿æˆ‘å“¥å°±åˆ°äº†ï¼Œè¯´ä»€ä¹ˆæ—¶å€™æå¥½ï¼Œè¯´è¿˜çš„æ’é˜Ÿï¼Œè¿˜çš„ç­‰ä¸€ä¼šå„¿ï¼›ä¹Ÿè®¸æ˜¯å¤ªè¿‡äºè€å®äº†ï¼Œè€ w ç›´æ¥å»æ‰¾åº—é•¿è¯´å»äº†ï¼›\n\næ²¡å¤šä¸€ä¼šå„¿ï¼Œå°±è¯´å¥½äº†ï¼Œæ™šä¸Šä¸‹ç­å¸ˆå‚…åŠ ç­ä¼˜å…ˆå¼„å¥½ï¼›\n\nç›´åˆ°è¿™æ—¶å€™æˆ‘æ‰å‘ç°äº†é‚£å¥è¯åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€äº†ï¼›\n\n26 å²å¤§å°ä¼™å„¿ï¼Œä¸ä»–äººå­˜åœ¨çš„å·®å¼‚å¾ˆå¤§ï¼Œåˆ«äººçŸ¥é“çš„ä¸ºä»€ä¹ˆè‡ªå·±å´ä¸çŸ¥é“å‘¢ï¼Œä»…ä»…æ˜¯å› ä¸ºä½ ä¹‹å‰æ²¡ç¢°è§è¿‡å—ï¼Œæˆ‘è§‰å¾—è¿™ä¸èƒ½å½“ä½œä½ æ¨è„±çš„å€Ÿå£ï¼›\n\näºæ˜¯ç»™è‡ªå·±å®šä¸‹äº†ä¸€ä¸ªç›®æ ‡ï¼Œé‚£å°±æ˜¯æ”¹å˜è‡ªèº«çš„å¼±æ°”ï¼›è¿™ä¸ªå¹´çºªæ˜æ˜æ˜¯æœ€å‹‡æ•¢çš„å¹´çºªï¼Œå´æ´»æˆäº†è‡ªå·±ä¸å–œæ¬¢çš„æ ·å­ï¼›\n\nç›´åˆ°ç°åœ¨è¿‡å»äº†ä¸€å¹´åŠè½½ï¼Œä¸è‡ªå·±å®šåˆ¶çš„ä¿©å¹´è®¡åˆ’è¿˜æœ‰ä¸€ä¸ªå°é˜¶æ®µï¼Œä¹Ÿè®¸åœ¨ç¦»å»ä¹‹åï¼Œä»ä»–äººçœ¼ä¸­çœ‹åˆ°äº†å±äºè‡ªå·±çš„â€œå¤±æœ›â€ï¼Œâ€œåŒæƒ…â€ï¼›\n\nå¤Ÿäº†ï¼Œæœ¬æ¥ä¸æ˜¯è¿™æ ·çš„ï¼Œä¹Ÿè®¸æ¢¦è¯¥æ¸…é†’äº†ï¼›\n\nè¿˜æ˜¯è‡ªèº«çš„æ¥è§¦é¢ä¸å¤Ÿï¼Œçœ¼ç•Œä¸å¤Ÿï¼Œå¯¼è‡´è‡ªå·±çš„è¿™ä¸€èº«å¼±æ°”ï¼Œæ”¹å˜è‡ªå·±è¿˜æ˜¯å›å½’é‚£å¥è¯â€œä¹Ÿè®¸ä½ è¯¥å­¦ä¼šæˆé•¿äº†â€ï¼Œ\n\næ²¡æœ‰ä»€ä¹ˆç¾æ„§æ€§ï¼Œäººç”Ÿä¸éƒ½æ˜¯è¿™æ ·å­å—ï¼Œä¸æ˜ç™½çš„ï¼Œä¸æ‡‚çš„äººæ•™äººå¤šæ¬¡ä¸è¡Œï¼Œäº‹å„¿æ•™äººä¸€æ¬¡å°±ä¼šï¼›\n\n---\n\næ”¹å˜äº†ã€‚æˆé•¿äº†ã€‚\n\né¦–å…ˆä½ è¦æ¸…æ¥šè‡ªå·±æ˜¯åœ¨åšä»€ä¹ˆï¼Ÿ\n\næ‰€è°“çš„æ— ç”¨èšä¼šï¼Œç©è€å¯¹ç°é˜¶æ®µçš„ä½ çœŸçš„æœ‰ç”¨å—ï¼Ÿä»å§‹è‡³ç»ˆä½ éƒ½ä¸æ˜ç™½è‡ªå·±åˆ°åº•ç¼ºä»€ä¹ˆï¼Œæ˜¯åœ¨åšä»€ä¹ˆï¼Ÿ\n\nä¸è¦è®©å·¥ä½œå»å‹æ¦¨ä½ çš„ç”Ÿæ´»ï¼Œä½ çš„æ—¶é—´å¤§éƒ¨åˆ†æ˜¯ç•™ç»™ç”Ÿæ´»çš„ï¼Œè€Œä¸æ˜¯å·¥ä½œï¼Œå·¥ä½œä¸­èƒ½æ•™ä¼šä½ ä»€ä¹ˆï¼Ÿæ‰€è°“çš„èŒåœºè§„åˆ™å¯¹ä½ è€Œè¨€æœ‰ç”¨å—ï¼Ÿå‹¾å¿ƒæ–—è§’çš„äº‰å¤ºå¯¹ä½ æœ‰ç”¨å—ï¼Ÿ æ—¢ç„¶æ— ç”¨ï¼Œé‚£å°±æŠŠæ—¶é—´ç•™ç»™ç”Ÿæ´»ï¼Œç•™ç»™è‡ªèº«ï¼›\n\nä½ çš„æˆé•¿æ¥è‡ªäºç”Ÿæ´»ï¼Œä½ ä¸åˆ«äººçš„äº¤æµæ²Ÿé€šï¼Œé‚£å°±æ˜¯å¯¹æ–¹æ•™ç»™ä½ çš„é“ç†ï¼›\n\næˆé•¿ä¸æ˜¯ä¸€ä»¶ç®€å•çš„äº‹æƒ…ï¼›\n\n-------------- ç”Ÿæ´»å°è®°-ä½ è¯¥å­¦ä¼šæˆé•¿äº†\n","source":"_posts/ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/æˆ‘çš„èœ•å˜.md","raw":"---\ntitle: ä¸´ç»ˆå‰çš„å›æº¯-ç¬¬å…­ç« ï¼šæˆ‘çš„èœ•å˜\nabbrlink: 3f47066d\ndate: 2023-10-08 09:05:01\ncategories:\n  - ç”Ÿæ´»æ—¥å¿—\ntags:\n  - å°è¯´\n---\nç›¸æ¯”â€œé¢“åºŸâ€çš„äººç”Ÿï¼Œæˆ‘æ›´å–œæ¬¢â€œåƒåœ¾â€çš„äººç”Ÿã€‚\n\nä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè¯´å‘¢ï¼Œå¯¹æˆ‘è€Œè¨€ï¼Œâ€œé¢“åºŸâ€å¾€å¾€æ˜¯ä¸€ä¸ªäººä»ä¸å»åšè‡ªå·±çš„é€‰æ‹©ï¼Œè€Œâ€œåƒåœ¾â€åˆ™æ˜¯ä¸€ä¸ªäººåšè‡ªå·±é€‰æ‹©ï¼Œä½†æ˜¯æ²¡æœ‰å¾—åˆ°æƒ³è¦çš„ç»“æœï¼Œä½†æ•ˆæœå¾€å¾€æ˜¯æ¯”â€œé¢“åºŸâ€å¥½ã€‚å½“ç„¶ç”Ÿæ´»å°±å¾ˆå¹³å¸¸ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹è‰²ï¼›\n\nå½“ç„¶æ²¡æœ‰å¾—åˆ°æƒ³è¦çš„ç»“æœå°±æ”¾å¼ƒå¾€å¾€ä¸æ˜¯æˆ‘çš„ä½œé£ï¼›\n\nå¾€å¾€ä¸€ä¸ªäººçš„æ”¹å˜ä¹Ÿè®¸å°±åœ¨ä¸€ç¬é—´å§ï¼š\n\nè€äººå¸¸è¯´çš„ä¸€å¥è¯å°±æ˜¯ï¼šä½ åˆ«æ€•æœ‰äººç¦»å¼€ï¼Œä½ è¦çŸ¥é“çš„æ˜¯åˆ«äººåªæ˜¯ä½ äººç”Ÿçš„è¿‡å®¢ï¼›å½“ä½ é‡åˆ°çš„æ¯ä¸€ä¸ªäººéƒ½ä¼šä¸€ä¸ªäººç”Ÿé“ç†äº¤ç»™ä½ ï¼›\n\nåœ¨â€œå¥¹â€ç¦»å»çš„æ—¶å€™ï¼Œè·Ÿæˆ‘è¯´äº†ä¸€å¥â€œä¹Ÿè®¸ä½ è¯¥å­¦ä¼šé•¿å¤§äº†â€ï¼Œå½“æ—¶æˆ‘è¿˜æ²¡è¿™å¥è¯å­˜åœ¨ç€ä»€ä¹ˆæ„æ€ï¼Œç›´åˆ°ä¹‹åçš„ä¸€ä»¶äº‹è®©æˆ‘æ˜ç™½äº†è¿™å¥è¯çš„çœŸæ­£å«ä¹‰ï¼›\n\nå½“è€ w é¦–æ¬¡å» 4s åº—æè½¦å†åˆ°åˆä½œå•†è´´è†œçš„æ—¶å€™ï¼Œè¿™ä¸€è·¯ä¸Šçš„å¿ƒæƒ…å¯è°“æ˜¯å¾ˆç³Ÿç³•ï¼›ä»¥ä¸ºç€çš„æ˜¯ä¸€æ¬¡è¡Œä¼šåŠç†å¥½ï¼Œç»“æœè¿˜çš„ä¸ªäººå»æœ€åè¿˜æ˜¯éª‚éª‚å’§å’§çš„å»äº†ï¼›\n\nå› ä¸ºäººå¤šå°±æŠŠè½¦åœåœ¨äº†é—¨å£ï¼Œäºæ˜¯å°±åœ¨åº—é‡Œç­‰å¾…äº†ï¼Œæ²¡å¤šä¸€ä¼šå„¿æˆ‘å“¥å°±åˆ°äº†ï¼Œè¯´ä»€ä¹ˆæ—¶å€™æå¥½ï¼Œè¯´è¿˜çš„æ’é˜Ÿï¼Œè¿˜çš„ç­‰ä¸€ä¼šå„¿ï¼›ä¹Ÿè®¸æ˜¯å¤ªè¿‡äºè€å®äº†ï¼Œè€ w ç›´æ¥å»æ‰¾åº—é•¿è¯´å»äº†ï¼›\n\næ²¡å¤šä¸€ä¼šå„¿ï¼Œå°±è¯´å¥½äº†ï¼Œæ™šä¸Šä¸‹ç­å¸ˆå‚…åŠ ç­ä¼˜å…ˆå¼„å¥½ï¼›\n\nç›´åˆ°è¿™æ—¶å€™æˆ‘æ‰å‘ç°äº†é‚£å¥è¯åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€äº†ï¼›\n\n26 å²å¤§å°ä¼™å„¿ï¼Œä¸ä»–äººå­˜åœ¨çš„å·®å¼‚å¾ˆå¤§ï¼Œåˆ«äººçŸ¥é“çš„ä¸ºä»€ä¹ˆè‡ªå·±å´ä¸çŸ¥é“å‘¢ï¼Œä»…ä»…æ˜¯å› ä¸ºä½ ä¹‹å‰æ²¡ç¢°è§è¿‡å—ï¼Œæˆ‘è§‰å¾—è¿™ä¸èƒ½å½“ä½œä½ æ¨è„±çš„å€Ÿå£ï¼›\n\näºæ˜¯ç»™è‡ªå·±å®šä¸‹äº†ä¸€ä¸ªç›®æ ‡ï¼Œé‚£å°±æ˜¯æ”¹å˜è‡ªèº«çš„å¼±æ°”ï¼›è¿™ä¸ªå¹´çºªæ˜æ˜æ˜¯æœ€å‹‡æ•¢çš„å¹´çºªï¼Œå´æ´»æˆäº†è‡ªå·±ä¸å–œæ¬¢çš„æ ·å­ï¼›\n\nç›´åˆ°ç°åœ¨è¿‡å»äº†ä¸€å¹´åŠè½½ï¼Œä¸è‡ªå·±å®šåˆ¶çš„ä¿©å¹´è®¡åˆ’è¿˜æœ‰ä¸€ä¸ªå°é˜¶æ®µï¼Œä¹Ÿè®¸åœ¨ç¦»å»ä¹‹åï¼Œä»ä»–äººçœ¼ä¸­çœ‹åˆ°äº†å±äºè‡ªå·±çš„â€œå¤±æœ›â€ï¼Œâ€œåŒæƒ…â€ï¼›\n\nå¤Ÿäº†ï¼Œæœ¬æ¥ä¸æ˜¯è¿™æ ·çš„ï¼Œä¹Ÿè®¸æ¢¦è¯¥æ¸…é†’äº†ï¼›\n\nè¿˜æ˜¯è‡ªèº«çš„æ¥è§¦é¢ä¸å¤Ÿï¼Œçœ¼ç•Œä¸å¤Ÿï¼Œå¯¼è‡´è‡ªå·±çš„è¿™ä¸€èº«å¼±æ°”ï¼Œæ”¹å˜è‡ªå·±è¿˜æ˜¯å›å½’é‚£å¥è¯â€œä¹Ÿè®¸ä½ è¯¥å­¦ä¼šæˆé•¿äº†â€ï¼Œ\n\næ²¡æœ‰ä»€ä¹ˆç¾æ„§æ€§ï¼Œäººç”Ÿä¸éƒ½æ˜¯è¿™æ ·å­å—ï¼Œä¸æ˜ç™½çš„ï¼Œä¸æ‡‚çš„äººæ•™äººå¤šæ¬¡ä¸è¡Œï¼Œäº‹å„¿æ•™äººä¸€æ¬¡å°±ä¼šï¼›\n\n---\n\næ”¹å˜äº†ã€‚æˆé•¿äº†ã€‚\n\né¦–å…ˆä½ è¦æ¸…æ¥šè‡ªå·±æ˜¯åœ¨åšä»€ä¹ˆï¼Ÿ\n\næ‰€è°“çš„æ— ç”¨èšä¼šï¼Œç©è€å¯¹ç°é˜¶æ®µçš„ä½ çœŸçš„æœ‰ç”¨å—ï¼Ÿä»å§‹è‡³ç»ˆä½ éƒ½ä¸æ˜ç™½è‡ªå·±åˆ°åº•ç¼ºä»€ä¹ˆï¼Œæ˜¯åœ¨åšä»€ä¹ˆï¼Ÿ\n\nä¸è¦è®©å·¥ä½œå»å‹æ¦¨ä½ çš„ç”Ÿæ´»ï¼Œä½ çš„æ—¶é—´å¤§éƒ¨åˆ†æ˜¯ç•™ç»™ç”Ÿæ´»çš„ï¼Œè€Œä¸æ˜¯å·¥ä½œï¼Œå·¥ä½œä¸­èƒ½æ•™ä¼šä½ ä»€ä¹ˆï¼Ÿæ‰€è°“çš„èŒåœºè§„åˆ™å¯¹ä½ è€Œè¨€æœ‰ç”¨å—ï¼Ÿå‹¾å¿ƒæ–—è§’çš„äº‰å¤ºå¯¹ä½ æœ‰ç”¨å—ï¼Ÿ æ—¢ç„¶æ— ç”¨ï¼Œé‚£å°±æŠŠæ—¶é—´ç•™ç»™ç”Ÿæ´»ï¼Œç•™ç»™è‡ªèº«ï¼›\n\nä½ çš„æˆé•¿æ¥è‡ªäºç”Ÿæ´»ï¼Œä½ ä¸åˆ«äººçš„äº¤æµæ²Ÿé€šï¼Œé‚£å°±æ˜¯å¯¹æ–¹æ•™ç»™ä½ çš„é“ç†ï¼›\n\næˆé•¿ä¸æ˜¯ä¸€ä»¶ç®€å•çš„äº‹æƒ…ï¼›\n\n-------------- ç”Ÿæ´»å°è®°-ä½ è¯¥å­¦ä¼šæˆé•¿äº†\n","slug":"ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/æˆ‘çš„èœ•å˜","published":1,"updated":"2025-03-12T10:12:22.600Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0jb008cfg9m51ebajwv","content":"<p>ç›¸æ¯”â€œé¢“åºŸâ€çš„äººç”Ÿï¼Œæˆ‘æ›´å–œæ¬¢â€œåƒåœ¾â€çš„äººç”Ÿã€‚</p>\n<p>ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè¯´å‘¢ï¼Œå¯¹æˆ‘è€Œè¨€ï¼Œâ€œé¢“åºŸâ€å¾€å¾€æ˜¯ä¸€ä¸ªäººä»ä¸å»åšè‡ªå·±çš„é€‰æ‹©ï¼Œè€Œâ€œåƒåœ¾â€åˆ™æ˜¯ä¸€ä¸ªäººåšè‡ªå·±é€‰æ‹©ï¼Œä½†æ˜¯æ²¡æœ‰å¾—åˆ°æƒ³è¦çš„ç»“æœï¼Œä½†æ•ˆæœå¾€å¾€æ˜¯æ¯”â€œé¢“åºŸâ€å¥½ã€‚å½“ç„¶ç”Ÿæ´»å°±å¾ˆå¹³å¸¸ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹è‰²ï¼›</p>\n<p>å½“ç„¶æ²¡æœ‰å¾—åˆ°æƒ³è¦çš„ç»“æœå°±æ”¾å¼ƒå¾€å¾€ä¸æ˜¯æˆ‘çš„ä½œé£ï¼›</p>\n<p>å¾€å¾€ä¸€ä¸ªäººçš„æ”¹å˜ä¹Ÿè®¸å°±åœ¨ä¸€ç¬é—´å§ï¼š</p>\n<p>è€äººå¸¸è¯´çš„ä¸€å¥è¯å°±æ˜¯ï¼šä½ åˆ«æ€•æœ‰äººç¦»å¼€ï¼Œä½ è¦çŸ¥é“çš„æ˜¯åˆ«äººåªæ˜¯ä½ äººç”Ÿçš„è¿‡å®¢ï¼›å½“ä½ é‡åˆ°çš„æ¯ä¸€ä¸ªäººéƒ½ä¼šä¸€ä¸ªäººç”Ÿé“ç†äº¤ç»™ä½ ï¼›</p>\n<p>åœ¨â€œå¥¹â€ç¦»å»çš„æ—¶å€™ï¼Œè·Ÿæˆ‘è¯´äº†ä¸€å¥â€œä¹Ÿè®¸ä½ è¯¥å­¦ä¼šé•¿å¤§äº†â€ï¼Œå½“æ—¶æˆ‘è¿˜æ²¡è¿™å¥è¯å­˜åœ¨ç€ä»€ä¹ˆæ„æ€ï¼Œç›´åˆ°ä¹‹åçš„ä¸€ä»¶äº‹è®©æˆ‘æ˜ç™½äº†è¿™å¥è¯çš„çœŸæ­£å«ä¹‰ï¼›</p>\n<p>å½“è€ w é¦–æ¬¡å» 4s åº—æè½¦å†åˆ°åˆä½œå•†è´´è†œçš„æ—¶å€™ï¼Œè¿™ä¸€è·¯ä¸Šçš„å¿ƒæƒ…å¯è°“æ˜¯å¾ˆç³Ÿç³•ï¼›ä»¥ä¸ºç€çš„æ˜¯ä¸€æ¬¡è¡Œä¼šåŠç†å¥½ï¼Œç»“æœè¿˜çš„ä¸ªäººå»æœ€åè¿˜æ˜¯éª‚éª‚å’§å’§çš„å»äº†ï¼›</p>\n<p>å› ä¸ºäººå¤šå°±æŠŠè½¦åœåœ¨äº†é—¨å£ï¼Œäºæ˜¯å°±åœ¨åº—é‡Œç­‰å¾…äº†ï¼Œæ²¡å¤šä¸€ä¼šå„¿æˆ‘å“¥å°±åˆ°äº†ï¼Œè¯´ä»€ä¹ˆæ—¶å€™æå¥½ï¼Œè¯´è¿˜çš„æ’é˜Ÿï¼Œè¿˜çš„ç­‰ä¸€ä¼šå„¿ï¼›ä¹Ÿè®¸æ˜¯å¤ªè¿‡äºè€å®äº†ï¼Œè€ w ç›´æ¥å»æ‰¾åº—é•¿è¯´å»äº†ï¼›</p>\n<p>æ²¡å¤šä¸€ä¼šå„¿ï¼Œå°±è¯´å¥½äº†ï¼Œæ™šä¸Šä¸‹ç­å¸ˆå‚…åŠ ç­ä¼˜å…ˆå¼„å¥½ï¼›</p>\n<p>ç›´åˆ°è¿™æ—¶å€™æˆ‘æ‰å‘ç°äº†é‚£å¥è¯åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€äº†ï¼›</p>\n<p>26 å²å¤§å°ä¼™å„¿ï¼Œä¸ä»–äººå­˜åœ¨çš„å·®å¼‚å¾ˆå¤§ï¼Œåˆ«äººçŸ¥é“çš„ä¸ºä»€ä¹ˆè‡ªå·±å´ä¸çŸ¥é“å‘¢ï¼Œä»…ä»…æ˜¯å› ä¸ºä½ ä¹‹å‰æ²¡ç¢°è§è¿‡å—ï¼Œæˆ‘è§‰å¾—è¿™ä¸èƒ½å½“ä½œä½ æ¨è„±çš„å€Ÿå£ï¼›</p>\n<p>äºæ˜¯ç»™è‡ªå·±å®šä¸‹äº†ä¸€ä¸ªç›®æ ‡ï¼Œé‚£å°±æ˜¯æ”¹å˜è‡ªèº«çš„å¼±æ°”ï¼›è¿™ä¸ªå¹´çºªæ˜æ˜æ˜¯æœ€å‹‡æ•¢çš„å¹´çºªï¼Œå´æ´»æˆäº†è‡ªå·±ä¸å–œæ¬¢çš„æ ·å­ï¼›</p>\n<p>ç›´åˆ°ç°åœ¨è¿‡å»äº†ä¸€å¹´åŠè½½ï¼Œä¸è‡ªå·±å®šåˆ¶çš„ä¿©å¹´è®¡åˆ’è¿˜æœ‰ä¸€ä¸ªå°é˜¶æ®µï¼Œä¹Ÿè®¸åœ¨ç¦»å»ä¹‹åï¼Œä»ä»–äººçœ¼ä¸­çœ‹åˆ°äº†å±äºè‡ªå·±çš„â€œå¤±æœ›â€ï¼Œâ€œåŒæƒ…â€ï¼›</p>\n<p>å¤Ÿäº†ï¼Œæœ¬æ¥ä¸æ˜¯è¿™æ ·çš„ï¼Œä¹Ÿè®¸æ¢¦è¯¥æ¸…é†’äº†ï¼›</p>\n<p>è¿˜æ˜¯è‡ªèº«çš„æ¥è§¦é¢ä¸å¤Ÿï¼Œçœ¼ç•Œä¸å¤Ÿï¼Œå¯¼è‡´è‡ªå·±çš„è¿™ä¸€èº«å¼±æ°”ï¼Œæ”¹å˜è‡ªå·±è¿˜æ˜¯å›å½’é‚£å¥è¯â€œä¹Ÿè®¸ä½ è¯¥å­¦ä¼šæˆé•¿äº†â€ï¼Œ</p>\n<p>æ²¡æœ‰ä»€ä¹ˆç¾æ„§æ€§ï¼Œäººç”Ÿä¸éƒ½æ˜¯è¿™æ ·å­å—ï¼Œä¸æ˜ç™½çš„ï¼Œä¸æ‡‚çš„äººæ•™äººå¤šæ¬¡ä¸è¡Œï¼Œäº‹å„¿æ•™äººä¸€æ¬¡å°±ä¼šï¼›</p>\n<hr>\n<p>æ”¹å˜äº†ã€‚æˆé•¿äº†ã€‚</p>\n<p>é¦–å…ˆä½ è¦æ¸…æ¥šè‡ªå·±æ˜¯åœ¨åšä»€ä¹ˆï¼Ÿ</p>\n<p>æ‰€è°“çš„æ— ç”¨èšä¼šï¼Œç©è€å¯¹ç°é˜¶æ®µçš„ä½ çœŸçš„æœ‰ç”¨å—ï¼Ÿä»å§‹è‡³ç»ˆä½ éƒ½ä¸æ˜ç™½è‡ªå·±åˆ°åº•ç¼ºä»€ä¹ˆï¼Œæ˜¯åœ¨åšä»€ä¹ˆï¼Ÿ</p>\n<p>ä¸è¦è®©å·¥ä½œå»å‹æ¦¨ä½ çš„ç”Ÿæ´»ï¼Œä½ çš„æ—¶é—´å¤§éƒ¨åˆ†æ˜¯ç•™ç»™ç”Ÿæ´»çš„ï¼Œè€Œä¸æ˜¯å·¥ä½œï¼Œå·¥ä½œä¸­èƒ½æ•™ä¼šä½ ä»€ä¹ˆï¼Ÿæ‰€è°“çš„èŒåœºè§„åˆ™å¯¹ä½ è€Œè¨€æœ‰ç”¨å—ï¼Ÿå‹¾å¿ƒæ–—è§’çš„äº‰å¤ºå¯¹ä½ æœ‰ç”¨å—ï¼Ÿ æ—¢ç„¶æ— ç”¨ï¼Œé‚£å°±æŠŠæ—¶é—´ç•™ç»™ç”Ÿæ´»ï¼Œç•™ç»™è‡ªèº«ï¼›</p>\n<p>ä½ çš„æˆé•¿æ¥è‡ªäºç”Ÿæ´»ï¼Œä½ ä¸åˆ«äººçš„äº¤æµæ²Ÿé€šï¼Œé‚£å°±æ˜¯å¯¹æ–¹æ•™ç»™ä½ çš„é“ç†ï¼›</p>\n<p>æˆé•¿ä¸æ˜¯ä¸€ä»¶ç®€å•çš„äº‹æƒ…ï¼›</p>\n<p>â€”â€”â€”â€”â€“ ç”Ÿæ´»å°è®°-ä½ è¯¥å­¦ä¼šæˆé•¿äº†</p>\n","excerpt":"","more":"<p>ç›¸æ¯”â€œé¢“åºŸâ€çš„äººç”Ÿï¼Œæˆ‘æ›´å–œæ¬¢â€œåƒåœ¾â€çš„äººç”Ÿã€‚</p>\n<p>ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè¯´å‘¢ï¼Œå¯¹æˆ‘è€Œè¨€ï¼Œâ€œé¢“åºŸâ€å¾€å¾€æ˜¯ä¸€ä¸ªäººä»ä¸å»åšè‡ªå·±çš„é€‰æ‹©ï¼Œè€Œâ€œåƒåœ¾â€åˆ™æ˜¯ä¸€ä¸ªäººåšè‡ªå·±é€‰æ‹©ï¼Œä½†æ˜¯æ²¡æœ‰å¾—åˆ°æƒ³è¦çš„ç»“æœï¼Œä½†æ•ˆæœå¾€å¾€æ˜¯æ¯”â€œé¢“åºŸâ€å¥½ã€‚å½“ç„¶ç”Ÿæ´»å°±å¾ˆå¹³å¸¸ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹è‰²ï¼›</p>\n<p>å½“ç„¶æ²¡æœ‰å¾—åˆ°æƒ³è¦çš„ç»“æœå°±æ”¾å¼ƒå¾€å¾€ä¸æ˜¯æˆ‘çš„ä½œé£ï¼›</p>\n<p>å¾€å¾€ä¸€ä¸ªäººçš„æ”¹å˜ä¹Ÿè®¸å°±åœ¨ä¸€ç¬é—´å§ï¼š</p>\n<p>è€äººå¸¸è¯´çš„ä¸€å¥è¯å°±æ˜¯ï¼šä½ åˆ«æ€•æœ‰äººç¦»å¼€ï¼Œä½ è¦çŸ¥é“çš„æ˜¯åˆ«äººåªæ˜¯ä½ äººç”Ÿçš„è¿‡å®¢ï¼›å½“ä½ é‡åˆ°çš„æ¯ä¸€ä¸ªäººéƒ½ä¼šä¸€ä¸ªäººç”Ÿé“ç†äº¤ç»™ä½ ï¼›</p>\n<p>åœ¨â€œå¥¹â€ç¦»å»çš„æ—¶å€™ï¼Œè·Ÿæˆ‘è¯´äº†ä¸€å¥â€œä¹Ÿè®¸ä½ è¯¥å­¦ä¼šé•¿å¤§äº†â€ï¼Œå½“æ—¶æˆ‘è¿˜æ²¡è¿™å¥è¯å­˜åœ¨ç€ä»€ä¹ˆæ„æ€ï¼Œç›´åˆ°ä¹‹åçš„ä¸€ä»¶äº‹è®©æˆ‘æ˜ç™½äº†è¿™å¥è¯çš„çœŸæ­£å«ä¹‰ï¼›</p>\n<p>å½“è€ w é¦–æ¬¡å» 4s åº—æè½¦å†åˆ°åˆä½œå•†è´´è†œçš„æ—¶å€™ï¼Œè¿™ä¸€è·¯ä¸Šçš„å¿ƒæƒ…å¯è°“æ˜¯å¾ˆç³Ÿç³•ï¼›ä»¥ä¸ºç€çš„æ˜¯ä¸€æ¬¡è¡Œä¼šåŠç†å¥½ï¼Œç»“æœè¿˜çš„ä¸ªäººå»æœ€åè¿˜æ˜¯éª‚éª‚å’§å’§çš„å»äº†ï¼›</p>\n<p>å› ä¸ºäººå¤šå°±æŠŠè½¦åœåœ¨äº†é—¨å£ï¼Œäºæ˜¯å°±åœ¨åº—é‡Œç­‰å¾…äº†ï¼Œæ²¡å¤šä¸€ä¼šå„¿æˆ‘å“¥å°±åˆ°äº†ï¼Œè¯´ä»€ä¹ˆæ—¶å€™æå¥½ï¼Œè¯´è¿˜çš„æ’é˜Ÿï¼Œè¿˜çš„ç­‰ä¸€ä¼šå„¿ï¼›ä¹Ÿè®¸æ˜¯å¤ªè¿‡äºè€å®äº†ï¼Œè€ w ç›´æ¥å»æ‰¾åº—é•¿è¯´å»äº†ï¼›</p>\n<p>æ²¡å¤šä¸€ä¼šå„¿ï¼Œå°±è¯´å¥½äº†ï¼Œæ™šä¸Šä¸‹ç­å¸ˆå‚…åŠ ç­ä¼˜å…ˆå¼„å¥½ï¼›</p>\n<p>ç›´åˆ°è¿™æ—¶å€™æˆ‘æ‰å‘ç°äº†é‚£å¥è¯åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€äº†ï¼›</p>\n<p>26 å²å¤§å°ä¼™å„¿ï¼Œä¸ä»–äººå­˜åœ¨çš„å·®å¼‚å¾ˆå¤§ï¼Œåˆ«äººçŸ¥é“çš„ä¸ºä»€ä¹ˆè‡ªå·±å´ä¸çŸ¥é“å‘¢ï¼Œä»…ä»…æ˜¯å› ä¸ºä½ ä¹‹å‰æ²¡ç¢°è§è¿‡å—ï¼Œæˆ‘è§‰å¾—è¿™ä¸èƒ½å½“ä½œä½ æ¨è„±çš„å€Ÿå£ï¼›</p>\n<p>äºæ˜¯ç»™è‡ªå·±å®šä¸‹äº†ä¸€ä¸ªç›®æ ‡ï¼Œé‚£å°±æ˜¯æ”¹å˜è‡ªèº«çš„å¼±æ°”ï¼›è¿™ä¸ªå¹´çºªæ˜æ˜æ˜¯æœ€å‹‡æ•¢çš„å¹´çºªï¼Œå´æ´»æˆäº†è‡ªå·±ä¸å–œæ¬¢çš„æ ·å­ï¼›</p>\n<p>ç›´åˆ°ç°åœ¨è¿‡å»äº†ä¸€å¹´åŠè½½ï¼Œä¸è‡ªå·±å®šåˆ¶çš„ä¿©å¹´è®¡åˆ’è¿˜æœ‰ä¸€ä¸ªå°é˜¶æ®µï¼Œä¹Ÿè®¸åœ¨ç¦»å»ä¹‹åï¼Œä»ä»–äººçœ¼ä¸­çœ‹åˆ°äº†å±äºè‡ªå·±çš„â€œå¤±æœ›â€ï¼Œâ€œåŒæƒ…â€ï¼›</p>\n<p>å¤Ÿäº†ï¼Œæœ¬æ¥ä¸æ˜¯è¿™æ ·çš„ï¼Œä¹Ÿè®¸æ¢¦è¯¥æ¸…é†’äº†ï¼›</p>\n<p>è¿˜æ˜¯è‡ªèº«çš„æ¥è§¦é¢ä¸å¤Ÿï¼Œçœ¼ç•Œä¸å¤Ÿï¼Œå¯¼è‡´è‡ªå·±çš„è¿™ä¸€èº«å¼±æ°”ï¼Œæ”¹å˜è‡ªå·±è¿˜æ˜¯å›å½’é‚£å¥è¯â€œä¹Ÿè®¸ä½ è¯¥å­¦ä¼šæˆé•¿äº†â€ï¼Œ</p>\n<p>æ²¡æœ‰ä»€ä¹ˆç¾æ„§æ€§ï¼Œäººç”Ÿä¸éƒ½æ˜¯è¿™æ ·å­å—ï¼Œä¸æ˜ç™½çš„ï¼Œä¸æ‡‚çš„äººæ•™äººå¤šæ¬¡ä¸è¡Œï¼Œäº‹å„¿æ•™äººä¸€æ¬¡å°±ä¼šï¼›</p>\n<hr>\n<p>æ”¹å˜äº†ã€‚æˆé•¿äº†ã€‚</p>\n<p>é¦–å…ˆä½ è¦æ¸…æ¥šè‡ªå·±æ˜¯åœ¨åšä»€ä¹ˆï¼Ÿ</p>\n<p>æ‰€è°“çš„æ— ç”¨èšä¼šï¼Œç©è€å¯¹ç°é˜¶æ®µçš„ä½ çœŸçš„æœ‰ç”¨å—ï¼Ÿä»å§‹è‡³ç»ˆä½ éƒ½ä¸æ˜ç™½è‡ªå·±åˆ°åº•ç¼ºä»€ä¹ˆï¼Œæ˜¯åœ¨åšä»€ä¹ˆï¼Ÿ</p>\n<p>ä¸è¦è®©å·¥ä½œå»å‹æ¦¨ä½ çš„ç”Ÿæ´»ï¼Œä½ çš„æ—¶é—´å¤§éƒ¨åˆ†æ˜¯ç•™ç»™ç”Ÿæ´»çš„ï¼Œè€Œä¸æ˜¯å·¥ä½œï¼Œå·¥ä½œä¸­èƒ½æ•™ä¼šä½ ä»€ä¹ˆï¼Ÿæ‰€è°“çš„èŒåœºè§„åˆ™å¯¹ä½ è€Œè¨€æœ‰ç”¨å—ï¼Ÿå‹¾å¿ƒæ–—è§’çš„äº‰å¤ºå¯¹ä½ æœ‰ç”¨å—ï¼Ÿ æ—¢ç„¶æ— ç”¨ï¼Œé‚£å°±æŠŠæ—¶é—´ç•™ç»™ç”Ÿæ´»ï¼Œç•™ç»™è‡ªèº«ï¼›</p>\n<p>ä½ çš„æˆé•¿æ¥è‡ªäºç”Ÿæ´»ï¼Œä½ ä¸åˆ«äººçš„äº¤æµæ²Ÿé€šï¼Œé‚£å°±æ˜¯å¯¹æ–¹æ•™ç»™ä½ çš„é“ç†ï¼›</p>\n<p>æˆé•¿ä¸æ˜¯ä¸€ä»¶ç®€å•çš„äº‹æƒ…ï¼›</p>\n<p>â€”â€”â€”â€”â€“ ç”Ÿæ´»å°è®°-ä½ è¯¥å­¦ä¼šæˆé•¿äº†</p>\n"},{"title":"å°è¯´-ä¸´ç»ˆå‰çš„å›æº¯-ç¬¬ä¸€ç« ï¼šç”Ÿå‘½ä¹‹çƒ›æ‘‡æ›³","abbrlink":"ac64186d","date":"2023-10-08T01:05:01.000Z","_content":"\n\nè¯¥å°è¯´è™šå‡æ„è®¾ï¼Œä»…ä¾›å¨±ä¹ã€‚è¯·å‹¿ä»£å…¥ç°å®ã€‚\n\nè¿™ç¯‡çŸ­ç¯‡å°è¯´æ˜¯è€ w ä¸ºæˆ‘æä¾›çš„çš„ä¸€ä¸ªå°æ•…äº‹, è¯¥å°è¯´è®²å°½äº†ä»–è¿™ä¸€ç”Ÿçš„äººç”Ÿï¼Œä»¥åŠåˆ°æš®å¹´ä¹‹åå¿ƒä¸­å§‹ç»ˆçº ç»“çš„æ•…äº‹ï¼›\n\n> ä¹‹å‰å¼€å§‹å†™æ–‡ç« çš„é‚£æ®µæ—¶é—´ï¼Œå‘ç°è‡ªå·±çæƒœæƒ³è¦çš„éƒ½åœ¨æ…¢æ…¢å¤±å»ï¼Œä¹Ÿè®¸åˆ°å‡ å¹´ä¹‹åéƒ½æ²¡æœ‰äº†é‚£ç§æ†§æ†¬ï¼Œäºæ˜¯æˆ‘å°±ä»¥æˆ‘ç”Ÿå‘½å³å°†ç»“æŸçš„æœ¦èƒ§é—´ï¼Œå¿«é€Ÿå›å¿†è‡ªå·±çš„ä¸€ç”Ÿï¼Œè™½ç„¶æ²¡æœ‰é‚£ç§å¤§èµ·å¤§è½ï¼Œä¹Ÿæ²¡æœ‰é‚£ç§é£é£å…‰å…‰ï¼Œåªæ˜¯ä½œä¸ºæ™®é€šäººï¼Œå…¶ä¸­æœ‰åæ‚”ï¼Œæœ‰æ‚”æ¨ï¼Œæœ‰é—æ†¾ï¼Œå„ç§æƒ…ç»ªçš„äº¤ç»‡æ‰èƒ½ç»„æˆäººçš„ä¸€ç”Ÿï¼›æ…¢æ…¢çš„è®°å½•ç”Ÿæ´»æ˜¯ä¸ºäº†é˜²æ­¢é‚£ä¸€å¤©æˆ‘çªç„¶æƒ³ä¸èµ·æ¥ï¼Œé‚£å°±æ„å‘³ç€æˆ‘çš„ç”Ÿå‘½å³å°†ç»ˆç»“ï¼Œåœ¨ç—…åºŠä¸Šçš„æœ¦èƒ§é—´ï¼Œæˆ‘ç¥ˆç¥·ä¸Šå¤©ï¼Œå¦‚æœç»™æˆ‘ä¸€æ¬¡é‡æ¥çš„æœºä¼šï¼Œæˆ‘ä¼šçæƒœæ‰€æœ‰ï¼Œæ²¡æœ‰é‡ç”Ÿè€…çš„å³è§†æ„Ÿï¼Œä¹Ÿæ²¡æœ‰ç©¿è¶Šè€…çš„æ ‡é…ï¼Œæœ‰çš„åªæ˜¯ä¸€ä¸ªå³å°†ç»“æŸç”Ÿå‘½çš„å°è€å¤´ï¼›ä½ é€è¿‡å¸¦æœ‰é»„æ˜å…‰çš„çª—æˆ·ï¼Œå›å¿†è¿™ä¸€ç”Ÿï¼Œæœ€åçœ¼è§’å¸¦ç€æ³ªæ°´ä¸­æ°¸è¿œçš„ç¡å»...\n\nå¼€å§‹äº†...\n\nxxxx å¹´çš„ä¸‹åˆï¼Œæˆ‘æ¥åˆ°äº†æ¥è‡ª xxxx åŒ»é™¢çš„ç”µè¯ï¼Œé‚£è¾¹è¯´ï¼š â€œè€ w åœ¨åŒ»é™¢å¿«ä¸è¡Œäº†ï¼Œä»–æ‰‹æœºä¸Šåªæœ‰ä½ çš„ç”µè¯ï¼Œä½ èµ¶ç´§æ¥ä¸€è¶Ÿå§!!â€\n\næˆ‘å¬åˆ°è¿™ä¸ªæ¶ˆæ¯ä¹‹åæˆ‘æ…Œäº†ï¼Œå› ä¸ºå¹³æ—¶ä»–ä¹Ÿæ²¡å’Œæˆ‘è¯´èº«ä½“ä¸èˆ’æœï¼Œåˆ°ç°åœ¨æˆ‘éƒ½æ˜¯ä¸ç›¸ä¿¡çš„ï¼Œå®æ„¿ç›¸ä¿¡è¿™æ˜¯ä¸ªç©ç¬‘ï¼›ç«‹é©¬æ”¾ä¸‹æ‰‹ä¸Šçš„å·¥ä½œï¼Œæˆ‘åœ¨é©¬è·¯ä¸Šæ‰“äº†ä¸€è¾†å‡ºç§Ÿè½¦å°±å¾€åŒ»é™¢æ•¢å»ï¼Œåœ¨è½¦ä¸Šæ—¶ä¸æ—¶çš„å‚¬ä¿ƒå¸æœºå¿«äº›ï¼›\n\næˆ‘åˆ°ç—…æˆ¿ä¸­ï¼Œçœ‹è§ä»–é‚£æ²¡æœ‰ç²¾ç¥çš„é¢è²Œä»¥åŠæ— ç¥çš„çœ¼ç›ï¼Œæˆ‘æ‰å‘ç°ä»–çš„ç—…æƒ…å·²ç»è·Ÿä¸¥é‡äº†ï¼›ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤šå¹´çš„å¥½å‹ä¸æ—©ç‚¹è·Ÿæˆ‘è¯´å‘¢ï¼Œæˆ‘å¹¶æ²¡æœ‰åŸ‹æ€¨ä»–ä¼¼ä¹è¿™ä¸€åˆ»ä»–çš„å¿ƒé‡Œæ¯”æˆ‘è¿˜ç—›è‹¦å§ï¼›æˆ‘æ²¡å¤šè¯´èµ°åˆ°çª—å‰è½»å£°è·Ÿä»–è¯´ï¼Œæ”¾å¿ƒæˆ‘æ¥äº†ï¼›\n\nè¿Ÿç–‘äº†ä¸€ä¼šï¼Œä»–è¯´è¯äº†ï¼š â€œå¾ˆæŠ±æ­‰è®©ä½ çœ‹åˆ°äº†æˆ‘å›§æ ·ï¼Œå¯ä¸è¦ç¬‘è¯æˆ‘â€ï¼Œ â€œä¸ä¼šçš„ï¼ä½ åº”è¯¥æ—©ç‚¹å‘Šè¯‰æˆ‘ä½ çš„çŠ¶å†µï¼Œå¥½åœ¨ç‚¹æ”¹å–„ä¸€ä¸‹å•Šâ€ è¿‡äº†ä¸€ä¼šâ€œèƒ½åœ¨ä¸´ç»ˆå‰èƒ½å’Œä½ è¿™ä¸ªè€å‹å” å” å—‘ï¼Œåœ¨è·¯ä¸Šæˆ‘ä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆé—æ†¾äº†â€ ä¸ºä»€ä¹ˆæ²¡æœ‰å‘Šè¯‰æˆ‘å®ƒçš„æƒ…å†µä»–æ²¡è¯´è¯äº†ï¼Œä¹Ÿè®¸ä¸æƒ³è®©æˆ‘è¿‡åº¦æ‹…å¿ƒï¼Œä¹Ÿè®¸æœ‰ä»€ä¹ˆéš¾è¨€ä¹‹éšã€‚\n\nä»–åœ¨ä¸´ç»ˆå‰ç»™æˆ‘è®²äº†ä¸€ä¸ªä¸é•¿ä¸çŸ­çš„æ•…äº‹ï¼Œè¿™ä¸ªæ•…äº‹ä¹Ÿè®¸åœ¨æå†™è€ w çš„ä¸€ç”Ÿï¼š\n\nåœ¨ä¸€ç‰‡é™è°§è€Œåº„é‡çš„ç—…æˆ¿ä¸­ï¼Œç”Ÿå‘½ä¹‹çƒ›å³å°†ç‡ƒå°½çš„è€äººâ€”â€”è€ wï¼Œé™é™åœ°èººåœ¨æ´ç™½çš„åºŠå•ä¸Šã€‚ä»–çš„çœ¼ç¥ä¸å†å¦‚å¹´è½»æ—¶é‚£èˆ¬é”åˆ©ï¼Œå´æ²‰æ·€ç€å²æœˆèµ‹äºˆçš„æ·±é‚ƒä¸å®é™ã€‚åŒ»ç”Ÿå’ŒæŠ¤å£«ä»¬åœ¨è§’è½é‡Œé»˜é»˜å…³æ³¨ï¼Œä½å£°äº¤è°ˆç€å…³äºä»–ç—…æƒ…çš„æœ€åè¯„ä¼°ã€‚æ­¤åˆ»ï¼Œè€ w çš„å¿ƒè·³å£°ä¸å‘¼å¸å£°äº¤ç»‡æˆä¸€é¦–ç”Ÿå‘½çš„æŒ½æ­Œï¼Œè€Œä»–çš„æ€ç»ªåˆ™ç©¿è¶Šæ—¶ç©ºï¼Œå±•å¼€äº†ä¸€åœºä¸´ç»ˆå‰çš„å›æº¯ä¹‹æ—…ã€‚\n","source":"_posts/ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/åºç« ï¼šç”Ÿå‘½ä¹‹çƒ›æ‘‡æ›³.md","raw":"---\ntitle: å°è¯´-ä¸´ç»ˆå‰çš„å›æº¯-ç¬¬ä¸€ç« ï¼šç”Ÿå‘½ä¹‹çƒ›æ‘‡æ›³\nabbrlink: ac64186d\ndate: 2023-10-08 09:05:01\ncategories:\n  - ç”Ÿæ´»æ—¥å¿—\ntags:\n  - å°è¯´\n---\n\n\nè¯¥å°è¯´è™šå‡æ„è®¾ï¼Œä»…ä¾›å¨±ä¹ã€‚è¯·å‹¿ä»£å…¥ç°å®ã€‚\n\nè¿™ç¯‡çŸ­ç¯‡å°è¯´æ˜¯è€ w ä¸ºæˆ‘æä¾›çš„çš„ä¸€ä¸ªå°æ•…äº‹, è¯¥å°è¯´è®²å°½äº†ä»–è¿™ä¸€ç”Ÿçš„äººç”Ÿï¼Œä»¥åŠåˆ°æš®å¹´ä¹‹åå¿ƒä¸­å§‹ç»ˆçº ç»“çš„æ•…äº‹ï¼›\n\n> ä¹‹å‰å¼€å§‹å†™æ–‡ç« çš„é‚£æ®µæ—¶é—´ï¼Œå‘ç°è‡ªå·±çæƒœæƒ³è¦çš„éƒ½åœ¨æ…¢æ…¢å¤±å»ï¼Œä¹Ÿè®¸åˆ°å‡ å¹´ä¹‹åéƒ½æ²¡æœ‰äº†é‚£ç§æ†§æ†¬ï¼Œäºæ˜¯æˆ‘å°±ä»¥æˆ‘ç”Ÿå‘½å³å°†ç»“æŸçš„æœ¦èƒ§é—´ï¼Œå¿«é€Ÿå›å¿†è‡ªå·±çš„ä¸€ç”Ÿï¼Œè™½ç„¶æ²¡æœ‰é‚£ç§å¤§èµ·å¤§è½ï¼Œä¹Ÿæ²¡æœ‰é‚£ç§é£é£å…‰å…‰ï¼Œåªæ˜¯ä½œä¸ºæ™®é€šäººï¼Œå…¶ä¸­æœ‰åæ‚”ï¼Œæœ‰æ‚”æ¨ï¼Œæœ‰é—æ†¾ï¼Œå„ç§æƒ…ç»ªçš„äº¤ç»‡æ‰èƒ½ç»„æˆäººçš„ä¸€ç”Ÿï¼›æ…¢æ…¢çš„è®°å½•ç”Ÿæ´»æ˜¯ä¸ºäº†é˜²æ­¢é‚£ä¸€å¤©æˆ‘çªç„¶æƒ³ä¸èµ·æ¥ï¼Œé‚£å°±æ„å‘³ç€æˆ‘çš„ç”Ÿå‘½å³å°†ç»ˆç»“ï¼Œåœ¨ç—…åºŠä¸Šçš„æœ¦èƒ§é—´ï¼Œæˆ‘ç¥ˆç¥·ä¸Šå¤©ï¼Œå¦‚æœç»™æˆ‘ä¸€æ¬¡é‡æ¥çš„æœºä¼šï¼Œæˆ‘ä¼šçæƒœæ‰€æœ‰ï¼Œæ²¡æœ‰é‡ç”Ÿè€…çš„å³è§†æ„Ÿï¼Œä¹Ÿæ²¡æœ‰ç©¿è¶Šè€…çš„æ ‡é…ï¼Œæœ‰çš„åªæ˜¯ä¸€ä¸ªå³å°†ç»“æŸç”Ÿå‘½çš„å°è€å¤´ï¼›ä½ é€è¿‡å¸¦æœ‰é»„æ˜å…‰çš„çª—æˆ·ï¼Œå›å¿†è¿™ä¸€ç”Ÿï¼Œæœ€åçœ¼è§’å¸¦ç€æ³ªæ°´ä¸­æ°¸è¿œçš„ç¡å»...\n\nå¼€å§‹äº†...\n\nxxxx å¹´çš„ä¸‹åˆï¼Œæˆ‘æ¥åˆ°äº†æ¥è‡ª xxxx åŒ»é™¢çš„ç”µè¯ï¼Œé‚£è¾¹è¯´ï¼š â€œè€ w åœ¨åŒ»é™¢å¿«ä¸è¡Œäº†ï¼Œä»–æ‰‹æœºä¸Šåªæœ‰ä½ çš„ç”µè¯ï¼Œä½ èµ¶ç´§æ¥ä¸€è¶Ÿå§!!â€\n\næˆ‘å¬åˆ°è¿™ä¸ªæ¶ˆæ¯ä¹‹åæˆ‘æ…Œäº†ï¼Œå› ä¸ºå¹³æ—¶ä»–ä¹Ÿæ²¡å’Œæˆ‘è¯´èº«ä½“ä¸èˆ’æœï¼Œåˆ°ç°åœ¨æˆ‘éƒ½æ˜¯ä¸ç›¸ä¿¡çš„ï¼Œå®æ„¿ç›¸ä¿¡è¿™æ˜¯ä¸ªç©ç¬‘ï¼›ç«‹é©¬æ”¾ä¸‹æ‰‹ä¸Šçš„å·¥ä½œï¼Œæˆ‘åœ¨é©¬è·¯ä¸Šæ‰“äº†ä¸€è¾†å‡ºç§Ÿè½¦å°±å¾€åŒ»é™¢æ•¢å»ï¼Œåœ¨è½¦ä¸Šæ—¶ä¸æ—¶çš„å‚¬ä¿ƒå¸æœºå¿«äº›ï¼›\n\næˆ‘åˆ°ç—…æˆ¿ä¸­ï¼Œçœ‹è§ä»–é‚£æ²¡æœ‰ç²¾ç¥çš„é¢è²Œä»¥åŠæ— ç¥çš„çœ¼ç›ï¼Œæˆ‘æ‰å‘ç°ä»–çš„ç—…æƒ…å·²ç»è·Ÿä¸¥é‡äº†ï¼›ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤šå¹´çš„å¥½å‹ä¸æ—©ç‚¹è·Ÿæˆ‘è¯´å‘¢ï¼Œæˆ‘å¹¶æ²¡æœ‰åŸ‹æ€¨ä»–ä¼¼ä¹è¿™ä¸€åˆ»ä»–çš„å¿ƒé‡Œæ¯”æˆ‘è¿˜ç—›è‹¦å§ï¼›æˆ‘æ²¡å¤šè¯´èµ°åˆ°çª—å‰è½»å£°è·Ÿä»–è¯´ï¼Œæ”¾å¿ƒæˆ‘æ¥äº†ï¼›\n\nè¿Ÿç–‘äº†ä¸€ä¼šï¼Œä»–è¯´è¯äº†ï¼š â€œå¾ˆæŠ±æ­‰è®©ä½ çœ‹åˆ°äº†æˆ‘å›§æ ·ï¼Œå¯ä¸è¦ç¬‘è¯æˆ‘â€ï¼Œ â€œä¸ä¼šçš„ï¼ä½ åº”è¯¥æ—©ç‚¹å‘Šè¯‰æˆ‘ä½ çš„çŠ¶å†µï¼Œå¥½åœ¨ç‚¹æ”¹å–„ä¸€ä¸‹å•Šâ€ è¿‡äº†ä¸€ä¼šâ€œèƒ½åœ¨ä¸´ç»ˆå‰èƒ½å’Œä½ è¿™ä¸ªè€å‹å” å” å—‘ï¼Œåœ¨è·¯ä¸Šæˆ‘ä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆé—æ†¾äº†â€ ä¸ºä»€ä¹ˆæ²¡æœ‰å‘Šè¯‰æˆ‘å®ƒçš„æƒ…å†µä»–æ²¡è¯´è¯äº†ï¼Œä¹Ÿè®¸ä¸æƒ³è®©æˆ‘è¿‡åº¦æ‹…å¿ƒï¼Œä¹Ÿè®¸æœ‰ä»€ä¹ˆéš¾è¨€ä¹‹éšã€‚\n\nä»–åœ¨ä¸´ç»ˆå‰ç»™æˆ‘è®²äº†ä¸€ä¸ªä¸é•¿ä¸çŸ­çš„æ•…äº‹ï¼Œè¿™ä¸ªæ•…äº‹ä¹Ÿè®¸åœ¨æå†™è€ w çš„ä¸€ç”Ÿï¼š\n\nåœ¨ä¸€ç‰‡é™è°§è€Œåº„é‡çš„ç—…æˆ¿ä¸­ï¼Œç”Ÿå‘½ä¹‹çƒ›å³å°†ç‡ƒå°½çš„è€äººâ€”â€”è€ wï¼Œé™é™åœ°èººåœ¨æ´ç™½çš„åºŠå•ä¸Šã€‚ä»–çš„çœ¼ç¥ä¸å†å¦‚å¹´è½»æ—¶é‚£èˆ¬é”åˆ©ï¼Œå´æ²‰æ·€ç€å²æœˆèµ‹äºˆçš„æ·±é‚ƒä¸å®é™ã€‚åŒ»ç”Ÿå’ŒæŠ¤å£«ä»¬åœ¨è§’è½é‡Œé»˜é»˜å…³æ³¨ï¼Œä½å£°äº¤è°ˆç€å…³äºä»–ç—…æƒ…çš„æœ€åè¯„ä¼°ã€‚æ­¤åˆ»ï¼Œè€ w çš„å¿ƒè·³å£°ä¸å‘¼å¸å£°äº¤ç»‡æˆä¸€é¦–ç”Ÿå‘½çš„æŒ½æ­Œï¼Œè€Œä»–çš„æ€ç»ªåˆ™ç©¿è¶Šæ—¶ç©ºï¼Œå±•å¼€äº†ä¸€åœºä¸´ç»ˆå‰çš„å›æº¯ä¹‹æ—…ã€‚\n","slug":"ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/åºç« ï¼šç”Ÿå‘½ä¹‹çƒ›æ‘‡æ›³","published":1,"updated":"2025-03-12T10:13:15.103Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0jc008ffg9m8hrd7ehs","content":"<p>è¯¥å°è¯´è™šå‡æ„è®¾ï¼Œä»…ä¾›å¨±ä¹ã€‚è¯·å‹¿ä»£å…¥ç°å®ã€‚</p>\n<p>è¿™ç¯‡çŸ­ç¯‡å°è¯´æ˜¯è€ w ä¸ºæˆ‘æä¾›çš„çš„ä¸€ä¸ªå°æ•…äº‹, è¯¥å°è¯´è®²å°½äº†ä»–è¿™ä¸€ç”Ÿçš„äººç”Ÿï¼Œä»¥åŠåˆ°æš®å¹´ä¹‹åå¿ƒä¸­å§‹ç»ˆçº ç»“çš„æ•…äº‹ï¼›</p>\n<blockquote>\n<p>ä¹‹å‰å¼€å§‹å†™æ–‡ç« çš„é‚£æ®µæ—¶é—´ï¼Œå‘ç°è‡ªå·±çæƒœæƒ³è¦çš„éƒ½åœ¨æ…¢æ…¢å¤±å»ï¼Œä¹Ÿè®¸åˆ°å‡ å¹´ä¹‹åéƒ½æ²¡æœ‰äº†é‚£ç§æ†§æ†¬ï¼Œäºæ˜¯æˆ‘å°±ä»¥æˆ‘ç”Ÿå‘½å³å°†ç»“æŸçš„æœ¦èƒ§é—´ï¼Œå¿«é€Ÿå›å¿†è‡ªå·±çš„ä¸€ç”Ÿï¼Œè™½ç„¶æ²¡æœ‰é‚£ç§å¤§èµ·å¤§è½ï¼Œä¹Ÿæ²¡æœ‰é‚£ç§é£é£å…‰å…‰ï¼Œåªæ˜¯ä½œä¸ºæ™®é€šäººï¼Œå…¶ä¸­æœ‰åæ‚”ï¼Œæœ‰æ‚”æ¨ï¼Œæœ‰é—æ†¾ï¼Œå„ç§æƒ…ç»ªçš„äº¤ç»‡æ‰èƒ½ç»„æˆäººçš„ä¸€ç”Ÿï¼›æ…¢æ…¢çš„è®°å½•ç”Ÿæ´»æ˜¯ä¸ºäº†é˜²æ­¢é‚£ä¸€å¤©æˆ‘çªç„¶æƒ³ä¸èµ·æ¥ï¼Œé‚£å°±æ„å‘³ç€æˆ‘çš„ç”Ÿå‘½å³å°†ç»ˆç»“ï¼Œåœ¨ç—…åºŠä¸Šçš„æœ¦èƒ§é—´ï¼Œæˆ‘ç¥ˆç¥·ä¸Šå¤©ï¼Œå¦‚æœç»™æˆ‘ä¸€æ¬¡é‡æ¥çš„æœºä¼šï¼Œæˆ‘ä¼šçæƒœæ‰€æœ‰ï¼Œæ²¡æœ‰é‡ç”Ÿè€…çš„å³è§†æ„Ÿï¼Œä¹Ÿæ²¡æœ‰ç©¿è¶Šè€…çš„æ ‡é…ï¼Œæœ‰çš„åªæ˜¯ä¸€ä¸ªå³å°†ç»“æŸç”Ÿå‘½çš„å°è€å¤´ï¼›ä½ é€è¿‡å¸¦æœ‰é»„æ˜å…‰çš„çª—æˆ·ï¼Œå›å¿†è¿™ä¸€ç”Ÿï¼Œæœ€åçœ¼è§’å¸¦ç€æ³ªæ°´ä¸­æ°¸è¿œçš„ç¡å»â€¦</p>\n</blockquote>\n<p>å¼€å§‹äº†â€¦</p>\n<p>xxxx å¹´çš„ä¸‹åˆï¼Œæˆ‘æ¥åˆ°äº†æ¥è‡ª xxxx åŒ»é™¢çš„ç”µè¯ï¼Œé‚£è¾¹è¯´ï¼š â€œè€ w åœ¨åŒ»é™¢å¿«ä¸è¡Œäº†ï¼Œä»–æ‰‹æœºä¸Šåªæœ‰ä½ çš„ç”µè¯ï¼Œä½ èµ¶ç´§æ¥ä¸€è¶Ÿå§!!â€</p>\n<p>æˆ‘å¬åˆ°è¿™ä¸ªæ¶ˆæ¯ä¹‹åæˆ‘æ…Œäº†ï¼Œå› ä¸ºå¹³æ—¶ä»–ä¹Ÿæ²¡å’Œæˆ‘è¯´èº«ä½“ä¸èˆ’æœï¼Œåˆ°ç°åœ¨æˆ‘éƒ½æ˜¯ä¸ç›¸ä¿¡çš„ï¼Œå®æ„¿ç›¸ä¿¡è¿™æ˜¯ä¸ªç©ç¬‘ï¼›ç«‹é©¬æ”¾ä¸‹æ‰‹ä¸Šçš„å·¥ä½œï¼Œæˆ‘åœ¨é©¬è·¯ä¸Šæ‰“äº†ä¸€è¾†å‡ºç§Ÿè½¦å°±å¾€åŒ»é™¢æ•¢å»ï¼Œåœ¨è½¦ä¸Šæ—¶ä¸æ—¶çš„å‚¬ä¿ƒå¸æœºå¿«äº›ï¼›</p>\n<p>æˆ‘åˆ°ç—…æˆ¿ä¸­ï¼Œçœ‹è§ä»–é‚£æ²¡æœ‰ç²¾ç¥çš„é¢è²Œä»¥åŠæ— ç¥çš„çœ¼ç›ï¼Œæˆ‘æ‰å‘ç°ä»–çš„ç—…æƒ…å·²ç»è·Ÿä¸¥é‡äº†ï¼›ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤šå¹´çš„å¥½å‹ä¸æ—©ç‚¹è·Ÿæˆ‘è¯´å‘¢ï¼Œæˆ‘å¹¶æ²¡æœ‰åŸ‹æ€¨ä»–ä¼¼ä¹è¿™ä¸€åˆ»ä»–çš„å¿ƒé‡Œæ¯”æˆ‘è¿˜ç—›è‹¦å§ï¼›æˆ‘æ²¡å¤šè¯´èµ°åˆ°çª—å‰è½»å£°è·Ÿä»–è¯´ï¼Œæ”¾å¿ƒæˆ‘æ¥äº†ï¼›</p>\n<p>è¿Ÿç–‘äº†ä¸€ä¼šï¼Œä»–è¯´è¯äº†ï¼š â€œå¾ˆæŠ±æ­‰è®©ä½ çœ‹åˆ°äº†æˆ‘å›§æ ·ï¼Œå¯ä¸è¦ç¬‘è¯æˆ‘â€ï¼Œ â€œä¸ä¼šçš„ï¼ä½ åº”è¯¥æ—©ç‚¹å‘Šè¯‰æˆ‘ä½ çš„çŠ¶å†µï¼Œå¥½åœ¨ç‚¹æ”¹å–„ä¸€ä¸‹å•Šâ€ è¿‡äº†ä¸€ä¼šâ€œèƒ½åœ¨ä¸´ç»ˆå‰èƒ½å’Œä½ è¿™ä¸ªè€å‹å” å” å—‘ï¼Œåœ¨è·¯ä¸Šæˆ‘ä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆé—æ†¾äº†â€ ä¸ºä»€ä¹ˆæ²¡æœ‰å‘Šè¯‰æˆ‘å®ƒçš„æƒ…å†µä»–æ²¡è¯´è¯äº†ï¼Œä¹Ÿè®¸ä¸æƒ³è®©æˆ‘è¿‡åº¦æ‹…å¿ƒï¼Œä¹Ÿè®¸æœ‰ä»€ä¹ˆéš¾è¨€ä¹‹éšã€‚</p>\n<p>ä»–åœ¨ä¸´ç»ˆå‰ç»™æˆ‘è®²äº†ä¸€ä¸ªä¸é•¿ä¸çŸ­çš„æ•…äº‹ï¼Œè¿™ä¸ªæ•…äº‹ä¹Ÿè®¸åœ¨æå†™è€ w çš„ä¸€ç”Ÿï¼š</p>\n<p>åœ¨ä¸€ç‰‡é™è°§è€Œåº„é‡çš„ç—…æˆ¿ä¸­ï¼Œç”Ÿå‘½ä¹‹çƒ›å³å°†ç‡ƒå°½çš„è€äººâ€”â€”è€ wï¼Œé™é™åœ°èººåœ¨æ´ç™½çš„åºŠå•ä¸Šã€‚ä»–çš„çœ¼ç¥ä¸å†å¦‚å¹´è½»æ—¶é‚£èˆ¬é”åˆ©ï¼Œå´æ²‰æ·€ç€å²æœˆèµ‹äºˆçš„æ·±é‚ƒä¸å®é™ã€‚åŒ»ç”Ÿå’ŒæŠ¤å£«ä»¬åœ¨è§’è½é‡Œé»˜é»˜å…³æ³¨ï¼Œä½å£°äº¤è°ˆç€å…³äºä»–ç—…æƒ…çš„æœ€åè¯„ä¼°ã€‚æ­¤åˆ»ï¼Œè€ w çš„å¿ƒè·³å£°ä¸å‘¼å¸å£°äº¤ç»‡æˆä¸€é¦–ç”Ÿå‘½çš„æŒ½æ­Œï¼Œè€Œä»–çš„æ€ç»ªåˆ™ç©¿è¶Šæ—¶ç©ºï¼Œå±•å¼€äº†ä¸€åœºä¸´ç»ˆå‰çš„å›æº¯ä¹‹æ—…ã€‚</p>\n","excerpt":"","more":"<p>è¯¥å°è¯´è™šå‡æ„è®¾ï¼Œä»…ä¾›å¨±ä¹ã€‚è¯·å‹¿ä»£å…¥ç°å®ã€‚</p>\n<p>è¿™ç¯‡çŸ­ç¯‡å°è¯´æ˜¯è€ w ä¸ºæˆ‘æä¾›çš„çš„ä¸€ä¸ªå°æ•…äº‹, è¯¥å°è¯´è®²å°½äº†ä»–è¿™ä¸€ç”Ÿçš„äººç”Ÿï¼Œä»¥åŠåˆ°æš®å¹´ä¹‹åå¿ƒä¸­å§‹ç»ˆçº ç»“çš„æ•…äº‹ï¼›</p>\n<blockquote>\n<p>ä¹‹å‰å¼€å§‹å†™æ–‡ç« çš„é‚£æ®µæ—¶é—´ï¼Œå‘ç°è‡ªå·±çæƒœæƒ³è¦çš„éƒ½åœ¨æ…¢æ…¢å¤±å»ï¼Œä¹Ÿè®¸åˆ°å‡ å¹´ä¹‹åéƒ½æ²¡æœ‰äº†é‚£ç§æ†§æ†¬ï¼Œäºæ˜¯æˆ‘å°±ä»¥æˆ‘ç”Ÿå‘½å³å°†ç»“æŸçš„æœ¦èƒ§é—´ï¼Œå¿«é€Ÿå›å¿†è‡ªå·±çš„ä¸€ç”Ÿï¼Œè™½ç„¶æ²¡æœ‰é‚£ç§å¤§èµ·å¤§è½ï¼Œä¹Ÿæ²¡æœ‰é‚£ç§é£é£å…‰å…‰ï¼Œåªæ˜¯ä½œä¸ºæ™®é€šäººï¼Œå…¶ä¸­æœ‰åæ‚”ï¼Œæœ‰æ‚”æ¨ï¼Œæœ‰é—æ†¾ï¼Œå„ç§æƒ…ç»ªçš„äº¤ç»‡æ‰èƒ½ç»„æˆäººçš„ä¸€ç”Ÿï¼›æ…¢æ…¢çš„è®°å½•ç”Ÿæ´»æ˜¯ä¸ºäº†é˜²æ­¢é‚£ä¸€å¤©æˆ‘çªç„¶æƒ³ä¸èµ·æ¥ï¼Œé‚£å°±æ„å‘³ç€æˆ‘çš„ç”Ÿå‘½å³å°†ç»ˆç»“ï¼Œåœ¨ç—…åºŠä¸Šçš„æœ¦èƒ§é—´ï¼Œæˆ‘ç¥ˆç¥·ä¸Šå¤©ï¼Œå¦‚æœç»™æˆ‘ä¸€æ¬¡é‡æ¥çš„æœºä¼šï¼Œæˆ‘ä¼šçæƒœæ‰€æœ‰ï¼Œæ²¡æœ‰é‡ç”Ÿè€…çš„å³è§†æ„Ÿï¼Œä¹Ÿæ²¡æœ‰ç©¿è¶Šè€…çš„æ ‡é…ï¼Œæœ‰çš„åªæ˜¯ä¸€ä¸ªå³å°†ç»“æŸç”Ÿå‘½çš„å°è€å¤´ï¼›ä½ é€è¿‡å¸¦æœ‰é»„æ˜å…‰çš„çª—æˆ·ï¼Œå›å¿†è¿™ä¸€ç”Ÿï¼Œæœ€åçœ¼è§’å¸¦ç€æ³ªæ°´ä¸­æ°¸è¿œçš„ç¡å»â€¦</p>\n</blockquote>\n<p>å¼€å§‹äº†â€¦</p>\n<p>xxxx å¹´çš„ä¸‹åˆï¼Œæˆ‘æ¥åˆ°äº†æ¥è‡ª xxxx åŒ»é™¢çš„ç”µè¯ï¼Œé‚£è¾¹è¯´ï¼š â€œè€ w åœ¨åŒ»é™¢å¿«ä¸è¡Œäº†ï¼Œä»–æ‰‹æœºä¸Šåªæœ‰ä½ çš„ç”µè¯ï¼Œä½ èµ¶ç´§æ¥ä¸€è¶Ÿå§!!â€</p>\n<p>æˆ‘å¬åˆ°è¿™ä¸ªæ¶ˆæ¯ä¹‹åæˆ‘æ…Œäº†ï¼Œå› ä¸ºå¹³æ—¶ä»–ä¹Ÿæ²¡å’Œæˆ‘è¯´èº«ä½“ä¸èˆ’æœï¼Œåˆ°ç°åœ¨æˆ‘éƒ½æ˜¯ä¸ç›¸ä¿¡çš„ï¼Œå®æ„¿ç›¸ä¿¡è¿™æ˜¯ä¸ªç©ç¬‘ï¼›ç«‹é©¬æ”¾ä¸‹æ‰‹ä¸Šçš„å·¥ä½œï¼Œæˆ‘åœ¨é©¬è·¯ä¸Šæ‰“äº†ä¸€è¾†å‡ºç§Ÿè½¦å°±å¾€åŒ»é™¢æ•¢å»ï¼Œåœ¨è½¦ä¸Šæ—¶ä¸æ—¶çš„å‚¬ä¿ƒå¸æœºå¿«äº›ï¼›</p>\n<p>æˆ‘åˆ°ç—…æˆ¿ä¸­ï¼Œçœ‹è§ä»–é‚£æ²¡æœ‰ç²¾ç¥çš„é¢è²Œä»¥åŠæ— ç¥çš„çœ¼ç›ï¼Œæˆ‘æ‰å‘ç°ä»–çš„ç—…æƒ…å·²ç»è·Ÿä¸¥é‡äº†ï¼›ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤šå¹´çš„å¥½å‹ä¸æ—©ç‚¹è·Ÿæˆ‘è¯´å‘¢ï¼Œæˆ‘å¹¶æ²¡æœ‰åŸ‹æ€¨ä»–ä¼¼ä¹è¿™ä¸€åˆ»ä»–çš„å¿ƒé‡Œæ¯”æˆ‘è¿˜ç—›è‹¦å§ï¼›æˆ‘æ²¡å¤šè¯´èµ°åˆ°çª—å‰è½»å£°è·Ÿä»–è¯´ï¼Œæ”¾å¿ƒæˆ‘æ¥äº†ï¼›</p>\n<p>è¿Ÿç–‘äº†ä¸€ä¼šï¼Œä»–è¯´è¯äº†ï¼š â€œå¾ˆæŠ±æ­‰è®©ä½ çœ‹åˆ°äº†æˆ‘å›§æ ·ï¼Œå¯ä¸è¦ç¬‘è¯æˆ‘â€ï¼Œ â€œä¸ä¼šçš„ï¼ä½ åº”è¯¥æ—©ç‚¹å‘Šè¯‰æˆ‘ä½ çš„çŠ¶å†µï¼Œå¥½åœ¨ç‚¹æ”¹å–„ä¸€ä¸‹å•Šâ€ è¿‡äº†ä¸€ä¼šâ€œèƒ½åœ¨ä¸´ç»ˆå‰èƒ½å’Œä½ è¿™ä¸ªè€å‹å” å” å—‘ï¼Œåœ¨è·¯ä¸Šæˆ‘ä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆé—æ†¾äº†â€ ä¸ºä»€ä¹ˆæ²¡æœ‰å‘Šè¯‰æˆ‘å®ƒçš„æƒ…å†µä»–æ²¡è¯´è¯äº†ï¼Œä¹Ÿè®¸ä¸æƒ³è®©æˆ‘è¿‡åº¦æ‹…å¿ƒï¼Œä¹Ÿè®¸æœ‰ä»€ä¹ˆéš¾è¨€ä¹‹éšã€‚</p>\n<p>ä»–åœ¨ä¸´ç»ˆå‰ç»™æˆ‘è®²äº†ä¸€ä¸ªä¸é•¿ä¸çŸ­çš„æ•…äº‹ï¼Œè¿™ä¸ªæ•…äº‹ä¹Ÿè®¸åœ¨æå†™è€ w çš„ä¸€ç”Ÿï¼š</p>\n<p>åœ¨ä¸€ç‰‡é™è°§è€Œåº„é‡çš„ç—…æˆ¿ä¸­ï¼Œç”Ÿå‘½ä¹‹çƒ›å³å°†ç‡ƒå°½çš„è€äººâ€”â€”è€ wï¼Œé™é™åœ°èººåœ¨æ´ç™½çš„åºŠå•ä¸Šã€‚ä»–çš„çœ¼ç¥ä¸å†å¦‚å¹´è½»æ—¶é‚£èˆ¬é”åˆ©ï¼Œå´æ²‰æ·€ç€å²æœˆèµ‹äºˆçš„æ·±é‚ƒä¸å®é™ã€‚åŒ»ç”Ÿå’ŒæŠ¤å£«ä»¬åœ¨è§’è½é‡Œé»˜é»˜å…³æ³¨ï¼Œä½å£°äº¤è°ˆç€å…³äºä»–ç—…æƒ…çš„æœ€åè¯„ä¼°ã€‚æ­¤åˆ»ï¼Œè€ w çš„å¿ƒè·³å£°ä¸å‘¼å¸å£°äº¤ç»‡æˆä¸€é¦–ç”Ÿå‘½çš„æŒ½æ­Œï¼Œè€Œä»–çš„æ€ç»ªåˆ™ç©¿è¶Šæ—¶ç©ºï¼Œå±•å¼€äº†ä¸€åœºä¸´ç»ˆå‰çš„å›æº¯ä¹‹æ—…ã€‚</p>\n"},{"title":"ä¸´ç»ˆå‰çš„å›æº¯-ç¬¬äº”ç« ï¼šç°å®çš„é­æ‰“","abbrlink":"51d543e4","date":"2023-10-08T01:05:01.000Z","_content":"å¤§å­¦ä¸€ç¬”å¸¦è¿‡ï¼Œå› ä¸ºæ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šäº‹æƒ…å‘ç”Ÿï¼Œå°±æ˜¯ä¸€ä¸ªâ€œåºŸäººâ€ï¼Œç¡è§‰æ‰“æ¸¸æˆï¼Œæ··è¿‡çš„å‡ å¹´...\n\nå®ä¹ æœŸé—´è™½ç„¶ä¹Ÿé‡åˆ°å§‘å¨˜ï¼Œä»–æ˜¯èˆè¹ˆç”Ÿï¼Œä½†æ˜¯æœ€åä¹Ÿæ²¡æœ‰åˆ°ä¸€èµ·ï¼Œåªæ˜¯åšäº†å‡ å¤©æœ‹å‹ï¼›\n\nå®ä¹ æœŸé—´ç»“æŸä¹‹åå°±å…ˆå»äº†ä¸€è¶Ÿäº‘å—ï¼Œç„¶åç›´æ¥å»äº†ä¸Šæµ·...\n\nè‡ªå·±å»æœºåœºä¹°é£æœºç¥¨ï¼Œä¸æ‡‚çš„åœ°æ–¹æ‰¾äººé—®ï¼Œç™¾åº¦æŸ¥ï¼Œå½“æ—¶è®°å¾—æœ‰ä¸ªå§‘å¨˜å¯¹æˆ‘è¯´ï¼š ä¸ç®¡ä½ èµ°åˆ°å“ªé‡Œéƒ½è¦è£…æˆä¸€ä¸ªç†Ÿäººï¼Œå•¥ä¹Ÿä¼šçš„ï¼›\n\nåˆ°äº†äº‘å—ä¹‹åï¼Œæœ¬æƒ³ç€æœ‰æœ‹å‹æ¥æˆ‘ï¼Œä½†æ˜¯ä»–è¦ä¸Šè¯¾ï¼Œæˆ‘å°±æ‰“è½¦ä½äº†é…’åº—ï¼Œåæ¥ä»–è¯´æˆ‘è¢«å‘äº†ï¼Œå› ä¸ºé‚£é‡ŒåŸºæœ¬éƒ½æ˜¯é»‘è½¦ï¼Œä½çš„é…’åº—ä¹Ÿè®¸éƒ½æ˜¯å‘äººçš„é‚£ç§ï¼Œä¸è¿‡æˆ‘è§‰å¾—è¿˜å¥½ï¼Œä¹Ÿæ²¡å‘ç°é’ˆå¯¹æˆ‘çš„ä¸€äº›äº‹æƒ…ï¼›\n\nç¬¬ä¸€æ¬¡å‡ºçœï¼Œäººç”Ÿåœ°ä¸ç†Ÿçš„ï¼Œå¹¸å¥½æ²¡æœ‰èµ°ä¸¢ï¼Œè°¢å¤©è°¢åœ°è°¢é«˜å¾·æ‹¯æ•‘äº†æˆ‘è¿™ä¹ˆä¸€ä¸ªè·¯ç—´ï¼›\n\nå½“æ—¶æ˜¯åœ¨äº‘å—äº”ååŒºç§Ÿäº†å°†è¿‘ä¸€ä¸ªæœˆçš„æˆ¿å­ï¼Œå°±æƒ³ç€æ‰¾æ‰¾å·¥ä½œçœ‹çœ‹è¿æ°”ï¼Œç»“æœä¸€å»ä¸€ä¸ªä¸å±å£°ï¼›\n\næœ¬æƒ³ç€æ¥ç€æ—…æ—…æ¸¸ï¼Œæœ€åæŠŠè‡ªå·±ææŠ‘éƒäº†ï¼›\n\nå»é¢è¯•ï¼Œè¢«ç°å®ç‹ ç‹ ä¸Šäº†ä¸€è¯¾ï¼Œå­¦å†ä¸è¡Œèƒ½åŠ›ä¸è¡Œï¼Œæ²¡ç»éªŒæ²¡æŠ€æœ¯å¤„å¤„ç¢°å£ï¼Œâ€œä¼š xxx å—ï¼Ÿä¼š xxx å—ï¼Ÿæˆ‘ä»¬è¦æ±‚çš„æ˜¯å¤åˆå‹äººæ‰ï¼Œä½ å¹¶ä¸é€‚åˆ...â€\n\næ‰“å°é‚£ä¹ˆå¤šçš„ç®€å†ä¹Ÿè®¸è¿‡å¾€äº‘çƒŸäº†ï¼Œä¸€å¼ å¼ çš„ç®€å†è®°å½•çš„å¹¶ä¸æ˜¯æˆ‘çš„è¿‡å»ï¼Œè€Œæ˜¯æˆ‘çš„æœªæ¥ï¼›è‡ªå·±å°±æƒ³è§’è½é‡Œéšé£é£˜èµ·çš„ä¸€å¼ çº¸ï¼Œéšå¤„å¯è§ï¼Œä½†å¹¶ä¸é‡è§†ï¼Œæ ¼å¤–ä¸èµ·çœ¼ï¼›\n\né‚£æ®µæ—¶é—´ï¼Œæˆ‘ä¹Ÿæƒ³äº†å¾ˆå¤šï¼Œäº²æˆšæœ‹å‹æ‰“æ¥çš„ç”µè¯åŸºæœ¬éƒ½æ˜¯ä¸æ¥çš„ï¼Œé‚£æ®µæ—¶é—´ç®€ç›´å°±æ˜¯äººé—´è’¸å‘æ‰äº†ï¼›\n\nä¸è¿‡è¿˜å¥½ï¼Œæˆ‘é‡åˆ°ä¸€å®¶å…¬å¸ï¼ˆå¯¹äºå®ä¹ ä¹‹åçš„è¯¦ç»†é€Ÿå†™ï¼‰ï¼š\n\nå¤§å­¦æ¯•ä¸šä¹‹å‰çš„äº‹æƒ…å°±ä¸æäº†ï¼Œæ¯•ä¸šä¹‹ååœ¨å±±è¥¿å®ä¹ äº†çŸ­æš‚çš„ä¸€å¹´ï¼Œå®ä¹ å®Œæˆå› ä¸ºå®¶é‡Œçš„äº‹æƒ…ï¼Œæˆ‘å°±å‡ºå»æ”¾æ¾äº†ä¸€æ®µæ—¶é—´ï¼Œå»äº†äº‘å—ï¼›äº‘å—çš„æ™¯è‰²è¯´å®è¯æ˜¯çœŸçš„å¾ˆç¾ï¼Œè¡¨é¢ä¸Šæ˜¯ä»¥æ‰¾å·¥ä½œä¸ºå™±å¤´ï¼Œå…¶å®å°±æ˜¯å–äº‘å—æ—…æ¸¸ç©è€äº†ä¸€ä¸ªæœˆå·¦å³ï¼Œå±±æ¸…æ°´ç§€ï¼Œä¸è¿‡å½“æ—¶æ˜¯åœ¨äº”ååŒºçŸ­æš‚çš„å‘†äº†ä¸€ä¸ªæœˆï¼ŒåŸºæœ¬æ¯å¤©éƒ½ä¼šå¬åˆ°æ¶ˆé˜²è½¦åœ¨å¤§è¡—ä¸Šé¸£ç¬›ï¼›é‚£ä¼šçš„äº‘å—è¿˜æ˜¯å¤ªçƒ­äº†ï¼Œå±±ä¸Šçš„æ ‘æœ¨éƒ½æœ‰äº†è‡ªç„¶çš„ç°è±¡ï¼›\n\nè¿‡äº†å‡ å¤©ä¹‹åï¼Œå°±å¸¦ç€è‡ªå·±ç®€å†å»è¯•äº†è¯•ï¼Œå¾ˆæˆåŠŸçš„å¤±è´¥äº†ï¼Œä½†æ˜¯ä¹Ÿæ²¡æ€ä¹ˆåæ€è‡ªå·±çš„é—®é¢˜ï¼Œç»“æœæŠ•äº†å°†è¿‘åŠä¸ªæœˆå§ï¼Œæˆ‘å¿ƒæ€å´©äº†ï¼Œè¿åœ¨å½“åœ°çš„åŸºç¡€å·¥èµ„çš„å·¥ä½œéƒ½æ‰¾ä¸ä¸Šï¼Œä¹Ÿè®¸å‹åŠ›å¤§è¿˜æ˜¯è‡ªå·±çš„æ— èƒ½å¯¼è‡´è‡ªå·±èµ°å‘äº†è½»å¾®æŠ‘éƒï¼Œå„¿è¡Œåƒé‡Œæ¯æ‹…å¿§ï¼Œå½“æ—¶å®¶é‡Œä¹Ÿæ‰“è¿‡å¾ˆå¤šç”µè¯ï¼Œåˆšå¼€å§‹è¿˜è¯´é“è¯´é“ï¼Œåé¢ å°±ä¸æ¥äº†ï¼Œå­¦æ ¡ï¼Œæœ‹å‹çš„æ¶ˆæ¯ä¹Ÿéƒ½æ²¡å›ï¼›\n\næœºç¼˜å·§åˆï¼Œåœ¨ä¸€ç•ªå¤±è´¥ä¹‹åï¼Œé¢è¯•ä¸Šäº†æ˜†æ˜æ‹“é¸¿ç§‘æŠ€å…¬å¸ï¼Œå½“æ—¶è¿›å»ä¹‹åï¼Œå°±æ„Ÿæ…¨çœŸä¸æ„§æ˜¯åŒºåŸŸå¤§å…¬å¸ï¼Œå½“æ—¶å¥½åƒç»å†äº†äºŒæ¬¡é¢è¯•ï¼Œä¹‹åä¸å…¬å¸çš„å¤§é¢†å¯¼è°ˆäº†è°ˆï¼Œä¹‹å‰æ˜¯åšæŠ€æœ¯çš„ï¼Œè¯´æˆ‘ç°åœ¨å¯ä»¥è€ƒè™‘ä¸€ä¸‹å…¬å¸çš„é”€å”®å²—ä½ï¼ŒåæœŸå¯ä»¥è°ƒå²—ï¼›æˆ‘æ²¡æœ‰ç›´æ¥æ‹’ç»ï¼Œè¯´äº†è€ƒè™‘ä¸€ä¸‹ï¼›\n\nåœ¨å…¬å¸å‘†äº†ä¸€ä¸‹åˆï¼Œå‚ä¸äº†å…¬å¸çš„ä¸€äº›å°æ¸¸æˆï¼Œæ´»åŠ¨ï¼Œä»‹ç»ç­‰ï¼›å›å»ä¹‹åè€ƒè™‘ä¹‹åå°±æ‹’ç»äº†ï¼›\n\nä¹‹åï¼Œæœ‹å‹è·Ÿæˆ‘æ‰“ç”µè¯è¯´æ˜¯è¦å»ä¸Šæµ·ï¼Œæˆ‘æƒ³è¿‡ä¹‹åï¼Œç›¸å¯¹äºå¤§åŸå¸‚è‚¯å®šæœºä¼šå¤šï¼ŒäºŒè¯ä¸è¯´çš„ç­”åº”äº†ï¼Œå¹¶ä¸”æ”¶æ‹¾å®Œä¹‹åï¼Œå°±å‡ºå‘äº†ï¼›\n\næ¥äº†ä¸Šæµ·ä¹‹åï¼Œæ²¡åœ°æ–¹ä½ï¼Œåªèƒ½ä½åœ¨æœ‹å‹é‚£é‡Œï¼Œä¸‰ä¸–ä¸€å…ä¸€å¨ä¸€å«ï¼Œä»–ä»¬æœ‰ä¸‰ä¸ªäººï¼Œå†åŠ ä¸Šæˆ‘å’Œæœ‹å‹å…±äº”äººï¼Œæœ‹å‹å»çš„æ‰¾ç¡åœ¨äº†æ²™å‘ï¼Œæˆ‘å»çš„æ™šä¸€äº›ï¼Œæ²¡åœ°æ–¹ç¡ï¼Œä¸Šæµ·æœ‹å‹è¯´å…ˆåœ¨è¿™é‡ŒæŒ¤ä¸€æŒ¤å§ï¼Œæ‰¾åˆ°å·¥ä½œä¹‹åå†æ¬èµ°ï¼Œä»–ä»¬ä¸‰å®¤ä¸»äººï¼Œä¸€äººä¸€é—´ï¼Œæœ‹å‹ç¡æ²™å‘åˆšå¥½å¤Ÿä»–çš„ä½ç½®ï¼ŒèŒ¶å‡ æ—è¾¹è¿˜æœ‰çª„çª„çš„è¿‡é“ï¼Œæˆ‘å°±æ¬äº†ä¿©ä¸ªå‡³å­å †åœ¨ä¸€èµ·ï¼Œå¤´ä¸‹æ”¾ä¸€ä¸ªï¼Œè…°ä¸‹æ”¾ä¸€ä¸ªï¼Œè„šä¸‹æ”¾è‡ªå·±çš„è¡Œæç®±ï¼›å°±é‚£æ ·åœ¨æ½®æ¹¿çš„ç¯å¢ƒå‘†äº†ä¸€ä¸ªæœˆå¥½åƒï¼Œæ‰¾åˆ°å„è‡ªçš„å·¥ä½œï¼Œç§Ÿæˆ¿ä¹‹åå°±ä¹°äº†ç‚¹æ°´æœç¤¼å“ï¼Œæ‹œè°¢ä¹‹åå°±æ¬èµ°äº†ï¼›\n\nä¸Šæµ·é¸£çš‹æ•™è‚²ç§‘æŠ€æœ‰é™å…¬å¸, æˆ‘æ¥äº†ï¼Œåˆšå¼€å§‹è¿›å»ä¹‹åå¾ˆé™Œç”Ÿï¼Œä¹Ÿå¾ˆèƒ†æ€¯ï¼›èµ·åˆæ˜¯æ²¡æœ‰é¡¹ç›®å¯ä»¥åšçš„ï¼Œæˆ‘å°±åœ¨çœ‹å‰è¾ˆä»¬åšè¿‡çš„é¡¹ç›®å­¦ä¹ å­¦ä¹ ï¼›åŒäº‹ä¹Ÿå¾ˆçƒ­æƒ…ï¼Œæˆ‘è€å¤§å¿—å“¥äººå¾ˆä¸é”™ï¼Œåœ¨ä»–çš„å¸¦é¢†ä¸‹ï¼Œæˆ‘ç®—æ˜¯è½¬æ­£å¹¶æ¥è§¦äº†ç¬¬ä¸€ä¸ªå±äºè‡ªå·±æ­å»ºçš„é¡¹ç›®ï¼Œè¿™ä¸ªè¿‡ç¨‹å¾ˆç¹çï¼Œç»“æœä¹Ÿä¸æ˜¯å¾ˆæ»¡æ„ï¼Œå› ä¸ºæˆ‘æ²¡æœ‰ä»€ä¹ˆå·¥ä½œç»éªŒï¼Œå·¥ä½œä¸­ä¹Ÿæ€»æ˜¯çŠ¯é”™ï¼Œåˆšæ”¹å¥½çš„ bugï¼Œæ”¹äº†å…¶ä»–åœ°æ–¹æœ‰æŠ¥é”™äº†ï¼›emmï¼Œæˆ‘å¾ˆè‹¦æ¼ï¼Œä¸è¿‡æˆ‘å¯¹é¢çš„åç«¯å‰è¾ˆæ¯”æˆ‘å¹´é•¿å‡ å²ï¼Œå’Œä»–è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘å­¦åˆ°äº†å¾ˆå¤šï¼Œè™½ç„¶è¯­æ°”ä¸æ€ä¹ˆå¥½ï¼Œä½†æ˜¯æ²¡æ”¾åœ¨å¿ƒä¸Š å°±æ˜¯ä¸ºäº†å­¦ä¹ è€Œæ¥ï¼›\n\né‚£æ—¶å€™èŠ±é”€ä¹Ÿå¾ˆå¤§ï¼Œå†åŠ ä¸Šä¹‹å‰æ‰‹å¤´æ¯”è¾ƒç´§ï¼Œåœ¨å¹³å°å€Ÿçš„ä¸€äº›ï¼Œå¯¼è‡´åä¿©å¹´éƒ½åœ¨è¿˜ï¼›\n\nä¹‹åï¼Œåœ¨å­¦ä¹ äº†ä¸€å¹´ä¹‹åï¼Œå°±è·Ÿè€å¤§æäº†ç¦»èŒã€‚ã€‚ã€‚\n\næˆ‘æ¥åˆ°äº†ä¸Šæµ·å¸˜é‚¦ä¿¡æ¯ç§‘æŠ€æœ‰é™å…¬å¸, è§„æ¨¡äººæ•°è¦æ¯”ä¹‹å‰çš„å¤§ä¸€ç‚¹ï¼Œå…¥èŒä¹‹åï¼Œæ°å“¥è®©æˆ‘ç†Ÿæ‚‰ä¸€ä¸‹ç¯å¢ƒï¼Œåˆšå¼€å§‹å¿ƒé‡Œæƒ³æ”¹å˜è‡ªå·±æ´»è·ƒèµ·æ¥ï¼Œä¸€åˆ°æ­£ç»æ—¶æœŸå°±æ€¯åœºï¼›å°±é‚£æ ·è½¬æ­£äº†ï¼Œæ¥è§¦äº† nodeï¼Œå­¦ä¹ äº†è§„èŒƒåŒ–æµç¨‹æ¸…æ¥šçš„çŸ¥é“äº†è‡ªå·±å¾ˆå¤šçš„é—®é¢˜ä¸ç¼ºé™·ï¼›\n\nçº¿ä¸‹æ—¶é—´å°±å»äº†è§£ nodeï¼Œå¹¶ä»¥ node+express æ­å»º api è¯·æ±‚ï¼Œåœ¨ç»å†ä¸ªåŠä¸ªæœˆä¹‹åï¼Œå°±è‡ªå·±åŠ¨æ‰‹æ­å»ºäº†ä¸€ä¸ªç®€å•çš„åšå®¢ç³»ç»Ÿ, è¿™ä¹Ÿæ˜¯ç¬¬ä¸€ä»£åšå®¢çš„äº§ç”Ÿï¼Œå› ä¸ºæ•°æ®å…¨éƒ½æ˜¯é™æ€çš„ï¼Œå¹¶ä¸”æ–‡æ¡£çš„è§£ææ–¹å¼ä¸ä¸€è‡´ï¼Œåé¢å°±åºŸå¼ƒäº†ï¼›ç®€å•çš„å­¦ä¹ äº†å®å¡”å¸ƒå±€æœåŠ¡å™¨ï¼Œåˆšå¼€å§‹çš„å‰ç«¯éƒ¨ç½²è¿˜æ˜¯ä¸Šä¼ æ–‡ä»¶ï¼Œåæ¥è€ƒè™‘åˆ°å¤ªéº»çƒ¦å°±æŸ¥é˜…èµ„æ–™ï¼Œè‡ªå·±ç®€å•çš„å­¦äº†ä¸€ä¸‹ jenkins ä¸æ˜¯ node å’Œ vue é¡¹ç›®ï¼Œç®€å•è¯´å°±æ˜¯å°†é¡¹ç›®æ‹‰ä¸‹æ¥ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œå°† dist æ–‡ä»¶å†…å®¹å¤åˆ¶åœ¨è‡ªå·±çš„ç½‘ç«™ä¸‹é¢ï¼Œ è¿™æ ·é€šè¿‡å‘½ä»¤å°±å¯ä»¥ç›´æ¥å®Œæˆäº†ï¼›ä¸è¿‡æ‰“åŒ…å’Œéƒ¨ç½²è¿‡ç¨‹ä¹Ÿæ˜¯èŠ±è´¹äº†æˆ‘ä¸å°‘æ—¶é—´ï¼›\n\nå¹´ç»ˆæ€»ç»“å¤§ä¼šæ¥äº†ï¼Œå› ä¸ºä¹‹å‰æ²¡æœ‰å‚ä¸è¿‡ä¸çŸ¥é“æ€§è´¨å’Œä½œç”¨ï¼ŒæŠ½ç­¾æŠ½åˆ°äº†ç¬¬ä¸€åï¼Œæ…Œäº†ä¸çŸ¥é“è‡ªå·±è¯¥æ€ä¹ˆåšï¼Œåœ¨å‰è¾ˆçš„å¸¦é¢†ä¸‹ï¼Œè‡ªå·±è¯´çš„æ²¡æœ‰é€»è¾‘å°±è¯´å®Œäº†ï¼›çŸ¥é“äº†å‘¨å›´åŒäº‹çš„ä¼˜ç§€ï¼Œä¹Ÿæ˜ç™½äº†è‡ªå·±æŠ€æœ¯ä¸æ‰å®ï¼Œæ²¡æœ‰è‡ªä¿¡ï¼›\n\næ¥ä¸‹æ¥çš„æ—¶é—´å°±æ˜¯æå‡è‡ªå·±ï¼Œæå‡è‡ªå·±çš„è‡ªä¿¡ï¼Œåœ¨ä»¥å…¬å¸é¡¹ç›®ä¸ºä¸­å¿ƒï¼ŒæŠ€æœ¯èŒƒå›´çš„å­¦ä¹ æ‰©å¤§ï¼Œä¸å•å•æ˜¯ä»¥ node, express ç„¶åç®€å•äº†è§£ koa çš„åŸºç¡€ä½¿ç”¨ï¼Œä¹‹ååœ¨è¿™åŸºç¡€ä¸Šåˆæ¥è§¦äº† nestï¼Œ mqSqlï¼Œå¹¶ä¸”ç®€å•çš„å¢åˆ æ”¹æŸ¥çš„åŠŸèƒ½ï¼›ç™½å¤©çš„æ—¶é—´åŸºæœ¬éƒ½åœ¨å·¥ä½œï¼Œé—²æš‡æ—¶é—´å»å­¦ä¹  vue ç›¸å…³çš„çŸ¥è¯†ï¼Œé€šè¿‡ github é¡¹ç›®ï¼Œæ˜é‡‘ï¼Œcsdn ç­‰ç­‰è®ºå›ï¼Œæ–‡æ¡£çš„å½¢å¼è¡¥å……è‡ªå·±åŸºç¡€ä¸Šçš„ä¸è¶³ï¼›å†ä¸€å¹´çš„æ€»ç»“å¤§ä¼šï¼ŒåŒäº‹ç»™æˆ‘çš„è¯„ä»·: æˆé•¿è¿…é€Ÿï¼Œæœ‰è‡ªå·±çš„æƒ³æ³•ï¼Œä¸ä»–äººæ²Ÿé€šå¤šäº†èµ·æ¥ï¼›è€å¤§ä¹Ÿæ˜¯çœ‹å¥½æˆ‘çš„ï¼Œä¹‹åçš„å·¥ä½œä¸å†èŠ±å¤§é‡æ—¶é—´å»å­¦ä¹ åŸºç¡€äº†ï¼Œåœ¨é¡¹ç›®çš„å¥ åŸºä¸Šå»¶ä¼¸åŠŸèƒ½çš„ä¼˜åŒ–ï¼Œæ€§èƒ½çš„ä¼˜åŒ–ç­‰ç­‰ï¼›\n\nå¹¶åœ¨çŸ¥è¯†åº“ä¸­ï¼Œç¼–å†™æ–‡æ¡£ï¼Œé¡¹ç›®ä¸­ç»å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆï¼Œä¸€äº›å·¥å…·çš„å°è£…ä½¿ç”¨ï¼Œè§„èŒƒç­‰ç­‰ï¼Œå¹¶æå‡ºæŠ€æœ¯åˆ†äº«ä¼šè®®ï¼Œå°†è‡ªå·±çš„æ–‡æ¡£ï¼Œæƒ³æ³•è®²äº†å‡ºæ¥æ•ˆæœè¿˜æ˜¯ä¸é”™ï¼›ä¸è¿‡åæ¥æ²¡æœ‰ç»§ç»­æ‰§è¡Œäº†ï¼Œå¤§å®¶æ‰‹é‡Œçš„äº‹æƒ…æ¯”è¾ƒå¤šï¼Œéœ€æ±‚è¿­ä»£ç´§æ€¥å°±æ²¡æœ‰æ—¶é—´äº†è¯´è¿™ä¸ªåˆ†äº«ï¼›\n\nä¹‹åè§‰å¾—è‡ªå·±å·¥ä½œä¸­çš„åŠŸèƒ½æ²¡æœ‰å¤ªå¤§çš„é—®é¢˜ï¼Œå°±æ¥è§¦äº†ä¸€äº›å…¶ä»–çš„è¯­è¨€ï¼Œdart, flutterï¼Œäº†è§£å…¶ä½¿ç”¨ï¼Œgetx çŠ¶æ€ç®¡ç†å™¨, http çš„æ‹¦æˆªä½¿ç”¨ç®€å•çš„è¯·æ±‚æ¸²æŸ“é¡µé¢ï¼›ä½œä¸ºä¸€ä¸ªæŠ€æœ¯å‚¨å¤‡ï¼›\n\nåœ¨å…¬å¸å‘ç°äº†ä¸€äº›é—®é¢˜ï¼Œå…¬å¸æ²¡æœ‰ pc,h5 çš„æ¨¡æ¿é¡¹ç›®ï¼Œå¦‚æœåæœŸç¼–å†™æ–°çš„é¡¹ç›®åªèƒ½å¤åˆ¶ä¹‹å‰çš„é¡¹ç›®è¿›è¡Œä¿®æ”¹äº†ï¼Œåœ¨è¿™é—®é¢˜ä¹‹ä¸Šæˆ‘è¿›è¡Œè€ƒè™‘ï¼Œå¦‚æœèƒ½æƒ³ vue-cli å®‰è£…ä¸€æ ·ï¼Œè¿™æ ·çš„é—®é¢˜æ˜¯ä¸æ˜¯å°±è§£å†³äº†ï¼Œçº¿ä¸‹æ—¶é—´å‘é¢†å¯¼è¯·æ±‚ä»“åº“çš„æƒé™ï¼Œåœ¨åŒæ„ä¹‹åèŠ±è´¹ä¿©å¤©å·¦å³æ—¶é—´äº†è§£å…¶è¿è¡ŒåŸç†ä¸åŠŸèƒ½ï¼Œå¹¶é€šè¿‡ npm å‘å¸ƒè‡ªå·±çš„å·¥å…·ï¼Œäºæ˜¯ tem-pro å·¥å…·å°±ä¸Šçº¿äº†ï¼›èµ·åˆå‘¨ä¸‹è½½é‡ä¹Ÿæœ‰äº† 100 å·¦å³çš„ä¸‹è½½ï¼Œæ…¢æ…¢çš„åé¢ä¸‹è½½é‡å°±å‡å°‘äº†ï¼›\n\nå¯¹äºåæœŸæ˜¯å¦ç»§ç»­å‘†åœ¨ä¸Šæµ·è¿˜ä¸æ•¢ä¿è¯ï¼Œæ¯•ç«Ÿè‡ªèº«å‹åŠ›ï¼Œå®¶åº­ï¼Œè‡ªèº«æ¡ä»¶ï¼Œæˆå®¶ç­‰å¤šå› ç´ çš„å½±å“ï¼Œä¹Ÿæœ‰å¯èƒ½åå‡ å¹´å°±å›è€å®¶äº†ï¼›\n\nä¸è¿‡ç°åœ¨è¿˜æ²¡æœ‰è¿™ä¸ªæƒ³æ³•ï¼Œå…ˆç»§ç»­æå‡è‡ªå·±çš„èƒ½åŠ›å§ï¼\n","source":"_posts/ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/ç°å®çš„é­æ‰“.md","raw":"---\ntitle: ä¸´ç»ˆå‰çš„å›æº¯-ç¬¬äº”ç« ï¼šç°å®çš„é­æ‰“\nabbrlink: 51d543e4\ndate: 2023-10-08 09:05:01\ncategories:\n  - ç”Ÿæ´»æ—¥å¿—\ntags:\n  - å°è¯´\n---\nå¤§å­¦ä¸€ç¬”å¸¦è¿‡ï¼Œå› ä¸ºæ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šäº‹æƒ…å‘ç”Ÿï¼Œå°±æ˜¯ä¸€ä¸ªâ€œåºŸäººâ€ï¼Œç¡è§‰æ‰“æ¸¸æˆï¼Œæ··è¿‡çš„å‡ å¹´...\n\nå®ä¹ æœŸé—´è™½ç„¶ä¹Ÿé‡åˆ°å§‘å¨˜ï¼Œä»–æ˜¯èˆè¹ˆç”Ÿï¼Œä½†æ˜¯æœ€åä¹Ÿæ²¡æœ‰åˆ°ä¸€èµ·ï¼Œåªæ˜¯åšäº†å‡ å¤©æœ‹å‹ï¼›\n\nå®ä¹ æœŸé—´ç»“æŸä¹‹åå°±å…ˆå»äº†ä¸€è¶Ÿäº‘å—ï¼Œç„¶åç›´æ¥å»äº†ä¸Šæµ·...\n\nè‡ªå·±å»æœºåœºä¹°é£æœºç¥¨ï¼Œä¸æ‡‚çš„åœ°æ–¹æ‰¾äººé—®ï¼Œç™¾åº¦æŸ¥ï¼Œå½“æ—¶è®°å¾—æœ‰ä¸ªå§‘å¨˜å¯¹æˆ‘è¯´ï¼š ä¸ç®¡ä½ èµ°åˆ°å“ªé‡Œéƒ½è¦è£…æˆä¸€ä¸ªç†Ÿäººï¼Œå•¥ä¹Ÿä¼šçš„ï¼›\n\nåˆ°äº†äº‘å—ä¹‹åï¼Œæœ¬æƒ³ç€æœ‰æœ‹å‹æ¥æˆ‘ï¼Œä½†æ˜¯ä»–è¦ä¸Šè¯¾ï¼Œæˆ‘å°±æ‰“è½¦ä½äº†é…’åº—ï¼Œåæ¥ä»–è¯´æˆ‘è¢«å‘äº†ï¼Œå› ä¸ºé‚£é‡ŒåŸºæœ¬éƒ½æ˜¯é»‘è½¦ï¼Œä½çš„é…’åº—ä¹Ÿè®¸éƒ½æ˜¯å‘äººçš„é‚£ç§ï¼Œä¸è¿‡æˆ‘è§‰å¾—è¿˜å¥½ï¼Œä¹Ÿæ²¡å‘ç°é’ˆå¯¹æˆ‘çš„ä¸€äº›äº‹æƒ…ï¼›\n\nç¬¬ä¸€æ¬¡å‡ºçœï¼Œäººç”Ÿåœ°ä¸ç†Ÿçš„ï¼Œå¹¸å¥½æ²¡æœ‰èµ°ä¸¢ï¼Œè°¢å¤©è°¢åœ°è°¢é«˜å¾·æ‹¯æ•‘äº†æˆ‘è¿™ä¹ˆä¸€ä¸ªè·¯ç—´ï¼›\n\nå½“æ—¶æ˜¯åœ¨äº‘å—äº”ååŒºç§Ÿäº†å°†è¿‘ä¸€ä¸ªæœˆçš„æˆ¿å­ï¼Œå°±æƒ³ç€æ‰¾æ‰¾å·¥ä½œçœ‹çœ‹è¿æ°”ï¼Œç»“æœä¸€å»ä¸€ä¸ªä¸å±å£°ï¼›\n\næœ¬æƒ³ç€æ¥ç€æ—…æ—…æ¸¸ï¼Œæœ€åæŠŠè‡ªå·±ææŠ‘éƒäº†ï¼›\n\nå»é¢è¯•ï¼Œè¢«ç°å®ç‹ ç‹ ä¸Šäº†ä¸€è¯¾ï¼Œå­¦å†ä¸è¡Œèƒ½åŠ›ä¸è¡Œï¼Œæ²¡ç»éªŒæ²¡æŠ€æœ¯å¤„å¤„ç¢°å£ï¼Œâ€œä¼š xxx å—ï¼Ÿä¼š xxx å—ï¼Ÿæˆ‘ä»¬è¦æ±‚çš„æ˜¯å¤åˆå‹äººæ‰ï¼Œä½ å¹¶ä¸é€‚åˆ...â€\n\næ‰“å°é‚£ä¹ˆå¤šçš„ç®€å†ä¹Ÿè®¸è¿‡å¾€äº‘çƒŸäº†ï¼Œä¸€å¼ å¼ çš„ç®€å†è®°å½•çš„å¹¶ä¸æ˜¯æˆ‘çš„è¿‡å»ï¼Œè€Œæ˜¯æˆ‘çš„æœªæ¥ï¼›è‡ªå·±å°±æƒ³è§’è½é‡Œéšé£é£˜èµ·çš„ä¸€å¼ çº¸ï¼Œéšå¤„å¯è§ï¼Œä½†å¹¶ä¸é‡è§†ï¼Œæ ¼å¤–ä¸èµ·çœ¼ï¼›\n\né‚£æ®µæ—¶é—´ï¼Œæˆ‘ä¹Ÿæƒ³äº†å¾ˆå¤šï¼Œäº²æˆšæœ‹å‹æ‰“æ¥çš„ç”µè¯åŸºæœ¬éƒ½æ˜¯ä¸æ¥çš„ï¼Œé‚£æ®µæ—¶é—´ç®€ç›´å°±æ˜¯äººé—´è’¸å‘æ‰äº†ï¼›\n\nä¸è¿‡è¿˜å¥½ï¼Œæˆ‘é‡åˆ°ä¸€å®¶å…¬å¸ï¼ˆå¯¹äºå®ä¹ ä¹‹åçš„è¯¦ç»†é€Ÿå†™ï¼‰ï¼š\n\nå¤§å­¦æ¯•ä¸šä¹‹å‰çš„äº‹æƒ…å°±ä¸æäº†ï¼Œæ¯•ä¸šä¹‹ååœ¨å±±è¥¿å®ä¹ äº†çŸ­æš‚çš„ä¸€å¹´ï¼Œå®ä¹ å®Œæˆå› ä¸ºå®¶é‡Œçš„äº‹æƒ…ï¼Œæˆ‘å°±å‡ºå»æ”¾æ¾äº†ä¸€æ®µæ—¶é—´ï¼Œå»äº†äº‘å—ï¼›äº‘å—çš„æ™¯è‰²è¯´å®è¯æ˜¯çœŸçš„å¾ˆç¾ï¼Œè¡¨é¢ä¸Šæ˜¯ä»¥æ‰¾å·¥ä½œä¸ºå™±å¤´ï¼Œå…¶å®å°±æ˜¯å–äº‘å—æ—…æ¸¸ç©è€äº†ä¸€ä¸ªæœˆå·¦å³ï¼Œå±±æ¸…æ°´ç§€ï¼Œä¸è¿‡å½“æ—¶æ˜¯åœ¨äº”ååŒºçŸ­æš‚çš„å‘†äº†ä¸€ä¸ªæœˆï¼ŒåŸºæœ¬æ¯å¤©éƒ½ä¼šå¬åˆ°æ¶ˆé˜²è½¦åœ¨å¤§è¡—ä¸Šé¸£ç¬›ï¼›é‚£ä¼šçš„äº‘å—è¿˜æ˜¯å¤ªçƒ­äº†ï¼Œå±±ä¸Šçš„æ ‘æœ¨éƒ½æœ‰äº†è‡ªç„¶çš„ç°è±¡ï¼›\n\nè¿‡äº†å‡ å¤©ä¹‹åï¼Œå°±å¸¦ç€è‡ªå·±ç®€å†å»è¯•äº†è¯•ï¼Œå¾ˆæˆåŠŸçš„å¤±è´¥äº†ï¼Œä½†æ˜¯ä¹Ÿæ²¡æ€ä¹ˆåæ€è‡ªå·±çš„é—®é¢˜ï¼Œç»“æœæŠ•äº†å°†è¿‘åŠä¸ªæœˆå§ï¼Œæˆ‘å¿ƒæ€å´©äº†ï¼Œè¿åœ¨å½“åœ°çš„åŸºç¡€å·¥èµ„çš„å·¥ä½œéƒ½æ‰¾ä¸ä¸Šï¼Œä¹Ÿè®¸å‹åŠ›å¤§è¿˜æ˜¯è‡ªå·±çš„æ— èƒ½å¯¼è‡´è‡ªå·±èµ°å‘äº†è½»å¾®æŠ‘éƒï¼Œå„¿è¡Œåƒé‡Œæ¯æ‹…å¿§ï¼Œå½“æ—¶å®¶é‡Œä¹Ÿæ‰“è¿‡å¾ˆå¤šç”µè¯ï¼Œåˆšå¼€å§‹è¿˜è¯´é“è¯´é“ï¼Œåé¢ å°±ä¸æ¥äº†ï¼Œå­¦æ ¡ï¼Œæœ‹å‹çš„æ¶ˆæ¯ä¹Ÿéƒ½æ²¡å›ï¼›\n\næœºç¼˜å·§åˆï¼Œåœ¨ä¸€ç•ªå¤±è´¥ä¹‹åï¼Œé¢è¯•ä¸Šäº†æ˜†æ˜æ‹“é¸¿ç§‘æŠ€å…¬å¸ï¼Œå½“æ—¶è¿›å»ä¹‹åï¼Œå°±æ„Ÿæ…¨çœŸä¸æ„§æ˜¯åŒºåŸŸå¤§å…¬å¸ï¼Œå½“æ—¶å¥½åƒç»å†äº†äºŒæ¬¡é¢è¯•ï¼Œä¹‹åä¸å…¬å¸çš„å¤§é¢†å¯¼è°ˆäº†è°ˆï¼Œä¹‹å‰æ˜¯åšæŠ€æœ¯çš„ï¼Œè¯´æˆ‘ç°åœ¨å¯ä»¥è€ƒè™‘ä¸€ä¸‹å…¬å¸çš„é”€å”®å²—ä½ï¼ŒåæœŸå¯ä»¥è°ƒå²—ï¼›æˆ‘æ²¡æœ‰ç›´æ¥æ‹’ç»ï¼Œè¯´äº†è€ƒè™‘ä¸€ä¸‹ï¼›\n\nåœ¨å…¬å¸å‘†äº†ä¸€ä¸‹åˆï¼Œå‚ä¸äº†å…¬å¸çš„ä¸€äº›å°æ¸¸æˆï¼Œæ´»åŠ¨ï¼Œä»‹ç»ç­‰ï¼›å›å»ä¹‹åè€ƒè™‘ä¹‹åå°±æ‹’ç»äº†ï¼›\n\nä¹‹åï¼Œæœ‹å‹è·Ÿæˆ‘æ‰“ç”µè¯è¯´æ˜¯è¦å»ä¸Šæµ·ï¼Œæˆ‘æƒ³è¿‡ä¹‹åï¼Œç›¸å¯¹äºå¤§åŸå¸‚è‚¯å®šæœºä¼šå¤šï¼ŒäºŒè¯ä¸è¯´çš„ç­”åº”äº†ï¼Œå¹¶ä¸”æ”¶æ‹¾å®Œä¹‹åï¼Œå°±å‡ºå‘äº†ï¼›\n\næ¥äº†ä¸Šæµ·ä¹‹åï¼Œæ²¡åœ°æ–¹ä½ï¼Œåªèƒ½ä½åœ¨æœ‹å‹é‚£é‡Œï¼Œä¸‰ä¸–ä¸€å…ä¸€å¨ä¸€å«ï¼Œä»–ä»¬æœ‰ä¸‰ä¸ªäººï¼Œå†åŠ ä¸Šæˆ‘å’Œæœ‹å‹å…±äº”äººï¼Œæœ‹å‹å»çš„æ‰¾ç¡åœ¨äº†æ²™å‘ï¼Œæˆ‘å»çš„æ™šä¸€äº›ï¼Œæ²¡åœ°æ–¹ç¡ï¼Œä¸Šæµ·æœ‹å‹è¯´å…ˆåœ¨è¿™é‡ŒæŒ¤ä¸€æŒ¤å§ï¼Œæ‰¾åˆ°å·¥ä½œä¹‹åå†æ¬èµ°ï¼Œä»–ä»¬ä¸‰å®¤ä¸»äººï¼Œä¸€äººä¸€é—´ï¼Œæœ‹å‹ç¡æ²™å‘åˆšå¥½å¤Ÿä»–çš„ä½ç½®ï¼ŒèŒ¶å‡ æ—è¾¹è¿˜æœ‰çª„çª„çš„è¿‡é“ï¼Œæˆ‘å°±æ¬äº†ä¿©ä¸ªå‡³å­å †åœ¨ä¸€èµ·ï¼Œå¤´ä¸‹æ”¾ä¸€ä¸ªï¼Œè…°ä¸‹æ”¾ä¸€ä¸ªï¼Œè„šä¸‹æ”¾è‡ªå·±çš„è¡Œæç®±ï¼›å°±é‚£æ ·åœ¨æ½®æ¹¿çš„ç¯å¢ƒå‘†äº†ä¸€ä¸ªæœˆå¥½åƒï¼Œæ‰¾åˆ°å„è‡ªçš„å·¥ä½œï¼Œç§Ÿæˆ¿ä¹‹åå°±ä¹°äº†ç‚¹æ°´æœç¤¼å“ï¼Œæ‹œè°¢ä¹‹åå°±æ¬èµ°äº†ï¼›\n\nä¸Šæµ·é¸£çš‹æ•™è‚²ç§‘æŠ€æœ‰é™å…¬å¸, æˆ‘æ¥äº†ï¼Œåˆšå¼€å§‹è¿›å»ä¹‹åå¾ˆé™Œç”Ÿï¼Œä¹Ÿå¾ˆèƒ†æ€¯ï¼›èµ·åˆæ˜¯æ²¡æœ‰é¡¹ç›®å¯ä»¥åšçš„ï¼Œæˆ‘å°±åœ¨çœ‹å‰è¾ˆä»¬åšè¿‡çš„é¡¹ç›®å­¦ä¹ å­¦ä¹ ï¼›åŒäº‹ä¹Ÿå¾ˆçƒ­æƒ…ï¼Œæˆ‘è€å¤§å¿—å“¥äººå¾ˆä¸é”™ï¼Œåœ¨ä»–çš„å¸¦é¢†ä¸‹ï¼Œæˆ‘ç®—æ˜¯è½¬æ­£å¹¶æ¥è§¦äº†ç¬¬ä¸€ä¸ªå±äºè‡ªå·±æ­å»ºçš„é¡¹ç›®ï¼Œè¿™ä¸ªè¿‡ç¨‹å¾ˆç¹çï¼Œç»“æœä¹Ÿä¸æ˜¯å¾ˆæ»¡æ„ï¼Œå› ä¸ºæˆ‘æ²¡æœ‰ä»€ä¹ˆå·¥ä½œç»éªŒï¼Œå·¥ä½œä¸­ä¹Ÿæ€»æ˜¯çŠ¯é”™ï¼Œåˆšæ”¹å¥½çš„ bugï¼Œæ”¹äº†å…¶ä»–åœ°æ–¹æœ‰æŠ¥é”™äº†ï¼›emmï¼Œæˆ‘å¾ˆè‹¦æ¼ï¼Œä¸è¿‡æˆ‘å¯¹é¢çš„åç«¯å‰è¾ˆæ¯”æˆ‘å¹´é•¿å‡ å²ï¼Œå’Œä»–è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘å­¦åˆ°äº†å¾ˆå¤šï¼Œè™½ç„¶è¯­æ°”ä¸æ€ä¹ˆå¥½ï¼Œä½†æ˜¯æ²¡æ”¾åœ¨å¿ƒä¸Š å°±æ˜¯ä¸ºäº†å­¦ä¹ è€Œæ¥ï¼›\n\né‚£æ—¶å€™èŠ±é”€ä¹Ÿå¾ˆå¤§ï¼Œå†åŠ ä¸Šä¹‹å‰æ‰‹å¤´æ¯”è¾ƒç´§ï¼Œåœ¨å¹³å°å€Ÿçš„ä¸€äº›ï¼Œå¯¼è‡´åä¿©å¹´éƒ½åœ¨è¿˜ï¼›\n\nä¹‹åï¼Œåœ¨å­¦ä¹ äº†ä¸€å¹´ä¹‹åï¼Œå°±è·Ÿè€å¤§æäº†ç¦»èŒã€‚ã€‚ã€‚\n\næˆ‘æ¥åˆ°äº†ä¸Šæµ·å¸˜é‚¦ä¿¡æ¯ç§‘æŠ€æœ‰é™å…¬å¸, è§„æ¨¡äººæ•°è¦æ¯”ä¹‹å‰çš„å¤§ä¸€ç‚¹ï¼Œå…¥èŒä¹‹åï¼Œæ°å“¥è®©æˆ‘ç†Ÿæ‚‰ä¸€ä¸‹ç¯å¢ƒï¼Œåˆšå¼€å§‹å¿ƒé‡Œæƒ³æ”¹å˜è‡ªå·±æ´»è·ƒèµ·æ¥ï¼Œä¸€åˆ°æ­£ç»æ—¶æœŸå°±æ€¯åœºï¼›å°±é‚£æ ·è½¬æ­£äº†ï¼Œæ¥è§¦äº† nodeï¼Œå­¦ä¹ äº†è§„èŒƒåŒ–æµç¨‹æ¸…æ¥šçš„çŸ¥é“äº†è‡ªå·±å¾ˆå¤šçš„é—®é¢˜ä¸ç¼ºé™·ï¼›\n\nçº¿ä¸‹æ—¶é—´å°±å»äº†è§£ nodeï¼Œå¹¶ä»¥ node+express æ­å»º api è¯·æ±‚ï¼Œåœ¨ç»å†ä¸ªåŠä¸ªæœˆä¹‹åï¼Œå°±è‡ªå·±åŠ¨æ‰‹æ­å»ºäº†ä¸€ä¸ªç®€å•çš„åšå®¢ç³»ç»Ÿ, è¿™ä¹Ÿæ˜¯ç¬¬ä¸€ä»£åšå®¢çš„äº§ç”Ÿï¼Œå› ä¸ºæ•°æ®å…¨éƒ½æ˜¯é™æ€çš„ï¼Œå¹¶ä¸”æ–‡æ¡£çš„è§£ææ–¹å¼ä¸ä¸€è‡´ï¼Œåé¢å°±åºŸå¼ƒäº†ï¼›ç®€å•çš„å­¦ä¹ äº†å®å¡”å¸ƒå±€æœåŠ¡å™¨ï¼Œåˆšå¼€å§‹çš„å‰ç«¯éƒ¨ç½²è¿˜æ˜¯ä¸Šä¼ æ–‡ä»¶ï¼Œåæ¥è€ƒè™‘åˆ°å¤ªéº»çƒ¦å°±æŸ¥é˜…èµ„æ–™ï¼Œè‡ªå·±ç®€å•çš„å­¦äº†ä¸€ä¸‹ jenkins ä¸æ˜¯ node å’Œ vue é¡¹ç›®ï¼Œç®€å•è¯´å°±æ˜¯å°†é¡¹ç›®æ‹‰ä¸‹æ¥ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œå°† dist æ–‡ä»¶å†…å®¹å¤åˆ¶åœ¨è‡ªå·±çš„ç½‘ç«™ä¸‹é¢ï¼Œ è¿™æ ·é€šè¿‡å‘½ä»¤å°±å¯ä»¥ç›´æ¥å®Œæˆäº†ï¼›ä¸è¿‡æ‰“åŒ…å’Œéƒ¨ç½²è¿‡ç¨‹ä¹Ÿæ˜¯èŠ±è´¹äº†æˆ‘ä¸å°‘æ—¶é—´ï¼›\n\nå¹´ç»ˆæ€»ç»“å¤§ä¼šæ¥äº†ï¼Œå› ä¸ºä¹‹å‰æ²¡æœ‰å‚ä¸è¿‡ä¸çŸ¥é“æ€§è´¨å’Œä½œç”¨ï¼ŒæŠ½ç­¾æŠ½åˆ°äº†ç¬¬ä¸€åï¼Œæ…Œäº†ä¸çŸ¥é“è‡ªå·±è¯¥æ€ä¹ˆåšï¼Œåœ¨å‰è¾ˆçš„å¸¦é¢†ä¸‹ï¼Œè‡ªå·±è¯´çš„æ²¡æœ‰é€»è¾‘å°±è¯´å®Œäº†ï¼›çŸ¥é“äº†å‘¨å›´åŒäº‹çš„ä¼˜ç§€ï¼Œä¹Ÿæ˜ç™½äº†è‡ªå·±æŠ€æœ¯ä¸æ‰å®ï¼Œæ²¡æœ‰è‡ªä¿¡ï¼›\n\næ¥ä¸‹æ¥çš„æ—¶é—´å°±æ˜¯æå‡è‡ªå·±ï¼Œæå‡è‡ªå·±çš„è‡ªä¿¡ï¼Œåœ¨ä»¥å…¬å¸é¡¹ç›®ä¸ºä¸­å¿ƒï¼ŒæŠ€æœ¯èŒƒå›´çš„å­¦ä¹ æ‰©å¤§ï¼Œä¸å•å•æ˜¯ä»¥ node, express ç„¶åç®€å•äº†è§£ koa çš„åŸºç¡€ä½¿ç”¨ï¼Œä¹‹ååœ¨è¿™åŸºç¡€ä¸Šåˆæ¥è§¦äº† nestï¼Œ mqSqlï¼Œå¹¶ä¸”ç®€å•çš„å¢åˆ æ”¹æŸ¥çš„åŠŸèƒ½ï¼›ç™½å¤©çš„æ—¶é—´åŸºæœ¬éƒ½åœ¨å·¥ä½œï¼Œé—²æš‡æ—¶é—´å»å­¦ä¹  vue ç›¸å…³çš„çŸ¥è¯†ï¼Œé€šè¿‡ github é¡¹ç›®ï¼Œæ˜é‡‘ï¼Œcsdn ç­‰ç­‰è®ºå›ï¼Œæ–‡æ¡£çš„å½¢å¼è¡¥å……è‡ªå·±åŸºç¡€ä¸Šçš„ä¸è¶³ï¼›å†ä¸€å¹´çš„æ€»ç»“å¤§ä¼šï¼ŒåŒäº‹ç»™æˆ‘çš„è¯„ä»·: æˆé•¿è¿…é€Ÿï¼Œæœ‰è‡ªå·±çš„æƒ³æ³•ï¼Œä¸ä»–äººæ²Ÿé€šå¤šäº†èµ·æ¥ï¼›è€å¤§ä¹Ÿæ˜¯çœ‹å¥½æˆ‘çš„ï¼Œä¹‹åçš„å·¥ä½œä¸å†èŠ±å¤§é‡æ—¶é—´å»å­¦ä¹ åŸºç¡€äº†ï¼Œåœ¨é¡¹ç›®çš„å¥ åŸºä¸Šå»¶ä¼¸åŠŸèƒ½çš„ä¼˜åŒ–ï¼Œæ€§èƒ½çš„ä¼˜åŒ–ç­‰ç­‰ï¼›\n\nå¹¶åœ¨çŸ¥è¯†åº“ä¸­ï¼Œç¼–å†™æ–‡æ¡£ï¼Œé¡¹ç›®ä¸­ç»å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆï¼Œä¸€äº›å·¥å…·çš„å°è£…ä½¿ç”¨ï¼Œè§„èŒƒç­‰ç­‰ï¼Œå¹¶æå‡ºæŠ€æœ¯åˆ†äº«ä¼šè®®ï¼Œå°†è‡ªå·±çš„æ–‡æ¡£ï¼Œæƒ³æ³•è®²äº†å‡ºæ¥æ•ˆæœè¿˜æ˜¯ä¸é”™ï¼›ä¸è¿‡åæ¥æ²¡æœ‰ç»§ç»­æ‰§è¡Œäº†ï¼Œå¤§å®¶æ‰‹é‡Œçš„äº‹æƒ…æ¯”è¾ƒå¤šï¼Œéœ€æ±‚è¿­ä»£ç´§æ€¥å°±æ²¡æœ‰æ—¶é—´äº†è¯´è¿™ä¸ªåˆ†äº«ï¼›\n\nä¹‹åè§‰å¾—è‡ªå·±å·¥ä½œä¸­çš„åŠŸèƒ½æ²¡æœ‰å¤ªå¤§çš„é—®é¢˜ï¼Œå°±æ¥è§¦äº†ä¸€äº›å…¶ä»–çš„è¯­è¨€ï¼Œdart, flutterï¼Œäº†è§£å…¶ä½¿ç”¨ï¼Œgetx çŠ¶æ€ç®¡ç†å™¨, http çš„æ‹¦æˆªä½¿ç”¨ç®€å•çš„è¯·æ±‚æ¸²æŸ“é¡µé¢ï¼›ä½œä¸ºä¸€ä¸ªæŠ€æœ¯å‚¨å¤‡ï¼›\n\nåœ¨å…¬å¸å‘ç°äº†ä¸€äº›é—®é¢˜ï¼Œå…¬å¸æ²¡æœ‰ pc,h5 çš„æ¨¡æ¿é¡¹ç›®ï¼Œå¦‚æœåæœŸç¼–å†™æ–°çš„é¡¹ç›®åªèƒ½å¤åˆ¶ä¹‹å‰çš„é¡¹ç›®è¿›è¡Œä¿®æ”¹äº†ï¼Œåœ¨è¿™é—®é¢˜ä¹‹ä¸Šæˆ‘è¿›è¡Œè€ƒè™‘ï¼Œå¦‚æœèƒ½æƒ³ vue-cli å®‰è£…ä¸€æ ·ï¼Œè¿™æ ·çš„é—®é¢˜æ˜¯ä¸æ˜¯å°±è§£å†³äº†ï¼Œçº¿ä¸‹æ—¶é—´å‘é¢†å¯¼è¯·æ±‚ä»“åº“çš„æƒé™ï¼Œåœ¨åŒæ„ä¹‹åèŠ±è´¹ä¿©å¤©å·¦å³æ—¶é—´äº†è§£å…¶è¿è¡ŒåŸç†ä¸åŠŸèƒ½ï¼Œå¹¶é€šè¿‡ npm å‘å¸ƒè‡ªå·±çš„å·¥å…·ï¼Œäºæ˜¯ tem-pro å·¥å…·å°±ä¸Šçº¿äº†ï¼›èµ·åˆå‘¨ä¸‹è½½é‡ä¹Ÿæœ‰äº† 100 å·¦å³çš„ä¸‹è½½ï¼Œæ…¢æ…¢çš„åé¢ä¸‹è½½é‡å°±å‡å°‘äº†ï¼›\n\nå¯¹äºåæœŸæ˜¯å¦ç»§ç»­å‘†åœ¨ä¸Šæµ·è¿˜ä¸æ•¢ä¿è¯ï¼Œæ¯•ç«Ÿè‡ªèº«å‹åŠ›ï¼Œå®¶åº­ï¼Œè‡ªèº«æ¡ä»¶ï¼Œæˆå®¶ç­‰å¤šå› ç´ çš„å½±å“ï¼Œä¹Ÿæœ‰å¯èƒ½åå‡ å¹´å°±å›è€å®¶äº†ï¼›\n\nä¸è¿‡ç°åœ¨è¿˜æ²¡æœ‰è¿™ä¸ªæƒ³æ³•ï¼Œå…ˆç»§ç»­æå‡è‡ªå·±çš„èƒ½åŠ›å§ï¼\n","slug":"ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/ç°å®çš„é­æ‰“","published":1,"updated":"2025-03-12T10:12:03.171Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0jc008ifg9m7yri2y28","content":"<p>å¤§å­¦ä¸€ç¬”å¸¦è¿‡ï¼Œå› ä¸ºæ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šäº‹æƒ…å‘ç”Ÿï¼Œå°±æ˜¯ä¸€ä¸ªâ€œåºŸäººâ€ï¼Œç¡è§‰æ‰“æ¸¸æˆï¼Œæ··è¿‡çš„å‡ å¹´â€¦</p>\n<p>å®ä¹ æœŸé—´è™½ç„¶ä¹Ÿé‡åˆ°å§‘å¨˜ï¼Œä»–æ˜¯èˆè¹ˆç”Ÿï¼Œä½†æ˜¯æœ€åä¹Ÿæ²¡æœ‰åˆ°ä¸€èµ·ï¼Œåªæ˜¯åšäº†å‡ å¤©æœ‹å‹ï¼›</p>\n<p>å®ä¹ æœŸé—´ç»“æŸä¹‹åå°±å…ˆå»äº†ä¸€è¶Ÿäº‘å—ï¼Œç„¶åç›´æ¥å»äº†ä¸Šæµ·â€¦</p>\n<p>è‡ªå·±å»æœºåœºä¹°é£æœºç¥¨ï¼Œä¸æ‡‚çš„åœ°æ–¹æ‰¾äººé—®ï¼Œç™¾åº¦æŸ¥ï¼Œå½“æ—¶è®°å¾—æœ‰ä¸ªå§‘å¨˜å¯¹æˆ‘è¯´ï¼š ä¸ç®¡ä½ èµ°åˆ°å“ªé‡Œéƒ½è¦è£…æˆä¸€ä¸ªç†Ÿäººï¼Œå•¥ä¹Ÿä¼šçš„ï¼›</p>\n<p>åˆ°äº†äº‘å—ä¹‹åï¼Œæœ¬æƒ³ç€æœ‰æœ‹å‹æ¥æˆ‘ï¼Œä½†æ˜¯ä»–è¦ä¸Šè¯¾ï¼Œæˆ‘å°±æ‰“è½¦ä½äº†é…’åº—ï¼Œåæ¥ä»–è¯´æˆ‘è¢«å‘äº†ï¼Œå› ä¸ºé‚£é‡ŒåŸºæœ¬éƒ½æ˜¯é»‘è½¦ï¼Œä½çš„é…’åº—ä¹Ÿè®¸éƒ½æ˜¯å‘äººçš„é‚£ç§ï¼Œä¸è¿‡æˆ‘è§‰å¾—è¿˜å¥½ï¼Œä¹Ÿæ²¡å‘ç°é’ˆå¯¹æˆ‘çš„ä¸€äº›äº‹æƒ…ï¼›</p>\n<p>ç¬¬ä¸€æ¬¡å‡ºçœï¼Œäººç”Ÿåœ°ä¸ç†Ÿçš„ï¼Œå¹¸å¥½æ²¡æœ‰èµ°ä¸¢ï¼Œè°¢å¤©è°¢åœ°è°¢é«˜å¾·æ‹¯æ•‘äº†æˆ‘è¿™ä¹ˆä¸€ä¸ªè·¯ç—´ï¼›</p>\n<p>å½“æ—¶æ˜¯åœ¨äº‘å—äº”ååŒºç§Ÿäº†å°†è¿‘ä¸€ä¸ªæœˆçš„æˆ¿å­ï¼Œå°±æƒ³ç€æ‰¾æ‰¾å·¥ä½œçœ‹çœ‹è¿æ°”ï¼Œç»“æœä¸€å»ä¸€ä¸ªä¸å±å£°ï¼›</p>\n<p>æœ¬æƒ³ç€æ¥ç€æ—…æ—…æ¸¸ï¼Œæœ€åæŠŠè‡ªå·±ææŠ‘éƒäº†ï¼›</p>\n<p>å»é¢è¯•ï¼Œè¢«ç°å®ç‹ ç‹ ä¸Šäº†ä¸€è¯¾ï¼Œå­¦å†ä¸è¡Œèƒ½åŠ›ä¸è¡Œï¼Œæ²¡ç»éªŒæ²¡æŠ€æœ¯å¤„å¤„ç¢°å£ï¼Œâ€œä¼š xxx å—ï¼Ÿä¼š xxx å—ï¼Ÿæˆ‘ä»¬è¦æ±‚çš„æ˜¯å¤åˆå‹äººæ‰ï¼Œä½ å¹¶ä¸é€‚åˆâ€¦â€</p>\n<p>æ‰“å°é‚£ä¹ˆå¤šçš„ç®€å†ä¹Ÿè®¸è¿‡å¾€äº‘çƒŸäº†ï¼Œä¸€å¼ å¼ çš„ç®€å†è®°å½•çš„å¹¶ä¸æ˜¯æˆ‘çš„è¿‡å»ï¼Œè€Œæ˜¯æˆ‘çš„æœªæ¥ï¼›è‡ªå·±å°±æƒ³è§’è½é‡Œéšé£é£˜èµ·çš„ä¸€å¼ çº¸ï¼Œéšå¤„å¯è§ï¼Œä½†å¹¶ä¸é‡è§†ï¼Œæ ¼å¤–ä¸èµ·çœ¼ï¼›</p>\n<p>é‚£æ®µæ—¶é—´ï¼Œæˆ‘ä¹Ÿæƒ³äº†å¾ˆå¤šï¼Œäº²æˆšæœ‹å‹æ‰“æ¥çš„ç”µè¯åŸºæœ¬éƒ½æ˜¯ä¸æ¥çš„ï¼Œé‚£æ®µæ—¶é—´ç®€ç›´å°±æ˜¯äººé—´è’¸å‘æ‰äº†ï¼›</p>\n<p>ä¸è¿‡è¿˜å¥½ï¼Œæˆ‘é‡åˆ°ä¸€å®¶å…¬å¸ï¼ˆå¯¹äºå®ä¹ ä¹‹åçš„è¯¦ç»†é€Ÿå†™ï¼‰ï¼š</p>\n<p>å¤§å­¦æ¯•ä¸šä¹‹å‰çš„äº‹æƒ…å°±ä¸æäº†ï¼Œæ¯•ä¸šä¹‹ååœ¨å±±è¥¿å®ä¹ äº†çŸ­æš‚çš„ä¸€å¹´ï¼Œå®ä¹ å®Œæˆå› ä¸ºå®¶é‡Œçš„äº‹æƒ…ï¼Œæˆ‘å°±å‡ºå»æ”¾æ¾äº†ä¸€æ®µæ—¶é—´ï¼Œå»äº†äº‘å—ï¼›äº‘å—çš„æ™¯è‰²è¯´å®è¯æ˜¯çœŸçš„å¾ˆç¾ï¼Œè¡¨é¢ä¸Šæ˜¯ä»¥æ‰¾å·¥ä½œä¸ºå™±å¤´ï¼Œå…¶å®å°±æ˜¯å–äº‘å—æ—…æ¸¸ç©è€äº†ä¸€ä¸ªæœˆå·¦å³ï¼Œå±±æ¸…æ°´ç§€ï¼Œä¸è¿‡å½“æ—¶æ˜¯åœ¨äº”ååŒºçŸ­æš‚çš„å‘†äº†ä¸€ä¸ªæœˆï¼ŒåŸºæœ¬æ¯å¤©éƒ½ä¼šå¬åˆ°æ¶ˆé˜²è½¦åœ¨å¤§è¡—ä¸Šé¸£ç¬›ï¼›é‚£ä¼šçš„äº‘å—è¿˜æ˜¯å¤ªçƒ­äº†ï¼Œå±±ä¸Šçš„æ ‘æœ¨éƒ½æœ‰äº†è‡ªç„¶çš„ç°è±¡ï¼›</p>\n<p>è¿‡äº†å‡ å¤©ä¹‹åï¼Œå°±å¸¦ç€è‡ªå·±ç®€å†å»è¯•äº†è¯•ï¼Œå¾ˆæˆåŠŸçš„å¤±è´¥äº†ï¼Œä½†æ˜¯ä¹Ÿæ²¡æ€ä¹ˆåæ€è‡ªå·±çš„é—®é¢˜ï¼Œç»“æœæŠ•äº†å°†è¿‘åŠä¸ªæœˆå§ï¼Œæˆ‘å¿ƒæ€å´©äº†ï¼Œè¿åœ¨å½“åœ°çš„åŸºç¡€å·¥èµ„çš„å·¥ä½œéƒ½æ‰¾ä¸ä¸Šï¼Œä¹Ÿè®¸å‹åŠ›å¤§è¿˜æ˜¯è‡ªå·±çš„æ— èƒ½å¯¼è‡´è‡ªå·±èµ°å‘äº†è½»å¾®æŠ‘éƒï¼Œå„¿è¡Œåƒé‡Œæ¯æ‹…å¿§ï¼Œå½“æ—¶å®¶é‡Œä¹Ÿæ‰“è¿‡å¾ˆå¤šç”µè¯ï¼Œåˆšå¼€å§‹è¿˜è¯´é“è¯´é“ï¼Œåé¢ å°±ä¸æ¥äº†ï¼Œå­¦æ ¡ï¼Œæœ‹å‹çš„æ¶ˆæ¯ä¹Ÿéƒ½æ²¡å›ï¼›</p>\n<p>æœºç¼˜å·§åˆï¼Œåœ¨ä¸€ç•ªå¤±è´¥ä¹‹åï¼Œé¢è¯•ä¸Šäº†æ˜†æ˜æ‹“é¸¿ç§‘æŠ€å…¬å¸ï¼Œå½“æ—¶è¿›å»ä¹‹åï¼Œå°±æ„Ÿæ…¨çœŸä¸æ„§æ˜¯åŒºåŸŸå¤§å…¬å¸ï¼Œå½“æ—¶å¥½åƒç»å†äº†äºŒæ¬¡é¢è¯•ï¼Œä¹‹åä¸å…¬å¸çš„å¤§é¢†å¯¼è°ˆäº†è°ˆï¼Œä¹‹å‰æ˜¯åšæŠ€æœ¯çš„ï¼Œè¯´æˆ‘ç°åœ¨å¯ä»¥è€ƒè™‘ä¸€ä¸‹å…¬å¸çš„é”€å”®å²—ä½ï¼ŒåæœŸå¯ä»¥è°ƒå²—ï¼›æˆ‘æ²¡æœ‰ç›´æ¥æ‹’ç»ï¼Œè¯´äº†è€ƒè™‘ä¸€ä¸‹ï¼›</p>\n<p>åœ¨å…¬å¸å‘†äº†ä¸€ä¸‹åˆï¼Œå‚ä¸äº†å…¬å¸çš„ä¸€äº›å°æ¸¸æˆï¼Œæ´»åŠ¨ï¼Œä»‹ç»ç­‰ï¼›å›å»ä¹‹åè€ƒè™‘ä¹‹åå°±æ‹’ç»äº†ï¼›</p>\n<p>ä¹‹åï¼Œæœ‹å‹è·Ÿæˆ‘æ‰“ç”µè¯è¯´æ˜¯è¦å»ä¸Šæµ·ï¼Œæˆ‘æƒ³è¿‡ä¹‹åï¼Œç›¸å¯¹äºå¤§åŸå¸‚è‚¯å®šæœºä¼šå¤šï¼ŒäºŒè¯ä¸è¯´çš„ç­”åº”äº†ï¼Œå¹¶ä¸”æ”¶æ‹¾å®Œä¹‹åï¼Œå°±å‡ºå‘äº†ï¼›</p>\n<p>æ¥äº†ä¸Šæµ·ä¹‹åï¼Œæ²¡åœ°æ–¹ä½ï¼Œåªèƒ½ä½åœ¨æœ‹å‹é‚£é‡Œï¼Œä¸‰ä¸–ä¸€å…ä¸€å¨ä¸€å«ï¼Œä»–ä»¬æœ‰ä¸‰ä¸ªäººï¼Œå†åŠ ä¸Šæˆ‘å’Œæœ‹å‹å…±äº”äººï¼Œæœ‹å‹å»çš„æ‰¾ç¡åœ¨äº†æ²™å‘ï¼Œæˆ‘å»çš„æ™šä¸€äº›ï¼Œæ²¡åœ°æ–¹ç¡ï¼Œä¸Šæµ·æœ‹å‹è¯´å…ˆåœ¨è¿™é‡ŒæŒ¤ä¸€æŒ¤å§ï¼Œæ‰¾åˆ°å·¥ä½œä¹‹åå†æ¬èµ°ï¼Œä»–ä»¬ä¸‰å®¤ä¸»äººï¼Œä¸€äººä¸€é—´ï¼Œæœ‹å‹ç¡æ²™å‘åˆšå¥½å¤Ÿä»–çš„ä½ç½®ï¼ŒèŒ¶å‡ æ—è¾¹è¿˜æœ‰çª„çª„çš„è¿‡é“ï¼Œæˆ‘å°±æ¬äº†ä¿©ä¸ªå‡³å­å †åœ¨ä¸€èµ·ï¼Œå¤´ä¸‹æ”¾ä¸€ä¸ªï¼Œè…°ä¸‹æ”¾ä¸€ä¸ªï¼Œè„šä¸‹æ”¾è‡ªå·±çš„è¡Œæç®±ï¼›å°±é‚£æ ·åœ¨æ½®æ¹¿çš„ç¯å¢ƒå‘†äº†ä¸€ä¸ªæœˆå¥½åƒï¼Œæ‰¾åˆ°å„è‡ªçš„å·¥ä½œï¼Œç§Ÿæˆ¿ä¹‹åå°±ä¹°äº†ç‚¹æ°´æœç¤¼å“ï¼Œæ‹œè°¢ä¹‹åå°±æ¬èµ°äº†ï¼›</p>\n<p>ä¸Šæµ·é¸£çš‹æ•™è‚²ç§‘æŠ€æœ‰é™å…¬å¸, æˆ‘æ¥äº†ï¼Œåˆšå¼€å§‹è¿›å»ä¹‹åå¾ˆé™Œç”Ÿï¼Œä¹Ÿå¾ˆèƒ†æ€¯ï¼›èµ·åˆæ˜¯æ²¡æœ‰é¡¹ç›®å¯ä»¥åšçš„ï¼Œæˆ‘å°±åœ¨çœ‹å‰è¾ˆä»¬åšè¿‡çš„é¡¹ç›®å­¦ä¹ å­¦ä¹ ï¼›åŒäº‹ä¹Ÿå¾ˆçƒ­æƒ…ï¼Œæˆ‘è€å¤§å¿—å“¥äººå¾ˆä¸é”™ï¼Œåœ¨ä»–çš„å¸¦é¢†ä¸‹ï¼Œæˆ‘ç®—æ˜¯è½¬æ­£å¹¶æ¥è§¦äº†ç¬¬ä¸€ä¸ªå±äºè‡ªå·±æ­å»ºçš„é¡¹ç›®ï¼Œè¿™ä¸ªè¿‡ç¨‹å¾ˆç¹çï¼Œç»“æœä¹Ÿä¸æ˜¯å¾ˆæ»¡æ„ï¼Œå› ä¸ºæˆ‘æ²¡æœ‰ä»€ä¹ˆå·¥ä½œç»éªŒï¼Œå·¥ä½œä¸­ä¹Ÿæ€»æ˜¯çŠ¯é”™ï¼Œåˆšæ”¹å¥½çš„ bugï¼Œæ”¹äº†å…¶ä»–åœ°æ–¹æœ‰æŠ¥é”™äº†ï¼›emmï¼Œæˆ‘å¾ˆè‹¦æ¼ï¼Œä¸è¿‡æˆ‘å¯¹é¢çš„åç«¯å‰è¾ˆæ¯”æˆ‘å¹´é•¿å‡ å²ï¼Œå’Œä»–è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘å­¦åˆ°äº†å¾ˆå¤šï¼Œè™½ç„¶è¯­æ°”ä¸æ€ä¹ˆå¥½ï¼Œä½†æ˜¯æ²¡æ”¾åœ¨å¿ƒä¸Š å°±æ˜¯ä¸ºäº†å­¦ä¹ è€Œæ¥ï¼›</p>\n<p>é‚£æ—¶å€™èŠ±é”€ä¹Ÿå¾ˆå¤§ï¼Œå†åŠ ä¸Šä¹‹å‰æ‰‹å¤´æ¯”è¾ƒç´§ï¼Œåœ¨å¹³å°å€Ÿçš„ä¸€äº›ï¼Œå¯¼è‡´åä¿©å¹´éƒ½åœ¨è¿˜ï¼›</p>\n<p>ä¹‹åï¼Œåœ¨å­¦ä¹ äº†ä¸€å¹´ä¹‹åï¼Œå°±è·Ÿè€å¤§æäº†ç¦»èŒã€‚ã€‚ã€‚</p>\n<p>æˆ‘æ¥åˆ°äº†ä¸Šæµ·å¸˜é‚¦ä¿¡æ¯ç§‘æŠ€æœ‰é™å…¬å¸, è§„æ¨¡äººæ•°è¦æ¯”ä¹‹å‰çš„å¤§ä¸€ç‚¹ï¼Œå…¥èŒä¹‹åï¼Œæ°å“¥è®©æˆ‘ç†Ÿæ‚‰ä¸€ä¸‹ç¯å¢ƒï¼Œåˆšå¼€å§‹å¿ƒé‡Œæƒ³æ”¹å˜è‡ªå·±æ´»è·ƒèµ·æ¥ï¼Œä¸€åˆ°æ­£ç»æ—¶æœŸå°±æ€¯åœºï¼›å°±é‚£æ ·è½¬æ­£äº†ï¼Œæ¥è§¦äº† nodeï¼Œå­¦ä¹ äº†è§„èŒƒåŒ–æµç¨‹æ¸…æ¥šçš„çŸ¥é“äº†è‡ªå·±å¾ˆå¤šçš„é—®é¢˜ä¸ç¼ºé™·ï¼›</p>\n<p>çº¿ä¸‹æ—¶é—´å°±å»äº†è§£ nodeï¼Œå¹¶ä»¥ node+express æ­å»º api è¯·æ±‚ï¼Œåœ¨ç»å†ä¸ªåŠä¸ªæœˆä¹‹åï¼Œå°±è‡ªå·±åŠ¨æ‰‹æ­å»ºäº†ä¸€ä¸ªç®€å•çš„åšå®¢ç³»ç»Ÿ, è¿™ä¹Ÿæ˜¯ç¬¬ä¸€ä»£åšå®¢çš„äº§ç”Ÿï¼Œå› ä¸ºæ•°æ®å…¨éƒ½æ˜¯é™æ€çš„ï¼Œå¹¶ä¸”æ–‡æ¡£çš„è§£ææ–¹å¼ä¸ä¸€è‡´ï¼Œåé¢å°±åºŸå¼ƒäº†ï¼›ç®€å•çš„å­¦ä¹ äº†å®å¡”å¸ƒå±€æœåŠ¡å™¨ï¼Œåˆšå¼€å§‹çš„å‰ç«¯éƒ¨ç½²è¿˜æ˜¯ä¸Šä¼ æ–‡ä»¶ï¼Œåæ¥è€ƒè™‘åˆ°å¤ªéº»çƒ¦å°±æŸ¥é˜…èµ„æ–™ï¼Œè‡ªå·±ç®€å•çš„å­¦äº†ä¸€ä¸‹ jenkins ä¸æ˜¯ node å’Œ vue é¡¹ç›®ï¼Œç®€å•è¯´å°±æ˜¯å°†é¡¹ç›®æ‹‰ä¸‹æ¥ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œå°† dist æ–‡ä»¶å†…å®¹å¤åˆ¶åœ¨è‡ªå·±çš„ç½‘ç«™ä¸‹é¢ï¼Œ è¿™æ ·é€šè¿‡å‘½ä»¤å°±å¯ä»¥ç›´æ¥å®Œæˆäº†ï¼›ä¸è¿‡æ‰“åŒ…å’Œéƒ¨ç½²è¿‡ç¨‹ä¹Ÿæ˜¯èŠ±è´¹äº†æˆ‘ä¸å°‘æ—¶é—´ï¼›</p>\n<p>å¹´ç»ˆæ€»ç»“å¤§ä¼šæ¥äº†ï¼Œå› ä¸ºä¹‹å‰æ²¡æœ‰å‚ä¸è¿‡ä¸çŸ¥é“æ€§è´¨å’Œä½œç”¨ï¼ŒæŠ½ç­¾æŠ½åˆ°äº†ç¬¬ä¸€åï¼Œæ…Œäº†ä¸çŸ¥é“è‡ªå·±è¯¥æ€ä¹ˆåšï¼Œåœ¨å‰è¾ˆçš„å¸¦é¢†ä¸‹ï¼Œè‡ªå·±è¯´çš„æ²¡æœ‰é€»è¾‘å°±è¯´å®Œäº†ï¼›çŸ¥é“äº†å‘¨å›´åŒäº‹çš„ä¼˜ç§€ï¼Œä¹Ÿæ˜ç™½äº†è‡ªå·±æŠ€æœ¯ä¸æ‰å®ï¼Œæ²¡æœ‰è‡ªä¿¡ï¼›</p>\n<p>æ¥ä¸‹æ¥çš„æ—¶é—´å°±æ˜¯æå‡è‡ªå·±ï¼Œæå‡è‡ªå·±çš„è‡ªä¿¡ï¼Œåœ¨ä»¥å…¬å¸é¡¹ç›®ä¸ºä¸­å¿ƒï¼ŒæŠ€æœ¯èŒƒå›´çš„å­¦ä¹ æ‰©å¤§ï¼Œä¸å•å•æ˜¯ä»¥ node, express ç„¶åç®€å•äº†è§£ koa çš„åŸºç¡€ä½¿ç”¨ï¼Œä¹‹ååœ¨è¿™åŸºç¡€ä¸Šåˆæ¥è§¦äº† nestï¼Œ mqSqlï¼Œå¹¶ä¸”ç®€å•çš„å¢åˆ æ”¹æŸ¥çš„åŠŸèƒ½ï¼›ç™½å¤©çš„æ—¶é—´åŸºæœ¬éƒ½åœ¨å·¥ä½œï¼Œé—²æš‡æ—¶é—´å»å­¦ä¹  vue ç›¸å…³çš„çŸ¥è¯†ï¼Œé€šè¿‡ github é¡¹ç›®ï¼Œæ˜é‡‘ï¼Œcsdn ç­‰ç­‰è®ºå›ï¼Œæ–‡æ¡£çš„å½¢å¼è¡¥å……è‡ªå·±åŸºç¡€ä¸Šçš„ä¸è¶³ï¼›å†ä¸€å¹´çš„æ€»ç»“å¤§ä¼šï¼ŒåŒäº‹ç»™æˆ‘çš„è¯„ä»·: æˆé•¿è¿…é€Ÿï¼Œæœ‰è‡ªå·±çš„æƒ³æ³•ï¼Œä¸ä»–äººæ²Ÿé€šå¤šäº†èµ·æ¥ï¼›è€å¤§ä¹Ÿæ˜¯çœ‹å¥½æˆ‘çš„ï¼Œä¹‹åçš„å·¥ä½œä¸å†èŠ±å¤§é‡æ—¶é—´å»å­¦ä¹ åŸºç¡€äº†ï¼Œåœ¨é¡¹ç›®çš„å¥ åŸºä¸Šå»¶ä¼¸åŠŸèƒ½çš„ä¼˜åŒ–ï¼Œæ€§èƒ½çš„ä¼˜åŒ–ç­‰ç­‰ï¼›</p>\n<p>å¹¶åœ¨çŸ¥è¯†åº“ä¸­ï¼Œç¼–å†™æ–‡æ¡£ï¼Œé¡¹ç›®ä¸­ç»å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆï¼Œä¸€äº›å·¥å…·çš„å°è£…ä½¿ç”¨ï¼Œè§„èŒƒç­‰ç­‰ï¼Œå¹¶æå‡ºæŠ€æœ¯åˆ†äº«ä¼šè®®ï¼Œå°†è‡ªå·±çš„æ–‡æ¡£ï¼Œæƒ³æ³•è®²äº†å‡ºæ¥æ•ˆæœè¿˜æ˜¯ä¸é”™ï¼›ä¸è¿‡åæ¥æ²¡æœ‰ç»§ç»­æ‰§è¡Œäº†ï¼Œå¤§å®¶æ‰‹é‡Œçš„äº‹æƒ…æ¯”è¾ƒå¤šï¼Œéœ€æ±‚è¿­ä»£ç´§æ€¥å°±æ²¡æœ‰æ—¶é—´äº†è¯´è¿™ä¸ªåˆ†äº«ï¼›</p>\n<p>ä¹‹åè§‰å¾—è‡ªå·±å·¥ä½œä¸­çš„åŠŸèƒ½æ²¡æœ‰å¤ªå¤§çš„é—®é¢˜ï¼Œå°±æ¥è§¦äº†ä¸€äº›å…¶ä»–çš„è¯­è¨€ï¼Œdart, flutterï¼Œäº†è§£å…¶ä½¿ç”¨ï¼Œgetx çŠ¶æ€ç®¡ç†å™¨, http çš„æ‹¦æˆªä½¿ç”¨ç®€å•çš„è¯·æ±‚æ¸²æŸ“é¡µé¢ï¼›ä½œä¸ºä¸€ä¸ªæŠ€æœ¯å‚¨å¤‡ï¼›</p>\n<p>åœ¨å…¬å¸å‘ç°äº†ä¸€äº›é—®é¢˜ï¼Œå…¬å¸æ²¡æœ‰ pc,h5 çš„æ¨¡æ¿é¡¹ç›®ï¼Œå¦‚æœåæœŸç¼–å†™æ–°çš„é¡¹ç›®åªèƒ½å¤åˆ¶ä¹‹å‰çš„é¡¹ç›®è¿›è¡Œä¿®æ”¹äº†ï¼Œåœ¨è¿™é—®é¢˜ä¹‹ä¸Šæˆ‘è¿›è¡Œè€ƒè™‘ï¼Œå¦‚æœèƒ½æƒ³ vue-cli å®‰è£…ä¸€æ ·ï¼Œè¿™æ ·çš„é—®é¢˜æ˜¯ä¸æ˜¯å°±è§£å†³äº†ï¼Œçº¿ä¸‹æ—¶é—´å‘é¢†å¯¼è¯·æ±‚ä»“åº“çš„æƒé™ï¼Œåœ¨åŒæ„ä¹‹åèŠ±è´¹ä¿©å¤©å·¦å³æ—¶é—´äº†è§£å…¶è¿è¡ŒåŸç†ä¸åŠŸèƒ½ï¼Œå¹¶é€šè¿‡ npm å‘å¸ƒè‡ªå·±çš„å·¥å…·ï¼Œäºæ˜¯ tem-pro å·¥å…·å°±ä¸Šçº¿äº†ï¼›èµ·åˆå‘¨ä¸‹è½½é‡ä¹Ÿæœ‰äº† 100 å·¦å³çš„ä¸‹è½½ï¼Œæ…¢æ…¢çš„åé¢ä¸‹è½½é‡å°±å‡å°‘äº†ï¼›</p>\n<p>å¯¹äºåæœŸæ˜¯å¦ç»§ç»­å‘†åœ¨ä¸Šæµ·è¿˜ä¸æ•¢ä¿è¯ï¼Œæ¯•ç«Ÿè‡ªèº«å‹åŠ›ï¼Œå®¶åº­ï¼Œè‡ªèº«æ¡ä»¶ï¼Œæˆå®¶ç­‰å¤šå› ç´ çš„å½±å“ï¼Œä¹Ÿæœ‰å¯èƒ½åå‡ å¹´å°±å›è€å®¶äº†ï¼›</p>\n<p>ä¸è¿‡ç°åœ¨è¿˜æ²¡æœ‰è¿™ä¸ªæƒ³æ³•ï¼Œå…ˆç»§ç»­æå‡è‡ªå·±çš„èƒ½åŠ›å§ï¼</p>\n","excerpt":"","more":"<p>å¤§å­¦ä¸€ç¬”å¸¦è¿‡ï¼Œå› ä¸ºæ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šäº‹æƒ…å‘ç”Ÿï¼Œå°±æ˜¯ä¸€ä¸ªâ€œåºŸäººâ€ï¼Œç¡è§‰æ‰“æ¸¸æˆï¼Œæ··è¿‡çš„å‡ å¹´â€¦</p>\n<p>å®ä¹ æœŸé—´è™½ç„¶ä¹Ÿé‡åˆ°å§‘å¨˜ï¼Œä»–æ˜¯èˆè¹ˆç”Ÿï¼Œä½†æ˜¯æœ€åä¹Ÿæ²¡æœ‰åˆ°ä¸€èµ·ï¼Œåªæ˜¯åšäº†å‡ å¤©æœ‹å‹ï¼›</p>\n<p>å®ä¹ æœŸé—´ç»“æŸä¹‹åå°±å…ˆå»äº†ä¸€è¶Ÿäº‘å—ï¼Œç„¶åç›´æ¥å»äº†ä¸Šæµ·â€¦</p>\n<p>è‡ªå·±å»æœºåœºä¹°é£æœºç¥¨ï¼Œä¸æ‡‚çš„åœ°æ–¹æ‰¾äººé—®ï¼Œç™¾åº¦æŸ¥ï¼Œå½“æ—¶è®°å¾—æœ‰ä¸ªå§‘å¨˜å¯¹æˆ‘è¯´ï¼š ä¸ç®¡ä½ èµ°åˆ°å“ªé‡Œéƒ½è¦è£…æˆä¸€ä¸ªç†Ÿäººï¼Œå•¥ä¹Ÿä¼šçš„ï¼›</p>\n<p>åˆ°äº†äº‘å—ä¹‹åï¼Œæœ¬æƒ³ç€æœ‰æœ‹å‹æ¥æˆ‘ï¼Œä½†æ˜¯ä»–è¦ä¸Šè¯¾ï¼Œæˆ‘å°±æ‰“è½¦ä½äº†é…’åº—ï¼Œåæ¥ä»–è¯´æˆ‘è¢«å‘äº†ï¼Œå› ä¸ºé‚£é‡ŒåŸºæœ¬éƒ½æ˜¯é»‘è½¦ï¼Œä½çš„é…’åº—ä¹Ÿè®¸éƒ½æ˜¯å‘äººçš„é‚£ç§ï¼Œä¸è¿‡æˆ‘è§‰å¾—è¿˜å¥½ï¼Œä¹Ÿæ²¡å‘ç°é’ˆå¯¹æˆ‘çš„ä¸€äº›äº‹æƒ…ï¼›</p>\n<p>ç¬¬ä¸€æ¬¡å‡ºçœï¼Œäººç”Ÿåœ°ä¸ç†Ÿçš„ï¼Œå¹¸å¥½æ²¡æœ‰èµ°ä¸¢ï¼Œè°¢å¤©è°¢åœ°è°¢é«˜å¾·æ‹¯æ•‘äº†æˆ‘è¿™ä¹ˆä¸€ä¸ªè·¯ç—´ï¼›</p>\n<p>å½“æ—¶æ˜¯åœ¨äº‘å—äº”ååŒºç§Ÿäº†å°†è¿‘ä¸€ä¸ªæœˆçš„æˆ¿å­ï¼Œå°±æƒ³ç€æ‰¾æ‰¾å·¥ä½œçœ‹çœ‹è¿æ°”ï¼Œç»“æœä¸€å»ä¸€ä¸ªä¸å±å£°ï¼›</p>\n<p>æœ¬æƒ³ç€æ¥ç€æ—…æ—…æ¸¸ï¼Œæœ€åæŠŠè‡ªå·±ææŠ‘éƒäº†ï¼›</p>\n<p>å»é¢è¯•ï¼Œè¢«ç°å®ç‹ ç‹ ä¸Šäº†ä¸€è¯¾ï¼Œå­¦å†ä¸è¡Œèƒ½åŠ›ä¸è¡Œï¼Œæ²¡ç»éªŒæ²¡æŠ€æœ¯å¤„å¤„ç¢°å£ï¼Œâ€œä¼š xxx å—ï¼Ÿä¼š xxx å—ï¼Ÿæˆ‘ä»¬è¦æ±‚çš„æ˜¯å¤åˆå‹äººæ‰ï¼Œä½ å¹¶ä¸é€‚åˆâ€¦â€</p>\n<p>æ‰“å°é‚£ä¹ˆå¤šçš„ç®€å†ä¹Ÿè®¸è¿‡å¾€äº‘çƒŸäº†ï¼Œä¸€å¼ å¼ çš„ç®€å†è®°å½•çš„å¹¶ä¸æ˜¯æˆ‘çš„è¿‡å»ï¼Œè€Œæ˜¯æˆ‘çš„æœªæ¥ï¼›è‡ªå·±å°±æƒ³è§’è½é‡Œéšé£é£˜èµ·çš„ä¸€å¼ çº¸ï¼Œéšå¤„å¯è§ï¼Œä½†å¹¶ä¸é‡è§†ï¼Œæ ¼å¤–ä¸èµ·çœ¼ï¼›</p>\n<p>é‚£æ®µæ—¶é—´ï¼Œæˆ‘ä¹Ÿæƒ³äº†å¾ˆå¤šï¼Œäº²æˆšæœ‹å‹æ‰“æ¥çš„ç”µè¯åŸºæœ¬éƒ½æ˜¯ä¸æ¥çš„ï¼Œé‚£æ®µæ—¶é—´ç®€ç›´å°±æ˜¯äººé—´è’¸å‘æ‰äº†ï¼›</p>\n<p>ä¸è¿‡è¿˜å¥½ï¼Œæˆ‘é‡åˆ°ä¸€å®¶å…¬å¸ï¼ˆå¯¹äºå®ä¹ ä¹‹åçš„è¯¦ç»†é€Ÿå†™ï¼‰ï¼š</p>\n<p>å¤§å­¦æ¯•ä¸šä¹‹å‰çš„äº‹æƒ…å°±ä¸æäº†ï¼Œæ¯•ä¸šä¹‹ååœ¨å±±è¥¿å®ä¹ äº†çŸ­æš‚çš„ä¸€å¹´ï¼Œå®ä¹ å®Œæˆå› ä¸ºå®¶é‡Œçš„äº‹æƒ…ï¼Œæˆ‘å°±å‡ºå»æ”¾æ¾äº†ä¸€æ®µæ—¶é—´ï¼Œå»äº†äº‘å—ï¼›äº‘å—çš„æ™¯è‰²è¯´å®è¯æ˜¯çœŸçš„å¾ˆç¾ï¼Œè¡¨é¢ä¸Šæ˜¯ä»¥æ‰¾å·¥ä½œä¸ºå™±å¤´ï¼Œå…¶å®å°±æ˜¯å–äº‘å—æ—…æ¸¸ç©è€äº†ä¸€ä¸ªæœˆå·¦å³ï¼Œå±±æ¸…æ°´ç§€ï¼Œä¸è¿‡å½“æ—¶æ˜¯åœ¨äº”ååŒºçŸ­æš‚çš„å‘†äº†ä¸€ä¸ªæœˆï¼ŒåŸºæœ¬æ¯å¤©éƒ½ä¼šå¬åˆ°æ¶ˆé˜²è½¦åœ¨å¤§è¡—ä¸Šé¸£ç¬›ï¼›é‚£ä¼šçš„äº‘å—è¿˜æ˜¯å¤ªçƒ­äº†ï¼Œå±±ä¸Šçš„æ ‘æœ¨éƒ½æœ‰äº†è‡ªç„¶çš„ç°è±¡ï¼›</p>\n<p>è¿‡äº†å‡ å¤©ä¹‹åï¼Œå°±å¸¦ç€è‡ªå·±ç®€å†å»è¯•äº†è¯•ï¼Œå¾ˆæˆåŠŸçš„å¤±è´¥äº†ï¼Œä½†æ˜¯ä¹Ÿæ²¡æ€ä¹ˆåæ€è‡ªå·±çš„é—®é¢˜ï¼Œç»“æœæŠ•äº†å°†è¿‘åŠä¸ªæœˆå§ï¼Œæˆ‘å¿ƒæ€å´©äº†ï¼Œè¿åœ¨å½“åœ°çš„åŸºç¡€å·¥èµ„çš„å·¥ä½œéƒ½æ‰¾ä¸ä¸Šï¼Œä¹Ÿè®¸å‹åŠ›å¤§è¿˜æ˜¯è‡ªå·±çš„æ— èƒ½å¯¼è‡´è‡ªå·±èµ°å‘äº†è½»å¾®æŠ‘éƒï¼Œå„¿è¡Œåƒé‡Œæ¯æ‹…å¿§ï¼Œå½“æ—¶å®¶é‡Œä¹Ÿæ‰“è¿‡å¾ˆå¤šç”µè¯ï¼Œåˆšå¼€å§‹è¿˜è¯´é“è¯´é“ï¼Œåé¢ å°±ä¸æ¥äº†ï¼Œå­¦æ ¡ï¼Œæœ‹å‹çš„æ¶ˆæ¯ä¹Ÿéƒ½æ²¡å›ï¼›</p>\n<p>æœºç¼˜å·§åˆï¼Œåœ¨ä¸€ç•ªå¤±è´¥ä¹‹åï¼Œé¢è¯•ä¸Šäº†æ˜†æ˜æ‹“é¸¿ç§‘æŠ€å…¬å¸ï¼Œå½“æ—¶è¿›å»ä¹‹åï¼Œå°±æ„Ÿæ…¨çœŸä¸æ„§æ˜¯åŒºåŸŸå¤§å…¬å¸ï¼Œå½“æ—¶å¥½åƒç»å†äº†äºŒæ¬¡é¢è¯•ï¼Œä¹‹åä¸å…¬å¸çš„å¤§é¢†å¯¼è°ˆäº†è°ˆï¼Œä¹‹å‰æ˜¯åšæŠ€æœ¯çš„ï¼Œè¯´æˆ‘ç°åœ¨å¯ä»¥è€ƒè™‘ä¸€ä¸‹å…¬å¸çš„é”€å”®å²—ä½ï¼ŒåæœŸå¯ä»¥è°ƒå²—ï¼›æˆ‘æ²¡æœ‰ç›´æ¥æ‹’ç»ï¼Œè¯´äº†è€ƒè™‘ä¸€ä¸‹ï¼›</p>\n<p>åœ¨å…¬å¸å‘†äº†ä¸€ä¸‹åˆï¼Œå‚ä¸äº†å…¬å¸çš„ä¸€äº›å°æ¸¸æˆï¼Œæ´»åŠ¨ï¼Œä»‹ç»ç­‰ï¼›å›å»ä¹‹åè€ƒè™‘ä¹‹åå°±æ‹’ç»äº†ï¼›</p>\n<p>ä¹‹åï¼Œæœ‹å‹è·Ÿæˆ‘æ‰“ç”µè¯è¯´æ˜¯è¦å»ä¸Šæµ·ï¼Œæˆ‘æƒ³è¿‡ä¹‹åï¼Œç›¸å¯¹äºå¤§åŸå¸‚è‚¯å®šæœºä¼šå¤šï¼ŒäºŒè¯ä¸è¯´çš„ç­”åº”äº†ï¼Œå¹¶ä¸”æ”¶æ‹¾å®Œä¹‹åï¼Œå°±å‡ºå‘äº†ï¼›</p>\n<p>æ¥äº†ä¸Šæµ·ä¹‹åï¼Œæ²¡åœ°æ–¹ä½ï¼Œåªèƒ½ä½åœ¨æœ‹å‹é‚£é‡Œï¼Œä¸‰ä¸–ä¸€å…ä¸€å¨ä¸€å«ï¼Œä»–ä»¬æœ‰ä¸‰ä¸ªäººï¼Œå†åŠ ä¸Šæˆ‘å’Œæœ‹å‹å…±äº”äººï¼Œæœ‹å‹å»çš„æ‰¾ç¡åœ¨äº†æ²™å‘ï¼Œæˆ‘å»çš„æ™šä¸€äº›ï¼Œæ²¡åœ°æ–¹ç¡ï¼Œä¸Šæµ·æœ‹å‹è¯´å…ˆåœ¨è¿™é‡ŒæŒ¤ä¸€æŒ¤å§ï¼Œæ‰¾åˆ°å·¥ä½œä¹‹åå†æ¬èµ°ï¼Œä»–ä»¬ä¸‰å®¤ä¸»äººï¼Œä¸€äººä¸€é—´ï¼Œæœ‹å‹ç¡æ²™å‘åˆšå¥½å¤Ÿä»–çš„ä½ç½®ï¼ŒèŒ¶å‡ æ—è¾¹è¿˜æœ‰çª„çª„çš„è¿‡é“ï¼Œæˆ‘å°±æ¬äº†ä¿©ä¸ªå‡³å­å †åœ¨ä¸€èµ·ï¼Œå¤´ä¸‹æ”¾ä¸€ä¸ªï¼Œè…°ä¸‹æ”¾ä¸€ä¸ªï¼Œè„šä¸‹æ”¾è‡ªå·±çš„è¡Œæç®±ï¼›å°±é‚£æ ·åœ¨æ½®æ¹¿çš„ç¯å¢ƒå‘†äº†ä¸€ä¸ªæœˆå¥½åƒï¼Œæ‰¾åˆ°å„è‡ªçš„å·¥ä½œï¼Œç§Ÿæˆ¿ä¹‹åå°±ä¹°äº†ç‚¹æ°´æœç¤¼å“ï¼Œæ‹œè°¢ä¹‹åå°±æ¬èµ°äº†ï¼›</p>\n<p>ä¸Šæµ·é¸£çš‹æ•™è‚²ç§‘æŠ€æœ‰é™å…¬å¸, æˆ‘æ¥äº†ï¼Œåˆšå¼€å§‹è¿›å»ä¹‹åå¾ˆé™Œç”Ÿï¼Œä¹Ÿå¾ˆèƒ†æ€¯ï¼›èµ·åˆæ˜¯æ²¡æœ‰é¡¹ç›®å¯ä»¥åšçš„ï¼Œæˆ‘å°±åœ¨çœ‹å‰è¾ˆä»¬åšè¿‡çš„é¡¹ç›®å­¦ä¹ å­¦ä¹ ï¼›åŒäº‹ä¹Ÿå¾ˆçƒ­æƒ…ï¼Œæˆ‘è€å¤§å¿—å“¥äººå¾ˆä¸é”™ï¼Œåœ¨ä»–çš„å¸¦é¢†ä¸‹ï¼Œæˆ‘ç®—æ˜¯è½¬æ­£å¹¶æ¥è§¦äº†ç¬¬ä¸€ä¸ªå±äºè‡ªå·±æ­å»ºçš„é¡¹ç›®ï¼Œè¿™ä¸ªè¿‡ç¨‹å¾ˆç¹çï¼Œç»“æœä¹Ÿä¸æ˜¯å¾ˆæ»¡æ„ï¼Œå› ä¸ºæˆ‘æ²¡æœ‰ä»€ä¹ˆå·¥ä½œç»éªŒï¼Œå·¥ä½œä¸­ä¹Ÿæ€»æ˜¯çŠ¯é”™ï¼Œåˆšæ”¹å¥½çš„ bugï¼Œæ”¹äº†å…¶ä»–åœ°æ–¹æœ‰æŠ¥é”™äº†ï¼›emmï¼Œæˆ‘å¾ˆè‹¦æ¼ï¼Œä¸è¿‡æˆ‘å¯¹é¢çš„åç«¯å‰è¾ˆæ¯”æˆ‘å¹´é•¿å‡ å²ï¼Œå’Œä»–è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘å­¦åˆ°äº†å¾ˆå¤šï¼Œè™½ç„¶è¯­æ°”ä¸æ€ä¹ˆå¥½ï¼Œä½†æ˜¯æ²¡æ”¾åœ¨å¿ƒä¸Š å°±æ˜¯ä¸ºäº†å­¦ä¹ è€Œæ¥ï¼›</p>\n<p>é‚£æ—¶å€™èŠ±é”€ä¹Ÿå¾ˆå¤§ï¼Œå†åŠ ä¸Šä¹‹å‰æ‰‹å¤´æ¯”è¾ƒç´§ï¼Œåœ¨å¹³å°å€Ÿçš„ä¸€äº›ï¼Œå¯¼è‡´åä¿©å¹´éƒ½åœ¨è¿˜ï¼›</p>\n<p>ä¹‹åï¼Œåœ¨å­¦ä¹ äº†ä¸€å¹´ä¹‹åï¼Œå°±è·Ÿè€å¤§æäº†ç¦»èŒã€‚ã€‚ã€‚</p>\n<p>æˆ‘æ¥åˆ°äº†ä¸Šæµ·å¸˜é‚¦ä¿¡æ¯ç§‘æŠ€æœ‰é™å…¬å¸, è§„æ¨¡äººæ•°è¦æ¯”ä¹‹å‰çš„å¤§ä¸€ç‚¹ï¼Œå…¥èŒä¹‹åï¼Œæ°å“¥è®©æˆ‘ç†Ÿæ‚‰ä¸€ä¸‹ç¯å¢ƒï¼Œåˆšå¼€å§‹å¿ƒé‡Œæƒ³æ”¹å˜è‡ªå·±æ´»è·ƒèµ·æ¥ï¼Œä¸€åˆ°æ­£ç»æ—¶æœŸå°±æ€¯åœºï¼›å°±é‚£æ ·è½¬æ­£äº†ï¼Œæ¥è§¦äº† nodeï¼Œå­¦ä¹ äº†è§„èŒƒåŒ–æµç¨‹æ¸…æ¥šçš„çŸ¥é“äº†è‡ªå·±å¾ˆå¤šçš„é—®é¢˜ä¸ç¼ºé™·ï¼›</p>\n<p>çº¿ä¸‹æ—¶é—´å°±å»äº†è§£ nodeï¼Œå¹¶ä»¥ node+express æ­å»º api è¯·æ±‚ï¼Œåœ¨ç»å†ä¸ªåŠä¸ªæœˆä¹‹åï¼Œå°±è‡ªå·±åŠ¨æ‰‹æ­å»ºäº†ä¸€ä¸ªç®€å•çš„åšå®¢ç³»ç»Ÿ, è¿™ä¹Ÿæ˜¯ç¬¬ä¸€ä»£åšå®¢çš„äº§ç”Ÿï¼Œå› ä¸ºæ•°æ®å…¨éƒ½æ˜¯é™æ€çš„ï¼Œå¹¶ä¸”æ–‡æ¡£çš„è§£ææ–¹å¼ä¸ä¸€è‡´ï¼Œåé¢å°±åºŸå¼ƒäº†ï¼›ç®€å•çš„å­¦ä¹ äº†å®å¡”å¸ƒå±€æœåŠ¡å™¨ï¼Œåˆšå¼€å§‹çš„å‰ç«¯éƒ¨ç½²è¿˜æ˜¯ä¸Šä¼ æ–‡ä»¶ï¼Œåæ¥è€ƒè™‘åˆ°å¤ªéº»çƒ¦å°±æŸ¥é˜…èµ„æ–™ï¼Œè‡ªå·±ç®€å•çš„å­¦äº†ä¸€ä¸‹ jenkins ä¸æ˜¯ node å’Œ vue é¡¹ç›®ï¼Œç®€å•è¯´å°±æ˜¯å°†é¡¹ç›®æ‹‰ä¸‹æ¥ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œå°† dist æ–‡ä»¶å†…å®¹å¤åˆ¶åœ¨è‡ªå·±çš„ç½‘ç«™ä¸‹é¢ï¼Œ è¿™æ ·é€šè¿‡å‘½ä»¤å°±å¯ä»¥ç›´æ¥å®Œæˆäº†ï¼›ä¸è¿‡æ‰“åŒ…å’Œéƒ¨ç½²è¿‡ç¨‹ä¹Ÿæ˜¯èŠ±è´¹äº†æˆ‘ä¸å°‘æ—¶é—´ï¼›</p>\n<p>å¹´ç»ˆæ€»ç»“å¤§ä¼šæ¥äº†ï¼Œå› ä¸ºä¹‹å‰æ²¡æœ‰å‚ä¸è¿‡ä¸çŸ¥é“æ€§è´¨å’Œä½œç”¨ï¼ŒæŠ½ç­¾æŠ½åˆ°äº†ç¬¬ä¸€åï¼Œæ…Œäº†ä¸çŸ¥é“è‡ªå·±è¯¥æ€ä¹ˆåšï¼Œåœ¨å‰è¾ˆçš„å¸¦é¢†ä¸‹ï¼Œè‡ªå·±è¯´çš„æ²¡æœ‰é€»è¾‘å°±è¯´å®Œäº†ï¼›çŸ¥é“äº†å‘¨å›´åŒäº‹çš„ä¼˜ç§€ï¼Œä¹Ÿæ˜ç™½äº†è‡ªå·±æŠ€æœ¯ä¸æ‰å®ï¼Œæ²¡æœ‰è‡ªä¿¡ï¼›</p>\n<p>æ¥ä¸‹æ¥çš„æ—¶é—´å°±æ˜¯æå‡è‡ªå·±ï¼Œæå‡è‡ªå·±çš„è‡ªä¿¡ï¼Œåœ¨ä»¥å…¬å¸é¡¹ç›®ä¸ºä¸­å¿ƒï¼ŒæŠ€æœ¯èŒƒå›´çš„å­¦ä¹ æ‰©å¤§ï¼Œä¸å•å•æ˜¯ä»¥ node, express ç„¶åç®€å•äº†è§£ koa çš„åŸºç¡€ä½¿ç”¨ï¼Œä¹‹ååœ¨è¿™åŸºç¡€ä¸Šåˆæ¥è§¦äº† nestï¼Œ mqSqlï¼Œå¹¶ä¸”ç®€å•çš„å¢åˆ æ”¹æŸ¥çš„åŠŸèƒ½ï¼›ç™½å¤©çš„æ—¶é—´åŸºæœ¬éƒ½åœ¨å·¥ä½œï¼Œé—²æš‡æ—¶é—´å»å­¦ä¹  vue ç›¸å…³çš„çŸ¥è¯†ï¼Œé€šè¿‡ github é¡¹ç›®ï¼Œæ˜é‡‘ï¼Œcsdn ç­‰ç­‰è®ºå›ï¼Œæ–‡æ¡£çš„å½¢å¼è¡¥å……è‡ªå·±åŸºç¡€ä¸Šçš„ä¸è¶³ï¼›å†ä¸€å¹´çš„æ€»ç»“å¤§ä¼šï¼ŒåŒäº‹ç»™æˆ‘çš„è¯„ä»·: æˆé•¿è¿…é€Ÿï¼Œæœ‰è‡ªå·±çš„æƒ³æ³•ï¼Œä¸ä»–äººæ²Ÿé€šå¤šäº†èµ·æ¥ï¼›è€å¤§ä¹Ÿæ˜¯çœ‹å¥½æˆ‘çš„ï¼Œä¹‹åçš„å·¥ä½œä¸å†èŠ±å¤§é‡æ—¶é—´å»å­¦ä¹ åŸºç¡€äº†ï¼Œåœ¨é¡¹ç›®çš„å¥ åŸºä¸Šå»¶ä¼¸åŠŸèƒ½çš„ä¼˜åŒ–ï¼Œæ€§èƒ½çš„ä¼˜åŒ–ç­‰ç­‰ï¼›</p>\n<p>å¹¶åœ¨çŸ¥è¯†åº“ä¸­ï¼Œç¼–å†™æ–‡æ¡£ï¼Œé¡¹ç›®ä¸­ç»å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆï¼Œä¸€äº›å·¥å…·çš„å°è£…ä½¿ç”¨ï¼Œè§„èŒƒç­‰ç­‰ï¼Œå¹¶æå‡ºæŠ€æœ¯åˆ†äº«ä¼šè®®ï¼Œå°†è‡ªå·±çš„æ–‡æ¡£ï¼Œæƒ³æ³•è®²äº†å‡ºæ¥æ•ˆæœè¿˜æ˜¯ä¸é”™ï¼›ä¸è¿‡åæ¥æ²¡æœ‰ç»§ç»­æ‰§è¡Œäº†ï¼Œå¤§å®¶æ‰‹é‡Œçš„äº‹æƒ…æ¯”è¾ƒå¤šï¼Œéœ€æ±‚è¿­ä»£ç´§æ€¥å°±æ²¡æœ‰æ—¶é—´äº†è¯´è¿™ä¸ªåˆ†äº«ï¼›</p>\n<p>ä¹‹åè§‰å¾—è‡ªå·±å·¥ä½œä¸­çš„åŠŸèƒ½æ²¡æœ‰å¤ªå¤§çš„é—®é¢˜ï¼Œå°±æ¥è§¦äº†ä¸€äº›å…¶ä»–çš„è¯­è¨€ï¼Œdart, flutterï¼Œäº†è§£å…¶ä½¿ç”¨ï¼Œgetx çŠ¶æ€ç®¡ç†å™¨, http çš„æ‹¦æˆªä½¿ç”¨ç®€å•çš„è¯·æ±‚æ¸²æŸ“é¡µé¢ï¼›ä½œä¸ºä¸€ä¸ªæŠ€æœ¯å‚¨å¤‡ï¼›</p>\n<p>åœ¨å…¬å¸å‘ç°äº†ä¸€äº›é—®é¢˜ï¼Œå…¬å¸æ²¡æœ‰ pc,h5 çš„æ¨¡æ¿é¡¹ç›®ï¼Œå¦‚æœåæœŸç¼–å†™æ–°çš„é¡¹ç›®åªèƒ½å¤åˆ¶ä¹‹å‰çš„é¡¹ç›®è¿›è¡Œä¿®æ”¹äº†ï¼Œåœ¨è¿™é—®é¢˜ä¹‹ä¸Šæˆ‘è¿›è¡Œè€ƒè™‘ï¼Œå¦‚æœèƒ½æƒ³ vue-cli å®‰è£…ä¸€æ ·ï¼Œè¿™æ ·çš„é—®é¢˜æ˜¯ä¸æ˜¯å°±è§£å†³äº†ï¼Œçº¿ä¸‹æ—¶é—´å‘é¢†å¯¼è¯·æ±‚ä»“åº“çš„æƒé™ï¼Œåœ¨åŒæ„ä¹‹åèŠ±è´¹ä¿©å¤©å·¦å³æ—¶é—´äº†è§£å…¶è¿è¡ŒåŸç†ä¸åŠŸèƒ½ï¼Œå¹¶é€šè¿‡ npm å‘å¸ƒè‡ªå·±çš„å·¥å…·ï¼Œäºæ˜¯ tem-pro å·¥å…·å°±ä¸Šçº¿äº†ï¼›èµ·åˆå‘¨ä¸‹è½½é‡ä¹Ÿæœ‰äº† 100 å·¦å³çš„ä¸‹è½½ï¼Œæ…¢æ…¢çš„åé¢ä¸‹è½½é‡å°±å‡å°‘äº†ï¼›</p>\n<p>å¯¹äºåæœŸæ˜¯å¦ç»§ç»­å‘†åœ¨ä¸Šæµ·è¿˜ä¸æ•¢ä¿è¯ï¼Œæ¯•ç«Ÿè‡ªèº«å‹åŠ›ï¼Œå®¶åº­ï¼Œè‡ªèº«æ¡ä»¶ï¼Œæˆå®¶ç­‰å¤šå› ç´ çš„å½±å“ï¼Œä¹Ÿæœ‰å¯èƒ½åå‡ å¹´å°±å›è€å®¶äº†ï¼›</p>\n<p>ä¸è¿‡ç°åœ¨è¿˜æ²¡æœ‰è¿™ä¸ªæƒ³æ³•ï¼Œå…ˆç»§ç»­æå‡è‡ªå·±çš„èƒ½åŠ›å§ï¼</p>\n"},{"title":"ä¸´ç»ˆå‰çš„å›æº¯-ç¬¬ä¸ƒç« ï¼šæ­¥å…¥æ­£è½¨","abbrlink":"7ce53da5","date":"2023-10-08T01:05:01.000Z","_content":"> äººç”Ÿæœ€æœ‰æ„æ€çš„çš„æ˜¯ï¼šäººç”Ÿæœ¬äº‹ä½›é™€è·¯, ä¸€è·¯è‰°è¾›ä¸€è·¯æˆé•¿ï¼Œåˆ°äº†æœ€åä½ å°±ä¼šå‘ç°ä¸è¿‡å¦‚æ­¤ï¼›æ›¾ç»æˆ‘ä»¥ä¸ºåªè¦ä½ åŠªåŠ›ï¼Œå°±ä¼šæœ‰ç»“æœï¼Œä½†ç»“æœèƒŒé“è€Œé©°ï¼Œå¹¶ä¸æ˜¯å®Œå…¨æ­£ç¡®çš„ï¼›\n\næ—¶é—´è¿‡å¾—å¾ˆå¿«ï¼Œæ…¢æ…¢çš„ç”Ÿæ´»å·¥ä½œæ­¥å…¥æ­£è½¨ï¼Œè€ w å‰æ®µæ—¶é—´è·Ÿæˆ‘è¯´ï¼Œä¹‹å‰æ¬ çš„é’±å·²ç»è¿˜çš„å¤§å·®ä¸å·®äº†ï¼Œé©¬ä¸Šæˆ‘å°±è¦è¿›å…¥å­˜é’±çš„é˜¶æ®µäº†ï¼›æˆ‘å½“æ—¶è·Ÿä»–è¯´ï¼Œåªæ€ªå¹´è½»ä¸æ‡‚äº‹å•ŠèŠ±çš„é’±å¤ªè¶…å‰äº†ï¼Œè¦æˆ‘è¯´ä¹Ÿæ˜¯é‚£äº›ç½‘ä¸Šå€Ÿé’±çš„ä¹Ÿæ˜¯ä¸€ä¸ªå‘ï¼›\n\nå¿«å…¥ 30 çš„è€ wï¼Œè²Œä¼¼è¿›å…¥äº†è¿·èŒ«ï¼Œä»–ä¸æ¸…æ¥šç°åœ¨çš„ä»–é™¤äº†å·¥ä½œèƒ½å¹²ä»€ä¹ˆï¼Œæ²¡æœ‰ä¸€æŠ€ä¹‹é•¿ï¼Œä¹Ÿæ²¡æœ‰ç‰¹åˆ«æ“…é•¿çš„ï¼Œéš¾é“è¯´åªèƒ½é ç€å·¥èµ„æ´»ä¸‹å»å—ï¼Œç°åœ¨æ²¡æœ‰å‹ä¸è¿‡æ°”çš„å±±å³°ï¼Œä½†æ˜¯æƒ³å¯¹å‹åŠ›ä¹Ÿæ˜¯å¾ˆå¤§çš„ï¼Œæ²¡æœ‰å¯¹è±¡ä»–ï¼Œæ²¡æœ‰å­˜æ¬¾çš„ä»–ï¼Œä¹Ÿæ²¡æœ‰æˆ¿å­çš„ä»–ï¼Œè²Œä¼¼è„±ç¦»äº†ç¤¾ä¼šï¼›\n\nä¹‹å‰è·Ÿè€ w è¯´äº†è¯´è€å®¶çš„æƒ…å†µï¼Œç°åœ¨çš„è€å®¶é™¤äº†ä¼ ç»Ÿå·¥è‰ºï¼Œç…¤çŸ¿å¼€å‘ç­‰ç¨³å®šå‘å±•ï¼Œä½†æ˜¯æƒ³è¦å¤§åŠ›å‘å±•ç»æµæ˜¯ä¸ªå¾ˆå¤§çš„éš¾é¢˜ï¼Œèµ„æºæ€»æœ‰æ¿’ä¸´åŒ®ä¹çš„æ—¶å€™ï¼Œä¼ ç»Ÿå·¥è‰ºä¹Ÿæœ‰æ–­æ‰¿çš„æ—¶å€™ï¼Œé‚£ä¸ªæ—¶å€™è¯¥æ€ä¹ˆå‘å±•ï¼›è™½ç„¶è¯´ç°åœ¨çš„æ€»ä½“çš„ç»æµå¹¶ä¸å¥½ï¼Œæˆ¿ä»·çš„ä¸‹é™ä¹Ÿæ˜¯æ­£å¥½å¯ä»¥è¯´æ˜å›½å†…çš„ç»æµä¹Ÿè®¸å¹¶ä¸å¥½ï¼Œå¤§ç¯å¢ƒçš„å¡åŠ¨ï¼Œäº’è”ç½‘çš„å‘å±•å·²ç»èµ°å…¥é¥±å’ŒæœŸï¼Œç°åœ¨å‡ºç°äº† ai çš„ç»æµï¼Œai å¸¦æ¥çš„å½±å“ä¹Ÿæ˜¯å¾ˆå¤§çš„ï¼Œéƒ¨åˆ† ai å·²ç»è¿›å…¥äº†äººç±»çš„ç”Ÿæ´»ï¼Œä¹Ÿè®¸åœ¨ä¸ä¹…çš„å°†æ¥æ…¢æ…¢æ›¿ä»£äººã€‚\n\næ˜¯å•Šï¼Œç°åœ¨è¿™ç§æƒ…å†µä¸‰æ— æƒ…å†µï¼ŒåæœŸç”Ÿæ´»çš„å‹åŠ›ä¼šå¾ˆå¤§ï¼Œä½†æ˜¯å‹åŠ›å¤§åˆæœ‰ä»€ä¹ˆï¼Œé‚£å°±æ…¢æ…¢çš„æ¥å‘—ï¼Œåæ­£ç°åœ¨çš„ç”Ÿæ´»ä¹Ÿå°±æ˜¯æœ‰æœºä¼šçœ‹çœ‹æœºä¼šæ²¡æœºä¼šé‚£å°±æ…¢æ…¢æŒ£é’±å‘—ï¼›\n\nä¸è¿‡ç°åœ¨è¿˜å¥½ï¼Œç”Ÿæ´»å·¥ä½œæ…¢æ…¢æ­¥å…¥æ­£è½¨ï¼Œä¸€åˆ‡éƒ½åœ¨å¾€å¥½çš„æ–¹å‘å‘å±•ï¼Œç°åœ¨çš„æˆ‘åªéœ€è¦ä¿è¯è‡ªå·±çš„çŠ¶æ€å°±å¥½ï¼›\n\nå‰æ®µæ—¶é—´èº«ä½“å‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯å¾ˆå¤§çš„é—®é¢˜ï¼Œæ˜å¹´æŠ½ä¸ªæ—¶é—´å»å…»å…»èº«ä½“ï¼Œæ€»ä¸èƒ½é’±æ²¡æŒ£åˆ°èº«ä½“å®äº†å§ï¼›\n\nå›½åº†åˆ°äº†ï¼Œä»Šå¹´ä¹Ÿå°±ä¸å›å»äº†ï¼Œå›å»ä¹Ÿæ²¡å•¥æ„æ€ï¼Œä¹Ÿæ²¡å•¥äº‹ï¼›æ­£å¥½è¶ç€è¿™æ®µæ—¶é—´å¥½å¥½ä¼‘æ¯ï¼Œæ¯•ç«Ÿå‰æ®µæ—¶é—´ä¸€ç›´åŠ ç­ç¡®å®å¾ˆç´¯ï¼›\n\nä¹Ÿæ˜¯æ—¶å€™è§„åˆ’è‡ªå·±çš„ç”Ÿæ´»äº†ï¼Œæ¯•ç«Ÿé©¬ä¸Šè¿›å…¥é’å¹´äº†ï¼›\n","source":"_posts/ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/æ­¥å…¥æ­£è½¨.md","raw":"---\ntitle: ä¸´ç»ˆå‰çš„å›æº¯-ç¬¬ä¸ƒç« ï¼šæ­¥å…¥æ­£è½¨\nabbrlink: 7ce53da5\ndate: 2023-10-08 09:05:01\ncategories:\n  - ç”Ÿæ´»æ—¥å¿—\ntags:\n  - å°è¯´\n---\n> äººç”Ÿæœ€æœ‰æ„æ€çš„çš„æ˜¯ï¼šäººç”Ÿæœ¬äº‹ä½›é™€è·¯, ä¸€è·¯è‰°è¾›ä¸€è·¯æˆé•¿ï¼Œåˆ°äº†æœ€åä½ å°±ä¼šå‘ç°ä¸è¿‡å¦‚æ­¤ï¼›æ›¾ç»æˆ‘ä»¥ä¸ºåªè¦ä½ åŠªåŠ›ï¼Œå°±ä¼šæœ‰ç»“æœï¼Œä½†ç»“æœèƒŒé“è€Œé©°ï¼Œå¹¶ä¸æ˜¯å®Œå…¨æ­£ç¡®çš„ï¼›\n\næ—¶é—´è¿‡å¾—å¾ˆå¿«ï¼Œæ…¢æ…¢çš„ç”Ÿæ´»å·¥ä½œæ­¥å…¥æ­£è½¨ï¼Œè€ w å‰æ®µæ—¶é—´è·Ÿæˆ‘è¯´ï¼Œä¹‹å‰æ¬ çš„é’±å·²ç»è¿˜çš„å¤§å·®ä¸å·®äº†ï¼Œé©¬ä¸Šæˆ‘å°±è¦è¿›å…¥å­˜é’±çš„é˜¶æ®µäº†ï¼›æˆ‘å½“æ—¶è·Ÿä»–è¯´ï¼Œåªæ€ªå¹´è½»ä¸æ‡‚äº‹å•ŠèŠ±çš„é’±å¤ªè¶…å‰äº†ï¼Œè¦æˆ‘è¯´ä¹Ÿæ˜¯é‚£äº›ç½‘ä¸Šå€Ÿé’±çš„ä¹Ÿæ˜¯ä¸€ä¸ªå‘ï¼›\n\nå¿«å…¥ 30 çš„è€ wï¼Œè²Œä¼¼è¿›å…¥äº†è¿·èŒ«ï¼Œä»–ä¸æ¸…æ¥šç°åœ¨çš„ä»–é™¤äº†å·¥ä½œèƒ½å¹²ä»€ä¹ˆï¼Œæ²¡æœ‰ä¸€æŠ€ä¹‹é•¿ï¼Œä¹Ÿæ²¡æœ‰ç‰¹åˆ«æ“…é•¿çš„ï¼Œéš¾é“è¯´åªèƒ½é ç€å·¥èµ„æ´»ä¸‹å»å—ï¼Œç°åœ¨æ²¡æœ‰å‹ä¸è¿‡æ°”çš„å±±å³°ï¼Œä½†æ˜¯æƒ³å¯¹å‹åŠ›ä¹Ÿæ˜¯å¾ˆå¤§çš„ï¼Œæ²¡æœ‰å¯¹è±¡ä»–ï¼Œæ²¡æœ‰å­˜æ¬¾çš„ä»–ï¼Œä¹Ÿæ²¡æœ‰æˆ¿å­çš„ä»–ï¼Œè²Œä¼¼è„±ç¦»äº†ç¤¾ä¼šï¼›\n\nä¹‹å‰è·Ÿè€ w è¯´äº†è¯´è€å®¶çš„æƒ…å†µï¼Œç°åœ¨çš„è€å®¶é™¤äº†ä¼ ç»Ÿå·¥è‰ºï¼Œç…¤çŸ¿å¼€å‘ç­‰ç¨³å®šå‘å±•ï¼Œä½†æ˜¯æƒ³è¦å¤§åŠ›å‘å±•ç»æµæ˜¯ä¸ªå¾ˆå¤§çš„éš¾é¢˜ï¼Œèµ„æºæ€»æœ‰æ¿’ä¸´åŒ®ä¹çš„æ—¶å€™ï¼Œä¼ ç»Ÿå·¥è‰ºä¹Ÿæœ‰æ–­æ‰¿çš„æ—¶å€™ï¼Œé‚£ä¸ªæ—¶å€™è¯¥æ€ä¹ˆå‘å±•ï¼›è™½ç„¶è¯´ç°åœ¨çš„æ€»ä½“çš„ç»æµå¹¶ä¸å¥½ï¼Œæˆ¿ä»·çš„ä¸‹é™ä¹Ÿæ˜¯æ­£å¥½å¯ä»¥è¯´æ˜å›½å†…çš„ç»æµä¹Ÿè®¸å¹¶ä¸å¥½ï¼Œå¤§ç¯å¢ƒçš„å¡åŠ¨ï¼Œäº’è”ç½‘çš„å‘å±•å·²ç»èµ°å…¥é¥±å’ŒæœŸï¼Œç°åœ¨å‡ºç°äº† ai çš„ç»æµï¼Œai å¸¦æ¥çš„å½±å“ä¹Ÿæ˜¯å¾ˆå¤§çš„ï¼Œéƒ¨åˆ† ai å·²ç»è¿›å…¥äº†äººç±»çš„ç”Ÿæ´»ï¼Œä¹Ÿè®¸åœ¨ä¸ä¹…çš„å°†æ¥æ…¢æ…¢æ›¿ä»£äººã€‚\n\næ˜¯å•Šï¼Œç°åœ¨è¿™ç§æƒ…å†µä¸‰æ— æƒ…å†µï¼ŒåæœŸç”Ÿæ´»çš„å‹åŠ›ä¼šå¾ˆå¤§ï¼Œä½†æ˜¯å‹åŠ›å¤§åˆæœ‰ä»€ä¹ˆï¼Œé‚£å°±æ…¢æ…¢çš„æ¥å‘—ï¼Œåæ­£ç°åœ¨çš„ç”Ÿæ´»ä¹Ÿå°±æ˜¯æœ‰æœºä¼šçœ‹çœ‹æœºä¼šæ²¡æœºä¼šé‚£å°±æ…¢æ…¢æŒ£é’±å‘—ï¼›\n\nä¸è¿‡ç°åœ¨è¿˜å¥½ï¼Œç”Ÿæ´»å·¥ä½œæ…¢æ…¢æ­¥å…¥æ­£è½¨ï¼Œä¸€åˆ‡éƒ½åœ¨å¾€å¥½çš„æ–¹å‘å‘å±•ï¼Œç°åœ¨çš„æˆ‘åªéœ€è¦ä¿è¯è‡ªå·±çš„çŠ¶æ€å°±å¥½ï¼›\n\nå‰æ®µæ—¶é—´èº«ä½“å‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯å¾ˆå¤§çš„é—®é¢˜ï¼Œæ˜å¹´æŠ½ä¸ªæ—¶é—´å»å…»å…»èº«ä½“ï¼Œæ€»ä¸èƒ½é’±æ²¡æŒ£åˆ°èº«ä½“å®äº†å§ï¼›\n\nå›½åº†åˆ°äº†ï¼Œä»Šå¹´ä¹Ÿå°±ä¸å›å»äº†ï¼Œå›å»ä¹Ÿæ²¡å•¥æ„æ€ï¼Œä¹Ÿæ²¡å•¥äº‹ï¼›æ­£å¥½è¶ç€è¿™æ®µæ—¶é—´å¥½å¥½ä¼‘æ¯ï¼Œæ¯•ç«Ÿå‰æ®µæ—¶é—´ä¸€ç›´åŠ ç­ç¡®å®å¾ˆç´¯ï¼›\n\nä¹Ÿæ˜¯æ—¶å€™è§„åˆ’è‡ªå·±çš„ç”Ÿæ´»äº†ï¼Œæ¯•ç«Ÿé©¬ä¸Šè¿›å…¥é’å¹´äº†ï¼›\n","slug":"ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/æ­¥å…¥æ­£è½¨","published":1,"updated":"2025-03-12T10:12:35.235Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0jc008lfg9m5f1s8eu8","content":"<blockquote>\n<p>äººç”Ÿæœ€æœ‰æ„æ€çš„çš„æ˜¯ï¼šäººç”Ÿæœ¬äº‹ä½›é™€è·¯, ä¸€è·¯è‰°è¾›ä¸€è·¯æˆé•¿ï¼Œåˆ°äº†æœ€åä½ å°±ä¼šå‘ç°ä¸è¿‡å¦‚æ­¤ï¼›æ›¾ç»æˆ‘ä»¥ä¸ºåªè¦ä½ åŠªåŠ›ï¼Œå°±ä¼šæœ‰ç»“æœï¼Œä½†ç»“æœèƒŒé“è€Œé©°ï¼Œå¹¶ä¸æ˜¯å®Œå…¨æ­£ç¡®çš„ï¼›</p>\n</blockquote>\n<p>æ—¶é—´è¿‡å¾—å¾ˆå¿«ï¼Œæ…¢æ…¢çš„ç”Ÿæ´»å·¥ä½œæ­¥å…¥æ­£è½¨ï¼Œè€ w å‰æ®µæ—¶é—´è·Ÿæˆ‘è¯´ï¼Œä¹‹å‰æ¬ çš„é’±å·²ç»è¿˜çš„å¤§å·®ä¸å·®äº†ï¼Œé©¬ä¸Šæˆ‘å°±è¦è¿›å…¥å­˜é’±çš„é˜¶æ®µäº†ï¼›æˆ‘å½“æ—¶è·Ÿä»–è¯´ï¼Œåªæ€ªå¹´è½»ä¸æ‡‚äº‹å•ŠèŠ±çš„é’±å¤ªè¶…å‰äº†ï¼Œè¦æˆ‘è¯´ä¹Ÿæ˜¯é‚£äº›ç½‘ä¸Šå€Ÿé’±çš„ä¹Ÿæ˜¯ä¸€ä¸ªå‘ï¼›</p>\n<p>å¿«å…¥ 30 çš„è€ wï¼Œè²Œä¼¼è¿›å…¥äº†è¿·èŒ«ï¼Œä»–ä¸æ¸…æ¥šç°åœ¨çš„ä»–é™¤äº†å·¥ä½œèƒ½å¹²ä»€ä¹ˆï¼Œæ²¡æœ‰ä¸€æŠ€ä¹‹é•¿ï¼Œä¹Ÿæ²¡æœ‰ç‰¹åˆ«æ“…é•¿çš„ï¼Œéš¾é“è¯´åªèƒ½é ç€å·¥èµ„æ´»ä¸‹å»å—ï¼Œç°åœ¨æ²¡æœ‰å‹ä¸è¿‡æ°”çš„å±±å³°ï¼Œä½†æ˜¯æƒ³å¯¹å‹åŠ›ä¹Ÿæ˜¯å¾ˆå¤§çš„ï¼Œæ²¡æœ‰å¯¹è±¡ä»–ï¼Œæ²¡æœ‰å­˜æ¬¾çš„ä»–ï¼Œä¹Ÿæ²¡æœ‰æˆ¿å­çš„ä»–ï¼Œè²Œä¼¼è„±ç¦»äº†ç¤¾ä¼šï¼›</p>\n<p>ä¹‹å‰è·Ÿè€ w è¯´äº†è¯´è€å®¶çš„æƒ…å†µï¼Œç°åœ¨çš„è€å®¶é™¤äº†ä¼ ç»Ÿå·¥è‰ºï¼Œç…¤çŸ¿å¼€å‘ç­‰ç¨³å®šå‘å±•ï¼Œä½†æ˜¯æƒ³è¦å¤§åŠ›å‘å±•ç»æµæ˜¯ä¸ªå¾ˆå¤§çš„éš¾é¢˜ï¼Œèµ„æºæ€»æœ‰æ¿’ä¸´åŒ®ä¹çš„æ—¶å€™ï¼Œä¼ ç»Ÿå·¥è‰ºä¹Ÿæœ‰æ–­æ‰¿çš„æ—¶å€™ï¼Œé‚£ä¸ªæ—¶å€™è¯¥æ€ä¹ˆå‘å±•ï¼›è™½ç„¶è¯´ç°åœ¨çš„æ€»ä½“çš„ç»æµå¹¶ä¸å¥½ï¼Œæˆ¿ä»·çš„ä¸‹é™ä¹Ÿæ˜¯æ­£å¥½å¯ä»¥è¯´æ˜å›½å†…çš„ç»æµä¹Ÿè®¸å¹¶ä¸å¥½ï¼Œå¤§ç¯å¢ƒçš„å¡åŠ¨ï¼Œäº’è”ç½‘çš„å‘å±•å·²ç»èµ°å…¥é¥±å’ŒæœŸï¼Œç°åœ¨å‡ºç°äº† ai çš„ç»æµï¼Œai å¸¦æ¥çš„å½±å“ä¹Ÿæ˜¯å¾ˆå¤§çš„ï¼Œéƒ¨åˆ† ai å·²ç»è¿›å…¥äº†äººç±»çš„ç”Ÿæ´»ï¼Œä¹Ÿè®¸åœ¨ä¸ä¹…çš„å°†æ¥æ…¢æ…¢æ›¿ä»£äººã€‚</p>\n<p>æ˜¯å•Šï¼Œç°åœ¨è¿™ç§æƒ…å†µä¸‰æ— æƒ…å†µï¼ŒåæœŸç”Ÿæ´»çš„å‹åŠ›ä¼šå¾ˆå¤§ï¼Œä½†æ˜¯å‹åŠ›å¤§åˆæœ‰ä»€ä¹ˆï¼Œé‚£å°±æ…¢æ…¢çš„æ¥å‘—ï¼Œåæ­£ç°åœ¨çš„ç”Ÿæ´»ä¹Ÿå°±æ˜¯æœ‰æœºä¼šçœ‹çœ‹æœºä¼šæ²¡æœºä¼šé‚£å°±æ…¢æ…¢æŒ£é’±å‘—ï¼›</p>\n<p>ä¸è¿‡ç°åœ¨è¿˜å¥½ï¼Œç”Ÿæ´»å·¥ä½œæ…¢æ…¢æ­¥å…¥æ­£è½¨ï¼Œä¸€åˆ‡éƒ½åœ¨å¾€å¥½çš„æ–¹å‘å‘å±•ï¼Œç°åœ¨çš„æˆ‘åªéœ€è¦ä¿è¯è‡ªå·±çš„çŠ¶æ€å°±å¥½ï¼›</p>\n<p>å‰æ®µæ—¶é—´èº«ä½“å‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯å¾ˆå¤§çš„é—®é¢˜ï¼Œæ˜å¹´æŠ½ä¸ªæ—¶é—´å»å…»å…»èº«ä½“ï¼Œæ€»ä¸èƒ½é’±æ²¡æŒ£åˆ°èº«ä½“å®äº†å§ï¼›</p>\n<p>å›½åº†åˆ°äº†ï¼Œä»Šå¹´ä¹Ÿå°±ä¸å›å»äº†ï¼Œå›å»ä¹Ÿæ²¡å•¥æ„æ€ï¼Œä¹Ÿæ²¡å•¥äº‹ï¼›æ­£å¥½è¶ç€è¿™æ®µæ—¶é—´å¥½å¥½ä¼‘æ¯ï¼Œæ¯•ç«Ÿå‰æ®µæ—¶é—´ä¸€ç›´åŠ ç­ç¡®å®å¾ˆç´¯ï¼›</p>\n<p>ä¹Ÿæ˜¯æ—¶å€™è§„åˆ’è‡ªå·±çš„ç”Ÿæ´»äº†ï¼Œæ¯•ç«Ÿé©¬ä¸Šè¿›å…¥é’å¹´äº†ï¼›</p>\n","excerpt":"","more":"<blockquote>\n<p>äººç”Ÿæœ€æœ‰æ„æ€çš„çš„æ˜¯ï¼šäººç”Ÿæœ¬äº‹ä½›é™€è·¯, ä¸€è·¯è‰°è¾›ä¸€è·¯æˆé•¿ï¼Œåˆ°äº†æœ€åä½ å°±ä¼šå‘ç°ä¸è¿‡å¦‚æ­¤ï¼›æ›¾ç»æˆ‘ä»¥ä¸ºåªè¦ä½ åŠªåŠ›ï¼Œå°±ä¼šæœ‰ç»“æœï¼Œä½†ç»“æœèƒŒé“è€Œé©°ï¼Œå¹¶ä¸æ˜¯å®Œå…¨æ­£ç¡®çš„ï¼›</p>\n</blockquote>\n<p>æ—¶é—´è¿‡å¾—å¾ˆå¿«ï¼Œæ…¢æ…¢çš„ç”Ÿæ´»å·¥ä½œæ­¥å…¥æ­£è½¨ï¼Œè€ w å‰æ®µæ—¶é—´è·Ÿæˆ‘è¯´ï¼Œä¹‹å‰æ¬ çš„é’±å·²ç»è¿˜çš„å¤§å·®ä¸å·®äº†ï¼Œé©¬ä¸Šæˆ‘å°±è¦è¿›å…¥å­˜é’±çš„é˜¶æ®µäº†ï¼›æˆ‘å½“æ—¶è·Ÿä»–è¯´ï¼Œåªæ€ªå¹´è½»ä¸æ‡‚äº‹å•ŠèŠ±çš„é’±å¤ªè¶…å‰äº†ï¼Œè¦æˆ‘è¯´ä¹Ÿæ˜¯é‚£äº›ç½‘ä¸Šå€Ÿé’±çš„ä¹Ÿæ˜¯ä¸€ä¸ªå‘ï¼›</p>\n<p>å¿«å…¥ 30 çš„è€ wï¼Œè²Œä¼¼è¿›å…¥äº†è¿·èŒ«ï¼Œä»–ä¸æ¸…æ¥šç°åœ¨çš„ä»–é™¤äº†å·¥ä½œèƒ½å¹²ä»€ä¹ˆï¼Œæ²¡æœ‰ä¸€æŠ€ä¹‹é•¿ï¼Œä¹Ÿæ²¡æœ‰ç‰¹åˆ«æ“…é•¿çš„ï¼Œéš¾é“è¯´åªèƒ½é ç€å·¥èµ„æ´»ä¸‹å»å—ï¼Œç°åœ¨æ²¡æœ‰å‹ä¸è¿‡æ°”çš„å±±å³°ï¼Œä½†æ˜¯æƒ³å¯¹å‹åŠ›ä¹Ÿæ˜¯å¾ˆå¤§çš„ï¼Œæ²¡æœ‰å¯¹è±¡ä»–ï¼Œæ²¡æœ‰å­˜æ¬¾çš„ä»–ï¼Œä¹Ÿæ²¡æœ‰æˆ¿å­çš„ä»–ï¼Œè²Œä¼¼è„±ç¦»äº†ç¤¾ä¼šï¼›</p>\n<p>ä¹‹å‰è·Ÿè€ w è¯´äº†è¯´è€å®¶çš„æƒ…å†µï¼Œç°åœ¨çš„è€å®¶é™¤äº†ä¼ ç»Ÿå·¥è‰ºï¼Œç…¤çŸ¿å¼€å‘ç­‰ç¨³å®šå‘å±•ï¼Œä½†æ˜¯æƒ³è¦å¤§åŠ›å‘å±•ç»æµæ˜¯ä¸ªå¾ˆå¤§çš„éš¾é¢˜ï¼Œèµ„æºæ€»æœ‰æ¿’ä¸´åŒ®ä¹çš„æ—¶å€™ï¼Œä¼ ç»Ÿå·¥è‰ºä¹Ÿæœ‰æ–­æ‰¿çš„æ—¶å€™ï¼Œé‚£ä¸ªæ—¶å€™è¯¥æ€ä¹ˆå‘å±•ï¼›è™½ç„¶è¯´ç°åœ¨çš„æ€»ä½“çš„ç»æµå¹¶ä¸å¥½ï¼Œæˆ¿ä»·çš„ä¸‹é™ä¹Ÿæ˜¯æ­£å¥½å¯ä»¥è¯´æ˜å›½å†…çš„ç»æµä¹Ÿè®¸å¹¶ä¸å¥½ï¼Œå¤§ç¯å¢ƒçš„å¡åŠ¨ï¼Œäº’è”ç½‘çš„å‘å±•å·²ç»èµ°å…¥é¥±å’ŒæœŸï¼Œç°åœ¨å‡ºç°äº† ai çš„ç»æµï¼Œai å¸¦æ¥çš„å½±å“ä¹Ÿæ˜¯å¾ˆå¤§çš„ï¼Œéƒ¨åˆ† ai å·²ç»è¿›å…¥äº†äººç±»çš„ç”Ÿæ´»ï¼Œä¹Ÿè®¸åœ¨ä¸ä¹…çš„å°†æ¥æ…¢æ…¢æ›¿ä»£äººã€‚</p>\n<p>æ˜¯å•Šï¼Œç°åœ¨è¿™ç§æƒ…å†µä¸‰æ— æƒ…å†µï¼ŒåæœŸç”Ÿæ´»çš„å‹åŠ›ä¼šå¾ˆå¤§ï¼Œä½†æ˜¯å‹åŠ›å¤§åˆæœ‰ä»€ä¹ˆï¼Œé‚£å°±æ…¢æ…¢çš„æ¥å‘—ï¼Œåæ­£ç°åœ¨çš„ç”Ÿæ´»ä¹Ÿå°±æ˜¯æœ‰æœºä¼šçœ‹çœ‹æœºä¼šæ²¡æœºä¼šé‚£å°±æ…¢æ…¢æŒ£é’±å‘—ï¼›</p>\n<p>ä¸è¿‡ç°åœ¨è¿˜å¥½ï¼Œç”Ÿæ´»å·¥ä½œæ…¢æ…¢æ­¥å…¥æ­£è½¨ï¼Œä¸€åˆ‡éƒ½åœ¨å¾€å¥½çš„æ–¹å‘å‘å±•ï¼Œç°åœ¨çš„æˆ‘åªéœ€è¦ä¿è¯è‡ªå·±çš„çŠ¶æ€å°±å¥½ï¼›</p>\n<p>å‰æ®µæ—¶é—´èº«ä½“å‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯å¾ˆå¤§çš„é—®é¢˜ï¼Œæ˜å¹´æŠ½ä¸ªæ—¶é—´å»å…»å…»èº«ä½“ï¼Œæ€»ä¸èƒ½é’±æ²¡æŒ£åˆ°èº«ä½“å®äº†å§ï¼›</p>\n<p>å›½åº†åˆ°äº†ï¼Œä»Šå¹´ä¹Ÿå°±ä¸å›å»äº†ï¼Œå›å»ä¹Ÿæ²¡å•¥æ„æ€ï¼Œä¹Ÿæ²¡å•¥äº‹ï¼›æ­£å¥½è¶ç€è¿™æ®µæ—¶é—´å¥½å¥½ä¼‘æ¯ï¼Œæ¯•ç«Ÿå‰æ®µæ—¶é—´ä¸€ç›´åŠ ç­ç¡®å®å¾ˆç´¯ï¼›</p>\n<p>ä¹Ÿæ˜¯æ—¶å€™è§„åˆ’è‡ªå·±çš„ç”Ÿæ´»äº†ï¼Œæ¯•ç«Ÿé©¬ä¸Šè¿›å…¥é’å¹´äº†ï¼›</p>\n"},{"title":"ä¸´ç»ˆå‰çš„å›æº¯-ç¬¬å››ç« ï¼šç›¸ç¦»","abbrlink":"f7026e5c","date":"2023-10-08T01:05:01.000Z","_content":"ä¸­è€ƒè¿‡åï¼Œè™½ç„¶æˆ‘ä¹Ÿæ˜¯ç»å¸¸å»æ‰¾å¥¹ç©ï¼Œä½†æ˜¯è‡ªå·±å¿ƒä¸­çš„é‚£ç‚¹æ‹…å¿ƒä¹Ÿæ²¡å’Œå¥¹è®²...\n\næˆ‘ä»¬ç»è¿‡äº†çŸ­æš‚çš„ç›¸ç¦»ï¼Œä»–å»äº†é•¿æ²»ï¼Œ æˆ‘å»äº†é«˜å¹³ï¼Œæ¥ä¸ªä¸åŒçš„æ–¹å‘ï¼Œä¹Ÿè®¸æ„å‘³ç€æˆ‘ä»¬å°†ä¼šåœ¨æŸä¸€ä¸ªèŠ‚ç‚¹å»å¾€ä¸åŒæ–¹å‘çš„äººç”Ÿï¼›\n\nä¹Ÿè®¸ä¹‹å‰çš„å•çº¯æ²¡æœ‰è§åˆ°è¿‡è™šå‡çš„äººç”Ÿï¼Œæ»¡æ˜¯è°£è¨€çš„èƒŒæ™¯ï¼Œç›´åˆ°ä¸Šäº†é«˜ä¸­ï¼Œæˆ‘ä½“ä¼šåˆ°äº†è¿™æ ·çš„æ„Ÿè§‰...\n\né«˜ä¸­ç¢°è§ä¸€å§‘å¨˜ï¼Œä¹Ÿè®¸èƒŒåæœ‰äººæ”’åŠ¨è¿™ä»¶äº‹æƒ…ï¼Œä¹Ÿè®¸æ˜¯è‡ªå·±çš„æƒ…å†µï¼Œå¹¶æ²¡æœ‰æ˜ç¡®è¡¨è¾¾è‡ªèº«è§‚ç‚¹ï¼Œå¯¼è‡´è‡ªå·±ä¸å¥¹æ…¢æ…¢åˆ†å¼€ï¼Œè·ç¦»è¶Šæ¥è¶Šè¿œï¼›\n\nä¹Ÿè®¸ç›´åˆ°ç°åœ¨æ˜¯æˆ‘å¿ƒä¸­ä¸€å¿ƒç»“ï¼Œä¹Ÿè®¸æ˜¯æˆ‘çš„åšä½œå¯¼è‡´è¿™æœ€åçš„ç»“æœï¼›å¦‚æœå½“æ—¶æˆ‘æ€åº¦ç¡®è®¤ä¸€äº›ï¼Œä¸åœ¨é€‰æ‹©æ²‰é»˜ä¹Ÿè®¸ä¸ä¼šè¿™æ ·äº†å§ï¼›\n\né«˜ä¸­ï¼Œæˆ‘ä»¥ä¸ºæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¼€å§‹ï¼Œä½†å…¶å®å¹¶ä¸æ˜¯ï¼Œä¹Ÿè®¸æ˜¯å™©è€—ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç»“æŸï¼›\n\nç°å®çš„æ®‹é…·æ›´è®©æˆ‘ç¼©ç´§é£ç¿¼ï¼Œä¸€ä¸ªå­¦æ ¡çš„ç®¡ç†èƒŒåçš„æ•…äº‹å…¶å®å¹¶ä¸ç®€å•ï¼Œå¯èƒ½è¡¨æ˜æ˜¯åŠå°é—­ç®¡ç†ï¼Œä½†æ˜¯æœ€åç®¡ç†çš„ç»“æœå´å·®å¼ºäººæ„ï¼›å…¶å®å°é—­çš„ä¸æ˜¯äººï¼Œå´é”ä¸ä½é‚£äº›èºåŠ¨çš„å¿ƒï¼›\n\næ ¡å›­æ‰“æ¶ï¼Œæ ¡å›­éœ¸å‡Œï¼ŒæŠ½çƒŸç­‰ç­‰äº‹ä»¶æ›´å¥½çš„è¯´æ˜ä¹Ÿè®¸åŠå°é—­å¹¶ä¸æ˜¯æœ€å¥½çš„ç®¡ç†ï¼›\n\nè¿™ä¹Ÿæ˜¯æˆ‘ç›®ç¹è¿‡çš„ï¼Œå½“æ—¶ä¹Ÿæƒ³ä¸é€šï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ ä¸€ä¸ªé’æ˜¥æœŸèºåŠ¨çš„å¿ƒä»…ä»…é åŠå°é—­å¦‚ä½•ç®¡ç†ï¼Œä¹Ÿè®¸æ˜¯ä¸ªç¬‘è¯ï¼Ÿ\n\né«˜ä¸­æ—¶åˆ»ï¼Œæˆ‘ä¹Ÿé‡åˆ°è¿‡å‡ ä¸ªå§‘å¨˜ï¼Œä¹Ÿè®¸æ¯ä¸ªéƒ½æ˜¯ä¸€ä¸ªæ•…äº‹ï¼Œä½†æ˜¯å¯¹æˆ‘è€Œè¨€å¹¶æ²¡æœ‰é‚£ç§æ„Ÿè§‰ï¼›ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ\n\nä¹Ÿè®¸åœ¨æ²¡æœ‰ç»å†è¿‡çš„äº‹æƒ…ï¼Œæœ‰äººä¸ºä½ ç»å†äº†ä½†æ˜¯è¿™æ˜¯ä¸€ç§ä¸ä¸€æ ·çš„æ„Ÿè§‰ï¼Œä¹Ÿè®¸è¿™æ ·çš„æ„Ÿè§‰å®ƒå°±æ¥äº†ï¼›è¿™å°±æ˜¯ä»–äººæ‰€è¯´çš„ï¼šã€Œæˆ‘æ›¾ç»è§è¿‡ï¼Œæˆ‘ä¹Ÿæ›¾ç»çˆ±è¿‡ã€ã€‚\n\nå¯¹äºé«˜ä¸‰è€Œè¨€ï¼Œä¹Ÿè®¸åˆ«äººå¯¹æˆ‘å¾ˆå¥½ï¼Œå¯èƒ½æˆ‘å¿ƒé‡Œå¹¶ä¸æ˜¯ä¸€æ ·çš„æ„Ÿè§‰ï¼›ä¹Ÿè®¸åœ¨ä¸€èµ·å¾ˆå¥½ï¼Œä½†æ˜¯é‚£ä¸ªæ—¶å€™çš„æˆ‘æ˜¯ä¸æ˜¯æ²¡æœ‰é‚£ä¹ˆå–œæ¬¢å‘¢ï¼Ÿå¿ƒé‡Œæœ‰äº‹å¹¶ä¸æƒ³è¯´æ˜ï¼›\n\nè¿™ä¹Ÿå°±æ˜¯é€ æˆè¯¯ä¼šçš„æœ€å¤§é—®é¢˜ä¹‹ä¸€äº†ï¼Œæ²¡æœ‰äººä¼šé•¿æ—¶é—´ç»å†è¿™æ ·ï¼›\n\né«˜ä¸­ç»“æŸä¹‹åï¼Œåœ¨åˆ«äººçš„å˜´é‡Œå¬åˆ°äº†â€œé“è²Œå²¸äººâ€ç­‰è¯ï¼Œæˆ‘ä¹Ÿä¸ä¼šå†å»è®¡è¾ƒï¼Œå› ä¸ºæˆ‘åªæƒ³ç€èµ¶ç´§ç¦»å¼€ï¼Œç¦»å¼€ä¹‹åå†ç»å†ä¸–äº‹é‡æ–°å›æ¥ï¼Œä¸è¿‡é‡æ–°å›æ¥ä¹Ÿè®¸å°±æ˜¯ä¸ä¸€æ ·çš„æ„Ÿè§‰äº†ï¼›\n\nå¤§å­¦ï¼šå¥¹å»äº†æ²³åŒ—é è¿‘åŒ—äº¬ï¼Œæˆ‘å»äº†å¤ªåŸï¼Œå¤§å­¦ä¹‹åçš„ä¸€æ®µæ—¶é—´ï¼Œæˆ‘æ”¶åˆ°äº†å¥¹çš„ç”µè¯ï¼Œæ˜¯åœ¨æ™šä¸Šï¼Œèˆå‹éƒ½ç¡äº†æˆ‘å»äº†é˜³å°ä¸å¥¹è¯´äº†å¾ˆå¤šä¹ŸèŠäº†å¾ˆå¤šå½“å¹´çš„äº‹æƒ…ï¼Œä¹Ÿè®¸æ˜¯åœ¨åšæœ€åçš„å‘Šåˆ«å§ï¼Œä½†æ˜¯é‚£å¤©æ™šä¸Šä¹‹åï¼Œæˆ‘ä»¬ä¹‹é—´å¹¶æ²¡æœ‰äº†ä»€ä¹ˆè”ç³»äº†ï¼›\n\nä¹Ÿè®¸è¿™ä¹Ÿæ˜¯æˆ‘çš„é—æ†¾å§...\n","source":"_posts/ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/ç›¸ç¦».md","raw":"---\ntitle: ä¸´ç»ˆå‰çš„å›æº¯-ç¬¬å››ç« ï¼šç›¸ç¦»\nabbrlink: f7026e5c\ndate: 2023-10-08 09:05:01\ncategories:\n  - ç”Ÿæ´»æ—¥å¿—\ntags:\n  - å°è¯´\n---\nä¸­è€ƒè¿‡åï¼Œè™½ç„¶æˆ‘ä¹Ÿæ˜¯ç»å¸¸å»æ‰¾å¥¹ç©ï¼Œä½†æ˜¯è‡ªå·±å¿ƒä¸­çš„é‚£ç‚¹æ‹…å¿ƒä¹Ÿæ²¡å’Œå¥¹è®²...\n\næˆ‘ä»¬ç»è¿‡äº†çŸ­æš‚çš„ç›¸ç¦»ï¼Œä»–å»äº†é•¿æ²»ï¼Œ æˆ‘å»äº†é«˜å¹³ï¼Œæ¥ä¸ªä¸åŒçš„æ–¹å‘ï¼Œä¹Ÿè®¸æ„å‘³ç€æˆ‘ä»¬å°†ä¼šåœ¨æŸä¸€ä¸ªèŠ‚ç‚¹å»å¾€ä¸åŒæ–¹å‘çš„äººç”Ÿï¼›\n\nä¹Ÿè®¸ä¹‹å‰çš„å•çº¯æ²¡æœ‰è§åˆ°è¿‡è™šå‡çš„äººç”Ÿï¼Œæ»¡æ˜¯è°£è¨€çš„èƒŒæ™¯ï¼Œç›´åˆ°ä¸Šäº†é«˜ä¸­ï¼Œæˆ‘ä½“ä¼šåˆ°äº†è¿™æ ·çš„æ„Ÿè§‰...\n\né«˜ä¸­ç¢°è§ä¸€å§‘å¨˜ï¼Œä¹Ÿè®¸èƒŒåæœ‰äººæ”’åŠ¨è¿™ä»¶äº‹æƒ…ï¼Œä¹Ÿè®¸æ˜¯è‡ªå·±çš„æƒ…å†µï¼Œå¹¶æ²¡æœ‰æ˜ç¡®è¡¨è¾¾è‡ªèº«è§‚ç‚¹ï¼Œå¯¼è‡´è‡ªå·±ä¸å¥¹æ…¢æ…¢åˆ†å¼€ï¼Œè·ç¦»è¶Šæ¥è¶Šè¿œï¼›\n\nä¹Ÿè®¸ç›´åˆ°ç°åœ¨æ˜¯æˆ‘å¿ƒä¸­ä¸€å¿ƒç»“ï¼Œä¹Ÿè®¸æ˜¯æˆ‘çš„åšä½œå¯¼è‡´è¿™æœ€åçš„ç»“æœï¼›å¦‚æœå½“æ—¶æˆ‘æ€åº¦ç¡®è®¤ä¸€äº›ï¼Œä¸åœ¨é€‰æ‹©æ²‰é»˜ä¹Ÿè®¸ä¸ä¼šè¿™æ ·äº†å§ï¼›\n\né«˜ä¸­ï¼Œæˆ‘ä»¥ä¸ºæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¼€å§‹ï¼Œä½†å…¶å®å¹¶ä¸æ˜¯ï¼Œä¹Ÿè®¸æ˜¯å™©è€—ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç»“æŸï¼›\n\nç°å®çš„æ®‹é…·æ›´è®©æˆ‘ç¼©ç´§é£ç¿¼ï¼Œä¸€ä¸ªå­¦æ ¡çš„ç®¡ç†èƒŒåçš„æ•…äº‹å…¶å®å¹¶ä¸ç®€å•ï¼Œå¯èƒ½è¡¨æ˜æ˜¯åŠå°é—­ç®¡ç†ï¼Œä½†æ˜¯æœ€åç®¡ç†çš„ç»“æœå´å·®å¼ºäººæ„ï¼›å…¶å®å°é—­çš„ä¸æ˜¯äººï¼Œå´é”ä¸ä½é‚£äº›èºåŠ¨çš„å¿ƒï¼›\n\næ ¡å›­æ‰“æ¶ï¼Œæ ¡å›­éœ¸å‡Œï¼ŒæŠ½çƒŸç­‰ç­‰äº‹ä»¶æ›´å¥½çš„è¯´æ˜ä¹Ÿè®¸åŠå°é—­å¹¶ä¸æ˜¯æœ€å¥½çš„ç®¡ç†ï¼›\n\nè¿™ä¹Ÿæ˜¯æˆ‘ç›®ç¹è¿‡çš„ï¼Œå½“æ—¶ä¹Ÿæƒ³ä¸é€šï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ ä¸€ä¸ªé’æ˜¥æœŸèºåŠ¨çš„å¿ƒä»…ä»…é åŠå°é—­å¦‚ä½•ç®¡ç†ï¼Œä¹Ÿè®¸æ˜¯ä¸ªç¬‘è¯ï¼Ÿ\n\né«˜ä¸­æ—¶åˆ»ï¼Œæˆ‘ä¹Ÿé‡åˆ°è¿‡å‡ ä¸ªå§‘å¨˜ï¼Œä¹Ÿè®¸æ¯ä¸ªéƒ½æ˜¯ä¸€ä¸ªæ•…äº‹ï¼Œä½†æ˜¯å¯¹æˆ‘è€Œè¨€å¹¶æ²¡æœ‰é‚£ç§æ„Ÿè§‰ï¼›ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ\n\nä¹Ÿè®¸åœ¨æ²¡æœ‰ç»å†è¿‡çš„äº‹æƒ…ï¼Œæœ‰äººä¸ºä½ ç»å†äº†ä½†æ˜¯è¿™æ˜¯ä¸€ç§ä¸ä¸€æ ·çš„æ„Ÿè§‰ï¼Œä¹Ÿè®¸è¿™æ ·çš„æ„Ÿè§‰å®ƒå°±æ¥äº†ï¼›è¿™å°±æ˜¯ä»–äººæ‰€è¯´çš„ï¼šã€Œæˆ‘æ›¾ç»è§è¿‡ï¼Œæˆ‘ä¹Ÿæ›¾ç»çˆ±è¿‡ã€ã€‚\n\nå¯¹äºé«˜ä¸‰è€Œè¨€ï¼Œä¹Ÿè®¸åˆ«äººå¯¹æˆ‘å¾ˆå¥½ï¼Œå¯èƒ½æˆ‘å¿ƒé‡Œå¹¶ä¸æ˜¯ä¸€æ ·çš„æ„Ÿè§‰ï¼›ä¹Ÿè®¸åœ¨ä¸€èµ·å¾ˆå¥½ï¼Œä½†æ˜¯é‚£ä¸ªæ—¶å€™çš„æˆ‘æ˜¯ä¸æ˜¯æ²¡æœ‰é‚£ä¹ˆå–œæ¬¢å‘¢ï¼Ÿå¿ƒé‡Œæœ‰äº‹å¹¶ä¸æƒ³è¯´æ˜ï¼›\n\nè¿™ä¹Ÿå°±æ˜¯é€ æˆè¯¯ä¼šçš„æœ€å¤§é—®é¢˜ä¹‹ä¸€äº†ï¼Œæ²¡æœ‰äººä¼šé•¿æ—¶é—´ç»å†è¿™æ ·ï¼›\n\né«˜ä¸­ç»“æŸä¹‹åï¼Œåœ¨åˆ«äººçš„å˜´é‡Œå¬åˆ°äº†â€œé“è²Œå²¸äººâ€ç­‰è¯ï¼Œæˆ‘ä¹Ÿä¸ä¼šå†å»è®¡è¾ƒï¼Œå› ä¸ºæˆ‘åªæƒ³ç€èµ¶ç´§ç¦»å¼€ï¼Œç¦»å¼€ä¹‹åå†ç»å†ä¸–äº‹é‡æ–°å›æ¥ï¼Œä¸è¿‡é‡æ–°å›æ¥ä¹Ÿè®¸å°±æ˜¯ä¸ä¸€æ ·çš„æ„Ÿè§‰äº†ï¼›\n\nå¤§å­¦ï¼šå¥¹å»äº†æ²³åŒ—é è¿‘åŒ—äº¬ï¼Œæˆ‘å»äº†å¤ªåŸï¼Œå¤§å­¦ä¹‹åçš„ä¸€æ®µæ—¶é—´ï¼Œæˆ‘æ”¶åˆ°äº†å¥¹çš„ç”µè¯ï¼Œæ˜¯åœ¨æ™šä¸Šï¼Œèˆå‹éƒ½ç¡äº†æˆ‘å»äº†é˜³å°ä¸å¥¹è¯´äº†å¾ˆå¤šä¹ŸèŠäº†å¾ˆå¤šå½“å¹´çš„äº‹æƒ…ï¼Œä¹Ÿè®¸æ˜¯åœ¨åšæœ€åçš„å‘Šåˆ«å§ï¼Œä½†æ˜¯é‚£å¤©æ™šä¸Šä¹‹åï¼Œæˆ‘ä»¬ä¹‹é—´å¹¶æ²¡æœ‰äº†ä»€ä¹ˆè”ç³»äº†ï¼›\n\nä¹Ÿè®¸è¿™ä¹Ÿæ˜¯æˆ‘çš„é—æ†¾å§...\n","slug":"ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/ç›¸ç¦»","published":1,"updated":"2025-03-12T10:11:51.278Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0jc008ofg9m3s5ncl5p","content":"<p>ä¸­è€ƒè¿‡åï¼Œè™½ç„¶æˆ‘ä¹Ÿæ˜¯ç»å¸¸å»æ‰¾å¥¹ç©ï¼Œä½†æ˜¯è‡ªå·±å¿ƒä¸­çš„é‚£ç‚¹æ‹…å¿ƒä¹Ÿæ²¡å’Œå¥¹è®²â€¦</p>\n<p>æˆ‘ä»¬ç»è¿‡äº†çŸ­æš‚çš„ç›¸ç¦»ï¼Œä»–å»äº†é•¿æ²»ï¼Œ æˆ‘å»äº†é«˜å¹³ï¼Œæ¥ä¸ªä¸åŒçš„æ–¹å‘ï¼Œä¹Ÿè®¸æ„å‘³ç€æˆ‘ä»¬å°†ä¼šåœ¨æŸä¸€ä¸ªèŠ‚ç‚¹å»å¾€ä¸åŒæ–¹å‘çš„äººç”Ÿï¼›</p>\n<p>ä¹Ÿè®¸ä¹‹å‰çš„å•çº¯æ²¡æœ‰è§åˆ°è¿‡è™šå‡çš„äººç”Ÿï¼Œæ»¡æ˜¯è°£è¨€çš„èƒŒæ™¯ï¼Œç›´åˆ°ä¸Šäº†é«˜ä¸­ï¼Œæˆ‘ä½“ä¼šåˆ°äº†è¿™æ ·çš„æ„Ÿè§‰â€¦</p>\n<p>é«˜ä¸­ç¢°è§ä¸€å§‘å¨˜ï¼Œä¹Ÿè®¸èƒŒåæœ‰äººæ”’åŠ¨è¿™ä»¶äº‹æƒ…ï¼Œä¹Ÿè®¸æ˜¯è‡ªå·±çš„æƒ…å†µï¼Œå¹¶æ²¡æœ‰æ˜ç¡®è¡¨è¾¾è‡ªèº«è§‚ç‚¹ï¼Œå¯¼è‡´è‡ªå·±ä¸å¥¹æ…¢æ…¢åˆ†å¼€ï¼Œè·ç¦»è¶Šæ¥è¶Šè¿œï¼›</p>\n<p>ä¹Ÿè®¸ç›´åˆ°ç°åœ¨æ˜¯æˆ‘å¿ƒä¸­ä¸€å¿ƒç»“ï¼Œä¹Ÿè®¸æ˜¯æˆ‘çš„åšä½œå¯¼è‡´è¿™æœ€åçš„ç»“æœï¼›å¦‚æœå½“æ—¶æˆ‘æ€åº¦ç¡®è®¤ä¸€äº›ï¼Œä¸åœ¨é€‰æ‹©æ²‰é»˜ä¹Ÿè®¸ä¸ä¼šè¿™æ ·äº†å§ï¼›</p>\n<p>é«˜ä¸­ï¼Œæˆ‘ä»¥ä¸ºæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¼€å§‹ï¼Œä½†å…¶å®å¹¶ä¸æ˜¯ï¼Œä¹Ÿè®¸æ˜¯å™©è€—ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç»“æŸï¼›</p>\n<p>ç°å®çš„æ®‹é…·æ›´è®©æˆ‘ç¼©ç´§é£ç¿¼ï¼Œä¸€ä¸ªå­¦æ ¡çš„ç®¡ç†èƒŒåçš„æ•…äº‹å…¶å®å¹¶ä¸ç®€å•ï¼Œå¯èƒ½è¡¨æ˜æ˜¯åŠå°é—­ç®¡ç†ï¼Œä½†æ˜¯æœ€åç®¡ç†çš„ç»“æœå´å·®å¼ºäººæ„ï¼›å…¶å®å°é—­çš„ä¸æ˜¯äººï¼Œå´é”ä¸ä½é‚£äº›èºåŠ¨çš„å¿ƒï¼›</p>\n<p>æ ¡å›­æ‰“æ¶ï¼Œæ ¡å›­éœ¸å‡Œï¼ŒæŠ½çƒŸç­‰ç­‰äº‹ä»¶æ›´å¥½çš„è¯´æ˜ä¹Ÿè®¸åŠå°é—­å¹¶ä¸æ˜¯æœ€å¥½çš„ç®¡ç†ï¼›</p>\n<p>è¿™ä¹Ÿæ˜¯æˆ‘ç›®ç¹è¿‡çš„ï¼Œå½“æ—¶ä¹Ÿæƒ³ä¸é€šï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ ä¸€ä¸ªé’æ˜¥æœŸèºåŠ¨çš„å¿ƒä»…ä»…é åŠå°é—­å¦‚ä½•ç®¡ç†ï¼Œä¹Ÿè®¸æ˜¯ä¸ªç¬‘è¯ï¼Ÿ</p>\n<p>é«˜ä¸­æ—¶åˆ»ï¼Œæˆ‘ä¹Ÿé‡åˆ°è¿‡å‡ ä¸ªå§‘å¨˜ï¼Œä¹Ÿè®¸æ¯ä¸ªéƒ½æ˜¯ä¸€ä¸ªæ•…äº‹ï¼Œä½†æ˜¯å¯¹æˆ‘è€Œè¨€å¹¶æ²¡æœ‰é‚£ç§æ„Ÿè§‰ï¼›ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ</p>\n<p>ä¹Ÿè®¸åœ¨æ²¡æœ‰ç»å†è¿‡çš„äº‹æƒ…ï¼Œæœ‰äººä¸ºä½ ç»å†äº†ä½†æ˜¯è¿™æ˜¯ä¸€ç§ä¸ä¸€æ ·çš„æ„Ÿè§‰ï¼Œä¹Ÿè®¸è¿™æ ·çš„æ„Ÿè§‰å®ƒå°±æ¥äº†ï¼›è¿™å°±æ˜¯ä»–äººæ‰€è¯´çš„ï¼šã€Œæˆ‘æ›¾ç»è§è¿‡ï¼Œæˆ‘ä¹Ÿæ›¾ç»çˆ±è¿‡ã€ã€‚</p>\n<p>å¯¹äºé«˜ä¸‰è€Œè¨€ï¼Œä¹Ÿè®¸åˆ«äººå¯¹æˆ‘å¾ˆå¥½ï¼Œå¯èƒ½æˆ‘å¿ƒé‡Œå¹¶ä¸æ˜¯ä¸€æ ·çš„æ„Ÿè§‰ï¼›ä¹Ÿè®¸åœ¨ä¸€èµ·å¾ˆå¥½ï¼Œä½†æ˜¯é‚£ä¸ªæ—¶å€™çš„æˆ‘æ˜¯ä¸æ˜¯æ²¡æœ‰é‚£ä¹ˆå–œæ¬¢å‘¢ï¼Ÿå¿ƒé‡Œæœ‰äº‹å¹¶ä¸æƒ³è¯´æ˜ï¼›</p>\n<p>è¿™ä¹Ÿå°±æ˜¯é€ æˆè¯¯ä¼šçš„æœ€å¤§é—®é¢˜ä¹‹ä¸€äº†ï¼Œæ²¡æœ‰äººä¼šé•¿æ—¶é—´ç»å†è¿™æ ·ï¼›</p>\n<p>é«˜ä¸­ç»“æŸä¹‹åï¼Œåœ¨åˆ«äººçš„å˜´é‡Œå¬åˆ°äº†â€œé“è²Œå²¸äººâ€ç­‰è¯ï¼Œæˆ‘ä¹Ÿä¸ä¼šå†å»è®¡è¾ƒï¼Œå› ä¸ºæˆ‘åªæƒ³ç€èµ¶ç´§ç¦»å¼€ï¼Œç¦»å¼€ä¹‹åå†ç»å†ä¸–äº‹é‡æ–°å›æ¥ï¼Œä¸è¿‡é‡æ–°å›æ¥ä¹Ÿè®¸å°±æ˜¯ä¸ä¸€æ ·çš„æ„Ÿè§‰äº†ï¼›</p>\n<p>å¤§å­¦ï¼šå¥¹å»äº†æ²³åŒ—é è¿‘åŒ—äº¬ï¼Œæˆ‘å»äº†å¤ªåŸï¼Œå¤§å­¦ä¹‹åçš„ä¸€æ®µæ—¶é—´ï¼Œæˆ‘æ”¶åˆ°äº†å¥¹çš„ç”µè¯ï¼Œæ˜¯åœ¨æ™šä¸Šï¼Œèˆå‹éƒ½ç¡äº†æˆ‘å»äº†é˜³å°ä¸å¥¹è¯´äº†å¾ˆå¤šä¹ŸèŠäº†å¾ˆå¤šå½“å¹´çš„äº‹æƒ…ï¼Œä¹Ÿè®¸æ˜¯åœ¨åšæœ€åçš„å‘Šåˆ«å§ï¼Œä½†æ˜¯é‚£å¤©æ™šä¸Šä¹‹åï¼Œæˆ‘ä»¬ä¹‹é—´å¹¶æ²¡æœ‰äº†ä»€ä¹ˆè”ç³»äº†ï¼›</p>\n<p>ä¹Ÿè®¸è¿™ä¹Ÿæ˜¯æˆ‘çš„é—æ†¾å§â€¦</p>\n","excerpt":"","more":"<p>ä¸­è€ƒè¿‡åï¼Œè™½ç„¶æˆ‘ä¹Ÿæ˜¯ç»å¸¸å»æ‰¾å¥¹ç©ï¼Œä½†æ˜¯è‡ªå·±å¿ƒä¸­çš„é‚£ç‚¹æ‹…å¿ƒä¹Ÿæ²¡å’Œå¥¹è®²â€¦</p>\n<p>æˆ‘ä»¬ç»è¿‡äº†çŸ­æš‚çš„ç›¸ç¦»ï¼Œä»–å»äº†é•¿æ²»ï¼Œ æˆ‘å»äº†é«˜å¹³ï¼Œæ¥ä¸ªä¸åŒçš„æ–¹å‘ï¼Œä¹Ÿè®¸æ„å‘³ç€æˆ‘ä»¬å°†ä¼šåœ¨æŸä¸€ä¸ªèŠ‚ç‚¹å»å¾€ä¸åŒæ–¹å‘çš„äººç”Ÿï¼›</p>\n<p>ä¹Ÿè®¸ä¹‹å‰çš„å•çº¯æ²¡æœ‰è§åˆ°è¿‡è™šå‡çš„äººç”Ÿï¼Œæ»¡æ˜¯è°£è¨€çš„èƒŒæ™¯ï¼Œç›´åˆ°ä¸Šäº†é«˜ä¸­ï¼Œæˆ‘ä½“ä¼šåˆ°äº†è¿™æ ·çš„æ„Ÿè§‰â€¦</p>\n<p>é«˜ä¸­ç¢°è§ä¸€å§‘å¨˜ï¼Œä¹Ÿè®¸èƒŒåæœ‰äººæ”’åŠ¨è¿™ä»¶äº‹æƒ…ï¼Œä¹Ÿè®¸æ˜¯è‡ªå·±çš„æƒ…å†µï¼Œå¹¶æ²¡æœ‰æ˜ç¡®è¡¨è¾¾è‡ªèº«è§‚ç‚¹ï¼Œå¯¼è‡´è‡ªå·±ä¸å¥¹æ…¢æ…¢åˆ†å¼€ï¼Œè·ç¦»è¶Šæ¥è¶Šè¿œï¼›</p>\n<p>ä¹Ÿè®¸ç›´åˆ°ç°åœ¨æ˜¯æˆ‘å¿ƒä¸­ä¸€å¿ƒç»“ï¼Œä¹Ÿè®¸æ˜¯æˆ‘çš„åšä½œå¯¼è‡´è¿™æœ€åçš„ç»“æœï¼›å¦‚æœå½“æ—¶æˆ‘æ€åº¦ç¡®è®¤ä¸€äº›ï¼Œä¸åœ¨é€‰æ‹©æ²‰é»˜ä¹Ÿè®¸ä¸ä¼šè¿™æ ·äº†å§ï¼›</p>\n<p>é«˜ä¸­ï¼Œæˆ‘ä»¥ä¸ºæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¼€å§‹ï¼Œä½†å…¶å®å¹¶ä¸æ˜¯ï¼Œä¹Ÿè®¸æ˜¯å™©è€—ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç»“æŸï¼›</p>\n<p>ç°å®çš„æ®‹é…·æ›´è®©æˆ‘ç¼©ç´§é£ç¿¼ï¼Œä¸€ä¸ªå­¦æ ¡çš„ç®¡ç†èƒŒåçš„æ•…äº‹å…¶å®å¹¶ä¸ç®€å•ï¼Œå¯èƒ½è¡¨æ˜æ˜¯åŠå°é—­ç®¡ç†ï¼Œä½†æ˜¯æœ€åç®¡ç†çš„ç»“æœå´å·®å¼ºäººæ„ï¼›å…¶å®å°é—­çš„ä¸æ˜¯äººï¼Œå´é”ä¸ä½é‚£äº›èºåŠ¨çš„å¿ƒï¼›</p>\n<p>æ ¡å›­æ‰“æ¶ï¼Œæ ¡å›­éœ¸å‡Œï¼ŒæŠ½çƒŸç­‰ç­‰äº‹ä»¶æ›´å¥½çš„è¯´æ˜ä¹Ÿè®¸åŠå°é—­å¹¶ä¸æ˜¯æœ€å¥½çš„ç®¡ç†ï¼›</p>\n<p>è¿™ä¹Ÿæ˜¯æˆ‘ç›®ç¹è¿‡çš„ï¼Œå½“æ—¶ä¹Ÿæƒ³ä¸é€šï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ ä¸€ä¸ªé’æ˜¥æœŸèºåŠ¨çš„å¿ƒä»…ä»…é åŠå°é—­å¦‚ä½•ç®¡ç†ï¼Œä¹Ÿè®¸æ˜¯ä¸ªç¬‘è¯ï¼Ÿ</p>\n<p>é«˜ä¸­æ—¶åˆ»ï¼Œæˆ‘ä¹Ÿé‡åˆ°è¿‡å‡ ä¸ªå§‘å¨˜ï¼Œä¹Ÿè®¸æ¯ä¸ªéƒ½æ˜¯ä¸€ä¸ªæ•…äº‹ï¼Œä½†æ˜¯å¯¹æˆ‘è€Œè¨€å¹¶æ²¡æœ‰é‚£ç§æ„Ÿè§‰ï¼›ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ</p>\n<p>ä¹Ÿè®¸åœ¨æ²¡æœ‰ç»å†è¿‡çš„äº‹æƒ…ï¼Œæœ‰äººä¸ºä½ ç»å†äº†ä½†æ˜¯è¿™æ˜¯ä¸€ç§ä¸ä¸€æ ·çš„æ„Ÿè§‰ï¼Œä¹Ÿè®¸è¿™æ ·çš„æ„Ÿè§‰å®ƒå°±æ¥äº†ï¼›è¿™å°±æ˜¯ä»–äººæ‰€è¯´çš„ï¼šã€Œæˆ‘æ›¾ç»è§è¿‡ï¼Œæˆ‘ä¹Ÿæ›¾ç»çˆ±è¿‡ã€ã€‚</p>\n<p>å¯¹äºé«˜ä¸‰è€Œè¨€ï¼Œä¹Ÿè®¸åˆ«äººå¯¹æˆ‘å¾ˆå¥½ï¼Œå¯èƒ½æˆ‘å¿ƒé‡Œå¹¶ä¸æ˜¯ä¸€æ ·çš„æ„Ÿè§‰ï¼›ä¹Ÿè®¸åœ¨ä¸€èµ·å¾ˆå¥½ï¼Œä½†æ˜¯é‚£ä¸ªæ—¶å€™çš„æˆ‘æ˜¯ä¸æ˜¯æ²¡æœ‰é‚£ä¹ˆå–œæ¬¢å‘¢ï¼Ÿå¿ƒé‡Œæœ‰äº‹å¹¶ä¸æƒ³è¯´æ˜ï¼›</p>\n<p>è¿™ä¹Ÿå°±æ˜¯é€ æˆè¯¯ä¼šçš„æœ€å¤§é—®é¢˜ä¹‹ä¸€äº†ï¼Œæ²¡æœ‰äººä¼šé•¿æ—¶é—´ç»å†è¿™æ ·ï¼›</p>\n<p>é«˜ä¸­ç»“æŸä¹‹åï¼Œåœ¨åˆ«äººçš„å˜´é‡Œå¬åˆ°äº†â€œé“è²Œå²¸äººâ€ç­‰è¯ï¼Œæˆ‘ä¹Ÿä¸ä¼šå†å»è®¡è¾ƒï¼Œå› ä¸ºæˆ‘åªæƒ³ç€èµ¶ç´§ç¦»å¼€ï¼Œç¦»å¼€ä¹‹åå†ç»å†ä¸–äº‹é‡æ–°å›æ¥ï¼Œä¸è¿‡é‡æ–°å›æ¥ä¹Ÿè®¸å°±æ˜¯ä¸ä¸€æ ·çš„æ„Ÿè§‰äº†ï¼›</p>\n<p>å¤§å­¦ï¼šå¥¹å»äº†æ²³åŒ—é è¿‘åŒ—äº¬ï¼Œæˆ‘å»äº†å¤ªåŸï¼Œå¤§å­¦ä¹‹åçš„ä¸€æ®µæ—¶é—´ï¼Œæˆ‘æ”¶åˆ°äº†å¥¹çš„ç”µè¯ï¼Œæ˜¯åœ¨æ™šä¸Šï¼Œèˆå‹éƒ½ç¡äº†æˆ‘å»äº†é˜³å°ä¸å¥¹è¯´äº†å¾ˆå¤šä¹ŸèŠäº†å¾ˆå¤šå½“å¹´çš„äº‹æƒ…ï¼Œä¹Ÿè®¸æ˜¯åœ¨åšæœ€åçš„å‘Šåˆ«å§ï¼Œä½†æ˜¯é‚£å¤©æ™šä¸Šä¹‹åï¼Œæˆ‘ä»¬ä¹‹é—´å¹¶æ²¡æœ‰äº†ä»€ä¹ˆè”ç³»äº†ï¼›</p>\n<p>ä¹Ÿè®¸è¿™ä¹Ÿæ˜¯æˆ‘çš„é—æ†¾å§â€¦</p>\n"},{"title":"ä¸´ç»ˆå‰çš„å›æº¯-ç¬¬äºŒç« ï¼šç«¥å¹´æ—¶å…‰","abbrlink":"514ce512","date":"2023-10-08T01:05:01.000Z","_content":"å†æ¬¡ççœ¼ï¼Œå‘ç°è‡ªå·±çš„èº«èº¯å°äº†äº›ï¼Œè½¯è½¯ç³¯ç³¯çš„å°æ‰‹åœ¨å…‰è¾‰åœ¨æ˜¾å¾—é‚£ä¹ˆå¯çˆ±ï¼›æ‰å‘ç°è‡ªå·±å›åˆ°äº†ç«¥å¹´ï¼›\n\næ¯ä¸ªå°å­©å„¿éƒ½æœ‰è‡ªå·±ç‰¹æ®Šçš„æˆé•¿å†ç¨‹ï¼Œä¸è°ƒçš®æ²¡æœ‰åƒè¿‡ç«¹ç¬‹ç‚’è‚‰çš„ç«¥å¹´ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç«¥å¹´ï¼›å“å¯¹äºè¿™ä¸ªè¯é¢˜æˆ‘å¯æ˜¯æœ‰å‘è¨€æƒçš„å‘¢;\n\nå°æ—¶å€™å¯¹ä»€ä¹ˆéƒ½å¥½å¥‡ï¼Œå¯¹ä»€ä¹ˆéƒ½å–œæ¬¢ï¼Œå•¥ä¹Ÿä¸æ‡‚çš„å¹´çºªä¹Ÿåƒè¿‡ä¸å°‘çš„äºï¼›\n\nåœ¨æˆ‘å°çš„æ—¶å€™, å®¶é‡Œæœ‰é‚£ç§ç¢³ç«ç‚‰ï¼Œä¸€åˆ°å†¬å¤©å†æ•´ä¿©ä¸ªåœ°ç“œï¼Œé‚£å‘³é“æ˜¯çœŸçš„é¦™ï¼Œå°±æ˜¯å¤ªè¿‡äºè°ƒçš®å¯¹äºç«ç‚‰ä¸Šçš„çƒ§ç«æ£çƒ§äº†è‡ªå·±å˜´è§’ä¸€å—è‚‰ï¼Œåˆ°ç°åœ¨ç–¤ç—•è¿˜åœ¨ï¼Œé‚£ç–¼ç—›æ„Ÿè®©æˆ‘å“­äº†ä¸€å¤©ï¼ŒçŸ¥é“ä¸€ä¸ªçƒ¤åœ°ç“œæ‰è®©æˆ‘ä»ç–¼ç—›æ„Ÿèµ°äº†å‡ºæ¥ï¼›\n\nåœ¨ä¸Šå¹¼å„¿å›­çš„æ—¶å€™ï¼Œæˆ‘æ¸…æ™°çš„è®°å¾—æˆ‘å†™çš„é‚£ä¸ªå­—åœ°æ­£æ–¹åœ†ï¼Œå°±åƒæ˜¯æœºå™¨æ‰“å°å‡ºæ¥ä¼¼çš„ï¼Œé‚£æ®µæ—¶é—´ä¹Ÿæ˜¯æˆ‘æœ€å¼€å¿ƒçš„æ—¶å€™äº†ï¼›é‚£æ®µæ—¶é—´å®¶é‡Œæ“åŠäº†ä¸€ä¸ªå°å–éƒ¨ï¼Œæ¥æ¥å¾€å¾€çš„å®¢äººä¹Ÿæœ‰å¾ˆå¤šï¼Œæ‘é‡Œçš„ï¼Œæ‘å¤–çš„ä»¥åŠå…¶å®ƒçš„é™Œç”Ÿäººï¼Œæˆ‘ä¾ç„¶è®°å¾—æ™šä¸Šå®¶é‡Œçš„å°å–éƒ¨ä¼¼ä¹å°±æ˜¯æœ€çƒ­é—¹çš„åœ°æ–¹äº†ï¼›\n\né‚£æ®µæ—¶é—´ç»å¸¸æœ‰äººä¼šå…³é¡¾ï¼Œæˆ‘å°±è¶´åœ¨æ¡Œå­å‰ï¼Œä¸€äº›çœ‹ç€æˆ‘çš„å”å”é˜¿å§¨ä¹Ÿä¼šç»™æˆ‘å¤¹ç‚¹è‚‰åƒï¼Œå› ä¸ºå¯¹äºåƒè‚‰åœ¨æˆ‘å°æ—¶å€™åŸºæœ¬éƒ½æ˜¯ä¸€ç›†ä¸€ç›†çš„åƒï¼›å°±æ˜¯é‚£ç§è„Šéª¨è‚‰å‰ç¢ä¸€ç‚¹ç±»ä¼¼äºè‚‰å¤¹é¦çš„é‚£ç§è‚‰ï¼Œåœ¨æ•´ä¸€ç‚¹é¦™æ²¹ï¼Œé™ˆé†‹å†æç‚¹é…¸ç„¶åæ‹Œä¸€æ‹Œé‚£ä¸ªå‘³é“çœŸæ˜¯ä¸€ç»!\n\né‚£æ®µæ—¶é—´æˆ‘çœ‹è§æˆ‘çˆ¹ç”¨é‚£ä¸ªæ¯›ç¬”å†™å­—æˆ‘ä¹Ÿè§‰å¾—å¥½å¥‡ï¼Œå› ä¸ºæˆ‘çœ‹ä¸æ‡‚å†™çš„æ˜¯å•¥ï¼ŒçŸ¥é“ç°åœ¨æ‰ä¹‹åé‚£æ˜¯è¡Œè‰ï¼›ä¹‹åæˆ‘æ‰¾åˆ°ä¸€äº›ä¸ç”¨çš„æ¯›ç¬”ï¼Œæˆ‘ä¹Ÿæ¨¡ä»¿ç€æˆ‘çˆ¹çš„åŠ¨ä½œåœ¨åœ°ä¸Šæ¯”åˆ’äº†èµ·æ¥ï¼›é™„è¿‘çš„é‚»å±…æœ‹å‹å¤¸æˆ‘å†™å¾—å¥½ï¼›\n\nå› ä¸ºå°æ—¶å€™ä¹Ÿæ˜¯ä¸€ä¸ªå¥½å¥‡çš„å¹´é¾„ï¼Œæ€»æ˜¯å­¦è¿™å­¦å“ªï¼›åœ¨ç”µè§†ä¸Šçœ‹é‚£äº›æ°¸è¿œå­˜åœ¨äºåä¸–çš„æ–‡å­—ï¼Œæˆ‘å°±åœ¨æƒ³é‚£äº›ä¸œè¥¿æ˜¯æ€ä¹ˆä¿å­˜åˆ°ç°åœ¨çš„å‘¢ï¼Ÿ\n\näºæ˜¯æˆ‘å°±å°è¯•ç€ç”¨çŒªæ²¹+å¢¨æ°´åœ¨å¢™ä¸Šç”»äº†ä¸€å‰¯â€œå–œé¹ŠæŠ¥æ˜¥â€å›¾ï¼Œç»è¿‡å¤šå¹´çš„é£å¹é›¨åˆ°ç°åœ¨ä¹Ÿæ¨¡ç³Šäº†, å°±åƒç°åœ¨çš„è®°å¿†ä¸€æ ·æ¯æ¬¡å›æº¯ä¸€ç‚¹æˆ‘çš„è®°å¿†æ…¢æ…¢çš„æ¨¡ç³Šäº†ï¼›\n\nå°å­¦çš„æ—¶å…‰æ€»æ˜¯ç¾å¥½çš„ï¼Œé‚£æ®µæ—¶å…‰é‡åˆ°äº†ç­ä¸»ä»»-å§¬é™;\n\næ–¯æ˜¯é™‹å®¤æƒŸå¾å¾·é¦¨ï¼Œè¿™å¥è¯æ­£å¥½èƒ½è¯´æ˜æˆ‘å°å­¦ï¼Œè™½ç„¶å¸¦æœ‰å†å²çš„é—æ†¾ï¼Œä½†æ˜¯å¯¹ä¸å†¬å¤©æ¥è®²æ˜¯æˆ‘ä»¬æœ€å¼€å¿ƒçš„æ—¶å…‰äº†ï¼›\n\nå› ä¸ºé‚£ä¸ªå¹´çºªçš„ç”·ç”Ÿæ€ä¹ˆä¼šä¸å–œæ¬¢ç”Ÿç«å‘¢ï¼Ÿ\n\nå› ä¸ºä¸€å¼€å§‹å°±æ˜¯ä¸€ä¸Šåˆçš„æ—¶é—´ï¼Œç»“æœä¸é‡è¦é‡è¦çš„æ˜¯è¿‡ç¨‹ï¼Œè™½ç„¶æ¯ä¸ªäººè„¸ä¸Šä¹Œæ¼†éº»é»‘çš„ï¼Œä½†æ˜¯ç©çš„å¾ˆå¼€å¿ƒå•Šï¼›\n\nè€å¸ˆä¼šç»å¸¸å¸¦ç€æˆ‘ä»¬å»éŸ³ä¹æ•™å®¤å¬æ­Œï¼Œå…¶å®é‚£ä¸ªéŸ³ä¹æ•™å®¤å°±æ˜¯ä¸€é—´å°æˆ¿å­ï¼Œæ­£å¥½èƒ½ç«™ä¸‹æˆ‘ä»¬çš„å¤§å°ï¼Œé‚£æ®µæ—¶é—´ QQ éå¸¸çš„æµè¡Œï¼Œäºæ˜¯å°±è¶ç€æˆ‘çš„çœ¼ç›å¥½å°†è€å¸ˆçš„å·ç è®°äº†å†æ¥ï¼›\n\næˆ‘æœ¬èº«æ˜¯å¯¹å­¦ä¹ ä¸æ„Ÿå…´è¶£çš„ï¼Œå°æ—¶å€™ç»å¸¸è£…ç—…ï¼›å¥½è®°å¾—é‚£ä¹ˆå‡ æ¬¡åœ¨å®¶é‡Œè£…ç—…ç»“æœè€å¸ˆå¸¦ç€å­¦ç”Ÿæ¥çœ‹æœ›æˆ‘ï¼›\n\næ—¶å…‰ä¸€æ™ƒï¼Œå°å­¦ç»“æŸäº†ï¼Œè€å¸ˆä¹Ÿç¦»å¼€äº†å°å­¦...\n","source":"_posts/ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/ç«¥å¹´æ—¶å…‰.md","raw":"---\ntitle: ä¸´ç»ˆå‰çš„å›æº¯-ç¬¬äºŒç« ï¼šç«¥å¹´æ—¶å…‰\nabbrlink: 514ce512\ndate: 2023-10-08 09:05:01\ncategories:\n  - ç”Ÿæ´»æ—¥å¿—\ntags:\n  - å°è¯´\n---\nå†æ¬¡ççœ¼ï¼Œå‘ç°è‡ªå·±çš„èº«èº¯å°äº†äº›ï¼Œè½¯è½¯ç³¯ç³¯çš„å°æ‰‹åœ¨å…‰è¾‰åœ¨æ˜¾å¾—é‚£ä¹ˆå¯çˆ±ï¼›æ‰å‘ç°è‡ªå·±å›åˆ°äº†ç«¥å¹´ï¼›\n\næ¯ä¸ªå°å­©å„¿éƒ½æœ‰è‡ªå·±ç‰¹æ®Šçš„æˆé•¿å†ç¨‹ï¼Œä¸è°ƒçš®æ²¡æœ‰åƒè¿‡ç«¹ç¬‹ç‚’è‚‰çš„ç«¥å¹´ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç«¥å¹´ï¼›å“å¯¹äºè¿™ä¸ªè¯é¢˜æˆ‘å¯æ˜¯æœ‰å‘è¨€æƒçš„å‘¢;\n\nå°æ—¶å€™å¯¹ä»€ä¹ˆéƒ½å¥½å¥‡ï¼Œå¯¹ä»€ä¹ˆéƒ½å–œæ¬¢ï¼Œå•¥ä¹Ÿä¸æ‡‚çš„å¹´çºªä¹Ÿåƒè¿‡ä¸å°‘çš„äºï¼›\n\nåœ¨æˆ‘å°çš„æ—¶å€™, å®¶é‡Œæœ‰é‚£ç§ç¢³ç«ç‚‰ï¼Œä¸€åˆ°å†¬å¤©å†æ•´ä¿©ä¸ªåœ°ç“œï¼Œé‚£å‘³é“æ˜¯çœŸçš„é¦™ï¼Œå°±æ˜¯å¤ªè¿‡äºè°ƒçš®å¯¹äºç«ç‚‰ä¸Šçš„çƒ§ç«æ£çƒ§äº†è‡ªå·±å˜´è§’ä¸€å—è‚‰ï¼Œåˆ°ç°åœ¨ç–¤ç—•è¿˜åœ¨ï¼Œé‚£ç–¼ç—›æ„Ÿè®©æˆ‘å“­äº†ä¸€å¤©ï¼ŒçŸ¥é“ä¸€ä¸ªçƒ¤åœ°ç“œæ‰è®©æˆ‘ä»ç–¼ç—›æ„Ÿèµ°äº†å‡ºæ¥ï¼›\n\nåœ¨ä¸Šå¹¼å„¿å›­çš„æ—¶å€™ï¼Œæˆ‘æ¸…æ™°çš„è®°å¾—æˆ‘å†™çš„é‚£ä¸ªå­—åœ°æ­£æ–¹åœ†ï¼Œå°±åƒæ˜¯æœºå™¨æ‰“å°å‡ºæ¥ä¼¼çš„ï¼Œé‚£æ®µæ—¶é—´ä¹Ÿæ˜¯æˆ‘æœ€å¼€å¿ƒçš„æ—¶å€™äº†ï¼›é‚£æ®µæ—¶é—´å®¶é‡Œæ“åŠäº†ä¸€ä¸ªå°å–éƒ¨ï¼Œæ¥æ¥å¾€å¾€çš„å®¢äººä¹Ÿæœ‰å¾ˆå¤šï¼Œæ‘é‡Œçš„ï¼Œæ‘å¤–çš„ä»¥åŠå…¶å®ƒçš„é™Œç”Ÿäººï¼Œæˆ‘ä¾ç„¶è®°å¾—æ™šä¸Šå®¶é‡Œçš„å°å–éƒ¨ä¼¼ä¹å°±æ˜¯æœ€çƒ­é—¹çš„åœ°æ–¹äº†ï¼›\n\né‚£æ®µæ—¶é—´ç»å¸¸æœ‰äººä¼šå…³é¡¾ï¼Œæˆ‘å°±è¶´åœ¨æ¡Œå­å‰ï¼Œä¸€äº›çœ‹ç€æˆ‘çš„å”å”é˜¿å§¨ä¹Ÿä¼šç»™æˆ‘å¤¹ç‚¹è‚‰åƒï¼Œå› ä¸ºå¯¹äºåƒè‚‰åœ¨æˆ‘å°æ—¶å€™åŸºæœ¬éƒ½æ˜¯ä¸€ç›†ä¸€ç›†çš„åƒï¼›å°±æ˜¯é‚£ç§è„Šéª¨è‚‰å‰ç¢ä¸€ç‚¹ç±»ä¼¼äºè‚‰å¤¹é¦çš„é‚£ç§è‚‰ï¼Œåœ¨æ•´ä¸€ç‚¹é¦™æ²¹ï¼Œé™ˆé†‹å†æç‚¹é…¸ç„¶åæ‹Œä¸€æ‹Œé‚£ä¸ªå‘³é“çœŸæ˜¯ä¸€ç»!\n\né‚£æ®µæ—¶é—´æˆ‘çœ‹è§æˆ‘çˆ¹ç”¨é‚£ä¸ªæ¯›ç¬”å†™å­—æˆ‘ä¹Ÿè§‰å¾—å¥½å¥‡ï¼Œå› ä¸ºæˆ‘çœ‹ä¸æ‡‚å†™çš„æ˜¯å•¥ï¼ŒçŸ¥é“ç°åœ¨æ‰ä¹‹åé‚£æ˜¯è¡Œè‰ï¼›ä¹‹åæˆ‘æ‰¾åˆ°ä¸€äº›ä¸ç”¨çš„æ¯›ç¬”ï¼Œæˆ‘ä¹Ÿæ¨¡ä»¿ç€æˆ‘çˆ¹çš„åŠ¨ä½œåœ¨åœ°ä¸Šæ¯”åˆ’äº†èµ·æ¥ï¼›é™„è¿‘çš„é‚»å±…æœ‹å‹å¤¸æˆ‘å†™å¾—å¥½ï¼›\n\nå› ä¸ºå°æ—¶å€™ä¹Ÿæ˜¯ä¸€ä¸ªå¥½å¥‡çš„å¹´é¾„ï¼Œæ€»æ˜¯å­¦è¿™å­¦å“ªï¼›åœ¨ç”µè§†ä¸Šçœ‹é‚£äº›æ°¸è¿œå­˜åœ¨äºåä¸–çš„æ–‡å­—ï¼Œæˆ‘å°±åœ¨æƒ³é‚£äº›ä¸œè¥¿æ˜¯æ€ä¹ˆä¿å­˜åˆ°ç°åœ¨çš„å‘¢ï¼Ÿ\n\näºæ˜¯æˆ‘å°±å°è¯•ç€ç”¨çŒªæ²¹+å¢¨æ°´åœ¨å¢™ä¸Šç”»äº†ä¸€å‰¯â€œå–œé¹ŠæŠ¥æ˜¥â€å›¾ï¼Œç»è¿‡å¤šå¹´çš„é£å¹é›¨åˆ°ç°åœ¨ä¹Ÿæ¨¡ç³Šäº†, å°±åƒç°åœ¨çš„è®°å¿†ä¸€æ ·æ¯æ¬¡å›æº¯ä¸€ç‚¹æˆ‘çš„è®°å¿†æ…¢æ…¢çš„æ¨¡ç³Šäº†ï¼›\n\nå°å­¦çš„æ—¶å…‰æ€»æ˜¯ç¾å¥½çš„ï¼Œé‚£æ®µæ—¶å…‰é‡åˆ°äº†ç­ä¸»ä»»-å§¬é™;\n\næ–¯æ˜¯é™‹å®¤æƒŸå¾å¾·é¦¨ï¼Œè¿™å¥è¯æ­£å¥½èƒ½è¯´æ˜æˆ‘å°å­¦ï¼Œè™½ç„¶å¸¦æœ‰å†å²çš„é—æ†¾ï¼Œä½†æ˜¯å¯¹ä¸å†¬å¤©æ¥è®²æ˜¯æˆ‘ä»¬æœ€å¼€å¿ƒçš„æ—¶å…‰äº†ï¼›\n\nå› ä¸ºé‚£ä¸ªå¹´çºªçš„ç”·ç”Ÿæ€ä¹ˆä¼šä¸å–œæ¬¢ç”Ÿç«å‘¢ï¼Ÿ\n\nå› ä¸ºä¸€å¼€å§‹å°±æ˜¯ä¸€ä¸Šåˆçš„æ—¶é—´ï¼Œç»“æœä¸é‡è¦é‡è¦çš„æ˜¯è¿‡ç¨‹ï¼Œè™½ç„¶æ¯ä¸ªäººè„¸ä¸Šä¹Œæ¼†éº»é»‘çš„ï¼Œä½†æ˜¯ç©çš„å¾ˆå¼€å¿ƒå•Šï¼›\n\nè€å¸ˆä¼šç»å¸¸å¸¦ç€æˆ‘ä»¬å»éŸ³ä¹æ•™å®¤å¬æ­Œï¼Œå…¶å®é‚£ä¸ªéŸ³ä¹æ•™å®¤å°±æ˜¯ä¸€é—´å°æˆ¿å­ï¼Œæ­£å¥½èƒ½ç«™ä¸‹æˆ‘ä»¬çš„å¤§å°ï¼Œé‚£æ®µæ—¶é—´ QQ éå¸¸çš„æµè¡Œï¼Œäºæ˜¯å°±è¶ç€æˆ‘çš„çœ¼ç›å¥½å°†è€å¸ˆçš„å·ç è®°äº†å†æ¥ï¼›\n\næˆ‘æœ¬èº«æ˜¯å¯¹å­¦ä¹ ä¸æ„Ÿå…´è¶£çš„ï¼Œå°æ—¶å€™ç»å¸¸è£…ç—…ï¼›å¥½è®°å¾—é‚£ä¹ˆå‡ æ¬¡åœ¨å®¶é‡Œè£…ç—…ç»“æœè€å¸ˆå¸¦ç€å­¦ç”Ÿæ¥çœ‹æœ›æˆ‘ï¼›\n\næ—¶å…‰ä¸€æ™ƒï¼Œå°å­¦ç»“æŸäº†ï¼Œè€å¸ˆä¹Ÿç¦»å¼€äº†å°å­¦...\n","slug":"ç”Ÿæ´»æ—¥å¿—/å°è¯´/ä¸´ç»ˆå‰çš„å›æº¯/ç«¥å¹´æ—¶å…‰","published":1,"updated":"2025-03-12T10:11:18.587Z","comments":1,"layout":"post","photos":[],"_id":"cm887h0jg00bgfg9ma3tjgam0","content":"<p>å†æ¬¡ççœ¼ï¼Œå‘ç°è‡ªå·±çš„èº«èº¯å°äº†äº›ï¼Œè½¯è½¯ç³¯ç³¯çš„å°æ‰‹åœ¨å…‰è¾‰åœ¨æ˜¾å¾—é‚£ä¹ˆå¯çˆ±ï¼›æ‰å‘ç°è‡ªå·±å›åˆ°äº†ç«¥å¹´ï¼›</p>\n<p>æ¯ä¸ªå°å­©å„¿éƒ½æœ‰è‡ªå·±ç‰¹æ®Šçš„æˆé•¿å†ç¨‹ï¼Œä¸è°ƒçš®æ²¡æœ‰åƒè¿‡ç«¹ç¬‹ç‚’è‚‰çš„ç«¥å¹´ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç«¥å¹´ï¼›å“å¯¹äºè¿™ä¸ªè¯é¢˜æˆ‘å¯æ˜¯æœ‰å‘è¨€æƒçš„å‘¢;</p>\n<p>å°æ—¶å€™å¯¹ä»€ä¹ˆéƒ½å¥½å¥‡ï¼Œå¯¹ä»€ä¹ˆéƒ½å–œæ¬¢ï¼Œå•¥ä¹Ÿä¸æ‡‚çš„å¹´çºªä¹Ÿåƒè¿‡ä¸å°‘çš„äºï¼›</p>\n<p>åœ¨æˆ‘å°çš„æ—¶å€™, å®¶é‡Œæœ‰é‚£ç§ç¢³ç«ç‚‰ï¼Œä¸€åˆ°å†¬å¤©å†æ•´ä¿©ä¸ªåœ°ç“œï¼Œé‚£å‘³é“æ˜¯çœŸçš„é¦™ï¼Œå°±æ˜¯å¤ªè¿‡äºè°ƒçš®å¯¹äºç«ç‚‰ä¸Šçš„çƒ§ç«æ£çƒ§äº†è‡ªå·±å˜´è§’ä¸€å—è‚‰ï¼Œåˆ°ç°åœ¨ç–¤ç—•è¿˜åœ¨ï¼Œé‚£ç–¼ç—›æ„Ÿè®©æˆ‘å“­äº†ä¸€å¤©ï¼ŒçŸ¥é“ä¸€ä¸ªçƒ¤åœ°ç“œæ‰è®©æˆ‘ä»ç–¼ç—›æ„Ÿèµ°äº†å‡ºæ¥ï¼›</p>\n<p>åœ¨ä¸Šå¹¼å„¿å›­çš„æ—¶å€™ï¼Œæˆ‘æ¸…æ™°çš„è®°å¾—æˆ‘å†™çš„é‚£ä¸ªå­—åœ°æ­£æ–¹åœ†ï¼Œå°±åƒæ˜¯æœºå™¨æ‰“å°å‡ºæ¥ä¼¼çš„ï¼Œé‚£æ®µæ—¶é—´ä¹Ÿæ˜¯æˆ‘æœ€å¼€å¿ƒçš„æ—¶å€™äº†ï¼›é‚£æ®µæ—¶é—´å®¶é‡Œæ“åŠäº†ä¸€ä¸ªå°å–éƒ¨ï¼Œæ¥æ¥å¾€å¾€çš„å®¢äººä¹Ÿæœ‰å¾ˆå¤šï¼Œæ‘é‡Œçš„ï¼Œæ‘å¤–çš„ä»¥åŠå…¶å®ƒçš„é™Œç”Ÿäººï¼Œæˆ‘ä¾ç„¶è®°å¾—æ™šä¸Šå®¶é‡Œçš„å°å–éƒ¨ä¼¼ä¹å°±æ˜¯æœ€çƒ­é—¹çš„åœ°æ–¹äº†ï¼›</p>\n<p>é‚£æ®µæ—¶é—´ç»å¸¸æœ‰äººä¼šå…³é¡¾ï¼Œæˆ‘å°±è¶´åœ¨æ¡Œå­å‰ï¼Œä¸€äº›çœ‹ç€æˆ‘çš„å”å”é˜¿å§¨ä¹Ÿä¼šç»™æˆ‘å¤¹ç‚¹è‚‰åƒï¼Œå› ä¸ºå¯¹äºåƒè‚‰åœ¨æˆ‘å°æ—¶å€™åŸºæœ¬éƒ½æ˜¯ä¸€ç›†ä¸€ç›†çš„åƒï¼›å°±æ˜¯é‚£ç§è„Šéª¨è‚‰å‰ç¢ä¸€ç‚¹ç±»ä¼¼äºè‚‰å¤¹é¦çš„é‚£ç§è‚‰ï¼Œåœ¨æ•´ä¸€ç‚¹é¦™æ²¹ï¼Œé™ˆé†‹å†æç‚¹é…¸ç„¶åæ‹Œä¸€æ‹Œé‚£ä¸ªå‘³é“çœŸæ˜¯ä¸€ç»!</p>\n<p>é‚£æ®µæ—¶é—´æˆ‘çœ‹è§æˆ‘çˆ¹ç”¨é‚£ä¸ªæ¯›ç¬”å†™å­—æˆ‘ä¹Ÿè§‰å¾—å¥½å¥‡ï¼Œå› ä¸ºæˆ‘çœ‹ä¸æ‡‚å†™çš„æ˜¯å•¥ï¼ŒçŸ¥é“ç°åœ¨æ‰ä¹‹åé‚£æ˜¯è¡Œè‰ï¼›ä¹‹åæˆ‘æ‰¾åˆ°ä¸€äº›ä¸ç”¨çš„æ¯›ç¬”ï¼Œæˆ‘ä¹Ÿæ¨¡ä»¿ç€æˆ‘çˆ¹çš„åŠ¨ä½œåœ¨åœ°ä¸Šæ¯”åˆ’äº†èµ·æ¥ï¼›é™„è¿‘çš„é‚»å±…æœ‹å‹å¤¸æˆ‘å†™å¾—å¥½ï¼›</p>\n<p>å› ä¸ºå°æ—¶å€™ä¹Ÿæ˜¯ä¸€ä¸ªå¥½å¥‡çš„å¹´é¾„ï¼Œæ€»æ˜¯å­¦è¿™å­¦å“ªï¼›åœ¨ç”µè§†ä¸Šçœ‹é‚£äº›æ°¸è¿œå­˜åœ¨äºåä¸–çš„æ–‡å­—ï¼Œæˆ‘å°±åœ¨æƒ³é‚£äº›ä¸œè¥¿æ˜¯æ€ä¹ˆä¿å­˜åˆ°ç°åœ¨çš„å‘¢ï¼Ÿ</p>\n<p>äºæ˜¯æˆ‘å°±å°è¯•ç€ç”¨çŒªæ²¹+å¢¨æ°´åœ¨å¢™ä¸Šç”»äº†ä¸€å‰¯â€œå–œé¹ŠæŠ¥æ˜¥â€å›¾ï¼Œç»è¿‡å¤šå¹´çš„é£å¹é›¨åˆ°ç°åœ¨ä¹Ÿæ¨¡ç³Šäº†, å°±åƒç°åœ¨çš„è®°å¿†ä¸€æ ·æ¯æ¬¡å›æº¯ä¸€ç‚¹æˆ‘çš„è®°å¿†æ…¢æ…¢çš„æ¨¡ç³Šäº†ï¼›</p>\n<p>å°å­¦çš„æ—¶å…‰æ€»æ˜¯ç¾å¥½çš„ï¼Œé‚£æ®µæ—¶å…‰é‡åˆ°äº†ç­ä¸»ä»»-å§¬é™;</p>\n<p>æ–¯æ˜¯é™‹å®¤æƒŸå¾å¾·é¦¨ï¼Œè¿™å¥è¯æ­£å¥½èƒ½è¯´æ˜æˆ‘å°å­¦ï¼Œè™½ç„¶å¸¦æœ‰å†å²çš„é—æ†¾ï¼Œä½†æ˜¯å¯¹ä¸å†¬å¤©æ¥è®²æ˜¯æˆ‘ä»¬æœ€å¼€å¿ƒçš„æ—¶å…‰äº†ï¼›</p>\n<p>å› ä¸ºé‚£ä¸ªå¹´çºªçš„ç”·ç”Ÿæ€ä¹ˆä¼šä¸å–œæ¬¢ç”Ÿç«å‘¢ï¼Ÿ</p>\n<p>å› ä¸ºä¸€å¼€å§‹å°±æ˜¯ä¸€ä¸Šåˆçš„æ—¶é—´ï¼Œç»“æœä¸é‡è¦é‡è¦çš„æ˜¯è¿‡ç¨‹ï¼Œè™½ç„¶æ¯ä¸ªäººè„¸ä¸Šä¹Œæ¼†éº»é»‘çš„ï¼Œä½†æ˜¯ç©çš„å¾ˆå¼€å¿ƒå•Šï¼›</p>\n<p>è€å¸ˆä¼šç»å¸¸å¸¦ç€æˆ‘ä»¬å»éŸ³ä¹æ•™å®¤å¬æ­Œï¼Œå…¶å®é‚£ä¸ªéŸ³ä¹æ•™å®¤å°±æ˜¯ä¸€é—´å°æˆ¿å­ï¼Œæ­£å¥½èƒ½ç«™ä¸‹æˆ‘ä»¬çš„å¤§å°ï¼Œé‚£æ®µæ—¶é—´ QQ éå¸¸çš„æµè¡Œï¼Œäºæ˜¯å°±è¶ç€æˆ‘çš„çœ¼ç›å¥½å°†è€å¸ˆçš„å·ç è®°äº†å†æ¥ï¼›</p>\n<p>æˆ‘æœ¬èº«æ˜¯å¯¹å­¦ä¹ ä¸æ„Ÿå…´è¶£çš„ï¼Œå°æ—¶å€™ç»å¸¸è£…ç—…ï¼›å¥½è®°å¾—é‚£ä¹ˆå‡ æ¬¡åœ¨å®¶é‡Œè£…ç—…ç»“æœè€å¸ˆå¸¦ç€å­¦ç”Ÿæ¥çœ‹æœ›æˆ‘ï¼›</p>\n<p>æ—¶å…‰ä¸€æ™ƒï¼Œå°å­¦ç»“æŸäº†ï¼Œè€å¸ˆä¹Ÿç¦»å¼€äº†å°å­¦â€¦</p>\n","excerpt":"","more":"<p>å†æ¬¡ççœ¼ï¼Œå‘ç°è‡ªå·±çš„èº«èº¯å°äº†äº›ï¼Œè½¯è½¯ç³¯ç³¯çš„å°æ‰‹åœ¨å…‰è¾‰åœ¨æ˜¾å¾—é‚£ä¹ˆå¯çˆ±ï¼›æ‰å‘ç°è‡ªå·±å›åˆ°äº†ç«¥å¹´ï¼›</p>\n<p>æ¯ä¸ªå°å­©å„¿éƒ½æœ‰è‡ªå·±ç‰¹æ®Šçš„æˆé•¿å†ç¨‹ï¼Œä¸è°ƒçš®æ²¡æœ‰åƒè¿‡ç«¹ç¬‹ç‚’è‚‰çš„ç«¥å¹´ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç«¥å¹´ï¼›å“å¯¹äºè¿™ä¸ªè¯é¢˜æˆ‘å¯æ˜¯æœ‰å‘è¨€æƒçš„å‘¢;</p>\n<p>å°æ—¶å€™å¯¹ä»€ä¹ˆéƒ½å¥½å¥‡ï¼Œå¯¹ä»€ä¹ˆéƒ½å–œæ¬¢ï¼Œå•¥ä¹Ÿä¸æ‡‚çš„å¹´çºªä¹Ÿåƒè¿‡ä¸å°‘çš„äºï¼›</p>\n<p>åœ¨æˆ‘å°çš„æ—¶å€™, å®¶é‡Œæœ‰é‚£ç§ç¢³ç«ç‚‰ï¼Œä¸€åˆ°å†¬å¤©å†æ•´ä¿©ä¸ªåœ°ç“œï¼Œé‚£å‘³é“æ˜¯çœŸçš„é¦™ï¼Œå°±æ˜¯å¤ªè¿‡äºè°ƒçš®å¯¹äºç«ç‚‰ä¸Šçš„çƒ§ç«æ£çƒ§äº†è‡ªå·±å˜´è§’ä¸€å—è‚‰ï¼Œåˆ°ç°åœ¨ç–¤ç—•è¿˜åœ¨ï¼Œé‚£ç–¼ç—›æ„Ÿè®©æˆ‘å“­äº†ä¸€å¤©ï¼ŒçŸ¥é“ä¸€ä¸ªçƒ¤åœ°ç“œæ‰è®©æˆ‘ä»ç–¼ç—›æ„Ÿèµ°äº†å‡ºæ¥ï¼›</p>\n<p>åœ¨ä¸Šå¹¼å„¿å›­çš„æ—¶å€™ï¼Œæˆ‘æ¸…æ™°çš„è®°å¾—æˆ‘å†™çš„é‚£ä¸ªå­—åœ°æ­£æ–¹åœ†ï¼Œå°±åƒæ˜¯æœºå™¨æ‰“å°å‡ºæ¥ä¼¼çš„ï¼Œé‚£æ®µæ—¶é—´ä¹Ÿæ˜¯æˆ‘æœ€å¼€å¿ƒçš„æ—¶å€™äº†ï¼›é‚£æ®µæ—¶é—´å®¶é‡Œæ“åŠäº†ä¸€ä¸ªå°å–éƒ¨ï¼Œæ¥æ¥å¾€å¾€çš„å®¢äººä¹Ÿæœ‰å¾ˆå¤šï¼Œæ‘é‡Œçš„ï¼Œæ‘å¤–çš„ä»¥åŠå…¶å®ƒçš„é™Œç”Ÿäººï¼Œæˆ‘ä¾ç„¶è®°å¾—æ™šä¸Šå®¶é‡Œçš„å°å–éƒ¨ä¼¼ä¹å°±æ˜¯æœ€çƒ­é—¹çš„åœ°æ–¹äº†ï¼›</p>\n<p>é‚£æ®µæ—¶é—´ç»å¸¸æœ‰äººä¼šå…³é¡¾ï¼Œæˆ‘å°±è¶´åœ¨æ¡Œå­å‰ï¼Œä¸€äº›çœ‹ç€æˆ‘çš„å”å”é˜¿å§¨ä¹Ÿä¼šç»™æˆ‘å¤¹ç‚¹è‚‰åƒï¼Œå› ä¸ºå¯¹äºåƒè‚‰åœ¨æˆ‘å°æ—¶å€™åŸºæœ¬éƒ½æ˜¯ä¸€ç›†ä¸€ç›†çš„åƒï¼›å°±æ˜¯é‚£ç§è„Šéª¨è‚‰å‰ç¢ä¸€ç‚¹ç±»ä¼¼äºè‚‰å¤¹é¦çš„é‚£ç§è‚‰ï¼Œåœ¨æ•´ä¸€ç‚¹é¦™æ²¹ï¼Œé™ˆé†‹å†æç‚¹é…¸ç„¶åæ‹Œä¸€æ‹Œé‚£ä¸ªå‘³é“çœŸæ˜¯ä¸€ç»!</p>\n<p>é‚£æ®µæ—¶é—´æˆ‘çœ‹è§æˆ‘çˆ¹ç”¨é‚£ä¸ªæ¯›ç¬”å†™å­—æˆ‘ä¹Ÿè§‰å¾—å¥½å¥‡ï¼Œå› ä¸ºæˆ‘çœ‹ä¸æ‡‚å†™çš„æ˜¯å•¥ï¼ŒçŸ¥é“ç°åœ¨æ‰ä¹‹åé‚£æ˜¯è¡Œè‰ï¼›ä¹‹åæˆ‘æ‰¾åˆ°ä¸€äº›ä¸ç”¨çš„æ¯›ç¬”ï¼Œæˆ‘ä¹Ÿæ¨¡ä»¿ç€æˆ‘çˆ¹çš„åŠ¨ä½œåœ¨åœ°ä¸Šæ¯”åˆ’äº†èµ·æ¥ï¼›é™„è¿‘çš„é‚»å±…æœ‹å‹å¤¸æˆ‘å†™å¾—å¥½ï¼›</p>\n<p>å› ä¸ºå°æ—¶å€™ä¹Ÿæ˜¯ä¸€ä¸ªå¥½å¥‡çš„å¹´é¾„ï¼Œæ€»æ˜¯å­¦è¿™å­¦å“ªï¼›åœ¨ç”µè§†ä¸Šçœ‹é‚£äº›æ°¸è¿œå­˜åœ¨äºåä¸–çš„æ–‡å­—ï¼Œæˆ‘å°±åœ¨æƒ³é‚£äº›ä¸œè¥¿æ˜¯æ€ä¹ˆä¿å­˜åˆ°ç°åœ¨çš„å‘¢ï¼Ÿ</p>\n<p>äºæ˜¯æˆ‘å°±å°è¯•ç€ç”¨çŒªæ²¹+å¢¨æ°´åœ¨å¢™ä¸Šç”»äº†ä¸€å‰¯â€œå–œé¹ŠæŠ¥æ˜¥â€å›¾ï¼Œç»è¿‡å¤šå¹´çš„é£å¹é›¨åˆ°ç°åœ¨ä¹Ÿæ¨¡ç³Šäº†, å°±åƒç°åœ¨çš„è®°å¿†ä¸€æ ·æ¯æ¬¡å›æº¯ä¸€ç‚¹æˆ‘çš„è®°å¿†æ…¢æ…¢çš„æ¨¡ç³Šäº†ï¼›</p>\n<p>å°å­¦çš„æ—¶å…‰æ€»æ˜¯ç¾å¥½çš„ï¼Œé‚£æ®µæ—¶å…‰é‡åˆ°äº†ç­ä¸»ä»»-å§¬é™;</p>\n<p>æ–¯æ˜¯é™‹å®¤æƒŸå¾å¾·é¦¨ï¼Œè¿™å¥è¯æ­£å¥½èƒ½è¯´æ˜æˆ‘å°å­¦ï¼Œè™½ç„¶å¸¦æœ‰å†å²çš„é—æ†¾ï¼Œä½†æ˜¯å¯¹ä¸å†¬å¤©æ¥è®²æ˜¯æˆ‘ä»¬æœ€å¼€å¿ƒçš„æ—¶å…‰äº†ï¼›</p>\n<p>å› ä¸ºé‚£ä¸ªå¹´çºªçš„ç”·ç”Ÿæ€ä¹ˆä¼šä¸å–œæ¬¢ç”Ÿç«å‘¢ï¼Ÿ</p>\n<p>å› ä¸ºä¸€å¼€å§‹å°±æ˜¯ä¸€ä¸Šåˆçš„æ—¶é—´ï¼Œç»“æœä¸é‡è¦é‡è¦çš„æ˜¯è¿‡ç¨‹ï¼Œè™½ç„¶æ¯ä¸ªäººè„¸ä¸Šä¹Œæ¼†éº»é»‘çš„ï¼Œä½†æ˜¯ç©çš„å¾ˆå¼€å¿ƒå•Šï¼›</p>\n<p>è€å¸ˆä¼šç»å¸¸å¸¦ç€æˆ‘ä»¬å»éŸ³ä¹æ•™å®¤å¬æ­Œï¼Œå…¶å®é‚£ä¸ªéŸ³ä¹æ•™å®¤å°±æ˜¯ä¸€é—´å°æˆ¿å­ï¼Œæ­£å¥½èƒ½ç«™ä¸‹æˆ‘ä»¬çš„å¤§å°ï¼Œé‚£æ®µæ—¶é—´ QQ éå¸¸çš„æµè¡Œï¼Œäºæ˜¯å°±è¶ç€æˆ‘çš„çœ¼ç›å¥½å°†è€å¸ˆçš„å·ç è®°äº†å†æ¥ï¼›</p>\n<p>æˆ‘æœ¬èº«æ˜¯å¯¹å­¦ä¹ ä¸æ„Ÿå…´è¶£çš„ï¼Œå°æ—¶å€™ç»å¸¸è£…ç—…ï¼›å¥½è®°å¾—é‚£ä¹ˆå‡ æ¬¡åœ¨å®¶é‡Œè£…ç—…ç»“æœè€å¸ˆå¸¦ç€å­¦ç”Ÿæ¥çœ‹æœ›æˆ‘ï¼›</p>\n<p>æ—¶å…‰ä¸€æ™ƒï¼Œå°å­¦ç»“æŸäº†ï¼Œè€å¸ˆä¹Ÿç¦»å¼€äº†å°å­¦â€¦</p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cm887h0im0001fg9m6nopb44r","category_id":"cm887h0io0004fg9ma7thhi0x","_id":"cm887h0ir000ffg9mgho7ca9k"},{"post_id":"cm887h0io0003fg9m73kk16a9","category_id":"cm887h0io0004fg9ma7thhi0x","_id":"cm887h0is000kfg9mbb2d3snt"},{"post_id":"cm887h0ip0006fg9m5nnvdcz7","category_id":"cm887h0ir000efg9ma54mdijw","_id":"cm887h0it000qfg9m5hth5hj0"},{"post_id":"cm887h0is000nfg9mfh7w0bc1","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0it000wfg9mczb2epzd"},{"post_id":"cm887h0ip0007fg9md3g0bdtn","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0it0010fg9m3fb60qmo"},{"post_id":"cm887h0is000pfg9m4u059p3c","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0iu0013fg9mhwwh2xus"},{"post_id":"cm887h0it000tfg9m4lhtcohg","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0iu0016fg9matdpe2z3"},{"post_id":"cm887h0iq0008fg9m6t5qedb7","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0iu001afg9m83t49upu"},{"post_id":"cm887h0it000vfg9m18g09gif","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0iu001efg9mckqkg1e9"},{"post_id":"cm887h0it000zfg9m6vmx15z7","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0iv001ifg9mhj7m6rcl"},{"post_id":"cm887h0ir000cfg9mbl9cdeef","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0iv001mfg9m2gdoedda"},{"post_id":"cm887h0it0012fg9m4egldg2e","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0iv001qfg9mfk0afc3l"},{"post_id":"cm887h0iu0015fg9mgki96l8k","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0iv001sfg9m511chmgw"},{"post_id":"cm887h0ir000dfg9m6ejv74ui","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0iw001wfg9mb40xh51g"},{"post_id":"cm887h0iu0019fg9mgsxfffof","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0iw001yfg9meh7x6421"},{"post_id":"cm887h0iu001dfg9mgzn4af8q","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0iw0022fg9m9yjm2n3k"},{"post_id":"cm887h0ir000hfg9mfym17mtc","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0iw0024fg9m3scg06ej"},{"post_id":"cm887h0iu001hfg9mciihfy57","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0iw0028fg9ma88lhvx1"},{"post_id":"cm887h0iv001lfg9me3uvdxct","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0ix002afg9mg5q3a9mw"},{"post_id":"cm887h0is000jfg9mgzk90fbt","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0ix002efg9mgtze0c4k"},{"post_id":"cm887h0iv001pfg9m061h1yjm","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0ix002hfg9ma5ll83en"},{"post_id":"cm887h0iv001rfg9mdmn24f8g","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0ix002lfg9m2v41befr"},{"post_id":"cm887h0iw001vfg9m7xuggqbt","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0ix002ofg9m5c1oc2sh"},{"post_id":"cm887h0iw001xfg9m5i2t6v89","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0iy002sfg9m3rw61kjg"},{"post_id":"cm887h0iw0021fg9m1o0u1fty","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0iy002vfg9mdwgdes9a"},{"post_id":"cm887h0iw0023fg9mdnnh9fxk","category_id":"cm887h0is000lfg9m73316x8v","_id":"cm887h0iy0030fg9mgmpafujw"},{"post_id":"cm887h0iw0027fg9mc2o15ynw","category_id":"cm887h0ir000efg9ma54mdijw","_id":"cm887h0iy0033fg9m03oaecz3"},{"post_id":"cm887h0iw0029fg9mej5c0er9","category_id":"cm887h0ir000efg9ma54mdijw","_id":"cm887h0iy0038fg9m6vs37h9a"},{"post_id":"cm887h0ix002dfg9m5iha2mrc","category_id":"cm887h0ir000efg9ma54mdijw","_id":"cm887h0iz003bfg9mcl24c0uu"},{"post_id":"cm887h0ix002gfg9m904u44au","category_id":"cm887h0ir000efg9ma54mdijw","_id":"cm887h0iz003gfg9mgsho4rq5"},{"post_id":"cm887h0ix002kfg9m01lzgtgg","category_id":"cm887h0ir000efg9ma54mdijw","_id":"cm887h0iz003jfg9m6v5ehtu6"},{"post_id":"cm887h0ix002nfg9masalcsu2","category_id":"cm887h0ir000efg9ma54mdijw","_id":"cm887h0iz003mfg9m4wmuevtg"},{"post_id":"cm887h0iy0032fg9mao6ifol9","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0iz003pfg9mapu1f2h4"},{"post_id":"cm887h0ix002rfg9mb7ed7kjo","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j0003sfg9m7ui36bwn"},{"post_id":"cm887h0iy0036fg9m1rgz3cgn","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j0003vfg9mggl56d5m"},{"post_id":"cm887h0iy003afg9mdo05f5oh","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j0003yfg9mas5pg5a2"},{"post_id":"cm887h0iy002ufg9mbgar81lv","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j00041fg9m5bwghhlu"},{"post_id":"cm887h0iz003efg9m9x4zareg","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j00044fg9mcueo1by3"},{"post_id":"cm887h0iz003ifg9m498l9j1d","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j10047fg9m8naoavuw"},{"post_id":"cm887h0iy002zfg9m2bk52pd1","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j1004afg9m4tzt5m7w"},{"post_id":"cm887h0iz003lfg9mc0xf3pui","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j1004dfg9mb4afaem7"},{"post_id":"cm887h0iz003ofg9m817c6z08","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j1004gfg9m7bas8bhi"},{"post_id":"cm887h0j0003rfg9mcvtpewhd","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j1004jfg9m0nfc3wpy"},{"post_id":"cm887h0j0003ufg9mdnjwek8v","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j2004mfg9majjpgxfy"},{"post_id":"cm887h0j0003xfg9mecrc2esz","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j2004pfg9m3tar8jar"},{"post_id":"cm887h0j00040fg9m8nwj7tz4","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j2004sfg9mhr36c721"},{"post_id":"cm887h0j00043fg9mgxd9hvjb","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j2004vfg9me0wvcl2f"},{"post_id":"cm887h0j00046fg9m1y1yhh6k","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j2004yfg9mbxbx4df3"},{"post_id":"cm887h0j10049fg9m55pgblq5","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j30051fg9mgrl8exzh"},{"post_id":"cm887h0j1004cfg9m5jjbed8c","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j30055fg9m2243bjgz"},{"post_id":"cm887h0j1004ffg9m0bbygyxf","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j30058fg9me89x48z3"},{"post_id":"cm887h0j1004ifg9md19ye2zo","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j3005cfg9m0nojcqae"},{"post_id":"cm887h0j2004lfg9m7kmb7x8a","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j3005ffg9m4qfqab0i"},{"post_id":"cm887h0j2004ofg9mdpe02cnp","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j4005jfg9memxga8da"},{"post_id":"cm887h0j2004rfg9m8ire5nk3","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j4005mfg9mapkwecn5"},{"post_id":"cm887h0j2004ufg9mho0u47si","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j4005pfg9ma0yv5xep"},{"post_id":"cm887h0j30057fg9m7bsscwkx","category_id":"cm887h0j30052fg9m7a395o9o","_id":"cm887h0j4005sfg9mb33f1gti"},{"post_id":"cm887h0j2004xfg9m1yjf5w6h","category_id":"cm887h0j30052fg9m7a395o9o","_id":"cm887h0j4005vfg9mdp0lfdh0"},{"post_id":"cm887h0j3005afg9m12666xqn","category_id":"cm887h0j30052fg9m7a395o9o","_id":"cm887h0j5005yfg9m1zu66ndc"},{"post_id":"cm887h0j3005efg9m9vbc16pc","category_id":"cm887h0j30052fg9m7a395o9o","_id":"cm887h0j50061fg9m3rsxd2j3"},{"post_id":"cm887h0j20050fg9m02yq4rj3","category_id":"cm887h0j30052fg9m7a395o9o","_id":"cm887h0j50064fg9merbbcarw"},{"post_id":"cm887h0j3005hfg9mcloc3qaf","category_id":"cm887h0j30052fg9m7a395o9o","_id":"cm887h0j50067fg9m01sle215"},{"post_id":"cm887h0j4005lfg9mchq8bxwd","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j6006afg9m3lve68st"},{"post_id":"cm887h0j30054fg9m9ue66cz9","category_id":"cm887h0j30052fg9m7a395o9o","_id":"cm887h0j6006dfg9m2x2fb71b"},{"post_id":"cm887h0j4005ofg9magqq1uyj","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j6006gfg9m22xl0xw8"},{"post_id":"cm887h0j4005rfg9m9i41dj61","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j6006jfg9m7ezue5zb"},{"post_id":"cm887h0j4005ufg9m6irxc4r4","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j7006mfg9merq79ssy"},{"post_id":"cm887h0j4005xfg9mghpgdqug","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j7006pfg9m1wu25lwr"},{"post_id":"cm887h0j50060fg9m4edsgnvc","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j7006sfg9mfs876g38"},{"post_id":"cm887h0j50063fg9mgsc47y36","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j7006ufg9m0cmn1tl2"},{"post_id":"cm887h0j50066fg9mbmup6432","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j8006yfg9mf9x4bdgi"},{"post_id":"cm887h0j60069fg9m1nhs313z","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j80070fg9m46qsbmyb"},{"post_id":"cm887h0j6006cfg9mdzqbg6a3","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j80074fg9m77hz9um2"},{"post_id":"cm887h0j6006ffg9mblqb00rz","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j80076fg9m7ieie25u"},{"post_id":"cm887h0j6006ifg9m6jq2dniv","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j9007afg9mep3bgdey"},{"post_id":"cm887h0j6006lfg9mdl6kfej9","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j9007cfg9m325egu2c"},{"post_id":"cm887h0j7006ofg9m3joedpbt","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j9007gfg9mblow1000"},{"post_id":"cm887h0j7006rfg9m8pg4fque","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0j9007ifg9m27c93k3p"},{"post_id":"cm887h0j7006tfg9m6txb6dyg","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0ja007mfg9m99k76d8w"},{"post_id":"cm887h0j7006xfg9m8fn63dzs","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0ja007ofg9md6r59dg3"},{"post_id":"cm887h0j8006zfg9mh61fbuh4","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0ja007rfg9mau7k67rg"},{"post_id":"cm887h0j80073fg9ma3rsg448","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0ja007ufg9m5c5pdyea"},{"post_id":"cm887h0j80075fg9mfgd9abkv","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0ja007xfg9ma2azfk8v"},{"post_id":"cm887h0j90079fg9m525z0ny1","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0jb0080fg9m49ifhfke"},{"post_id":"cm887h0j9007bfg9m45j4e1al","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0jb0083fg9mfl73fadu"},{"post_id":"cm887h0j9007ffg9m8vvd3k8k","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0jb0086fg9melq3cvvn"},{"post_id":"cm887h0j9007hfg9m9mef8n10","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0jb008afg9m4btafwl4"},{"post_id":"cm887h0ja007lfg9m8gdl1as3","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0jb008dfg9magle5og4"},{"post_id":"cm887h0ja007nfg9mg7dad3l6","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0jc008gfg9mbxneakr9"},{"post_id":"cm887h0ja007qfg9m07gk8pvi","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0jc008jfg9mhmyt173q"},{"post_id":"cm887h0ja007tfg9mcds39sze","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0jc008mfg9m30lv8c5a"},{"post_id":"cm887h0ja007wfg9mahsybot3","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0jd008pfg9macnu0hq0"},{"post_id":"cm887h0jb007zfg9m1ces4h49","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0jd008rfg9mcq1q7ihu"},{"post_id":"cm887h0jb0082fg9m5zgm6yha","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0jd008tfg9m0gke7s0n"},{"post_id":"cm887h0jb0085fg9m17uy8sdv","category_id":"cm887h0iy002xfg9m4j8l6vgw","_id":"cm887h0jd008vfg9m7ini0ssb"},{"post_id":"cm887h0jb0089fg9m7i9q9h1t","category_id":"cm887h0j30052fg9m7a395o9o","_id":"cm887h0jd008xfg9mg6z21alf"},{"post_id":"cm887h0jb008cfg9m51ebajwv","category_id":"cm887h0j30052fg9m7a395o9o","_id":"cm887h0jd008zfg9ma49s1bgr"},{"post_id":"cm887h0jc008ffg9m8hrd7ehs","category_id":"cm887h0j30052fg9m7a395o9o","_id":"cm887h0jd0091fg9m0hqo8vgw"},{"post_id":"cm887h0jc008ifg9m7yri2y28","category_id":"cm887h0j30052fg9m7a395o9o","_id":"cm887h0jd0093fg9mahd4cl2r"},{"post_id":"cm887h0jc008lfg9m5f1s8eu8","category_id":"cm887h0j30052fg9m7a395o9o","_id":"cm887h0jd0095fg9m9c20fkzr"},{"post_id":"cm887h0jc008ofg9m3s5ncl5p","category_id":"cm887h0j30052fg9m7a395o9o","_id":"cm887h0jd0097fg9mh7osar10"},{"post_id":"cm887h0jg00bgfg9ma3tjgam0","category_id":"cm887h0j30052fg9m7a395o9o","_id":"cm887h0jj00bifg9meammf4g3"}],"PostTag":[{"post_id":"cm887h0im0001fg9m6nopb44r","tag_id":"cm887h0ip0005fg9m18sf9ozj","_id":"cm887h0ir000bfg9m5crs79b3"},{"post_id":"cm887h0io0003fg9m73kk16a9","tag_id":"cm887h0iq000afg9mekxdapjf","_id":"cm887h0is000ifg9mfjkp10ad"},{"post_id":"cm887h0ip0006fg9m5nnvdcz7","tag_id":"cm887h0ir000gfg9m9ffffjlt","_id":"cm887h0is000ofg9mhdhmcbvt"},{"post_id":"cm887h0ip0007fg9md3g0bdtn","tag_id":"cm887h0is000mfg9mazl78e5v","_id":"cm887h0it000ufg9m4w54c6so"},{"post_id":"cm887h0iq0008fg9m6t5qedb7","tag_id":"cm887h0is000mfg9mazl78e5v","_id":"cm887h0it0011fg9m7uwp405o"},{"post_id":"cm887h0it0012fg9m4egldg2e","tag_id":"cm887h0it000yfg9meb8zgum8","_id":"cm887h0iu0018fg9m5e5y1hsu"},{"post_id":"cm887h0ir000cfg9mbl9cdeef","tag_id":"cm887h0it000yfg9meb8zgum8","_id":"cm887h0iu001cfg9mf48j2ajf"},{"post_id":"cm887h0iu0015fg9mgki96l8k","tag_id":"cm887h0it000yfg9meb8zgum8","_id":"cm887h0iu001gfg9m00po5i4l"},{"post_id":"cm887h0ir000dfg9m6ejv74ui","tag_id":"cm887h0it000yfg9meb8zgum8","_id":"cm887h0iv001kfg9m73fnhqxm"},{"post_id":"cm887h0ir000hfg9mfym17mtc","tag_id":"cm887h0it000yfg9meb8zgum8","_id":"cm887h0iv001ofg9max43829c"},{"post_id":"cm887h0is000jfg9mgzk90fbt","tag_id":"cm887h0it000yfg9meb8zgum8","_id":"cm887h0iv001ufg9macixbglq"},{"post_id":"cm887h0is000nfg9mfh7w0bc1","tag_id":"cm887h0it000yfg9meb8zgum8","_id":"cm887h0iw0020fg9m34vj8an4"},{"post_id":"cm887h0is000pfg9m4u059p3c","tag_id":"cm887h0it000yfg9meb8zgum8","_id":"cm887h0iw0026fg9m6segdocd"},{"post_id":"cm887h0iw0027fg9mc2o15ynw","tag_id":"cm887h0ir000gfg9m9ffffjlt","_id":"cm887h0ix002cfg9mfaowbp8h"},{"post_id":"cm887h0it000tfg9m4lhtcohg","tag_id":"cm887h0it000yfg9meb8zgum8","_id":"cm887h0ix002ffg9ma4l997ah"},{"post_id":"cm887h0iw0029fg9mej5c0er9","tag_id":"cm887h0ir000gfg9m9ffffjlt","_id":"cm887h0ix002jfg9m9f894n8v"},{"post_id":"cm887h0ix002dfg9m5iha2mrc","tag_id":"cm887h0ir000gfg9m9ffffjlt","_id":"cm887h0ix002mfg9m09ot5x6i"},{"post_id":"cm887h0it000vfg9m18g09gif","tag_id":"cm887h0it000yfg9meb8zgum8","_id":"cm887h0ix002qfg9m6htrcwc7"},{"post_id":"cm887h0ix002gfg9m904u44au","tag_id":"cm887h0ir000gfg9m9ffffjlt","_id":"cm887h0iy002tfg9m9020adgg"},{"post_id":"cm887h0ix002kfg9m01lzgtgg","tag_id":"cm887h0ir000gfg9m9ffffjlt","_id":"cm887h0iy002yfg9mf1i90u2d"},{"post_id":"cm887h0it000zfg9m6vmx15z7","tag_id":"cm887h0it000yfg9meb8zgum8","_id":"cm887h0iy0031fg9m4u6pdugj"},{"post_id":"cm887h0ix002nfg9masalcsu2","tag_id":"cm887h0ir000gfg9m9ffffjlt","_id":"cm887h0iy0035fg9mcv50aljr"},{"post_id":"cm887h0iu0019fg9mgsxfffof","tag_id":"cm887h0ix002pfg9m79sr6lk0","_id":"cm887h0iy0039fg9m7qqjglsb"},{"post_id":"cm887h0iu001dfg9mgzn4af8q","tag_id":"cm887h0ix002pfg9m79sr6lk0","_id":"cm887h0iz003dfg9m5jok0nzo"},{"post_id":"cm887h0iu001hfg9mciihfy57","tag_id":"cm887h0ix002pfg9m79sr6lk0","_id":"cm887h0iz003hfg9m8ix9c222"},{"post_id":"cm887h0iv001lfg9me3uvdxct","tag_id":"cm887h0ix002pfg9m79sr6lk0","_id":"cm887h0iz003nfg9mem228h6n"},{"post_id":"cm887h0iv001pfg9m061h1yjm","tag_id":"cm887h0ix002pfg9m79sr6lk0","_id":"cm887h0j0003tfg9m4tap00wg"},{"post_id":"cm887h0iv001rfg9mdmn24f8g","tag_id":"cm887h0ix002pfg9m79sr6lk0","_id":"cm887h0j0003zfg9m4d8m50jo"},{"post_id":"cm887h0iw001vfg9m7xuggqbt","tag_id":"cm887h0ix002pfg9m79sr6lk0","_id":"cm887h0j00045fg9m0rxg1bbl"},{"post_id":"cm887h0iw001xfg9m5i2t6v89","tag_id":"cm887h0ix002pfg9m79sr6lk0","_id":"cm887h0j1004bfg9m0r3rdgar"},{"post_id":"cm887h0iw0021fg9m1o0u1fty","tag_id":"cm887h0ix002pfg9m79sr6lk0","_id":"cm887h0j1004hfg9m5haj1lcz"},{"post_id":"cm887h0iw0023fg9mdnnh9fxk","tag_id":"cm887h0ix002pfg9m79sr6lk0","_id":"cm887h0j2004nfg9m05u7cfl1"},{"post_id":"cm887h0ix002rfg9mb7ed7kjo","tag_id":"cm887h0j1004kfg9mdz2ccvez","_id":"cm887h0j2004tfg9m4npzghle"},{"post_id":"cm887h0iy002ufg9mbgar81lv","tag_id":"cm887h0j2004qfg9mapr7g6rd","_id":"cm887h0j2004zfg9mbszwhjpt"},{"post_id":"cm887h0iy002zfg9m2bk52pd1","tag_id":"cm887h0j2004qfg9mapr7g6rd","_id":"cm887h0j30056fg9m7xbecj6b"},{"post_id":"cm887h0iy0032fg9mao6ifol9","tag_id":"cm887h0j2004qfg9mapr7g6rd","_id":"cm887h0j3005dfg9mby2k6e1t"},{"post_id":"cm887h0iy0036fg9m1rgz3cgn","tag_id":"cm887h0j2004qfg9mapr7g6rd","_id":"cm887h0j4005kfg9m9x24fu4o"},{"post_id":"cm887h0iy003afg9mdo05f5oh","tag_id":"cm887h0j2004qfg9mapr7g6rd","_id":"cm887h0j4005qfg9maxx4bgdj"},{"post_id":"cm887h0iz003efg9m9x4zareg","tag_id":"cm887h0j2004qfg9mapr7g6rd","_id":"cm887h0j4005wfg9mfnj7dwoq"},{"post_id":"cm887h0iz003ifg9m498l9j1d","tag_id":"cm887h0j2004qfg9mapr7g6rd","_id":"cm887h0j50062fg9m8v7he9v2"},{"post_id":"cm887h0iz003lfg9mc0xf3pui","tag_id":"cm887h0j2004qfg9mapr7g6rd","_id":"cm887h0j60068fg9m63sh6pen"},{"post_id":"cm887h0iz003ofg9m817c6z08","tag_id":"cm887h0j2004qfg9mapr7g6rd","_id":"cm887h0j6006efg9m4iqlezdd"},{"post_id":"cm887h0j0003rfg9mcvtpewhd","tag_id":"cm887h0j2004qfg9mapr7g6rd","_id":"cm887h0j6006kfg9m1m4k5kls"},{"post_id":"cm887h0j0003ufg9mdnjwek8v","tag_id":"cm887h0j2004qfg9mapr7g6rd","_id":"cm887h0j7006qfg9m0cji5a5z"},{"post_id":"cm887h0j0003xfg9mecrc2esz","tag_id":"cm887h0j7006nfg9maosx28qn","_id":"cm887h0j7006wfg9mhlj30f4h"},{"post_id":"cm887h0j00040fg9m8nwj7tz4","tag_id":"cm887h0j7006nfg9maosx28qn","_id":"cm887h0j80072fg9m6orp8sf5"},{"post_id":"cm887h0j00043fg9mgxd9hvjb","tag_id":"cm887h0j7006nfg9maosx28qn","_id":"cm887h0j90078fg9me31k3plf"},{"post_id":"cm887h0j00046fg9m1y1yhh6k","tag_id":"cm887h0j7006nfg9maosx28qn","_id":"cm887h0j9007efg9m8ovh383p"},{"post_id":"cm887h0j10049fg9m55pgblq5","tag_id":"cm887h0j7006nfg9maosx28qn","_id":"cm887h0ja007kfg9m4d7n42wt"},{"post_id":"cm887h0j1004cfg9m5jjbed8c","tag_id":"cm887h0j9007jfg9m9q32amu1","_id":"cm887h0ja007sfg9m1l4mcv7v"},{"post_id":"cm887h0j1004ffg9m0bbygyxf","tag_id":"cm887h0j9007jfg9m9q32amu1","_id":"cm887h0ja007yfg9md9fgewp4"},{"post_id":"cm887h0j1004ifg9md19ye2zo","tag_id":"cm887h0j9007jfg9m9q32amu1","_id":"cm887h0jb0084fg9m3f8pf7rl"},{"post_id":"cm887h0jb007zfg9m1ces4h49","tag_id":"cm887h0j7006nfg9maosx28qn","_id":"cm887h0jb0087fg9m3zxv5b81"},{"post_id":"cm887h0j2004lfg9m7kmb7x8a","tag_id":"cm887h0jb0081fg9mgslf6kej","_id":"cm887h0jb008bfg9mdq0x8qum"},{"post_id":"cm887h0j2004ofg9mdpe02cnp","tag_id":"cm887h0jb0081fg9mgslf6kej","_id":"cm887h0jc008hfg9m47lb5rfx"},{"post_id":"cm887h0j2004rfg9m8ire5nk3","tag_id":"cm887h0jb0081fg9mgslf6kej","_id":"cm887h0jc008nfg9m9vqmhchg"},{"post_id":"cm887h0j2004ufg9mho0u47si","tag_id":"cm887h0jb0081fg9mgslf6kej","_id":"cm887h0jd008sfg9mfcvdcpml"},{"post_id":"cm887h0j2004xfg9m1yjf5w6h","tag_id":"cm887h0jd008qfg9m1o5pchlt","_id":"cm887h0jd008wfg9m9yyyhljq"},{"post_id":"cm887h0j20050fg9m02yq4rj3","tag_id":"cm887h0jd008qfg9m1o5pchlt","_id":"cm887h0jd0090fg9mgtjzghry"},{"post_id":"cm887h0j30054fg9m9ue66cz9","tag_id":"cm887h0jd008qfg9m1o5pchlt","_id":"cm887h0jd0094fg9mgy0xg6t7"},{"post_id":"cm887h0j30057fg9m7bsscwkx","tag_id":"cm887h0jd008qfg9m1o5pchlt","_id":"cm887h0jd0098fg9maxpmdts0"},{"post_id":"cm887h0j3005afg9m12666xqn","tag_id":"cm887h0jd0096fg9maj1c8oms","_id":"cm887h0jd009afg9m7437d25q"},{"post_id":"cm887h0j3005efg9m9vbc16pc","tag_id":"cm887h0jd008qfg9m1o5pchlt","_id":"cm887h0jd009cfg9mbh01cvd7"},{"post_id":"cm887h0j3005hfg9mcloc3qaf","tag_id":"cm887h0jd008qfg9m1o5pchlt","_id":"cm887h0jd009efg9m0z053hnt"},{"post_id":"cm887h0j4005lfg9mchq8bxwd","tag_id":"cm887h0jd009dfg9m1lt78369","_id":"cm887h0jd009gfg9m344mecj1"},{"post_id":"cm887h0j4005ofg9magqq1uyj","tag_id":"cm887h0jd009ffg9m8g1n3emj","_id":"cm887h0je009ifg9m355b7epl"},{"post_id":"cm887h0j4005rfg9m9i41dj61","tag_id":"cm887h0jd009dfg9m1lt78369","_id":"cm887h0je009kfg9m3nvtb5h6"},{"post_id":"cm887h0j4005ufg9m6irxc4r4","tag_id":"cm887h0jd009dfg9m1lt78369","_id":"cm887h0je009mfg9mb05ihirr"},{"post_id":"cm887h0j4005xfg9mghpgdqug","tag_id":"cm887h0jd009dfg9m1lt78369","_id":"cm887h0je009ofg9mccjf4clb"},{"post_id":"cm887h0j50060fg9m4edsgnvc","tag_id":"cm887h0jd009dfg9m1lt78369","_id":"cm887h0je009qfg9m4imb4m8l"},{"post_id":"cm887h0j50063fg9mgsc47y36","tag_id":"cm887h0jd009dfg9m1lt78369","_id":"cm887h0je009sfg9mhoeggzs8"},{"post_id":"cm887h0j50066fg9mbmup6432","tag_id":"cm887h0jd009dfg9m1lt78369","_id":"cm887h0je009ufg9m0lbsaf4z"},{"post_id":"cm887h0j60069fg9m1nhs313z","tag_id":"cm887h0jd009dfg9m1lt78369","_id":"cm887h0je009wfg9m3r924nqt"},{"post_id":"cm887h0j6006cfg9mdzqbg6a3","tag_id":"cm887h0jd009dfg9m1lt78369","_id":"cm887h0je009yfg9mhkck676l"},{"post_id":"cm887h0j6006ffg9mblqb00rz","tag_id":"cm887h0jd009dfg9m1lt78369","_id":"cm887h0je00a0fg9mgpxzdsoa"},{"post_id":"cm887h0j6006ifg9m6jq2dniv","tag_id":"cm887h0jd009dfg9m1lt78369","_id":"cm887h0je00a2fg9m1bde4udg"},{"post_id":"cm887h0j6006lfg9mdl6kfej9","tag_id":"cm887h0jd009dfg9m1lt78369","_id":"cm887h0je00a4fg9maq0yass7"},{"post_id":"cm887h0j7006ofg9m3joedpbt","tag_id":"cm887h0jd009dfg9m1lt78369","_id":"cm887h0je00a6fg9m0tmtemj5"},{"post_id":"cm887h0j7006rfg9m8pg4fque","tag_id":"cm887h0jd009dfg9m1lt78369","_id":"cm887h0je00a8fg9m6lhr2jmp"},{"post_id":"cm887h0j7006tfg9m6txb6dyg","tag_id":"cm887h0je00a7fg9m608ibxfu","_id":"cm887h0je00aafg9m3tqigzga"},{"post_id":"cm887h0j7006xfg9m8fn63dzs","tag_id":"cm887h0je00a7fg9m608ibxfu","_id":"cm887h0je00acfg9mb68e8csn"},{"post_id":"cm887h0j8006zfg9mh61fbuh4","tag_id":"cm887h0je00a7fg9m608ibxfu","_id":"cm887h0jf00aefg9m5z1x3x1x"},{"post_id":"cm887h0j80073fg9ma3rsg448","tag_id":"cm887h0je00a7fg9m608ibxfu","_id":"cm887h0jf00agfg9m7ewe8a0r"},{"post_id":"cm887h0j80075fg9mfgd9abkv","tag_id":"cm887h0je00a7fg9m608ibxfu","_id":"cm887h0jf00aifg9m1m0w3ots"},{"post_id":"cm887h0j90079fg9m525z0ny1","tag_id":"cm887h0je00a7fg9m608ibxfu","_id":"cm887h0jf00akfg9meejn2b6f"},{"post_id":"cm887h0j9007bfg9m45j4e1al","tag_id":"cm887h0je00a7fg9m608ibxfu","_id":"cm887h0jf00amfg9m84yoc9rl"},{"post_id":"cm887h0j9007ffg9m8vvd3k8k","tag_id":"cm887h0je00a7fg9m608ibxfu","_id":"cm887h0jf00aofg9m5c3a4fmz"},{"post_id":"cm887h0j9007hfg9m9mef8n10","tag_id":"cm887h0je00a7fg9m608ibxfu","_id":"cm887h0jf00aqfg9mczeacgn2"},{"post_id":"cm887h0ja007lfg9m8gdl1as3","tag_id":"cm887h0je00a7fg9m608ibxfu","_id":"cm887h0jf00asfg9mdw4r0a44"},{"post_id":"cm887h0ja007nfg9mg7dad3l6","tag_id":"cm887h0je00a7fg9m608ibxfu","_id":"cm887h0jf00aufg9m62tv96t9"},{"post_id":"cm887h0ja007qfg9m07gk8pvi","tag_id":"cm887h0je00a7fg9m608ibxfu","_id":"cm887h0jf00awfg9mcg0i36o4"},{"post_id":"cm887h0ja007tfg9mcds39sze","tag_id":"cm887h0je00a7fg9m608ibxfu","_id":"cm887h0jf00ayfg9mhvkhcqih"},{"post_id":"cm887h0ja007wfg9mahsybot3","tag_id":"cm887h0je00a7fg9m608ibxfu","_id":"cm887h0jf00b0fg9m3zmk8ilp"},{"post_id":"cm887h0jb0082fg9m5zgm6yha","tag_id":"cm887h0je00a7fg9m608ibxfu","_id":"cm887h0jf00b2fg9mghlaa44c"},{"post_id":"cm887h0jb0085fg9m17uy8sdv","tag_id":"cm887h0je00a7fg9m608ibxfu","_id":"cm887h0jf00b4fg9mbs3ccykx"},{"post_id":"cm887h0jb0089fg9m7i9q9h1t","tag_id":"cm887h0jf00b3fg9m7lxq0muq","_id":"cm887h0jf00b6fg9m6mxve2dn"},{"post_id":"cm887h0jb008cfg9m51ebajwv","tag_id":"cm887h0jf00b3fg9m7lxq0muq","_id":"cm887h0jg00b8fg9mf8x03tyv"},{"post_id":"cm887h0jc008ffg9m8hrd7ehs","tag_id":"cm887h0jf00b3fg9m7lxq0muq","_id":"cm887h0jg00bafg9mgntm0ofg"},{"post_id":"cm887h0jc008ifg9m7yri2y28","tag_id":"cm887h0jf00b3fg9m7lxq0muq","_id":"cm887h0jg00bcfg9mfaaj01pw"},{"post_id":"cm887h0jc008lfg9m5f1s8eu8","tag_id":"cm887h0jf00b3fg9m7lxq0muq","_id":"cm887h0jg00befg9m8bwa08s8"},{"post_id":"cm887h0jc008ofg9m3s5ncl5p","tag_id":"cm887h0jf00b3fg9m7lxq0muq","_id":"cm887h0jg00bffg9m4k7o0ezc"},{"post_id":"cm887h0jg00bgfg9ma3tjgam0","tag_id":"cm887h0jf00b3fg9m7lxq0muq","_id":"cm887h0jg00bhfg9m7xky3spp"}],"Tag":[{"name":"å…³äºåšä¸»","_id":"cm887h0ip0005fg9m18sf9ozj"},{"name":"å‡çº§æ—¥å¿—","_id":"cm887h0iq000afg9mekxdapjf"},{"name":"é¡¹ç›®","_id":"cm887h0ir000gfg9m9ffffjlt"},{"name":"ä¸ªäººæ€»ç»“","_id":"cm887h0is000mfg9mazl78e5v"},{"name":"æŠ€æœ¯è°ƒç ”","_id":"cm887h0it000yfg9meb8zgum8"},{"name":"å·¥ä½œå†…å®¹","_id":"cm887h0ix002pfg9m79sr6lk0"},{"name":"Html","_id":"cm887h0j1004kfg9mdz2ccvez"},{"name":"Nest","_id":"cm887h0j2004qfg9mapr7g6rd"},{"name":"Vue","_id":"cm887h0j7006nfg9maosx28qn"},{"name":"å¤‡å¿˜å½•","_id":"cm887h0j9007jfg9m9q32amu1"},{"name":"æœåŠ¡å™¨/è¿è¥","_id":"cm887h0jb0081fg9mgslf6kej"},{"name":"ç”Ÿæ´»","_id":"cm887h0jd008qfg9m1o5pchlt"},{"name":"æ‘„å½±","_id":"cm887h0jd0096fg9maj1c8oms"},{"name":"JavaScript","_id":"cm887h0jd009dfg9m1lt78369"},{"name":"Css","_id":"cm887h0jd009ffg9m8g1n3emj"},{"name":"å·¥ç¨‹åŒ–","_id":"cm887h0je00a7fg9m608ibxfu"},{"name":"å°è¯´","_id":"cm887h0jf00b3fg9m7lxq0muq"}]}}